/*! For license information please see main.3dd1e0688575b3da042a.js.LICENSE.txt */
!function(){var e,t,n,r,i={44:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});const r={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4}},48:function(e,t,n){"use strict";n.d(t,{H:function(){return o},V:function(){return i}});var r=n(58842);function i(e,t,n=r.A){return t||(t=new n),t===e||(t.removeAll(),(i=e)&&(Array.isArray(i)||"items"in i&&Array.isArray(i.items))?t.addMany(e):e&&t.add(e)),t;var i}function o(e){return e}},85:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(1,arguments);var n=(0,i.default)(e),r=(0,o.default)(n,t).getTime()-(0,s.default)(n,t).getTime();return Math.round(r/l)+1};var i=r(n(95039)),o=r(n(20930)),s=r(n(69799)),a=r(n(10427)),l=6048e5;e.exports=t.default},103:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(75906),l=n(36903);let c=r=class extends a.A{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)),this._set("stops",e)}clone(){return new r({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((e=>e.clone())),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};(0,i._)([(0,o.MZ)({readOnly:!0})],c.prototype,"cache",null),(0,i._)([(0,o.MZ)({type:["color"],json:{type:["colorInfo"]}})],c.prototype,"type",void 0),(0,i._)([(0,o.MZ)({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0),(0,i._)([(0,o.MZ)({type:[l.A],json:{write:!0}})],c.prototype,"stops",null),c=r=(0,i._)([(0,s.$)("esri.renderers.visualVariables.ColorVariable")],c)},241:function(e,t,n){"use strict";var r=n(41917).A.Symbol;t.A=r},266:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(27805);class i extends r.R{constructor(e,t){super(e,t,"webmap")}}},311:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],o=t.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];return{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(i.length)}}},e.exports=t.default},486:function(e,t,n){"use strict";n.d(t,{CW:function(){return h},pH:function(){return g}});var r=n(6273),i=n(80861),o=n(4506),s=n(37623),a=n(67498),l=n(8e3),c=n(67488);const u=()=>i.A.getLogger("esri.views.2d.engine.flow.dataUtils"),d=10;async function h(e,t,n,i){const o=performance.now(),l=p(t,n),c=performance.now(),h=m(t,l,n.width,n.height),f=performance.now(),y=function(e,t){const n=new a.A,r=e.reduce(((e,t)=>e+t.length),0),i=new Float32Array(4*r),o=new Array(e.length);let s=0,l=0;for(const r of e){const e=s;for(const e of r)i[4*s]=e.x,i[4*s+1]=e.y,i[4*s+2]=e.t,i[4*s+3]=e.speed,s++;o[l++]={startVertex:e,numberOfVertices:r.length,totalTime:r[r.length-1].t,timeSeed:t?n.getFloat():0}}return{lineVertices:i,lineDescriptors:o}}(h,!0),g=performance.now(),v="Streamlines"===e?function(e,t){const n=9,{lineVertices:r,lineDescriptors:i}=e;let o=0,s=0;for(const e of i)o+=2*e.numberOfVertices,s+=6*(e.numberOfVertices-1);const a=new Float32Array(o*n),l=new Uint32Array(s);let c=0,u=0;function d(){l[u++]=c-2,l[u++]=c,l[u++]=c-1,l[u++]=c,l[u++]=c+1,l[u++]=c-1}function h(e,t,r,i,o,s,l,u){const d=c*n;let h=0;a[d+h++]=e,a[d+h++]=t,a[d+h++]=1,a[d+h++]=r,a[d+h++]=s,a[d+h++]=l,a[d+h++]=i/2,a[d+h++]=o/2,a[d+h++]=u,c++,a[d+h++]=e,a[d+h++]=t,a[d+h++]=-1,a[d+h++]=r,a[d+h++]=s,a[d+h++]=l,a[d+h++]=-i/2,a[d+h++]=-o/2,a[d+h++]=u,c++}for(const e of i){const{totalTime:n,timeSeed:i}=e;let o=null,s=null,a=null,l=null,c=null,u=null;for(let p=0;p<e.numberOfVertices;p++){const f=r[4*(e.startVertex+p)],m=r[4*(e.startVertex+p)+1],y=r[4*(e.startVertex+p)+2],g=r[4*(e.startVertex+p)+3];let v=null,b=null,w=null,_=null;if(p>0){v=f-o,b=m-s;const e=Math.sqrt(v*v+b*b);if(v/=e,b/=e,p>1){let e=v+c,n=b+u;const r=Math.sqrt(e*e+n*n);e/=r,n/=r;const i=Math.min(1/(e*v+n*b),t);e*=i,n*=i,w=-n,_=e}else w=-b,_=v;null!==w&&null!==_&&(h(o,s,a,w,_,n,i,g),d())}o=f,s=m,a=y,c=v,u=b,l=g}h(o,s,a,-u,c,n,i,l)}return{vertexData:a,indexData:l}}(y,d):function(e){const t=16,n=1,r=2,{lineVertices:i,lineDescriptors:o}=e;let s=0,a=0;for(const e of o){const t=e.numberOfVertices-1;s+=4*t*2,a+=6*t*2}const l=new Float32Array(s*t),c=new Uint32Array(a);let u,d,h,p,f,m,y,g,v,b,w,_,S,x,M=0,A=0;function T(){c[A++]=M-8,c[A++]=M-7,c[A++]=M-6,c[A++]=M-7,c[A++]=M-5,c[A++]=M-6,c[A++]=M-4,c[A++]=M-3,c[A++]=M-2,c[A++]=M-3,c[A++]=M-1,c[A++]=M-2}function I(e,i,o,s,a,c,u,d,h,p,f,m,y,g){const v=M*t;let b=0;for(const t of[n,r])for(const n of[1,2,3,4])l[v+b++]=e,l[v+b++]=i,l[v+b++]=o,l[v+b++]=s,l[v+b++]=u,l[v+b++]=d,l[v+b++]=h,l[v+b++]=p,l[v+b++]=t,l[v+b++]=n,l[v+b++]=y,l[v+b++]=g,l[v+b++]=a/2,l[v+b++]=c/2,l[v+b++]=f/2,l[v+b++]=m/2,M++}function C(e,t){let n=v+w,r=b+_;const i=Math.sqrt(n*n+r*r);n/=i,r/=i;const o=v*n+b*r;n/=o,r/=o;let s=w+S,a=_+x;const l=Math.sqrt(s*s+a*a);s/=l,a/=l;const c=w*s+_*a;s/=c,a/=c,I(u,d,h,p,-r,n,f,m,y,g,-a,s,e,t),T()}function E(e,t,n,r,i,o){if(v=w,b=_,w=S,_=x,null==v&&null==b&&(v=w,b=_),null!=f&&null!=m){S=e-f,x=t-m;const n=Math.sqrt(S*S+x*x);S/=n,x/=n}null!=v&&null!=b&&C(i,o),u=f,d=m,h=y,p=g,f=e,m=t,y=n,g=r}function k(e,t){v=w,b=_,w=S,_=x,null==v&&null==b&&(v=w,b=_),null!=v&&null!=b&&C(e,t)}for(const e of o){u=null,d=null,h=null,p=null,f=null,m=null,y=null,g=null,v=null,b=null,w=null,_=null,S=null,x=null;const{totalTime:t,timeSeed:n}=e;for(let r=0;r<e.numberOfVertices;r++)E(i[4*(e.startVertex+r)],i[4*(e.startVertex+r)+1],i[4*(e.startVertex+r)+2],i[4*(e.startVertex+r)+3],t,n);k(t,n)}return{vertexData:l,indexData:c}}(y),b=performance.now();return(0,r.A)("esri-2d-profiler")&&(u().info("I.1","_createFlowFieldFromData (ms)",Math.round(c-o)),u().info("I.2","_getStreamlines (ms)",Math.round(f-c)),u().info("I.3","createAnimatedLinesData (ms)",Math.round(g-f)),u().info("I.4","create{Streamlines|Particles}Mesh (ms)",Math.round(b-g)),u().info("I.5","createFlowMesh (ms)",Math.round(b-o)),u().info("I.6","Mesh size (bytes)",v.vertexData.buffer.byteLength+v.indexData.buffer.byteLength)),await Promise.resolve(),(0,s.Te)(i),v}function p(e,t){const n=function(e,t,n,r){if(0===r)return e;const i=Math.round(3*r),o=new Array(2*i+1);let s=0;for(let e=-i;e<=i;e++){const t=Math.exp(-e*e/(r*r));o[e+i]=t,s+=t}for(let e=-i;e<=i;e++)o[e+i]/=s;const a=new Float32Array(e.length);for(let r=0;r<n;r++)for(let n=0;n<t;n++){let s=0,l=0;for(let a=-i;a<=i;a++){if(n+a<0||n+a>=t)continue;const c=o[a+i];s+=c*e[2*(r*t+(n+a))],l+=c*e[2*(r*t+(n+a))+1]}a[2*(r*t+n)]=s,a[2*(r*t+n)+1]=l}const l=new Float32Array(e.length);for(let e=0;e<t;e++)for(let r=0;r<n;r++){let s=0,c=0;for(let l=-i;l<=i;l++){if(r+l<0||r+l>=n)continue;const u=o[l+i];s+=u*a[2*((r+l)*t+e)],c+=u*a[2*((r+l)*t+e)+1]}l[2*(r*t+e)]=s,l[2*(r*t+e)+1]=c}return l}(t.data,t.width,t.height,e.smoothing);return e.interpolate?(e,r)=>{const i=Math.floor(e),o=Math.floor(r);if(i<0||i>=t.width)return[0,0];if(o<0||o>=t.height)return[0,0];const s=e-i,a=r-o,l=i,c=o,u=i<t.width-1?i+1:i,d=o<t.height-1?o+1:o,h=n[2*(c*t.width+l)],p=n[2*(c*t.width+u)],f=n[2*(d*t.width+l)],m=n[2*(d*t.width+u)],y=n[2*(c*t.width+l)+1],g=n[2*(c*t.width+u)+1];return[(h*(1-a)+f*a)*(1-s)+(p*(1-a)+m*a)*s,(y*(1-a)+n[2*(d*t.width+l)+1]*a)*(1-s)+(g*(1-a)+n[2*(d*t.width+u)+1]*a)*s]}:(e,r)=>{const i=Math.round(e),o=Math.round(r);return i<0||i>=t.width||o<0||o>=t.height?[0,0]:[n[2*(o*t.width+i)],n[2*(o*t.width+i)+1]]}}function f(e,t,n,r,i,o,s,a,l){const c=[];let u=n,d=r,h=0,[p,f]=t(u,d);p*=e.velocityScale,f*=e.velocityScale;const m=Math.sqrt(p*p+f*f);let y,g;c.push({x:u,y:d,t:h,speed:m});for(let n=0;n<e.verticesPerLine;n++){let[n,r]=t(u,d);n*=e.velocityScale,r*=e.velocityScale;const p=Math.sqrt(n*n+r*r);if(p<e.minSpeedThreshold)return c;const f=n/p,m=r/p;if(u+=f*e.segmentLength,d+=m*e.segmentLength,h+=e.segmentLength/p,Math.acos(f*y+m*g)>e.maxTurnAngle)return c;if(e.collisions){const e=Math.round(u*l),t=Math.round(d*l);if(e<0||e>s-1||t<0||t>a-1)return c;const n=o[t*s+e];if(-1!==n&&n!==i)return c;o[t*s+e]=i}c.push({x:u,y:d,t:h,speed:p}),y=f,g=m}return c}function m(e,t,n,r){const i=[],o=new a.A,s=1/Math.max(e.lineCollisionWidth,1),l=Math.round(n*s),c=Math.round(r*s),u=new Int32Array(l*c);for(let e=0;e<u.length;e++)u[e]=-1;const d=[];for(let t=0;t<r;t+=e.lineSpacing)for(let r=0;r<n;r+=e.lineSpacing)d.push({x:r,y:t,sort:o.getFloat()});d.sort(((e,t)=>e.sort-t.sort));for(const{x:n,y:r}of d)if(o.getFloat()<e.density){const o=f(e,t,n,r,i.length,u,l,c,s);if(o.length<2)continue;i.push(o)}return i}function y(e,t){const n=t.pixels,{width:r,height:i}=t,s=new Float32Array(r*i*2),a=t.mask||new Uint8Array(r*i*2);if(t.mask||a.fill(255),"vector-uv"===e)for(let e=0;e<r*i;e++)s[2*e]=n[0][e],s[2*e+1]=-n[1][e];else if("vector-magdir"===e)for(let e=0;e<r*i;e++){const t=n[0][e],r=(0,o.kU)(n[1][e]),i=Math.cos(r-Math.PI/2),a=Math.sin(r-Math.PI/2);s[2*e]=i*t,s[2*e+1]=a*t}return{data:s,mask:a,width:r,height:i}}async function g(e,t,n,i,o,s){const a=performance.now(),d=(0,c.Vp)(t.spatialReference);if(!d){const l=await v(e,t,n,i,o,s);return(0,r.A)("esri-2d-profiler")&&u().info("I.7","loadImagery, early exit (ms)",Math.round(performance.now()-a)),(0,r.A)("esri-2d-profiler")&&u().info("I.9","Number of parts",1),l}const[h,p]=d.valid,f=p-h,m=Math.ceil(t.width/f),y=t.width/m,g=Math.round(n/m);let b=t.xmin;const w=[],_=performance.now();for(let n=0;n<m;n++){const n=new l.A({xmin:b,xmax:b+y,ymin:t.ymin,ymax:t.ymax,spatialReference:t.spatialReference});w.push(v(e,n,g,i,o,s)),b+=y}const S=await Promise.all(w);(0,r.A)("esri-2d-profiler")&&u().info("I.8","All calls to _fetchPart (ms)",Math.round(performance.now()-_)),(0,r.A)("esri-2d-profiler")&&u().info("I.9","Number of parts",S.length);const x={data:new Float32Array(n*i*2),mask:new Uint8Array(n*i),width:n,height:i};let M=0;for(const e of S){for(let t=0;t<e.height;t++)for(let r=0;r<e.width;r++)M+r>=n||(x.data[2*(t*n+M+r)]=e.data[2*(t*e.width+r)],x.data[2*(t*n+M+r)+1]=e.data[2*(t*e.width+r)+1],x.mask[t*n+M+r]=e.mask[t*e.width+r]);M+=e.width}return(0,r.A)("esri-2d-profiler")&&u().info("I.10","loadImagery, general exit (ms)",Math.round(performance.now()-a)),x}async function v(e,t,n,r,i,o){const s={requestProjectedLocalDirections:!0,signal:o};if(null!=i&&(s.timeExtent=i),"imagery"===e.type){await e.load({signal:o});const i=await e.internalFetchImage(t,n,r,s);return null==i?.pixelData?.pixelBlock?{data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r}:y(e.rasterInfo.dataType,i.pixelData.pixelBlock)}await e.load({signal:o});const a=await e.fetchPixels(t,n,r,s);return null==a?.pixelBlock?{data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r}:y(e.serviceRasterInfo.dataType,a.pixelBlock)}},500:function(e,t,n){"use strict";n.d(t,{e:function(){return l},s:function(){return a}});var r=n(36321),i=n(95254),o=n(74704),s=n(33432);async function a(e,t,n,r){const i=await l(e,t,n,r);return o.A.fromJSON(i)}async function l(e,t,n,o){const a=(0,r.Dl)(e),l={...n},c=s.A.from(t),{data:u}=await(0,i.eW)(a,c,c.sourceSpatialReference,l,o);return u}},533:function(e,t,n){"use strict";n.d(t,{D:function(){return r}});const r={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",primaryTickLabelKeepAll:"primary-tick__label--keep-all",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"}},620:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(58963)),o={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return(0,i.default)("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):(0,i.default)(n+1,2)},d:function(e,t){return(0,i.default)(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return(0,i.default)(e.getUTCHours()%12||12,t.length)},H:function(e,t){return(0,i.default)(e.getUTCHours(),t.length)},m:function(e,t){return(0,i.default)(e.getUTCMinutes(),t.length)},s:function(e,t){return(0,i.default)(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds(),o=Math.floor(r*Math.pow(10,n-3));return(0,i.default)(o,t.length)}};t.default=o,e.exports=t.default},698:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325));let a=class extends i.A{constructor(e){super(e),this.type="networkElement",this.assetGroupCode=null,this.assetTypeCode=null,this.globalId=null,this.networkSourceId=null,this.objectId=null,this.positionFrom=null,this.positionTo=null,this.terminalId=null}};(0,r._)([(0,o.MZ)({json:{write:!1}})],a.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],a.prototype,"assetGroupCode",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],a.prototype,"assetTypeCode",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],a.prototype,"globalId",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],a.prototype,"networkSourceId",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],a.prototype,"objectId",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],a.prototype,"positionFrom",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],a.prototype,"positionTo",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],a.prototype,"terminalId",void 0),a=(0,r._)([(0,s.$)("esri.rest.networks.support.NetworkElement")],a)},726:function(e,t,n){"use strict";n.d(t,{A:function(){return N}});var r,i=n(82392),o=n(1817),s=n(84977),a=n(15565),l=n(81482),c=n(8636),u=n(25376),d=n(26325);n(6273),n(80861),n(67498);let h=r=class extends s.A{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new r({minValue:this.minValue,maxValue:this.maxValue})}};var p;(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],h.prototype,"minValue",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],h.prototype,"maxValue",void 0),h=r=(0,i._)([(0,d.$)("esri.renderers.support.AuthoringInfoClassBreakInfo")],h);let f=p=class extends s.A{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new p({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,a.o8)(this.classBreakInfos)})}};(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],f.prototype,"field",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],f.prototype,"normalizationField",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],f.prototype,"label",void 0),(0,i._)([(0,l.MZ)({type:[h],json:{write:!0}})],f.prototype,"classBreakInfos",void 0),f=p=(0,i._)([(0,d.$)("esri.renderers.support.AuthoringInfoFieldInfo")],f);var m,y=n(77380);let g=m=class extends s.A{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new m({label:this.label,value:this.value,size:this.size})}};(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],g.prototype,"label",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],g.prototype,"size",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],g.prototype,"value",void 0),g=m=(0,i._)([(0,d.$)("esri.renderers.support.AuthoringInfoSizeStop")],g);const v=g;var b;const w=new o.J({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),_=new o.J({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),S={key:e=>"number"==typeof e?"number":"string",typeMap:{number:Number,string:String},base:null},x=["high-to-low","above-and-below","centered-on","extremes"],M=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size","spike"])],A=["seconds","minutes","hours","days","months","years"];let T=b=class extends s.A{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return"string"==typeof e||"number"==typeof e?e:null}get normalizationField(){return"reference-size"===this.theme||"spike"===this.theme?this._get("normalizationField"):null}set normalizationField(e){this._set("normalizationField",e)}get referenceSizeScale(){return"reference-size"===this.theme?this._get("referenceSizeScale"):null}set referenceSizeScale(e){this._set("referenceSizeScale",e)}get referenceSizeSymbolStyle(){return"reference-size"===this.theme?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(e){this._set("referenceSizeSymbolStyle",e)}get spikeSymbolStyle(){return"spike"===this.theme?this._get("spikeSymbolStyle"):null}set spikeSymbolStyle(e){this._set("spikeSymbolStyle",e)}castStartTime(e){return"string"==typeof e||"number"==typeof e?e:null}get sizeStops(){return"reference-size"===this.theme||"spike"===this.theme?this._get("sizeStops"):null}set sizeStops(e){this._set("sizeStops",e)}get style(){return"color"===this.type?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new b({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,spikeSymbolStyle:this.spikeSymbolStyle,sizeStops:(0,a.o8)(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,i._)([(0,l.MZ)({types:S,json:{write:!0}})],T.prototype,"endTime",void 0),(0,i._)([(0,y.w)("endTime")],T.prototype,"castEndTime",null),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],T.prototype,"field",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],T.prototype,"maxSliderValue",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],T.prototype,"minSliderValue",void 0),(0,i._)([(0,l.MZ)({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],T.prototype,"normalizationField",null),(0,i._)([(0,l.MZ)({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],T.prototype,"referenceSizeScale",null),(0,i._)([(0,l.MZ)({type:["circle","diamond","hexagon-flat","hexagon-pointy","square"],value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],T.prototype,"referenceSizeSymbolStyle",null),(0,i._)([(0,l.MZ)({type:["triangle-closed-outline","triangle-gradient-fill-closed","triangle-gradient-fill-closed-outline","triangle-gradient-fill-open","triangle-gradient-fill-open-outline","triangle-open-outline","triangle-solid-fill-closed","triangle-solid-fill-closed-outline","triangle-solid-fill-open","triangle-solid-fill-open-outline"],value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],T.prototype,"spikeSymbolStyle",null),(0,i._)([(0,l.MZ)({types:S,json:{write:!0}})],T.prototype,"startTime",void 0),(0,i._)([(0,y.w)("startTime")],T.prototype,"castStartTime",null),(0,i._)([(0,l.MZ)({type:[v],json:{origins:{"web-scene":{write:!1}},write:!0}})],T.prototype,"sizeStops",null),(0,i._)([(0,l.MZ)({type:w.apiValues,value:null,json:{type:w.jsonValues,read:w.read,write:w.write}})],T.prototype,"style",null),(0,i._)([(0,l.MZ)({type:M,value:null,json:{type:M,origins:{"web-scene":{type:x,write:{writer:(e,t)=>{x.includes(e)&&(t.theme=e)}}}},write:!0}})],T.prototype,"theme",null),(0,i._)([(0,l.MZ)({type:_.apiValues,json:{type:_.jsonValues,read:_.read,write:_.write}})],T.prototype,"type",void 0),(0,i._)([(0,l.MZ)({type:A,json:{type:A,write:!0}})],T.prototype,"units",void 0),T=b=(0,i._)([(0,d.$)("esri.renderers.support.AuthoringInfoVisualVariable")],T);const I=T;var C,E=n(16506);const k=new o.J({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),P=new o.J({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),R=new o.J({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),O=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers"];let N=C=class extends s.A{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&"relationship"!==t?"class-breaks-size"===t||"class-breaks-color"===t?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?(0,E.r)(e):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&"relationship"!==e&&"class-breaks-size"!==e&&"class-breaks-color"!==e||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;"classed-size"===e?t="class-breaks-size":"classed-color"===e&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new C({classificationMethod:this.classificationMethod,colorRamp:(0,a.o8)(this.colorRamp),fadeRatio:(0,a.o8)(this.fadeRatio),fields:this.fields?.slice(),field1:(0,a.o8)(this.field1),field2:(0,a.o8)(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map((e=>e.clone())),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};(0,i._)([(0,l.MZ)({type:k.apiValues,value:null,json:{type:k.jsonValues,read:k.read,write:k.write,origins:{"web-document":{default:"manual",type:k.jsonValues,read:k.read,write:k.write}}}})],N.prototype,"classificationMethod",null),(0,i._)([(0,l.MZ)({types:E.g,json:{write:!0}})],N.prototype,"colorRamp",void 0),(0,i._)([(0,u.w)("colorRamp")],N.prototype,"readColorRamp",null),(0,i._)([(0,l.MZ)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],N.prototype,"fadeRatio",void 0),(0,i._)([(0,l.MZ)({type:[String],value:null,json:{write:!0}})],N.prototype,"fields",null),(0,i._)([(0,l.MZ)({type:f,value:null,json:{write:!0}})],N.prototype,"field1",null),(0,i._)([(0,l.MZ)({type:f,value:null,json:{write:!0}})],N.prototype,"field2",null),(0,i._)([(0,l.MZ)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],N.prototype,"flowTheme",null),(0,i._)([(0,l.MZ)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],N.prototype,"focus",null),(0,i._)([(0,l.MZ)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],N.prototype,"isAutoGenerated",void 0),(0,i._)([(0,l.MZ)({type:Number,value:null,json:{type:c.jz,write:!0}})],N.prototype,"numClasses",null),(0,i._)([(0,l.MZ)({type:O,json:{type:O,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],N.prototype,"lengthUnit",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],N.prototype,"maxSliderValue",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],N.prototype,"minSliderValue",void 0),(0,i._)([(0,l.MZ)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],N.prototype,"statistics",null),(0,i._)([(0,l.MZ)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],N.prototype,"standardDeviationInterval",null),(0,i._)([(0,l.MZ)({type:P.apiValues,value:null,json:{type:P.jsonValues,read:P.read,write:P.write,origins:{"web-scene":{type:R.jsonValues,write:{writer:R.write,overridePolicy:e=>({enabled:"flow"!==e})}}}}})],N.prototype,"type",null),(0,i._)([(0,l.MZ)({type:[I],json:{write:!0}})],N.prototype,"visualVariables",void 0),(0,i._)([(0,l.MZ)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],N.prototype,"univariateSymbolStyle",null),(0,i._)([(0,l.MZ)({type:["high-to-low","above-and-below","above","below"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],N.prototype,"univariateTheme",null),N=C=(0,i._)([(0,d.$)("esri.renderers.support.AuthoringInfo")],N)},834:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(23547);let l=r=class extends a.A{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new r({text:this.text})}};(0,i._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"text",void 0),(0,i._)([(0,o.MZ)({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],l.prototype,"type",void 0),l=r=(0,i._)([(0,s.$)("esri.popup.content.TextContent")],l);const c=l},884:function(e,t,n){"use strict";n.d(t,{Ie:function(){return l},LH:function(){return s},YX:function(){return a},Yq:function(){return o},oG:function(){return c}});var r=n(28566),i=n(97160);function o(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||null!=t.maxWorldLength&&t.maxWorldLength<=0)}function s(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t?.visible&&!!o(e)}function a(e){return"point-3d"===e.type||"label-3d"===e.type}function l(e){return"center"===e.horizontalAlignment}const c={types:{key:"type",base:r.A,typeMap:{line:i.A}},json:{write:!0}}},999:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(82392),i=n(93814),o=n(1817),s=n(84977),a=n(81482),l=(n(6273),n(80861),n(67498),n(25376)),c=n(26325);const u=new o.J({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let d=0,h=class extends s.A{constructor(e){super(e),this.id="sym"+d++,this.type=null,this.color=new i.A([0,0,0,1])}readColor(e){return null!=e?.[0]?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,r._)([(0,a.MZ)({type:u.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:u.write,isRequired:!0}}})],h.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:i.A,json:{write:{allowNull:!0}}})],h.prototype,"color",void 0),(0,r._)([(0,l.w)("color")],h.prototype,"readColor",null),h=(0,r._)([(0,c.$)("esri.symbols.Symbol")],h)},1118:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(82392),i=n(1817),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(85716)),l=n(26325);const c=new i.J({inherited:"inherited",codedValue:"coded-value",range:"range"});let u=class extends o.A{constructor(e){super(e),this.name=null,this.type=null}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],u.prototype,"name",void 0),(0,r._)([(0,a.e)(c),(0,s.MZ)({json:{write:{isRequired:!0}}})],u.prototype,"type",void 0),u=(0,r._)([(0,l.$)("esri.layers.support.Domain")],u)},1138:function(e,t,n){"use strict";n.d(t,{TP:function(){return l},_f:function(){return o},eh:function(){return i},uw:function(){return c}});var r=n(99263);const i=Math.PI/180,o=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,s=r.$O.radius,a=r.$O.eccentricitySquared,l={a1:s*a,a2:s*a*s*a,a3:s*a*a/2,a4:s*a*s*a*2.5,a5:s*a+s*a*a/2,a6:1-a},c={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:r.$O.radius,f:r.$O.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:r.Sw.radius,f:r.Sw.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:r.sH.radius,f:r.sH.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:r.sH.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},1415:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});const r=(0,n(1817).O)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},1523:function(e,t,n){"use strict";n.d(t,{D:function(){return R},g:function(){return P}});var r=n(62991),i=n(57725),o=n(83371),s=n(11012),a=n(37623),l=n(79303);class c{constructor(e){this._canvas=null,this._ctx=null,e&&(this._canvas=e.canvas,this._ctx=e.ctx||e.canvas&&e.canvas.getContext("2d"))}decode(e,t,n){if(!e||e.byteLength<10)throw new r.A("imagecanvasdecoder: decode","required a valid encoded data as input.");let{width:i=0,height:o=0,format:s}=t;const{applyJpegMask:l}=t;if(l&&(!i||!o))throw new r.A("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return new Promise(((r,u)=>{let d=null;"jpg"===s&&l&&(d=c._getMask(e,{width:i,height:o}));const h=new Blob([new Uint8Array(e)],{type:"image/"+s=="jpg"?"jpeg":s}),p=URL.createObjectURL(h),f=new Image;let m;f.src=p,f.onload=()=>{if(URL.revokeObjectURL(p),(0,a.G4)(n))return void u((0,a.NK)());i=f.width,o=f.height,this._canvas&&this._ctx?(this._canvas.width===i&&this._canvas.height===o||(this._canvas.width=i,this._canvas.height=o),this._ctx.clearRect(0,0,i,o)):(this._canvas=document.createElement("canvas"),this._canvas.width=i,this._canvas.height=o,this._ctx=this._canvas.getContext("2d")),this._ctx.drawImage(f,0,0);const e=this._ctx.getImageData(0,0,i,o);let s;if(m=e.data,t.renderOnCanvas){if(d)for(s=0;s<d.length;s++)d[s]?m[4*s+3]=255:m[4*s+3]=0;return this._ctx.putImageData(e,0,0),void r(null)}const l=i*o,c=new Uint8Array(l),h=new Uint8Array(l),y=new Uint8Array(l);if(d)for(s=0;s<l;s++)c[s]=m[4*s],h[s]=m[4*s+1],y[s]=m[4*s+2];else for(d=new Uint8Array(l),s=0;s<l;s++)c[s]=m[4*s],h[s]=m[4*s+1],y[s]=m[4*s+2],d[s]=m[4*s+3];r({width:i,height:o,pixels:[c,h,y],mask:d,pixelType:"u8"})},f.onerror=()=>{URL.revokeObjectURL(p),u("cannot load image")}}))}static _getMask(e,t){let n=null;try{const r=new Uint8Array(e),i=Math.ceil(r.length/2);let o=0;const s=r.length-2;for(o=i;o<s&&(255!==r[o]||217!==r[o+1]);o++);if(o+=2,o<r.length-1){const e=new l.Z(r.subarray(o)).getBytes();n=new Uint8Array(t.width*t.height);let i=0;for(let t=0;t<e.length;t++)for(let r=7;r>=0;r--)n[i++]=e[t]>>r&1}}catch(e){}return n}}var u=n(27355);class d{static decode(e,t=!1){const n=new Uint8Array(e),r=new u.J;r.parse(n);const{width:i,height:o,numComponents:s,eof:a}=r,c=r.getData(i,o,!0),d=i*o;let h,p=null,f=0,m=0,y=0;if(!t&&a<n.length-1)try{const e=new l.Z(n.subarray(a)).getBytes();p=new Uint8Array(d);let t=0;for(f=0;f<e.length;f++)for(y=7;y>=0;y--)p[t++]=e[f]>>y&1}catch{}if(1===s&&c.length===i*o){const e=new Uint8Array(c.buffer);h=[e,e,e]}else{for(h=[],f=0;f<3;f++)h.push(new Uint8Array(d));for(y=0,m=0;m<d;m++)for(f=0;f<3;f++)h[f][m]=c[y++]}return{width:i,height:o,pixels:h,mask:p}}}var h=n(40254),p=n(93399),f=n(6246);const m=(e,t)=>{const n=t.width*t.height,r=t.pixelType;return Math.floor(e.byteLength/(n*y(r)))},y=e=>{let t=1;switch(e){case Uint8Array:case Int8Array:t=1;break;case Uint16Array:case Int16Array:t=2;break;case Uint32Array:case Int32Array:case Float32Array:t=4;break;case Float64Array:t=8}return t};class g{static decode(e,t){const n=t.pixelType,r=[],i=t.width*t.height,o=m(e,t),{bandIds:s,format:a}=t,l=s?.length||m(e,t),c=e.byteLength-e.byteLength%(i*y(n)),u=new n(e,0,i*o);let d,h,p,f,g=null;if("bip"===a)for(d=0;d<l;d++){for(p=new n(i),f=s?s[d]:d,h=0;h<i;h++)p[h]=u[h*o+f];r.push(p)}else if("bsq"===a)for(d=0;d<l;d++)f=s?s[d]:d,r.push(u.subarray(f*i,(f+1)*i));return c<e.byteLength-1&&(g=((e,t)=>{if(8*e.byteLength<t)return null;const n=new Uint8Array(e,0,Math.ceil(t/8)),r=new Uint8Array(t);let i=0,o=0,s=0,a=0;for(s=0;s<n.length-1;s++)for(o=n[s],a=7;a>=0;a--)r[i++]=o>>a&1;for(a=7;i<t-1;)o=n[n.length-1],r[i++]=o>>a&1,a--;return r})(e.slice(c),i)),{pixels:r,mask:g}}}var v=n(20417),b=n(53965),w=function(e){var t,n,r;function i(e){var t,n,r,i,o,s,a,l,c,u,d,h,p;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},o=null;;){switch(t=this.readUInt32(),l=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join(""),l){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":o&&this.animation.frames.push(o),this.pos+=4,o={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},i=this.readUInt16(),r=this.readUInt16()||100,o.delay=1e3*i/r,o.disposeOp=this.data[this.pos++],o.blendOp=this.data[this.pos++],o.data=[];break;case"IDAT":case"fdAT":for("fdAT"===l&&(this.pos+=4,t-=4),e=(null!=o?o.data:void 0)||this.imgData,d=0;0<=t?d<t:d>t;0<=t?++d:--d)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(t),(c=255-this.transparency.indexed.length)>0)for(h=0;0<=c?h<c:h>c;0<=c?++h:--h)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":s=(u=this.read(t)).indexOf(0),a=String.fromCharCode.apply(String,u.slice(0,s)),this.text[a]=String.fromCharCode.apply(String,u.slice(s+1));break;case"IEND":return o&&this.animation.frames.push(o),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return i.load=function(e,t,n){var r;return"function"==typeof t&&(n=t),(r=new XMLHttpRequest).open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){var e;return e=new i(new Uint8Array(r.response||r.mozResponseArrayBuffer)),"function"==typeof(null!=t?t.getContext:void 0)&&e.render(t),"function"==typeof n?n(e):void 0},r.send(null)},i.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(e){var t,n,r,i,o,s,a,c,u,d,h,p,f,m,y,g,v,b,w,_,S,x,M;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);for(e=(e=new l.Z(e)).getBytes(),g=(p=this.pixelBitlength/8)*this.width,f=new Uint8Array(g*this.height),s=e.length,y=0,m=0,n=0;m<s;){switch(e[m++]){case 0:for(i=w=0;w<g;i=w+=1)f[n++]=e[m++];break;case 1:for(i=_=0;_<g;i=_+=1)t=e[m++],o=i<p?0:f[n-p],f[n++]=(t+o)%256;break;case 2:for(i=S=0;S<g;i=S+=1)t=e[m++],r=(i-i%p)/p,v=y&&f[(y-1)*g+r*p+i%p],f[n++]=(v+t)%256;break;case 3:for(i=x=0;x<g;i=x+=1)t=e[m++],r=(i-i%p)/p,o=i<p?0:f[n-p],v=y&&f[(y-1)*g+r*p+i%p],f[n++]=(t+Math.floor((o+v)/2))%256;break;case 4:for(i=M=0;M<g;i=M+=1)t=e[m++],r=(i-i%p)/p,o=i<p?0:f[n-p],0===y?v=b=0:(v=f[(y-1)*g+r*p+i%p],b=r&&f[(y-1)*g+(r-1)*p+i%p]),a=o+v-b,c=Math.abs(a-o),d=Math.abs(a-v),h=Math.abs(a-b),u=c<=d&&c<=h?o:d<=h?v:b,f[n++]=(t+u)%256;break;default:throw new Error("Invalid filter algorithm: "+e[m-1])}y++}return f},i.prototype.decodePalette=function(){var e,t,n,r,i,o,s,a,l;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,n.length,e=0,t=s=0,a=n.length;s<a;t=s+=3)i[r++]=n[t],i[r++]=n[t+1],i[r++]=n[t+2],i[r++]=null!=(l=o[e++])?l:255;return i},i.prototype.copyToImageData=function(e,t){var n,r,i,o,s,a,l,c,u,d,h;if(r=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(i=e.data||e).length,s=u||t,o=a=0,1===r)for(;o<c;)l=u?4*t[o/4]:a,d=s[l++],i[o++]=d,i[o++]=d,i[o++]=d,i[o++]=n?s[l++]:this.transparency.grayscale&&this.transparency.grayscale===d?0:255,a=l;else for(;o<c;)l=u?4*t[o/4]:a,i[o++]=s[l++],i[o++]=s[l++],i[o++]=s[l++],i[o++]=n?s[l++]:this.transparency.rgb&&this.transparency.rgb[1]===s[l-3]&&this.transparency.rgb[3]===s[l-2]&&this.transparency.rgb[5]===s[l-1]?0:255,a=l},i.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e},n=e.document&&e.document.createElement("canvas"),r=n&&n.getContext("2d"),t=function(e){var t;return r.width=e.width,r.height=e.height,r.clearRect(0,0,e.width,e.height),r.putImageData(e,0,0),(t=new Image).src=n.toDataURL(),t},i.prototype.decodeFrames=function(e){var n,r,i,o,s,a,l,c;if(this.animation){for(c=[],r=s=0,a=(l=this.animation.frames).length;s<a;r=++s)n=l[r],i=e.createImageData(n.width,n.height),o=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,o),n.imageData=i,c.push(n.image=t(i));return c}},i.prototype.renderFrame=function(e,t){var n,r,i;return n=(r=this.animation.frames)[t],i=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?e.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&e.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},i.prototype.animate=function(e){var t,n,r,i,o,s,a=this;return n=0,s=this.animation,i=s.numFrames,r=s.frames,o=s.numPlays,(t=function(){var s,l;if(s=n++%i,l=r[s],a.renderFrame(e,s),i>1&&n/i<o)return a.animation._timeout=setTimeout(t,l.delay)})()},i.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},i.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},i}(self);const _=new Set(["jpg","png","bmp","gif"]);async function S(e,t){if(!b.Z)throw new r.A("rasterCoded:decode","lerc decoder is not supported on big endian platform");await(0,h.Hh)();const{offset:n}=t,{width:i,height:a,pixelType:l,statistics:c,depthCount:u,noDataValues:d,bandMasks:p,pixels:f,mask:m}=(0,h.D4)(e,{inputOffset:n,returnInterleaved:t.returnInterleaved}),y=new o.A({width:i,height:a,pixelType:l.toLowerCase(),pixels:f,mask:m,statistics:c.map((({minValue:e,maxValue:t})=>new s.z(e,t))),bandMasks:p,depthCount:u,noDataValues:d});return c?.length||y.updateStatistics(),y}async function x(e,t){const n=await(0,v.D4)(e,{...t,noDataValue:t.tiffNoDataValue,matchAllNoData:t.matchAllNoData});(0,i.Lw)(n);const r=new o.A({width:n.width,height:n.height,pixels:n.pixels,pixelType:n.pixelType.toLowerCase(),mask:n.mask,bandMasks:n.bandMasks,statistics:null});return r.updateStatistics(),r}function M(e,t){const n=t.pixelType||"u8",r=o.A.getPixelArrayConstructor(n),i="u8"===n?e:new r(e.buffer),s=[],a=t.planes||1;if(1===a)s.push(i);else for(let n=0;n<a;n++){const o=(t.width||1)*(t.height||e.length),l=new r(o);for(let e=0;e<o;e++)l[e]=i[e*a+n];s.push(l)}const l=new o.A({width:t.width||1,height:t.height||e.length,pixels:s,pixelType:n,statistics:null});return l.updateStatistics(),l}function A(e,t){return M(new l.Z(new Uint8Array(e)).getBytes(),t)}function T(e,t){return M((0,p.D)(e,t.offset,t.eof,!t.isInputBigEndian),t)}function I(e,t,n){const{pixelTypeCtor:r}=function(e){let t=null,n=null;switch(e?e.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":n=255,t=Uint8Array;break;case"u16":n=n||65535,t=Uint16Array;break;case"u32":n=n||2**32-1,t=Uint32Array;break;case"s8":n=n||-128,t=Int8Array;break;case"s16":n=n||-32768,t=Int16Array;break;case"s32":n=n||0-2**31,t=Int32Array;break;default:t=Float32Array}return{pixelTypeCtor:t,noDataValue:n}}(t.pixelType),i=(0,g.decode)(e,{width:t.width,height:t.height,pixelType:r,format:n}),s=new o.A({width:t.width,height:t.height,pixels:i.pixels,pixelType:t.pixelType,mask:i.mask,statistics:null});return s.updateStatistics(),s}function C(e,t){const n=d.decode(e,t.hasNoZlibMask??void 0),r=new o.A({width:n.width,height:n.height,pixels:n.pixels,pixelType:"u8",mask:n.mask,statistics:null});return r.updateStatistics(),r}function E(e,t){const n=new Uint8Array(e),r=new w(n),{width:i,height:s}=t,a=i*s,l=r.decode();let c,u=0,d=0;const h=new Uint8Array(a);for(u=0;u<a;u++)h[u]=l[4*u+3];const p=new o.A({width:i,height:s,pixels:[],pixelType:"u8",mask:h,statistics:[]});for(u=0;u<3;u++){for(c=new Uint8Array(a),d=0;d<a;d++)c[d]=l[4*d+u];p.addData({pixels:c})}return p.updateStatistics(),p}function k(e){if(null==e)throw new r.A("rasterCodec:decode","parameter encodeddata is required.");const t=new Uint8Array(e,0,10);let n="";return 255===t[0]&&216===t[1]?n="jpg":137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]?n="png":67===t[0]&&110===t[1]&&116===t[2]&&90===t[3]&&73===t[4]&&109===t[5]&&97===t[6]&&103===t[7]&&101===t[8]&&32===t[9]?n="lerc":76===t[0]&&101===t[1]&&114===t[2]&&99===t[3]&&50===t[4]&&32===t[5]?n="lerc2":73===t[0]&&73===t[1]&&42===t[2]&&0===t[3]||77===t[0]&&77===t[1]&&0===t[2]&&42===t[3]||73===t[0]&&73===t[1]&&43===t[2]&&0===t[3]||77===t[0]&&77===t[1]&&0===t[2]&&43===t[3]?n="tiff":71===t[0]&&73===t[1]&&70===t[2]?n="gif":66===t[0]&&77===t[1]?n="bmp":String.fromCharCode.apply(null,t).toLowerCase().includes("error")&&(n="error"),n}function P(e){let t=k(e);return"lerc2"===t?t="lerc":"error"===t&&(t=""),t}async function R(e,t={},n){if(null==e)throw new r.A("rasterCodec:decode","missing encodeddata parameter.");let i=t.format?.toLowerCase();if(!("bsq"!==i&&"bip"!==i||null!=t.width&&null!=t.height))throw new r.A("rasterCodec:decode","requires width and height in options parameter.");if("tiff"===i&&t.customOptions)return async function(e,t){const n=await(0,v.s$)(e,t.customOptions),r=new o.A({width:n.width,height:n.height,pixels:n.pixels,pixelType:n.pixelType.toLowerCase(),mask:n.mask,statistics:null});return r.updateStatistics(),r}(e,t);if((!i||"bsq"!==i&&"bip"!==i&&"deflate"!==i&&"lzw"!==i)&&(i=k(e)),t.useCanvas&&_.has(i))return async function(e,t,n,r){const i=new c,s={applyJpegMask:!1,format:t,...n},a=await i.decode(e,s,r),l=new o.A(a);return l.updateStatistics(),l}(e,i,t,n);const s=function(e){let t=null;switch(e){case"lerc":case"lerc2":t=S;break;case"jpg":t=C;break;case"png":t=E;break;case"bsq":case"bip":t=(t,n)=>I(t,n,e);break;case"tiff":t=x;break;case"deflate":t=A;break;case"lzw":t=T;break;case"error":t=()=>{throw new r.A("rasterCodec:decode","input data contains error")};break;default:t=()=>{throw new r.A("rasterCodec:decode","unsupported raster format")}}return t}(i);let a;t.isPoint&&(null!=(t={...t}).width&&t.width++,null!=t.height&&t.height++);const{offsets:l}=t;if(l&&l.length>1){const n=l.map(((n,r)=>s(e.slice(n,l[r+1]),t))),r=await Promise.all(n);a=r[0],a.pixels=r.map((e=>e.pixels[0]));const i=r.map((e=>e.mask));r.some((e=>null!=e))&&(i.forEach(((e,t)=>{null==e&&(i[t]=new Uint8Array(a.width*a.height).fill(255))})),a.bandMasks=i,a.mask=o.A.combineBandMasks(i)),a.updateStatistics()}else a=await s(e,{...t,offset:l?.[0]??t.offset});return"jpg"!==i&&null!=t.noDataValue&&1===a.depthCount&&(0,f.Sp)(a,t.noDataValue,{customFloatTolerance:t.tolerance}),t.isPoint&&function(e,t=1){if(!e)return;const{pixels:n,width:r,height:i,mask:s}=e;if(!n||0===n.length)return;const a=n.length,l=r-1,c=i-1,u=[];let d,h,p,f,m,y,g=null;const v=o.A.getPixelArrayConstructor(e.pixelType);if(0===t){for(d=0;d<a;d++){for(m=n[d],y=new v(l*c),h=0;h<c;h++)for(f=h*r,p=0;p<l;p++)y[h*l+p]=m[f+p];u.push(y)}if(null!=s)for(g=new Uint8Array(l*c),h=0;h<c;h++)for(f=h*r,p=0;p<l;p++)g[h*l+p]=s[f+p]}else{for(d=0;d<a;d++){for(m=n[d],y=new v(l*c),h=0;h<c;h++)for(f=h*r,p=0;p<l;p++)y[h*l+p]=(m[f+p]+m[f+p+1]+m[f+r+p]+m[f+r+p+1])/4;u.push(y)}if(s)for(g=new Uint8Array(l*c),h=0;h<c;h++)for(f=h*r,p=0;p<l;p++)g[h*l+p]=Math.min.apply(null,[s[f+p],s[f+p+1],s[f+r+p],s[f+r+p+1]])}e.width=l,e.height=c,e.mask=g,e.pixels=u}(a),a}},1817:function(e,t,n){"use strict";n.d(t,{J:function(){return i},O:function(){return s}});var r=n(21750);class i{constructor(e,t={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=t,this.apiValues=[],this.jsonValues=[],this._apiToJSON=function(e){const t={};for(const n in e)t[e[n]]=n;return t}(e),this.apiValues=o(this._apiToJSON),this.jsonValues=o(this._jsonToAPI),this.read=e=>this.fromJSON(e),this.write=(e,t,n)=>{const i=this.toJSON(e);void 0!==i&&(0,r.sM)(n,i,t)},this.write.isJSONMapWriter=!0}toJSON(e){if(null==e)return null;if(this._apiToJSON.hasOwnProperty(e)){const t=this._apiToJSON[e];return this._options.useNumericKeys?+t:t}return this._options.ignoreUnknown?null:e}fromJSON(e){return null!=e&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}}function o(e){const t=[];for(const n in e)t.push(n);return t.sort(),t}function s(){return function(e,t){return new i(e,{ignoreUnknown:!0,...t})}}},1851:function(e,t,n){"use strict";n.d(t,{A:function(){return U}});var r=n(82392),i=n(62991),o=n(15565),s=n(80861),a=n(21750),l=n(61985),c=n(81482),u=n(77380),d=n(85716),h=n(25376),p=n(26325),f=n(48524),m=n(58652),y=n(8636),g=n(46227),v=n(83382),b=n(46243),w=n(13005),_=n(19900),S=n(94838),x=n(14755),M=n(84977);n(6273),n(67498);let A=class extends(x.A.ClonableMixin(M.A)){constructor(e){super(e),this.value=null,this.value2=null,this.value3=null}};(0,r._)([(0,c.MZ)(_.Ug)],A.prototype,"value",void 0),(0,r._)([(0,c.MZ)(_.Ug)],A.prototype,"value2",void 0),(0,r._)([(0,c.MZ)(_.Ug)],A.prototype,"value3",void 0),A=(0,r._)([(0,p.$)("esri.renderers.support.UniqueValue")],A);var T=n(3223);let I=class extends(x.A.ClonableMixin(M.A)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(e){if(null==e)return null;const t=typeof(e=Array.isArray(e)?e:[e])[0];return"string"===t||"number"===t?e.map((e=>new A({value:e}))):"object"===t?e[0]instanceof A?e:e.map((e=>new A(e))):null}};(0,r._)([(0,c.MZ)({type:String,json:{write:!0}})],I.prototype,"description",void 0),(0,r._)([(0,c.MZ)({type:String,json:{write:!0}})],I.prototype,"label",void 0),(0,r._)([(0,c.MZ)(_.z4)],I.prototype,"symbol",void 0),(0,r._)([(0,c.MZ)({type:[A],json:{type:[[String]],read:{reader:e=>e?e.map((e=>new A({value:e[0],value2:e[1],value3:e[2]}))):null},write:{writer:(e,t)=>{const n=[];for(const t of e){const e=[t.value,t.value2,t.value3].filter(T.Ru).map((e=>e.toString()));n.push(e)}t.values=n}}}})],I.prototype,"values",void 0),(0,r._)([(0,u.w)("values")],I.prototype,"castValues",null),I=(0,r._)([(0,p.$)("esri.renderers.support.UniqueValueClass")],I);let C=class extends(x.A.ClonableMixin(M.A)){constructor(e){super(e),this.heading=null,this.classes=null}};(0,r._)([(0,c.MZ)({type:String,json:{write:!0}})],C.prototype,"heading",void 0),(0,r._)([(0,c.MZ)({type:[I],json:{write:{isRequired:!0}}})],C.prototype,"classes",void 0),C=(0,r._)([(0,p.$)("esri.renderers.support.UniqueValueGroup")],C);var E,k=n(6346),P=n(68717),R=n(55714),O=n(43532),N=n(40869),L=n(4331);const D="uvInfos-watcher",F="uvGroups-watcher",j=(0,y.dp)(k.A);function Z(e){return null!=e&&""!==e&&("string"!=typeof e||""!==e.trim()&&"<null>"!==e.toLowerCase())||(e=null),e+""}let U=E=class extends((0,w.h)(b.A)){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(e,t){if(!e&&!t)return;if(!e||!t)return{type:"complete",oldValue:e,newValue:t};let n=!1;const r={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let i=0;i<t.length;i++){const o=e.find((e=>e.value===t[i].value));o?(0,m.Ui)(o,t[i])?(r.changed.push({type:"complete",oldValue:o,newValue:t[i]}),n=!0):r.unchanged.push({oldValue:o,newValue:t[i]}):(r.added.push(t[i]),n=!0)}for(let i=0;i<e.length;i++)t.find((t=>t.value===e[i].value))||(r.removed.push(e[i]),n=!0);return n?r:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return null==e||"function"==typeof e?e:(0,y.GX)(e)}writeField(e,t,n,r){"string"==typeof e?t[n]=e:r?.messages?r.messages.push(new i.A("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):s.A.getLogger(this).error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,n){return n.portal||v.A.getDefault()}readStyleOrigin(e,t,n){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const e=(0,R.f)(t.styleUrl,n);return Object.freeze({styleUrl:e})}}writeStyleOrigin(e,t,n,r){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=(0,R.t)(e.styleUrl,r))}set uniqueValueGroups(e){this.styleOrigin?s.A.getLogger(this).error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?s.A.getLogger(this).error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void s.A.getLogger(this).error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let n;n="object"==typeof e?j(e):new k.A({value:e,symbol:(0,L.dp)(t)}),this.uniqueValueInfos?.push(n),this._valueInfoMap[Z(n.value)]=n,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void s.A.getLogger(this).error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t)for(let n=0;n<t.length;n++){const r=t[n];if(String(r.value)===String(e)){delete this._valueInfoMap[Z(e)],t.splice(n,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let n=t;return this.valueExpression&&null==t?.arcade&&(n={...n,arcade:await(0,P.l)()}),this._getUniqueValueInfo(e,n)}getSymbol(e,t){if(this.valueExpression&&null==t?.arcade)return void s.A.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const n=this._getUniqueValueInfo(e,t);return n?.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let n=t;if(this.valueExpression&&null==n?.arcade){const e=await(0,P.l)(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),n={...n,arcade:e}}const r=this._getUniqueValueInfo(e,n);return r?.symbol||this.defaultSymbol}get symbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),n=this.uniqueValueInfos?.reduce(((e,t)=>e+t.getMeshHash()),"");return`${e}.${t}.${n}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const e=new E({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,o.o8)(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,o.o8)(this.visualVariables),legendOptions:(0,o.o8)(this.legendOptions),authoringInfo:(0,o.o8)(this.authoringInfo),backgroundFillSymbol:(0,o.o8)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=(0,o.o8)(this.uniqueValueInfos),n=(0,o.o8)(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze((0,o.o8)(this.styleOrigin))),Object.freeze(t),Object.freeze(n)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",n),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const n=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(n)}async collectSymbolFields(e,t){const n=[...this.symbols.map((n=>n.collectRequiredFields(e,t))),(0,g.Dx)(e,t,this.valueExpression)];(0,g.rq)(e,t,this.field),(0,g.rq)(e,t,this.field2),(0,g.rq)(e,t,this.field3),await Promise.all(n)}populateFromStyle(){return(0,N.cF)(this.styleOrigin,{portal:this.portal}).then((e=>{const t=[];return this._valueInfoMap={},e?.data&&Array.isArray(e.data.items)&&e.data.items.forEach((n=>{const r=new O.A({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:n.name});this.defaultSymbol||n.name!==e.data.defaultItem||(this.defaultSymbol=r,this._isDefaultSymbolDerived=!0);const i=new k.A({value:n.name,symbol:r});t.push(i),this._valueInfoMap[Z(n.name)]=i})),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this}))}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[Z(t.value)]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(D);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const n of e)t.push((0,l.wB)((()=>({symbol:n.symbol,value:n.value,label:n.label,description:n.description})),((e,t)=>{e!==t&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)}),{sync:!0}));this.addHandles(t,D)}}_watchUniqueValueGroups(){this.removeHandles(F);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const n of e){t.push((0,l.wB)((()=>({classes:n.classes})),((e,t)=>{e!==t&&(this._updateInfosFromGroups(),this._isInfosSource=!1)}),{sync:!0}));for(const e of n.classes??[])t.push((0,l.wB)((()=>({symbol:e.symbol,values:e.values,label:e.label,description:e.description})),((e,t)=>{e!==t&&(this._updateInfosFromGroups(),this._isInfosSource=!1)}),{sync:!0}))}this.addHandles(t,F)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:n,field3:r,fieldDelimiter:i,uniqueValueGroups:o,valueExpression:s}=this;if(!t&&!s)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const a=!(!t||!n);for(const t of o)for(const o of t.classes??[]){const{symbol:t,label:s,values:l,description:c}=o;for(const o of l??[]){const{value:l,value2:u,value3:d}=o,h=[l];n&&h.push(u),r&&h.push(d);const p=a?h.join(i||""):h[0]??void 0;e.push(new k.A({symbol:t,label:s,value:p,description:c}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:n,valueExpression:r,fieldDelimiter:i,uniqueValueInfos:o}=this;if(!t&&!r||!o.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const s=!(!t||!n),a=o.map((e=>{const{symbol:t,label:n,value:r,description:o}=e,[a,l,c]=s?r?.toString()?.split(i||"")||[]:[r];return new I({symbol:t,label:n,description:o,values:[new A({value:a,value2:l,value3:c})]})})),l=[new C({classes:a})];e&&Object.freeze(l),this._set("uniqueValueGroups",l),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:n,scale:r,spatialReference:i,arcade:o,timeZone:s}=t??{};let a=this._cache.compiledFunc;const l=o.arcadeUtils;if(!a){const e=l.createSyntaxTree(this.valueExpression);a=l.createFunction(e),this._cache.compiledFunc=a}const c=l.executeFunction(a,l.createExecContext(e,l.getViewInfo({viewingMode:n,scale:r,spatialReference:i}),s));return this._valueInfoMap[Z(c)]}_getUnqiueValueInfoForFields(e){const t=this.field,n=e.attributes;let r;if(this.field2){const e=this.field2,i=this.field3,o=[];t&&o.push(n[t]),e&&o.push(n[e]),i&&o.push(n[i]),r=o.join(this.fieldDelimiter||"")}else t&&(r=n[t]);return this._valueInfoMap[Z(r)]}static fromPortalStyle(e,t){const n=new E(t?.properties);n._set("styleOrigin",Object.freeze({styleName:e})),n._set("portal",t?.portal||v.A.getDefault());const r=n.populateFromStyle();return r.catch((t=>{s.A.getLogger(this.prototype).error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",t)})),r}static fromStyleUrl(e,t){const n=new E(t?.properties);n._set("styleOrigin",Object.freeze({styleUrl:e}));const r=n.populateFromStyle();return r.catch((t=>{s.A.getLogger(this.prototype).error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",t)})),r}};(0,r._)([(0,c.MZ)({readOnly:!0})],U.prototype,"_cache",null),(0,r._)([(0,d.e)({uniqueValue:"unique-value"})],U.prototype,"type",void 0),(0,r._)([(0,c.MZ)(_.As)],U.prototype,"backgroundFillSymbol",void 0),(0,r._)([(0,c.MZ)({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],U.prototype,"field",null),(0,r._)([(0,u.w)("field")],U.prototype,"castField",null),(0,r._)([(0,f.K)("field")],U.prototype,"writeField",null),(0,r._)([(0,c.MZ)({type:String,value:null,json:{write:!0}})],U.prototype,"field2",null),(0,r._)([(0,c.MZ)({type:String,value:null,json:{write:!0}})],U.prototype,"field3",null),(0,r._)([(0,c.MZ)({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],U.prototype,"orderByClassesEnabled",void 0),(0,r._)([(0,c.MZ)({type:String,value:null,json:{write:!0}})],U.prototype,"valueExpression",null),(0,r._)([(0,c.MZ)({type:String,json:{write:!0}})],U.prototype,"valueExpressionTitle",void 0),(0,r._)([(0,c.MZ)({type:S.A,json:{write:!0}})],U.prototype,"legendOptions",void 0),(0,r._)([(0,c.MZ)({type:String,json:{write:!0}})],U.prototype,"defaultLabel",void 0),(0,r._)([(0,c.MZ)((0,a.$N)({..._.z4},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],U.prototype,"defaultSymbol",null),(0,r._)([(0,c.MZ)({type:String,value:null,json:{write:!0}})],U.prototype,"fieldDelimiter",null),(0,r._)([(0,c.MZ)({type:v.A,readOnly:!0})],U.prototype,"portal",void 0),(0,r._)([(0,h.w)("portal",["styleName"])],U.prototype,"readPortal",null),(0,r._)([(0,c.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],U.prototype,"styleOrigin",void 0),(0,r._)([(0,h.w)("styleOrigin",["styleName","styleUrl"])],U.prototype,"readStyleOrigin",null),(0,r._)([(0,f.K)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],U.prototype,"writeStyleOrigin",null),(0,r._)([(0,c.MZ)({type:[C],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,n)=>(t.uniqueValueGroups||function(e){const{field1:t,field2:n,field3:r,fieldDelimiter:i,uniqueValueInfos:o,valueExpression:s}=e,a=!(!t||!n);return[{classes:(o??[]).map((e=>{const{symbol:o,label:l,value:c,description:u}=e,[d,h,p]=a?c?.toString()?.split(i||"")||[]:[c],f=[];return(t||s)&&f.push(d),n&&f.push(h),r&&f.push(p),{symbol:o,label:l,values:[f],description:u}}))}]}(t)).map((e=>C.fromJSON(e,n)))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],U.prototype,"uniqueValueGroups",null),(0,r._)([(0,c.MZ)({type:[k.A],json:{read:!1,write:{isRequired:!0,overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0,isRequired:!0}}}}})],U.prototype,"uniqueValueInfos",null),U=E=(0,r._)([(0,p.$)("esri.renderers.UniqueValueRenderer")],U)},1874:function(e,t,n){"use strict";n.d(t,{AG:function(){return a},lk:function(){return i},vD:function(){return s},yS:function(){return o}});const r="randomUUID"in crypto;function i(){if(r)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=t=>e[t].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function o(){return`{${i().toUpperCase()}}`}function s(){return`{${i()}}`}function a(e){const t=e.toUpperCase();return"{"!==e[0]?`{${t}}`:t}},1889:function(e,t,n){"use strict";n.d(t,{A:function(){return p}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(85716)),a=n(26325),l=n(93814),c=n(8636);let u=class extends i.A{constructor(){super(...arguments),this.value=null,this.label=null,this.color=null}};(0,r._)([(0,o.MZ)({type:Number,json:{write:{isRequired:!0}}})],u.prototype,"value",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],u.prototype,"label",void 0),(0,r._)([(0,o.MZ)({type:l.A,json:{type:[c.jz],write:{isRequired:!0}}})],u.prototype,"color",void 0),u=(0,r._)([(0,a.$)("esri.renderers.support.ColormapInfo")],u);var d,h=n(16976);let p=d=class extends i.A{constructor(e){super(e),this.colormapInfos=null,this.type="raster-colormap"}static createFromColormap(e,t){if(!e)return null;const n=5===e[0].length,r=[...e].sort(((e,t)=>e[0]-t[0])).map((e=>u.fromJSON({value:e[0],color:n?e.slice(1,5):e.slice(1,4).concat([255]),label:t?t[e[0]]??"":e[0]})));return new d({colormapInfos:r})}static createFromColorramp(e){const t=(0,h.R8)(e);return d.createFromColormap(t)}clone(){return new d({colormapInfos:this.colormapInfos.map((e=>e.toJSON()))})}extractColormap(){return this.colormapInfos.map((({value:e,color:t})=>[e,t.r,t.g,t.b,t.a>1?t.a:255*t.a&255])).sort(((e,t)=>e[0]-t[0]))}};(0,r._)([(0,o.MZ)({type:[u],json:{write:{isRequired:!0}}})],p.prototype,"colormapInfos",void 0),(0,r._)([(0,s.e)({rasterColormap:"raster-colormap"}),(0,o.MZ)({json:{write:{isRequired:!0}}})],p.prototype,"type",void 0),p=d=(0,r._)([(0,a.$)("esri.renderers.RasterColormapRenderer")],p)},1912:function(e,t,n){"use strict";n.d(t,{A:function(){return w}});var r,i=n(82392),o=n(73783),s=n(80861),a=n(81482),l=n(77380),c=(n(6273),n(67498),n(25376)),u=n(26325),d=n(48524),h=n(8636),p=n(61064),f=n(44153),m=n(10227),y=n(67488),g=n(64672);const v=[0,0];function b(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}let w=r=class extends p.A{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const n=e._get("spatialReference");t._set("spatialReference",o.A.isFrozen(n)?n:n.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,n,r,i){let o;if(Array.isArray(e))o=e,i=t,e=o[0],t=o[1],n=o[2],r=o[3];else if(e&&"object"==typeof e){if(o=e,e=null!=o.x?o.x:o.longitude,t=null!=o.y?o.y:o.latitude,n=o.z,r=o.m,(i=o.spatialReference)&&"esri.geometry.SpatialReference"!==i.declaredClass&&(i=new f.A(i)),null!=o.longitude||null!=o.latitude)if(null==o.longitude)s.A.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(null==o.latitude)s.A.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&i?.isWebMercator){const n=(0,g.je)(o.longitude,o.latitude,v);e=n[0],t=n[1]}}else b(n)?(i=n,n=null):b(r)&&(i=r,r=null);const a={x:e,y:t};return null==a.x&&null!=a.y?s.A.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&s.A.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),null!=i&&(a.spatialReference=i),null!=n&&(a.z=n),null!=r&&(a.m=r),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(e){e!==(void 0!==this._get("m"))&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return void 0!==this.z}set hasZ(e){e!==(void 0!==this._get("z"))&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return(0,m.T0)(this)}set latitude(e){const{spatialReference:t,x:n}=this;null!=e&&t&&(t.isWebMercator?this._set("y",(0,g.je)(n,e,v)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return(0,m.EZ)(this)}set longitude(e){const{y:t,spatialReference:n}=this;null!=e&&n&&(n.isWebMercator?this._set("x",(0,g.je)(e,t,v)[0]):n.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,n){t[n]=isNaN(e)?"NaN":e}readX(e){return"string"==typeof e?NaN:e}clone(){const e=new r;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return r.copy(e,this),this}equals(e){if(null==e)return!1;const{x:t,y:n,z:r,m:i,spatialReference:o}=this,{z:s,m:a}=e;let{x:l,y:c,spatialReference:u}=e;if(!o.equals(u))if(o.isWebMercator&&u.isWGS84)[l,c]=(0,g.je)(l,c),u=o;else{if(!o.isWGS84||!u.isWebMercator)return!1;[l,c]=(0,g.tD)(l,c),u=o}return t===l&&n===c&&r===s&&i===a&&o.wkid===u.wkid}offset(e,t,n){return this.x+=e,this.y+=t,null!=n&&(this.z=(this.z??0)+n),this}normalize(){if(!this.spatialReference)return this;const e=(0,y.Vp)(this.spatialReference);if(!e)return this;let t=this.x;const[n,r]=e.valid,i=2*r;let o;return t>r?(o=Math.ceil(Math.abs(t-r)/i),t-=o*i):t<n&&(o=Math.ceil(Math.abs(t-n)/i),t+=o*i),this._set("x",t),this}distance(e){return(0,m.Io)(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};(0,i._)([(0,a.MZ)({readOnly:!0})],w.prototype,"cache",null),(0,i._)([(0,a.MZ)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],w.prototype,"hasM",null),(0,i._)([(0,a.MZ)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],w.prototype,"hasZ",null),(0,i._)([(0,a.MZ)({type:Number})],w.prototype,"latitude",null),(0,i._)([(0,a.MZ)({type:Number})],w.prototype,"longitude",null),(0,i._)([(0,a.MZ)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,l.w)((e=>isNaN(e)?e:(0,h.GB)(e)))],w.prototype,"x",void 0),(0,i._)([(0,d.K)("x")],w.prototype,"writeX",null),(0,i._)([(0,c.w)("x")],w.prototype,"readX",null),(0,i._)([(0,a.MZ)({type:Number,json:{write:!0}})],w.prototype,"y",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],w.prototype,"z",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],w.prototype,"m",void 0),w=r=(0,i._)([(0,u.$)("esri.geometry.Point")],w),w.prototype.toJSON.isDefaultToJSON=!0},1982:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r,i=n(82392),o=n(93814),s=n(84977),a=n(15565),l=n(81482),c=(n(6273),n(80861),n(26325)),u=n(30361);let d=r=class extends s.A{constructor(e){super(e),this.color=new o.A("white")}clone(){return new r({color:(0,a.o8)(this.color)})}};(0,i._)([(0,l.MZ)((0,u.EW)({colorRequiredOnWrite:!0}))],d.prototype,"color",void 0),d=r=(0,i._)([(0,c.$)("esri.symbols.callouts.LineCallout3DBorder")],d);const h=d},2071:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numberWithCommas=t.abbreviateNumber=void 0;t.abbreviateNumber=(e,t)=>{if(null===e)return null;if(0===e)return"0";t=!t||t<0?0:t,t=e>1e4?0:1;const n=e.toPrecision(2).split("e"),r=1===n.length?0:Math.floor(Math.min(+n[1].slice(1),14)/3),i=r<1?+e.toFixed(0+t):+(e/Math.pow(10,3*r)).toFixed(t);return(i<0?i:Math.abs(i))+["","K","M","B","T"][r]};t.numberWithCommas=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},2110:function(e,t,n){"use strict";n.d(t,{K:function(){return a},w:function(){return l}});var r=n(38031),i=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},o=function(e,t){for(var n=0,r=e.length;n<r;n++){var s=e[n];Array.isArray(s)?o(s,t):null!=s&&!1!==s&&(s.hasOwnProperty("vnodeSelector")||(s=i(s)),t.push(s))}},s=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===n.length&&"string"==typeof n[0])return{vnodeSelector:e,properties:t||void 0,children:void 0,text:n[0],domNode:null};var i=[];return o(n,i),{vnodeSelector:e,properties:t||void 0,children:i,text:void 0,domNode:null}};function a(e,t,...n){return"function"!=typeof e||(0,r.b)(e)?s(e,t??null,...n):e(t,...n)}function l(...e){return e}},2153:function(e,t,n){"use strict";function r(e){return(t,n)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:n})}}n.d(t,{G:function(){return r}})},2236:function(e,t,n){"use strict";n.d(t,{Go:function(){return s},Jc:function(){return c},T:function(){return o},VI:function(){return h},mF:function(){return u},oV:function(){return f},u1:function(){return d}});var r=n(6273),i=n(37623);const o="worker:port-closed";var s,a;(a=s||(s={}))[a.HANDSHAKE=0]="HANDSHAKE",a[a.OPEN=1]="OPEN",a[a.OPENED=2]="OPENED",a[a.RESPONSE=3]="RESPONSE",a[a.INVOKE=4]="INVOKE",a[a.ABORT=5]="ABORT",a[a.CLOSE=6]="CLOSE",a[a.OPEN_PORT=7]="OPEN_PORT",a[a.ON=8]="ON";let l=0;function c(){return l++}function u(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function d(e,t,n,i){if(t.type===s.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==s.INVOKE&&t.type!==s.RESPONSE)return void e.postMessage(t);let o;if(function(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}(n)?(o=p(n.transferList),t.data=n.result):(o=p(i),t.data=n),o){if((0,r.A)("ff"))for(const n of o)if("byteLength"in n&&n.byteLength>267386880){const n="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case s.INVOKE:throw n;case s.RESPONSE:return void d(e,{type:s.RESPONSE,jobId:t.jobId,error:u(n)})}}e.postMessage(t,o)}else e.postMessage(t)}function h(e){if(!e)return null;const t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null}function p(e){if(!e?.length)return null;if((0,r.A)("esri-workers-arraybuffer-transfer"))return e;const t=e.filter((e=>!function(e){return e instanceof ArrayBuffer||"ArrayBuffer"===e?.constructor?.name}(e)));return t.length?t:null}async function f(e){try{return await e}catch(e){const t=e?.name===o;if(!(0,i.zf)(e)&&!t)throw e;return}}},2379:function(e,t,n){"use strict";n.d(t,{Eq:function(){return h},L4:function(){return u},Pr:function(){return b},QA:function(){return y},Qu:function(){return v},dJ:function(){return d},r3:function(){return m},vT:function(){return g}});var r=n(5262),i=n(6538),o=n(57122),s=n(68716);const a={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:e=>e.stencilRef,compare:s.MT.EQUAL,mask:255,op:{fail:s.eA.KEEP,zFail:s.eA.KEEP,zPass:s.eA.REPLACE}}}},l={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},c={...a,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function u({pixelRatio:e,state:t,displayLevel:n,requiredLevel:i},o){const s=1/2**(n-o.key.level),a=1/2**(i-o.key.level);return{displayMat3:t.displayMat3,displayViewMat3:t.displayViewMat3,displayViewScreenMat3:o.transforms.displayViewScreenMat3,viewMat3:t.viewMat3,tileMat3:o.transforms.tileMat3,displayZoomFactor:s,requiredZoomFactor:a,tileOffset:[o.x,o.y],currentScale:t.scale,currentZoom:n,metersPerSRUnit:(0,r.GA)(t.spatialReference),rotation:t.rotation,pixelRatio:e}}function d(e){return"highlight"===e.passOptions?.type}function h(e){return"hittest"===e.passOptions?.type}function p(e){if(!h(e))return null;const{position:t,distance:n,smallSymbolDistance:r,smallSymbolSizeThreshold:i}=e.passOptions;return{position:t,distance:n,smallSymbolDistance:r,smallSymbolSizeThreshold:i}}function f(e){if(!d(e))return null;const{activeReasons:t,highlightAll:n}=e.passOptions;return{activeReasons:t,highlightAll:n?1:0}}function m(e,t,n){const r={};for(const i in n)"function"!=typeof n[i]?r[i]=n[i]:r[i]=n[i](e,t);return r}function y(e,t){const{attributeView:n,context:r}=e;return{storage:n.getUniforms(r),view:u(e,t),hittestRequest:p(e),highlight:f(e)}}function g(e){return{inside:e.selection===o.RI.InsideEffect,outside:e.selection===o.RI.OutsideEffect}}function v(e){return h(e)?l:d(e)&&"clear"===e.passOptions.stepType?c:a}function b(e){const{row:t,col:n}=e.key,r=n*i.CQ,o=t*i.CQ;return{tileOffsetFromLocalOrigin:[r%i.YV,o%i.YV],maxIntsToLocalOrigin:[Math.floor(r/i.YV),Math.floor(o/i.YV)]}}},2383:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(241),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r.A?r.A.toStringTag:void 0;var l=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i},c=Object.prototype.toString;var u=function(e){return c.call(e)},d=r.A?r.A.toStringTag:void 0;var h=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":d&&d in Object(e)?l(e):u(e)}},2532:function(e,t,n){"use strict";n.d(t,{$9:function(){return S},C:function(){return o},HY:function(){return _},Ie:function(){return A},Jf:function(){return d},Rj:function(){return w},VL:function(){return p},VY:function(){return a},Wc:function(){return m},aI:function(){return I},cY:function(){return M},fA:function(){return s},fT:function(){return u},gR:function(){return x},gX:function(){return g},ib:function(){return v},pT:function(){return y},qv:function(){return C},tK:function(){return c},uJ:function(){return f},vQ:function(){return h},vR:function(){return b},vt:function(){return i},w1:function(){return l}});n(6273),n(4506);var r=n(8e3);function i(e=E){return[e[0],e[1],e[2],e[3]]}function o(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function s(e,t,n,r,o=i()){return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o}function a(e,t=i()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l(e,t,n=new r.A){return n.xmin=e[0],n.ymin=e[1],n.xmax=e[2],n.ymax=e[3],n.spatialReference=t,n}function c(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function u(e,t,n){if(null!=t)if("length"in t)T(t)?(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[0]),n[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":n[0]=Math.min(e[0],t.xmin),n[1]=Math.min(e[1],t.ymin),n[2]=Math.max(e[2],t.xmax),n[3]=Math.max(e[3],t.ymax);break;case"point":n[0]=Math.min(e[0],t.x),n[1]=Math.min(e[1],t.y),n[2]=Math.max(e[2],t.x),n[3]=Math.max(e[3],t.y)}else o(n,e)}function d(e,t,n=e){const r=t.length;let i=e[0],o=e[1],s=e[2],a=e[3];for(let e=0;e<r;e++){const n=t[e];i=Math.min(i,n[0]),o=Math.min(o,n[1]),s=Math.max(s,n[0]),a=Math.max(a,n[1])}return n[0]=i,n[1]=o,n[2]=s,n[3]=a,n}function h(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function p(e){return null==e||e[0]>=e[2]?0:e[2]-e[0]}function f(e){return null==e||e[1]>=e[3]?0:e[3]-e[1]}function m(e){return p(e)*f(e)}function y(e){return p(e)>0&&f(e)>0}function g(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function v(e){const t=p(e),n=f(e);return Math.sqrt(t*t+n*n)}function b(e,t){return w(e,t.x,t.y)}function w(e,t,n){return t>=e[0]&&n>=e[1]&&t<=e[2]&&n<=e[3]}function _(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function S(e,t,n){return Math.max(t[0],e[0])-n<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-n<=Math.min(t[3],e[3])}function x(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function M(e,t,n,r=e){return r[0]=e[0]+t,r[1]=e[1]+n,r[2]=e[2]+t,r[3]=e[3]+n,r}function A(e){return e?o(e,C):i(C)}function T(e){return null!=e&&4===e.length}function I(e,t){return T(e)&&T(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const C=[1/0,1/0,-1/0,-1/0],E=[0,0,0,0]},2799:function(e,t,n){"use strict";n.d(t,{C:function(){return I},G:function(){return E},a:function(){return v},b:function(){return A},c:function(){return o},d:function(){return d},e:function(){return h},f:function(){return M},h:function(){return b},i:function(){return s},k:function(){return _},o:function(){return f},r:function(){return c},s:function(){return l},t:function(){return x}});var r=n(98015),i=n(46337);const o=Symbol.for("controller"),s=e=>"function"==typeof e?.then;let a;const l=e=>{a!==e&&(a=e,queueMicrotask((()=>a===e?a=void 0:0)))},c=e=>a;let u=[];const d=e=>{if(void 0===e)return void(u=[]);const t=u.indexOf(e);u=-1===t?[...u,e]:u.slice(0,t+1),queueMicrotask((()=>u=[]))},h=()=>u;let p;const f=e=>{p!==e&&(p=e,queueMicrotask((()=>p===e?p=void 0:0)))},m=async(e,t)=>{const n=g(e);if(void 0===n)return e;if(await n.ready,"function"==typeof t){0;const e=n.watchExports((n=>t(n,e)))}return n.exports},y=async e=>{const t=g(e);return await t.ready,t},g=e=>{const t=c().manager.X(e);if(void 0!==t)return t;if((e=>"object"==typeof e&&null!==e&&(o in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e))(e))return e;const n=(()=>{const e=p;return p=void 0,e})();return void 0!==n?n:void 0};let v=!1;const b=e=>{v=!0;try{return e()}finally{v=!1}};let w;const _=()=>{w?.forEach((({callbacks:e},t)=>{const n=Object.keys(t);e.forEach((e=>e(n)))})),w=void 0},S=(e,t,n)=>{const o=e.manager;return o.V!==i.s6&&o.V!==n&&o.S(void 0,void 0),0===o.T.length&&queueMicrotask((()=>o.S(void 0,void 0))),o.V=n,o.T.push(((e,i)=>(0,r.UF)(t,void 0,n===i?e:void 0))),n},x=(e=[c(),...h()],t,n)=>{const i=Array.isArray(e)?e:[e];let o=i.length+1;const s=e=>{o-=1,void 0!==e&&(o=Math.min(o,0)),0===o&&t(e)};i.forEach((e=>((e,t,n)=>{const i=Object.keys(e),o=i.length;void 0===w&&queueMicrotask(_),w??=new Map;let s=w.get(e);return void 0===s&&(s={callbacks:[],keyCount:o},w.set(e,s)),s.keyCount!==o&&(s.callbacks.forEach((e=>e(i))),s.callbacks=[],s.keyCount=o),s.callbacks.push((i=>{const s=e=>(0,r.UF)(t,null,e),a=i[o];void 0===a?s(void 0):e[a]===n?s(a):s(void 0)})),n})(e,(t=>s(void 0===t?void 0:{key:t,host:e,isReactive:!1})),n)));for(const e of i)if("manager"in e&&e.manager.component===e){S(e,(t=>s(void 0===t?void 0:{key:t,host:e,isReactive:!0})),n);break}return n},M=(e="",t={},n=c())=>{const r={emit:r=>{""===e&&_();const i=new CustomEvent(e,{detail:r,cancelable:!0,bubbles:!0,composed:!0,...t});return n.el.dispatchEvent(i),i}};return""===e&&x(void 0,(t=>e=t.key),r),r},A=M.bind(null,"");var T;T=o;class I{constructor(e){this.#e=[],this.#t=[],this.#n=[],this.#r=[],this.#i=[],this.#o=[],this.#s=[],this.#a=[],this.#l=[],this.#c=!1,this.P=new r.cY,this.connectedCalled=!1,this.loadedCalled=!1,this[T]=!0,this.#u=[];const t=this,n=e??c(new.target.name);t.#d=n,t.ready=t.P.promise,t.#h=k(t),t.component=n,t.#d.addController(t);void 0===t.#d.manager||(d(t),queueMicrotask((()=>t.catchUpLifecycle())))}#e;#t;#n;#r;#i;#o;#s;#a;#l;#c;#d;catchUpLifecycle(){const{manager:e}=this.#d;!e.connectedCalled||this.connectedCalled||this.triggerConnected();!e.#c||this.triggerLoad().then((()=>e.loadedCalled&&this.triggerLoaded())).catch(console.error)}#h;get exports(){return this.#h}set exports(e){const t=this.#h;t!==e&&(this.#h=e,this.#u.forEach(r.UF),this.connectedCalled&&!1!==this.O&&this.#d.requestUpdate(this.O,t)),this.P.resolve(e)}setProvisionalExports(e,t=!0){this.#h=t?k(e):e,this.#u.forEach(r.UF)}#u;watchExports(e){const t=()=>e(this.#h);return this.#u.push(t),()=>{this.#u.splice(this.#u.indexOf(t),1)}}get use(){return l(this.#d),m}get useRef(){return l(this.#d),y}get useRefSync(){return l(this.#d),g}controllerRemoved(){this.#d.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this.#e.push(e)}onDisconnected(e){this.#t.push(e)}onLoad(e){this.#n.push(e)}onLoaded(e){this.#r.push(e)}onUpdate(e){this.#i.push(e)}onUpdated(e){this.#o.push(e)}onDestroy(e){this.#s.push(e)}onLifecycle(e){this.#a.push(e),this.connectedCalled&&this.#d.el.isConnected&&this.#p(e)}triggerConnected(){const e=this;e.hostConnected&&(0,r.UF)(e.hostConnected,e),e.#e.forEach(r.UF),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&(0,r.UF)(e.hostDisconnected,e),e.#t.forEach(r.UF),e.#l.forEach(r.UF),e.#l=[]}async triggerLoad(){if(this.#c)return;this.#c=!0;const e=this;e.hostLoad&&await(0,r.ao)(e.hostLoad,e),this.#n.length>0&&await Promise.allSettled(this.#n.map(r.ao)),this.P.resolve(this.#h)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&(0,r.UF)(this.hostLoaded,this),this.#r.forEach(r.UF),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&(0,r.UF)(this.hostUpdate,this,e),this.#i.forEach(C,e)}triggerUpdated(e){this.hostUpdated&&(0,r.UF)(this.hostUpdated,this,e),this.#o.forEach(C,e)}triggerDestroy(){this.hostDestroy&&(0,r.UF)(this.hostDestroy,this),this.#s.forEach(r.UF)}triggerLifecycle(){this.hostLifecycle&&this.#p((()=>this.hostLifecycle())),this.#a.forEach(this.#p,this)}#p(e){l(this.#d);const t=(0,r.UF)(e);(Array.isArray(t)?t:[t]).forEach((e=>{"function"==typeof e?this.#l.push(e):"object"==typeof e&&"function"==typeof e.remove&&this.#l.push(e.remove)}))}}function C(e){(0,r.UF)(e,void 0,this)}const E=I,k=e=>{if("object"!=typeof e&&"function"!=typeof e||null===e)return e;const t=new Proxy(e,{get(e,n,r){if("exports"!==n&&"_exports"!==n||!(n in e)||e[n]!==t)return n in e||n in Promise.prototype||"symbol"==typeof n?"function"==typeof e?e[n]:Reflect.get(e,n,r):void 0}});return t}},2818:function(e,t,n){"use strict";var r,i;function o(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function s(e){return null!=e&&!isNaN(e)&&isFinite(e)}function a(e){return e.valueExpression?r.Expression:e.field&&"string"==typeof e.field?r.Field:r.Unknown}function l(e,t){const n=t||a(e),o=e.valueUnit||"unknown";return n===r.Unknown?i.Constant:e.stops?i.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?i.ClampedLinear:"unknown"===o?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?i.Proportional:i.Additive:i.Identity:i.RealWorldSize}n.d(t,{KZ:function(){return l},Yf:function(){return r},_w:function(){return i},eh:function(){return a},gf:function(){return s},of:function(){return o}}),function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"}(r||(r={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(i||(i={}))},2925:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});class r{constructor(e){this.getUnmaskedRenderer=e}}function i(e){const t=e.getExtension("WEBGL_debug_renderer_info");return t?new r((()=>e.getParameter(t.UNMASKED_RENDERER_WEBGL))):null}},2960:function(e,t,n){"use strict";n.d(t,{B:function(){return p},e:function(){return f}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(25376)),s=n(26325),a=n(63910),l=n(46227),c=n(72523),u=n(95752),d=n(72991),h=n(38946);const p={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:a.K}}},f=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){const n=t.timeInfo.exportOptions;if(!n)return null;const r=n.timeOffset,i=u.j.fromJSON(n.timeOffsetUnits);return r&&i?new h.T({value:r,unit:i}):null}set timeInfo(e){(0,l.sv)(e,this.fieldsIndex),this._set("timeInfo",e)}};return(0,r._)([(0,i.MZ)({type:d.T,json:{write:!1}})],t.prototype,"timeExtent",void 0),(0,r._)([(0,i.MZ)({type:h.T})],t.prototype,"timeOffset",void 0),(0,r._)([(0,o.w)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),(0,r._)([(0,i.MZ)({value:null,type:c.A,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),(0,r._)([(0,i.MZ)(p)],t.prototype,"useViewTime",void 0),t=(0,r._)([(0,s.$)("esri.layers.mixins.TemporalLayer")],t),t}},2980:function(e,t,n){"use strict";n.d(t,{Av:function(){return C},OM:function(){return x},X$:function(){return l},dj:function(){return M}});var r=n(95604);const i="http://www.w3.org/",o=`${i}2000/svg`,s=`${i}1999/xlink`;let a=[],l=(e,t)=>{let n={};return Object.keys(e).forEach((t=>{n[t]=e[t]})),t&&Object.keys(t).forEach((e=>{n[e]=t[e]})),n},c=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),u=e=>{if("string"!=typeof e)throw new Error("Style values must be strings")},d=(e,t,n)=>{if(""!==t.vnodeSelector)for(let r=n;r<e.length;r++)if(c(e[r],t))return r;return-1},h=(e,t,n,r)=>{let i=e[t];if(""===i.vnodeSelector)return;let o=i.properties;if(!(o?void 0===o.key?o.bind:o.key:void 0))for(let o=0;o<e.length;o++)if(o!==t){let t=e[o];if(c(t,i))throw new Error(`${n.vnodeSelector} had a ${i.vnodeSelector} child ${"added"===r?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}},p=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},f=[],m=!1,y=e=>{(e.children||[]).forEach(y),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},g=()=>{m=!1,f.forEach(y),f.length=0},v=e=>{f.push(e),m||(m=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(g,{timeout:16}):setTimeout(g,16))},b=e=>{let t=e.domNode;if(e.properties){let n=e.properties.exitAnimation;if(n){t.style.pointerEvents="none";let r=()=>{t.parentNode&&(t.parentNode.removeChild(t),v(e))};return void n(t,r,e.properties)}}t.parentNode&&(t.parentNode.removeChild(t),v(e))},w=(e,t,n)=>{if(!t)return;let i=n.eventHandlerInterceptor,a=Object.keys(t),l=a.length;for(let c=0;c<l;c++){let l=a[c],d=t[l];if("className"===l)throw new Error('Property "className" is not supported, use "class".');if("class"===l)A(e,d,!0);else if("classes"===l){let t=Object.keys(d),n=t.length;for(let r=0;r<n;r++){let n=t[r];d[n]&&e.classList.add(n)}}else if("styles"===l){let t=Object.keys(d),r=t.length;for(let i=0;i<r;i++){let r=t[i],o=d[r];o&&(u(o),n.styleApplyer(e,r,o))}}else if("key"!==l&&null!=d){let a=typeof d;"function"===a?(0===l.lastIndexOf("on",0)&&(i&&(d=i(l,d,e,t)),"oninput"===l&&function(){let e=d;d=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value}}()),e[l]=d):n.namespace===o?"href"===l?e.setAttributeNS(s,l,d):e.setAttribute(l,d):"string"===a&&"value"!==l?"innerHTML"===l?e[l]=r.W5.sanitize(d):_(e)&&l in e?e[l]=d:e.setAttribute(l,d):e[l]=d}}};function _(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let S,x=(e,t,n)=>{((e,t,n)=>{if(t)for(let r of t)M(r,e,void 0,n)})(e,t.children,n),t.text&&(e.textContent=t.text),w(e,t.properties,n),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,n,t.vnodeSelector,t.properties,t.children])},M=(e,t,n,r)=>{let i,s=0,a=e.vnodeSelector,c=t.ownerDocument;if(""===a)i=e.domNode=c.createTextNode(e.text),void 0!==n?t.insertBefore(i,n):t.appendChild(i);else{for(let u=0;u<=a.length;++u){let d=a.charAt(u);if(u===a.length||"."===d||"#"===d){let d=a.charAt(s-1),h=a.slice(s,u);"."===d?i.classList.add(h):"#"===d?i.id=h:("svg"===h&&(r=l(r,{namespace:o})),void 0!==r.namespace?i=e.domNode=c.createElementNS(r.namespace,h):(i=e.domNode=e.domNode||c.createElement(h),"input"===h&&e.properties&&void 0!==e.properties.type&&i.setAttribute("type",e.properties.type)),void 0!==n?t.insertBefore(i,n):i.parentNode!==t&&t.appendChild(i)),s=u+1}}x(i,e,r)}},A=(e,t,n)=>{t&&t.split(" ").forEach((t=>{t&&e.classList.toggle(t,n)}))},T=(e,t,n,i)=>{if(!n)return;let a=!1,l=Object.keys(n),c=l.length;for(let d=0;d<c;d++){let c=l[d],h=n[c],p=t[c];if("class"===c)p!==h&&(A(e,p,!1),A(e,h,!0));else if("classes"===c){let t=e.classList,n=Object.keys(h),r=n.length;for(let e=0;e<r;e++){let r=n[e],i=!!h[r];i!==!!p[r]&&(a=!0,i?t.add(r):t.remove(r))}}else if("styles"===c){let t=Object.keys(h),n=t.length;for(let r=0;r<n;r++){let n=t[r],o=h[n];o!==p[n]&&(a=!0,o?(u(o),i.styleApplyer(e,n,o)):i.styleApplyer(e,n,""))}}else if(h||"string"!=typeof p||(h=""),"value"!==c||_(e)){if(h!==p){let t=typeof h;"function"===t&&i.eventHandlerInterceptor||(i.namespace===o?"href"===c?e.setAttributeNS(s,c,h):e.setAttribute(c,h):"string"===t?"innerHTML"===c?e[c]=r.W5.sanitize(h):"role"===c&&""===h?e.removeAttribute(c):_(e)&&c in e?e[c]=h:e.setAttribute(c,h):e[c]!==h&&(e[c]=h),a=!0)}}else{let t=e[c];t!==h&&(e["oninput-value"]?t===e["oninput-value"]:h!==p)&&(e[c]=h,e["oninput-value"]=void 0),h!==p&&(a=!0)}}return a},I=(e,t,n,r,i)=>{if(n===r)return!1;r=r||a;let o,s=(n=n||a).length,l=r.length,u=0,f=0,m=!1;for(;f<l;){let a=u<s?n[u]:void 0,l=r[f];if(void 0!==a&&c(a,l))m=S(a,l,i)||m,u++;else{let a=d(n,l,u+1);if(a>=0){for(o=u;o<a;o++)b(n[o]),h(n,o,e,"removed");m=S(n[a],l,i)||m,u=a+1}else M(l,t,u<s?n[u].domNode:void 0,i),p(l),h(r,f,e,"added")}f++}if(s>u)for(o=u;o<s;o++)b(n[o]),h(n,o,e,"removed");return m};S=(e,t,n)=>{let r=e.domNode,i=!1;if(e===t)return!1;let s=!1;if(""===t.vnodeSelector){if(t.text!==e.text){let e=r.ownerDocument.createTextNode(t.text);return r.parentNode.replaceChild(e,r),t.domNode=e,i=!0,i}t.domNode=r}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(n=l(n,{namespace:o})),e.text!==t.text&&(s=!0,void 0===t.text?r.removeChild(r.firstChild):r.textContent=t.text),t.domNode=r,s=I(t,r,e.children,t.children,n)||s,s=T(r,e.properties,t.properties,n)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[r,n,t.vnodeSelector,t.properties,t.children]);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(r,t.properties,e.properties),i};let C=(e,t)=>({getLastRender:()=>e,update:n=>{if(e.vnodeSelector!==n.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=e;e=n,S(r,n,t)},domNode:e.domNode})},3065:function(e,t,n){"use strict";n.d(t,{A:function(){return b}});var r,i=n(82392),o=n(38116),s=n(62991),a=n(73027),l=n(19759),c=n(1874),u=n(81482),d=(n(6273),n(80861),n(67498),n(25376)),h=n(26325),p=n(48524),f=n(51707),m=n(11219),y=n(80925),g=n(24327),v=n(55714);let b=class extends f.A{static{r=g.Of}constructor(e){super(e),this.animationOptions=null,this.content=null,this.image=null,this.type="image",this[r]=!0,this.image=null}load(){const e=this.image;if("string"==typeof e){const t=(0,a.M5)(e).then((e=>{this._set("content",e)}));this.addResolvingPromise(t)}else if(e instanceof HTMLImageElement){const t=e.decode().then((()=>{this._set("content",e)}));this.addResolvingPromise(t)}else e?this._set("content",e):this.addResolvingPromise(Promise.reject(new s.A("image-element:invalid-image-type","Invalid image type",{image:e})));return Promise.resolve(this)}get contentWidth(){return null==this.content?0:this.content instanceof HTMLImageElement?this.content.naturalWidth:this.content.width}get contentHeight(){return null==this.content?0:this.content instanceof HTMLImageElement?this.content.naturalHeight:this.content.height}readImage(e,t,n){return(0,v.f)(t.url,n)}writeImage(e,t,n,r){if(null==e)return;const i=r?.portalItem,s=r?.resources;if(!i||!s)return void("string"==typeof e&&(t[n]=(0,v.t)(e,r)));const a=function(e){return"string"==typeof e&&!(0,l.DB)(e)&&!(0,l.w8)(e)}(e)?e:null;if(a){if(null==(0,v.i)(a))return void(t[n]=a);const e=(0,v.t)(a,{...r,verifyItemRelativeUrls:r?.verifyItemRelativeUrls?{writtenUrls:r.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},v.M.NO);if(i&&e&&!(0,l.oP)(e))return s.toKeep.push({resource:i.resourceFromPath(e),compress:!1}),void(t[n]=e)}t[n]="<pending>",s.pendingOperations.push(async function(e){if("string"==typeof e)return(0,l.DB)(e)?(0,l.N9)(e):(await(0,o.A)(e,{responseType:"blob"})).data;return new Promise((t=>function(e){if(e instanceof HTMLCanvasElement)return e;const t=e instanceof HTMLImageElement?e.naturalWidth:e.width,n=e instanceof HTMLImageElement?e.naturalHeight:e.height,r=document.createElement("canvas"),i=r.getContext("2d");return r.width=t,r.height=n,e instanceof HTMLImageElement?i.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&i.putImageData(e,0,0),r}(e).toBlob(t)))}(e).then((e=>{const r=function(e,t){const n=(0,c.lk)(),r=`${(0,l.fj)("media",n)}.${(0,y.n)({type:"blob",blob:e})}`;return t.resourceFromPath(r)}(e,i);t[n]=r.itemRelativeUrl,s.toAdd.push({resource:r,content:{type:"blob",blob:e},compress:!1,finish:e=>{this.image=e.url}})})))}};(0,i._)([(0,u.MZ)()],b.prototype,"animationOptions",void 0),(0,i._)([(0,u.MZ)({readOnly:!0})],b.prototype,"content",void 0),(0,i._)([(0,u.MZ)({readOnly:!0})],b.prototype,"contentWidth",null),(0,i._)([(0,u.MZ)({readOnly:!0})],b.prototype,"contentHeight",null),(0,i._)([(0,u.MZ)(m.x3)],b.prototype,"image",void 0),(0,i._)([(0,d.w)("image",["url"])],b.prototype,"readImage",null),(0,i._)([(0,p.K)("image")],b.prototype,"writeImage",null),(0,i._)([(0,u.MZ)(m.m$)],b.prototype,"type",void 0),b=(0,i._)([(0,h.$)("esri.layers.support.ImageElement")],b)},3132:function(e,t,n){"use strict";n.d(t,{DZ:function(){return f},Ke:function(){return p},Tj:function(){return u},UT:function(){return m},jJ:function(){return c}});var r=n(82392),i=n(73783),o=n(57725),s=n(37623),a=n(81482),l=n(26325);function c(e,t,n){return(0,s.Lx)(e.map(((e,r)=>t.apply(n,[e,r]))))}async function u(e,t,n){return(await(0,s.Lx)(e.map(((e,r)=>t.apply(n,[e,r]))))).map((e=>e.value))}function d(e){return{ok:!0,value:e}}function h(e){return{ok:!1,error:e}}async function p(e){if(null==e)return{ok:!1,error:new Error("no promise provided")};try{return d(await e)}catch(e){return h(e)}}async function f(e){try{return d(await e)}catch(e){return(0,s.QP)(e),h(e)}}function m(e,t){return new y(e,t)}let y=class extends i.A{get value(){return null!=(e=this._result)&&!0===e.ok?e.value:null;var e}get error(){return null!=(e=this._result)&&!1===e.ok?e.error:null;var e}get finished(){return null!=this._result}constructor(e,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,o.DC)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=e(n),this.promise.then((e=>{this._result=d(e),this._cleanup()}),(e=>{this._result=h(e),this._cleanup()})),this._abortHandle=(0,s.u7)(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,o.xt)(this._abortHandle),this._abortController=null}};(0,r._)([(0,a.MZ)()],y.prototype,"value",null),(0,r._)([(0,a.MZ)()],y.prototype,"error",null),(0,r._)([(0,a.MZ)()],y.prototype,"finished",null),(0,r._)([(0,a.MZ)()],y.prototype,"promise",void 0),(0,r._)([(0,a.MZ)()],y.prototype,"_result",void 0),y=(0,r._)([(0,l.$)("esri.core.asyncUtils.ReactiveTask")],y)},3173:function(e,t,n){"use strict";n.d(t,{Ju:function(){return u},K8:function(){return p},XH:function(){return d},_r:function(){return s},bO:function(){return a},l:function(){return h},nu:function(){return f},pJ:function(){return l},rc:function(){return c}});var r=n(28904),i=n(48101),o=n(65452);function s(e){const t={id:e.id,name:e.name},n=(0,i.K)(e.type);return"FeatureLayer"!==n&&(t.layerType=n),t}async function a(e,t,n){let r;if(null==e?.layers||null==e?.tables){const i=await n.fetchServiceMetadata(t,{customParameters:l(e)?.customParameters});r=(0,o.G$)(),(e=e||{}).layers=e.layers||i?.layers?.map(s),e.tables=e.tables||i?.tables?.map(s)}return{data:e,preferredHost:r}}function l(e){if(!e)return null;const{layers:t,tables:n}=e;return t?.length?t[0]:n?.length?n[0]:null}function c(e,t){return null==t?null:[...e.layers||[],...e.tables||[]].find((e=>e.id===t))}function u(e,t){return[...e.layers||[],...e.tables||[]].filter((({layerType:e})=>e?t.includes(e):t.includes("ArcGISFeatureLayer")))}function d(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function h(e){switch(e){case"catalog":return["CatalogLayer"];case"feature":return["ArcGISFeatureLayer"];case"oriented-imagery":return["OrientedImageryLayer"];case"subtype-group":return["SubtypeGroupLayer","SubtypeGroupTable"]}return null}function p(e){switch(e){case"CatalogLayer":return"CatalogLayer";case"OrientedImageryLayer":return"OrientedImageryLayer";case"SubtypeGroupLayer":case"SubtypeGroupTable":return"SubtypeGroupLayer"}return"FeatureLayer"}async function f(e,t,n){if(!e?.url)return t??{};if(t??={},!t.layers){const r=await n.fetchServiceMetadata(e.url);t.layers=r.layers?.map(s)}const{serverUrl:i,portalItem:o}=await(0,r.L)(e.url,{sceneLayerItem:e,customParameters:l(t)?.customParameters}).catch((()=>({serverUrl:null,portalItem:null})));if(null==i)return t.tables=[],t;if(!t.tables&&o){const e=await o.fetchData().catch((()=>null));if(e?.tables)t.tables=e.tables.map(s);else{const r=await n.fetchServiceMetadata(i,{customParameters:l(e)?.customParameters}).catch((()=>null));t.tables=r?.tables?.map(s)}}if(t.tables)for(const e of t.tables)e.url=`${i}/${e.id}`;return t}},3219:function(e,t,n){"use strict";n.d(t,{J:function(){return d}});var r,i=n(83311),o=n(82392),s=(n(80861),n(6273),n(67498),n(62991),n(85716)),a=n(26325);let l=r=class extends i.A{constructor(e){super(e),this.type="sketch"}clone(){return new r(this.cloneProperties())}};(0,o._)([(0,s.e)({sketch:"sketch"},{readOnly:!0})],l.prototype,"type",void 0),l=r=(0,o._)([(0,a.$)("esri.symbols.edges.SketchEdges3D")],l);const c=l;var u=n(49864);const d={types:{key:"type",base:i.A,typeMap:{solid:u.A,sketch:c}},json:{write:!0}}},3223:function(e,t,n){"use strict";n.d(t,{$U:function(){return a},Am:function(){return l},BB:function(){return w},FQ:function(){return p},He:function(){return s},Ji:function(){return o},MJ:function(){return c},Mo:function(){return _},Ru:function(){return A},TF:function(){return M},Xj:function(){return h},Xy:function(){return g},aI:function(){return u},iv:function(){return d},k4:function(){return x},mW:function(){return b},qh:function(){return y},tR:function(){return T},vW:function(){return f}});var r=n(17420),i=n(67498);const o=1.5,s=1/o,a=.5;function l(e,t){return t?e.filter(((e,n,r)=>r.findIndex(t.bind(null,e))===n)):Array.from(new Set(e))}function c(e,t,n,r,i,o,s){if(null==e&&null==r)return!0;t=Math.max(0,t),i=Math.max(0,i),n=Math.max(0,n<0?(e?.length??0)+n:n),o=Math.max(0,o<0?(r?.length??0)+o:o);const a=n-t;if(null==e||null==r||a!==o-i)return!1;if(s){for(let n=0;n<a;n++)if(!s(e[t+n],r[i+n]))return!1}else for(let n=0;n<a;n++)if(e[t+n]!==r[i+n])return!1;return!0}function u(e,t,n){return c(e,0,e?.length??0,t,0,t?.length??0,n)}function d(e,t,n){let r,i;return n?(r=t.filter((t=>!e.some((e=>n(e,t))))),i=e.filter((e=>!t.some((t=>n(t,e)))))):(r=t.filter((t=>!e.includes(t))),i=e.filter((e=>!t.includes(e)))),{added:r,removed:i}}function h(e){return e&&"number"==typeof e.length}function p(e,t,n){const r=e.length;let i=0,o=r-1;for(;i<o;){const n=i+Math.floor((o-i)/2);t>e[n]?i=n+1:o=n}const s=e[i];return n?t>=e[r-1]?-1:s===t?i:i-1:s===t?i:-1}class f{constructor(){this.last=0}}const m=new f;function y(e,t,n,r){r=r||m;const i=Math.max(0,r.last-10);for(let o=i;o<n;++o)if(e[o]===t)return r.last=o,o;const o=Math.min(i,n);for(let n=0;n<o;++n)if(e[n]===t)return r.last=n,n;return-1}function g(e,t,n,i){const o=n??e.length,s=y(e,(0,r.zI)(t),o,i);if(-1!==s)return e[s]=e[o-1],null==n&&e.pop(),t}const v=new Set;function b(e,t,n=e.length,r=t.length,i,o){if(0===r||0===n)return n;v.clear();for(let e=0;e<r;++e)v.add(t[e]);i=i||m;const s=Math.max(0,i.last-10);for(let t=s;t<n;++t)if(v.has(e[t])&&(o?.push(e[t]),v.delete(e[t]),e[t]=e[n-1],--n,--t,0===v.size||0===n))return v.clear(),n;for(let t=0;t<s;++t)if(v.has(e[t])&&(o?.push(e[t]),v.delete(e[t]),e[t]=e[n-1],--n,--t,0===v.size||0===n))return v.clear(),n;return v.clear(),n}function w(e,t,n){const r=e.length;if(t>=r)return e.slice();const i=_(n),o=new Set,s=[];for(;s.length<t;){const t=Math.floor(i()*r);o.has(t)||(o.add(t),s.push(e[t]))}return s}function _(e){return e?(S.seed=e,()=>S.getFloat()):Math.random}const S=new i.A;function x(e,t){if(!e)return e;const n=_(t);for(let t=e.length-1;t>0;t--){const r=Math.floor(n()*(t+1)),i=e[t];e[t]=e[r],e[r]=i}return e}function M(e,t){const n=e.indexOf(t);return-1!==n?(e.splice(n,1),t):null}function A(e,t){return null!=e}const T=[]},3512:function(e,t,n){"use strict";n.d(t,{Fj:function(){return h},UE:function(){return f},Uq:function(){return c},Xi:function(){return p},gz:function(){return m},mo:function(){return d}});var r=n(57725),i=n(42663),o=n(96285);const s="HH:mm",a="HH:mm:ss",l="HH:mm:ss.SSS",c={HM:s,HMS:a,HMS_MS:l},u=[l,a,s,"TT"],d="yyyy-MM-dd",h=a;function p(e){if(!e||!(0,i.Kg)(e))return null;const t=o.c9.fromFormat(e,d);return t.isValid?t:null}function f(e){return e&&(0,i.Kg)(e)?(0,r.Pb)(u,(t=>{const n=o.c9.fromFormat(e,t);return n.isValid?n:null}))??null:null}function m(e){if(!e||!(0,i.Kg)(e))return null;const t=o.c9.fromISO(e);return t.isValid?t:null}},3881:function(e,t,n){"use strict";n.d(t,{u:function(){return a}});var r=n(36752),i=n(7804),o=n(18504);const s=(e,t,n)=>{const r=new Map;for(let i=t;i<=n;i++)r.set(e[i],i);return r},a=(0,i.u$)(class extends i.WL{constructor(e){if(super(e),e.type!==i.OA.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,n){let r;void 0===n?n=t:void 0!==t&&(r=t);const i=[],o=[];let s=0;for(const t of e)i[s]=r?r(t,s):s,o[s]=n(t,s),s++;return{values:o,keys:i}}render(e,t,n){return this.dt(e,t,n).values}update(e,[t,n,i]){const a=(0,o.cN)(e),{values:l,keys:c}=this.dt(t,n,i);if(!Array.isArray(a))return this.ut=c,l;const u=this.ut??=[],d=[];let h,p,f=0,m=a.length-1,y=0,g=l.length-1;for(;f<=m&&y<=g;)if(null===a[f])f++;else if(null===a[m])m--;else if(u[f]===c[y])d[y]=(0,o.lx)(a[f],l[y]),f++,y++;else if(u[m]===c[g])d[g]=(0,o.lx)(a[m],l[g]),m--,g--;else if(u[f]===c[g])d[g]=(0,o.lx)(a[f],l[g]),(0,o.Dx)(e,d[g+1],a[f]),f++,g--;else if(u[m]===c[y])d[y]=(0,o.lx)(a[m],l[y]),(0,o.Dx)(e,a[f],a[m]),m--,y++;else if(void 0===h&&(h=s(c,y,g),p=s(u,f,m)),h.has(u[f]))if(h.has(u[m])){const t=p.get(c[y]),n=void 0!==t?a[t]:null;if(null===n){const t=(0,o.Dx)(e,a[f]);(0,o.lx)(t,l[y]),d[y]=t}else d[y]=(0,o.lx)(n,l[y]),(0,o.Dx)(e,a[f],n),a[t]=null;y++}else(0,o.KO)(a[m]),m--;else(0,o.KO)(a[f]),f++;for(;y<=g;){const t=(0,o.Dx)(e,d[g+1]);(0,o.lx)(t,l[y]),d[y++]=t}for(;f<=m;){const e=a[f++];null!==e&&(0,o.KO)(e)}return this.ut=c,(0,o.mY)(e,d),r.c0}})},3929:function(e,t,n){"use strict";n.d(t,{NB:function(){return r},RR:function(){return a},YC:function(){return o},kq:function(){return s}});const r=(()=>{const e=[];return e[254]="NEWSUBFILETYPE",e[255]="SUBFILETYPE",e[256]="IMAGEWIDTH",e[257]="IMAGELENGTH",e[258]="BITSPERSAMPLE",e[259]="COMPRESSION",e[262]="PHOTOMETRICINTERPRETATION",e[263]="THRESHHOLDING",e[264]="CELLWIDTH",e[265]="CELLLENGTH",e[266]="FILLORDER",e[269]="DOCUMENTNAME",e[270]="IMAGEDESCRIPTION",e[271]="MAKE",e[272]="MODEL",e[273]="STRIPOFFSETS",e[274]="ORIENTATION",e[277]="SAMPLESPERPIXEL",e[278]="ROWSPERSTRIP",e[279]="STRIPBYTECOUNTS",e[280]="MINSAMPLEVALUE",e[281]="MAXSAMPLEVALUE",e[282]="XRESOLUTION",e[283]="YRESOLUTION",e[284]="PLANARCONFIGURATION",e[285]="PAGENAME",e[286]="XPOSITION",e[287]="YPOSITION",e[288]="FREEOFFSETS",e[289]="FREEBYTECOUNTS",e[290]="GRAYRESPONSEUNIT",e[291]="GRAYRESPONSECURVE",e[292]="T4OPTIONS",e[293]="T6OPTIONS",e[296]="RESOLUTIONUNIT",e[297]="PAGENUMBER",e[300]="COLORRESPONSEUNIT",e[301]="TRANSFERFUNCTION",e[305]="SOFTWARE",e[306]="DATETIME",e[315]="ARTIST",e[316]="HOSTCOMPUTER",e[317]="PREDICTOR",e[318]="WHITEPOINT",e[319]="PRIMARYCHROMATICITIES",e[320]="COLORMAP",e[321]="HALFTONEHINTS",e[322]="TILEWIDTH",e[323]="TILELENGTH",e[324]="TILEOFFSETS",e[325]="TILEBYTECOUNTS",e[326]="BADFAXLINES",e[327]="CLEANFAXDATA",e[328]="CONSECUTIVEBADFAXLINES",e[330]="SUBIFD",e[332]="INKSET",e[333]="INKNAMES",e[334]="NUMBEROFINKS",e[336]="DOTRANGE",e[337]="TARGETPRINTER",e[338]="EXTRASAMPLES",e[339]="SAMPLEFORMAT",e[340]="SMINSAMPLEVALUE",e[341]="SMAXSAMPLEVALUE",e[342]="TRANSFERRANGE",e[347]="JPEGTABLES",e[512]="JPEGPROC",e[513]="JPEGIFOFFSET",e[514]="JPEGIFBYTECOUNT",e[515]="JPEGRESTARTINTERVAL",e[517]="JPEGLOSSLESSPREDICTORS",e[518]="JPEGPOINTTRANSFORM",e[519]="JPEGQTABLES",e[520]="JPEGDCTABLES",e[521]="JPEGACTABLES",e[529]="YCBCRCOEFFICIENTS",e[530]="YCBCRSUBSAMPLING",e[531]="YCBCRPOSITIONING",e[532]="REFERENCEBLACKWHITE",e[700]="XMP",e[33550]="GEOPIXELSCALE",e[33922]="GEOTIEPOINTS",e[33432]="COPYRIGHT",e[42112]="GDAL_METADATA",e[42113]="GDAL_NODATA",e[50844]="RPCCOEFFICIENT",e[34264]="GEOTRANSMATRIX",e[34735]="GEOKEYDIRECTORY",e[34736]="GEODOUBLEPARAMS",e[34737]="GEOASCIIPARAMS",e[34665]="EXIFIFD",e[34853]="GPSIFD",e[40965]="INTEROPERABILITYIFD",e})(),i=(()=>{const e=r.slice();return e[36864]="ExifVersion",e[40960]="FlashpixVersion",e[40961]="ColorSpace",e[42240]="Gamma",e[37121]="ComponentsConfiguration",e[37122]="CompressedBitsPerPixel",e[40962]="PixelXDimension",e[40963]="PixelYDimension",e[37500]="MakerNote",e[37510]="UserComment",e[40964]="RelatedSoundFile",e[36867]="DateTimeOriginal",e[36868]="DateTimeDigitized",e[36880]="OffsetTime",e[36881]="OffsetTimeOriginal",e[36882]="OffsetTimeDigitized",e[37520]="SubSecTime",e[37521]="SubSecTimeOriginal",e[37522]="SubSecTimeDigitized",e[37888]="Temperature",e[37889]="Humidity",e[37890]="Pressure",e[37891]="WaterDepth",e[37892]="Acceleration",e[37893]="CameraElevationAngle",e[42016]="ImageUniqueID",e[42032]="CameraOwnerName",e[42033]="BodySerialNumber",e[42034]="LensSpecification",e[42035]="LensMake",e[42036]="LensModel",e[42037]="LensSerialNumber",e[33434]="ExposureTime",e[33437]="FNumber",e[34850]="ExposureProgram",e[34852]="SpectralSensitivity",e[34855]="PhotographicSensitivity",e[34856]="OECF",e[34864]="SensitivityType",e[34865]="StandardOutputSensitivity",e[34866]="RecommendedExposureIndex",e[34867]="ISOSpeed",e[34868]="ISOSpeedLatitudeyyy",e[34869]="ISOSpeedLatitudezzz",e[37377]="ShutterSpeedValue",e[37378]="ApertureValue",e[37379]="BrightnessValue",e[37380]="ExposureBiasValue",e[37381]="MaxApertureValue",e[37382]="SubjectDistance",e[37383]="MeteringMode",e[37384]="LightSource",e[37385]="Flash",e[37386]="FocalLength",e[37396]="SubjectArea",e[41483]="FlashEnergy",e[41484]="SpatialFrequencyResponse",e[41486]="FocalPlaneXResolution",e[41487]="FocalPlaneYResolution",e[41488]="FocalPlaneResolutionUnit",e[41492]="SubjectLocation",e[41493]="ExposureIndex",e[41495]="SensingMethod",e[41728]="FileSource",e[41729]="SceneType",e[41730]="CFAPattern",e[41985]="CustomRendered",e[41986]="ExposureMode",e[41987]="WhiteBalance",e[41988]="DigitalZoomRatio",e[41989]="FocalLengthIn35mmFilm",e[41990]="SceneCaptureType",e[41991]="GainControl",e[41992]="Contrast",e[41993]="Saturation",e[41994]="Sharpness",e[41995]="DeviceSettingDescription",e[41996]="SubjectDistanceRange",e})(),o=(()=>{const e=[];return e[1024]="GTModelTypeGeoKey",e[1025]="GTRasterTypeGeoKey",e[1026]="GTCitationGeoKey",e[2048]="GeographicTypeGeoKey",e[2049]="GeogCitationGeoKey",e[2050]="GeogGeodeticDatumGeoKey",e[2051]="GeogPrimeMeridianGeoKey",e[2052]="GeogLinearUnitsGeoKey",e[2053]="GeogLinearUnitSizeGeoKey",e[2054]="GeogAngularUnitsGeoKey",e[2055]="GeogAngularUnitSizeGeoKey",e[2056]="GeogEllipsoidGeoKey",e[2057]="GeogSemiMajorAxisGeoKey",e[2058]="GeogSemiMinorAxisGeoKey",e[2059]="GeogInvFlatteningGeoKey",e[2061]="GeogPrimeMeridianLongGeoKey",e[2060]="GeogAzimuthUnitsGeoKey",e[3072]="ProjectedCSTypeGeoKey",e[3073]="PCSCitationGeoKey",e[3074]="ProjectionGeoKey",e[3075]="ProjCoordTransGeoKey",e[3076]="ProjLinearUnitsGeoKey",e[3077]="ProjLinearUnitSizeGeoKey",e[3078]="ProjStdParallel1GeoKey",e[3079]="ProjStdParallel2GeoKey",e[3080]="ProjNatOriginLongGeoKey",e[3081]="ProjNatOriginLatGeoKey",e[3082]="ProjFalseEastingGeoKey",e[3083]="ProjFalseNorthingGeoKey",e[3084]="ProjFalseOriginLongGeoKey",e[3085]="ProjFalseOriginLatGeoKey",e[3086]="ProjFalseOriginEastingGeoKey",e[3087]="ProjFalseOriginNorthingGeoKey",e[3088]="ProjCenterLongGeoKey",e[3090]="ProjCenterEastingGeoKey",e[3091]="ProjCenterNorthingGeoKey",e[3092]="ProjScaleAtNatOriginGeoKey",e[3093]="ProjScaleAtCenterGeoKey",e[3094]="ProjAzimuthAngleGeoKey",e[3095]="ProjStraightVertPoleLongGeoKey",e[4096]="VerticalCSTypeGeoKey",e[4097]="VerticalCitationGeoKey",e[4098]="VerticalDatumGeoKey",e[4099]="VerticalUnitsGeoKey",e})(),s=(e,t)=>{let n=(t||r)[e];return void 0===n&&(n="unknown"+String(e)),n},a=new Map([["EXIFIFD",i],["GPSIFD",["GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError"]]])},3991:function(e,t,n){"use strict";n.d(t,{k:function(){return l}});var r=n(91017),i=n(4631),o=n(96285);function s(e){if(!e)return"";const t=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let n="";for(const r of e.match(t)||[])switch(r){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":n+=r;break;case"A":case"a":n+="a";break;default:n+=`'${r}'`}return n}const a="esri.core.sql.timeonly";class l{constructor(e,t,n,r){this._hour=e,this._minute=t,this._second=n,this._millisecond=r,this.declaredRootClass=a}static isTimeOnly(e){return"object"==typeof e&&null!=e&&"declaredRootClass"in e&&e.declaredRootClass===a}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(e){return l.isTimeOnly(e)&&e.hour===this.hour&&e.minute===this.minute&&e.second===this.second&&e.millisecond===this.millisecond}clone(){return new l(this.hour,this.minute,this.second,this.millisecond)}isValid(){return(0,r.Fq)(this.hour)&&(0,r.Fq)(this.minute)&&(0,r.Fq)(this.second)&&(0,r.Fq)(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(e=null){return null===e||""===e?this.toString():(e=s(e))?o.c9.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(e,{locale:(0,i.JK)(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(e,t,n,r){const i=new l(e,t,n,r);return i.isValid()?i:null}static fromReader(e){if(!e)return null;const t=e.split(":");return 3!==t.length?null:new l(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10),0)}static fromMilliseconds(e){if(e>864e5||e<0)return null;const t=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),r=Math.floor(e/36e5%24),i=Math.floor(e%1e3);return new l(r,n,t,i)}static fromDateJS(e){return new l(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}static fromDateTime(e){return new l(e.hour,e.minute,e.second,e.millisecond)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,t=null){if(""===e)return null;if(null===e)return null;const n=[];t?(t=s(t))&&n.push(t):null!==t&&""!==t||(n.push("HH:mm:ss"),n.push("HH:mm:ss.SSS"),n.push("hh:mm:ss a"),n.push("hh:mm:ss.SSS a"),n.push("HH:mm"),n.push("hh:mm a"),n.push("H:mm"),n.push("h:mm a"),n.push("H:mm:ss"),n.push("h:mm:ss a"),n.push("H:mm:ss.SSS"),n.push("h:mm:ss.SSS a"));for(const t of n){const n=o.c9.fromFormat(e,t);if(n.isValid)return new l(n.hour,n.minute,n.second,n.millisecond)}return null}plus(e,t){switch(e){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return l.fromDateTime(this.toUTCDateTime().plus({[e]:t}))}return null}toUTCDateTime(){return o.c9.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(e,t){switch(t.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===t?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}}},4064:function(e,t,n){"use strict";n.d(t,{M9:function(){return c},oO:function(){return u},rS:function(){return p}});var r=n(62991),i=n(21750),o=n(65452),s=n(43532),a=n(14215),l=n(4331);function c(e,t,n,r){const o=h(e,{},{context:r,isLabelSymbol:!1});null!=o&&(0,i.sM)(n,o,t)}function u(e,t,n,r){const i=h(e,{},{context:r,isLabelSymbol:!0});null!=i&&(t[n]=i)}function d(e){return(0,l.wk)(e)||e instanceof s.A}function h(e,t,n){if(null==e)return null;const{context:i,isLabelSymbol:s}=n,l=i?.origin,c=i?.messages;if("web-scene"===l&&!d(e)){const n=(0,a.t)(e,{retainCIM:!0,hasLabelingContext:s});return null!=n.symbol?n.symbol.write(t,i):(c?.push(new r.A("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:i,error:n.error})),null)}return(0,o.TU)(i?.layer)&&(u=e,"polygon-3d"===u?.type||"line-3d"===u?.type)?(c?.push(new r.A("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${i?.layer?.declaredClass}'.`,{symbol:e,context:i})),null):("web-map"===l||"portal-item"===l&&!(0,o.TU)(i?.layer))&&d(e)?(c?.push(new r.A("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:i})),null):e.write(t,i);var u}function p(e,t){return(0,l.Bu)(e,null,t)}},4068:function(e,t,n){"use strict";n.d(t,{N:function(){return d}});var r,i=n(82392),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325)),l=n(30361);let c=r=class extends o.A{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const e={strength:this.strength,source:this.source};return new r(e)}};var u;(0,i._)([(0,s.MZ)({json:{write:!1}})],c.prototype,"strength",void 0),(0,i._)([(0,s.MZ)({json:{write:!1}})],c.prototype,"source",void 0),c=r=(0,i._)([(0,a.$)("esri.symbols.support.Symbol3DEmissive")],c);let d=u=class extends o.A{constructor(e){super(e),this.color=null,this.emissive=new c({source:"emissive"})}clone(){const e={color:this.color?.clone()??null,emissive:this.emissive?.clone()??null};return new u(e)}};(0,i._)([(0,s.MZ)((0,l.EW)())],d.prototype,"color",void 0),(0,i._)([(0,s.MZ)({type:c,json:{write:!1}})],d.prototype,"emissive",void 0),d=u=(0,i._)([(0,a.$)("esri.symbols.support.Symbol3DMaterial")],d)},4197:function(e,t,n){"use strict";n.d(t,{Hu:function(){return l},jI:function(){return m},zy:function(){return d}});n(6273);var r,i,o=n(62991),s=n(21570),a=n(63457);function l(e,t,n){const i=d(e),a=t,l=c(i,a,n);if(i){const t=s.A.deriveUnitFromSR(i,e.spatialReference).heightUnit;if(!n&&t!==i.heightUnit){const e=new o.A("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${t})`,{horizontalUnit:t});return new o.A("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:i,error:e})}}if(!("heightModelInfo"in(u=e)&&null!=u.heightModelInfo||null!=u.spatialReference)&&f(u)||l===r.Unsupported)return new o.A("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:i});var u;switch(l){case r.Units:{const e=i?.heightUnit||"unknown",t=a?.heightUnit||"unknown",n=new o.A("layerview:incompatible-height-unit",`The vertical units of the layer (${e}) must match the vertical units of the scene (${t})`,{layerUnit:e,sceneUnit:t});return new o.A("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:i,sceneHeightModelInfo:a,error:n})}case r.HeightModel:{const e=i?.heightModel||"unknown",t=a?.heightModel||"unknown",n=new o.A("layerview:incompatible-height-model",`The height model of the layer (${e}) must match the height model of the scene (${t})`,{layerHeightModel:e,sceneHeightModel:t});return new o.A("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:i,sceneHeightModelInfo:a,error:n})}case r.CRS:{const e=i?.vertCRS||"unknown",t=a?.vertCRS||"unknown",n=new o.A("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${e}) must match the vertical datum of the scene (${t})`,{layerDatum:e,sceneDatum:t});return new o.A("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:i,sceneHeightModelInfo:a,error:n})}}return null}function c(e,t,n){if(!u(e)||!u(t))return r.Unsupported;if(null==e||null==t)return r.Ok;if(!n&&e.heightUnit!==t.heightUnit)return r.Units;if(e.heightModel!==t.heightModel)return r.HeightModel;switch(e.heightModel){case"gravity-related-height":return r.Ok;case"ellipsoidal":return e.vertCRS===t.vertCRS?r.Ok:r.CRS;default:return r.Unsupported}}function u(e){return null==e||null!=e.heightModel&&null!=e.heightUnit}function d(e){if("integrated-mesh-3dtiles"===e.type)return null;const t=e.url?(0,a.qg)(e.url):void 0,n=e.spatialReference?.vcsWkid;return(null!=n||null==t||"ImageServer"!==t.serverType)&&h(e)&&e.heightModelInfo?e.heightModelInfo:f(e)?s.A.deriveUnitFromSR(g,e.spatialReference):null}function h(e){return"heightModelInfo"in e}function p(e){if("unknown"===e.type||!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function f(e){return p(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):y(e)}function m(e){return null!=e.layers||y(e)||p(e)||h(e)}function y(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(i=r||(r={}))[i.Ok=0]="Ok",i[i.Units=1]="Units",i[i.HeightModel=2]="HeightModel",i[i.CRS=3]="CRS",i[i.Unsupported=4]="Unsupported";const g=new s.A({heightModel:"gravity-related-height"})},4331:function(e,t,n){"use strict";n.d(t,{dp:function(){return U},$y:function(){return C},wk:function(){return E},Y7:function(){return R},wC:function(){return P},Ac:function(){return O},Bu:function(){return L},Es:function(){return k},q8:function(){return N},em:function(){return F},Rv:function(){return Z},xK:function(){return D},On:function(){return j}});var r,i=n(8636),o=n(9283),s=n(60936),a=n(94598),l=n(85498),c=n(56173),u=n(82392),d=n(15565),h=n(23572),p=n(81482),f=(n(6273),n(80861),n(85716)),m=n(26325),y=n(90818),g=n(34513);let v=r=class extends y.A{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,n,r){if(e&&"string"!=typeof e&&null==e.imageData)return e;const i={};return e&&(i.url=e),t&&(i.outline=t),null!=n&&(i.width=(0,h.cr)(n)),null!=r&&(i.height=(0,h.cr)(r)),i}clone(){const e=new r({color:(0,d.o8)(this.color),height:this.height,outline:(0,d.o8)(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",(0,d.o8)(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};(0,u._)([(0,f.e)({esriPFS:"picture-fill"},{readOnly:!0})],v.prototype,"type",void 0),(0,u._)([(0,p.MZ)(g.ku)],v.prototype,"url",void 0),(0,u._)([(0,p.MZ)({type:Number,json:{write:!0}})],v.prototype,"xscale",void 0),(0,u._)([(0,p.MZ)({type:Number,json:{write:!0}})],v.prototype,"yscale",void 0),(0,u._)([(0,p.MZ)({type:Number,cast:h.cr,json:{write:!0}})],v.prototype,"width",void 0),(0,u._)([(0,p.MZ)({type:Number,cast:h.cr,json:{write:!0}})],v.prototype,"height",void 0),(0,u._)([(0,p.MZ)({type:Number,cast:h.cr,json:{write:!0}})],v.prototype,"xoffset",void 0),(0,u._)([(0,p.MZ)({type:Number,cast:h.cr,json:{write:!0}})],v.prototype,"yoffset",void 0),(0,u._)([(0,p.MZ)(g.k7)],v.prototype,"source",void 0),v=r=(0,u._)([(0,m.$)("esri.symbols.PictureFillSymbol")],v);var b=n(11455),w=n(12862),_=n(7998),S=n(55736),x=n(24826),M=n(68231),A=n(999),T=n(31864),I=n(43532);function C(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function E(e){switch(e?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const k={base:A.A,key:"type",typeMap:{"simple-fill":S.A,"picture-fill":v,"picture-marker":b.A,"simple-line":x.A,"simple-marker":M.A,text:T.A,"label-3d":a.A,"line-3d":l.A,"mesh-3d":c.A,"point-3d":w.A,"polygon-3d":_.A,"web-style":I.A,cim:s.A},errorContext:"symbol"},P=(A.A,S.A,s.A,{base:A.A,key:"type",typeMap:{"picture-marker":b.A,"simple-marker":M.A,"point-3d":w.A,cim:s.A},errorContext:"symbol"}),R={base:A.A,key:"type",typeMap:{"simple-line":x.A,"line-3d":l.A,cim:s.A},errorContext:"symbol"},O={base:A.A,key:"type",typeMap:{"simple-fill":S.A,"picture-fill":v,"polygon-3d":_.A,cim:s.A},errorContext:"symbol"},N={base:A.A,key:"type",typeMap:{"picture-marker":b.A,"simple-marker":M.A,text:T.A,"web-style":I.A,cim:s.A},errorContext:"symbol"},L=(0,o.C)({types:k}),D={base:A.A,key:"type",typeMap:{"simple-fill":S.A,"picture-fill":v,"picture-marker":b.A,"simple-line":x.A,"simple-marker":M.A,text:T.A,"line-3d":l.A,"mesh-3d":c.A,"point-3d":w.A,"polygon-3d":_.A,"web-style":I.A,cim:s.A},errorContext:"symbol"},F={base:A.A,key:"type",typeMap:{text:T.A,"label-3d":a.A},errorContext:"symbol"},j=(A.A,a.A,l.A,c.A,w.A,_.A,I.A,{base:A.A,key:"type",typeMap:{"line-3d":l.A,"mesh-3d":c.A,"point-3d":w.A,"polygon-3d":_.A,"web-style":I.A,cim:s.A},errorContext:"symbol"}),Z={base:A.A,key:"type",typeMap:{"label-3d":a.A},errorContext:"symbol"},U=(0,i.aq)(k)},4477:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,y=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(y=!1,_(e),!m)if(null!==r(c))m=!0,M||(M=!0,x());else{var t=r(u);null!==t&&R(S,t.startTime-e)}}var x,M=!1,A=-1,T=5,I=-1;function C(){return!!g||!(t.unstable_now()-I<T)}function E(){if(g=!1,M){var e=t.unstable_now();I=e;var n=!0;try{e:{m=!1,y&&(y=!1,b(A),A=-1),f=!0;var o=p;try{t:{for(_(e),h=r(c);null!==h&&!(h.expirationTime>e&&C());){var s=h.callback;if("function"==typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof a){h.callback=a,_(e),n=!0;break t}h===r(c)&&i(c),_(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&R(S,l.startTime-e),n=!1}}break e}finally{h=null,p=o,f=!1}n=void 0}}finally{n?x():M=!1}}}if("function"==typeof w)x=function(){w(E)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,P=k.port2;k.port1.onmessage=E,x=function(){P.postMessage(null)}}else x=function(){v(E,0)};function R(e,n){A=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e||(T=0<e?Math.floor(1e3/e):5)},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(y?(b(A),A=-1):y=!0,R(S,o-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,M||(M=!0,x()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},4506:function(e,t,n){"use strict";n.d(t,{$8:function(){return A},Cc:function(){return a},Hx:function(){return g},Io:function(){return x},J_:function(){return d},KJ:function(){return u},Sp:function(){return f},XM:function(){return h},YN:function(){return p},ZH:function(){return y},b6:function(){return M},cU:function(){return i},gg:function(){return m},hs:function(){return l},kU:function(){return c},or:function(){return I},pF:function(){return E},pq:function(){return C},qE:function(){return o},yR:function(){return s}});const r=new Float32Array(1);function i(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function o(e,t,n){return Math.min(Math.max(e,t),n)}function s(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function a(e,t,n){return e+(t-e)*n}function l(e,t,n,r,i){return a(r,i,(e-t)/(n-t))}function c(e){return e*Math.PI/180}function u(e){return 180*e/Math.PI}function d(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function h(e){return Math.acos(o(e,-1,1))}function p(e){return Math.asin(o(e,-1,1))}function f(e,t,n=1e-6){return e===t||!(!Number.isFinite(e)||!Number.isFinite(t))&&(e>t?e-t:t-e)<=n}function m(e,t,n=1e-6){return!f(e,t,n)&&e>t}function y(e,t,n=1e-6){return!f(e,t,n)&&e<t}function g(e,t,n=1e-6){return f(e,t,n)||e>t}const v=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function b(e){return v.setFloat64(0,e),v.getBigInt64(0)}const w=BigInt("1000000"),_=S(1);function S(e){const t=b(e=Math.abs(e)),n=function(e){return v.setBigInt64(0,e),v.getFloat64(0)}(t<=w?w:t-w);return Math.abs(e-n)}function x(e,t,n=_){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(null!=n&&S(Math.min(Math.abs(e),Math.abs(t)))<n)return Math.abs(e-t)<=n;const r=b(e),i=b(t);return r<0==i<0&&!((r<i?i-r:r-i)>w)}function M(e,t,n=1e-6){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;const r=Math.abs(e-t),i=Math.abs(e),o=Math.abs(t);if(0===e||0===t||i<1e-12&&o<1e-12){if(r>.01*n)return!1}else if(r/(i+o)>n)return!1;return!0}function A(e){return T(Math.max(-C,Math.min(e,C)))}function T(e){return r[0]=e,r[0]}function I(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(f(t,1)&&f(n,1)&&f(r,1))}const C=T(34028234663852886e22);function E(e,t,n){if(void 0===n||0==+n)return Math[e](t);if(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0)return NaN;let r=t.toString().split("e");return r=(t=Math[e](+(r[0]+"e"+(r[1]?+r[1]-n:-n)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+n:n))}},4631:function(e,t,n){"use strict";n.d(t,{JK:function(){return c},Ml:function(){return m},ZS:function(){return d},oQ:function(){return p}});var r=n(70214);n(6273);let i,o;const s=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,a=globalThis.document?.documentElement;function l(){const e=a?.getAttribute("lang"),t=globalThis.navigator?.language;return s??e??t??"en"}function c(){return void 0===o&&(o=l()),o}const u=/^(?<language>[a-z]{2,3})(?:-[a-z]{3})?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function d(e=c()){return u.exec(e)?.groups}const h=[];new Map;function p(e){return h.push(e),(0,r.hA)((()=>{h.splice(h.indexOf(e),1)}))}const f=[];function m(e){return f.push(e),(0,r.hA)((()=>f.splice(f.indexOf(e),1)))}function y(){const e=i??l();o!==e&&([...f].forEach((t=>t(e))),o=e,[...h].forEach((t=>t(e))))}globalThis.addEventListener?.("languagechange",y),a&&new MutationObserver((()=>{y()})).observe(a,{attributeFilter:["lang"]})},4643:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});var r=n(46337);function i(e,t,n){if(r.S$)return;const i=function(e){class t extends window.MutationObserver{constructor(e){super(e),this.observedEntry=[],this.callback=e}observe(e,t){return this.observedEntry.push({target:e,options:t}),super.observe(e,t)}unobserve(e){const t=this.observedEntry.filter((t=>t.target!==e));this.observedEntry=[],this.callback(super.takeRecords(),this),this.disconnect(),t.forEach((e=>this.observe(e.target,e.options)))}}return"intersection"===e?window.IntersectionObserver:"mutation"===e?t:window.ResizeObserver}(e);return new i(t,n)}},4648:function(e,t,n){"use strict";n.d(t,{q:function(){return w}});var r=n(82392),i=n(62991),o=n(19759),s=n(81482),a=n(8636),l=(n(6273),n(67498),n(25376)),c=n(26325),u=n(48524),d=n(63910),h=n(41446),p=n(34467);const f={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISVideoLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},m={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},y={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},g={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":f,"web-map/basemap":m,"web-map/tables":y,"link-chart/operational-layers":{...f,LinkChartLayer:!0},"link-chart/basemap":m,"link-chart/tables":y,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}};var v=n(9014),b=n(72991);const w=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(e,t,n){return"Group Layer"===n?.portalItem?.type?void 0:e}writeListMode(e,t,n,r){(r&&"ground"===r.layerContainerType||e&&(0,p.R)(this,n,{},r))&&(t[n]=e)}writeOperationalLayerType(e,t,n){e&&(t[n]=e)}writeTitle(e,t){t.title=e??"Layer"}readVisibilityTimeExtent(e){return e?b.T.fromArray(e):null}writeVisibilityTimeExtent(e,t,n,r){e&&"tables"!==r.layerContainerType&&(e.isEmpty?r?.messages&&r.messages.push(new i.A("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):t[n]=e.toArray())}read(e,t){t&&(t.layer=this),(0,h.t)(this,e,(t=>super.read(e,t)),t)}write(e,t){if(!this.persistenceEnabled&&!t?.ignorePersistenceEnabled)return null;if(t?.origin){const e=`${t.origin}/${t.layerContainerType||"operational-layers"}`,n=g[e];let r=!!n?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===e&&(r=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===e&&(r=!1),!r)return t.messages?.push(new i.A("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const n=super.write(e,{...t,layer:this}),r=!!t&&!!t.messages&&!!t.messages.filter((e=>e instanceof i.A&&"web-document-write:property-required"===e.name)).length;return(0,o.w8)(n?.url)?(t?.messages?.push(new i.A("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&r?null:n}beforeSave(){}};return(0,r._)([(0,s.MZ)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),(0,r._)([(0,l.w)("id",["id"])],t.prototype,"readId",null),(0,r._)([(0,s.MZ)(v.C1)],t.prototype,"listMode",void 0),(0,r._)([(0,u.K)("listMode")],t.prototype,"writeListMode",null),(0,r._)([(0,s.MZ)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:d.K,isRequired:!0}}}}})],t.prototype,"operationalLayerType",void 0),(0,r._)([(0,u.K)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),(0,r._)([(0,s.MZ)(v.ke)],t.prototype,"opacity",void 0),(0,r._)([(0,s.MZ)({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),(0,r._)([(0,u.K)("title"),(0,u.K)(["web-scene"],"title")],t.prototype,"writeTitle",null),(0,r._)([(0,s.MZ)({type:b.T,json:{origins:{"web-scene":{write:{layerContainerTypes:d.K}}}}})],t.prototype,"visibilityTimeExtent",void 0),(0,r._)([(0,l.w)("visibilityTimeExtent")],t.prototype,"readVisibilityTimeExtent",null),(0,r._)([(0,u.K)(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[a.jz,a.Uv]]}})],t.prototype,"writeVisibilityTimeExtent",null),(0,r._)([(0,s.MZ)({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:d.K}}})],t.prototype,"visible",void 0),t=(0,r._)([(0,c.$)("esri.layers.mixins.OperationalLayer")],t),t}},4728:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r,i=n(82392),o=n(93814),s=n(73783),a=n(81482),l=(n(6273),n(80861),n(67498),n(26325)),c=n(83882);let u=r=class extends s.A{constructor(e){super(e),this.name=c.Tv,this.color=c.fT.clone(),this.haloColor=null,this.haloOpacity=c.Zs,this.fillOpacity=c.mA,this.shadowColor=c.xc.clone(),this.shadowOpacity=c.Ps,this.shadowDifference=c.d2,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(e){return this.color.equals(e.color)&&(this.haloColor||this.color).equals(e.haloColor||e.color)&&this.haloOpacity===e.haloOpacity&&this.fillOpacity===e.fillOpacity&&this.haloWidth===e.haloWidth&&this.haloBlur===e.haloBlur&&this.shadowColor.equals(e.shadowColor)&&this.shadowOpacity===e.shadowOpacity&&this.shadowDifference===e.shadowDifference}clone(){return new r({...this,color:this.color.clone(),haloColor:this.haloColor?.clone(),shadowColor:this.shadowColor?.clone()})}assignFrom(e){this.color=e.color.clone(),this.haloColor=e.haloColor?.clone(),this.haloOpacity=e.haloOpacity,this.fillOpacity=e.fillOpacity,this.shadowColor=e.shadowColor.clone(),this.shadowDifference=e.shadowDifference,this.shadowOpacity=e.shadowOpacity,this.haloBlur=e.haloBlur,this.haloWidth=e.haloWidth}};(0,i._)([(0,a.MZ)({type:String,constructOnly:!0,nonNullable:!0})],u.prototype,"name",void 0),(0,i._)([(0,a.MZ)({type:o.A,nonNullable:!0})],u.prototype,"color",void 0),(0,i._)([(0,a.MZ)({type:o.A})],u.prototype,"haloColor",void 0),(0,i._)([(0,a.MZ)({nonNullable:!0})],u.prototype,"haloOpacity",void 0),(0,i._)([(0,a.MZ)({nonNullable:!0})],u.prototype,"fillOpacity",void 0),(0,i._)([(0,a.MZ)({type:o.A,nonNullable:!0})],u.prototype,"shadowColor",void 0),(0,i._)([(0,a.MZ)({nonNullable:!0})],u.prototype,"shadowOpacity",void 0),(0,i._)([(0,a.MZ)({nonNullable:!0})],u.prototype,"shadowDifference",void 0),(0,i._)([(0,a.MZ)({nonNullable:!0})],u.prototype,"haloWidth",void 0),(0,i._)([(0,a.MZ)({nonNullable:!0})],u.prototype,"haloBlur",void 0),u=r=(0,i._)([(0,l.$)("esri.views.support.HighlightOptions")],u);const d=u},5042:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80521)),o=r(n(59638)),s=r(n(55891)),a=r(n(85)),l=r(n(22036)),c=r(n(58963)),u=r(n(620)),d="midnight",h="noon",p="morning",f="afternoon",m="evening",y="night";function g(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var s=t||"";return n+String(i)+s+(0,c.default)(o,2)}function v(e,t){return e%60==0?(e>0?"-":"+")+(0,c.default)(Math.abs(e)/60,2):b(e,t)}function b(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+(0,c.default)(Math.floor(i/60),2)+n+(0,c.default)(i%60,2)}var w={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return u.default.y(e,t)},Y:function(e,t,n,r){var i=(0,l.default)(e,r),o=i>0?i:1-i;if("YY"===t){var s=o%100;return(0,c.default)(s,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):(0,c.default)(o,t.length)},R:function(e,t){var n=(0,s.default)(e);return(0,c.default)(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return(0,c.default)(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return(0,c.default)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return(0,c.default)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return u.default.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return(0,c.default)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=(0,a.default)(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):(0,c.default)(i,t.length)},I:function(e,t,n){var r=(0,o.default)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):(0,c.default)(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):u.default.d(e,t)},D:function(e,t,n){var r=(0,i.default)(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):(0,c.default)(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return(0,c.default)(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return(0,c.default)(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return(0,c.default)(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?h:0===i?d:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?m:i>=12?f:i>=4?p:y,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return u.default.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):u.default.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,c.default)(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,c.default)(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):u.default.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):u.default.s(e,t)},S:function(e,t){return u.default.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return v(i);case"XXXX":case"XX":return b(i);default:return b(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return v(i);case"xxxx":case"xx":return b(i);default:return b(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+g(i,":");default:return"GMT"+b(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+g(i,":");default:return"GMT"+b(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e,o=Math.floor(i.getTime()/1e3);return(0,c.default)(o,t.length)},T:function(e,t,n,r){var i=(r._originalDate||e).getTime();return(0,c.default)(i,t.length)}};t.default=w,e.exports=t.default},5213:function(e,t,n){"use strict";n.d(t,{SE:function(){return i}});var r=n(33432);async function i(e,t,n){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=s(e));const r=o(e),i=e.capabilities.query.supportsPagination;t.start=0,t.num=r;let a=null;for(;;){const o=await e.source.queryFeaturesJSON(t,n);if(null==a?a=o:a.features=a.features.concat(o.features),a.exceededTransferLimit=o.exceededTransferLimit,!i||!o.exceededTransferLimit)break;t.start+=r}return a}function o(e){return s(e)*function(e){return e.capabilities.query.maxRecordCount||2e3}(e)}function s(e){return e.capabilities.query.supportsMaxRecordCountFactor?r.A.MAX_MAX_RECORD_COUNT_FACTOR:1}},5262:function(e,t,n){"use strict";n.d(t,{Ao:function(){return V},B5:function(){return J},G9:function(){return Z},GA:function(){return z},GR:function(){return M},Ij:function(){return q},KX:function(){return B},LA:function(){return j},OU:function(){return O},PQ:function(){return T},Sk:function(){return te},TL:function(){return D},UW:function(){return I},_H:function(){return H},b$:function(){return ne},dk:function(){return ee},dy:function(){return l},jM:function(){return Q},k1:function(){return U},m5:function(){return E},mq:function(){return W},ny:function(){return x},oU:function(){return A},t$:function(){return S},tW:function(){return k},vl:function(){return F},wL:function(){return C},wv:function(){return L},x$:function(){return R},x0:function(){return P},x1:function(){return Y},y7:function(){return N},yD:function(){return p}});n(6273);var r=n(1817),i=n(34670),o=n(99263),s=n(67488),a=n(40969);const l=39.37,c=o.$O.radius*Math.PI/200,u=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,d=a.A,h=/UNIT\[([^\]]+)]/i,p=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),f=(0,r.O)()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),m=e=>e*e,y=e=>e*e*e,g={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:m(.001)},"square-centimeters":{inBaseUnits:m(.01)},"square-decimeters":{inBaseUnits:m(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:m(1e3)},"square-inches":{inBaseUnits:m(.0254)},"square-feet":{inBaseUnits:m(.3048)},"square-yards":{inBaseUnits:m(.9144)},"square-miles":{inBaseUnits:m(1609.344)},"square-nautical-miles":{inBaseUnits:m(1852)},"square-us-feet":{inBaseUnits:m(1200/3937)},acres:{inBaseUnits:.0015625*m(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*y(.001)},"cubic-centimeters":{inBaseUnits:1e3*y(.01)},"cubic-decimeters":{inBaseUnits:1e3*y(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*y(1e3)},"cubic-inches":{inBaseUnits:1e3*y(.0254)},"cubic-feet":{inBaseUnits:1e3*y(.3048)},"cubic-yards":{inBaseUnits:1e3*y(.9144)},"cubic-miles":{inBaseUnits:1e3*y(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},v=(()=>{const e={};for(const t in g)for(const n in g[t].units)e[n]=t;return e})();const b=["metric","imperial"],w=[...b,"inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],_=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function S(e){const t=v[e];if(!t)throw new Error("unknown type");return t}function x(e){return function(e){return g[e].baseUnit}(S(e))}function M(e,t=null){return t=t||S(e),g[t].baseUnit===e}function A(e,t,n){if(t===n)return e;const r=S(t);if(r!==S(n))throw new Error("incompatible units");const i=M(t,r)?e:function(e,t,n){return e*g[n].units[t].inBaseUnits}(e,t,r);return M(n,r)?i:function(e,t,n){return e/g[n].units[t].inBaseUnits}(i,n,r)}function T(e,t,n,r=!1){if(!r&&(0,s.EA)(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const i=q(t);return i!==n&&(e=i?A(e,i,n):A(e*=z(t),"meters",n)),e}function I(e,t,n,r=!1){if(!r&&(0,s.EA)(n))throw new Error("Unable to convert from a linear unit to an angular unit.");const i=q(n);return t!==i&&(e=i?A(e,t,i):A(e,t,"meters")/z(n)),e}function C(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function E(e){return C(e)}function k(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function P(e,t){const n=A(e,t,"meters");return Math.abs(n)<3e3?"meters":"kilometers"}function R(e,t){const n=A(e,t,"meters");return Math.abs(n)<1e5?"meters":"kilometers"}function O(e,t){const n=A(e,t,"feet");return Math.abs(n)<1e3?"feet":"miles"}function N(e,t){const n=A(e,t,"feet");return Math.abs(n)<1e5?"feet":"miles"}function L(e,t){const n=A(e,t,"square-meters");return Math.abs(n)<3e6?"square-meters":"square-kilometers"}function D(e,t){const n=A(e,t,"square-feet");return Math.abs(n)<1e6?"square-feet":"square-miles"}function F(e,t,n){return A(e,t,"meters")/(n*Math.PI/180)}function j(e){return f.fromJSON(e.toLowerCase())||null}function Z(e){if(null!=e&&!(0,s.B3)(e))return 1;const t=z(e);return t>1e5?1:t}function U(e){return z(e)>=(0,i.tO)(e).metersPerDegree?"meters":q(e)}function z(e,t=o.$O.metersPerDegree){return V(e,!0)??t}function V(e,t=!1){const n=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let i=null;if(n){if((0,s.tl)(n))return o.sH.metersPerDegree;if((0,s.ZL)(n))return o.Sw.metersPerDegree;i=d.values[d[n]],!i&&t&&p.has(n)&&(i=c)}else r&&(Y(r)?i=$(u.exec(r),i):K(r)&&(i=$(h.exec(r),i)));return i}function B(e){return(0,s.EA)(e)?1:z(e)}function $(e,t){return e?.[1]?G(e[1]):t}function G(e){return parseFloat(e.split(",")[1])}function q(e){const t=e?.wkid??null,n=e?.wkt2??e?.wkt??null;let r=null;if(t)r=d.units[d[t]];else if(n){const e=Y(n)?u:K(n)?h:null;if(e){const t=e.exec(n);t?.[1]&&(r=function(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let n=t?.[1];if(!n||!j(n)){const t=G(e);n=null;const r=d.values;for(let e=0;e<r.length;++e)if(Math.abs(t-r[e])<X){n=d.units[e];break}}return n}(t[1]))}}return null!=r?j(r):null}function H(e){const t=q(e);return null!=t&&w.includes(t)?t:null}function W(e){const t=U(e);return null!=t&&w.includes(t)?t:null}function J(e){const t=q(e);return null==t?null:_.get(t)}function K(e){return/^GEOCCS/i.test(e)}function Y(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const X=1e-7;function Q(e){const t=q(e);if(null==t)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const ee=(0,r.O)()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"}),te=(0,r.O)()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"}),ne=(0,r.O)()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"})},5338:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){}}(),e.exports=n(31247)},5525:function(e,t,n){"use strict";n.d(t,{B2:function(){return S},BW:function(){return Z},Ch:function(){return ae},DF:function(){return T},Di:function(){return H},E2:function(){return q},IE:function(){return _},Nl:function(){return ne},Q4:function(){return le},Rk:function(){return ue},Ux:function(){return J},Ye:function(){return V},ZF:function(){return X},eU:function(){return B},eY:function(){return ee},hK:function(){return he},jH:function(){return te},jQ:function(){return se},kz:function(){return re},oN:function(){return W},q3:function(){return Q},qK:function(){return F},qN:function(){return D},z5:function(){return z},zv:function(){return K}});var r=n(62991),i=n(80861),o=n(57725),s=n(46373),a=n(2532),l=n(56053),c=n(85747),u=n(97011),d=n(88358),h=n(62942);function p(e,t){return e?t?4:3:t?3:2}const f=()=>i.A.getLogger("esri.layers.graphics.featureConversionUtils"),m={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryMultiPatch:3,esriGeometryEnvelope:0},y=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o},g=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o,e[n+2]=t[r+2]},v=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o,e[n+2]=t[r+3]},b=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o,e[n+2]=t[r+2],e[n+3]=t[r+3]};function w(e,t,n,r){if(e){if(n)return t&&r?b:g;if(t&&r)return v}else if(t&&r)return g;return y}function _({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function S({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function x({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function M({scale:e,translate:t},n){return Math.round((n-t[1])/e[1])}function A({scale:e,translate:t},n,r){return n*e[r]+t[r]}function T(e,t,n){return e?t?n?O(e):E(e):n?P(e):I(e):null}function I(e){const t=e.coords;return{x:t[0],y:t[1]}}function C(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function E(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function k(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function P(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function R(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function O(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function N(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function L(e,t){return e&&t?N:e?k:t?R:C}function D(e,t,n=L(null!=t.z,null!=t.m)){return n(e,t)}function F(e,t,n){if(null==e)return null;const r=p(t,n),i=[];for(let t=0;t<e.coords.length;t+=r){const n=[];for(let i=0;i<r;i++)n.push(e.coords[t+i]);i.push(n)}return t?n?{points:i,hasZ:t,hasM:n}:{points:i,hasZ:t}:n?{points:i,hasM:n}:{points:i}}function j(e,t,n=p(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const r=e.coords;let i=0;for(const e of t.points)for(let t=0;t<n;t++)r[i++]=e[t];return e}function Z(e,t,n){if(!e)return null;const r=p(t,n),{coords:i,lengths:o}=e,s=[];let a=0;for(const e of o){const t=[];for(let n=0;n<e;n++){const e=[];for(let t=0;t<r;t++)e.push(i[a++]);t.push(e)}s.push(t)}return t?n?{paths:s,hasZ:t,hasM:n}:{paths:s,hasZ:t}:n?{paths:s,hasM:n}:{paths:s}}function U(e,t,n=p(t.hasZ,t.hasM)){const{lengths:r,coords:i}=e;let o=0;for(const e of t.paths){for(const t of e)for(let e=0;e<n;e++)i[o++]=t[e];r.push(e.length)}return e}function z(e,t,n){if(!e)return null;const r=p(t,n),{coords:i,lengths:o}=e,s=[];let a=0;for(const e of o){const t=[];for(let n=0;n<e;n++){const e=[];for(let t=0;t<r;t++)e.push(i[a++]);t.push(e)}s.push(t)}return t?n?{rings:s,hasZ:t,hasM:n}:{rings:s,hasZ:t}:n?{rings:s,hasM:n}:{rings:s}}function V(e,t,n=t.hasZ,r=t.hasM){return B(e,t.rings,n,r)}function B(e,t,n,r){const i=p(n,r),{lengths:o,coords:s}=e;let a=0;pe(e);for(const e of t){for(const t of e)for(let e=0;e<i;e++)s[a++]=t[e];o.push(e.length)}return e}const $=[],G=[];function q(e,t,n,r,i){$[0]=e;const[o]=H(G,$,t,n,r,i);return fe($),fe(G),o}function H(e,t,n,i,o,s){if(fe(e),!n){for(const n of t){const t=(0,h.W)(n,s);e.push(new c.Om(null,n.attributes,null,t))}return e}switch(n){case"esriGeometryPoint":return function(e,t,n,r,i){const o=L(n,r);for(const n of t){const t=null!=n.geometry?o(new d.A,n.geometry):null;e.push(new c.Om(t,n.attributes,null,(0,h.W)(n,i)))}return e}(e,t,i,o,s);case"esriGeometryMultipoint":return function(e,t,n,r,i){const o=p(n,r);for(const n of t){const t=null!=n.geometry?j(new d.A,n.geometry,o):null;e.push(new c.Om(t,n.attributes,null,(0,h.W)(n,i)))}return e}(e,t,i,o,s);case"esriGeometryPolyline":return function(e,t,n,r,i){const o=p(n,r);for(const n of t){const t=null!=n.geometry?U(new d.A,n.geometry,o):null,r=null!=n.centroid?D(new d.A,n.centroid):null;e.push(new c.Om(t,n.attributes,r,(0,h.W)(n,i)))}return e}(e,t,i,o,s);case"esriGeometryPolygon":case"esriGeometryMultiPatch":return function(e,t,n,r,i){for(const o of t){const t=null!=o.geometry?V(new d.A,o.geometry,n,r):null,s=(0,h.W)(o,i);null!=o.centroid?e.push(new c.Om(t,o.attributes,C(new d.A,o.centroid),s)):e.push(new c.Om(t,o.attributes,null,s))}return e}(e,t,i,o,s);default:f().error("convertToFeatureSet:unknown-geometry",new r.A("internal:geometry",`Unable to parse unknown geometry type '${n}'`)),fe(e)}return e}function W(e,t,n,r){G[0]=e,Y($,G,t,n,r);const i=$[0];return fe($),fe(G),i}function J(e,t,n){if(null==e)return null;const i=new d.A;return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==n&&(n=e.hasM),(0,l.fT)(e)?L(null!=t?t:null!=e.z,null!=n?n:null!=e.m)(i,e):(0,l.Bi)(e)?V(i,e,t,n):(0,l.Rg)(e)?U(i,e,p(t,n)):(0,l.U9)(e)?j(i,e,p(t,n)):void f().error("convertFromGeometry:unknown-geometry",new r.A("internal:geometry",`Unable to parse unknown geometry type '${e}'`))}function K(e,t,n,i){const o=e&&("coords"in e?e:e.geometry);if(null==o)return null;switch(t){case"esriGeometryPoint":{let e=I;return n&&i?e=O:n?e=E:i&&(e=P),e(o)}case"esriGeometryMultipoint":return F(o,n,i);case"esriGeometryPolyline":return Z(o,n,i);case"esriGeometryPolygon":return z(o,n,i);default:return f().error("convertToGeometry:unknown-geometry",new r.A("internal:geometry",`Unable to parse unknown geometry type '${t}'`)),null}}function Y(e,t,n,i,o){if(fe(e),null==n)return function(e,t){for(const n of t)e.push({attributes:n.attributes});return e}(e,t);switch(n){case"esriGeometryPoint":return function(e,t,n,r){let i=I;n&&r?i=O:n?i=E:r&&(i=P);for(const n of t){const{geometry:t,attributes:r}=n,o=null!=t?i(t):null;e.push({attributes:r,geometry:o})}return e}(e,t,i,o);case"esriGeometryMultipoint":return function(e,t,n,r){for(const{geometry:i,attributes:o}of t)e.push({attributes:o,geometry:null!=i?F(i,n,r):null});return e}(e,t,i,o);case"esriGeometryPolyline":return function(e,t,n,r){for(const{geometry:i,attributes:o}of t)e.push({attributes:o,geometry:null!=i?Z(i,n,r):null});return e}(e,t,i,o);case"esriGeometryPolygon":return function(e,t,n,r){for(const{geometry:i,attributes:o,centroid:s}of t){const t=null!=i?z(i,n,r):null;if(null!=s){const n=I(s);e.push({attributes:o,centroid:n,geometry:t})}else e.push({attributes:o,geometry:t})}return e}(e,t,i,o);default:f().error("convertToFeatureSet:unknown-geometry",new r.A("internal:geometry",`Unable to parse unknown geometry type '${n}'`))}return e}function X(e){const{spatialReference:t,transform:n,fields:r,hasM:i,hasZ:o,features:s,geometryType:a,exceededTransferLimit:l,queryGeometry:c,queryGeometryType:u}=e,d={features:Y([],s,a,o,i),fields:r,geometryType:a,spatialReference:t,queryGeometry:K(c,u,!1,!1)};return n&&(d.transform=n),l&&(d.exceededTransferLimit=l),i&&(d.hasM=i),o&&(d.hasZ=o),d}function Q(e,t){const n=new u.A,{hasM:r,hasZ:i,features:o,spatialReference:s,geometryType:a,exceededTransferLimit:l,transform:c,fields:d}=e;return d&&(n.fields=d),n.geometryType=a??null,n.spatialReference=s??null,o&&H(n.features,o,a,i,r,t),l&&(n.exceededTransferLimit=l),r&&(n.hasM=r),i&&(n.hasZ=i),c&&(n.transform=c),n}function ee(e){const{transform:t,features:n,hasM:r,hasZ:i}=e;if(!t)return e;for(const e of n)null!=e.geometry&&ae(e.geometry,e.geometry,r,i,t),null!=e.centroid&&ae(e.centroid,e.centroid,r,i,t);return e.transform=null,e}function te(e,t){const{geometryType:n,features:r,hasM:i,hasZ:o}=t;if(!e)return t;for(let t=0;t<r.length;t++){const s=r[t],a=s.weakClone();a.geometry=new d.A,ne(a.geometry,s.geometry,i,o,n,e),s.centroid&&(a.centroid=new d.A,ne(a.centroid,s.centroid,i,o,"esriGeometryPoint",e)),r[t]=a}return t.transform=e,t}function ne(e,t,n,r,i,o,s=n,a=r){if(pe(e),!t?.coords.length)return null;const l=m[i],{coords:c,lengths:u}=t,d=p(n,r),h=p(n&&s,r&&a),f=w(n,r,s,a);if(!u.length)return f(e.coords,c,0,0,_(o,c[0]),S(o,c[1])),pe(e,d,0),e;let y,g,v,b,x=0,M=0,A=M;for(const t of u){if(t<l)continue;let n=0;M=A,v=y=_(o,c[x]),b=g=S(o,c[x+1]),f(e.coords,c,M,x,v,b),n++,x+=d,M+=h;for(let r=1;r<t;r++,x+=d)v=_(o,c[x]),b=S(o,c[x+1]),v===y&&b===g||(f(e.coords,c,M,x,v-y,b-g),M+=h,n++,y=v,g=b);n>=l&&(e.lengths.push(n),A=M)}return fe(e.coords,A),e.coords.length?e:null}function re(e,t,n,r,i,o,s=n,a=r){if(pe(e),!t?.coords.length)return null;const l=m[i],{coords:c,lengths:u}=t,d=p(n,r),h=p(n&&s,r&&a),f=w(n,r,s,a);if(!u.length)return f(e.coords,c,0,0,c[0],c[1]),pe(e,d,0),e;let y=0;const g=o*o;for(const t of u){if(t<l){y+=t*d;continue}const n=e.coords.length/h,r=y,i=y+(t-1)*d;f(e.coords,c,e.coords.length,r,c[r],c[r+1]),oe(e.coords,c,d,g,f,r,i),f(e.coords,c,e.coords.length,i,c[i],c[i+1]);const o=e.coords.length/h-n;o>=l?e.lengths.push(o):fe(e.coords,n*h),y+=t*d}return e.coords.length?e:null}function ie(e,t,n,r){const i=e[t],o=e[t+1],s=e[n],a=e[n+1],l=e[r],c=e[r+1];let u=s,d=a,h=l-u,p=c-d;if(0!==h||0!==p){const e=((i-u)*h+(o-d)*p)/(h*h+p*p);e>1?(u=l,d=c):e>0&&(u+=h*e,d+=p*e)}return h=i-u,p=o-d,h*h+p*p}function oe(e,t,n,r,i,o,s){let a,l=r,c=0;for(let e=o+n;e<s;e+=n)a=ie(t,e,o,s),a>l&&(c=e,l=a);l>r&&(c-o>n&&oe(e,t,n,r,i,o,c),i(e,t,e.length,c,t[c],t[c+1]),s-c>n&&oe(e,t,n,r,i,c,s))}function se(e,t,n,r){if(!t?.coords?.length)return null;const i=p(n,r);let o=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;if(t&&t.coords){const e=t.coords;for(let t=0;t<e.length;t+=i){const n=e[t],r=e[t+1];o=Math.min(o,n),c=Math.max(c,n),l=Math.min(l,r),u=Math.max(u,r)}}return(0,s.is)(e)?(0,s.BI)(e,o,l,c,u):(0,a.fA)(o,l,c,u,e),e}function ae(e,t,n,r,i){const{coords:s,lengths:a}=t,l=p(n,r);if(!s.length)return e!==t&&pe(e),e;(0,o.Lw)(i);const{originPosition:c,scale:u,translate:d}=i,h=me;h.originPosition=c;const f=h.scale;f[0]=u[0]??1,f[1]=-(u[1]??1),f[2]=u[2]??1,f[3]=u[3]??1;const m=h.translate;if(m[0]=d[0]??0,m[1]=d[1]??0,m[2]=d[2]??0,m[3]=d[3]??0,!a.length){for(let t=0;t<l;++t)e.coords[t]=A(h,s[t],t);return e!==t&&pe(e,l,0),e}let y=0;for(let t=0;t<a.length;t++){const n=a[t];e.lengths[t]=n;for(let t=0;t<l;++t)e.coords[y+t]=A(h,s[y+t],t);let r=e.coords[y],i=e.coords[y+1];y+=l;for(let t=1;t<n;t++,y+=l){r+=s[y]*f[0],i+=s[y+1]*f[1],e.coords[y]=r,e.coords[y+1]=i;for(let t=2;t<l;++t)e.coords[y+t]=A(h,s[y+t],t)}}return e!==t&&pe(e,s.length,a.length),e}function le(e,t,n,r,i,o){if(pe(e),e.lengths.push(...t.lengths),n===i&&r===o)for(let n=0;n<t.coords.length;n++)e.coords.push(t.coords[n]);else{const s=p(n,r),a=w(n,r,i,o),l=t.coords;for(let t=0;t<l.length;t+=s)a(e.coords,l,e.coords.length,t,l[t],l[t+1])}return e}function ce(e,t,n,r){let i=0,o=e[r*t],s=e[r*(t+1)];for(let a=1;a<n;a++){const n=o+e[r*(t+a)],l=s+e[r*(t+a)+1],c=(n-o)*(l+s);o=n,s=l,i+=c}return.5*i}function ue(e,t){const{coords:n,lengths:r}=e;let i=0,o=0;for(let e=0;e<r.length;e++){const s=r[e];o+=ce(n,i,s,t),i+=s}return Math.abs(o)}function de(e,t,n,r){return 0==e*r-n*t&&e*n+t*r>0}function he(e,t,n,r,i){const o=p(r,i);if(!e.lengths.length){if(e.coords.length<2)return null;const[n,r]=e.coords,i=x(t,n),o=M(t,r);return new d.A([],[i,o])}const s=new d.A([],[0,0]),a=m[n],l="esriGeometryPolygon"===n||"esriGeometryPolyline"===n;let c=0,u=0;for(let n=0;n<e.lengths.length;n++){const r=e.lengths[n],i=u;let d=x(t,e.coords[o*c]),h=M(t,e.coords[o*c+1]);s.coords[u++]=d,s.coords[u++]=h;let p=0,f=0,m=1;for(let n=1;n<r;n++){const r=x(t,e.coords[o*(n+c)]),i=M(t,e.coords[o*(n+c)+1]);if(r!==d||i!==h){const e=r-d,t=i-h;l&&de(p,f,e,t)?(s.coords[u-2]+=e,s.coords[u-1]+=t,d+=e,h+=t):(s.coords[u++]=r,s.coords[u++]=i,d=r,h=i,p=e,f=t,m+=1)}}m<a?u=i:s.lengths.push(m),c+=r}return 0===s.lengths.length?null:s}function pe(e,t=0,n=0){fe(e.lengths,n),fe(e.coords,t)}function fe(e,t=0){e.length!==t&&(e.length=t)}const me={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]}},5585:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(82392),i=n(14755),o=n(80861),s=(n(6273),n(67498),n(62991),n(26325)),a=n(34008);let l=class extends i.A{projectOrWarn(e,t){if(null==e)return e;const{geometry:n,pending:r}=(0,a.projectOrLoad)(e,t);return r?null:r||n?n:(o.A.getLogger(this).warn("geometry could not be projected to the spatial reference",{georeference:this,geometry:e,sourceSpatialReference:e.spatialReference,targetSpatialReference:t}),null)}};l=(0,r._)([(0,s.$)("esri.layers.support.GeoreferenceBase")],l)},5785:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r=n(82392),i=n(14755),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325));let l=class extends(i.A.ClonableMixin(o.A)){constructor(){super(...arguments),this.showLegend=null,this.title=null}};(0,r._)([(0,s.MZ)({type:Boolean,json:{write:!0}})],l.prototype,"showLegend",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"title",void 0),l=(0,r._)([(0,a.$)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],l);const c=l},5829:function(e,t,n){"use strict";n.d(t,{H:function(){return o},f:function(){return i}});var r=n(62991);function i(e){if(e&&"object"==typeof e&&"type"in e&&"mesh"===e.type)throw new r.A("internal:mesh","Mesh geometries are not supported for this operation")}function o(e){e.forEach(i)}},5856:function(e,t,n){"use strict";n.d(t,{bv:function(){return l},Fk:function(){return c},yG:function(){return u},$b:function(){return d},Nd:function(){return h},jm:function(){return p},sK:function(){return y}});var r=n(36137),i=n(23572);function o(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}const s=o();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:function(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},create:o,fromValues:function(e,t,n,r,i,o,s,a,l,c,u,d,h,p,f,m){const y=new Float32Array(16);return y[0]=e,y[1]=t,y[2]=n,y[3]=r,y[4]=i,y[5]=o,y[6]=s,y[7]=a,y[8]=l,y[9]=c,y[10]=u,y[11]=d,y[12]=h,y[13]=p,y[14]=f,y[15]=m,y}},Symbol.toStringTag,{value:"Module"}));var a=n(25336);class l{constructor(e,t,n){this.strength=e,this.radius=t,this.threshold=n,this.type="bloom"}interpolate(e,t,n){this.strength=f(e.strength,t.strength,n),this.radius=f(e.radius,t.radius,n),this.threshold=f(e.threshold,t.threshold,n)}clone(){return new l(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:m(this.radius),strength:this.strength,threshold:this.threshold}}}class c{constructor(e){this.radius=e,this.type="blur"}interpolate(e,t,n){this.radius=Math.round(f(e.radius,t.radius,n))}clone(){return new c(this.radius)}toJSON(){return{type:"blur",radius:m(this.radius)}}}class u{constructor(e,t){this.type=e,this.amount=t,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,n){this.amount=f(e.amount,t.amount,n),this._updateMatrix()}clone(){return new u(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||o();switch(this.type){case"brightness":this._colorMatrix=((e,t)=>{const n=(0,a.hZ)(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return(0,a.mg)(n,n)})(e,this.amount);break;case"contrast":this._colorMatrix=((e,t)=>{const n=(0,a.hZ)(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return(0,a.mg)(n,n)})(e,this.amount);break;case"grayscale":this._colorMatrix=((e,t)=>{const n=1-t,r=(0,a.hZ)(e,.2126+.7874*n,.7152-.7152*n,.0722-.0722*n,0,.2126-.2126*n,.7152+.2848*n,.0722-.0722*n,0,.2126-.2126*n,.7152-.7152*n,.0722+.9278*n,0,0,0,0,1);return(0,a.mg)(r,r)})(e,this.amount);break;case"invert":this._colorMatrix=((e,t)=>{const n=1-2*t,r=(0,a.hZ)(e,n,0,0,t,0,n,0,t,0,0,n,t,0,0,0,1);return(0,a.mg)(r,r)})(e,this.amount);break;case"saturate":this._colorMatrix=((e,t)=>{const n=(0,a.hZ)(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return(0,a.mg)(n,n)})(e,this.amount);break;case"sepia":this._colorMatrix=((e,t)=>{const n=1-t,r=(0,a.hZ)(e,.393+.607*n,.769-.769*n,.189-.189*n,0,.349-.349*n,.686+.314*n,.168-.168*n,0,.272-.272*n,.534-.534*n,.131+.869*n,0,0,0,0,1);return(0,a.mg)(r,r)})(e,this.amount)}}}class d{constructor(e,t,n,r){this.offsetX=e,this.offsetY=t,this.blurRadius=n,this.color=r,this.type="drop-shadow"}interpolate(e,t,n){this.offsetX=f(e.offsetX,t.offsetX,n),this.offsetY=f(e.offsetY,t.offsetY,n),this.blurRadius=f(e.blurRadius,t.blurRadius,n),this.color[0]=Math.round(f(e.color[0],t.color[0],n)),this.color[1]=Math.round(f(e.color[1],t.color[1],n)),this.color[2]=Math.round(f(e.color[2],t.color[2],n)),this.color[3]=f(e.color[3],t.color[3],n)}clone(){return new d(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];return e[3]*=255,{type:"drop-shadow",xoffset:m(this.offsetX),yoffset:m(this.offsetY),blurRadius:m(this.blurRadius),color:e}}}class h{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,n){this.angle=f(e.angle,t.angle,n),this._updateMatrix()}clone(){return new h(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||o();this._colorMatrix=((e,t)=>{const n=Math.sin(t*Math.PI/180),r=Math.cos(t*Math.PI/180),i=(0,a.hZ)(e,.213+.787*r-.213*n,.715-.715*r-.715*n,.072-.072*r+.928*n,0,.213-.213*r+.143*n,.715+.285*r+.14*n,.072-.072*r-.283*n,0,.213-.213*r-.787*n,.715-.715*r+.715*n,.072+.928*r+.072*n,0,0,0,0,1);return(0,a.mg)(i,i)})(e,this.angle)}}class p{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,t,n){this.amount=f(e.amount,t.amount,n)}clone(){return new p(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function f(e,t,n){return e+(t-e)*n}function m(e){return Math.round(1e3*(0,i.PN)(e))/1e3}function y(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new u(e.type,0);case"saturate":case"brightness":case"contrast":return new u(e.type,1);case"opacity":return new p(1);case"hue-rotate":return new h(0);case"blur":return new c(0);case"drop-shadow":return new d(0,0,0,[...(0,r.TS)("transparent")]);case"bloom":return new l(0,0,1)}}},6135:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(82392),i=n(14755),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(23547),l=n(31173);let c=class extends(i.A.ClonableMixin(a.A)){constructor(e){super(e),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,r._)([(0,o.MZ)({type:["auto","preview","list"],json:{write:!0}})],c.prototype,"displayType",void 0),(0,r._)([(0,o.MZ)({type:[l.A],json:{write:!0}})],c.prototype,"orderByFields",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],c.prototype,"title",void 0),(0,r._)([(0,o.MZ)({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],c.prototype,"type",void 0),c=(0,r._)([(0,s.$)("esri.popup.content.AttachmentsContent")],c);const u=c},6183:function(e,t,n){"use strict";n.d(t,{Am:function(){return g},JT:function(){return d},Rc:function(){return u},YE:function(){return x},n8:function(){return h},q3:function(){return c},sG:function(){return a}});var r=n(58842),i=(n(57725),n(19759)),o=n(62436),s=n(49112);function a(e,t){const n=e.allLayerViews.find((e=>e.uid===t));return n?.layer.parent===e.map?.basemap}let l;function c(e){if(l)return l(e);let t=null;const n=m(e),r=!n?.baseLayers.length;for(const e in s.H){const i=_(n,b(s.H[e]),{mustMatchReferences:r});if("equal"===i){t=e;break}"base-layers-equal"===i&&(t=e)}return t}function u(e){return!!e?.baseLayers.concat(e.referenceLayers).some(d)}function d(e){if(f(e.url))return!0;if("vector-tile"===e.type)for(const t in e.sourceNameToSource){const n=e.sourceNameToSource[t];if(f(n?.sourceUrl))return!0}return!1}function h(e,t){if(null==t||null==e)return{spatialReference:null,updating:!1};if("not-loaded"===t.loadStatus)return t.load(),{spatialReference:null,updating:!0};if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1};if(0===t.baseLayers.length)return{spatialReference:null,updating:!1};const n=t.baseLayers.at(0);switch(n.loadStatus){case"not-loaded":n.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const r=(("supportedSpatialReferences"in n?n.supportedSpatialReferences:null)||["tileInfo"in n?n.tileInfo?.spatialReference:n.spatialReference]).filter(Boolean),i=e.spatialReference;return i?{spatialReference:r.find((e=>i.equals(e)))??r[0]??null,updating:!1}:{spatialReference:r[0],updating:!1}}const p=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function f(e){if(!e)return!1;const t=new i.s0((0,i.s2)(e));return!!t.authority&&p.test(t.authority)}function m(e){return e?!e.loaded&&e.resourceInfo?b(e.resourceInfo.data):{baseLayers:y(e.baseLayers),referenceLayers:y(e.referenceLayers)}:null}function y(e){return(r.A.isCollection(e)?e.toArray():e).map(g)}function g(e){return{type:e.type,effect:"effect"in e?e.effect:void 0,url:M("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl||""),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible,sublayers:"map-image"!==e.type&&"wms"!==e.type||null==e.sublayers?void 0:e.sublayers?.map((e=>({id:e.id,visible:e.visible}))),activeLayerId:"wmts"===e.type?e.activeLayer?.id:void 0}}function v(e){return e.isReference||"ArcGISSceneServiceLayer"===e.layerType}function b(e){return e?{baseLayers:w((e.baseMapLayers??[]).filter((e=>!v(e)))),referenceLayers:w((e.baseMapLayers??[]).filter((e=>v(e))))}:null}function w(e){return e.map((e=>function(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;case"ArcGISSceneServiceLayer":t="scene";break;default:t="unknown"}return{type:t,effect:e.effect,url:M(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:e.minScale??0,maxScale:e.maxScale??0,opacity:e.opacity??1,visible:null==e.visibility||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}(e)))}function _(e,t,n){return null!=e!=(null!=t)?"not-equal":e&&t?S(e.baseLayers,t.baseLayers)?S(e.referenceLayers,t.referenceLayers)?"equal":n.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function S(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!x(e[n],t[n]))return!1;return!0}function x(e,t){if(e.type!==t.type||e.url!==t.url||e.minScale!==t.minScale||e.maxScale!==t.maxScale||e.visible!==t.visible||e.opacity!==t.opacity)return!1;if(!(0,o.J2)(e.effect,t.effect))return!1;if(null!=e.activeLayerId||null!=t.activeLayerId)return e.activeLayerId===t.activeLayerId;if(null!=e.sublayers||null!=t.sublayers){if(null==e.sublayers||null==t.sublayers||e.sublayers.length!==t.sublayers.length)return!1;for(let n=0;n<e.sublayers.length;n++){const r=e.sublayers.at(n),i=t.sublayers.at(n);if(r?.id!==i?.id||r?.visible!==i?.visible)return!1}}return!0}function M(e){return e?(0,i.S8)(e).replace(/^\s*https?:/i,"").toLowerCase():""}},6221:function(e,t,n){"use strict";var r=n(96540);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},6246:function(e,t,n){"use strict";n.d(t,{$p:function(){return h},Sp:function(){return p},X1:function(){return c},hP:function(){return s},xN:function(){return l},yM:function(){return d},zw:function(){return u}});const r=9999999e31,i=2e-7,o={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE],unknown:void 0,c64:void 0,c128:void 0};function s(e){return o[e]??[-34028234663852886e22,34028234663852886e22]}const a={u1:1,u2:1,u4:1,u8:1,s8:1,u16:2,s16:2,u32:4,s32:4,f32:4,f64:8,unknown:4,c64:16,c128:32};function l(e){return function(e){return a[e]}(e.pixelType)*e.bandCount}function c(e,t){return null==e||null==t?"s32":e<0?e>=-128&&t<128?"s8":e>=-32768&&t<32768?"s16":"s32":t<256?"u8":t<65536?"u16":"u32"}function u(e){return(e?.startsWith("s")||e?.startsWith("u"))??!1}function d(e,t,n,r){let[i,o]=s(n);const a=u(n);return a&&(i-=1e-5,o+=1e-5),a?n.startsWith("u")?function(e,t,n,r){const[i,o]=r;for(let r=0;r<t.length;r++)if(t[r]){const s=e[r];s<i||s>o?t[r]=0:n[r]=s+.5|0}}(e,t,r,[i,o]):function(e,t,n,r){const[i,o]=r;for(let r=0;r<t.length;r++)if(t[r]){const s=e[r];s<i||s>o?t[r]=0:n[r]=s+(s>0?.5:-.5)|0}}(e,t,r,[i,o]):function(e,t,n,r){const[i,o]=r;for(let r=0;r<t.length;r++)if(t[r]){const s=e[r];s<i||s>o?t[r]=0:n[r]=s}}(e,t,r,[i,o])}function h(e,t){for(let n=0;n<t.length;n++)t[n]&&isNaN(e[n])&&(t[n]=0,e[n]=0)}function p(e,t,n){if(e.depthCount&&e.depthCount>1)return;const{pixels:o,statistics:a,pixelType:l}=e,c=o[0].length,u=e.bandMasks??[],d=e.mask??new Uint8Array(c).fill(255),h="f32"===l||"f64"===l,p=s(l);let f=!1;for(let e=0;e<o.length;e++){const s="number"==typeof t?t:t[e];if(null==s)continue;const c=a?.[e]?.minValue??p[0],m=a?.[e]?.maxValue??p[1];if(c>s+Number.EPSILON||m<s-Number.EPSILON)continue;const y=u[e]||d.slice(),g=o[e],v=n?.customFloatTolerance;if(h&&0!==v){let e=v;e||(e=Math.abs(s)>=r?i*Math.abs(s):"f32"===l?2**-23:Number.EPSILON);for(let t=0;t<g.length;t++)y[t]&&Math.abs(g[t]-s)<e&&(g[t]=0,y[t]=0,d[t]=0,f=!0)}else for(let e=0;e<g.length;e++)y[e]&&g[e]===s&&(g[e]=0,y[e]=0,d[e]=0,f=!0);u[e]=y}if(f){const t=e.bandMasks||e.pixels.length>1?u:null;n?.matchAllNoData?e.mask=t&&t.length>1?function(e){if(e.length<2)return e[0];const t=e[0].length,n=new Uint8Array(t).fill(0);for(let r=0;r<e.length;r++){const i=e[r];for(let e=0;e<t;e++)i[e]&&(n[e]=255)}return n}(t):d:(e.bandMasks=t,e.mask=d)}f&&"updateStatistics"in e&&e.updateStatistics()}},6249:function(e,t,n){"use strict";n.d(t,{f:function(){return d}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(25376)),s=n(26325),a=n(44153),l=n(26574),c=n(84214),u=n(57706);const d=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}readMaxScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,t,n){const r=t.capabilities?.includes("Tilemap");let{minLOD:i,maxLOD:o,minScale:s,maxScale:a}=t;if(null==i&&null==o&&(0!==s||0!==a)){const e=e=>Math.round(1e4*e)/1e4;s=e(s||t.tileInfo.lods[0].scale),a=e(a||t.tileInfo.lods[t.tileInfo.lods.length-1].scale);for(const n of t.tileInfo.lods){const t=e(n.scale);i=t>=s?n.level:i,o=t>=a?n.level:o}}if(r)return new u.d({layer:this,minLOD:i,maxLOD:o});if(t.tileInfo){const e=new l.A;return e.read(t.tileInfo,n),new c.A(e,i,o)}return null}};return(0,r._)([(0,i.MZ)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),(0,r._)([(0,i.MZ)()],t.prototype,"minScale",void 0),(0,r._)([(0,o.w)("service","minScale")],t.prototype,"readMinScale",null),(0,r._)([(0,i.MZ)()],t.prototype,"maxScale",void 0),(0,r._)([(0,o.w)("service","maxScale")],t.prototype,"readMaxScale",null),(0,r._)([(0,i.MZ)({type:a.A})],t.prototype,"spatialReference",void 0),(0,r._)([(0,i.MZ)({readOnly:!0})],t.prototype,"supportsBlankTile",null),(0,r._)([(0,i.MZ)({type:l.A})],t.prototype,"tileInfo",void 0),(0,r._)([(0,i.MZ)()],t.prototype,"tilemapCache",void 0),(0,r._)([(0,o.w)("service","tilemapCache",["capabilities","tileInfo"])],t.prototype,"readTilemapCache",null),(0,r._)([(0,i.MZ)()],t.prototype,"version",void 0),t=(0,r._)([(0,s.$)("esri.layers.mixins.ArcGISCachedService")],t),t}},6273:function(e,t,n){"use strict";let r;function i(e){return"function"==typeof r[e]?r[e]=r[e](globalThis):r[e]}n.d(t,{A:function(){return i}}),r=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},i.add=(e,t,n,o)=>{(o||void 0===r[e])&&(r[e]=t),n&&i(e)},i.cache=r,i.add("big-integer-warning-enabled",!0),i.add("esri-deprecation-warnings",!0),i.add("esri-tests-disable-screenshots",!1),i.add("esri-tests-use-full-window",!1),i.add("esri-tests-post-to-influx",!0),i.add("esri-cim-animations-enable-status","enabled"),i.add("esri-cim-animations-spotlight",!1),i.add("esri-cim-animations-freeze-time",!1),(()=>{i.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(i.add("host-browser",e),i.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),i.add("dom",e),i("host-browser")){const e=navigator,t=e.userAgent,n=e.appVersion,r=parseFloat(n);if(i.add("wp",parseFloat(t.split("Windows Phone")[1])||void 0),i.add("msapp",parseFloat(t.split("MSAppHost/")[1])||void 0),i.add("khtml",n.includes("Konqueror")?r:void 0),i.add("edge",parseFloat(t.split("Edge/")[1])||void 0),i.add("opr",parseFloat(t.split("OPR/")[1])||void 0),i.add("webkit",!i("wp")&&!i("edge")&&parseFloat(t.split("WebKit/")[1])||void 0),i.add("chrome",!i("edge")&&!i("opr")&&parseFloat(t.split("Chrome/")[1])||void 0),i.add("android",!i("wp")&&parseFloat(t.split("Android ")[1])||void 0),i.add("safari",!n.includes("Safari")||i("wp")||i("chrome")||i("android")||i("edge")||i("opr")?void 0:parseFloat(n.split("Version/")[1])),i.add("mac",n.includes("Macintosh")),!i("wp")&&/(iPhone|iPod|iPad)/.test(t)){const e=RegExp.$1.replace(/P/,"p"),n=/OS ([\d_]+)/.test(t)?RegExp.$1:"1",r=parseFloat(n.replace(/_/,".").replaceAll("_",""));i.add(e,r),i.add("ios",r)}i("webkit")||(!t.includes("Gecko")||i("wp")||i("khtml")||i("edge")||i.add("mozilla",r),i("mozilla")&&i.add("ff",parseFloat(t.split("Firefox/")[1]||t.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),n=/iPhone/i.test(e);t&&i.add("esri-mobile",t),n&&i.add("esri-iPhone",n),i.add("esri-geolocation",!!navigator.geolocation)}i.add("esri-wasm","WebAssembly"in globalThis),i.add("esri-performance-mode-frames-between-render",20),i.add("esri-force-performance-mode",!1),i.add("esri-shared-array-buffer",(()=>{const e="SharedArrayBuffer"in globalThis,t=!1===globalThis.crossOriginIsolated;return e&&!t})),i.add("wasm-simd",(()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))),i.add("esri-atomics","Atomics"in globalThis),i.add("esri-workers","Worker"in globalThis),i.add("web-feat:cache","caches"in globalThis),i.add("esri-workers-arraybuffer-transfer",!i("safari")||Number(i("safari"))>=12),i.add("workers-pool-size",8),i.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),i.add("featurelayer-simplify-payload-size-factors",[1,1,4]),i.add("featurelayer-fast-triangulation-enabled",!0),i.add("featurelayer-animation-enabled",!0),i.add("featurelayer-snapshot-enabled",!0),i.add("featurelayer-snapshot-initial-tolerance",0),i.add("featurelayer-snapshot-point-min-threshold",8e4),i.add("featurelayer-snapshot-point-max-threshold",4e5),i.add("featurelayer-snapshot-multipoint-min-threshold",2e4),i.add("featurelayer-snapshot-multipoint-max-threshold",1e5),i.add("featurelayer-snapshot-polygon-min-threshold",1e3),i.add("featurelayer-snapshot-polygon-max-threshold",2e3),i.add("featurelayer-snapshot-polyline-min-threshold",1e3),i.add("featurelayer-snapshot-polyline-max-threshold",2e3),i.add("featurelayer-snapshot-max-vertex-count",25e4),i.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!1),i.add("featurelayer-snapshot-concurrency",4),i.add("featurelayer-snapshot-coverage",.1),i.add("featurelayer-query-max-depth",4),i.add("featurelayer-query-pausing-enabled",!1),i.add("featurelayer-query-tile-concurrency",4),i.add("featurelayer-query-tile-max-features",6e5),i.add("featurelayer-advanced-symbols",!1),i.add("featurelayer-pbf",!0),i.add("featurelayer-pbf-statistics",!1),i.add("feature-layers-workers",!0),i.add("feature-polyline-generalization-factor",1),i.add("mapview-transitions-duration",200),i.add("mapview-essential-goto-duration",200),i.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),i.add("mapserver-pbf-version-support",10.81),i.add("mapservice-popup-identify-max-tolerance",20),i.add("request-queue-concurrency-hosted",16),i.add("request-queue-concurrency-non-hosted",4),i.add("curve-densification-coarse-segments",128),i.add("curve-densification-max-segments",2e3),i.add("curve-densification-min-segments",3),i.add("curve-densification-pixel-deviation",.5),i.add("view-readyState-waiting-delay",1e3),i.add("gradient-depth-bias",.01),i.add("gradient-depth-epsilon",1e-8),i.add("enable-feature:esri-compress-textures",!0),i("host-webworker")||i("host-browser")&&(i.add("esri-csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),i.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{i.add("esri-image-decode",!0,!0,!0)})).catch((()=>{i.add("esri-image-decode",!1,!0,!0)}))}return!1})),i.add("esri-url-encodes-apostrophe",(()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")})))})()},6346:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325)),l=n(19900);let c=r=class extends o.A{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new r({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${e}`}};(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"label",void 0),(0,i._)([(0,s.MZ)(l.Wp)],c.prototype,"symbol",void 0),(0,i._)([(0,s.MZ)(l.Ug)],c.prototype,"value",void 0),c=r=(0,i._)([(0,a.$)("esri.renderers.support.UniqueValueInfo")],c)},6480:function(e,t,n){"use strict";n.d(t,{Aq:function(){return l},Y3:function(){return c},id:function(){return s},ol:function(){return a},rE:function(){return o}});var r=n(6273),i=n(19759);Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const o="4.33";let s,a=o;function l(e){s=e}function c(e){const t=s?.findCredential(e);return t?.token?(0,i.rs)(e,"token",t.token):e}a="4.33.7",(0,r.A)("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),(0,r.A)("host-webworker")},6488:function(e,t,n){"use strict";n.d(t,{w:function(){return l},z:function(){return d}});var r=n(62991),i=n(80861),o=n(47659);const s=()=>i.A.getLogger("esri.layers.support.labelingInfo"),a=/\[([^[\]]+)\]/gi;function l(e,t,n){return e?e.map((e=>{const r=new o.A;if(r.read(e,n),r.labelExpression){const e=t.fields||t.layerDefinition?.fields||this.fields;r.labelExpression=r.labelExpression.replaceAll(a,((t,n)=>`[${function(e,t){if(!t)return e;const n=e.toLowerCase();for(let e=0;e<t.length;e++){const r=t[e].name;if(r.toLowerCase()===n)return r}return e}(n,e)}]`))}return r})):null}const c=["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],u={esriGeometryPoint:c,esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:c,esriGeometryEnvelope:null};function d(e,t){const n=[];for(const i of e){const e=i.labelPlacement,o=u[t];if(!i.symbol)return s().warn("No ILabelClass symbol specified."),[];if(!o)return s().error(new r.A("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),[];if(o.includes(e))n.push(i);else{const r=o[0];e&&s().warn(`Found invalid label placement type ${e} for ${t}. Defaulting to ${r}`);const a=i.clone();a.labelPlacement=r,n.push(a)}}return n}},6518:function(e,t,n){"use strict";n.d(t,{l:function(){return l}});var r=n(34088);const i=new Set,o={trace:0,debug:1,info:2,warn:4,error:8,off:10};function s(e,...t){if(!function(e){return o[e]>=o[r.l]}(e))return}let a;const l={debug:e=>s("debug"),info:e=>s("info"),warn:e=>s("warn"),error:e=>s("error"),trace:e=>s("trace"),deprecated:function(e,{component:t,name:n,suggested:r,removalVersion:o}){const l=`${e}:${"component"===e?"":t}${n}`;if(i.has(l))return;i.add(l);const c=Array.isArray(r);c&&!a&&(a=new Intl.ListFormat("en",{style:"long",type:"disjunction"}));s("warn",r&&(c&&a.format(r.map((e=>`"${e}"`)))))}}},6538:function(e,t,n){"use strict";n.d(t,{$U:function(){return N},C2:function(){return c},CQ:function(){return i},CR:function(){return S},C_:function(){return D},Cp:function(){return x},DY:function(){return a},GR:function(){return Q},Gh:function(){return E},LY:function(){return I},MZ:function(){return V},O5:function(){return H},Pq:function(){return u},Qb:function(){return G},Qs:function(){return te},Sr:function(){return b},TB:function(){return X},U5:function(){return T},V3:function(){return P},Vl:function(){return Y},Xh:function(){return K},YS:function(){return h},YV:function(){return o},_M:function(){return R},_x:function(){return W},cp:function(){return ee},dV:function(){return A},eG:function(){return l},eI:function(){return J},fq:function(){return B},fy:function(){return k},g0:function(){return C},hM:function(){return F},ie:function(){return O},ju:function(){return s},lL:function(){return y},mg:function(){return L},n9:function(){return v},nM:function(){return m},nW:function(){return U},oj:function(){return z},p:function(){return j},qM:function(){return r},r1:function(){return q},sn:function(){return g},tP:function(){return ne},uM:function(){return p},ue:function(){return d},vN:function(){return M},vd:function(){return _},yA:function(){return Z},yv:function(){return $},z2:function(){return f},zt:function(){return w}});const r=1e-30,i=512,o=16777216,s=8,a=29,l=24,c=4,u=0,d=0,h=0,p=1,f=2,m=3,y=4,g=5,v=6,b=12,w=13,_=5,S=6,x=5,M=6;var A;!function(e){e[e.FilterFlags=0]="FilterFlags",e[e.Animation=1]="Animation",e[e.GPGPU=2]="GPGPU",e[e.VV=3]="VV",e[e.DD0=4]="DD0",e[e.DD1=5]="DD1",e[e.DD2=6]="DD2",e[e.LocalTimeOrigin=7]="LocalTimeOrigin"}(A||(A={}));const T=6,I=1<<T,C=I<<1,E=1.05,k=3,P=1,R=3,O=3,N=5,L=6,D=1.15,F=4,j=128,Z=256-2*F,U=2,z=128,V=1,B=10,$=1024,G=128,q=4,H=1,W=1<<20,J=.75,K=10,Y=.75,X=256,Q=32,ee=512,te=0,ne=1},6864:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(62991),i=n(6273),o=(n(80861),n(44212));function s(e,t,n){if(e&&t)if("object"==typeof t)for(const n of Object.getOwnPropertyNames(t))s(e,n,t[n]);else{if(t.includes(".")){const r=t.split("."),i=r.splice(-1,1)[0];return void s((0,o.Jt)(e,r),i,n)}const r=e.__accessor__;null!=r&&a(t,r),e[t]=n}}function a(e,t){if((0,i.A)("esri-unknown-property-errors")&&!function(e,t){return null!=t.metadata[e]}(e,t))throw new r.A("set:unknown-property",function(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}(e,t))}},6893:function(e,t,n){"use strict";n.d(t,{TA:function(){return i},We:function(){return a},Z3:function(){return o},ZJ:function(){return l},w5:function(){return c}});var r=n(38116);const i=(0,n(1874).vD)(),o=new Map,s=new Map;new Map;async function a(e,t,n){if(!e||!n)return!1;if(!t)return!0;const i=new URL(e).host;let s=o.get(i);if(!s){const t=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");s=(await(0,r.A)(t,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return s===t}async function l(e,t,r=!1){if(!e||!t)return!0;const o=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),a=s.get(o)?.entries();if(a)for(const[e,s]of a)if(s.name===t){const t=!s.stack?.hasForwardEdits();if(!t&&r){const[{deleteForwardEdits:t},{default:r}]=await Promise.all([n.e(1611).then(n.bind(n,71611)),n.e(1767).then(n.bind(n,1767))]),a=await t(o,e,new r({sessionId:i,moment:s.moment}));return a.success&&s.stack?.clearForwardEdits(),a.success}return t}return!0}function c(e,t){if(!e)return!1;const n=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),r=s.get(n)?.entries();if(r)for(const[e,n]of r)if(n.name===t)return"edit"===n.lockType;return!1}},6902:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r,i=n(82392),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325)),l=n(8e3),c=n(61064),u=n(65648),d=n(56053),h=n(74088);const p={base:c.A,key:"type",typeMap:{extent:l.A,polygon:u.A}};let f=r=class extends o.A{constructor(e){super(e),this.areaOfInterest=null,this.subsetDefinitions=null}get dimensions(){const{subsetDefinitions:e}=this;if(null==e||0===e.length)return[];const t=new Map;e.forEach((e=>{if(!e.dimensionName)return;let n,r;if(Array.isArray(e.values[0])){const t=e.values;n=t[0][0],r=t[e.values.length-1][1]}else{const t=e.values;n=t[0],r=t[e.values.length-1]}if(t.has(e.dimensionName)){const i=t.get(e.dimensionName);i[0]=Math.min(n,i[0]),i[1]=Math.max(r,i[1])}else t.set(e.dimensionName,[n,r])}));const n=[];for(const e of t)n.push({name:e[0],extent:e[1]});return n}get variables(){const{subsetDefinitions:e}=this;if(null==e||0===e.length)return[];const t=new Set;return e.forEach((e=>{e.variableName&&t.add(e.variableName)})),[...t]}clone(){const e=this.subsetDefinitions?.map((e=>e.clone())),t=this.areaOfInterest?this.areaOfInterest.clone():this.areaOfInterest;return new r({areaOfInterest:t,subsetDefinitions:e})}};(0,i._)([(0,s.MZ)({types:p,json:{read:d.rS,write:!0}})],f.prototype,"areaOfInterest",void 0),(0,i._)([(0,s.MZ)({readOnly:!0})],f.prototype,"dimensions",null),(0,i._)([(0,s.MZ)({readOnly:!0})],f.prototype,"variables",null),(0,i._)([(0,s.MZ)({type:[h.A],json:{write:!0}})],f.prototype,"subsetDefinitions",void 0),f=r=(0,i._)([(0,a.$)("esri.layers.support.MultidimensionalSubset")],f)},7390:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},e.exports=t.default},7804:function(e,t,n){"use strict";n.d(t,{OA:function(){return r},WL:function(){return o},u$:function(){return i}});const r={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},i=e=>(...t)=>({_$litDirective$:e,values:t});class o{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}},7998:function(e,t,n){"use strict";n.d(t,{A:function(){return S}});var r,i=n(82392),o=n(58842),s=n(61090),a=n(15565),l=n(80861),c=n(61985),u=n(81482),d=(n(6273),n(85716)),h=n(26325),p=n(12508),f=n(58720),m=n(65076),y=n(28107),g=n(34450),v=n(62932),b=n(31873),w=n(70538);const _=o.A.ofType({base:null,key:"type",typeMap:{extrude:p.A,fill:f.A,icon:m.A,line:y.A,object:g.A,text:b.A,water:w.A}});let S=r=class extends v.A{constructor(e){super(e),this.symbolLayers=new _,this.type="polygon-3d"}initialize(){const e=e=>{"line"===e.type&&(0,s.io)(l.A.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),"text"===e.type&&(0,s.io)(l.A.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles((0,c.on)((()=>this.symbolLayers),"after-add",(({item:t})=>e(t)),c.OH))}clone(){return new r({styleOrigin:(0,a.o8)(this.styleOrigin),symbolLayers:(0,a.o8)(this.symbolLayers),thumbnail:(0,a.o8)(this.thumbnail)})}static fromJSON(e){const t=new r;if(t.read(e),2===t.symbolLayers.length&&"fill"===t.symbolLayers.at(0).type&&"line"===t.symbolLayers.at(1).type){const n=t.symbolLayers.at(0),r=t.symbolLayers.at(1);!r.enabled||e.symbolLayers?.[1]&&!1===e.symbolLayers[1].enable||(n.outline={size:r.size,color:null!=r.material?r.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new r({symbolLayers:new o.A([f.A.fromSimpleFillSymbol(e)])})}};(0,i._)([(0,u.MZ)({type:_,json:{write:!0}})],S.prototype,"symbolLayers",void 0),(0,i._)([(0,d.e)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],S.prototype,"type",void 0),S=r=(0,i._)([(0,h.$)("esri.symbols.PolygonSymbol3D")],S)},8e3:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});var r,i=n(82392),o=n(21332),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325)),l=n(61064),c=n(1912),u=n(44153),d=n(10805),h=n(19387),p=n(67488),f=n(64672);function m(e,t,n){return null==t?n:null==n?t:e(t,n)}let y=r=class extends l.A{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,n,r,i){return function(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof e?(e.spatialReference=null==e.spatialReference?u.A.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:n,ymax:r,spatialReference:i??u.A.WGS84}}static fromPoint(e){return new r({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new c.A({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return null!=e.z&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new r;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,null!=this.zmin&&(e.zmin=this.zmin,e.zmax=this.zmax),null!=this.mmin&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,n=e.spatialReference;return t&&n&&!t.equals(n)&&(0,f.y7)(t,n)&&(e=t.isWebMercator?(0,f.Gh)(e):(0,f.ci)(e,!0)),"point"===e.type?(0,d.qz)(this,e):"extent"===e.type&&(0,d.gH)(this,e)}equals(e){if(this===e)return!0;if(null==e)return!1;const t=this.spatialReference,n=e.spatialReference;return t&&n&&!t.equals(n)&&(0,f.y7)(t,n)&&(e=t.isWebMercator?(0,f.Gh)(e):(0,f.ci)(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),n=this.width*t,r=this.height*t;if(this.xmin+=n,this.ymin+=r,this.xmax-=n,this.ymax-=r,this.hasZ){const e=(this.zmax-this.zmin)*t;this.zmin+=e,this.zmax-=e}if(this.hasM){const e=(this.mmax-this.mmin)*t;this.mmin+=e,this.mmax-=e}return this}intersects(e){if(null==e)return!1;"mesh"===e.type&&(e=e.extent);const t=this.spatialReference,n=e.spatialReference;return t&&n&&!(0,p.aI)(t,n)&&(0,f.y7)(t,n)&&(e=t.isWebMercator?(0,f.Gh)(e):(0,f.ci)(e,!0)),(0,h.xK)(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,n){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,null!=n&&(this.zmin+=n,this.zmax+=n),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=m(Math.min,this.zmin,e.zmin),this.zmax=m(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=m(Math.min,this.mmin,e.mmin),this.mmax=m(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:null!=e&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=m(Math.max,this.zmin,e.zmin),this.zmax=m(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=m(Math.max,this.mmin,e.mmin),this.mmax=m(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=(0,p.Vp)(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,n=this._getCM(e);if(n){const r=t.isWebMercator?(0,f.ci)(n):n;this.xmin-=n.x,this.xmax-=n.x,t.isWebMercator||(r.x=g(r.x,e).x),this.spatialReference=new u.A((0,o.HC)((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[n,r]=e.valid,i=this.xmin,o=this.xmax;return i>=n&&i<=r&&o>=n&&o<=r||(t=this.center),t}_normalize(e,t,n){const r=this.spatialReference;if(!r)return this;const i=n??(0,p.Vp)(r);if(null==i)return this;const o=this._getParts(i).map((e=>e.extent));if(o.length<2)return o[0]||this;if(o.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return o;let s=!0,a=!0;return o.forEach((e=>{e.hasZ||(s=!1),e.hasM||(a=!1)})),{rings:o.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(s){const n=(e.zmax-e.zmin)/2;for(let e=0;e<t.length;e++)t[e].push(n)}if(a){const n=(e.mmax-e.mmin)/2;for(let e=0;e<t.length;e++)t[e].push(n)}return t})),hasZ:s,hasM:a,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:n,ymax:i,spatialReference:o}=this,s=this.width,a=this.xmin,l=this.xmax;let c;e=e||(0,p.Vp)(o);const[u,d]=e.valid;c=g(this.xmin,e);const h=c.x,f=c.frameId;c=g(this.xmax,e);const m=c.x,y=c.frameId,v=h===m&&s>0;if(s>2*d){const e=new r(a<l?h:m,n,d,i,o),s=new r(u,n,a<l?m:h,i,o),c=new r(0,n,d,i,o),p=new r(u,n,0,i,o),g=[],v=[];e.contains(c)&&g.push(f),e.contains(p)&&v.push(f),s.contains(c)&&g.push(y),s.contains(p)&&v.push(y);for(let e=f+1;e<y;e++)g.push(e),v.push(e);t.push({extent:e,frameIds:[f]},{extent:s,frameIds:[y]},{extent:c,frameIds:g},{extent:p,frameIds:v})}else h>m||v?t.push({extent:new r(h,n,d,i,o),frameIds:[f]},{extent:new r(u,n,m,i,o),frameIds:[y]}):t.push({extent:new r(h,n,m,i,o),frameIds:[f]});this.cache._parts=t}const n=this.hasZ,i=this.hasM;if(n||i){const e={};n&&(e.zmin=this.zmin,e.zmax=this.zmax),i&&(e.mmin=this.mmin,e.mmax=this.mmax);for(let n=0;n<t.length;n++)t[n].extent.set(e)}return t}};function g(e,t){const[n,r]=t.valid,i=2*r;let o,s=0;return e>r?(o=Math.ceil(Math.abs(e-r)/i),e-=o*i,s=o):e<n&&(o=Math.ceil(Math.abs(e-n)/i),e+=o*i,s=-o),{x:e,frameId:s}}(0,i._)([(0,s.MZ)({readOnly:!0})],y.prototype,"cache",null),(0,i._)([(0,s.MZ)({readOnly:!0})],y.prototype,"center",null),(0,i._)([(0,s.MZ)({readOnly:!0})],y.prototype,"extent",null),(0,i._)([(0,s.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],y.prototype,"hasM",null),(0,i._)([(0,s.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],y.prototype,"hasZ",null),(0,i._)([(0,s.MZ)({readOnly:!0})],y.prototype,"height",null),(0,i._)([(0,s.MZ)({readOnly:!0})],y.prototype,"width",null),(0,i._)([(0,s.MZ)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],y.prototype,"xmin",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{write:!0}})],y.prototype,"ymin",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],y.prototype,"mmin",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],y.prototype,"zmin",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{write:!0}})],y.prototype,"xmax",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{write:!0}})],y.prototype,"ymax",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],y.prototype,"mmax",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],y.prototype,"zmax",void 0),y=r=(0,i._)([(0,a.$)("esri.geometry.Extent")],y),y.prototype.toJSON.isDefaultToJSON=!0},8112:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(75906);let l=r=class extends a.A{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){return new r({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};(0,i._)([(0,o.MZ)({readOnly:!0})],l.prototype,"cache",null),(0,i._)([(0,o.MZ)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],l.prototype,"axis",void 0),(0,i._)([(0,o.MZ)({type:["rotation"],json:{type:["rotationInfo"]}})],l.prototype,"type",void 0),(0,i._)([(0,o.MZ)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],l.prototype,"rotationType",void 0),l=r=(0,i._)([(0,s.$)("esri.renderers.visualVariables.RotationVariable")],l)},8636:function(e,t,n){"use strict";n.d(t,{EK:function(){return I},GB:function(){return c},GX:function(){return l},MB:function(){return C},Nd:function(){return N},PZ:function(){return v},Qp:function(){return h},Uv:function(){return P},Vr:function(){return u},Zu:function(){return O},_e:function(){return A},aq:function(){return E},dp:function(){return _},e6:function(){return T},eC:function(){return x},gK:function(){return R},jz:function(){return k},wB:function(){return S}});n(6273);var r=n(80861),i=n(80294);const o=()=>r.A.getLogger("esri.core.accessorSupport.ensureTypes");function s(e){if(null==e)return e;const t=new Date(e);return isNaN(t.getTime())?(o().error("Accessor#set",`Invalid date value: '${e}', falling back to current date`),new Date):t}function a(e){return null==e?e:!!e}function l(e){return null==e?e:e.toString()}function c(e,t=0){return null==e?e:(e=parseFloat(e),isNaN(e)?t:e)}function u(e){return null==e?e:Math.round(parseFloat(e))}function d(e){return null}function h(e,t){return n=>{let r=e(n);return null!=t.step&&(r=Math.round(r/t.step)*t.step),null!=t.min&&(r=Math.max(t.min,r)),null!=t.max&&(r=Math.min(t.max,r)),r}}function p(e){return e?.constructor&&void 0!==e.constructor.__accessorMetadata__}function f(e,t){return null!=t&&e&&!(t instanceof e)}function m(e){return e&&"isCollection"in e}function y(e){return e?.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function g(e,t){return!!p(t)&&(o().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+b(e)+"'"),!0)}function v(e,t){return null==t?t:m(e)?function(e,t){if(!t?.constructor||!m(t.constructor))return g(e,t)?t:new e(t);const n=y(e.prototype.itemType),r=y(t.constructor.prototype.itemType);return n?r?n===r?t:n.prototype.isPrototypeOf(r.prototype)?new e(t):(g(e,t),t):new e(t):t}(e,t):f(e,t)?g(e,t)?t:new e(t):t}function b(e){return e?.prototype?.declaredClass||"unknown"}const w=new WeakMap;function _(e,t){const n=function(e){switch(e){case Number:return e=>c(e);case k:return u;case Boolean:return a;case String:return l;case Date:return s;case P:return d;default:return(0,i.tE)(w,e,(()=>v.bind(null,e)))}}(e);return 1===arguments.length?n:n(t)}function S(e,t,n){return 1===arguments.length?S.bind(null,e):t?Array.isArray(t)?t.map((t=>e(t,n))):[e(t,n)]:t}function x(e,t){return 1===arguments.length?S((t=>_(e,t))):S((t=>_(e,t)),t)}function M(e,t,n){return 0!==t&&Array.isArray(n)?n.map((n=>M(e,t-1,n))):e(n)}function A(e,t,n){if(2===arguments.length)return n=>A(e,t,n);if(!n)return n;n=M(e,t,n);let r=t,i=n;for(;r>0&&Array.isArray(i);)r--,i=i[0];if(void 0!==i)for(let e=0;e<r;e++)n=[n];return n}function T(e,t,n){return 2===arguments.length?A((t=>_(e,t)),t):A((t=>_(e,t)),t,n)}function I(e){return!!Array.isArray(e)&&!e.some((t=>{const n=typeof t;return!("string"===n||"number"===n||"function"===n&&e.length>1)}))}function C(e,t){if(2===arguments.length)return C(e).call(null,t);const n=new Set,r=e.filter((e=>"function"!=typeof e)),i=e.filter((e=>"function"==typeof e));for(const t of e)"string"!=typeof t&&"number"!=typeof t||n.add(t);let s=null,a=null;return(e,t)=>{if(null==e)return e;const l=typeof e,c="string"===l||"number"===l;return c&&(n.has(e)||i.some((e=>"string"===l&&e===String||"number"===l&&e===Number)))||"object"===l&&i.some((t=>!f(e,t)))?e:(c&&r.length?(s||(s=r.map((e=>"string"==typeof e?`'${e}'`:`${e}`)).join(", ")),o().error("Accessor#set",`'${e}' is not a valid value for this property, only the following values are valid: ${s}`)):"object"==typeof e&&i.length?(a||(a=i.map((e=>b(e))).join(", ")),o().error("Accessor#set",`'${e}' is not a valid value for this property, value must be one of ${a}`)):o().error("Accessor#set",`'${e}' is not a valid value for this property`),t&&(t.valid=!1),null)}}function E(e,t){if(2===arguments.length)return E(e).call(null,t);const n={},r=[],i=[];for(const t in e.typeMap){const o=e.typeMap[t];n[t]=_(o),r.push(b(o)),i.push(t)}const s=()=>`'${r.join("', '")}'`,a=()=>`'${i.join("', '")}'`,l="string"==typeof e.key?t=>t[e.key]:e.key;return t=>{if(e.base&&!f(e.base,t))return t;if(null==t)return t;const r=l(t)||e.defaultKeyValue,i=n[r];if(!i)return o().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!f(e.typeMap[r],t))return t;if("string"==typeof e.key&&!p(t)){const n={};for(const r in t)r!==e.key&&(n[r]=t[r]);return i(n)}return i(t)}}class k{}class P{}const R={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function O(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function N(e){switch(e.type){case"native":return _(e.value);case"array":return S(N(e.value));case"one-of":return function(e){let t=null;return(n,r)=>D(n,e)?n:(null==t&&(t=L(e)),o().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}(e);default:return null}}function L(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case k:return"integer";case Date:return"date";case P:return"null";default:return b(e.value)}case"array":return`array of ${L(e.value)}`;case"one-of":{const t=e.values.map((e=>L(e)));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function D(e,t){if(null==e)return!0;switch(t.type){case"native":switch(t.value){case Number:case k:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case String:return"string"==typeof e;case P:return null===e}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some((e=>!D(e,t.value)));case"one-of":return t.values.some((t=>D(e,t)))}}},9014:function(e,t,n){"use strict";n.d(t,{C1:function(){return M},Fm:function(){return w},Ih:function(){return b},M6:function(){return d},OZ:function(){return p},PY:function(){return u},Qo:function(){return y},Yj:function(){return m},fV:function(){return f},hG:function(){return x},hn:function(){return S},id:function(){return _},kF:function(){return h},ke:function(){return v},zQ:function(){return A}});var r=n(63910),i=n(8e3),o=n(44153),s=n(55714),a=n(44223),l=n(74637),c=n(93802);const u={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:r.K}}},d={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,n){t[n]=!e}}}},h={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:r.K}}},p={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:s.w}}},f={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:r.K}}},m={value:null,type:a.A,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:r.K}}};function y(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const g={write:{enabled:!0,layerContainerTypes:r.K},read:!0},v={type:Number,json:{origins:{"web-document":g,"portal-item":{write:{layerContainerTypes:r.K}}}}},b={...v,json:{...v.json,origins:{"web-document":{...g,write:{enabled:!0,layerContainerTypes:r.K,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,n)=>n&&"service"!==n.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition?.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?(0,c.D)(t.layerDefinition.drawingInfo.transparency):void 0:(0,c.D)(t.drawingInfo.transparency)}}},w={type:i.A,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const n=i.A.fromJSON(e);return null!=t.spatialReference&&"object"==typeof t.spatialReference&&(n.spatialReference=o.A.fromJSON(t.spatialReference)),n}}}},read:!1}},_={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},S={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.minScale",write:{layerContainerTypes:r.K}}},x={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.maxScale",write:{layerContainerTypes:r.K}}},M={json:{write:{ignoreOrigin:!0,layerContainerTypes:r.K},origins:{"web-map":{read:!1,write:!1}}}},A={type:l.A,json:{name:"attributeTableInfo",write:!0}}},9283:function(e,t,n){"use strict";n.d(t,{C:function(){return u},v:function(){return c}});var r=n(80861),i=n(21750),o=n(97629),s=n(88135),a=n(56360);const l=()=>r.A.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function c(e,t,n){e&&(!n&&!t.read||t.read?.reader||!1===t.read?.enabled||function(e){return"types"in e?y(e.types):m(e.type)}(e)&&(0,i.sM)("read.reader",u(e),t))}function u(e){const t=e.ndimArray??0;if(t>1)return function(e){const t=d(e),n=h.bind(null,t),r=e.ndimArray??0;return(e,t,i)=>{if(null==e)return e;e=n(e,i,r);let o=r,s=e;for(;o>0&&Array.isArray(s);)o--,s=s[0];if(void 0!==s)for(let t=0;t<o;t++)e=[e];return e}}(e);if(1===t)return p(e);if("type"in e&&f(e.type)){const t=e.type.prototype?.itemType?.Type,n=p("function"==typeof t?{type:t}:{types:t});return(t,r,i)=>{const o=n(t,r,i);return o?new e.type(o):o}}return d(e)}function d(e){return"type"in e?function(e){return e.prototype.read?(t,n,r)=>{if(null==t)return t;const i=typeof t;if("object"!==i)return void l().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const o=new e;return o.read(t,r),o}:e.fromJSON}(e.type):function(e){let t=null;const n=e.errorContext??"type",r=e.validate;return(i,a,c)=>{if(null==i)return i;const u=typeof i;if("object"!==u)return void l().error(`Expected JSON value of type 'object' to deserialize, but got '${u}'`);t||(t=function(e){const t={};for(const n in e.typeMap){const r=e.typeMap[n],i=(0,s.tD)(r.prototype);if("function"==typeof e.key)continue;const o=i[e.key];if(!o)continue;if(o.json?.type&&Array.isArray(o.json.type)&&1===o.json.type.length&&"string"==typeof o.json.type[0]){t[o.json.type[0]]=r;continue}const a=o.json?.write;if(!a?.writer){t[n]=r;continue}const l=a.target,c="string"==typeof l?l:e.key,u={};a.writer(n,u,c),u[c]&&(t[u[c]]=r)}return t}(e));const d=e.key;if("string"!=typeof d)return;const h=i[d],p=h?t[h]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!p){const e=`Type '${h||"unknown"}' is not supported`;return c?.messages&&i&&c.messages.push(new o.A(`${n}:unsupported`,e,{definition:i,context:c})),void l().error(e)}const f=new p;return f.read(i,c),r?r(f):f}}(e.types)}function h(e,t,n,r){return 0!==r&&Array.isArray(t)?t.map((t=>h(e,t,n,r-1))):e(t,void 0,n)}function p(e){const t=d(e);return(e,n,r)=>{if(null==e)return e;if(Array.isArray(e)){const n=[];for(const i of e){const e=t(i,void 0,r);void 0!==e&&n.push(e)}return n}const i=t(e,void 0,r);return void 0!==i?[i]:void 0}}function f(e){if(!(0,a.P)(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?m(t.Type):y(t.Type))}function m(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||f(e))}function y(e){for(const t in e.typeMap)if(!m(e.typeMap[t]))return!1;return!0}},9365:function(e,t,n){"use strict";function r(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function i(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function o(e){let t,n,o;function a(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=r,n=(t,n)=>r(e(t),n),o=(t,n)=>e(t)-n):(t=e===r||e===i?e:s,n=e,o=e),{left:a,center:function(e,t,n=0,r=e.length){const i=a(e,t,n,r-1);return i>n&&o(e[i-1],t)>-o(e[i],t)?i-1:i},right:function(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function s(){return 0}function a(e){return null===e?NaN:+e}n.r(t),n.d(t,{Adder:function(){return E},Delaunay:function(){return tl},FormatSpecifier:function(){return wu},InternMap:function(){return R},InternSet:function(){return O},Node:function(){return Gm},Path:function(){return ps},Voronoi:function(){return Ja},ZoomTransform:function(){return tT},active:function(){return vo},arc:function(){return Zx},area:function(){return Hx},areaRadial:function(){return nM},ascending:function(){return r},autoType:function(){return Ll},axisBottom:function(){return bt},axisLeft:function(){return wt},axisRight:function(){return vt},axisTop:function(){return gt},bin:function(){return pe},bisect:function(){return h},bisectCenter:function(){return d},bisectLeft:function(){return u},bisectRight:function(){return c},bisector:function(){return o},blob:function(){return Mc},blur:function(){return p},blur2:function(){return f},blurImage:function(){return m},brush:function(){return Ho},brushSelection:function(){return $o},brushX:function(){return Go},brushY:function(){return qo},buffer:function(){return Tc},chord:function(){return is},chordDirected:function(){return ss},chordTranspose:function(){return os},cluster:function(){return jm},color:function(){return hr},contourDensity:function(){return Sa},contours:function(){return fa},count:function(){return w},create:function(){return px},creator:function(){return In},cross:function(){return M},csv:function(){return Pc},csvFormat:function(){return Sl},csvFormatBody:function(){return xl},csvFormatRow:function(){return Al},csvFormatRows:function(){return Ml},csvFormatValue:function(){return Tl},csvParse:function(){return wl},csvParseRows:function(){return _l},cubehelix:function(){return ia},cumsum:function(){return A},curveBasis:function(){return qM},curveBasisClosed:function(){return WM},curveBasisOpen:function(){return KM},curveBumpX:function(){return sM},curveBumpY:function(){return aM},curveBundle:function(){return XM},curveCardinal:function(){return tA},curveCardinalClosed:function(){return rA},curveCardinalOpen:function(){return oA},curveCatmullRom:function(){return lA},curveCatmullRomClosed:function(){return uA},curveCatmullRomOpen:function(){return hA},curveLinear:function(){return Bx},curveLinearClosed:function(){return fA},curveMonotoneX:function(){return SA},curveMonotoneY:function(){return xA},curveNatural:function(){return TA},curveStep:function(){return CA},curveStepAfter:function(){return kA},curveStepBefore:function(){return EA},descending:function(){return i},deviation:function(){return I},difference:function(){return Ye},disjoint:function(){return Xe},dispatch:function(){return Tt},drag:function(){return ll},dragDisable:function(){return qn},dragEnable:function(){return Hn},dsv:function(){return kc},dsvFormat:function(){return vl},easeBack:function(){return vc},easeBackIn:function(){return yc},easeBackInOut:function(){return vc},easeBackOut:function(){return gc},easeBounce:function(){return pc},easeBounceIn:function(){return hc},easeBounceInOut:function(){return fc},easeBounceOut:function(){return pc},easeCircle:function(){return tc},easeCircleIn:function(){return Ql},easeCircleInOut:function(){return tc},easeCircleOut:function(){return ec},easeCubic:function(){return fo},easeCubicIn:function(){return ho},easeCubicInOut:function(){return fo},easeCubicOut:function(){return po},easeElastic:function(){return _c},easeElasticIn:function(){return wc},easeElasticInOut:function(){return Sc},easeElasticOut:function(){return _c},easeExp:function(){return Xl},easeExpIn:function(){return Kl},easeExpInOut:function(){return Xl},easeExpOut:function(){return Yl},easeLinear:function(){return Fl},easePoly:function(){return Bl},easePolyIn:function(){return zl},easePolyInOut:function(){return Bl},easePolyOut:function(){return Vl},easeQuad:function(){return Ul},easeQuadIn:function(){return jl},easeQuadInOut:function(){return Ul},easeQuadOut:function(){return Zl},easeSin:function(){return Wl},easeSinIn:function(){return ql},easeSinInOut:function(){return Wl},easeSinOut:function(){return Hl},every:function(){return Ge},extent:function(){return C},fcumsum:function(){return P},filter:function(){return He},flatGroup:function(){return V},flatRollup:function(){return B},forceCenter:function(){return Uc},forceCollide:function(){return Qc},forceLink:function(){return nu},forceManyBody:function(){return du},forceRadial:function(){return hu},forceSimulation:function(){return uu},forceX:function(){return pu},forceY:function(){return fu},format:function(){return Au},formatDefaultLocale:function(){return ku},formatLocale:function(){return Eu},formatPrefix:function(){return Tu},formatSpecifier:function(){return bu},fsum:function(){return k},geoAlbers:function(){return Qf},geoAlbersUsa:function(){return em},geoArea:function(){return Nd},geoAzimuthalEqualArea:function(){return im},geoAzimuthalEqualAreaRaw:function(){return rm},geoAzimuthalEquidistant:function(){return sm},geoAzimuthalEquidistantRaw:function(){return om},geoBounds:function(){return mh},geoCentroid:function(){return Ih},geoCircle:function(){return jh},geoClipAntimeridian:function(){return Jh},geoClipCircle:function(){return Kh},geoClipExtent:function(){return ip},geoClipRectangle:function(){return rp},geoConicConformal:function(){return hm},geoConicConformalRaw:function(){return dm},geoConicEqualArea:function(){return Xf},geoConicEqualAreaRaw:function(){return Yf},geoConicEquidistant:function(){return ym},geoConicEquidistantRaw:function(){return mm},geoContains:function(){return _p},geoDistance:function(){return hp},geoEqualEarth:function(){return xm},geoEqualEarthRaw:function(){return Sm},geoEquirectangular:function(){return fm},geoEquirectangularRaw:function(){return pm},geoGnomonic:function(){return Am},geoGnomonicRaw:function(){return Mm},geoGraticule:function(){return Mp},geoGraticule10:function(){return Ap},geoIdentity:function(){return Tm},geoInterpolate:function(){return Tp},geoLength:function(){return cp},geoMercator:function(){return lm},geoMercatorRaw:function(){return am},geoNaturalEarth1:function(){return Cm},geoNaturalEarth1Raw:function(){return Im},geoOrthographic:function(){return km},geoOrthographicRaw:function(){return Em},geoPath:function(){return Nf},geoProjection:function(){return Wf},geoProjectionMutator:function(){return Jf},geoRotation:function(){return Lh},geoStereographic:function(){return Rm},geoStereographicRaw:function(){return Pm},geoStream:function(){return ud},geoTransform:function(){return Lf},geoTransverseMercator:function(){return Nm},geoTransverseMercatorRaw:function(){return Om},gray:function(){return js},greatest:function(){return we},greatestIndex:function(){return Fe},group:function(){return Z},groupSort:function(){return ee},groups:function(){return U},hcl:function(){return Hs},hierarchy:function(){return Um},histogram:function(){return pe},hsl:function(){return Ar},html:function(){return jc},image:function(){return Oc},index:function(){return q},indexes:function(){return H},interpolate:function(){return Xr},interpolateArray:function(){return $r},interpolateBasis:function(){return Pr},interpolateBasisClosed:function(){return Rr},interpolateBlues:function(){return US},interpolateBrBG:function(){return X_},interpolateBuGn:function(){return yS},interpolateBuPu:function(){return vS},interpolateCividis:function(){return YS},interpolateCool:function(){return ex},interpolateCubehelix:function(){return og},interpolateCubehelixDefault:function(){return XS},interpolateCubehelixLong:function(){return sg},interpolateDate:function(){return qr},interpolateDiscrete:function(){return qy},interpolateGnBu:function(){return wS},interpolateGreens:function(){return VS},interpolateGreys:function(){return $S},interpolateHcl:function(){return ng},interpolateHclLong:function(){return rg},interpolateHsl:function(){return Xy},interpolateHslLong:function(){return Qy},interpolateHue:function(){return Hy},interpolateInferno:function(){return dx},interpolateLab:function(){return eg},interpolateMagma:function(){return ux},interpolateNumber:function(){return Hr},interpolateNumberArray:function(){return Vr},interpolateObject:function(){return Wr},interpolateOrRd:function(){return SS},interpolateOranges:function(){return KS},interpolatePRGn:function(){return eS},interpolatePiYG:function(){return nS},interpolatePlasma:function(){return hx},interpolatePuBu:function(){return TS},interpolatePuBuGn:function(){return MS},interpolatePuOr:function(){return iS},interpolatePuRd:function(){return CS},interpolatePurples:function(){return qS},interpolateRainbow:function(){return nx},interpolateRdBu:function(){return sS},interpolateRdGy:function(){return lS},interpolateRdPu:function(){return kS},interpolateRdYlBu:function(){return uS},interpolateRdYlGn:function(){return hS},interpolateReds:function(){return WS},interpolateRgb:function(){return jr},interpolateRgbBasis:function(){return Ur},interpolateRgbBasisClosed:function(){return zr},interpolateRound:function(){return Wy},interpolateSinebow:function(){return sx},interpolateSpectral:function(){return fS},interpolateString:function(){return Yr},interpolateTransformCss:function(){return Ui},interpolateTransformSvg:function(){return zi},interpolateTurbo:function(){return ax},interpolateViridis:function(){return cx},interpolateWarm:function(){return QS},interpolateYlGn:function(){return NS},interpolateYlGnBu:function(){return RS},interpolateYlOrBr:function(){return DS},interpolateYlOrRd:function(){return jS},interpolateZoom:function(){return Ky},interrupt:function(){return Ni},intersection:function(){return Qe},interval:function(){return XA},isoFormat:function(){return JA},isoParse:function(){return YA},json:function(){return Lc},lab:function(){return Zs},lch:function(){return qs},least:function(){return Le},leastIndex:function(){return De},line:function(){return qx},lineRadial:function(){return tM},link:function(){return dM},linkHorizontal:function(){return hM},linkRadial:function(){return fM},linkVertical:function(){return pM},local:function(){return mx},map:function(){return We},matcher:function(){return Rt},max:function(){return fe},maxIndex:function(){return me},mean:function(){return Te},median:function(){return Ie},medianIndex:function(){return Ce},merge:function(){return Ee},min:function(){return ye},minIndex:function(){return ge},mode:function(){return ke},namespace:function(){return Ht},namespaces:function(){return qt},nice:function(){return de},now:function(){return hi},pack:function(){return yy},packEnclose:function(){return ey},packSiblings:function(){return fy},pairs:function(){return Pe},partition:function(){return Sy},path:function(){return fs},pathRound:function(){return ms},permute:function(){return K},pie:function(){return Kx},piecewise:function(){return ag},pointRadial:function(){return rM},pointer:function(){return ei},pointers:function(){return gx},polygonArea:function(){return cg},polygonCentroid:function(){return ug},polygonContains:function(){return mg},polygonHull:function(){return fg},polygonLength:function(){return yg},precisionFixed:function(){return Pu},precisionPrefix:function(){return Ru},precisionRound:function(){return Ou},quadtree:function(){return Gc},quantile:function(){return _e},quantileIndex:function(){return xe},quantileSorted:function(){return Se},quantize:function(){return lg},quickselect:function(){return ve},radialArea:function(){return nM},radialLine:function(){return tM},randomBates:function(){return xg},randomBernoulli:function(){return Tg},randomBeta:function(){return Eg},randomBinomial:function(){return kg},randomCauchy:function(){return Rg},randomExponential:function(){return Mg},randomGamma:function(){return Cg},randomGeometric:function(){return Ig},randomInt:function(){return bg},randomIrwinHall:function(){return Sg},randomLcg:function(){return jg},randomLogNormal:function(){return _g},randomLogistic:function(){return Og},randomNormal:function(){return wg},randomPareto:function(){return Ag},randomPoisson:function(){return Ng},randomUniform:function(){return vg},randomWeibull:function(){return Pg},range:function(){return Oe},rank:function(){return Ne},reduce:function(){return Je},reverse:function(){return Ke},rgb:function(){return yr},ribbon:function(){return Ts},ribbonArrow:function(){return Is},rollup:function(){return $},rollups:function(){return G},scaleBand:function(){return Bg},scaleDiverging:function(){return O_},scaleDivergingLog:function(){return N_},scaleDivergingPow:function(){return D_},scaleDivergingSqrt:function(){return F_},scaleDivergingSymlog:function(){return L_},scaleIdentity:function(){return iv},scaleImplicit:function(){return zg},scaleLinear:function(){return rv},scaleLog:function(){return pv},scaleOrdinal:function(){return Vg},scalePoint:function(){return Gg},scalePow:function(){return Sv},scaleQuantile:function(){return Tv},scaleQuantize:function(){return Iv},scaleRadial:function(){return Av},scaleSequential:function(){return T_},scaleSequentialLog:function(){return I_},scaleSequentialPow:function(){return E_},scaleSequentialQuantile:function(){return P_},scaleSequentialSqrt:function(){return k_},scaleSequentialSymlog:function(){return C_},scaleSqrt:function(){return xv},scaleSymlog:function(){return gv},scaleThreshold:function(){return Cv},scaleTime:function(){return S_},scaleUtc:function(){return x_},scan:function(){return je},schemeAccent:function(){return U_},schemeBlues:function(){return ZS},schemeBrBG:function(){return Y_},schemeBuGn:function(){return mS},schemeBuPu:function(){return gS},schemeCategory10:function(){return Z_},schemeDark2:function(){return z_},schemeGnBu:function(){return bS},schemeGreens:function(){return zS},schemeGreys:function(){return BS},schemeObservable10:function(){return V_},schemeOrRd:function(){return _S},schemeOranges:function(){return JS},schemePRGn:function(){return Q_},schemePaired:function(){return B_},schemePastel1:function(){return $_},schemePastel2:function(){return G_},schemePiYG:function(){return tS},schemePuBu:function(){return AS},schemePuBuGn:function(){return xS},schemePuOr:function(){return rS},schemePuRd:function(){return IS},schemePurples:function(){return GS},schemeRdBu:function(){return oS},schemeRdGy:function(){return aS},schemeRdPu:function(){return ES},schemeRdYlBu:function(){return cS},schemeRdYlGn:function(){return dS},schemeReds:function(){return HS},schemeSet1:function(){return q_},schemeSet2:function(){return H_},schemeSet3:function(){return W_},schemeSpectral:function(){return pS},schemeTableau10:function(){return J_},schemeYlGn:function(){return OS},schemeYlGnBu:function(){return PS},schemeYlOrBr:function(){return LS},schemeYlOrRd:function(){return FS},select:function(){return zn},selectAll:function(){return vx},selection:function(){return Un},selector:function(){return Ct},selectorAll:function(){return Pt},shuffle:function(){return Ze},shuffler:function(){return Ue},some:function(){return qe},sort:function(){return Y},stack:function(){return LA},stackOffsetDiverging:function(){return FA},stackOffsetExpand:function(){return DA},stackOffsetNone:function(){return PA},stackOffsetSilhouette:function(){return jA},stackOffsetWiggle:function(){return ZA},stackOrderAppearance:function(){return UA},stackOrderAscending:function(){return VA},stackOrderDescending:function(){return $A},stackOrderInsideOut:function(){return GA},stackOrderNone:function(){return RA},stackOrderReverse:function(){return qA},stratify:function(){return Cy},style:function(){return on},subset:function(){return rt},sum:function(){return ze},superset:function(){return tt},svg:function(){return Zc},symbol:function(){return VM},symbolAsterisk:function(){return yM},symbolCircle:function(){return gM},symbolCross:function(){return vM},symbolDiamond:function(){return _M},symbolDiamond2:function(){return SM},symbolPlus:function(){return xM},symbolSquare:function(){return MM},symbolSquare2:function(){return AM},symbolStar:function(){return EM},symbolTimes:function(){return ZM},symbolTriangle:function(){return PM},symbolTriangle2:function(){return OM},symbolWye:function(){return jM},symbolX:function(){return ZM},symbols:function(){return UM},symbolsFill:function(){return UM},symbolsStroke:function(){return zM},text:function(){return Cc},thresholdFreedmanDiaconis:function(){return Me},thresholdScott:function(){return Ae},thresholdSturges:function(){return he},tickFormat:function(){return tv},tickIncrement:function(){return ce},tickStep:function(){return ue},ticks:function(){return le},timeDay:function(){return Yv},timeDays:function(){return Xv},timeFormat:function(){return Yb},timeFormatDefaultLocale:function(){return v_},timeFormatLocale:function(){return Jb},timeFriday:function(){return cb},timeFridays:function(){return yb},timeHour:function(){return Hv},timeHours:function(){return Wv},timeInterval:function(){return jv},timeMillisecond:function(){return Zv},timeMilliseconds:function(){return Uv},timeMinute:function(){return Bv},timeMinutes:function(){return $v},timeMonday:function(){return ob},timeMondays:function(){return hb},timeMonth:function(){return Ob},timeMonths:function(){return Nb},timeParse:function(){return Xb},timeSaturday:function(){return ub},timeSaturdays:function(){return gb},timeSecond:function(){return zv},timeSeconds:function(){return Vv},timeSunday:function(){return ib},timeSundays:function(){return db},timeThursday:function(){return lb},timeThursdays:function(){return mb},timeTickInterval:function(){return Gb},timeTicks:function(){return $b},timeTuesday:function(){return sb},timeTuesdays:function(){return pb},timeWednesday:function(){return ab},timeWednesdays:function(){return fb},timeWeek:function(){return ib},timeWeeks:function(){return db},timeYear:function(){return Fb},timeYears:function(){return jb},timeout:function(){return wi},timer:function(){return mi},timerFlush:function(){return yi},transition:function(){return lo},transpose:function(){return Ve},tree:function(){return Fy},treemap:function(){return Vy},treemapBinary:function(){return By},treemapDice:function(){return _y},treemapResquarify:function(){return Gy},treemapSlice:function(){return jy},treemapSliceDice:function(){return $y},treemapSquarify:function(){return zy},tsv:function(){return Rc},tsvFormat:function(){return kl},tsvFormatBody:function(){return Pl},tsvFormatRow:function(){return Ol},tsvFormatRows:function(){return Rl},tsvFormatValue:function(){return Nl},tsvParse:function(){return Cl},tsvParseRows:function(){return El},union:function(){return it},unixDay:function(){return tb},unixDays:function(){return nb},utcDay:function(){return Qv},utcDays:function(){return eb},utcFormat:function(){return Qb},utcFriday:function(){return Mb},utcFridays:function(){return Pb},utcHour:function(){return Jv},utcHours:function(){return Kv},utcMillisecond:function(){return Zv},utcMilliseconds:function(){return Uv},utcMinute:function(){return Gv},utcMinutes:function(){return qv},utcMonday:function(){return wb},utcMondays:function(){return Ib},utcMonth:function(){return Lb},utcMonths:function(){return Db},utcParse:function(){return ew},utcSaturday:function(){return Ab},utcSaturdays:function(){return Rb},utcSecond:function(){return zv},utcSeconds:function(){return Vv},utcSunday:function(){return bb},utcSundays:function(){return Tb},utcThursday:function(){return xb},utcThursdays:function(){return kb},utcTickInterval:function(){return Bb},utcTicks:function(){return Vb},utcTuesday:function(){return _b},utcTuesdays:function(){return Cb},utcWednesday:function(){return Sb},utcWednesdays:function(){return Eb},utcWeek:function(){return bb},utcWeeks:function(){return Tb},utcYear:function(){return Zb},utcYears:function(){return Ub},variance:function(){return T},window:function(){return en},xml:function(){return Fc},zip:function(){return $e},zoom:function(){return hT},zoomIdentity:function(){return nT},zoomTransform:function(){return rT}});const l=o(r),c=l.right,u=l.left,d=o(a).center;var h=c;function p(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;const r=b(t),i=e.slice();return r(e,i,0,n,1),r(i,e,0,n,1),r(e,i,0,n,1),e}const f=y(b),m=y((function(e){const t=b(e);return(e,n,r,i,o)=>{t(e,n,(r<<=2)+0,(i<<=2)+0,o<<=2),t(e,n,r+1,i+1,o),t(e,n,r+2,i+2,o),t(e,n,r+3,i+3,o)}}));function y(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:s}=t;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(void 0!==s?s:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!s||!n&&!r)return t;const a=n&&e(n),l=r&&e(r),c=i.slice();return a&&l?(g(a,c,i,o,s),g(a,i,c,o,s),g(a,c,i,o,s),v(l,i,c,o,s),v(l,c,i,o,s),v(l,i,c,o,s)):a?(g(a,i,c,o,s),g(a,c,i,o,s),g(a,i,c,o,s)):l&&(v(l,i,c,o,s),v(l,c,i,o,s),v(l,i,c,o,s)),t}}function g(e,t,n,r,i){for(let o=0,s=r*i;o<s;)e(t,n,o,o+=r,1)}function v(e,t,n,r,i){for(let o=0,s=r*i;o<r;++o)e(t,n,o,o+s,r)}function b(e){const t=Math.floor(e);if(t===e)return function(e){const t=2*e+1;return(n,r,i,o,s)=>{if(!((o-=s)>=i))return;let a=e*r[i];const l=s*e;for(let e=i,t=i+l;e<t;e+=s)a+=r[Math.min(o,e)];for(let e=i,c=o;e<=c;e+=s)a+=r[Math.min(o,e+l)],n[e]=a/t,a-=r[Math.max(i,e-l)]}}(e);const n=e-t,r=2*e+1;return(e,i,o,s,a)=>{if(!((s-=a)>=o))return;let l=t*i[o];const c=a*t,u=c+a;for(let e=o,t=o+c;e<t;e+=a)l+=i[Math.min(s,e)];for(let t=o,d=s;t<=d;t+=a)l+=i[Math.min(s,t+c)],e[t]=(l+n*(i[Math.max(o,t-u)]+i[Math.min(s,t+u)]))/r,l-=i[Math.max(o,t-c)]}}function w(e,t){let n=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&++n;else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(i=+i)>=i&&++n}return n}function _(e){return 0|e.length}function S(e){return!(e>0)}function x(e){return"object"!=typeof e||"length"in e?e:Array.from(e)}function M(...e){const t="function"==typeof e[e.length-1]&&function(e){return t=>e(...t)}(e.pop()),n=(e=e.map(x)).map(_),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(S))return o;for(;;){o.push(i.map(((t,n)=>e[n][t])));let s=r;for(;++i[s]===n[s];){if(0===s)return t?o.map(t):o;i[s--]=0}}}function A(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?e=>n+=+e||0:i=>n+=+t(i,r++,e)||0)}function T(e,t){let n,r=0,i=0,o=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(n=t-i,i+=n/++r,o+=n*(t-i));else{let s=-1;for(let a of e)null!=(a=t(a,++s,e))&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i))}if(r>1)return o/(r-1)}function I(e,t){const n=T(e,t);return n?Math.sqrt(n):n}function C(e,t){let n,r;if(void 0===t)for(const t of e)null!=t&&(void 0===n?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class E{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=t[r],o=e+i,s=Math.abs(e)<Math.abs(i)?e-(o-i):i-(o-e);s&&(t[n++]=s),e=o}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,r,i=this._n,o=0;if(i>0){for(o=e[--i];i>0&&(t=o,n=e[--i],o=t+n,r=n-(o-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(n=2*r,t=o+n,n==t-o&&(o=t))}return o}}function k(e,t){const n=new E;if(void 0===t)for(let t of e)(t=+t)&&n.add(t);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&n.add(i)}return+n}function P(e,t){const n=new E;let r=-1;return Float64Array.from(e,void 0===t?e=>n.add(+e||0):i=>n.add(+t(i,++r,e)||0))}class R extends Map{constructor(e,t=F){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(N(this,e))}has(e){return super.has(N(this,e))}set(e,t){return super.set(L(this,e),t)}delete(e){return super.delete(D(this,e))}}class O extends Set{constructor(e,t=F){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const t of e)this.add(t)}has(e){return super.has(N(this,e))}add(e){return super.add(L(this,e))}delete(e){return super.delete(D(this,e))}}function N({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function L({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function D({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function F(e){return null!==e&&"object"==typeof e?e.valueOf():e}function j(e){return e}function Z(e,...t){return J(e,j,j,t)}function U(e,...t){return J(e,Array.from,j,t)}function z(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap((e=>e.pop().map((([t,n])=>[...e,t,n]))));return e}function V(e,...t){return z(U(e,...t),t)}function B(e,t,...n){return z(G(e,t,...n),n)}function $(e,t,...n){return J(e,j,t,n)}function G(e,t,...n){return J(e,Array.from,t,n)}function q(e,...t){return J(e,j,W,t)}function H(e,...t){return J(e,Array.from,W,t)}function W(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function J(e,t,n,r){return function e(i,o){if(o>=r.length)return n(i);const s=new R,a=r[o++];let l=-1;for(const e of i){const t=a(e,++l,i),n=s.get(t);n?n.push(e):s.set(t,[e])}for(const[t,n]of s)s.set(t,e(n,o));return t(s)}(e,0)}function K(e,t){return Array.from(t,(t=>e[t]))}function Y(e,...t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&2!==n.length||t.length>1){const r=Uint32Array.from(e,((e,t)=>t));return t.length>1?(t=t.map((t=>e.map(t))),r.sort(((e,n)=>{for(const r of t){const t=Q(r[e],r[n]);if(t)return t}}))):(n=e.map(n),r.sort(((e,t)=>Q(n[e],n[t])))),K(e,r)}return e.sort(X(n))}function X(e=r){if(e===r)return Q;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Q(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function ee(e,t,n){return(2!==t.length?Y($(e,t,n),(([e,t],[n,i])=>r(t,i)||r(e,n))):Y(Z(e,n),(([e,n],[i,o])=>t(n,o)||r(e,i)))).map((([e])=>e))}var te=Array.prototype,ne=te.slice;te.map;function re(e){return()=>e}const ie=Math.sqrt(50),oe=Math.sqrt(10),se=Math.sqrt(2);function ae(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=ie?10:o>=oe?5:o>=se?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?ae(e,t,2*n):[a,l,c]}function le(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,s]=r?ae(t,e,n):ae(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let e=0;e<a;++e)l[e]=(o-e)/-s;else for(let e=0;e<a;++e)l[e]=(o-e)*s;else if(s<0)for(let e=0;e<a;++e)l[e]=(i+e)/-s;else for(let e=0;e<a;++e)l[e]=(i+e)*s;return l}function ce(e,t,n){return ae(e=+e,t=+t,n=+n)[2]}function ue(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?ce(t,e,n):ce(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function de(e,t,n){let r;for(;;){const i=ce(e,t,n);if(i===r||0===i||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function he(e){return Math.max(1,Math.ceil(Math.log(w(e))/Math.LN2)+1)}function pe(){var e=j,t=C,n=he;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,s,a=r.length,l=new Array(a);for(i=0;i<a;++i)l[i]=e(r[i],i,r);var c=t(l),u=c[0],d=c[1],p=n(l,u,d);if(!Array.isArray(p)){const e=d,n=+p;if(t===C&&([u,d]=de(u,d,n)),(p=le(u,d,n))[0]<=u&&(s=ce(u,d,n)),p[p.length-1]>=d)if(e>=d&&t===C){const e=ce(u,d,n);isFinite(e)&&(e>0?d=(Math.floor(d/e)+1)*e:e<0&&(d=(Math.ceil(d*-e)+1)/-e))}else p.pop()}for(var f=p.length,m=0,y=f;p[m]<=u;)++m;for(;p[y-1]>d;)--y;(m||y<f)&&(p=p.slice(m,y),f=y-m);var g,v=new Array(f+1);for(i=0;i<=f;++i)(g=v[i]=[]).x0=i>0?p[i-1]:u,g.x1=i<f?p[i]:d;if(isFinite(s)){if(s>0)for(i=0;i<a;++i)null!=(o=l[i])&&u<=o&&o<=d&&v[Math.min(f,Math.floor((o-u)/s))].push(r[i]);else if(s<0)for(i=0;i<a;++i)if(null!=(o=l[i])&&u<=o&&o<=d){const e=Math.floor((u-o)*s);v[Math.min(f,e+(p[e]<=o))].push(r[i])}}else for(i=0;i<a;++i)null!=(o=l[i])&&u<=o&&o<=d&&v[h(p,o,0,f)].push(r[i]);return v}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:re(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:re([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:re(Array.isArray(e)?ne.call(e):e),r):n},r}function fe(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function me(e,t){let n,r=-1,i=-1;if(void 0===t)for(const t of e)++i,null!=t&&(n<t||void 0===n&&t>=t)&&(n=t,r=i);else for(let o of e)null!=(o=t(o,++i,e))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function ye(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function ge(e,t){let n,r=-1,i=-1;if(void 0===t)for(const t of e)++i,null!=t&&(n>t||void 0===n&&t>=t)&&(n=t,r=i);else for(let o of e)null!=(o=t(o,++i,e))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function ve(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?Q:X(i);r>n;){if(r-n>600){const o=r-n+1,s=t-n+1,a=Math.log(o),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1);ve(e,t,Math.max(n,Math.floor(t-s*l/o+c)),Math.min(r,Math.floor(t+(o-s)*l/o+c)),i)}const o=e[t];let s=n,a=r;for(be(e,n,t),i(e[r],o)>0&&be(e,n,r);s<a;){for(be(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}0===i(e[n],o)?be(e,n,a):(++a,be(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function be(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function we(e,t=r){let n,i=!1;if(1===t.length){let o;for(const s of e){const e=t(s);(i?r(e,o)>0:0===r(e,e))&&(n=s,o=e,i=!0)}}else for(const r of e)(i?t(r,n)>0:0===t(r,r))&&(n=r,i=!0);return n}function _e(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return ye(e);if(t>=1)return fe(e);var r,i=(r-1)*t,o=Math.floor(i),s=fe(ve(e,o).subarray(0,o+1));return s+(ye(e.subarray(o+1))-s)*(i-o)}}function Se(e,t,n=a){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e);return s+(+n(e[o+1],o+1,e)-s)*(i-o)}}function xe(e,t,n=a){if(!isNaN(t=+t)){if(r=Float64Array.from(e,((t,r)=>a(n(e[r],r,e)))),t<=0)return ge(r);if(t>=1)return me(r);var r,i=Uint32Array.from(e,((e,t)=>t)),o=r.length-1,s=Math.floor(o*t);return ve(i,s,0,o,((e,t)=>Q(r[e],r[t]))),(s=we(i.subarray(0,s+1),(e=>r[e])))>=0?s:-1}}function Me(e,t,n){const r=w(e),i=_e(e,.75)-_e(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function Ae(e,t,n){const r=w(e),i=I(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function Te(e,t){let n=0,r=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++n,r+=t);else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Ie(e,t){return _e(e,.5,t)}function Ce(e,t){return xe(e,.5,t)}function Ee(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}function ke(e,t){const n=new R;if(void 0===t)for(let t of e)null!=t&&t>=t&&n.set(t,(n.get(t)||0)+1);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[e,t]of n)t>i&&(i=t,r=e);return r}function Pe(e,t=Re){const n=[];let r,i=!1;for(const o of e)i&&n.push(t(r,o)),r=o,i=!0;return n}function Re(e,t){return[e,t]}function Oe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Ne(e,t=r){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(e);const i=new Float64Array(n.length);2!==t.length&&(n=n.map(t),t=r);const o=(e,r)=>t(n[e],n[r]);let s,a;return(e=Uint32Array.from(n,((e,t)=>t))).sort(t===r?(e,t)=>Q(n[e],n[t]):X(o)),e.forEach(((e,t)=>{const n=o(e,void 0===s?e:s);n>=0?((void 0===s||n>0)&&(s=e,a=t),i[e]=a):i[e]=NaN})),i}function Le(e,t=r){let n,i=!1;if(1===t.length){let o;for(const s of e){const e=t(s);(i?r(e,o)<0:0===r(e,e))&&(n=s,o=e,i=!0)}}else for(const r of e)(i?t(r,n)<0:0===t(r,r))&&(n=r,i=!0);return n}function De(e,t=r){if(1===t.length)return ge(e,t);let n,i=-1,o=-1;for(const r of e)++o,(i<0?0===t(r,r):t(r,n)<0)&&(n=r,i=o);return i}function Fe(e,t=r){if(1===t.length)return me(e,t);let n,i=-1,o=-1;for(const r of e)++o,(i<0?0===t(r,r):t(r,n)>0)&&(n=r,i=o);return i}function je(e,t){const n=De(e,t);return n<0?void 0:n}var Ze=Ue(Math.random);function Ue(e){return function(t,n=0,r=t.length){let i=r-(n=+n);for(;i;){const r=e()*i--|0,o=t[i+n];t[i+n]=t[r+n],t[r+n]=o}return t}}function ze(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Ve(e){if(!(i=e.length))return[];for(var t=-1,n=ye(e,Be),r=new Array(n);++t<n;)for(var i,o=-1,s=r[t]=new Array(i);++o<i;)s[o]=e[o][t];return r}function Be(e){return e.length}function $e(){return Ve(arguments)}function Ge(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0}function qe(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1}function He(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n}function We(e,t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof t)throw new TypeError("mapper is not a function");return Array.from(e,((n,r)=>t(n,r,e)))}function Je(e,t,n){if("function"!=typeof t)throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let i,o,s=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++s}for(;({done:i,value:o}=r.next()),!i;)n=t(n,o,++s,e);return n}function Ke(e){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}function Ye(e,...t){e=new O(e);for(const n of t)for(const t of n)e.delete(t);return e}function Xe(e,t){const n=t[Symbol.iterator](),r=new O;for(const t of e){if(r.has(t))return!1;let e,i;for(;({value:e,done:i}=n.next())&&!i;){if(Object.is(t,e))return!1;r.add(e)}}return!0}function Qe(e,...t){e=new O(e),t=t.map(et);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function et(e){return e instanceof O?e:new O(e)}function tt(e,t){const n=e[Symbol.iterator](),r=new Set;for(const e of t){const t=nt(e);if(r.has(t))continue;let i,o;for(;({value:i,done:o}=n.next());){if(o)return!1;const e=nt(i);if(r.add(e),Object.is(t,e))break}}return!0}function nt(e){return null!==e&&"object"==typeof e?e.valueOf():e}function rt(e,t){return tt(t,e)}function it(...e){const t=new O;for(const n of e)for(const e of n)t.add(e);return t}function ot(e){return e}var st=1,at=2,lt=3,ct=4,ut=1e-6;function dt(e){return"translate("+e+",0)"}function ht(e){return"translate(0,"+e+")"}function pt(e){return t=>+e(t)}function ft(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function mt(){return!this.__axis}function yt(e,t){var n=[],r=null,i=null,o=6,s=6,a=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=e===st||e===ct?-1:1,u=e===ct||e===at?"x":"y",d=e===st||e===lt?dt:ht;function h(h){var p=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,f=null==i?t.tickFormat?t.tickFormat.apply(t,n):ot:i,m=Math.max(o,0)+a,y=t.range(),g=+y[0]+l,v=+y[y.length-1]+l,b=(t.bandwidth?ft:pt)(t.copy(),l),w=h.selection?h.selection():h,_=w.selectAll(".domain").data([null]),S=w.selectAll(".tick").data(p,t).order(),x=S.exit(),M=S.enter().append("g").attr("class","tick"),A=S.select("line"),T=S.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(M),A=A.merge(M.append("line").attr("stroke","currentColor").attr(u+"2",c*o)),T=T.merge(M.append("text").attr("fill","currentColor").attr(u,c*m).attr("dy",e===st?"0em":e===lt?"0.71em":"0.32em")),h!==w&&(_=_.transition(h),S=S.transition(h),A=A.transition(h),T=T.transition(h),x=x.transition(h).attr("opacity",ut).attr("transform",(function(e){return isFinite(e=b(e))?d(e+l):this.getAttribute("transform")})),M.attr("opacity",ut).attr("transform",(function(e){var t=this.parentNode.__axis;return d((t&&isFinite(t=t(e))?t:b(e))+l)}))),x.remove(),_.attr("d",e===ct||e===at?s?"M"+c*s+","+g+"H"+l+"V"+v+"H"+c*s:"M"+l+","+g+"V"+v:s?"M"+g+","+c*s+"V"+l+"H"+v+"V"+c*s:"M"+g+","+l+"H"+v),S.attr("opacity",1).attr("transform",(function(e){return d(b(e)+l)})),A.attr(u+"2",c*o),T.attr(u,c*m).text(f),w.filter(mt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===at?"start":e===ct?"end":"middle"),w.each((function(){this.__axis=b}))}return h.scale=function(e){return arguments.length?(t=e,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),h):n.slice()},h.tickValues=function(e){return arguments.length?(r=null==e?null:Array.from(e),h):r&&r.slice()},h.tickFormat=function(e){return arguments.length?(i=e,h):i},h.tickSize=function(e){return arguments.length?(o=s=+e,h):o},h.tickSizeInner=function(e){return arguments.length?(o=+e,h):o},h.tickSizeOuter=function(e){return arguments.length?(s=+e,h):s},h.tickPadding=function(e){return arguments.length?(a=+e,h):a},h.offset=function(e){return arguments.length?(l=+e,h):l},h}function gt(e){return yt(st,e)}function vt(e){return yt(at,e)}function bt(e){return yt(lt,e)}function wt(e){return yt(ct,e)}var _t={value:()=>{}};function St(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new xt(r)}function xt(e){this._=e}function Mt(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function At(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=_t,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}xt.prototype=St.prototype={constructor:xt,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),s=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<a;)if(n=(e=o[s]).type)i[n]=At(i[n],e.name,t);else if(null==t)for(n in i)i[n]=At(i[n],e.name,null);return this}for(;++s<a;)if((n=(e=o[s]).type)&&(n=Mt(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new xt(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var Tt=St;function It(){}function Ct(e){return null==e?It:function(){return this.querySelector(e)}}function Et(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function kt(){return[]}function Pt(e){return null==e?kt:function(){return this.querySelectorAll(e)}}function Rt(e){return function(){return this.matches(e)}}function Ot(e){return function(t){return t.matches(e)}}var Nt=Array.prototype.find;function Lt(){return this.firstElementChild}var Dt=Array.prototype.filter;function Ft(){return Array.from(this.children)}function jt(e){return new Array(e.length)}function Zt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Ut(e,t,n,r,i,o){for(var s,a=0,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new Zt(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function zt(e,t,n,r,i,o,s){var a,l,c,u=new Map,d=t.length,h=o.length,p=new Array(d);for(a=0;a<d;++a)(l=t[a])&&(p[a]=c=s.call(l,l.__data__,a,t)+"",u.has(c)?i[a]=l:u.set(c,l));for(a=0;a<h;++a)c=s.call(e,o[a],a,o)+"",(l=u.get(c))?(r[a]=l,l.__data__=o[a],u.delete(c)):n[a]=new Zt(e,o[a]);for(a=0;a<d;++a)(l=t[a])&&u.get(p[a])===l&&(i[a]=l)}function Vt(e){return e.__data__}function Bt(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function $t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Zt.prototype={constructor:Zt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Gt="http://www.w3.org/1999/xhtml",qt={svg:"http://www.w3.org/2000/svg",xhtml:Gt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ht(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),qt.hasOwnProperty(t)?{space:qt[t],local:e}:e}function Wt(e){return function(){this.removeAttribute(e)}}function Jt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Kt(e,t){return function(){this.setAttribute(e,t)}}function Yt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Xt(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Qt(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function en(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function tn(e){return function(){this.style.removeProperty(e)}}function nn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function rn(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function on(e,t){return e.style.getPropertyValue(t)||en(e).getComputedStyle(e,null).getPropertyValue(t)}function sn(e){return function(){delete this[e]}}function an(e,t){return function(){this[e]=t}}function ln(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function cn(e){return e.trim().split(/^|\s+/)}function un(e){return e.classList||new dn(e)}function dn(e){this._node=e,this._names=cn(e.getAttribute("class")||"")}function hn(e,t){for(var n=un(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function pn(e,t){for(var n=un(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function fn(e){return function(){hn(this,e)}}function mn(e){return function(){pn(this,e)}}function yn(e,t){return function(){(t.apply(this,arguments)?hn:pn)(this,e)}}function gn(){this.textContent=""}function vn(e){return function(){this.textContent=e}}function bn(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function wn(){this.innerHTML=""}function _n(e){return function(){this.innerHTML=e}}function Sn(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function xn(){this.nextSibling&&this.parentNode.appendChild(this)}function Mn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function An(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Gt&&t.documentElement.namespaceURI===Gt?t.createElement(e):t.createElementNS(n,e)}}function Tn(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function In(e){var t=Ht(e);return(t.local?Tn:An)(t)}function Cn(){return null}function En(){var e=this.parentNode;e&&e.removeChild(this)}function kn(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Pn(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Rn(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function On(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Nn(e,t,n){var r=en(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Ln(e,t){return function(){return Nn(this,e,t)}}function Dn(e,t){return function(){return Nn(this,e,t.apply(this,arguments))}}dn.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Fn=[null];function jn(e,t){this._groups=e,this._parents=t}function Zn(){return new jn([[document.documentElement]],Fn)}jn.prototype=Zn.prototype={constructor:jn,select:function(e){"function"!=typeof e&&(e=Ct(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=t[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=e.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new jn(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return Et(e.apply(this,arguments))}}(e):Pt(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s,a=t[o],l=a.length,c=0;c<l;++c)(s=a[c])&&(r.push(e.call(s,s.__data__,c,a)),i.push(s));return new jn(r,i)},selectChild:function(e){return this.select(null==e?Lt:function(e){return function(){return Nt.call(this.children,e)}}("function"==typeof e?e:Ot(e)))},selectChildren:function(e){return this.selectAll(null==e?Ft:function(e){return function(){return Dt.call(this.children,e)}}("function"==typeof e?e:Ot(e)))},filter:function(e){"function"!=typeof e&&(e=Rt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new jn(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Vt);var n=t?zt:Ut,r=this._parents,i=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],d=i[c],h=d.length,p=Bt(e.call(u,u&&u.__data__,c,r)),f=p.length,m=a[c]=new Array(f),y=s[c]=new Array(f);n(u,d,m,y,l[c]=new Array(h),p,t);for(var g,v,b=0,w=0;b<f;++b)if(g=m[b]){for(b>=w&&(w=b+1);!(v=y[w])&&++w<f;);g._next=v||null}}return(s=new jn(s,r))._enter=a,s._exit=l,s},enter:function(){return new jn(this._enter||this._groups.map(jt),this._parents)},exit:function(){return new jn(this._exit||this._groups.map(jt),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c,u=n[l],d=r[l],h=u.length,p=a[l]=new Array(h),f=0;f<h;++f)(c=u[f]||d[f])&&(p[f]=c);for(;l<i;++l)a[l]=n[l];return new jn(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=$t);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],l=a.length,c=i[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(t)}return new jn(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],s=0,a=o.length;s<a;++s)(i=o[s])&&e.call(i,i.__data__,s,o);return this},attr:function(e,t){var n=Ht(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Jt:Wt:"function"==typeof t?n.local?Qt:Xt:n.local?Yt:Kt)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?tn:"function"==typeof t?rn:nn)(e,t,null==n?"":n)):on(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?sn:"function"==typeof t?ln:an)(e,t)):this.node()[e]},classed:function(e,t){var n=cn(e+"");if(arguments.length<2){for(var r=un(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?yn:t?fn:mn)(n,t))},text:function(e){return arguments.length?this.each(null==e?gn:("function"==typeof e?bn:vn)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?wn:("function"==typeof e?Sn:_n)(e)):this.node().innerHTML},raise:function(){return this.each(xn)},lower:function(){return this.each(Mn)},append:function(e){var t="function"==typeof e?e:In(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:In(e),r=null==t?Cn:"function"==typeof t?t:Ct(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(En)},clone:function(e){return this.select(e?Pn:kn)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),s=o.length;if(!(arguments.length<2)){for(a=t?On:Rn,r=0;r<s;++r)this.each(a(o[r],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<s;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?Dn:Ln)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};var Un=Zn;function zn(e){return"string"==typeof e?new jn([[document.querySelector(e)]],[document.documentElement]):new jn([[e]],Fn)}const Vn={passive:!1},Bn={capture:!0,passive:!1};function $n(e){e.stopImmediatePropagation()}function Gn(e){e.preventDefault(),e.stopImmediatePropagation()}function qn(e){var t=e.document.documentElement,n=zn(e).on("dragstart.drag",Gn,Bn);"onselectstart"in t?n.on("selectstart.drag",Gn,Bn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Hn(e,t){var n=e.document.documentElement,r=zn(e).on("dragstart.drag",null);t&&(r.on("click.drag",Gn,Bn),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Wn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Jn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Kn(){}var Yn=.7,Xn=1/Yn,Qn="\\s*([+-]?\\d+)\\s*",er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nr=/^#([0-9a-f]{3,8})$/,rr=new RegExp(`^rgb\\(${Qn},${Qn},${Qn}\\)$`),ir=new RegExp(`^rgb\\(${tr},${tr},${tr}\\)$`),or=new RegExp(`^rgba\\(${Qn},${Qn},${Qn},${er}\\)$`),sr=new RegExp(`^rgba\\(${tr},${tr},${tr},${er}\\)$`),ar=new RegExp(`^hsl\\(${er},${tr},${tr}\\)$`),lr=new RegExp(`^hsla\\(${er},${tr},${tr},${er}\\)$`),cr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ur(){return this.rgb().formatHex()}function dr(){return this.rgb().formatRgb()}function hr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?pr(t):3===n?new gr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?fr(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?fr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=rr.exec(e))?new gr(t[1],t[2],t[3],1):(t=ir.exec(e))?new gr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=or.exec(e))?fr(t[1],t[2],t[3],t[4]):(t=sr.exec(e))?fr(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ar.exec(e))?xr(t[1],t[2]/100,t[3]/100,1):(t=lr.exec(e))?xr(t[1],t[2]/100,t[3]/100,t[4]):cr.hasOwnProperty(e)?pr(cr[e]):"transparent"===e?new gr(NaN,NaN,NaN,0):null}function pr(e){return new gr(e>>16&255,e>>8&255,255&e,1)}function fr(e,t,n,r){return r<=0&&(e=t=n=NaN),new gr(e,t,n,r)}function mr(e){return e instanceof Kn||(e=hr(e)),e?new gr((e=e.rgb()).r,e.g,e.b,e.opacity):new gr}function yr(e,t,n,r){return 1===arguments.length?mr(e):new gr(e,t,n,null==r?1:r)}function gr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function vr(){return`#${Sr(this.r)}${Sr(this.g)}${Sr(this.b)}`}function br(){const e=wr(this.opacity);return`${1===e?"rgb(":"rgba("}${_r(this.r)}, ${_r(this.g)}, ${_r(this.b)}${1===e?")":`, ${e})`}`}function wr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _r(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sr(e){return((e=_r(e))<16?"0":"")+e.toString(16)}function xr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Tr(e,t,n,r)}function Mr(e){if(e instanceof Tr)return new Tr(e.h,e.s,e.l,e.opacity);if(e instanceof Kn||(e=hr(e)),!e)return new Tr;if(e instanceof Tr)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=t===o?(n-r)/a+6*(n<r):n===o?(r-t)/a+2:(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Tr(s,a,l,e.opacity)}function Ar(e,t,n,r){return 1===arguments.length?Mr(e):new Tr(e,t,n,null==r?1:r)}function Tr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ir(e){return(e=(e||0)%360)<0?e+360:e}function Cr(e){return Math.max(0,Math.min(1,e||0))}function Er(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function kr(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function Pr(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return kr((n-r/t)*t,s,i,o,a)}}function Rr(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return kr((n-r/t)*t,i,o,s,a)}}Wn(Kn,hr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ur,formatHex:ur,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Mr(this).formatHsl()},formatRgb:dr,toString:dr}),Wn(gr,yr,Jn(Kn,{brighter(e){return e=null==e?Xn:Math.pow(Xn,e),new gr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Yn:Math.pow(Yn,e),new gr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gr(_r(this.r),_r(this.g),_r(this.b),wr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vr,formatHex:vr,formatHex8:function(){return`#${Sr(this.r)}${Sr(this.g)}${Sr(this.b)}${Sr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:br,toString:br})),Wn(Tr,Ar,Jn(Kn,{brighter(e){return e=null==e?Xn:Math.pow(Xn,e),new Tr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Yn:Math.pow(Yn,e),new Tr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new gr(Er(e>=240?e-240:e+120,i,r),Er(e,i,r),Er(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Tr(Ir(this.h),Cr(this.s),Cr(this.l),wr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wr(this.opacity);return`${1===e?"hsl(":"hsla("}${Ir(this.h)}, ${100*Cr(this.s)}%, ${100*Cr(this.l)}%${1===e?")":`, ${e})`}`}}));var Or=e=>()=>e;function Nr(e,t){return function(n){return e+n*t}}function Lr(e,t){var n=t-e;return n?Nr(e,n>180||n<-180?n-360*Math.round(n/360):n):Or(isNaN(e)?t:e)}function Dr(e){return 1==(e=+e)?Fr:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Or(isNaN(t)?n:t)}}function Fr(e,t){var n=t-e;return n?Nr(e,n):Or(isNaN(e)?t:e)}var jr=function e(t){var n=Dr(t);function r(e,t){var r=n((e=yr(e)).r,(t=yr(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),s=Fr(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function Zr(e){return function(t){var n,r,i=t.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=yr(t[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=e(o),s=e(s),a=e(a),r.opacity=1,function(e){return r.r=o(e),r.g=s(e),r.b=a(e),r+""}}}var Ur=Zr(Pr),zr=Zr(Rr);function Vr(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Br(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $r(e,t){return(Br(t)?Vr:Gr)(e,t)}function Gr(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=Xr(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=o[n](e);return s}}function qr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Hr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Wr(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Xr(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Jr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kr=new RegExp(Jr.source,"g");function Yr(e,t){var n,r,i,o=Jr.lastIndex=Kr.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=Jr.exec(e))&&(r=Kr.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Hr(n,r)})),o=Kr.lastIndex;return o<t.length&&(i=t.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function Xr(e,t){var n,r=typeof t;return null==t||"boolean"===r?Or(t):("number"===r?Hr:"string"===r?(n=hr(t))?(t=n,jr):Yr:t instanceof hr?jr:t instanceof Date?qr:Br(t)?Vr:Array.isArray(t)?Gr:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Wr:Hr)(e,t)}function Qr(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ei(e,t){if(e=Qr(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}var ti,ni,ri=0,ii=0,oi=0,si=1e3,ai=0,li=0,ci=0,ui="object"==typeof performance&&performance.now?performance:Date,di="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function hi(){return li||(di(pi),li=ui.now()+ci)}function pi(){li=0}function fi(){this._call=this._time=this._next=null}function mi(e,t,n){var r=new fi;return r.restart(e,t,n),r}function yi(){hi(),++ri;for(var e,t=ti;t;)(e=li-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ri}function gi(){li=(ai=ui.now())+ci,ri=ii=0;try{yi()}finally{ri=0,function(){var e,t,n=ti,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ti=t);ni=e,bi(r)}(),li=0}}function vi(){var e=ui.now(),t=e-ai;t>si&&(ci-=t,ai=e)}function bi(e){ri||(ii&&(ii=clearTimeout(ii)),e-li>24?(e<1/0&&(ii=setTimeout(gi,e-ui.now()-ci)),oi&&(oi=clearInterval(oi))):(oi||(ai=ui.now(),oi=setInterval(vi,si)),ri=1,di(gi)))}function wi(e,t,n){var r=new fi;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}fi.prototype=mi.prototype={constructor:fi,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?hi():+n)+(null==t?0:+t),this._next||ni===this||(ni?ni._next=this:ti=this,ni=this),this._call=e,this._time=n,bi()},stop:function(){this._call&&(this._call=null,this._time=1/0,bi())}};var _i=Tt("start","end","cancel","interrupt"),Si=[],xi=0,Mi=1,Ai=2,Ti=3,Ii=4,Ci=5,Ei=6;function ki(e,t,n,r,i,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(e){n.state=Mi,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(o){var c,u,d,h;if(n.state!==Mi)return l();for(c in i)if((h=i[c]).name===n.name){if(h.state===Ti)return wi(s);h.state===Ii?(h.state=Ei,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=Ei,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(wi((function(){n.state===Ti&&(n.state=Ii,n.timer.restart(a,n.delay,n.time),a(o))})),n.state=Ai,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ai){for(n.state=Ti,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=Ci,1),o=-1,s=r.length;++o<s;)r[o].call(e,i);n.state===Ci&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=Ei,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=mi(o,0,n.time)}(e,n,{name:t,index:r,group:i,on:_i,tween:Si,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:xi})}function Pi(e,t){var n=Oi(e,t);if(n.state>xi)throw new Error("too late; already scheduled");return n}function Ri(e,t){var n=Oi(e,t);if(n.state>Ti)throw new Error("too late; already running");return n}function Oi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ni(e,t){var n,r,i,o=e.__transition,s=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>Ai&&n.state<Ci,n.state=Ei,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete e.__transition}}var Li,Di=180/Math.PI,Fi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ji(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Di,skewX:Math.atan(l)*Di,scaleX:s,scaleY:a}}function Zi(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,s){var a=[],l=[];return o=e(o),s=e(s),function(e,r,i,o,s,a){if(e!==i||r!==o){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:Hr(e,i)},{i:l-2,x:Hr(r,o)})}else(i||o)&&s.push("translate("+i+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Hr(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,s.rotate,a,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Hr(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,s.skewX,a,l),function(e,t,n,r,o,s){if(e!==n||t!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Hr(e,n)},{i:a-2,x:Hr(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(e){for(var t,n=-1,r=l.length;++n<r;)a[(t=l[n]).i]=t.x(e);return a.join("")}}}var Ui=Zi((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Fi:ji(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),zi=Zi((function(e){return null==e?Fi:(Li||(Li=document.createElementNS("http://www.w3.org/2000/svg","g")),Li.setAttribute("transform",e),(e=Li.transform.baseVal.consolidate())?ji((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Fi)}),", ",")",")");function Vi(e,t){var n,r;return function(){var i=Ri(this,e),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}i.tween=r}}function Bi(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Ri(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function $i(e,t,n){var r=e._id;return e.each((function(){var e=Ri(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Oi(e,r).value[t]}}function Gi(e,t){var n;return("number"==typeof t?Hr:t instanceof hr?jr:(n=hr(t))?(t=n,jr):Yr)(e,t)}function qi(e){return function(){this.removeAttribute(e)}}function Hi(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wi(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function Ji(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function Ki(e,t,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=t(r=s,l));this.removeAttribute(e)}}function Yi(e,t,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=t(r=s,l));this.removeAttributeNS(e.space,e.local)}}function Xi(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Qi(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function eo(e,t){return function(){Pi(this,e).delay=+t.apply(this,arguments)}}function to(e,t){return t=+t,function(){Pi(this,e).delay=t}}function no(e,t){return function(){Ri(this,e).duration=+t.apply(this,arguments)}}function ro(e,t){return t=+t,function(){Ri(this,e).duration=t}}var io=Un.prototype.constructor;function oo(e){return function(){this.style.removeProperty(e)}}var so=0;function ao(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function lo(e){return Un().transition(e)}function co(){return++so}var uo=Un.prototype;function ho(e){return e*e*e}function po(e){return--e*e*e+1}function fo(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}ao.prototype=lo.prototype={constructor:ao,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Ct(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,l,c=r[s],u=c.length,d=o[s]=new Array(u),h=0;h<u;++h)(a=c[h])&&(l=e.call(a,a.__data__,h,c))&&("__data__"in a&&(l.__data__=a.__data__),d[h]=l,ki(d[h],t,n,h,d,Oi(a,n)));return new ao(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Pt(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l,c=r[a],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,p=e.call(l,l.__data__,d,c),f=Oi(l,n),m=0,y=p.length;m<y;++m)(h=p[m])&&ki(h,t,n,m,p,f);o.push(p),s.push(l)}return new ao(o,s,t,n)},selectChild:uo.selectChild,selectChildren:uo.selectChildren,filter:function(e){"function"!=typeof e&&(e=Rt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new ao(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l,c=t[a],u=n[a],d=c.length,h=s[a]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(h[p]=l);for(;a<r;++a)s[a]=t[a];return new ao(s,this._parents,this._name,this._id)},selection:function(){return new io(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=co(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=Oi(s,t);ki(s,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ao(r,this._parents,e,n)},call:uo.call,nodes:uo.nodes,node:uo.node,size:uo.size,empty:uo.empty,each:uo.each,on:function(e,t){var n=this._id;return arguments.length<2?Oi(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?Pi:Ri;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}(n,e,t))},attr:function(e,t){var n=Ht(e),r="transform"===n?zi:Gi;return this.attrTween(e,"function"==typeof t?(n.local?Yi:Ki)(n,r,$i(this,"attr."+e,t)):null==t?(n.local?Hi:qi)(n):(n.local?Ji:Wi)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Ht(e);return this.tween(n,(r.local?Xi:Qi)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Ui:Gi;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=on(this,e),s=(this.style.removeProperty(e),on(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}(e,r)).on("end.style."+e,oo(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var s=on(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=on(this,e)),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}(e,r,$i(this,"style."+e,t))).each(function(e,t){var n,r,i,o,s="style."+t,a="end."+s;return function(){var l=Ri(this,e),c=l.on,u=null==l.value[s]?o||(o=oo(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(a,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var s=on(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}($i(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=Oi(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?Vi:Bi)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?eo:to)(t,e)):Oi(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?no:ro)(t,e)):Oi(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){Ri(this,e).ease=t}}(t,e)):Oi(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;Ri(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,s){var a={value:s},l={value:function(){0==--i&&o()}};n.each((function(){var n=Ri(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t})),0===i&&o()}))},[Symbol.iterator]:uo[Symbol.iterator]};var mo={time:null,delay:0,duration:250,ease:fo};function yo(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Un.prototype.interrupt=function(e){return this.each((function(){Ni(this,e)}))},Un.prototype.transition=function(e){var t,n;e instanceof ao?(t=e._id,e=e._name):(t=co(),(n=mo).time=hi(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)(s=a[c])&&ki(s,e,t,c,a,n||yo(s,t));return new ao(r,this._parents,e,t)};var go=[null];function vo(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+"",i)if((n=i[r]).state>Mi&&n.name===t)return new ao([[e]],go,t,+r);return null}var bo=e=>()=>e;function wo(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function _o(e){e.preventDefault(),e.stopImmediatePropagation()}var So={name:"drag"},xo={name:"space"},Mo={name:"handle"},Ao={name:"center"};const{abs:To,max:Io,min:Co}=Math;function Eo(e){return[+e[0],+e[1]]}function ko(e){return[Eo(e[0]),Eo(e[1])]}var Po={name:"x",handles:["w","e"].map(Zo),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Ro={name:"y",handles:["n","s"].map(Zo),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Oo={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Zo),input:function(e){return null==e?null:ko(e)},output:function(e){return e}},No={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Lo={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Do={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Fo={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},jo={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Zo(e){return{type:e}}function Uo(e){return!e.ctrlKey&&!e.button}function zo(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Vo(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bo(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function $o(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function Go(){return Wo(Po)}function qo(){return Wo(Ro)}function Ho(){return Wo(Oo)}function Wo(e){var t,n=zo,r=Uo,i=Vo,o=!0,s=Tt("start","brush","end"),a=6;function l(t){var n=t.property("__brush",m).selectAll(".overlay").data([Zo("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",No.overlay).merge(n).each((function(){var e=Bo(this).extent;zn(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([Zo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",No.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return No[e.type]})),t.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",f).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var e=zn(this),t=Bo(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-a/2:t[0][0]-a/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-a/2:t[0][1]-a/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+a:a})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+a:a}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(e,t,n){var r=e.__brush.emitter;return!r||n&&r.clean?new d(e,t,n):r}function d(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function h(n){if((!t||n.touches)&&r.apply(this,arguments)){var i,s,a,l,d,h,p,f,m,y,g,v=this,b=n.target.__data__.type,w="selection"===(o&&n.metaKey?b="overlay":b)?So:o&&n.altKey?Ao:Mo,_=e===Ro?null:Fo[b],S=e===Po?null:jo[b],x=Bo(v),M=x.extent,A=x.selection,T=M[0][0],I=M[0][1],C=M[1][0],E=M[1][1],k=0,P=0,R=_&&S&&o&&n.shiftKey,O=Array.from(n.touches||[n],(e=>{const t=e.identifier;return(e=ei(e,v)).point0=e.slice(),e.identifier=t,e}));Ni(v);var N=u(v,arguments,!0).beforestart();if("overlay"===b){A&&(m=!0);const t=[O[0],O[1]||O[0]];x.selection=A=[[i=e===Ro?T:Co(t[0][0],t[1][0]),a=e===Po?I:Co(t[0][1],t[1][1])],[d=e===Ro?C:Io(t[0][0],t[1][0]),p=e===Po?E:Io(t[0][1],t[1][1])]],O.length>1&&Z(n)}else i=A[0][0],a=A[0][1],d=A[1][0],p=A[1][1];s=i,l=a,h=d,f=p;var L=zn(v).attr("pointer-events","none"),D=L.selectAll(".overlay").attr("cursor",No[b]);if(n.touches)N.moved=j,N.ended=U;else{var F=zn(n.view).on("mousemove.brush",j,!0).on("mouseup.brush",U,!0);o&&F.on("keydown.brush",(function(e){switch(e.keyCode){case 16:R=_&&S;break;case 18:w===Mo&&(_&&(d=h-k*_,i=s+k*_),S&&(p=f-P*S,a=l+P*S),w=Ao,Z(e));break;case 32:w!==Mo&&w!==Ao||(_<0?d=h-k:_>0&&(i=s-k),S<0?p=f-P:S>0&&(a=l-P),w=xo,D.attr("cursor",No.selection),Z(e));break;default:return}_o(e)}),!0).on("keyup.brush",(function(e){switch(e.keyCode){case 16:R&&(y=g=R=!1,Z(e));break;case 18:w===Ao&&(_<0?d=h:_>0&&(i=s),S<0?p=f:S>0&&(a=l),w=Mo,Z(e));break;case 32:w===xo&&(e.altKey?(_&&(d=h-k*_,i=s+k*_),S&&(p=f-P*S,a=l+P*S),w=Ao):(_<0?d=h:_>0&&(i=s),S<0?p=f:S>0&&(a=l),w=Mo),D.attr("cursor",No[b]),Z(e));break;default:return}_o(e)}),!0),qn(n.view)}c.call(v),N.start(n,w.name)}function j(e){for(const t of e.changedTouches||[e])for(const e of O)e.identifier===t.identifier&&(e.cur=ei(t,v));if(R&&!y&&!g&&1===O.length){const e=O[0];To(e.cur[0]-e[0])>To(e.cur[1]-e[1])?g=!0:y=!0}for(const e of O)e.cur&&(e[0]=e.cur[0],e[1]=e.cur[1]);m=!0,_o(e),Z(e)}function Z(e){const t=O[0],n=t.point0;var r;switch(k=t[0]-n[0],P=t[1]-n[1],w){case xo:case So:_&&(k=Io(T-i,Co(C-d,k)),s=i+k,h=d+k),S&&(P=Io(I-a,Co(E-p,P)),l=a+P,f=p+P);break;case Mo:O[1]?(_&&(s=Io(T,Co(C,O[0][0])),h=Io(T,Co(C,O[1][0])),_=1),S&&(l=Io(I,Co(E,O[0][1])),f=Io(I,Co(E,O[1][1])),S=1)):(_<0?(k=Io(T-i,Co(C-i,k)),s=i+k,h=d):_>0&&(k=Io(T-d,Co(C-d,k)),s=i,h=d+k),S<0?(P=Io(I-a,Co(E-a,P)),l=a+P,f=p):S>0&&(P=Io(I-p,Co(E-p,P)),l=a,f=p+P));break;case Ao:_&&(s=Io(T,Co(C,i-k*_)),h=Io(T,Co(C,d+k*_))),S&&(l=Io(I,Co(E,a-P*S)),f=Io(I,Co(E,p+P*S)))}h<s&&(_*=-1,r=i,i=d,d=r,r=s,s=h,h=r,b in Lo&&D.attr("cursor",No[b=Lo[b]])),f<l&&(S*=-1,r=a,a=p,p=r,r=l,l=f,f=r,b in Do&&D.attr("cursor",No[b=Do[b]])),x.selection&&(A=x.selection),y&&(s=A[0][0],h=A[1][0]),g&&(l=A[0][1],f=A[1][1]),A[0][0]===s&&A[0][1]===l&&A[1][0]===h&&A[1][1]===f||(x.selection=[[s,l],[h,f]],c.call(v),N.brush(e,w.name))}function U(e){if(function(e){e.stopImmediatePropagation()}(e),e.touches){if(e.touches.length)return;t&&clearTimeout(t),t=setTimeout((function(){t=null}),500)}else Hn(e.view,m),F.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);L.attr("pointer-events","all"),D.attr("cursor",No.overlay),x.selection&&(A=x.selection),function(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(A)&&(x.selection=null,c.call(v)),N.end(e,w.name)}}function p(e){u(this,arguments).moved(e)}function f(e){u(this,arguments).ended(e)}function m(){var t=this.__brush||{selection:null};return t.extent=ko(n.apply(this,arguments)),t.dim=e,t}return l.move=function(t,n,r){t.tween?t.on("start.brush",(function(e){u(this,arguments).beforestart().start(e)})).on("interrupt.brush end.brush",(function(e){u(this,arguments).end(e)})).tween("brush",(function(){var t=this,r=t.__brush,i=u(t,arguments),o=r.selection,s=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),a=Xr(o,s);function l(e){r.selection=1===e&&null===s?null:a(e),c.call(t),i.brush()}return null!==o&&null!==s?l:l(1)})):t.each((function(){var t=this,i=arguments,o=t.__brush,s=e.input("function"==typeof n?n.apply(t,i):n,o.extent),a=u(t,i).beforestart();Ni(t),o.selection=null===s?null:s,c.call(t),a.start(r).brush(r).end(r)}))},l.clear=function(e,t){l.move(e,null,t)},d.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(e,t){return this.starting?(this.starting=!1,this.emit("start",e,t)):this.emit("brush",e),this},brush:function(e,t){return this.emit("brush",e,t),this},end:function(e,t){return 0==--this.active&&(delete this.state.emitter,this.emit("end",e,t)),this},emit:function(t,n,r){var i=zn(this.that).datum();s.call(t,this.that,new wo(t,{sourceEvent:n,target:l,selection:e.output(this.state.selection),mode:r,dispatch:s}),i)}},l.extent=function(e){return arguments.length?(n="function"==typeof e?e:bo(ko(e)),l):n},l.filter=function(e){return arguments.length?(r="function"==typeof e?e:bo(!!e),l):r},l.touchable=function(e){return arguments.length?(i="function"==typeof e?e:bo(!!e),l):i},l.handleSize=function(e){return arguments.length?(a=+e,l):a},l.keyModifiers=function(e){return arguments.length?(o=!!e,l):o},l.on=function(){var e=s.on.apply(s,arguments);return e===s?l:e},l}var Jo=Math.abs,Ko=Math.cos,Yo=Math.sin,Xo=Math.PI,Qo=Xo/2,es=2*Xo,ts=Math.max,ns=1e-12;function rs(e,t){return Array.from({length:t-e},((t,n)=>e+n))}function is(){return as(!1,!1)}function os(){return as(!1,!0)}function ss(){return as(!0,!1)}function as(e,t){var n=0,r=null,i=null,o=null;function s(s){var a,l=s.length,c=new Array(l),u=rs(0,l),d=new Array(l*l),h=new Array(l),p=0;s=Float64Array.from({length:l*l},t?(e,t)=>s[t%l][t/l|0]:(e,t)=>s[t/l|0][t%l]);for(let t=0;t<l;++t){let n=0;for(let r=0;r<l;++r)n+=s[t*l+r]+e*s[r*l+t];p+=c[t]=n}a=(p=ts(0,es-n*l)/p)?n:es/l;{let t=0;r&&u.sort(((e,t)=>r(c[e],c[t])));for(const n of u){const r=t;if(e){const e=rs(1+~l,l).filter((e=>e<0?s[~e*l+n]:s[n*l+e]));i&&e.sort(((e,t)=>i(e<0?-s[~e*l+n]:s[n*l+e],t<0?-s[~t*l+n]:s[n*l+t])));for(const r of e)if(r<0){(d[~r*l+n]||(d[~r*l+n]={source:null,target:null})).target={index:n,startAngle:t,endAngle:t+=s[~r*l+n]*p,value:s[~r*l+n]}}else{(d[n*l+r]||(d[n*l+r]={source:null,target:null})).source={index:n,startAngle:t,endAngle:t+=s[n*l+r]*p,value:s[n*l+r]}}h[n]={index:n,startAngle:r,endAngle:t,value:c[n]}}else{const e=rs(0,l).filter((e=>s[n*l+e]||s[e*l+n]));i&&e.sort(((e,t)=>i(s[n*l+e],s[n*l+t])));for(const r of e){let e;if(n<r?(e=d[n*l+r]||(d[n*l+r]={source:null,target:null}),e.source={index:n,startAngle:t,endAngle:t+=s[n*l+r]*p,value:s[n*l+r]}):(e=d[r*l+n]||(d[r*l+n]={source:null,target:null}),e.target={index:n,startAngle:t,endAngle:t+=s[n*l+r]*p,value:s[n*l+r]},n===r&&(e.source=e.target)),e.source&&e.target&&e.source.value<e.target.value){const t=e.source;e.source=e.target,e.target=t}}h[n]={index:n,startAngle:r,endAngle:t,value:c[n]}}t+=a}}return(d=Object.values(d)).groups=h,o?d.sort(o):d}return s.padAngle=function(e){return arguments.length?(n=ts(0,e),s):n},s.sortGroups=function(e){return arguments.length?(r=e,s):r},s.sortSubgroups=function(e){return arguments.length?(i=e,s):i},s.sortChords=function(e){return arguments.length?(null==e?o=null:(t=e,o=function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)})._=e,s):o&&o._;var t},s}const ls=Math.PI,cs=2*ls,us=1e-6,ds=cs-us;function hs(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class ps{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?hs:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return hs;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,a=n-e,l=r-t,c=o-e,u=s-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>us)if(Math.abs(u*a-l*c)>us&&i){let h=n-o,p=r-s,f=a*a+l*l,m=h*h+p*p,y=Math.sqrt(f),g=Math.sqrt(d),v=i*Math.tan((ls-Math.acos((f+d-m)/(2*y*g)))/2),b=v/g,w=v/y;Math.abs(b-1)>us&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*h>c*p)},${this._x1=e+w*a},${this._y1=t+w*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),a=n*Math.sin(r),l=e+s,c=t+a,u=1^o,d=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>us||Math.abs(this._y1-c)>us)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%cs+cs),d>ds?this._append`A${n},${n},0,1,${u},${e-s},${t-a}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>us&&this._append`A${n},${n},0,${+(d>=ls)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function fs(){return new ps}function ms(e=3){return new ps(+e)}fs.prototype=ps.prototype;var ys=Array.prototype.slice;function gs(e){return function(){return e}}function vs(e){return e.source}function bs(e){return e.target}function ws(e){return e.radius}function _s(e){return e.startAngle}function Ss(e){return e.endAngle}function xs(){return 0}function Ms(){return 10}function As(e){var t=vs,n=bs,r=ws,i=ws,o=_s,s=Ss,a=xs,l=null;function c(){var c,u=t.apply(this,arguments),d=n.apply(this,arguments),h=a.apply(this,arguments)/2,p=ys.call(arguments),f=+r.apply(this,(p[0]=u,p)),m=o.apply(this,p)-Qo,y=s.apply(this,p)-Qo,g=+i.apply(this,(p[0]=d,p)),v=o.apply(this,p)-Qo,b=s.apply(this,p)-Qo;if(l||(l=c=fs()),h>ns&&(Jo(y-m)>2*h+ns?y>m?(m+=h,y-=h):(m-=h,y+=h):m=y=(m+y)/2,Jo(b-v)>2*h+ns?b>v?(v+=h,b-=h):(v-=h,b+=h):v=b=(v+b)/2),l.moveTo(f*Ko(m),f*Yo(m)),l.arc(0,0,f,m,y),m!==v||y!==b)if(e){var w=g-+e.apply(this,arguments),_=(v+b)/2;l.quadraticCurveTo(0,0,w*Ko(v),w*Yo(v)),l.lineTo(g*Ko(_),g*Yo(_)),l.lineTo(w*Ko(b),w*Yo(b))}else l.quadraticCurveTo(0,0,g*Ko(v),g*Yo(v)),l.arc(0,0,g,v,b);if(l.quadraticCurveTo(0,0,f*Ko(m),f*Yo(m)),l.closePath(),c)return l=null,c+""||null}return e&&(c.headRadius=function(t){return arguments.length?(e="function"==typeof t?t:gs(+t),c):e}),c.radius=function(e){return arguments.length?(r=i="function"==typeof e?e:gs(+e),c):r},c.sourceRadius=function(e){return arguments.length?(r="function"==typeof e?e:gs(+e),c):r},c.targetRadius=function(e){return arguments.length?(i="function"==typeof e?e:gs(+e),c):i},c.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:gs(+e),c):o},c.endAngle=function(e){return arguments.length?(s="function"==typeof e?e:gs(+e),c):s},c.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:gs(+e),c):a},c.source=function(e){return arguments.length?(t=e,c):t},c.target=function(e){return arguments.length?(n=e,c):n},c.context=function(e){return arguments.length?(l=null==e?null:e,c):l},c}function Ts(){return As()}function Is(){return As(Ms)}const Cs=Math.PI/180,Es=180/Math.PI,ks=.96422,Ps=1,Rs=.82521,Os=4/29,Ns=6/29,Ls=3*Ns*Ns,Ds=Ns*Ns*Ns;function Fs(e){if(e instanceof Us)return new Us(e.l,e.a,e.b,e.opacity);if(e instanceof Ws)return Js(e);e instanceof gr||(e=mr(e));var t,n,r=$s(e.r),i=$s(e.g),o=$s(e.b),s=zs((.2225045*r+.7168786*i+.0606169*o)/Ps);return r===i&&i===o?t=n=s:(t=zs((.4360747*r+.3850649*i+.1430804*o)/ks),n=zs((.0139322*r+.0971045*i+.7141733*o)/Rs)),new Us(116*s-16,500*(t-s),200*(s-n),e.opacity)}function js(e,t){return new Us(e,0,0,null==t?1:t)}function Zs(e,t,n,r){return 1===arguments.length?Fs(e):new Us(e,t,n,null==r?1:r)}function Us(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function zs(e){return e>Ds?Math.pow(e,1/3):e/Ls+Os}function Vs(e){return e>Ns?e*e*e:Ls*(e-Os)}function Bs(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function $s(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Gs(e){if(e instanceof Ws)return new Ws(e.h,e.c,e.l,e.opacity);if(e instanceof Us||(e=Fs(e)),0===e.a&&0===e.b)return new Ws(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Es;return new Ws(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function qs(e,t,n,r){return 1===arguments.length?Gs(e):new Ws(n,t,e,null==r?1:r)}function Hs(e,t,n,r){return 1===arguments.length?Gs(e):new Ws(e,t,n,null==r?1:r)}function Ws(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Js(e){if(isNaN(e.h))return new Us(e.l,0,0,e.opacity);var t=e.h*Cs;return new Us(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Wn(Us,Zs,Jn(Kn,{brighter(e){return new Us(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new Us(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new gr(Bs(3.1338561*(t=ks*Vs(t))-1.6168667*(e=Ps*Vs(e))-.4906146*(n=Rs*Vs(n))),Bs(-.9787684*t+1.9161415*e+.033454*n),Bs(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Wn(Ws,Hs,Jn(Kn,{brighter(e){return new Ws(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new Ws(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return Js(this).rgb()}}));var Ks=-.14861,Ys=1.78277,Xs=-.29227,Qs=-.90649,ea=1.97294,ta=ea*Qs,na=ea*Ys,ra=Ys*Xs-Qs*Ks;function ia(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof oa)return new oa(e.h,e.s,e.l,e.opacity);e instanceof gr||(e=mr(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(ra*r+ta*t-na*n)/(ra+ta-na),o=r-i,s=(ea*(n-i)-Xs*o)/Qs,a=Math.sqrt(s*s+o*o)/(ea*i*(1-i)),l=a?Math.atan2(s,o)*Es-120:NaN;return new oa(l<0?l+360:l,a,i,e.opacity)}(e):new oa(e,t,n,null==r?1:r)}function oa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Wn(oa,ia,Jn(Kn,{brighter(e){return e=null==e?Xn:Math.pow(Xn,e),new oa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Yn:Math.pow(Yn,e),new oa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Cs,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new gr(255*(t+n*(Ks*r+Ys*i)),255*(t+n*(Xs*r+Qs*i)),255*(t+n*(ea*r)),this.opacity)}}));var sa=Array.prototype.slice;function aa(e,t){return e-t}var la=e=>()=>e;function ca(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=ua(e,t[r]))return n;return 0}function ua(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],c=l[0],u=l[1],d=e[a],h=d[0],p=d[1];if(da(l,d,t))return 0;u>r!=p>r&&n<(h-c)*(r-u)/(p-u)+c&&(i=-i)}return i}function da(e,t,n){var r,i,o,s;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],o=n[r],s=t[r],i<=o&&o<=s||s<=o&&o<=i)}function ha(){}var pa=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function fa(){var e=1,t=1,n=he,r=a;function i(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(aa);else{const n=C(e,ma);for(t=le(...de(n[0],n[1],t),t);t[t.length-1]>=n[1];)t.pop();for(;t[1]<n[0];)t.shift()}return t.map((t=>o(e,t)))}function o(n,i){const o=null==i?NaN:+i;if(isNaN(o))throw new Error(`invalid value: ${i}`);var a=[],l=[];return function(n,r,i){var o,a,l,c,u,d,h=new Array,p=new Array;o=a=-1,c=ya(n[0],r),pa[c<<1].forEach(f);for(;++o<e-1;)l=c,c=ya(n[o+1],r),pa[l|c<<1].forEach(f);pa[c|0].forEach(f);for(;++a<t-1;){for(o=-1,c=ya(n[a*e+e],r),u=ya(n[a*e],r),pa[c<<1|u<<2].forEach(f);++o<e-1;)l=c,c=ya(n[a*e+e+o+1],r),d=u,u=ya(n[a*e+o+1],r),pa[l|c<<1|u<<2|d<<3].forEach(f);pa[c|u<<3].forEach(f)}o=-1,u=n[a*e]>=r,pa[u<<2].forEach(f);for(;++o<e-1;)d=u,u=ya(n[a*e+o+1],r),pa[u<<2|d<<3].forEach(f);function f(e){var t,n,r=[e[0][0]+o,e[0][1]+a],l=[e[1][0]+o,e[1][1]+a],c=s(r),u=s(l);(t=p[c])?(n=h[u])?(delete p[t.end],delete h[n.start],t===n?(t.ring.push(l),i(t.ring)):h[t.start]=p[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete p[t.end],t.ring.push(l),p[t.end=u]=t):(t=h[u])?(n=p[c])?(delete h[t.start],delete p[n.end],t===n?(t.ring.push(l),i(t.ring)):h[n.start]=p[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete h[t.start],t.ring.unshift(r),h[t.start=c]=t):h[c]=p[u]={start:c,end:u,ring:[r,l]}}pa[u<<3].forEach(f)}(n,o,(function(e){r(e,n,o),function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?a.push([e]):l.push(e)})),l.forEach((function(e){for(var t,n=0,r=a.length;n<r;++n)if(-1!==ca((t=a[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:a}}function s(t){return 2*t[0]+t[1]*(e+1)*4}function a(n,r,i){n.forEach((function(n){var o=n[0],s=n[1],a=0|o,l=0|s,c=ga(r[l*e+a]);o>0&&o<e&&a===o&&(n[0]=va(o,ga(r[l*e+a-1]),c,i)),s>0&&s<t&&l===s&&(n[1]=va(s,ga(r[(l-1)*e+a]),c,i))}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[e,t];var r=Math.floor(n[0]),o=Math.floor(n[1]);if(!(r>=0&&o>=0))throw new Error("invalid size");return e=r,t=o,i},i.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?la(sa.call(e)):la(e),i):n},i.smooth=function(e){return arguments.length?(r=e?a:ha,i):r===a},i}function ma(e){return isFinite(e)?e:NaN}function ya(e,t){return null!=e&&+e>=t}function ga(e){return null==e||isNaN(e=+e)?-1/0:e}function va(e,t,n,r){const i=r-t,o=n-t,s=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(s)?e:e+s-.5}function ba(e){return e[0]}function wa(e){return e[1]}function _a(){return 1}function Sa(){var e=ba,t=wa,n=_a,r=960,i=500,o=20,s=2,a=3*o,l=r+2*a>>s,c=i+2*a>>s,u=la(20);function d(r){var i=new Float32Array(l*c),u=Math.pow(2,-s),d=-1;for(const o of r){var h=(e(o,++d,r)+a)*u,p=(t(o,d,r)+a)*u,m=+n(o,d,r);if(m&&h>=0&&h<l&&p>=0&&p<c){var y=Math.floor(h),g=Math.floor(p),v=h-y-.5,b=p-g-.5;i[y+g*l]+=(1-v)*(1-b)*m,i[y+1+g*l]+=v*(1-b)*m,i[y+1+(g+1)*l]+=v*b*m,i[y+(g+1)*l]+=(1-v)*b*m}}return f({data:i,width:l,height:c},o*u),i}function h(e){var t=d(e),n=u(t),r=Math.pow(2,2*s);return Array.isArray(n)||(n=le(Number.MIN_VALUE,fe(t)/r,n)),fa().size([l,c]).thresholds(n.map((e=>e*r)))(t).map(((e,t)=>(e.value=+n[t],p(e))))}function p(e){return e.coordinates.forEach(m),e}function m(e){e.forEach(y)}function y(e){e.forEach(g)}function g(e){e[0]=e[0]*Math.pow(2,s)-a,e[1]=e[1]*Math.pow(2,s)-a}function v(){return l=r+2*(a=3*o)>>s,c=i+2*a>>s,h}return h.contours=function(e){var t=d(e),n=fa().size([l,c]),r=Math.pow(2,2*s),i=e=>{e=+e;var i=p(n.contour(t,e*r));return i.value=e,i};return Object.defineProperty(i,"max",{get:()=>fe(t)/r}),i},h.x=function(t){return arguments.length?(e="function"==typeof t?t:la(+t),h):e},h.y=function(e){return arguments.length?(t="function"==typeof e?e:la(+e),h):t},h.weight=function(e){return arguments.length?(n="function"==typeof e?e:la(+e),h):n},h.size=function(e){if(!arguments.length)return[r,i];var t=+e[0],n=+e[1];if(!(t>=0&&n>=0))throw new Error("invalid size");return r=t,i=n,v()},h.cellSize=function(e){if(!arguments.length)return 1<<s;if(!((e=+e)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(e)/Math.LN2),v()},h.thresholds=function(e){return arguments.length?(u="function"==typeof e?e:Array.isArray(e)?la(sa.call(e)):la(e),h):u},h.bandwidth=function(e){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*e*e+1)-1)/2,v()},h}const xa=134217729,Ma=33306690738754706e-32;function Aa(e,t,n,r,i){let o,s,a,l,c=t[0],u=r[0],d=0,h=0;u>c==u>-c?(o=c,c=t[++d]):(o=u,u=r[++h]);let p=0;if(d<e&&h<n)for(u>c==u>-c?(s=c+o,a=o-(s-c),c=t[++d]):(s=u+o,a=o-(s-u),u=r[++h]),o=s,0!==a&&(i[p++]=a);d<e&&h<n;)u>c==u>-c?(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++d]):(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++h]),o=s,0!==a&&(i[p++]=a);for(;d<e;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++d],o=s,0!==a&&(i[p++]=a);for(;h<n;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++h],o=s,0!==a&&(i[p++]=a);return 0===o&&0!==p||(i[p++]=o),p}function Ta(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function Ia(e){return new Float64Array(e)}const Ca=22204460492503146e-32,Ea=11093356479670487e-47,ka=Ia(4),Pa=Ia(8),Ra=Ia(12),Oa=Ia(16),Na=Ia(4);function La(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,c=Math.abs(s+a);return Math.abs(l)>=33306690738754716e-32*c?l:-function(e,t,n,r,i,o,s){let a,l,c,u,d,h,p,f,m,y,g,v,b,w,_,S,x,M;const A=e-i,T=n-i,I=t-o,C=r-o;w=A*C,h=xa*A,p=h-(h-A),f=A-p,h=xa*C,m=h-(h-C),y=C-m,_=f*y-(w-p*m-f*m-p*y),S=I*T,h=xa*I,p=h-(h-I),f=I-p,h=xa*T,m=h-(h-T),y=T-m,x=f*y-(S-p*m-f*m-p*y),g=_-x,d=_-g,ka[0]=_-(g+d)+(d-x),v=w+g,d=v-w,b=w-(v-d)+(g-d),g=b-S,d=b-g,ka[1]=b-(g+d)+(d-S),M=v+g,d=M-v,ka[2]=v-(M-d)+(g-d),ka[3]=M;let E=Ta(4,ka),k=Ca*s;if(E>=k||-E>=k)return E;if(d=e-A,a=e-(A+d)+(d-i),d=n-T,c=n-(T+d)+(d-i),d=t-I,l=t-(I+d)+(d-o),d=r-C,u=r-(C+d)+(d-o),0===a&&0===l&&0===c&&0===u)return E;if(k=Ea*s+Ma*Math.abs(E),E+=A*u+C*a-(I*c+T*l),E>=k||-E>=k)return E;w=a*C,h=xa*a,p=h-(h-a),f=a-p,h=xa*C,m=h-(h-C),y=C-m,_=f*y-(w-p*m-f*m-p*y),S=l*T,h=xa*l,p=h-(h-l),f=l-p,h=xa*T,m=h-(h-T),y=T-m,x=f*y-(S-p*m-f*m-p*y),g=_-x,d=_-g,Na[0]=_-(g+d)+(d-x),v=w+g,d=v-w,b=w-(v-d)+(g-d),g=b-S,d=b-g,Na[1]=b-(g+d)+(d-S),M=v+g,d=M-v,Na[2]=v-(M-d)+(g-d),Na[3]=M;const P=Aa(4,ka,4,Na,Pa);w=A*u,h=xa*A,p=h-(h-A),f=A-p,h=xa*u,m=h-(h-u),y=u-m,_=f*y-(w-p*m-f*m-p*y),S=I*c,h=xa*I,p=h-(h-I),f=I-p,h=xa*c,m=h-(h-c),y=c-m,x=f*y-(S-p*m-f*m-p*y),g=_-x,d=_-g,Na[0]=_-(g+d)+(d-x),v=w+g,d=v-w,b=w-(v-d)+(g-d),g=b-S,d=b-g,Na[1]=b-(g+d)+(d-S),M=v+g,d=M-v,Na[2]=v-(M-d)+(g-d),Na[3]=M;const R=Aa(P,Pa,4,Na,Ra);w=a*u,h=xa*a,p=h-(h-a),f=a-p,h=xa*u,m=h-(h-u),y=u-m,_=f*y-(w-p*m-f*m-p*y),S=l*c,h=xa*l,p=h-(h-l),f=l-p,h=xa*c,m=h-(h-c),y=c-m,x=f*y-(S-p*m-f*m-p*y),g=_-x,d=_-g,Na[0]=_-(g+d)+(d-x),v=w+g,d=v-w,b=w-(v-d)+(g-d),g=b-S,d=b-g,Na[1]=b-(g+d)+(d-S),M=v+g,d=M-v,Na[2]=v-(M-d)+(g-d),Na[3]=M;const O=Aa(R,Ra,4,Na,Oa);return Oa[O-1]}(e,t,n,r,i,o,c)}Ia(4),Ia(4),Ia(4),Ia(4),Ia(4),Ia(4),Ia(4),Ia(4),Ia(4),Ia(8),Ia(8),Ia(8),Ia(4),Ia(8),Ia(8),Ia(8),Ia(12);Ia(192),Ia(192);Ia(4),Ia(4),Ia(4),Ia(4),Ia(4),Ia(4),Ia(4),Ia(4),Ia(8),Ia(8),Ia(8),Ia(8),Ia(8),Ia(8),Ia(8),Ia(8),Ia(8),Ia(4),Ia(4),Ia(4),Ia(8),Ia(16),Ia(16),Ia(16),Ia(32),Ia(32),Ia(48),Ia(64);Ia(1152),Ia(1152);Ia(4),Ia(4),Ia(4),Ia(4),Ia(4),Ia(4),Ia(4),Ia(4),Ia(4),Ia(4),Ia(24),Ia(24),Ia(24),Ia(24),Ia(24),Ia(24),Ia(24),Ia(24),Ia(24),Ia(24),Ia(1152),Ia(1152),Ia(1152),Ia(1152),Ia(1152),Ia(2304),Ia(2304),Ia(3456),Ia(5760),Ia(8),Ia(8),Ia(8),Ia(16),Ia(24),Ia(48),Ia(48),Ia(96),Ia(192),Ia(384),Ia(384),Ia(384),Ia(768);Ia(96),Ia(96),Ia(96),Ia(1152);const Da=Math.pow(2,-52),Fa=new Uint32Array(512);class ja{static from(e,t=$a,n=Ga){const r=e.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=e[o];i[2*o]=t(r),i[2*o+1]=n(r)}return new ja(i)}constructor(e){const t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=e.length>>1;let s=1/0,a=1/0,l=-1/0,c=-1/0;for(let t=0;t<o;t++){const n=e[2*t],r=e[2*t+1];n<s&&(s=n),r<a&&(a=r),n>l&&(l=n),r>c&&(c=r),this._ids[t]=t}const u=(s+l)/2,d=(a+c)/2;let h,p,f;for(let t=0,n=1/0;t<o;t++){const r=Za(u,d,e[2*t],e[2*t+1]);r<n&&(h=t,n=r)}const m=e[2*h],y=e[2*h+1];for(let t=0,n=1/0;t<o;t++){if(t===h)continue;const r=Za(m,y,e[2*t],e[2*t+1]);r<n&&r>0&&(p=t,n=r)}let g=e[2*p],v=e[2*p+1],b=1/0;for(let t=0;t<o;t++){if(t===h||t===p)continue;const n=za(m,y,g,v,e[2*t],e[2*t+1]);n<b&&(f=t,b=n)}let w=e[2*f],_=e[2*f+1];if(b===1/0){for(let t=0;t<o;t++)this._dists[t]=e[2*t]-e[0]||e[2*t+1]-e[1];Va(this._ids,this._dists,0,o-1);const t=new Uint32Array(o);let n=0;for(let e=0,r=-1/0;e<o;e++){const i=this._ids[e],o=this._dists[i];o>r&&(t[n++]=i,r=o)}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(La(m,y,g,v,w,_)<0){const e=p,t=g,n=v;p=f,g=w,v=_,f=e,w=t,_=n}const S=function(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,c=o-t,u=s*s+a*a,d=l*l+c*c,h=.5/(s*c-a*l),p=e+(c*u-a*d)*h,f=t+(s*d-l*u)*h;return{x:p,y:f}}(m,y,g,v,w,_);this._cx=S.x,this._cy=S.y;for(let t=0;t<o;t++)this._dists[t]=Za(e[2*t],e[2*t+1],S.x,S.y);Va(this._ids,this._dists,0,o-1),this._hullStart=h;let x=3;n[h]=t[f]=p,n[p]=t[h]=f,n[f]=t[p]=h,r[h]=0,r[p]=1,r[f]=2,i.fill(-1),i[this._hashKey(m,y)]=h,i[this._hashKey(g,v)]=p,i[this._hashKey(w,_)]=f,this.trianglesLen=0,this._addTriangle(h,p,f,-1,-1,-1);for(let o,s,a=0;a<this._ids.length;a++){const l=this._ids[a],c=e[2*l],u=e[2*l+1];if(a>0&&Math.abs(c-o)<=Da&&Math.abs(u-s)<=Da)continue;if(o=c,s=u,l===h||l===p||l===f)continue;let d=0;for(let e=0,t=this._hashKey(c,u);e<this._hashSize&&(d=i[(t+e)%this._hashSize],-1===d||d===n[d]);e++);d=t[d];let m,y=d;for(;m=n[y],La(c,u,e[2*y],e[2*y+1],e[2*m],e[2*m+1])>=0;)if(y=m,y===d){y=-1;break}if(-1===y)continue;let g=this._addTriangle(y,l,n[y],-1,-1,r[y]);r[l]=this._legalize(g+2),r[y]=g,x++;let v=n[y];for(;m=n[v],La(c,u,e[2*v],e[2*v+1],e[2*m],e[2*m+1])<0;)g=this._addTriangle(v,l,m,r[l],-1,r[v]),r[l]=this._legalize(g+2),n[v]=v,x--,v=m;if(y===d)for(;m=t[y],La(c,u,e[2*m],e[2*m+1],e[2*y],e[2*y+1])<0;)g=this._addTriangle(m,l,y,-1,r[y],r[m]),this._legalize(g+2),r[m]=g,n[y]=y,x--,y=m;this._hullStart=t[l]=y,n[y]=t[v]=l,n[l]=v,i[this._hashKey(c,u)]=l,i[this._hashKey(e[2*y],e[2*y+1])]=y}this.hull=new Uint32Array(x);for(let e=0,t=this._hullStart;e<x;e++)this.hull[e]=t,t=n[t];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const s=n[e],a=e-e%3;if(o=a+(e+2)%3,-1===s){if(0===i)break;e=Fa[--i];continue}const l=s-s%3,c=a+(e+1)%3,u=l+(s+2)%3,d=t[o],h=t[e],p=t[c],f=t[u];if(Ua(r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1],r[2*f],r[2*f+1])){t[e]=f,t[s]=d;const r=n[u];if(-1===r){let t=this._hullStart;do{if(this._hullTri[t]===u){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,r),this._link(s,n[o]),this._link(o,u);const a=l+(s+1)%3;i<Fa.length&&(Fa[i++]=a)}else{if(0===i)break;e=Fa[--i]}}return o}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,i,o){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=t,this._triangles[s+2]=n,this._link(s,r),this._link(s+1,i),this._link(s+2,o),this.trianglesLen+=3,s}}function Za(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function Ua(e,t,n,r,i,o,s,a){const l=e-s,c=t-a,u=n-s,d=r-a,h=i-s,p=o-a,f=u*u+d*d,m=h*h+p*p;return l*(d*m-f*p)-c*(u*m-f*h)+(l*l+c*c)*(u*p-d*h)<0}function za(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,c=o-t,u=s*s+a*a,d=l*l+c*c,h=.5/(s*c-a*l),p=(c*u-a*d)*h,f=(s*d-l*u)*h;return p*p+f*f}function Va(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=e[i],o=t[r];let s=i-1;for(;s>=n&&t[e[s]]>o;)e[s+1]=e[s--];e[s+1]=r}else{let i=n+1,o=r;Ba(e,n+r>>1,i),t[e[n]]>t[e[r]]&&Ba(e,n,r),t[e[i]]>t[e[r]]&&Ba(e,i,r),t[e[n]]>t[e[i]]&&Ba(e,n,i);const s=e[i],a=t[s];for(;;){do{i++}while(t[e[i]]<a);do{o--}while(t[e[o]]>a);if(o<i)break;Ba(e,i,o)}e[n+1]=e[o],e[o]=s,r-i+1>=o-n?(Va(e,t,i,r),Va(e,t,n,o-1)):(Va(e,t,n,o-1),Va(e,t,i,r))}}function Ba(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function $a(e){return e[0]}function Ga(e){return e[1]}const qa=1e-6;class Ha{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){const r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>qa||Math.abs(this._y1-i)>qa)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(e,t,n,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class Wa{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class Ja{constructor(e,[t,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(t=+t)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=r,this.xmin=t,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:r}=this;let i,o;const s=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let r,a,l=0,c=0,u=n.length;l<u;l+=3,c+=2){const u=2*n[l],d=2*n[l+1],h=2*n[l+2],p=e[u],f=e[u+1],m=e[d],y=e[d+1],g=e[h],v=e[h+1],b=m-p,w=y-f,_=g-p,S=v-f,x=2*(b*S-w*_);if(Math.abs(x)<1e-9){if(void 0===i){i=o=0;for(const n of t)i+=e[2*n],o+=e[2*n+1];i/=t.length,o/=t.length}const n=1e9*Math.sign((i-p)*S-(o-f)*_);r=(p+g)/2-n*S,a=(f+v)/2+n*_}else{const e=1/x,t=b*b+w*w,n=_*_+S*S;r=p+(S*t-w*n)*e,a=f+(b*n-_*t)*e}s[c]=r,s[c+1]=a}let a,l,c,u=t[t.length-1],d=4*u,h=e[2*u],p=e[2*u+1];r.fill(0);for(let n=0;n<t.length;++n)u=t[n],a=d,l=h,c=p,d=4*u,h=e[2*u],p=e[2*u+1],r[a+2]=r[d]=c-p,r[a+3]=r[d+1]=h-l}render(e){const t=null==e?e=new Ha:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:s}=this;if(i.length<=1)return null;for(let t=0,r=n.length;t<r;++t){const r=n[t];if(r<t)continue;const i=2*Math.floor(t/3),s=2*Math.floor(r/3),a=o[i],l=o[i+1],c=o[s],u=o[s+1];this._renderSegment(a,l,c,u,e)}let a,l=i[i.length-1];for(let t=0;t<i.length;++t){a=l,l=i[t];const n=2*Math.floor(r[l]/3),c=o[n],u=o[n+1],d=4*a,h=this._project(c,u,s[d+2],s[d+3]);h&&this._renderSegment(c,u,h[0],h[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new Ha:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new Ha:void 0,r=this._clip(e);if(null===r||!r.length)return;t.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let e=2;e<i;e+=2)r[e]===r[e-2]&&r[e+1]===r[e-1]||t.lineTo(r[e],r[e+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new Wa;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,r,i){let o;const s=this._regioncode(e,t),a=this._regioncode(n,r);0===s&&0===a?(i.moveTo(e,t),i.lineTo(n,r)):(o=this._clipSegment(e,t,n,r,s,a))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(e,t,n){return(t=+t)==t&&(n=+n)==n&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let r=0,i=t.length;r<i;r+=2)for(let o=0,s=e.length;o<s;o+=2)if(t[r]===e[o]&&t[r+1]===e[o+1]&&t[(r+2)%i]===e[(o+s-2)%s]&&t[(r+3)%i]===e[(o+s-1)%s]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[e];if(-1===o)return null;const s=[];let a=o;do{const n=Math.floor(a/3);if(s.push(t[2*n],t[2*n+1]),a=a%3==2?a-2:a+1,i[a]!==e)break;a=r[a]}while(a!==o&&-1!==a);return s}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,r=4*e;return this._simplify(n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t))}_clipFinite(e,t){const n=t.length;let r,i,o,s,a=null,l=t[n-2],c=t[n-1],u=this._regioncode(l,c),d=0;for(let h=0;h<n;h+=2)if(r=l,i=c,l=t[h],c=t[h+1],o=u,u=this._regioncode(l,c),0===o&&0===u)s=d,d=0,a?a.push(l,c):a=[l,c];else{let t,n,h,p,f;if(0===o){if(null===(t=this._clipSegment(r,i,l,c,o,u)))continue;[n,h,p,f]=t}else{if(null===(t=this._clipSegment(l,c,r,i,u,o)))continue;[p,f,n,h]=t,s=d,d=this._edgecode(n,h),s&&d&&this._edge(e,s,d,a,a.length),a?a.push(n,h):a=[n,h]}s=d,d=this._edgecode(p,f),s&&d&&this._edge(e,s,d,a,a.length),a?a.push(p,f):a=[p,f]}if(a)s=d,d=this._edgecode(a[0],a[1]),s&&d&&this._edge(e,s,d,a,a.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return a}_clipSegment(e,t,n,r,i,o){const s=i<o;for(s&&([e,t,n,r,i,o]=[n,r,e,t,o,i]);;){if(0===i&&0===o)return s?[n,r,e,t]:[e,t,n,r];if(i&o)return null;let a,l,c=i||o;8&c?(a=e+(n-e)*(this.ymax-t)/(r-t),l=this.ymax):4&c?(a=e+(n-e)*(this.ymin-t)/(r-t),l=this.ymin):2&c?(l=t+(r-t)*(this.xmax-e)/(n-e),a=this.xmax):(l=t+(r-t)*(this.xmin-e)/(n-e),a=this.xmin),i?(e=a,t=l,i=this._regioncode(e,t)):(n=a,r=l,o=this._regioncode(n,r))}}_clipInfinite(e,t,n,r,i,o){let s,a=Array.from(t);if((s=this._project(a[0],a[1],n,r))&&a.unshift(s[0],s[1]),(s=this._project(a[a.length-2],a[a.length-1],i,o))&&a.push(s[0],s[1]),a=this._clipFinite(e,a))for(let t,n=0,r=a.length,i=this._edgecode(a[r-2],a[r-1]);n<r;n+=2)t=i,i=this._edgecode(a[n],a[n+1]),t&&i&&(n=this._edge(e,t,i,a,n),r=a.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(e,t,n,r,i){for(;t!==n;){let n,o;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(e,n,o)||(r.splice(i,0,n,o),i+=2)}return i}_project(e,t,n,r){let i,o,s,a=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<a&&(s=this.ymin,o=e+(a=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<a&&(s=this.ymax,o=e+(a=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<a&&(o=this.xmax,s=t+(a=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<a&&(o=this.xmin,s=t+(a=i)*r)}return[o,s]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){const n=(t+2)%e.length,r=(t+4)%e.length;(e[t]===e[n]&&e[n]===e[r]||e[t+1]===e[n+1]&&e[n+1]===e[r+1])&&(e.splice(n,2),t-=2)}e.length||(e=null)}return e}}const Ka=2*Math.PI,Ya=Math.pow;function Xa(e){return e[0]}function Qa(e){return e[1]}function el(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class tl{static from(e,t=Xa,n=Qa,r){return new tl("length"in e?function(e,t,n,r){const i=e.length,o=new Float64Array(2*i);for(let s=0;s<i;++s){const i=e[s];o[2*s]=t.call(r,i,s,e),o[2*s+1]=n.call(r,i,s,e)}return o}(e,t,n,r):Float64Array.from(function*(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}(e,t,n,r)))}constructor(e){this._delaunator=new ja(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let e=0;e<t.length;e+=3){const r=2*t[e],i=2*t[e+1],o=2*t[e+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},((e,t)=>t)).sort(((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]));const e=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let e=0,n=t.length/2;e<n;++e){const n=el(t[2*e],t[2*e+1],i);t[2*e]=n[0],t[2*e+1]=n[1]}this._delaunator=new ja(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let e=0,t=n.length;e<t;++e){const t=i[e%3==2?e-2:e+1];-1!==n[e]&&-1!==o[t]||(o[t]=e)}for(let e=0,t=r.length;e<t;++e)s[r[e]]=e;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new Ja(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:s}=this;if(s){const t=s.indexOf(e);return t>0&&(yield s[t-1]),void(t<s.length-1&&(yield s[t+1]))}const a=t[e];if(-1===a)return;let l=a,c=-1;do{if(yield c=o[l],l=l%3==2?l-2:l+1,o[l]!==e)return;if(l=i[l],-1===l){const t=n[(r[e]+1)%n.length];return void(t!==c&&(yield t))}}while(l!==a)}find(e,t,n=0){if((e=+e)!=e||(t=+t)!=t)return-1;const r=n;let i;for(;(i=this._step(n,e,t))>=0&&i!==n&&i!==r;)n=i;return i}_step(e,t,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:s,triangles:a,points:l}=this;if(-1===r[e]||!l.length)return(e+1)%(l.length>>1);let c=e,u=Ya(t-l[2*e],2)+Ya(n-l[2*e+1],2);const d=r[e];let h=d;do{let r=a[h];const d=Ya(t-l[2*r],2)+Ya(n-l[2*r+1],2);if(d<u&&(u=d,c=r),h=h%3==2?h-2:h+1,a[h]!==e)break;if(h=s[h],-1===h){if(h=i[(o[e]+1)%i.length],h!==r&&Ya(t-l[2*h],2)+Ya(n-l[2*h+1],2)<u)return h;break}}while(h!==d);return c}render(e){const t=null==e?e=new Ha:void 0,{points:n,halfedges:r,triangles:i}=this;for(let t=0,o=r.length;t<o;++t){const o=r[t];if(o<t)continue;const s=2*i[t],a=2*i[o];e.moveTo(n[s],n[s+1]),e.lineTo(n[a],n[a+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){void 0!==t||e&&"function"==typeof e.moveTo||(t=e,e=null),t=null==t?2:+t;const n=null==e?e=new Ha:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];e.moveTo(i+t,o),e.arc(i,o,t,0,Ka)}return n&&n.value()}renderHull(e){const t=null==e?e=new Ha:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;e.moveTo(r[i],r[i+1]);for(let t=1;t<o;++t){const i=2*n[t];e.lineTo(r[i],r[i+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new Wa;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new Ha:void 0,{points:r,triangles:i}=this,o=2*i[e*=3],s=2*i[e+1],a=2*i[e+2];return t.moveTo(r[o],r[o+1]),t.lineTo(r[s],r[s+1]),t.lineTo(r[a],r[a+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new Wa;return this.renderTriangle(e,t),t.value()}}var nl=e=>()=>e;function rl(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function il(e){return!e.ctrlKey&&!e.button}function ol(){return this.parentNode}function sl(e,t){return null==t?{x:e.x,y:e.y}:t}function al(){return navigator.maxTouchPoints||"ontouchstart"in this}function ll(){var e,t,n,r,i=il,o=ol,s=sl,a=al,l={},c=Tt("start","drag","end"),u=0,d=0;function h(e){e.on("mousedown.drag",p).filter(a).on("touchstart.drag",y).on("touchmove.drag",g,Vn).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(s,a){if(!r&&i.call(this,s,a)){var l=b(this,o.call(this,s,a),s,a,"mouse");l&&(zn(s.view).on("mousemove.drag",f,Bn).on("mouseup.drag",m,Bn),qn(s.view),$n(s),n=!1,e=s.clientX,t=s.clientY,l("start",s))}}function f(r){if(Gn(r),!n){var i=r.clientX-e,o=r.clientY-t;n=i*i+o*o>d}l.mouse("drag",r)}function m(e){zn(e.view).on("mousemove.drag mouseup.drag",null),Hn(e.view,n),Gn(e),l.mouse("end",e)}function y(e,t){if(i.call(this,e,t)){var n,r,s=e.changedTouches,a=o.call(this,e,t),l=s.length;for(n=0;n<l;++n)(r=b(this,a,e,t,s[n].identifier,s[n]))&&($n(e),r("start",e,s[n]))}}function g(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=l[r[t].identifier])&&(Gn(e),n("drag",e,r[t]))}function v(e){var t,n,i=e.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<o;++t)(n=l[i[t].identifier])&&($n(e),n("end",e,i[t]))}function b(e,t,n,r,i,o){var a,d,p,f=c.copy(),m=ei(o||n,t);if(null!=(p=s.call(e,new rl("beforestart",{sourceEvent:n,target:h,identifier:i,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:f}),r)))return a=p.x-m[0]||0,d=p.y-m[1]||0,function n(o,s,c){var y,g=m;switch(o){case"start":l[i]=n,y=u++;break;case"end":delete l[i],--u;case"drag":m=ei(c||s,t),y=u}f.call(o,e,new rl(o,{sourceEvent:s,subject:p,target:h,identifier:i,active:y,x:m[0]+a,y:m[1]+d,dx:m[0]-g[0],dy:m[1]-g[1],dispatch:f}),r)}}return h.filter=function(e){return arguments.length?(i="function"==typeof e?e:nl(!!e),h):i},h.container=function(e){return arguments.length?(o="function"==typeof e?e:nl(e),h):o},h.subject=function(e){return arguments.length?(s="function"==typeof e?e:nl(e),h):s},h.touchable=function(e){return arguments.length?(a="function"==typeof e?e:nl(!!e),h):a},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h}rl.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var cl={},ul={},dl=34,hl=10,pl=13;function fl(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function ml(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function yl(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function gl(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+yl(-t,6):t>9999?"+"+yl(t,6):yl(t,4))+"-"+yl(e.getUTCMonth()+1,2)+"-"+yl(e.getUTCDate(),2)+(o?"T"+yl(n,2)+":"+yl(r,2)+":"+yl(i,2)+"."+yl(o,3)+"Z":i?"T"+yl(n,2)+":"+yl(r,2)+":"+yl(i,2)+"Z":r||n?"T"+yl(n,2)+":"+yl(r,2)+"Z":"")}function vl(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,s=0,a=0,l=o<=0,c=!1;function u(){if(l)return ul;if(c)return c=!1,cl;var t,r,i=s;if(e.charCodeAt(i)===dl){for(;s++<o&&e.charCodeAt(s)!==dl||e.charCodeAt(++s)===dl;);return(t=s)>=o?l=!0:(r=e.charCodeAt(s++))===hl?c=!0:r===pl&&(c=!0,e.charCodeAt(s)===hl&&++s),e.slice(i+1,t-1).replace(/""/g,'"')}for(;s<o;){if((r=e.charCodeAt(t=s++))===hl)c=!0;else if(r===pl)c=!0,e.charCodeAt(s)===hl&&++s;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(e.charCodeAt(o-1)===hl&&--o,e.charCodeAt(o-1)===pl&&--o;(r=u())!==ul;){for(var d=[];r!==cl&&r!==ul;)d.push(r),r=u();t&&null==(d=t(d,a++))||i.push(d)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return s(t[e])})).join(e)}))}function o(t){return t.map(s).join(e)}function s(e){return null==e?"":e instanceof Date?gl(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=fl(e);return function(r,i){return t(n(r),i,e)}}(e,t):fl(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=ml(t)),[n.map(s).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=ml(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:s}}var bl=vl(","),wl=bl.parse,_l=bl.parseRows,Sl=bl.format,xl=bl.formatBody,Ml=bl.formatRows,Al=bl.formatRow,Tl=bl.formatValue,Il=vl("\t"),Cl=Il.parse,El=Il.parseRows,kl=Il.format,Pl=Il.formatBody,Rl=Il.formatRows,Ol=Il.formatRow,Nl=Il.formatValue;function Ll(e){for(var t in e){var n,r,i=e[t].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Dl&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;e[t]=i}return e}const Dl=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),Fl=e=>+e;function jl(e){return e*e}function Zl(e){return e*(2-e)}function Ul(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}var zl=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),Vl=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),Bl=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),$l=Math.PI,Gl=$l/2;function ql(e){return 1==+e?1:1-Math.cos(e*Gl)}function Hl(e){return Math.sin(e*Gl)}function Wl(e){return(1-Math.cos($l*e))/2}function Jl(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function Kl(e){return Jl(1-+e)}function Yl(e){return 1-Jl(e)}function Xl(e){return((e*=2)<=1?Jl(1-e):2-Jl(e-1))/2}function Ql(e){return 1-Math.sqrt(1-e*e)}function ec(e){return Math.sqrt(1- --e*e)}function tc(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var nc=4/11,rc=6/11,ic=8/11,oc=3/4,sc=9/11,ac=10/11,lc=15/16,cc=21/22,uc=63/64,dc=1/nc/nc;function hc(e){return 1-pc(1-e)}function pc(e){return(e=+e)<nc?dc*e*e:e<ic?dc*(e-=rc)*e+oc:e<ac?dc*(e-=sc)*e+lc:dc*(e-=cc)*e+uc}function fc(e){return((e*=2)<=1?1-pc(1-e):pc(e-1)+1)/2}var mc=1.70158,yc=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(mc),gc=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(mc),vc=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(mc),bc=2*Math.PI,wc=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=bc);function i(e){return t*Jl(- --e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*bc)},i.period=function(n){return e(t,n)},i}(1,.3),_c=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=bc);function i(e){return 1-t*Jl(e=+e)*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*bc)},i.period=function(n){return e(t,n)},i}(1,.3),Sc=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=bc);function i(e){return((e=2*e-1)<0?t*Jl(-e)*Math.sin((r-e)/n):2-t*Jl(e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*bc)},i.period=function(n){return e(t,n)},i}(1,.3);function xc(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function Mc(e,t){return fetch(e,t).then(xc)}function Ac(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function Tc(e,t){return fetch(e,t).then(Ac)}function Ic(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Cc(e,t){return fetch(e,t).then(Ic)}function Ec(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Cc(t,n).then((function(t){return e(t,r)}))}}function kc(e,t,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=vl(e);return Cc(t,n).then((function(e){return i.parse(e,r)}))}var Pc=Ec(wl),Rc=Ec(Cl);function Oc(e,t){return new Promise((function(n,r){var i=new Image;for(var o in t)i[o]=t[o];i.onerror=r,i.onload=function(){n(i)},i.src=e}))}function Nc(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function Lc(e,t){return fetch(e,t).then(Nc)}function Dc(e){return(t,n)=>Cc(t,n).then((t=>(new DOMParser).parseFromString(t,e)))}var Fc=Dc("application/xml"),jc=Dc("text/html"),Zc=Dc("image/svg+xml");function Uc(e,t){var n,r=1;function i(){var i,o,s=n.length,a=0,l=0;for(i=0;i<s;++i)a+=(o=n[i]).x,l+=o.y;for(a=(a/s-e)*r,l=(l/s-t)*r,i=0;i<s;++i)(o=n[i]).x-=a,o.y-=l}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i}function zc(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,s,a,l,c,u,d,h,p=e._root,f={data:r},m=e._x0,y=e._y0,g=e._x1,v=e._y1;if(!p)return e._root=f,e;for(;p.length;)if((c=t>=(o=(m+g)/2))?m=o:g=o,(u=n>=(s=(y+v)/2))?y=s:v=s,i=p,!(p=p[d=u<<1|c]))return i[d]=f,e;if(a=+e._x.call(null,p.data),l=+e._y.call(null,p.data),t===a&&n===l)return f.next=p,i?i[d]=f:e._root=f,e;do{i=i?i[d]=new Array(4):e._root=new Array(4),(c=t>=(o=(m+g)/2))?m=o:g=o,(u=n>=(s=(y+v)/2))?y=s:v=s}while((d=u<<1|c)==(h=(l>=s)<<1|a>=o));return i[h]=p,i[d]=f,e}function Vc(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Bc(e){return e[0]}function $c(e){return e[1]}function Gc(e,t,n){var r=new qc(null==t?Bc:t,null==n?$c:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function qc(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Hc(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Wc=Gc.prototype=qc.prototype;function Jc(e){return function(){return e}}function Kc(e){return 1e-6*(e()-.5)}function Yc(e){return e.x+e.vx}function Xc(e){return e.y+e.vy}function Qc(e){var t,n,r,i=1,o=1;function s(){for(var e,s,l,c,u,d,h,p=t.length,f=0;f<o;++f)for(s=Gc(t,Yc,Xc).visitAfter(a),e=0;e<p;++e)l=t[e],d=n[l.index],h=d*d,c=l.x+l.vx,u=l.y+l.vy,s.visit(m);function m(e,t,n,o,s){var a=e.data,p=e.r,f=d+p;if(!a)return t>c+f||o<c-f||n>u+f||s<u-f;if(a.index>l.index){var m=c-a.x-a.vx,y=u-a.y-a.vy,g=m*m+y*y;g<f*f&&(0===m&&(g+=(m=Kc(r))*m),0===y&&(g+=(y=Kc(r))*y),g=(f-(g=Math.sqrt(g)))/g*i,l.vx+=(m*=g)*(f=(p*=p)/(h+p)),l.vy+=(y*=g)*f,a.vx-=m*(f=1-f),a.vy-=y*f)}}}function a(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!=typeof e&&(e=Jc(null==e?1:+e)),s.initialize=function(e,n){t=e,r=n,l()},s.iterations=function(e){return arguments.length?(o=+e,s):o},s.strength=function(e){return arguments.length?(i=+e,s):i},s.radius=function(t){return arguments.length?(e="function"==typeof t?t:Jc(+t),l(),s):e},s}function eu(e){return e.index}function tu(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function nu(e){var t,n,r,i,o,s,a=eu,l=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=Jc(30),u=1;function d(r){for(var i=0,a=e.length;i<u;++i)for(var l,c,d,h,p,f,m,y=0;y<a;++y)c=(l=e[y]).source,h=(d=l.target).x+d.vx-c.x-c.vx||Kc(s),p=d.y+d.vy-c.y-c.vy||Kc(s),h*=f=((f=Math.sqrt(h*h+p*p))-n[y])/f*r*t[y],p*=f,d.vx-=h*(m=o[y]),d.vy-=p*m,c.vx+=h*(m=1-m),c.vy+=p*m}function h(){if(r){var s,l,c=r.length,u=e.length,d=new Map(r.map(((e,t)=>[a(e,t,r),e])));for(s=0,i=new Array(c);s<u;++s)(l=e[s]).index=s,"object"!=typeof l.source&&(l.source=tu(d,l.source)),"object"!=typeof l.target&&(l.target=tu(d,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(s=0,o=new Array(u);s<u;++s)l=e[s],o[s]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);t=new Array(u),p(),n=new Array(u),f()}}function p(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+l(e[n],n,e)}function f(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){r=e,s=t,h()},d.links=function(t){return arguments.length?(e=t,h(),d):e},d.id=function(e){return arguments.length?(a=e,d):a},d.iterations=function(e){return arguments.length?(u=+e,d):u},d.strength=function(e){return arguments.length?(l="function"==typeof e?e:Jc(+e),p(),d):l},d.distance=function(e){return arguments.length?(c="function"==typeof e?e:Jc(+e),f(),d):c},d}Wc.copy=function(){var e,t,n=new qc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Hc(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=Hc(t));return n},Wc.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return zc(this.cover(t,n),t,n,e)},Wc.addAll=function(e){var t,n,r,i,o=e.length,s=new Array(o),a=new Array(o),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(s[n]=r,a[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>d&&(d=i));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<o;++n)zc(this,s[n],a[n],e[n]);return this},Wc.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s,a,l=i-n||1,c=this._root;n>e||e>=i||r>t||t>=o;)switch(a=(t<r)<<1|e<n,(s=new Array(4))[a]=c,c=s,l*=2,a){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Wc.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},Wc.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Wc.find=function(e,t,n){var r,i,o,s,a,l,c,u=this._x0,d=this._y0,h=this._x1,p=this._y1,f=[],m=this._root;for(m&&f.push(new Vc(m,u,d,h,p)),null==n?n=1/0:(u=e-n,d=t-n,h=e+n,p=t+n,n*=n);l=f.pop();)if(!(!(m=l.node)||(i=l.x0)>h||(o=l.y0)>p||(s=l.x1)<u||(a=l.y1)<d))if(m.length){var y=(i+s)/2,g=(o+a)/2;f.push(new Vc(m[3],y,g,s,a),new Vc(m[2],i,g,y,a),new Vc(m[1],y,o,s,g),new Vc(m[0],i,o,y,g)),(c=(t>=g)<<1|e>=y)&&(l=f[f.length-1],f[f.length-1]=f[f.length-1-c],f[f.length-1-c]=l)}else{var v=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),w=v*v+b*b;if(w<n){var _=Math.sqrt(n=w);u=e-_,d=t-_,h=e+_,p=t+_,r=m.data}}return r},Wc.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,n,r,i,o,s,a,l,c,u,d,h,p=this._root,f=this._x0,m=this._y0,y=this._x1,g=this._y1;if(!p)return this;if(p.length)for(;;){if((c=o>=(a=(f+y)/2))?f=a:y=a,(u=s>=(l=(m+g)/2))?m=l:g=l,t=p,!(p=p[d=u<<1|c]))return this;if(!p.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,h=d)}for(;p.data!==e;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):t?(i?t[d]=i:delete t[d],(p=t[0]||t[1]||t[2]||t[3])&&p===(t[3]||t[2]||t[1]||t[0])&&!p.length&&(n?n[h]=p:this._root=p),this):(this._root=i,this)},Wc.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Wc.root=function(){return this._root},Wc.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},Wc.visit=function(e){var t,n,r,i,o,s,a=[],l=this._root;for(l&&a.push(new Vc(l,this._x0,this._y0,this._x1,this._y1));t=a.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,o=t.x1,s=t.y1)&&l.length){var c=(r+o)/2,u=(i+s)/2;(n=l[3])&&a.push(new Vc(n,c,u,o,s)),(n=l[2])&&a.push(new Vc(n,r,u,c,s)),(n=l[1])&&a.push(new Vc(n,c,i,o,u)),(n=l[0])&&a.push(new Vc(n,r,i,c,u))}return this},Wc.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new Vc(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,s=t.x0,a=t.y0,l=t.x1,c=t.y1,u=(s+l)/2,d=(a+c)/2;(o=i[0])&&n.push(new Vc(o,s,a,u,d)),(o=i[1])&&n.push(new Vc(o,u,a,l,d)),(o=i[2])&&n.push(new Vc(o,s,d,u,c)),(o=i[3])&&n.push(new Vc(o,u,d,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Wc.x=function(e){return arguments.length?(this._x=e,this):this._x},Wc.y=function(e){return arguments.length?(this._y=e,this):this._y};const ru=1664525,iu=1013904223,ou=4294967296;function su(e){return e.x}function au(e){return e.y}var lu=10,cu=Math.PI*(3-Math.sqrt(5));function uu(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=mi(d),c=Tt("tick","end"),u=function(){let e=1;return()=>(e=(ru*e+iu)%ou)/ou}();function d(){h(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function h(r){var l,c,u=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(o-n)*i,a.forEach((function(e){e(n)})),l=0;l<u;++l)null==(c=e[l]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return t}function p(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=lu*Math.sqrt(.5+n),o=n*cu;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function f(t){return t.initialize&&t.initialize(e,u),t}return null==e&&(e=[]),p(),t={tick:h,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,p(),a.forEach(f),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(s=1-e,t):1-s},randomSource:function(e){return arguments.length?(u=e,a.forEach(f),t):u},force:function(e,n){return arguments.length>1?(null==n?a.delete(e):a.set(e,f(n)),t):a.get(e)},find:function(t,n,r){var i,o,s,a,l,c=0,u=e.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(s=(i=t-(a=e[c]).x)*i+(o=n-a.y)*o)<r&&(l=a,r=s);return l},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}function du(){var e,t,n,r,i,o=Jc(-30),s=1,a=1/0,l=.81;function c(n){var i,o=e.length,s=Gc(e,su,au).visitAfter(d);for(r=n,i=0;i<o;++i)t=e[i],s.visit(h)}function u(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+o(n,t,e)}}function d(e){var t,n,r,o,s,a=0,l=0;if(e.length){for(r=o=s=0;s<4;++s)(t=e[s])&&(n=Math.abs(t.value))&&(a+=t.value,l+=n,r+=n*t.x,o+=n*t.y);e.x=r/l,e.y=o/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{a+=i[t.data.index]}while(t=t.next)}e.value=a}function h(e,o,c,u){if(!e.value)return!0;var d=e.x-t.x,h=e.y-t.y,p=u-o,f=d*d+h*h;if(p*p/l<f)return f<a&&(0===d&&(f+=(d=Kc(n))*d),0===h&&(f+=(h=Kc(n))*h),f<s&&(f=Math.sqrt(s*f)),t.vx+=d*e.value*r/f,t.vy+=h*e.value*r/f),!0;if(!(e.length||f>=a)){(e.data!==t||e.next)&&(0===d&&(f+=(d=Kc(n))*d),0===h&&(f+=(h=Kc(n))*h),f<s&&(f=Math.sqrt(s*f)));do{e.data!==t&&(p=i[e.data.index]*r/f,t.vx+=d*p,t.vy+=h*p)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,u()},c.strength=function(e){return arguments.length?(o="function"==typeof e?e:Jc(+e),u(),c):o},c.distanceMin=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.distanceMax=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.theta=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c}function hu(e,t,n){var r,i,o,s=Jc(.1);function a(e){for(var s=0,a=r.length;s<a;++s){var l=r[s],c=l.x-t||1e-6,u=l.y-n||1e-6,d=Math.sqrt(c*c+u*u),h=(o[s]-d)*i[s]*e/d;l.vx+=c*h,l.vy+=u*h}}function l(){if(r){var t,n=r.length;for(i=new Array(n),o=new Array(n),t=0;t<n;++t)o[t]=+e(r[t],t,r),i[t]=isNaN(o[t])?0:+s(r[t],t,r)}}return"function"!=typeof e&&(e=Jc(+e)),null==t&&(t=0),null==n&&(n=0),a.initialize=function(e){r=e,l()},a.strength=function(e){return arguments.length?(s="function"==typeof e?e:Jc(+e),l(),a):s},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:Jc(+t),l(),a):e},a.x=function(e){return arguments.length?(t=+e,a):t},a.y=function(e){return arguments.length?(n=+e,a):n},a}function pu(e){var t,n,r,i=Jc(.1);function o(e){for(var i,o=0,s=t.length;o<s;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function s(){if(t){var o,s=t.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=Jc(null==e?0:+e)),o.initialize=function(e){t=e,s()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:Jc(+e),s(),o):i},o.x=function(t){return arguments.length?(e="function"==typeof t?t:Jc(+t),s(),o):e},o}function fu(e){var t,n,r,i=Jc(.1);function o(e){for(var i,o=0,s=t.length;o<s;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function s(){if(t){var o,s=t.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=Jc(null==e?0:+e)),o.initialize=function(e){t=e,s()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:Jc(+e),s(),o):i},o.y=function(t){return arguments.length?(e="function"==typeof t?t:Jc(+t),s(),o):e},o}function mu(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function yu(e){return(e=mu(Math.abs(e)))?e[1]:NaN}var gu,vu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bu(e){if(!(t=vu.exec(e)))throw new Error("invalid format: "+e);var t;return new wu({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function wu(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function _u(e,t){var n=mu(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}bu.prototype=wu.prototype,wu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Su={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_u(100*e,t),r:_u,s:function(e,t){var n=mu(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(gu=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+mu(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xu(e){return e}var Mu,Au,Tu,Iu=Array.prototype.map,Cu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Eu(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?xu:(t=Iu.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(e.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?xu:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Iu.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=bu(e)).fill,n=e.align,d=e.sign,h=e.symbol,p=e.zero,f=e.width,m=e.comma,y=e.precision,g=e.trim,v=e.type;"n"===v?(m=!0,v="g"):Su[v]||(void 0===y&&(y=12),g=!0,v="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?o:/[%p]/.test(v)?l:"",_=Su[v],S=/[defgprs%]/.test(v);function x(e){var i,o,l,h=b,x=w;if("c"===v)x=_(e)+x,e="";else{var M=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:_(Math.abs(e),y),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),M&&0==+e&&"+"!==d&&(M=!1),h=(M?"("===d?d:c:"-"===d||"("===d?"":d)+h,x=("s"===v?Cu[8+gu/3]:"")+x+(M&&"("===d?")":""),S)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){x=(46===l?s+e.slice(i+1):e.slice(i))+x,e=e.slice(0,i);break}}m&&!p&&(e=r(e,1/0));var A=h.length+e.length+x.length,T=A<f?new Array(f-A+1).join(t):"";switch(m&&p&&(e=r(T+e,T.length?f-x.length:1/0),T=""),n){case"<":e=h+e+x+T;break;case"=":e=h+T+e+x;break;case"^":e=T.slice(0,A=T.length>>1)+h+e+x+T.slice(A);break;default:e=T+h+e+x}return a(e)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),x.toString=function(){return e+""},x}return{format:d,formatPrefix:function(e,t){var n=d(((e=bu(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(yu(t)/3))),i=Math.pow(10,-r),o=Cu[8+r/3];return function(e){return n(i*e)+o}}}}function ku(e){return Mu=Eu(e),Au=Mu.format,Tu=Mu.formatPrefix,Mu}function Pu(e){return Math.max(0,-yu(Math.abs(e)))}function Ru(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(yu(t)/3)))-yu(Math.abs(e)))}function Ou(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yu(t)-yu(e))+1}ku({thousands:",",grouping:[3],currency:["$",""]});var Nu=1e-6,Lu=1e-12,Du=Math.PI,Fu=Du/2,ju=Du/4,Zu=2*Du,Uu=180/Du,zu=Du/180,Vu=Math.abs,Bu=Math.atan,$u=Math.atan2,Gu=Math.cos,qu=Math.ceil,Hu=Math.exp,Wu=(Math.floor,Math.hypot),Ju=Math.log,Ku=Math.pow,Yu=Math.sin,Xu=Math.sign||function(e){return e>0?1:e<0?-1:0},Qu=Math.sqrt,ed=Math.tan;function td(e){return e>1?0:e<-1?Du:Math.acos(e)}function nd(e){return e>1?Fu:e<-1?-Fu:Math.asin(e)}function rd(e){return(e=Yu(e/2))*e}function id(){}function od(e,t){e&&ad.hasOwnProperty(e.type)&&ad[e.type](e,t)}var sd={Feature:function(e,t){od(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)od(n[r].geometry,t)}},ad={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){ld(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ld(n[r],t,0)},Polygon:function(e,t){cd(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)cd(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)od(n[r],t)}};function ld(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function cd(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)ld(e[n],t,1);t.polygonEnd()}function ud(e,t){e&&sd.hasOwnProperty(e.type)?sd[e.type](e,t):od(e,t)}var dd,hd,pd,fd,md,yd,gd,vd,bd,wd,_d,Sd,xd,Md,Ad,Td,Id=new E,Cd=new E,Ed={point:id,lineStart:id,lineEnd:id,polygonStart:function(){Id=new E,Ed.lineStart=kd,Ed.lineEnd=Pd},polygonEnd:function(){var e=+Id;Cd.add(e<0?Zu+e:e),this.lineStart=this.lineEnd=this.point=id},sphere:function(){Cd.add(Zu)}};function kd(){Ed.point=Rd}function Pd(){Od(dd,hd)}function Rd(e,t){Ed.point=Od,dd=e,hd=t,pd=e*=zu,fd=Gu(t=(t*=zu)/2+ju),md=Yu(t)}function Od(e,t){var n=(e*=zu)-pd,r=n>=0?1:-1,i=r*n,o=Gu(t=(t*=zu)/2+ju),s=Yu(t),a=md*s,l=fd*o+a*Gu(i),c=a*r*Yu(i);Id.add($u(c,l)),pd=e,fd=o,md=s}function Nd(e){return Cd=new E,ud(e,Ed),2*Cd}function Ld(e){return[$u(e[1],e[0]),nd(e[2])]}function Dd(e){var t=e[0],n=e[1],r=Gu(n);return[r*Gu(t),r*Yu(t),Yu(n)]}function Fd(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function jd(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Zd(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ud(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function zd(e){var t=Qu(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Vd,Bd,$d,Gd,qd,Hd,Wd,Jd,Kd,Yd,Xd,Qd,eh,th,nh,rh,ih={point:oh,lineStart:ah,lineEnd:lh,polygonStart:function(){ih.point=ch,ih.lineStart=uh,ih.lineEnd=dh,Md=new E,Ed.polygonStart()},polygonEnd:function(){Ed.polygonEnd(),ih.point=oh,ih.lineStart=ah,ih.lineEnd=lh,Id<0?(yd=-(vd=180),gd=-(bd=90)):Md>Nu?bd=90:Md<-Nu&&(gd=-90),Td[0]=yd,Td[1]=vd},sphere:function(){yd=-(vd=180),gd=-(bd=90)}};function oh(e,t){Ad.push(Td=[yd=e,vd=e]),t<gd&&(gd=t),t>bd&&(bd=t)}function sh(e,t){var n=Dd([e*zu,t*zu]);if(xd){var r=jd(xd,n),i=jd([r[1],-r[0],0],r);zd(i),i=Ld(i);var o,s=e-wd,a=s>0?1:-1,l=i[0]*Uu*a,c=Vu(s)>180;c^(a*wd<l&&l<a*e)?(o=i[1]*Uu)>bd&&(bd=o):c^(a*wd<(l=(l+360)%360-180)&&l<a*e)?(o=-i[1]*Uu)<gd&&(gd=o):(t<gd&&(gd=t),t>bd&&(bd=t)),c?e<wd?hh(yd,e)>hh(yd,vd)&&(vd=e):hh(e,vd)>hh(yd,vd)&&(yd=e):vd>=yd?(e<yd&&(yd=e),e>vd&&(vd=e)):e>wd?hh(yd,e)>hh(yd,vd)&&(vd=e):hh(e,vd)>hh(yd,vd)&&(yd=e)}else Ad.push(Td=[yd=e,vd=e]);t<gd&&(gd=t),t>bd&&(bd=t),xd=n,wd=e}function ah(){ih.point=sh}function lh(){Td[0]=yd,Td[1]=vd,ih.point=oh,xd=null}function ch(e,t){if(xd){var n=e-wd;Md.add(Vu(n)>180?n+(n>0?360:-360):n)}else _d=e,Sd=t;Ed.point(e,t),sh(e,t)}function uh(){Ed.lineStart()}function dh(){ch(_d,Sd),Ed.lineEnd(),Vu(Md)>Nu&&(yd=-(vd=180)),Td[0]=yd,Td[1]=vd,xd=null}function hh(e,t){return(t-=e)<0?t+360:t}function ph(e,t){return e[0]-t[0]}function fh(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function mh(e){var t,n,r,i,o,s,a;if(bd=vd=-(yd=gd=1/0),Ad=[],ud(e,ih),n=Ad.length){for(Ad.sort(ph),t=1,o=[r=Ad[0]];t<n;++t)fh(r,(i=Ad[t])[0])||fh(r,i[1])?(hh(r[0],i[1])>hh(r[0],r[1])&&(r[1]=i[1]),hh(i[0],r[1])>hh(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(a=hh(r[1],i[0]))>s&&(s=a,yd=i[0],vd=r[1])}return Ad=Td=null,yd===1/0||gd===1/0?[[NaN,NaN],[NaN,NaN]]:[[yd,gd],[vd,bd]]}var yh={sphere:id,point:gh,lineStart:bh,lineEnd:Sh,polygonStart:function(){yh.lineStart=xh,yh.lineEnd=Mh},polygonEnd:function(){yh.lineStart=bh,yh.lineEnd=Sh}};function gh(e,t){e*=zu;var n=Gu(t*=zu);vh(n*Gu(e),n*Yu(e),Yu(t))}function vh(e,t,n){++Vd,$d+=(e-$d)/Vd,Gd+=(t-Gd)/Vd,qd+=(n-qd)/Vd}function bh(){yh.point=wh}function wh(e,t){e*=zu;var n=Gu(t*=zu);th=n*Gu(e),nh=n*Yu(e),rh=Yu(t),yh.point=_h,vh(th,nh,rh)}function _h(e,t){e*=zu;var n=Gu(t*=zu),r=n*Gu(e),i=n*Yu(e),o=Yu(t),s=$u(Qu((s=nh*o-rh*i)*s+(s=rh*r-th*o)*s+(s=th*i-nh*r)*s),th*r+nh*i+rh*o);Bd+=s,Hd+=s*(th+(th=r)),Wd+=s*(nh+(nh=i)),Jd+=s*(rh+(rh=o)),vh(th,nh,rh)}function Sh(){yh.point=gh}function xh(){yh.point=Ah}function Mh(){Th(Qd,eh),yh.point=gh}function Ah(e,t){Qd=e,eh=t,e*=zu,t*=zu,yh.point=Th;var n=Gu(t);th=n*Gu(e),nh=n*Yu(e),rh=Yu(t),vh(th,nh,rh)}function Th(e,t){e*=zu;var n=Gu(t*=zu),r=n*Gu(e),i=n*Yu(e),o=Yu(t),s=nh*o-rh*i,a=rh*r-th*o,l=th*i-nh*r,c=Wu(s,a,l),u=nd(c),d=c&&-u/c;Kd.add(d*s),Yd.add(d*a),Xd.add(d*l),Bd+=u,Hd+=u*(th+(th=r)),Wd+=u*(nh+(nh=i)),Jd+=u*(rh+(rh=o)),vh(th,nh,rh)}function Ih(e){Vd=Bd=$d=Gd=qd=Hd=Wd=Jd=0,Kd=new E,Yd=new E,Xd=new E,ud(e,yh);var t=+Kd,n=+Yd,r=+Xd,i=Wu(t,n,r);return i<Lu&&(t=Hd,n=Wd,r=Jd,Bd<Nu&&(t=$d,n=Gd,r=qd),(i=Wu(t,n,r))<Lu)?[NaN,NaN]:[$u(n,t)*Uu,nd(r/i)*Uu]}function Ch(e){return function(){return e}}function Eh(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function kh(e,t){return Vu(e)>Du&&(e-=Math.round(e/Zu)*Zu),[e,t]}function Ph(e,t,n){return(e%=Zu)?t||n?Eh(Oh(e),Nh(t,n)):Oh(e):t||n?Nh(t,n):kh}function Rh(e){return function(t,n){return Vu(t+=e)>Du&&(t-=Math.round(t/Zu)*Zu),[t,n]}}function Oh(e){var t=Rh(e);return t.invert=Rh(-e),t}function Nh(e,t){var n=Gu(e),r=Yu(e),i=Gu(t),o=Yu(t);function s(e,t){var s=Gu(t),a=Gu(e)*s,l=Yu(e)*s,c=Yu(t),u=c*n+a*r;return[$u(l*i-u*o,a*n-c*r),nd(u*i+l*o)]}return s.invert=function(e,t){var s=Gu(t),a=Gu(e)*s,l=Yu(e)*s,c=Yu(t),u=c*i-l*o;return[$u(l*i+c*o,a*n+u*r),nd(u*n-a*r)]},s}function Lh(e){function t(t){return(t=e(t[0]*zu,t[1]*zu))[0]*=Uu,t[1]*=Uu,t}return e=Ph(e[0]*zu,e[1]*zu,e.length>2?e[2]*zu:0),t.invert=function(t){return(t=e.invert(t[0]*zu,t[1]*zu))[0]*=Uu,t[1]*=Uu,t},t}function Dh(e,t,n,r,i,o){if(n){var s=Gu(t),a=Yu(t),l=r*n;null==i?(i=t+r*Zu,o=t-l/2):(i=Fh(s,i),o=Fh(s,o),(r>0?i<o:i>o)&&(i+=r*Zu));for(var c,u=i;r>0?u>o:u<o;u-=l)c=Ld([s,-a*Gu(u),-a*Yu(u)]),e.point(c[0],c[1])}}function Fh(e,t){(t=Dd(t))[0]-=e,zd(t);var n=td(-t[1]);return((-t[2]<0?-n:n)+Zu-Nu)%Zu}function jh(){var e,t,n=Ch([0,0]),r=Ch(90),i=Ch(2),o={point:function(n,r){e.push(n=t(n,r)),n[0]*=Uu,n[1]*=Uu}};function s(){var s=n.apply(this,arguments),a=r.apply(this,arguments)*zu,l=i.apply(this,arguments)*zu;return e=[],t=Ph(-s[0]*zu,-s[1]*zu,0).invert,Dh(o,a,l,1),s={type:"Polygon",coordinates:[e]},e=t=null,s}return s.center=function(e){return arguments.length?(n="function"==typeof e?e:Ch([+e[0],+e[1]]),s):n},s.radius=function(e){return arguments.length?(r="function"==typeof e?e:Ch(+e),s):r},s.precision=function(e){return arguments.length?(i="function"==typeof e?e:Ch(+e),s):i},s}function Zh(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:id,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Uh(e,t){return Vu(e[0]-t[0])<Nu&&Vu(e[1]-t[1])<Nu}function zh(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Vh(e,t,n,r,i){var o,s,a=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],s=e[t];if(Uh(r,s)){if(!r[2]&&!s[2]){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);return void i.lineEnd()}s[0]+=2*Nu}a.push(n=new zh(r,e,null,!0)),l.push(n.o=new zh(r,null,n,!1)),a.push(n=new zh(s,e,null,!1)),l.push(n.o=new zh(s,null,n,!0))}})),a.length){for(l.sort(t),Bh(a),Bh(l),o=0,s=l.length;o<s;++o)l[o].e=n=!n;for(var c,u,d=a[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,s=c.length;o<s;++o)i.point((u=c[o])[0],u[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((u=c[o])[0],u[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Bh(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function $h(e){return Vu(e[0])<=Du?e[0]:Xu(e[0])*((Vu(e[0])+Du)%Zu-Du)}function Gh(e,t){var n=$h(t),r=t[1],i=Yu(r),o=[Yu(n),-Gu(n),0],s=0,a=0,l=new E;1===i?r=Fu+Nu:-1===i&&(r=-Fu-Nu);for(var c=0,u=e.length;c<u;++c)if(h=(d=e[c]).length)for(var d,h,p=d[h-1],f=$h(p),m=p[1]/2+ju,y=Yu(m),g=Gu(m),v=0;v<h;++v,f=w,y=S,g=x,p=b){var b=d[v],w=$h(b),_=b[1]/2+ju,S=Yu(_),x=Gu(_),M=w-f,A=M>=0?1:-1,T=A*M,I=T>Du,C=y*S;if(l.add($u(C*A*Yu(T),g*x+C*Gu(T))),s+=I?M+A*Zu:M,I^f>=n^w>=n){var k=jd(Dd(p),Dd(b));zd(k);var P=jd(o,k);zd(P);var R=(I^M>=0?-1:1)*nd(P[2]);(r>R||r===R&&(k[0]||k[1]))&&(a+=I^M>=0?1:-1)}}return(s<-Nu||s<Nu&&l<-Lu)^1&a}function qh(e,t,n,r){return function(i){var o,s,a,l=t(i),c=Zh(),u=t(c),d=!1,h={point:p,lineStart:m,lineEnd:y,polygonStart:function(){h.point=g,h.lineStart=v,h.lineEnd=b,s=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=m,h.lineEnd=y,s=Ee(s);var e=Gh(o,r);s.length?(d||(i.polygonStart(),d=!0),Vh(s,Wh,e,n,i)):e&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),s=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(t,n){e(t,n)&&i.point(t,n)}function f(e,t){l.point(e,t)}function m(){h.point=f,l.lineStart()}function y(){h.point=p,l.lineEnd()}function g(e,t){a.push([e,t]),u.point(e,t)}function v(){u.lineStart(),a=[]}function b(){g(a[0][0],a[0][1]),u.lineEnd();var e,t,n,r,l=u.clean(),h=c.result(),p=h.length;if(a.pop(),o.push(a),a=null,p)if(1&l){if((t=(n=h[0]).length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else p>1&&2&l&&h.push(h.pop().concat(h.shift())),s.push(h.filter(Hh))}return h}}function Hh(e){return e.length>1}function Wh(e,t){return((e=e.x)[0]<0?e[1]-Fu-Nu:Fu-e[1])-((t=t.x)[0]<0?t[1]-Fu-Nu:Fu-t[1])}kh.invert=kh;var Jh=qh((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,s){var a=o>0?Du:-Du,l=Vu(o-n);Vu(l-Du)<Nu?(e.point(n,r=(r+s)/2>0?Fu:-Fu),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(a,r),e.point(o,r),t=0):i!==a&&l>=Du&&(Vu(n-i)<Nu&&(n-=i*Nu),Vu(o-a)<Nu&&(o-=a*Nu),r=function(e,t,n,r){var i,o,s=Yu(e-n);return Vu(s)>Nu?Bu((Yu(t)*(o=Gu(r))*Yu(n)-Yu(r)*(i=Gu(t))*Yu(e))/(i*o*s)):(t+r)/2}(n,r,o,s),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(a,r),t=0),e.point(n=o,r=s),i=a},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*Fu,r.point(-Du,i),r.point(0,i),r.point(Du,i),r.point(Du,0),r.point(Du,-i),r.point(0,-i),r.point(-Du,-i),r.point(-Du,0),r.point(-Du,i);else if(Vu(e[0]-t[0])>Nu){var o=e[0]<t[0]?Du:-Du;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-Du,-Fu]);function Kh(e){var t=Gu(e),n=2*zu,r=t>0,i=Vu(t)>Nu;function o(e,n){return Gu(e)*Gu(n)>t}function s(e,n,r){var i=[1,0,0],o=jd(Dd(e),Dd(n)),s=Fd(o,o),a=o[0],l=s-a*a;if(!l)return!r&&e;var c=t*s/l,u=-t*a/l,d=jd(i,o),h=Ud(i,c);Zd(h,Ud(o,u));var p=d,f=Fd(h,p),m=Fd(p,p),y=f*f-m*(Fd(h,h)-1);if(!(y<0)){var g=Qu(y),v=Ud(p,(-f-g)/m);if(Zd(v,h),v=Ld(v),!r)return v;var b,w=e[0],_=n[0],S=e[1],x=n[1];_<w&&(b=w,w=_,_=b);var M=_-w,A=Vu(M-Du)<Nu;if(!A&&x<S&&(b=S,S=x,x=b),A||M<Nu?A?S+x>0^v[1]<(Vu(v[0]-w)<Nu?S:x):S<=v[1]&&v[1]<=x:M>Du^(w<=v[0]&&v[0]<=_)){var T=Ud(p,(-f+g)/m);return Zd(T,h),[v,Ld(T)]}}}function a(t,n){var i=r?e:Du-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return qh(o,(function(e){var t,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,h){var p,f=[d,h],m=o(d,h),y=r?m?0:a(d,h):m?a(d+(d<0?Du:-Du),h):0;if(!t&&(c=l=m)&&e.lineStart(),m!==l&&(!(p=s(t,f))||Uh(t,p)||Uh(f,p))&&(f[2]=1),m!==l)u=0,m?(e.lineStart(),p=s(f,t),e.point(p[0],p[1])):(p=s(t,f),e.point(p[0],p[1],2),e.lineEnd()),t=p;else if(i&&t&&r^m){var g;y&n||!(g=s(f,t,!0))||(u=0,r?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1],3)))}!m||t&&Uh(t,f)||e.point(f[0],f[1]),t=f,l=m,n=y},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return u|(c&&l)<<1}}}),(function(t,r,i,o){Dh(o,e,n,i,t,r)}),r?[0,-e]:[-Du,e-Du])}var Yh,Xh,Qh,ep,tp=1e9,np=-tp;function rp(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,a,c){var u=0,d=0;if(null==i||(u=s(i,a))!==(d=s(o,a))||l(i,o)<0^a>0)do{c.point(0===u||3===u?e:n,u>1?r:t)}while((u=(u+a+4)%4)!==d);else c.point(o[0],o[1])}function s(r,i){return Vu(r[0]-e)<Nu?i>0?0:3:Vu(r[0]-n)<Nu?i>0?2:1:Vu(r[1]-t)<Nu?i>0?1:0:i>0?3:2}function a(e,t){return l(e.x,t.x)}function l(e,t){var n=s(e,1),r=s(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){var l,c,u,d,h,p,f,m,y,g,v,b=s,w=Zh(),_={point:S,lineStart:function(){_.point=x,c&&c.push(u=[]);g=!0,y=!1,f=m=NaN},lineEnd:function(){l&&(x(d,h),p&&y&&w.rejoin(),l.push(w.result()));_.point=S,y&&b.lineEnd()},polygonStart:function(){b=w,l=[],c=[],v=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=c.length;n<i;++n)for(var o,s,a=c[n],l=1,u=a.length,d=a[0],h=d[0],p=d[1];l<u;++l)o=h,s=p,h=(d=a[l])[0],p=d[1],s<=r?p>r&&(h-o)*(r-s)>(p-s)*(e-o)&&++t:p<=r&&(h-o)*(r-s)<(p-s)*(e-o)&&--t;return t}(),n=v&&t,i=(l=Ee(l)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),i&&Vh(l,a,t,o,s),s.polygonEnd());b=s,l=c=u=null}};function S(e,t){i(e,t)&&b.point(e,t)}function x(o,s){var a=i(o,s);if(c&&u.push([o,s]),g)d=o,h=s,p=a,g=!1,a&&(b.lineStart(),b.point(o,s));else if(a&&y)b.point(o,s);else{var l=[f=Math.max(np,Math.min(tp,f)),m=Math.max(np,Math.min(tp,m))],w=[o=Math.max(np,Math.min(tp,o)),s=Math.max(np,Math.min(tp,s))];!function(e,t,n,r,i,o){var s,a=e[0],l=e[1],c=0,u=1,d=t[0]-a,h=t[1]-l;if(s=n-a,d||!(s>0)){if(s/=d,d<0){if(s<c)return;s<u&&(u=s)}else if(d>0){if(s>u)return;s>c&&(c=s)}if(s=i-a,d||!(s<0)){if(s/=d,d<0){if(s>u)return;s>c&&(c=s)}else if(d>0){if(s<c)return;s<u&&(u=s)}if(s=r-l,h||!(s>0)){if(s/=h,h<0){if(s<c)return;s<u&&(u=s)}else if(h>0){if(s>u)return;s>c&&(c=s)}if(s=o-l,h||!(s<0)){if(s/=h,h<0){if(s>u)return;s>c&&(c=s)}else if(h>0){if(s<c)return;s<u&&(u=s)}return c>0&&(e[0]=a+c*d,e[1]=l+c*h),u<1&&(t[0]=a+u*d,t[1]=l+u*h),!0}}}}}(l,w,e,t,n,r)?a&&(b.lineStart(),b.point(o,s),v=!1):(y||(b.lineStart(),b.point(l[0],l[1])),b.point(w[0],w[1]),a||b.lineEnd(),v=!1)}f=o,m=s,y=a}return _}}function ip(){var e,t,n,r=0,i=0,o=960,s=500;return n={stream:function(n){return e&&t===n?e:e=rp(r,i,o,s)(t=n)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],s=+a[1][1],e=t=null,n):[[r,i],[o,s]]}}}var op={sphere:id,point:id,lineStart:function(){op.point=ap,op.lineEnd=sp},lineEnd:id,polygonStart:id,polygonEnd:id};function sp(){op.point=op.lineEnd=id}function ap(e,t){Xh=e*=zu,Qh=Yu(t*=zu),ep=Gu(t),op.point=lp}function lp(e,t){e*=zu;var n=Yu(t*=zu),r=Gu(t),i=Vu(e-Xh),o=Gu(i),s=r*Yu(i),a=ep*n-Qh*r*o,l=Qh*n+ep*r*o;Yh.add($u(Qu(s*s+a*a),l)),Xh=e,Qh=n,ep=r}function cp(e){return Yh=new E,ud(e,op),+Yh}var up=[null,null],dp={type:"LineString",coordinates:up};function hp(e,t){return up[0]=e,up[1]=t,cp(dp)}var pp={Feature:function(e,t){return mp(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(mp(n[r].geometry,t))return!0;return!1}},fp={Sphere:function(){return!0},Point:function(e,t){return yp(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(yp(n[r],t))return!0;return!1},LineString:function(e,t){return gp(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(gp(n[r],t))return!0;return!1},Polygon:function(e,t){return vp(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(vp(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(mp(n[r],t))return!0;return!1}};function mp(e,t){return!(!e||!fp.hasOwnProperty(e.type))&&fp[e.type](e,t)}function yp(e,t){return 0===hp(e,t)}function gp(e,t){for(var n,r,i,o=0,s=e.length;o<s;o++){if(0===(r=hp(e[o],t)))return!0;if(o>0&&(i=hp(e[o],e[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Lu*i)return!0;n=r}return!1}function vp(e,t){return!!Gh(e.map(bp),wp(t))}function bp(e){return(e=e.map(wp)).pop(),e}function wp(e){return[e[0]*zu,e[1]*zu]}function _p(e,t){return(e&&pp.hasOwnProperty(e.type)?pp[e.type]:mp)(e,t)}function Sp(e,t,n){var r=Oe(e,t-Nu,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function xp(e,t,n){var r=Oe(e,t-Nu,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function Mp(){var e,t,n,r,i,o,s,a,l,c,u,d,h=10,p=h,f=90,m=360,y=2.5;function g(){return{type:"MultiLineString",coordinates:v()}}function v(){return Oe(qu(r/f)*f,n,f).map(u).concat(Oe(qu(a/m)*m,s,m).map(d)).concat(Oe(qu(t/h)*h,e,h).filter((function(e){return Vu(e%f)>Nu})).map(l)).concat(Oe(qu(o/p)*p,i,p).filter((function(e){return Vu(e%m)>Nu})).map(c))}return g.lines=function(){return v().map((function(e){return{type:"LineString",coordinates:e}}))},g.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(d(s).slice(1),u(n).reverse().slice(1),d(a).reverse().slice(1))]}},g.extent=function(e){return arguments.length?g.extentMajor(e).extentMinor(e):g.extentMinor()},g.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],r>n&&(e=r,r=n,n=e),a>s&&(e=a,a=s,s=e),g.precision(y)):[[r,a],[n,s]]},g.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),g.precision(y)):[[t,o],[e,i]]},g.step=function(e){return arguments.length?g.stepMajor(e).stepMinor(e):g.stepMinor()},g.stepMajor=function(e){return arguments.length?(f=+e[0],m=+e[1],g):[f,m]},g.stepMinor=function(e){return arguments.length?(h=+e[0],p=+e[1],g):[h,p]},g.precision=function(h){return arguments.length?(y=+h,l=Sp(o,i,90),c=xp(t,e,y),u=Sp(a,s,90),d=xp(r,n,y),g):y},g.extentMajor([[-180,-90+Nu],[180,90-Nu]]).extentMinor([[-180,-80-Nu],[180,80+Nu]])}function Ap(){return Mp()()}function Tp(e,t){var n=e[0]*zu,r=e[1]*zu,i=t[0]*zu,o=t[1]*zu,s=Gu(r),a=Yu(r),l=Gu(o),c=Yu(o),u=s*Gu(n),d=s*Yu(n),h=l*Gu(i),p=l*Yu(i),f=2*nd(Qu(rd(o-r)+s*l*rd(i-n))),m=Yu(f),y=f?function(e){var t=Yu(e*=f)/m,n=Yu(f-e)/m,r=n*u+t*h,i=n*d+t*p,o=n*a+t*c;return[$u(i,r)*Uu,$u(o,Qu(r*r+i*i))*Uu]}:function(){return[n*Uu,r*Uu]};return y.distance=f,y}var Ip,Cp,Ep,kp,Pp=e=>e,Rp=new E,Op=new E,Np={point:id,lineStart:id,lineEnd:id,polygonStart:function(){Np.lineStart=Lp,Np.lineEnd=jp},polygonEnd:function(){Np.lineStart=Np.lineEnd=Np.point=id,Rp.add(Vu(Op)),Op=new E},result:function(){var e=Rp/2;return Rp=new E,e}};function Lp(){Np.point=Dp}function Dp(e,t){Np.point=Fp,Ip=Ep=e,Cp=kp=t}function Fp(e,t){Op.add(kp*e-Ep*t),Ep=e,kp=t}function jp(){Fp(Ip,Cp)}var Zp=Np,Up=1/0,zp=Up,Vp=-Up,Bp=Vp,$p={point:function(e,t){e<Up&&(Up=e);e>Vp&&(Vp=e);t<zp&&(zp=t);t>Bp&&(Bp=t)},lineStart:id,lineEnd:id,polygonStart:id,polygonEnd:id,result:function(){var e=[[Up,zp],[Vp,Bp]];return Vp=Bp=-(zp=Up=1/0),e}};var Gp,qp,Hp,Wp,Jp=$p,Kp=0,Yp=0,Xp=0,Qp=0,ef=0,tf=0,nf=0,rf=0,of=0,sf={point:af,lineStart:lf,lineEnd:df,polygonStart:function(){sf.lineStart=hf,sf.lineEnd=pf},polygonEnd:function(){sf.point=af,sf.lineStart=lf,sf.lineEnd=df},result:function(){var e=of?[nf/of,rf/of]:tf?[Qp/tf,ef/tf]:Xp?[Kp/Xp,Yp/Xp]:[NaN,NaN];return Kp=Yp=Xp=Qp=ef=tf=nf=rf=of=0,e}};function af(e,t){Kp+=e,Yp+=t,++Xp}function lf(){sf.point=cf}function cf(e,t){sf.point=uf,af(Hp=e,Wp=t)}function uf(e,t){var n=e-Hp,r=t-Wp,i=Qu(n*n+r*r);Qp+=i*(Hp+e)/2,ef+=i*(Wp+t)/2,tf+=i,af(Hp=e,Wp=t)}function df(){sf.point=af}function hf(){sf.point=ff}function pf(){mf(Gp,qp)}function ff(e,t){sf.point=mf,af(Gp=Hp=e,qp=Wp=t)}function mf(e,t){var n=e-Hp,r=t-Wp,i=Qu(n*n+r*r);Qp+=i*(Hp+e)/2,ef+=i*(Wp+t)/2,tf+=i,nf+=(i=Wp*e-Hp*t)*(Hp+e),rf+=i*(Wp+t),of+=3*i,af(Hp=e,Wp=t)}var yf=sf;function gf(e){this._context=e}gf.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Zu)}},result:id};var vf,bf,wf,_f,Sf,xf=new E,Mf={point:id,lineStart:function(){Mf.point=Af},lineEnd:function(){vf&&Tf(bf,wf),Mf.point=id},polygonStart:function(){vf=!0},polygonEnd:function(){vf=null},result:function(){var e=+xf;return xf=new E,e}};function Af(e,t){Mf.point=Tf,bf=_f=e,wf=Sf=t}function Tf(e,t){_f-=e,Sf-=t,xf.add(Qu(_f*_f+Sf*Sf)),_f=e,Sf=t}var If=Mf;let Cf,Ef,kf,Pf;class Rf{constructor(e){this._append=null==e?Of:function(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Of;if(t!==Cf){const e=10**t;Cf=t,Ef=function(t){let n=1;this._+=t[0];for(const r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}return Ef}(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(e,t){switch(this._point){case 0:this._append`M${e},${t}`,this._point=1;break;case 1:this._append`L${e},${t}`;break;default:if(this._append`M${e},${t}`,this._radius!==kf||this._append!==Ef){const e=this._radius,t=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,kf=e,Ef=this._append,Pf=this._,this._=t}this._+=Pf}}result(){const e=this._;return this._="",e.length?e:null}}function Of(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Nf(e,t){let n,r,i=3,o=4.5;function s(e){return e&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),ud(e,n(r))),r.result()}return s.area=function(e){return ud(e,n(Zp)),Zp.result()},s.measure=function(e){return ud(e,n(If)),If.result()},s.bounds=function(e){return ud(e,n(Jp)),Jp.result()},s.centroid=function(e){return ud(e,n(yf)),yf.result()},s.projection=function(t){return arguments.length?(n=null==t?(e=null,Pp):(e=t).stream,s):e},s.context=function(e){return arguments.length?(r=null==e?(t=null,new Rf(i)):new gf(t=e),"function"!=typeof o&&r.pointRadius(o),s):t},s.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(r.pointRadius(+e),+e),s):o},s.digits=function(e){if(!arguments.length)return i;if(null==e)i=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);i=t}return null===t&&(r=new Rf(i)),s},s.projection(e).digits(i).context(t)}function Lf(e){return{stream:Df(e)}}function Df(e){return function(t){var n=new Ff;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Ff(){}function jf(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),ud(n,e.stream(Jp)),t(Jp.result()),null!=r&&e.clipExtent(r),e}function Zf(e,t,n){return jf(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),s=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,a=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([s,a])}),n)}function Uf(e,t,n){return Zf(e,[[0,0],t],n)}function zf(e,t,n){return jf(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,s=-i*n[0][1];e.scale(150*i).translate([o,s])}),n)}function Vf(e,t,n){return jf(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],s=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,s])}),n)}Ff.prototype={constructor:Ff,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Bf=16,$f=Gu(30*zu);function Gf(e,t){return+t?function(e,t){function n(r,i,o,s,a,l,c,u,d,h,p,f,m,y){var g=c-r,v=u-i,b=g*g+v*v;if(b>4*t&&m--){var w=s+h,_=a+p,S=l+f,x=Qu(w*w+_*_+S*S),M=nd(S/=x),A=Vu(Vu(S)-1)<Nu||Vu(o-d)<Nu?(o+d)/2:$u(_,w),T=e(A,M),I=T[0],C=T[1],E=I-r,k=C-i,P=v*E-g*k;(P*P/b>t||Vu((g*E+v*k)/b-.5)>.3||s*h+a*p+l*f<$f)&&(n(r,i,o,s,a,l,I,C,A,w/=x,_/=x,S,m,y),y.point(I,C),n(I,C,A,w,_,S,c,u,d,h,p,f,m,y))}}return function(t){var r,i,o,s,a,l,c,u,d,h,p,f,m={point:y,lineStart:g,lineEnd:b,polygonStart:function(){t.polygonStart(),m.lineStart=w},polygonEnd:function(){t.polygonEnd(),m.lineStart=g}};function y(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){u=NaN,m.point=v,t.lineStart()}function v(r,i){var o=Dd([r,i]),s=e(r,i);n(u,d,c,h,p,f,u=s[0],d=s[1],c=r,h=o[0],p=o[1],f=o[2],Bf,t),t.point(u,d)}function b(){m.point=y,t.lineEnd()}function w(){g(),m.point=_,m.lineEnd=S}function _(e,t){v(r=e,t),i=u,o=d,s=h,a=p,l=f,m.point=v}function S(){n(u,d,c,h,p,f,i,o,r,s,a,l,Bf,t),m.lineEnd=b,b()}return m}}(e,t):function(e){return Df({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var qf=Df({point:function(e,t){this.stream.point(e*zu,t*zu)}});function Hf(e,t,n,r,i,o){if(!o)return function(e,t,n,r,i){function o(o,s){return[t+e*(o*=r),n-e*(s*=i)]}return o.invert=function(o,s){return[(o-t)/e*r,(n-s)/e*i]},o}(e,t,n,r,i);var s=Gu(o),a=Yu(o),l=s*e,c=a*e,u=s/e,d=a/e,h=(a*n-s*t)/e,p=(a*t+s*n)/e;function f(e,o){return[l*(e*=r)-c*(o*=i)+t,n-c*e-l*o]}return f.invert=function(e,t){return[r*(u*e-d*t+h),i*(p-d*e-u*t)]},f}function Wf(e){return Jf((function(){return e}))()}function Jf(e){var t,n,r,i,o,s,a,l,c,u,d=150,h=480,p=250,f=0,m=0,y=0,g=0,v=0,b=0,w=1,_=1,S=null,x=Jh,M=null,A=Pp,T=.5;function I(e){return l(e[0]*zu,e[1]*zu)}function C(e){return(e=l.invert(e[0],e[1]))&&[e[0]*Uu,e[1]*Uu]}function E(){var e=Hf(d,0,0,w,_,b).apply(null,t(f,m)),r=Hf(d,h-e[0],p-e[1],w,_,b);return n=Ph(y,g,v),a=Eh(t,r),l=Eh(n,a),s=Gf(a,T),k()}function k(){return c=u=null,I}return I.stream=function(e){return c&&u===e?c:c=qf(function(e){return Df({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(x(s(A(u=e)))))},I.preclip=function(e){return arguments.length?(x=e,S=void 0,k()):x},I.postclip=function(e){return arguments.length?(A=e,M=r=i=o=null,k()):A},I.clipAngle=function(e){return arguments.length?(x=+e?Kh(S=e*zu):(S=null,Jh),k()):S*Uu},I.clipExtent=function(e){return arguments.length?(A=null==e?(M=r=i=o=null,Pp):rp(M=+e[0][0],r=+e[0][1],i=+e[1][0],o=+e[1][1]),k()):null==M?null:[[M,r],[i,o]]},I.scale=function(e){return arguments.length?(d=+e,E()):d},I.translate=function(e){return arguments.length?(h=+e[0],p=+e[1],E()):[h,p]},I.center=function(e){return arguments.length?(f=e[0]%360*zu,m=e[1]%360*zu,E()):[f*Uu,m*Uu]},I.rotate=function(e){return arguments.length?(y=e[0]%360*zu,g=e[1]%360*zu,v=e.length>2?e[2]%360*zu:0,E()):[y*Uu,g*Uu,v*Uu]},I.angle=function(e){return arguments.length?(b=e%360*zu,E()):b*Uu},I.reflectX=function(e){return arguments.length?(w=e?-1:1,E()):w<0},I.reflectY=function(e){return arguments.length?(_=e?-1:1,E()):_<0},I.precision=function(e){return arguments.length?(s=Gf(a,T=e*e),k()):Qu(T)},I.fitExtent=function(e,t){return Zf(I,e,t)},I.fitSize=function(e,t){return Uf(I,e,t)},I.fitWidth=function(e,t){return zf(I,e,t)},I.fitHeight=function(e,t){return Vf(I,e,t)},function(){return t=e.apply(this,arguments),I.invert=t.invert&&C,E()}}function Kf(e){var t=0,n=Du/3,r=Jf(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*zu,n=e[1]*zu):[t*Uu,n*Uu]},i}function Yf(e,t){var n=Yu(e),r=(n+Yu(t))/2;if(Vu(r)<Nu)return function(e){var t=Gu(e);function n(e,n){return[e*t,Yu(n)/t]}return n.invert=function(e,n){return[e/t,nd(n*t)]},n}(e);var i=1+n*(2*r-n),o=Qu(i)/r;function s(e,t){var n=Qu(i-2*r*Yu(t))/r;return[n*Yu(e*=r),o-n*Gu(e)]}return s.invert=function(e,t){var n=o-t,s=$u(e,Vu(n))*Xu(n);return n*r<0&&(s-=Du*Xu(e)*Xu(n)),[s/r,nd((i-(e*e+n*n)*r*r)/(2*r))]},s}function Xf(){return Kf(Yf).scale(155.424).center([0,33.6442])}function Qf(){return Xf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function em(){var e,t,n,r,i,o,s=Qf(),a=Xf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Xf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){o=[e,t]}};function u(e){var t=e[0],s=e[1];return o=null,n.point(t,s),o||(r.point(t,s),o)||(i.point(t,s),o)}function d(){return e=t=null,u}return u.invert=function(e){var t=s.scale(),n=s.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:s).invert(e)},u.stream=function(n){return e&&t===n?e:(r=[s.stream(t=n),a.stream(n),l.stream(n)],i=r.length,e={point:function(e,t){for(var n=-1;++n<i;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<i;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<i;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<i;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<i;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<i;)r[e].polygonEnd()}});var r,i},u.precision=function(e){return arguments.length?(s.precision(e),a.precision(e),l.precision(e),d()):s.precision()},u.scale=function(e){return arguments.length?(s.scale(e),a.scale(.35*e),l.scale(e),u.translate(s.translate())):s.scale()},u.translate=function(e){if(!arguments.length)return s.translate();var t=s.scale(),o=+e[0],u=+e[1];return n=s.translate(e).clipExtent([[o-.455*t,u-.238*t],[o+.455*t,u+.238*t]]).stream(c),r=a.translate([o-.307*t,u+.201*t]).clipExtent([[o-.425*t+Nu,u+.12*t+Nu],[o-.214*t-Nu,u+.234*t-Nu]]).stream(c),i=l.translate([o-.205*t,u+.212*t]).clipExtent([[o-.214*t+Nu,u+.166*t+Nu],[o-.115*t-Nu,u+.234*t-Nu]]).stream(c),d()},u.fitExtent=function(e,t){return Zf(u,e,t)},u.fitSize=function(e,t){return Uf(u,e,t)},u.fitWidth=function(e,t){return zf(u,e,t)},u.fitHeight=function(e,t){return Vf(u,e,t)},u.scale(1070)}function tm(e){return function(t,n){var r=Gu(t),i=Gu(n),o=e(r*i);return o===1/0?[2,0]:[o*i*Yu(t),o*Yu(n)]}}function nm(e){return function(t,n){var r=Qu(t*t+n*n),i=e(r),o=Yu(i),s=Gu(i);return[$u(t*o,r*s),nd(r&&n*o/r)]}}var rm=tm((function(e){return Qu(2/(1+e))}));function im(){return Wf(rm).scale(124.75).clipAngle(179.999)}rm.invert=nm((function(e){return 2*nd(e/2)}));var om=tm((function(e){return(e=td(e))&&e/Yu(e)}));function sm(){return Wf(om).scale(79.4188).clipAngle(179.999)}function am(e,t){return[e,Ju(ed((Fu+t)/2))]}function lm(){return cm(am).scale(961/Zu)}function cm(e){var t,n,r,i=Wf(e),o=i.center,s=i.scale,a=i.translate,l=i.clipExtent,c=null;function u(){var o=Du*s(),a=i(Lh(i.rotate()).invert([0,0]));return l(null==c?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:e===am?[[Math.max(a[0]-o,c),t],[Math.min(a[0]+o,n),r]]:[[c,Math.max(a[1]-o,t)],[n,Math.min(a[1]+o,r)]])}return i.scale=function(e){return arguments.length?(s(e),u()):s()},i.translate=function(e){return arguments.length?(a(e),u()):a()},i.center=function(e){return arguments.length?(o(e),u()):o()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),u()):null==c?null:[[c,t],[n,r]]},u()}function um(e){return ed((Fu+e)/2)}function dm(e,t){var n=Gu(e),r=e===t?Yu(e):Ju(n/Gu(t))/Ju(um(t)/um(e)),i=n*Ku(um(e),r)/r;if(!r)return am;function o(e,t){i>0?t<-Fu+Nu&&(t=-Fu+Nu):t>Fu-Nu&&(t=Fu-Nu);var n=i/Ku(um(t),r);return[n*Yu(r*e),i-n*Gu(r*e)]}return o.invert=function(e,t){var n=i-t,o=Xu(r)*Qu(e*e+n*n),s=$u(e,Vu(n))*Xu(n);return n*r<0&&(s-=Du*Xu(e)*Xu(n)),[s/r,2*Bu(Ku(i/o,1/r))-Fu]},o}function hm(){return Kf(dm).scale(109.5).parallels([30,30])}function pm(e,t){return[e,t]}function fm(){return Wf(pm).scale(152.63)}function mm(e,t){var n=Gu(e),r=e===t?Yu(e):(n-Gu(t))/(t-e),i=n/r+e;if(Vu(r)<Nu)return pm;function o(e,t){var n=i-t,o=r*e;return[n*Yu(o),i-n*Gu(o)]}return o.invert=function(e,t){var n=i-t,o=$u(e,Vu(n))*Xu(n);return n*r<0&&(o-=Du*Xu(e)*Xu(n)),[o/r,i-Xu(r)*Qu(e*e+n*n)]},o}function ym(){return Kf(mm).scale(131.154).center([0,13.9389])}om.invert=nm((function(e){return e})),am.invert=function(e,t){return[e,2*Bu(Hu(t))-Fu]},pm.invert=pm;var gm=1.340264,vm=-.081106,bm=893e-6,wm=.003796,_m=Qu(3)/2;function Sm(e,t){var n=nd(_m*Yu(t)),r=n*n,i=r*r*r;return[e*Gu(n)/(_m*(gm+3*vm*r+i*(7*bm+9*wm*r))),n*(gm+vm*r+i*(bm+wm*r))]}function xm(){return Wf(Sm).scale(177.158)}function Mm(e,t){var n=Gu(t),r=Gu(e)*n;return[n*Yu(e)/r,Yu(t)/r]}function Am(){return Wf(Mm).scale(144.049).clipAngle(60)}function Tm(){var e,t,n,r,i,o,s,a=1,l=0,c=0,u=1,d=1,h=0,p=null,f=1,m=1,y=Df({point:function(e,t){var n=b([e,t]);this.stream.point(n[0],n[1])}}),g=Pp;function v(){return f=a*u,m=a*d,o=s=null,b}function b(n){var r=n[0]*f,i=n[1]*m;if(h){var o=i*e-r*t;r=r*e+i*t,i=o}return[r+l,i+c]}return b.invert=function(n){var r=n[0]-l,i=n[1]-c;if(h){var o=i*e+r*t;r=r*e-i*t,i=o}return[r/f,i/m]},b.stream=function(e){return o&&s===e?o:o=y(g(s=e))},b.postclip=function(e){return arguments.length?(g=e,p=n=r=i=null,v()):g},b.clipExtent=function(e){return arguments.length?(g=null==e?(p=n=r=i=null,Pp):rp(p=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),v()):null==p?null:[[p,n],[r,i]]},b.scale=function(e){return arguments.length?(a=+e,v()):a},b.translate=function(e){return arguments.length?(l=+e[0],c=+e[1],v()):[l,c]},b.angle=function(n){return arguments.length?(t=Yu(h=n%360*zu),e=Gu(h),v()):h*Uu},b.reflectX=function(e){return arguments.length?(u=e?-1:1,v()):u<0},b.reflectY=function(e){return arguments.length?(d=e?-1:1,v()):d<0},b.fitExtent=function(e,t){return Zf(b,e,t)},b.fitSize=function(e,t){return Uf(b,e,t)},b.fitWidth=function(e,t){return zf(b,e,t)},b.fitHeight=function(e,t){return Vf(b,e,t)},b}function Im(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Cm(){return Wf(Im).scale(175.295)}function Em(e,t){return[Gu(t)*Yu(e),Yu(t)]}function km(){return Wf(Em).scale(249.5).clipAngle(90+Nu)}function Pm(e,t){var n=Gu(t),r=1+Gu(e)*n;return[n*Yu(e)/r,Yu(t)/r]}function Rm(){return Wf(Pm).scale(250).clipAngle(142)}function Om(e,t){return[Ju(ed((Fu+t)/2)),-e]}function Nm(){var e=cm(Om),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}function Lm(e,t){return e.parent===t.parent?1:2}function Dm(e,t){return e+t.x}function Fm(e,t){return Math.max(e,t.y)}function jm(){var e=Lm,t=1,n=1,r=!1;function i(i){var o,s=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(Dm,0)/e.length}(n),t.y=function(e){return 1+e.reduce(Fm,0)}(n)):(t.x=o?s+=e(t,o):0,t.y=0,o=t)}));var a=function(e){for(var t;t=e.children;)e=t[0];return e}(i),l=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),c=a.x-e(a,l)/2,u=l.x+e(l,a)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-c)/(u-c)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}function Zm(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function Um(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=Vm)):void 0===t&&(t=zm);for(var n,r,i,o,s,a=new Gm(e),l=[a];n=l.pop();)if((i=t(n.data))&&(s=(i=Array.from(i)).length))for(n.children=i,o=s-1;o>=0;--o)l.push(r=i[o]=new Gm(i[o])),r.parent=n,r.depth=n.depth+1;return a.eachBefore($m)}function zm(e){return e.children}function Vm(e){return Array.isArray(e)?e[1]:null}function Bm(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function $m(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Gm(e){this.data=e,this.depth=this.height=0,this.parent=null}function qm(e){return null==e?null:Hm(e)}function Hm(e){if("function"!=typeof e)throw new Error;return e}function Wm(){return 0}function Jm(e){return function(){return e}}Sm.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,s=0;s<12&&(o=(i=(r-=n=(r*(gm+vm*i+o*(bm+wm*i))-t)/(gm+3*vm*i+o*(7*bm+9*wm*i)))*r)*i*i,!(Vu(n)<Lu));++s);return[_m*e*(gm+3*vm*i+o*(7*bm+9*wm*i))/Gu(r),nd(Yu(r)/_m)]},Mm.invert=nm(Bu),Im.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,s=o*o;r-=n=(r*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-t)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(Vu(n)>Nu&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},Em.invert=nm(nd),Pm.invert=nm((function(e){return 2*Bu(e)})),Om.invert=function(e,t){return[-t,2*Bu(Hu(e))-Fu]},Gm.prototype=Um.prototype={constructor:Gm,count:function(){return this.eachAfter(Zm)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,i,o=this,s=[o],a=[],l=-1;o=s.pop();)if(a.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)s.push(n[r]);for(;o=a.pop();)e.call(t,o,++l,this);return this},eachBefore:function(e,t){for(var n,r,i=this,o=[i],s=-1;i=o.pop();)if(e.call(t,i,++s,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return Um(this).eachBefore(Bm)},[Symbol.iterator]:function*(){var e,t,n,r,i=this,o=[i];do{for(e=o.reverse(),o=[];i=e.pop();)if(yield i,t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n])}while(o.length)}};const Km=1664525,Ym=1013904223,Xm=4294967296;function Qm(){let e=1;return()=>(e=(Km*e+Ym)%Xm)/Xm}function ey(e){return ty(e,Qm())}function ty(e,t){for(var n,r,i=0,o=(e=function(e,t){let n,r,i=e.length;for(;i;)r=t()*i--|0,n=e[i],e[i]=e[r],e[r]=n;return e}(Array.from(e),t)).length,s=[];i<o;)n=e[i],r&&iy(r,n)?++i:(r=sy(s=ny(s,n)),i=0);return r}function ny(e,t){var n,r;if(oy(t,e))return[t];for(n=0;n<e.length;++n)if(ry(t,e[n])&&oy(ay(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(ry(ay(e[n],e[r]),t)&&ry(ay(e[n],t),e[r])&&ry(ay(e[r],t),e[n])&&oy(ly(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function ry(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function iy(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function oy(e,t){for(var n=0;n<t.length;++n)if(!iy(e,t[n]))return!1;return!0}function sy(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return ay(e[0],e[1]);case 3:return ly(e[0],e[1],e[2])}}function ay(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,c=s-r,u=a-i,d=Math.sqrt(l*l+c*c);return{x:(n+o+l/d*u)/2,y:(r+s+c/d*u)/2,r:(d+i+a)/2}}function ly(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,c=n.x,u=n.y,d=n.r,h=r-s,p=r-c,f=i-a,m=i-u,y=l-o,g=d-o,v=r*r+i*i-o*o,b=v-s*s-a*a+l*l,w=v-c*c-u*u+d*d,_=p*f-h*m,S=(f*w-m*b)/(2*_)-r,x=(m*y-f*g)/_,M=(p*b-h*w)/(2*_)-i,A=(h*g-p*y)/_,T=x*x+A*A-1,I=2*(o+S*x+M*A),C=S*S+M*M-o*o,E=-(Math.abs(T)>1e-6?(I+Math.sqrt(I*I-4*T*C))/(2*T):C/I);return{x:r+S+x*E,y:i+M+A*E,r:E}}function cy(e,t,n){var r,i,o,s,a=e.x-t.x,l=e.y-t.y,c=a*a+l*l;c?(i=t.r+n.r,i*=i,s=e.r+n.r,i>(s*=s)?(r=(c+s-i)/(2*c),o=Math.sqrt(Math.max(0,s/c-r*r)),n.x=e.x-r*a-o*l,n.y=e.y-r*l+o*a):(r=(c+i-s)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=t.x+r*a-o*l,n.y=t.y+r*l+o*a)):(n.x=t.x+n.r,n.y=t.y)}function uy(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function dy(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function hy(e){this._=e,this.next=null,this.previous=null}function py(e,t){if(!(o=(e=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var n,r,i,o,s,a,l,c,u,d,h;if((n=e[0]).x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;cy(r,n,i=e[2]),n=new hy(n),r=new hy(r),i=new hy(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){cy(n._,r._,i=e[l]),i=new hy(i),c=r.next,u=n.previous,d=r._.r,h=n._.r;do{if(d<=h){if(uy(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.next}else{if(uy(u._,i._)){(n=u).next=r,r.previous=n,--l;continue e}h+=u._.r,u=u.previous}}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=dy(n);(i=i.next)!==r;)(a=dy(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=ty(n,t),l=0;l<o;++l)(n=e[l]).x-=i.x,n.y-=i.y;return i.r}function fy(e){return py(e,Qm()),e}function my(e){return Math.sqrt(e.value)}function yy(){var e=null,t=1,n=1,r=Wm;function i(i){const o=Qm();return i.x=t/2,i.y=n/2,e?i.eachBefore(gy(e)).eachAfter(vy(r,.5,o)).eachBefore(by(1)):i.eachBefore(gy(my)).eachAfter(vy(Wm,1,o)).eachAfter(vy(r,i.r/Math.min(t,n),o)).eachBefore(by(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=qm(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"==typeof e?e:Jm(+e),i):r},i}function gy(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function vy(e,t,n){return function(r){if(i=r.children){var i,o,s,a=i.length,l=e(r)*t||0;if(l)for(o=0;o<a;++o)i[o].r+=l;if(s=py(i,n),l)for(o=0;o<a;++o)i[o].r-=l;r.r=s+l}}}function by(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function wy(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function _y(e,t,n,r,i){for(var o,s=e.children,a=-1,l=s.length,c=e.value&&(r-t)/e.value;++a<l;)(o=s[a]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*c}function Sy(){var e=1,t=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(function(e,t){return function(r){r.children&&_y(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,o=r.y0,s=r.x1-n,a=r.y1-n;s<i&&(i=s=(i+s)/2),a<o&&(o=a=(o+a)/2),r.x0=i,r.y0=o,r.x1=s,r.y1=a}}(t,o)),r&&i.eachBefore(wy),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i}var xy={depth:-1},My={},Ay={};function Ty(e){return e.id}function Iy(e){return e.parentId}function Cy(){var e,t=Ty,n=Iy;function r(r){var i,o,s,a,l,c,u,d,h=Array.from(r),p=t,f=n,m=new Map;if(null!=e){const t=h.map(((t,n)=>function(e){e=`${e}`;let t=e.length;ky(e,t-1)&&!ky(e,t-2)&&(e=e.slice(0,-1));return"/"===e[0]?e:`/${e}`}(e(t,n,r)))),n=t.map(Ey),i=new Set(t).add("");for(const e of n)i.has(e)||(i.add(e),t.push(e),n.push(Ey(e)),h.push(Ay));p=(e,n)=>t[n],f=(e,t)=>n[t]}for(s=0,i=h.length;s<i;++s)o=h[s],c=h[s]=new Gm(o),null!=(u=p(o,s,r))&&(u+="")&&(d=c.id=u,m.set(d,m.has(d)?My:c)),null!=(u=f(o,s,r))&&(u+="")&&(c.parent=u);for(s=0;s<i;++s)if(u=(c=h[s]).parent){if(!(l=m.get(u)))throw new Error("missing: "+u);if(l===My)throw new Error("ambiguous: "+u);l.children?l.children.push(c):l.children=[c],c.parent=l}else{if(a)throw new Error("multiple roots");a=c}if(!a)throw new Error("no root");if(null!=e){for(;a.data===Ay&&1===a.children.length;)a=a.children[0],--i;for(let e=h.length-1;e>=0&&(c=h[e]).data===Ay;--e)c.data=null}if(a.parent=xy,a.eachBefore((function(e){e.depth=e.parent.depth+1,--i})).eachBefore($m),a.parent=null,i>0)throw new Error("cycle");return a}return r.id=function(e){return arguments.length?(t=qm(e),r):t},r.parentId=function(e){return arguments.length?(n=qm(e),r):n},r.path=function(t){return arguments.length?(e=qm(t),r):e},r}function Ey(e){let t=e.length;if(t<2)return"";for(;--t>1&&!ky(e,t););return e.slice(0,t)}function ky(e,t){if("/"===e[t]){let n=0;for(;t>0&&"\\"===e[--t];)++n;if(!(1&n))return!0}return!1}function Py(e,t){return e.parent===t.parent?1:2}function Ry(e){var t=e.children;return t?t[0]:e.t}function Oy(e){var t=e.children;return t?t[t.length-1]:e.t}function Ny(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Ly(e,t,n){return e.a.parent===t.parent?e.a:n}function Dy(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Fy(){var e=Py,t=1,n=1,r=null;function i(i){var l=function(e){for(var t,n,r,i,o,s=new Dy(e,0),a=[s];t=a.pop();)if(r=t._.children)for(t.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(n=t.children[i]=new Dy(r[i],i)),n.parent=t;return(s.parent=new Dy(null,0)).children=[s],s}(i);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(s),r)i.eachBefore(a);else{var c=i,u=i,d=i;i.eachBefore((function(e){e.x<c.x&&(c=e),e.x>u.x&&(u=e),e.depth>d.depth&&(d=e)}));var h=c===u?1:e(c,u)/2,p=h-c.x,f=t/(u.x+h+p),m=n/(d.depth||1);i.eachBefore((function(e){e.x=(e.x+p)*f,e.y=e.depth*m}))}return i}function o(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,s=t,a=n,l=o.parent.children[0],c=o.m,u=s.m,d=a.m,h=l.m;a=Oy(a),o=Ry(o),a&&o;)l=Ry(l),(s=Oy(s)).a=t,(i=a.z+d-o.z-c+e(a._,o._))>0&&(Ny(Ly(a,t,r),t,i),c+=i,u+=i),d+=a.m,c+=o.m,h+=l.m,u+=s.m;a&&!Oy(s)&&(s.t=a,s.m+=d-u),o&&!Ry(l)&&(l.t=o,l.m+=c-h,r=t)}return r}(t,i,t.parent.A||r[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function a(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}function jy(e,t,n,r,i){for(var o,s=e.children,a=-1,l=s.length,c=e.value&&(i-n)/e.value;++a<l;)(o=s[a]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c}Dy.prototype=Object.create(Gm.prototype);var Zy=(1+Math.sqrt(5))/2;function Uy(e,t,n,r,i,o){for(var s,a,l,c,u,d,h,p,f,m,y,g=[],v=t.children,b=0,w=0,_=v.length,S=t.value;b<_;){l=i-n,c=o-r;do{u=v[w++].value}while(!u&&w<_);for(d=h=u,y=u*u*(m=Math.max(c/l,l/c)/(S*e)),f=Math.max(h/y,y/d);w<_;++w){if(u+=a=v[w].value,a<d&&(d=a),a>h&&(h=a),y=u*u*m,(p=Math.max(h/y,y/d))>f){u-=a;break}f=p}g.push(s={value:u,dice:l<c,children:v.slice(b,w)}),s.dice?_y(s,n,r,i,S?r+=c*u/S:o):jy(s,n,r,S?n+=l*u/S:i,o),S-=u,b=w}return g}var zy=function e(t){function n(e,n,r,i,o){Uy(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Zy);function Vy(){var e=zy,t=!1,n=1,r=1,i=[0],o=Wm,s=Wm,a=Wm,l=Wm,c=Wm;function u(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(d),i=[0],t&&e.eachBefore(wy),e}function d(t){var n=i[t.depth],r=t.x0+n,u=t.y0+n,d=t.x1-n,h=t.y1-n;d<r&&(r=d=(r+d)/2),h<u&&(u=h=(u+h)/2),t.x0=r,t.y0=u,t.x1=d,t.y1=h,t.children&&(n=i[t.depth+1]=o(t)/2,r+=c(t)-n,u+=s(t)-n,(d-=a(t)-n)<r&&(r=d=(r+d)/2),(h-=l(t)-n)<u&&(u=h=(u+h)/2),e(t,r,u,d,h))}return u.round=function(e){return arguments.length?(t=!!e,u):t},u.size=function(e){return arguments.length?(n=+e[0],r=+e[1],u):[n,r]},u.tile=function(t){return arguments.length?(e=Hm(t),u):e},u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()},u.paddingInner=function(e){return arguments.length?(o="function"==typeof e?e:Jm(+e),u):o},u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()},u.paddingTop=function(e){return arguments.length?(s="function"==typeof e?e:Jm(+e),u):s},u.paddingRight=function(e){return arguments.length?(a="function"==typeof e?e:Jm(+e),u):a},u.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:Jm(+e),u):l},u.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:Jm(+e),u):c},u}function By(e,t,n,r,i){var o,s,a=e.children,l=a.length,c=new Array(l+1);for(c[0]=s=o=0;o<l;++o)c[o+1]=s+=a[o].value;!function e(t,n,r,i,o,s,l){if(t>=n-1){var u=a[t];return u.x0=i,u.y0=o,u.x1=s,void(u.y1=l)}var d=c[t],h=r/2+d,p=t+1,f=n-1;for(;p<f;){var m=p+f>>>1;c[m]<h?p=m+1:f=m}h-c[p-1]<c[p]-h&&t+1<p&&--p;var y=c[p]-d,g=r-y;if(s-i>l-o){var v=r?(i*g+s*y)/r:s;e(t,p,y,i,o,v,l),e(p,n,g,v,o,s,l)}else{var b=r?(o*g+l*y)/r:l;e(t,p,y,i,o,s,b),e(p,n,g,i,b,s,l)}}(0,l,e.value,t,n,r,i)}function $y(e,t,n,r,i){(1&e.depth?jy:_y)(e,t,n,r,i)}var Gy=function e(t){function n(e,n,r,i,o){if((s=e._squarify)&&s.ratio===t)for(var s,a,l,c,u,d=-1,h=s.length,p=e.value;++d<h;){for(l=(a=s[d]).children,c=a.value=0,u=l.length;c<u;++c)a.value+=l[c].value;a.dice?_y(a,n,r,i,p?r+=(o-r)*a.value/p:o):jy(a,n,r,p?n+=(i-n)*a.value/p:i,o),p-=a.value}else e._squarify=s=Uy(t,e,n,r,i,o),s.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Zy);function qy(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Hy(e,t){var n=Lr(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}function Wy(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Jy(e){return((e=Math.exp(e))+1/e)/2}var Ky=function e(t,n,r){function i(e,i){var o,s,a=e[0],l=e[1],c=e[2],u=i[0],d=i[1],h=i[2],p=u-a,f=d-l,m=p*p+f*f;if(m<1e-12)s=Math.log(h/c)/t,o=function(e){return[a+e*p,l+e*f,c*Math.exp(t*e*s)]};else{var y=Math.sqrt(m),g=(h*h-c*c+r*m)/(2*c*n*y),v=(h*h-c*c-r*m)/(2*h*n*y),b=Math.log(Math.sqrt(g*g+1)-g),w=Math.log(Math.sqrt(v*v+1)-v);s=(w-b)/t,o=function(e){var r=e*s,i=Jy(b),o=c/(n*y)*(i*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+b)-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[a+o*p,l+o*f,c*i/Jy(t*r+b)]}}return o.duration=1e3*s*t/Math.SQRT2,o}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function Yy(e){return function(t,n){var r=e((t=Ar(t)).h,(n=Ar(n)).h),i=Fr(t.s,n.s),o=Fr(t.l,n.l),s=Fr(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=o(e),t.opacity=s(e),t+""}}}var Xy=Yy(Lr),Qy=Yy(Fr);function eg(e,t){var n=Fr((e=Zs(e)).l,(t=Zs(t)).l),r=Fr(e.a,t.a),i=Fr(e.b,t.b),o=Fr(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function tg(e){return function(t,n){var r=e((t=Hs(t)).h,(n=Hs(n)).h),i=Fr(t.c,n.c),o=Fr(t.l,n.l),s=Fr(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=s(e),t+""}}}var ng=tg(Lr),rg=tg(Fr);function ig(e){return function t(n){function r(t,r){var i=e((t=ia(t)).h,(r=ia(r)).h),o=Fr(t.s,r.s),s=Fr(t.l,r.l),a=Fr(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=s(Math.pow(e,n)),t.opacity=a(e),t+""}}return n=+n,r.gamma=t,r}(1)}var og=ig(Lr),sg=ig(Fr);function ag(e,t){void 0===t&&(t=e,e=Xr);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}function lg(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function cg(e){for(var t,n=-1,r=e.length,i=e[r-1],o=0;++n<r;)t=i,i=e[n],o+=t[1]*i[0]-t[0]*i[1];return o/2}function ug(e){for(var t,n,r=-1,i=e.length,o=0,s=0,a=e[i-1],l=0;++r<i;)t=a,a=e[r],l+=n=t[0]*a[1]-a[0]*t[1],o+=(t[0]+a[0])*n,s+=(t[1]+a[1])*n;return[o/(l*=3),s/l]}function dg(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function hg(e,t){return e[0]-t[0]||e[1]-t[1]}function pg(e){const t=e.length,n=[0,1];let r,i=2;for(r=2;r<t;++r){for(;i>1&&dg(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function fg(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(hg),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var o=pg(r),s=pg(i),a=s[0]===o[0],l=s[s.length-1]===o[o.length-1],c=[];for(t=o.length-1;t>=0;--t)c.push(e[r[o[t]][2]]);for(t=+a;t<s.length-l;++t)c.push(e[r[s[t]][2]]);return c}function mg(e,t){for(var n,r,i=e.length,o=e[i-1],s=t[0],a=t[1],l=o[0],c=o[1],u=!1,d=0;d<i;++d)n=(o=e[d])[0],(r=o[1])>a!=c>a&&s<(l-n)*(a-r)/(c-r)+n&&(u=!u),l=n,c=r;return u}function yg(e){for(var t,n,r=-1,i=e.length,o=e[i-1],s=o[0],a=o[1],l=0;++r<i;)t=s,n=a,t-=s=(o=e[r])[0],n-=a=o[1],l+=Math.hypot(t,n);return l}var gg=Math.random,vg=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(gg),bg=function e(t){function n(e,n){return arguments.length<2&&(n=e,e=0),e=Math.floor(e),n=Math.floor(n)-e,function(){return Math.floor(t()*n+e)}}return n.source=e,n}(gg),wg=function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*t()-1,o=2*t()-1,i=r*r+o*o}while(!i||i>1);return e+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(gg),_g=function e(t){var n=wg.source(t);function r(){var e=n.apply(this,arguments);return function(){return Math.exp(e())}}return r.source=e,r}(gg),Sg=function e(t){function n(e){return(e=+e)<=0?()=>0:function(){for(var n=0,r=e;r>1;--r)n+=t();return n+r*t()}}return n.source=e,n}(gg),xg=function e(t){var n=Sg.source(t);function r(e){if(0==(e=+e))return t;var r=n(e);return function(){return r()/e}}return r.source=e,r}(gg),Mg=function e(t){function n(e){return function(){return-Math.log1p(-t())/e}}return n.source=e,n}(gg),Ag=function e(t){function n(e){if((e=+e)<0)throw new RangeError("invalid alpha");return e=1/-e,function(){return Math.pow(1-t(),e)}}return n.source=e,n}(gg),Tg=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+e)}}return n.source=e,n}(gg),Ig=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return 0===e?()=>1/0:1===e?()=>1:(e=Math.log1p(-e),function(){return 1+Math.floor(Math.log1p(-t())/e)})}return n.source=e,n}(gg),Cg=function e(t){var n=wg.source(t)();function r(e,r){if((e=+e)<0)throw new RangeError("invalid k");if(0===e)return()=>0;if(r=null==r?1:+r,1===e)return()=>-Math.log1p(-t())*r;var i=(e<1?e+1:e)-1/3,o=1/(3*Math.sqrt(i)),s=e<1?()=>Math.pow(t(),1/e):()=>1;return function(){do{do{var e=n(),a=1+o*e}while(a<=0);a*=a*a;var l=1-t()}while(l>=1-.0331*e*e*e*e&&Math.log(l)>=.5*e*e+i*(1-a+Math.log(a)));return i*a*s()*r}}return r.source=e,r}(gg),Eg=function e(t){var n=Cg.source(t);function r(e,t){var r=n(e),i=n(t);return function(){var e=r();return 0===e?0:e/(e+i())}}return r.source=e,r}(gg),kg=function e(t){var n=Ig.source(t),r=Eg.source(t);function i(e,t){return e=+e,(t=+t)>=1?()=>e:t<=0?()=>0:function(){for(var i=0,o=e,s=t;o*s>16&&o*(1-s)>16;){var a=Math.floor((o+1)*s),l=r(a,o-a+1)();l<=s?(i+=a,o-=a,s=(s-l)/(1-l)):(o=a-1,s/=l)}for(var c=s<.5,u=n(c?s:1-s),d=u(),h=0;d<=o;++h)d+=u();return i+(c?h:o-h)}}return i.source=e,i}(gg),Pg=function e(t){function n(e,n,r){var i;return 0==(e=+e)?i=e=>-Math.log(e):(e=1/e,i=t=>Math.pow(t,e)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-t()))}}return n.source=e,n}(gg),Rg=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){return e+n*Math.tan(Math.PI*t())}}return n.source=e,n}(gg),Og=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){var r=t();return e+n*Math.log(r/(1-r))}}return n.source=e,n}(gg),Ng=function e(t){var n=Cg.source(t),r=kg.source(t);function i(e){return function(){for(var i=0,o=e;o>16;){var s=Math.floor(.875*o),a=n(s)();if(a>o)return i+r(s-1,o/a)();i+=s,o-=a}for(var l=-Math.log1p(-t()),c=0;l<=o;++c)l-=Math.log1p(-t());return i+c}}return i.source=e,i}(gg);const Lg=1664525,Dg=1013904223,Fg=1/4294967296;function jg(e=Math.random()){let t=0|(0<=e&&e<1?e/Fg:Math.abs(e));return()=>(t=Lg*t+Dg|0,Fg*(t>>>0))}function Zg(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Ug(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const zg=Symbol("implicit");function Vg(){var e=new R,t=[],n=[],r=zg;function i(i){let o=e.get(i);if(void 0===o){if(r!==zg)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new R;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Vg(t,n).unknown(r)},Zg.apply(i,arguments),i}function Bg(){var e,t,n=Vg().unknown(void 0),r=n.domain,i=n.range,o=0,s=1,a=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=s<o,h=d?s:o,p=d?o:s;e=(p-h)/Math.max(1,n-l+2*c),a&&(e=Math.floor(e)),h+=(p-h-e*(n-l))*u,t=e*(1-l),a&&(h=Math.round(h),t=Math.round(t));var f=Oe(n).map((function(t){return h+e*t}));return i(d?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,s]=e,o=+o,s=+s,d()):[o,s]},n.rangeRound=function(e){return[o,s]=e,o=+o,s=+s,a=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,d()):a},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Bg(r(),[o,s]).round(a).paddingInner(l).paddingOuter(c).align(u)},Zg.apply(d(),arguments)}function $g(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $g(t())},e}function Gg(){return $g(Bg.apply(null,arguments).paddingInner(1))}function qg(e){return+e}var Hg=[0,1];function Wg(e){return e}function Jg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Kg(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=Jg(i,r),o=n(s,o)):(r=Jg(r,i),o=n(o,s)),function(e){return o(r(e))}}function Yg(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Jg(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=h(e,t,1,r)-1;return o[n](i[n](t))}}function Xg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Qg(){var e,t,n,r,i,o,s=Hg,a=Hg,l=Xr,c=Wg;function u(){var e=Math.min(s.length,a.length);return c!==Wg&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?Yg:Kg,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),a,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(a,s.map(e),Hr)))(n)))},d.domain=function(e){return arguments.length?(s=Array.from(e,qg),u()):s.slice()},d.range=function(e){return arguments.length?(a=Array.from(e),u()):a.slice()},d.rangeRound=function(e){return a=Array.from(e),l=Wy,u()},d.clamp=function(e){return arguments.length?(c=!!e||Wg,u()):c!==Wg},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function ev(){return Qg()(Wg,Wg)}function tv(e,t,n,r){var i,o=ue(e,t,n);switch((r=bu(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=Ru(o,s))||(r.precision=i),Tu(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Ou(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Pu(o))||(r.precision=i-2*("%"===r.type))}return Au(r)}function nv(e){var t=e.domain;return e.ticks=function(e){var n=t();return le(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return tv(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),s=0,a=o.length-1,l=o[s],c=o[a],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=a,a=i);u-- >0;){if((i=ce(l,c,n))===r)return o[s]=l,o[a]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function rv(){var e=ev();return e.copy=function(){return Xg(e,rv())},Zg.apply(e,arguments),nv(e)}function iv(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,qg),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return iv(e).unknown(t)},e=arguments.length?Array.from(e,qg):[0,1],nv(n)}function ov(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],s=e[i];return s<o&&(n=r,r=i,i=n,n=o,o=s,s=n),e[r]=t.floor(o),e[i]=t.ceil(s),e}function sv(e){return Math.log(e)}function av(e){return Math.exp(e)}function lv(e){return-Math.log(-e)}function cv(e){return-Math.exp(-e)}function uv(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dv(e){return(t,n)=>-e(-t,n)}function hv(e){const t=e(sv,av),n=t.domain;let r,i,o=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?uv:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=dv(r),i=dv(i),e(lv,cv)):e(sv,av),t}return t.base=function(e){return arguments.length?(o=+e,s()):o},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],a=t[t.length-1];const l=a<s;l&&([s,a]=[a,s]);let c,u,d=r(s),h=r(a);const p=null==e?10:+e;let f=[];if(!(o%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1;c<o;++c)if(u=d<0?c/i(-d):c*i(d),!(u<s)){if(u>a)break;f.push(u)}}else for(;d<=h;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<s)){if(u>a)break;f.push(u)}2*f.length<p&&(f=le(s,a,p))}else f=le(d,h,Math.min(h-d,p)).map(i);return l?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=bu(n)).precision||(n.trim=!0),n=Au(n)),e===1/0)return n;const s=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=s?n(e):""}},t.nice=()=>n(ov(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function pv(){const e=hv(Qg()).domain([1,10]);return e.copy=()=>Xg(e,pv()).base(e.base()),Zg.apply(e,arguments),e}function fv(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mv(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yv(e){var t=1,n=e(fv(t),mv(t));return n.constant=function(n){return arguments.length?e(fv(t=+n),mv(t)):t},nv(n)}function gv(){var e=yv(Qg());return e.copy=function(){return Xg(e,gv()).constant(e.constant())},Zg.apply(e,arguments)}function vv(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function bv(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wv(e){return e<0?-e*e:e*e}function _v(e){var t=e(Wg,Wg),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Wg,Wg):.5===n?e(bv,wv):e(vv(n),vv(1/n)):n},nv(t)}function Sv(){var e=_v(Qg());return e.copy=function(){return Xg(e,Sv()).exponent(e.exponent())},Zg.apply(e,arguments),e}function xv(){return Sv.apply(null,arguments).exponent(.5)}function Mv(e){return Math.sign(e)*e*e}function Av(){var e,t=ev(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(Mv(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,qg)).map(Mv)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Av(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},Zg.apply(i,arguments),nv(i)}function Tv(){var e,t=[],n=[],i=[];function o(){var e=0,r=Math.max(1,n.length);for(i=new Array(r-1);++e<r;)i[e-1]=Se(t,e/r);return s}function s(t){return null==t||isNaN(t=+t)?e:n[h(i,t)]}return s.invertExtent=function(e){var r=n.indexOf(e);return r<0?[NaN,NaN]:[r>0?i[r-1]:t[0],r<i.length?i[r]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(r),o()},s.range=function(e){return arguments.length?(n=Array.from(e),o()):n.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return i.slice()},s.copy=function(){return Tv().domain(t).range(n).unknown(e)},Zg.apply(s,arguments)}function Iv(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function s(t){return null!=t&&t<=t?o[h(i,t,0,r)]:e}function a(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return s}return s.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,a()):[t,n]},s.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,a()):o.slice()},s.invertExtent=function(e){var s=o.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,i[0]]:s>=r?[i[r-1],n]:[i[s-1],i[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return Iv().domain([t,n]).range(o).unknown(e)},Zg.apply(nv(s),arguments)}function Cv(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[h(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Cv().domain(t).range(n).unknown(e)},Zg.apply(i,arguments)}const Ev=1e3,kv=6e4,Pv=36e5,Rv=864e5,Ov=6048e5,Nv=2592e6,Lv=31536e6,Dv=new Date,Fv=new Date;function jv(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;let a;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=n=>jv((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(Dv.setTime(+t),Fv.setTime(+r),e(Dv),e(Fv),Math.floor(n(Dv,Fv))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e==0:t=>i.count(0,t)%e==0):i:null)),i}const Zv=jv((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));Zv.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?jv((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):Zv:null);const Uv=Zv.range,zv=jv((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*Ev)}),((e,t)=>(t-e)/Ev),(e=>e.getUTCSeconds())),Vv=zv.range,Bv=jv((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ev)}),((e,t)=>{e.setTime(+e+t*kv)}),((e,t)=>(t-e)/kv),(e=>e.getMinutes())),$v=Bv.range,Gv=jv((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*kv)}),((e,t)=>(t-e)/kv),(e=>e.getUTCMinutes())),qv=Gv.range,Hv=jv((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ev-e.getMinutes()*kv)}),((e,t)=>{e.setTime(+e+t*Pv)}),((e,t)=>(t-e)/Pv),(e=>e.getHours())),Wv=Hv.range,Jv=jv((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*Pv)}),((e,t)=>(t-e)/Pv),(e=>e.getUTCHours())),Kv=Jv.range,Yv=jv((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kv)/Rv),(e=>e.getDate()-1)),Xv=Yv.range,Qv=jv((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Rv),(e=>e.getUTCDate()-1)),eb=Qv.range,tb=jv((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Rv),(e=>Math.floor(e/Rv))),nb=tb.range;function rb(e){return jv((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kv)/Ov))}const ib=rb(0),ob=rb(1),sb=rb(2),ab=rb(3),lb=rb(4),cb=rb(5),ub=rb(6),db=ib.range,hb=ob.range,pb=sb.range,fb=ab.range,mb=lb.range,yb=cb.range,gb=ub.range;function vb(e){return jv((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/Ov))}const bb=vb(0),wb=vb(1),_b=vb(2),Sb=vb(3),xb=vb(4),Mb=vb(5),Ab=vb(6),Tb=bb.range,Ib=wb.range,Cb=_b.range,Eb=Sb.range,kb=xb.range,Pb=Mb.range,Rb=Ab.range,Ob=jv((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth())),Nb=Ob.range,Lb=jv((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth())),Db=Lb.range,Fb=jv((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));Fb.every=e=>isFinite(e=Math.floor(e))&&e>0?jv((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;const jb=Fb.range,Zb=jv((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));Zb.every=e=>isFinite(e=Math.floor(e))&&e>0?jv((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;const Ub=Zb.range;function zb(e,t,n,r,i,s){const a=[[zv,1,Ev],[zv,5,5e3],[zv,15,15e3],[zv,30,3e4],[s,1,kv],[s,5,3e5],[s,15,9e5],[s,30,18e5],[i,1,Pv],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Rv],[r,2,1728e5],[n,1,Ov],[t,1,Nv],[t,3,7776e6],[e,1,Lv]];function l(t,n,r){const i=Math.abs(n-t)/r,s=o((([,,e])=>e)).right(a,i);if(s===a.length)return e.every(ue(t/Lv,n/Lv,r));if(0===s)return Zv.every(Math.max(ue(t,n,r),1));const[l,c]=a[i/a[s-1][2]<a[s][2]/i?s-1:s];return l.every(c)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:l(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},l]}const[Vb,Bb]=zb(Zb,Lb,bb,tb,Jv,Gv),[$b,Gb]=zb(Fb,Ob,ib,Yv,Hv,Bv);function qb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Hb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Wb(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Jb(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=aw(i),u=lw(i),d=aw(o),h=lw(o),p=aw(s),f=lw(s),m=aw(a),y=lw(a),g=aw(l),v=lw(l),b={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:Ew,e:Ew,f:Nw,g:Gw,G:Hw,H:kw,I:Pw,j:Rw,L:Ow,m:Lw,M:Dw,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:y_,s:g_,S:Fw,u:jw,U:Zw,V:zw,w:Vw,W:Bw,x:null,X:null,y:$w,Y:qw,Z:Ww,"%":m_},w={a:function(e){return s[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:Jw,e:Jw,f:e_,g:d_,G:p_,H:Kw,I:Yw,j:Xw,L:Qw,m:t_,M:n_,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:y_,s:g_,S:r_,u:i_,U:o_,V:a_,w:l_,W:c_,x:null,X:null,y:u_,Y:h_,Z:f_,"%":m_},_={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return M(e,t,n,r)},d:bw,e:bw,f:Aw,g:mw,G:fw,H:_w,I:_w,j:ww,L:Mw,m:vw,M:Sw,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:gw,Q:Iw,s:Cw,S:xw,u:uw,U:dw,V:hw,w:cw,W:pw,x:function(e,t,r){return M(e,n,t,r)},X:function(e,t,n){return M(e,r,t,n)},y:mw,Y:fw,Z:yw,"%":Tw};function S(e,t){return function(n){var r,i,o,s=[],a=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===e.charCodeAt(a)&&(s.push(e.slice(l,a)),null!=(i=tw[r=e.charAt(++a)])?r=e.charAt(++a):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),s.push(r),l=a+1);return s.push(e.slice(l,a)),s.join("")}}function x(e,t){return function(n){var r,i,o=Wb(1900,void 0,1);if(M(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Hb(Wb(o.y,0,1))).getUTCDay(),r=i>4||0===i?wb.ceil(r):wb(r),r=Qv.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=qb(Wb(o.y,0,1))).getDay(),r=i>4||0===i?ob.ceil(r):ob(r),r=Yv.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Hb(Wb(o.y,0,1)).getUTCDay():qb(Wb(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Hb(o)):qb(o)}}function M(e,t,n,r){for(var i,o,s=0,a=t.length,l=n.length;s<a;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(o=_[i in tw?t.charAt(s++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e+="",!0);return t.toString=function(){return e},t}}}var Kb,Yb,Xb,Qb,ew,tw={"-":"",_:" ",0:"0"},nw=/^\s*\d+/,rw=/^%/,iw=/[\\^$*+?|[\]().{}]/g;function ow(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function sw(e){return e.replace(iw,"\\$&")}function aw(e){return new RegExp("^(?:"+e.map(sw).join("|")+")","i")}function lw(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function cw(e,t,n){var r=nw.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function uw(e,t,n){var r=nw.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dw(e,t,n){var r=nw.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function hw(e,t,n){var r=nw.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function pw(e,t,n){var r=nw.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function fw(e,t,n){var r=nw.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function mw(e,t,n){var r=nw.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yw(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gw(e,t,n){var r=nw.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function vw(e,t,n){var r=nw.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function bw(e,t,n){var r=nw.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ww(e,t,n){var r=nw.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function _w(e,t,n){var r=nw.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Sw(e,t,n){var r=nw.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function xw(e,t,n){var r=nw.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Mw(e,t,n){var r=nw.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Aw(e,t,n){var r=nw.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Tw(e,t,n){var r=rw.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Iw(e,t,n){var r=nw.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Cw(e,t,n){var r=nw.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ew(e,t){return ow(e.getDate(),t,2)}function kw(e,t){return ow(e.getHours(),t,2)}function Pw(e,t){return ow(e.getHours()%12||12,t,2)}function Rw(e,t){return ow(1+Yv.count(Fb(e),e),t,3)}function Ow(e,t){return ow(e.getMilliseconds(),t,3)}function Nw(e,t){return Ow(e,t)+"000"}function Lw(e,t){return ow(e.getMonth()+1,t,2)}function Dw(e,t){return ow(e.getMinutes(),t,2)}function Fw(e,t){return ow(e.getSeconds(),t,2)}function jw(e){var t=e.getDay();return 0===t?7:t}function Zw(e,t){return ow(ib.count(Fb(e)-1,e),t,2)}function Uw(e){var t=e.getDay();return t>=4||0===t?lb(e):lb.ceil(e)}function zw(e,t){return e=Uw(e),ow(lb.count(Fb(e),e)+(4===Fb(e).getDay()),t,2)}function Vw(e){return e.getDay()}function Bw(e,t){return ow(ob.count(Fb(e)-1,e),t,2)}function $w(e,t){return ow(e.getFullYear()%100,t,2)}function Gw(e,t){return ow((e=Uw(e)).getFullYear()%100,t,2)}function qw(e,t){return ow(e.getFullYear()%1e4,t,4)}function Hw(e,t){var n=e.getDay();return ow((e=n>=4||0===n?lb(e):lb.ceil(e)).getFullYear()%1e4,t,4)}function Ww(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ow(t/60|0,"0",2)+ow(t%60,"0",2)}function Jw(e,t){return ow(e.getUTCDate(),t,2)}function Kw(e,t){return ow(e.getUTCHours(),t,2)}function Yw(e,t){return ow(e.getUTCHours()%12||12,t,2)}function Xw(e,t){return ow(1+Qv.count(Zb(e),e),t,3)}function Qw(e,t){return ow(e.getUTCMilliseconds(),t,3)}function e_(e,t){return Qw(e,t)+"000"}function t_(e,t){return ow(e.getUTCMonth()+1,t,2)}function n_(e,t){return ow(e.getUTCMinutes(),t,2)}function r_(e,t){return ow(e.getUTCSeconds(),t,2)}function i_(e){var t=e.getUTCDay();return 0===t?7:t}function o_(e,t){return ow(bb.count(Zb(e)-1,e),t,2)}function s_(e){var t=e.getUTCDay();return t>=4||0===t?xb(e):xb.ceil(e)}function a_(e,t){return e=s_(e),ow(xb.count(Zb(e),e)+(4===Zb(e).getUTCDay()),t,2)}function l_(e){return e.getUTCDay()}function c_(e,t){return ow(wb.count(Zb(e)-1,e),t,2)}function u_(e,t){return ow(e.getUTCFullYear()%100,t,2)}function d_(e,t){return ow((e=s_(e)).getUTCFullYear()%100,t,2)}function h_(e,t){return ow(e.getUTCFullYear()%1e4,t,4)}function p_(e,t){var n=e.getUTCDay();return ow((e=n>=4||0===n?xb(e):xb.ceil(e)).getUTCFullYear()%1e4,t,4)}function f_(){return"+0000"}function m_(){return"%"}function y_(e){return+e}function g_(e){return Math.floor(+e/1e3)}function v_(e){return Kb=Jb(e),Yb=Kb.format,Xb=Kb.parse,Qb=Kb.utcFormat,ew=Kb.utcParse,Kb}function b_(e){return new Date(e)}function w_(e){return e instanceof Date?+e:+new Date(+e)}function __(e,t,n,r,i,o,s,a,l,c){var u=ev(),d=u.invert,h=u.domain,p=c(".%L"),f=c(":%S"),m=c("%I:%M"),y=c("%I %p"),g=c("%a %d"),v=c("%b %d"),b=c("%B"),w=c("%Y");function _(e){return(l(e)<e?p:a(e)<e?f:s(e)<e?m:o(e)<e?y:r(e)<e?i(e)<e?g:v:n(e)<e?b:w)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,w_)):h().map(b_)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?_:c(t)},u.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(ov(n,e)):u},u.copy=function(){return Xg(u,__(e,t,n,r,i,o,s,a,l,c))},u}function S_(){return Zg.apply(__($b,Gb,Fb,Ob,ib,Yv,Hv,Bv,zv,Yb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function x_(){return Zg.apply(__(Vb,Bb,Zb,Lb,bb,Qv,Jv,Gv,zv,Qb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function M_(){var e,t,n,r,i,o=0,s=1,a=Wg,l=!1;function c(t){return null==t||isNaN(t=+t)?i:a(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,a=e(n,r),c):[a(0),a(1)]}}return c.domain=function(i){return arguments.length?([o,s]=i,e=r(o=+o),t=r(s=+s),n=e===t?0:1/(t-e),c):[o,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(a=e,c):a},c.range=u(Xr),c.rangeRound=u(Wy),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(s),n=e===t?0:1/(t-e),c}}function A_(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function T_(){var e=nv(M_()(Wg));return e.copy=function(){return A_(e,T_())},Ug.apply(e,arguments)}function I_(){var e=hv(M_()).domain([1,10]);return e.copy=function(){return A_(e,I_()).base(e.base())},Ug.apply(e,arguments)}function C_(){var e=yv(M_());return e.copy=function(){return A_(e,C_()).constant(e.constant())},Ug.apply(e,arguments)}function E_(){var e=_v(M_());return e.copy=function(){return A_(e,E_()).exponent(e.exponent())},Ug.apply(e,arguments)}function k_(){return E_.apply(null,arguments).exponent(.5)}function P_(){var e=[],t=Wg;function n(n){if(null!=n&&!isNaN(n=+n))return t((h(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(r),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>_e(e,r/t)))},n.copy=function(){return P_(t).domain(e)},Ug.apply(n,arguments)}function R_(){var e,t,n,r,i,o,s,a=0,l=.5,c=1,u=1,d=Wg,h=!1;function p(e){return isNaN(e=+e)?s:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=ag(e,[n,r,i]),p):[d(0),d(.5),d(1)]}}return p.domain=function(s){return arguments.length?([a,l,c]=s,e=o(a=+a),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p):[a,l,c]},p.clamp=function(e){return arguments.length?(h=!!e,p):h},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=f(Xr),p.rangeRound=f(Wy),p.unknown=function(e){return arguments.length?(s=e,p):s},function(s){return o=s,e=s(a),t=s(l),n=s(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p}}function O_(){var e=nv(R_()(Wg));return e.copy=function(){return A_(e,O_())},Ug.apply(e,arguments)}function N_(){var e=hv(R_()).domain([.1,1,10]);return e.copy=function(){return A_(e,N_()).base(e.base())},Ug.apply(e,arguments)}function L_(){var e=yv(R_());return e.copy=function(){return A_(e,L_()).constant(e.constant())},Ug.apply(e,arguments)}function D_(){var e=_v(R_());return e.copy=function(){return A_(e,D_()).exponent(e.exponent())},Ug.apply(e,arguments)}function F_(){return D_.apply(null,arguments).exponent(.5)}function j_(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}v_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Z_=j_("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),U_=j_("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),z_=j_("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),V_=j_("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),B_=j_("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),$_=j_("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),G_=j_("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),q_=j_("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),H_=j_("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),W_=j_("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),J_=j_("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),K_=e=>Ur(e[e.length-1]),Y_=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(j_),X_=K_(Y_),Q_=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(j_),eS=K_(Q_),tS=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(j_),nS=K_(tS),rS=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(j_),iS=K_(rS),oS=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(j_),sS=K_(oS),aS=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(j_),lS=K_(aS),cS=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(j_),uS=K_(cS),dS=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(j_),hS=K_(dS),pS=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(j_),fS=K_(pS),mS=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(j_),yS=K_(mS),gS=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(j_),vS=K_(gS),bS=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(j_),wS=K_(bS),_S=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(j_),SS=K_(_S),xS=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(j_),MS=K_(xS),AS=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(j_),TS=K_(AS),IS=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(j_),CS=K_(IS),ES=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(j_),kS=K_(ES),PS=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(j_),RS=K_(PS),OS=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(j_),NS=K_(OS),LS=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(j_),DS=K_(LS),FS=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(j_),jS=K_(FS),ZS=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(j_),US=K_(ZS),zS=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(j_),VS=K_(zS),BS=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(j_),$S=K_(BS),GS=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(j_),qS=K_(GS),HS=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(j_),WS=K_(HS),JS=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(j_),KS=K_(JS);function YS(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}var XS=sg(ia(300,.5,0),ia(-240,.5,1)),QS=sg(ia(-100,.75,.35),ia(80,1.5,.8)),ex=sg(ia(260,.75,.35),ia(80,1.5,.8)),tx=ia();function nx(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return tx.h=360*e-100,tx.s=1.5-1.5*t,tx.l=.8-.9*t,tx+""}var rx=yr(),ix=Math.PI/3,ox=2*Math.PI/3;function sx(e){var t;return e=(.5-e)*Math.PI,rx.r=255*(t=Math.sin(e))*t,rx.g=255*(t=Math.sin(e+ix))*t,rx.b=255*(t=Math.sin(e+ox))*t,rx+""}function ax(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function lx(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var cx=lx(j_("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),ux=lx(j_("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),dx=lx(j_("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),hx=lx(j_("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function px(e){return zn(In(e).call(document.documentElement))}var fx=0;function mx(){return new yx}function yx(){this._="@"+(++fx).toString(36)}function gx(e,t){return e.target&&(e=Qr(e),void 0===t&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,(e=>ei(e,t)))}function vx(e){return"string"==typeof e?new jn([document.querySelectorAll(e)],[document.documentElement]):new jn([Et(e)],Fn)}function bx(e){return function(){return e}}yx.prototype=mx.prototype={constructor:yx,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};const wx=Math.abs,_x=Math.atan2,Sx=Math.cos,xx=Math.max,Mx=Math.min,Ax=Math.sin,Tx=Math.sqrt,Ix=1e-12,Cx=Math.PI,Ex=Cx/2,kx=2*Cx;function Px(e){return e>=1?Ex:e<=-1?-Ex:Math.asin(e)}function Rx(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new ps(t)}function Ox(e){return e.innerRadius}function Nx(e){return e.outerRadius}function Lx(e){return e.startAngle}function Dx(e){return e.endAngle}function Fx(e){return e&&e.padAngle}function jx(e,t,n,r,i,o,s){var a=e-n,l=t-r,c=(s?o:-o)/Tx(a*a+l*l),u=c*l,d=-c*a,h=e+u,p=t+d,f=n+u,m=r+d,y=(h+f)/2,g=(p+m)/2,v=f-h,b=m-p,w=v*v+b*b,_=i-o,S=h*m-f*p,x=(b<0?-1:1)*Tx(xx(0,_*_*w-S*S)),M=(S*b-v*x)/w,A=(-S*v-b*x)/w,T=(S*b+v*x)/w,I=(-S*v+b*x)/w,C=M-y,E=A-g,k=T-y,P=I-g;return C*C+E*E>k*k+P*P&&(M=T,A=I),{cx:M,cy:A,x01:-u,y01:-d,x11:M*(i/_-1),y11:A*(i/_-1)}}function Zx(){var e=Ox,t=Nx,n=bx(0),r=null,i=Lx,o=Dx,s=Fx,a=null,l=Rx(c);function c(){var c,u,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-Ex,f=o.apply(this,arguments)-Ex,m=wx(f-p),y=f>p;if(a||(a=c=l()),h<d&&(u=h,h=d,d=u),h>Ix)if(m>kx-Ix)a.moveTo(h*Sx(p),h*Ax(p)),a.arc(0,0,h,p,f,!y),d>Ix&&(a.moveTo(d*Sx(f),d*Ax(f)),a.arc(0,0,d,f,p,y));else{var g,v,b=p,w=f,_=p,S=f,x=m,M=m,A=s.apply(this,arguments)/2,T=A>Ix&&(r?+r.apply(this,arguments):Tx(d*d+h*h)),I=Mx(wx(h-d)/2,+n.apply(this,arguments)),C=I,E=I;if(T>Ix){var k=Px(T/d*Ax(A)),P=Px(T/h*Ax(A));(x-=2*k)>Ix?(_+=k*=y?1:-1,S-=k):(x=0,_=S=(p+f)/2),(M-=2*P)>Ix?(b+=P*=y?1:-1,w-=P):(M=0,b=w=(p+f)/2)}var R=h*Sx(b),O=h*Ax(b),N=d*Sx(S),L=d*Ax(S);if(I>Ix){var D,F=h*Sx(w),j=h*Ax(w),Z=d*Sx(_),U=d*Ax(_);if(m<Cx)if(D=function(e,t,n,r,i,o,s,a){var l=n-e,c=r-t,u=s-i,d=a-o,h=d*l-u*c;if(!(h*h<Ix))return[e+(h=(u*(t-o)-d*(e-i))/h)*l,t+h*c]}(R,O,Z,U,F,j,N,L)){var z=R-D[0],V=O-D[1],B=F-D[0],$=j-D[1],G=1/Ax(function(e){return e>1?0:e<-1?Cx:Math.acos(e)}((z*B+V*$)/(Tx(z*z+V*V)*Tx(B*B+$*$)))/2),q=Tx(D[0]*D[0]+D[1]*D[1]);C=Mx(I,(d-q)/(G-1)),E=Mx(I,(h-q)/(G+1))}else C=E=0}M>Ix?E>Ix?(g=jx(Z,U,R,O,h,E,y),v=jx(F,j,N,L,h,E,y),a.moveTo(g.cx+g.x01,g.cy+g.y01),E<I?a.arc(g.cx,g.cy,E,_x(g.y01,g.x01),_x(v.y01,v.x01),!y):(a.arc(g.cx,g.cy,E,_x(g.y01,g.x01),_x(g.y11,g.x11),!y),a.arc(0,0,h,_x(g.cy+g.y11,g.cx+g.x11),_x(v.cy+v.y11,v.cx+v.x11),!y),a.arc(v.cx,v.cy,E,_x(v.y11,v.x11),_x(v.y01,v.x01),!y))):(a.moveTo(R,O),a.arc(0,0,h,b,w,!y)):a.moveTo(R,O),d>Ix&&x>Ix?C>Ix?(g=jx(N,L,F,j,d,-C,y),v=jx(R,O,Z,U,d,-C,y),a.lineTo(g.cx+g.x01,g.cy+g.y01),C<I?a.arc(g.cx,g.cy,C,_x(g.y01,g.x01),_x(v.y01,v.x01),!y):(a.arc(g.cx,g.cy,C,_x(g.y01,g.x01),_x(g.y11,g.x11),!y),a.arc(0,0,d,_x(g.cy+g.y11,g.cx+g.x11),_x(v.cy+v.y11,v.cx+v.x11),y),a.arc(v.cx,v.cy,C,_x(v.y11,v.x11),_x(v.y01,v.x01),!y))):a.arc(0,0,d,S,_,y):a.lineTo(N,L)}else a.moveTo(0,0);if(a.closePath(),c)return a=null,c+""||null}return c.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Cx/2;return[Sx(r)*n,Ax(r)*n]},c.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:bx(+t),c):e},c.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:bx(+e),c):t},c.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:bx(+e),c):n},c.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:bx(+e),c):r},c.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:bx(+e),c):i},c.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:bx(+e),c):o},c.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:bx(+e),c):s},c.context=function(e){return arguments.length?(a=null==e?null:e,c):a},c}var Ux=Array.prototype.slice;function zx(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Vx(e){this._context=e}function Bx(e){return new Vx(e)}function $x(e){return e[0]}function Gx(e){return e[1]}function qx(e,t){var n=bx(!0),r=null,i=Bx,o=null,s=Rx(a);function a(a){var l,c,u,d=(a=zx(a)).length,h=!1;for(null==r&&(o=i(u=s())),l=0;l<=d;++l)!(l<d&&n(c=a[l],l,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,l,a),+t(c,l,a));if(u)return o=null,u+""||null}return e="function"==typeof e?e:void 0===e?$x:bx(e),t="function"==typeof t?t:void 0===t?Gx:bx(t),a.x=function(t){return arguments.length?(e="function"==typeof t?t:bx(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:bx(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:bx(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a}function Hx(e,t,n){var r=null,i=bx(!0),o=null,s=Bx,a=null,l=Rx(c);function c(c){var u,d,h,p,f,m=(c=zx(c)).length,y=!1,g=new Array(m),v=new Array(m);for(null==o&&(a=s(f=l())),u=0;u<=m;++u){if(!(u<m&&i(p=c[u],u,c))===y)if(y=!y)d=u,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=u-1;h>=d;--h)a.point(g[h],v[h]);a.lineEnd(),a.areaEnd()}y&&(g[u]=+e(p,u,c),v[u]=+t(p,u,c),a.point(r?+r(p,u,c):g[u],n?+n(p,u,c):v[u]))}if(f)return a=null,f+""||null}function u(){return qx().defined(i).curve(s).context(o)}return e="function"==typeof e?e:void 0===e?$x:bx(+e),t="function"==typeof t?t:bx(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Gx:bx(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:bx(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:bx(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:bx(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:bx(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:bx(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:bx(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:bx(!!e),c):i},c.curve=function(e){return arguments.length?(s=e,null!=o&&(a=s(o)),c):s},c.context=function(e){return arguments.length?(null==e?o=a=null:a=s(o=e),c):o},c}function Wx(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Jx(e){return e}function Kx(){var e=Jx,t=Wx,n=null,r=bx(0),i=bx(kx),o=bx(0);function s(s){var a,l,c,u,d,h=(s=zx(s)).length,p=0,f=new Array(h),m=new Array(h),y=+r.apply(this,arguments),g=Math.min(kx,Math.max(-kx,i.apply(this,arguments)-y)),v=Math.min(Math.abs(g)/h,o.apply(this,arguments)),b=v*(g<0?-1:1);for(a=0;a<h;++a)(d=m[f[a]=a]=+e(s[a],a,s))>0&&(p+=d);for(null!=t?f.sort((function(e,n){return t(m[e],m[n])})):null!=n&&f.sort((function(e,t){return n(s[e],s[t])})),a=0,c=p?(g-h*b)/p:0;a<h;++a,y=u)l=f[a],u=y+((d=m[l])>0?d*c:0)+b,m[l]={data:s[l],index:a,value:d,startAngle:y,endAngle:u,padAngle:v};return m}return s.value=function(t){return arguments.length?(e="function"==typeof t?t:bx(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,n=null,s):t},s.sort=function(e){return arguments.length?(n=e,t=null,s):n},s.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:bx(+e),s):r},s.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:bx(+e),s):i},s.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:bx(+e),s):o},s}Vx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Yx=Qx(Bx);function Xx(e){this._curve=e}function Qx(e){function t(t){return new Xx(e(t))}return t._curve=e,t}function eM(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(Qx(e)):t()._curve},e}function tM(){return eM(qx().curve(Yx))}function nM(){var e=Hx().curve(Yx),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return eM(n())},delete e.lineX0,e.lineEndAngle=function(){return eM(r())},delete e.lineX1,e.lineInnerRadius=function(){return eM(i())},delete e.lineY0,e.lineOuterRadius=function(){return eM(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(Qx(e)):t()._curve},e}function rM(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}Xx.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};class iM{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}class oM{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,t){if(e=+e,t=+t,0===this._point)this._point=1;else{const n=rM(this._x0,this._y0),r=rM(this._x0,this._y0=(this._y0+t)/2),i=rM(e,this._y0),o=rM(e,t);this._context.moveTo(...n),this._context.bezierCurveTo(...r,...i,...o)}this._x0=e,this._y0=t}}function sM(e){return new iM(e,!0)}function aM(e){return new iM(e,!1)}function lM(e){return new oM(e)}function cM(e){return e.source}function uM(e){return e.target}function dM(e){let t=cM,n=uM,r=$x,i=Gx,o=null,s=null,a=Rx(l);function l(){let l;const c=Ux.call(arguments),u=t.apply(this,c),d=n.apply(this,c);if(null==o&&(s=e(l=a())),s.lineStart(),c[0]=u,s.point(+r.apply(this,c),+i.apply(this,c)),c[0]=d,s.point(+r.apply(this,c),+i.apply(this,c)),s.lineEnd(),l)return s=null,l+""||null}return l.source=function(e){return arguments.length?(t=e,l):t},l.target=function(e){return arguments.length?(n=e,l):n},l.x=function(e){return arguments.length?(r="function"==typeof e?e:bx(+e),l):r},l.y=function(e){return arguments.length?(i="function"==typeof e?e:bx(+e),l):i},l.context=function(t){return arguments.length?(null==t?o=s=null:s=e(o=t),l):o},l}function hM(){return dM(sM)}function pM(){return dM(aM)}function fM(){const e=dM(lM);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const mM=Tx(3);var yM={draw(e,t){const n=.59436*Tx(t+Mx(t/28,.75)),r=n/2,i=r*mM;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},gM={draw(e,t){const n=Tx(t/Cx);e.moveTo(n,0),e.arc(0,0,n,0,kx)}},vM={draw(e,t){const n=Tx(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}};const bM=Tx(1/3),wM=2*bM;var _M={draw(e,t){const n=Tx(t/wM),r=n*bM;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},SM={draw(e,t){const n=.62625*Tx(t);e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},xM={draw(e,t){const n=.87559*Tx(t-Mx(t/7,2));e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},MM={draw(e,t){const n=Tx(t),r=-n/2;e.rect(r,r,n,n)}},AM={draw(e,t){const n=.4431*Tx(t);e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}};const TM=Ax(Cx/10)/Ax(7*Cx/10),IM=Ax(kx/10)*TM,CM=-Sx(kx/10)*TM;var EM={draw(e,t){const n=Tx(.8908130915292852*t),r=IM*n,i=CM*n;e.moveTo(0,-n),e.lineTo(r,i);for(let t=1;t<5;++t){const o=kx*t/5,s=Sx(o),a=Ax(o);e.lineTo(a*n,-s*n),e.lineTo(s*r-a*i,a*r+s*i)}e.closePath()}};const kM=Tx(3);var PM={draw(e,t){const n=-Tx(t/(3*kM));e.moveTo(0,2*n),e.lineTo(-kM*n,-n),e.lineTo(kM*n,-n),e.closePath()}};const RM=Tx(3);var OM={draw(e,t){const n=.6824*Tx(t),r=n/2,i=n*RM/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}};const NM=-.5,LM=Tx(3)/2,DM=1/Tx(12),FM=3*(DM/2+1);var jM={draw(e,t){const n=Tx(t/FM),r=n/2,i=n*DM,o=r,s=n*DM+n,a=-o,l=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,l),e.lineTo(NM*r-LM*i,LM*r+NM*i),e.lineTo(NM*o-LM*s,LM*o+NM*s),e.lineTo(NM*a-LM*l,LM*a+NM*l),e.lineTo(NM*r+LM*i,NM*i-LM*r),e.lineTo(NM*o+LM*s,NM*s-LM*o),e.lineTo(NM*a+LM*l,NM*l-LM*a),e.closePath()}},ZM={draw(e,t){const n=.6189*Tx(t-Mx(t/6,1.7));e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}};const UM=[gM,vM,_M,MM,EM,PM,jM],zM=[gM,xM,ZM,OM,yM,AM,SM];function VM(e,t){let n=null,r=Rx(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:bx(e||gM),t="function"==typeof t?t:bx(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:bx(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:bx(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}function BM(){}function $M(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function GM(e){this._context=e}function qM(e){return new GM(e)}function HM(e){this._context=e}function WM(e){return new HM(e)}function JM(e){this._context=e}function KM(e){return new JM(e)}function YM(e,t){this._basis=new GM(e),this._beta=t}GM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$M(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$M(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},HM.prototype={areaStart:BM,areaEnd:BM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$M(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},JM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$M(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},YM.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],s=e[n]-i,a=t[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*s),this._beta*t[l]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var XM=function e(t){function n(e){return 1===t?new GM(e):new YM(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function QM(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function eA(e,t){this._context=e,this._k=(1-t)/6}eA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:QM(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:QM(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var tA=function e(t){function n(e){return new eA(e,t)}return n.tension=function(t){return e(+t)},n}(0);function nA(e,t){this._context=e,this._k=(1-t)/6}nA.prototype={areaStart:BM,areaEnd:BM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:QM(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var rA=function e(t){function n(e){return new nA(e,t)}return n.tension=function(t){return e(+t)},n}(0);function iA(e,t){this._context=e,this._k=(1-t)/6}iA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:QM(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var oA=function e(t){function n(e){return new iA(e,t)}return n.tension=function(t){return e(+t)},n}(0);function sA(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>Ix){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Ix){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function aA(e,t){this._context=e,this._alpha=t}aA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:sA(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var lA=function e(t){function n(e){return t?new aA(e,t):new eA(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function cA(e,t){this._context=e,this._alpha=t}cA.prototype={areaStart:BM,areaEnd:BM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:sA(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var uA=function e(t){function n(e){return t?new cA(e,t):new nA(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function dA(e,t){this._context=e,this._alpha=t}dA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:sA(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var hA=function e(t){function n(e){return t?new dA(e,t):new iA(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function pA(e){this._context=e}function fA(e){return new pA(e)}function mA(e){return e<0?-1:1}function yA(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(mA(o)+mA(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function gA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function vA(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function bA(e){this._context=e}function wA(e){this._context=new _A(e)}function _A(e){this._context=e}function SA(e){return new bA(e)}function xA(e){return new wA(e)}function MA(e){this._context=e}function AA(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function TA(e){return new MA(e)}function IA(e,t){this._context=e,this._t=t}function CA(e){return new IA(e,.5)}function EA(e){return new IA(e,0)}function kA(e){return new IA(e,1)}function PA(e,t){if((i=e.length)>1)for(var n,r,i,o=1,s=e[t[0]],a=s.length;o<i;++o)for(r=s,s=e[t[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function RA(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function OA(e,t){return e[t]}function NA(e){const t=[];return t.key=e,t}function LA(){var e=bx([]),t=RA,n=PA,r=OA;function i(i){var o,s,a=Array.from(e.apply(this,arguments),NA),l=a.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(e,a[o].key,c,i)]).data=e;for(o=0,s=zx(t(a));o<l;++o)a[s[o]].index=o;return n(a,s),a}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:bx(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:bx(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?RA:"function"==typeof e?e:bx(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?PA:e,i):n},i}function DA(e,t){if((r=e.length)>0){for(var n,r,i,o=0,s=e[0].length;o<s;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}PA(e,t)}}function FA(e,t){if((a=e.length)>0)for(var n,r,i,o,s,a,l=0,c=e[t[0]].length;l<c;++l)for(o=s=0,n=0;n<a;++n)(i=(r=e[t[n]][l])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=s,r[0]=s+=i):(r[0]=0,r[1]=i)}function jA(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var s=0,a=0;s<n;++s)a+=e[s][r][1]||0;i[r][1]+=i[r][0]=-a/2}PA(e,t)}}function ZA(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,s=1;s<r;++s){for(var a=0,l=0,c=0;a<i;++a){for(var u=e[t[a]],d=u[s][1]||0,h=(d-(u[s-1][1]||0))/2,p=0;p<a;++p){var f=e[t[p]];h+=(f[s][1]||0)-(f[s-1][1]||0)}l+=d,c+=h*d}n[s-1][1]+=n[s-1][0]=o,l&&(o-=c/l)}n[s-1][1]+=n[s-1][0]=o,PA(e,t)}}function UA(e){var t=e.map(zA);return RA(e).sort((function(e,n){return t[e]-t[n]}))}function zA(e){for(var t,n=-1,r=0,i=e.length,o=-1/0;++n<i;)(t=+e[n][1])>o&&(o=t,r=n);return r}function VA(e){var t=e.map(BA);return RA(e).sort((function(e,n){return t[e]-t[n]}))}function BA(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}function $A(e){return VA(e).reverse()}function GA(e){var t,n,r=e.length,i=e.map(BA),o=UA(e),s=0,a=0,l=[],c=[];for(t=0;t<r;++t)n=o[t],s<a?(s+=i[n],l.push(n)):(a+=i[n],c.push(n));return c.reverse().concat(l)}function qA(e){return RA(e).reverse()}pA.prototype={areaStart:BM,areaEnd:BM,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},bA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vA(this,this._t0,gA(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,vA(this,gA(this,n=yA(this,e,t)),n);break;default:vA(this,this._t0,n=yA(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(wA.prototype=Object.create(bA.prototype)).point=function(e,t){bA.prototype.point.call(this,t,e)},_A.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},MA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=AA(e),i=AA(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},IA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var HA="%Y-%m-%dT%H:%M:%S.%LZ";var WA=Date.prototype.toISOString?function(e){return e.toISOString()}:Qb(HA),JA=WA;var KA=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:ew(HA),YA=KA;function XA(e,t,n){var r=new fi,i=t;return null==t?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(e,t,n){t=+t,n=null==n?hi():+n,r._restart((function o(s){s+=i,r._restart(o,i+=t,n),e(s)}),t,n)},r.restart(e,t,n),r)}var QA=e=>()=>e;function eT(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function tT(e,t,n){this.k=e,this.x=t,this.y=n}tT.prototype={constructor:tT,scale:function(e){return 1===e?this:new tT(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new tT(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var nT=new tT(1,0,0);function rT(e){for(;!e.__zoom;)if(!(e=e.parentNode))return nT;return e.__zoom}function iT(e){e.stopImmediatePropagation()}function oT(e){e.preventDefault(),e.stopImmediatePropagation()}function sT(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function aT(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function lT(){return this.__zoom||nT}function cT(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function uT(){return navigator.maxTouchPoints||"ontouchstart"in this}function dT(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function hT(){var e,t,n,r=sT,i=aT,o=dT,s=cT,a=uT,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Ky,h=Tt("start","zoom","end"),p=500,f=150,m=0,y=10;function g(e){e.property("__zoom",lT).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",T).filter(a).on("touchstart.zoom",I).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new tT(t,e.x,e.y)}function b(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new tT(e.k,r,i)}function w(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function _(e,t,n,r){e.on("start.zoom",(function(){S(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){S(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,o=arguments,s=S(e,o).event(r),a=i.apply(e,o),l=null==n?w(a):"function"==typeof n?n.apply(e,o):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=e.__zoom,h="function"==typeof t?t.apply(e,o):t,p=d(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=p(e),n=c/t[2];e=new tT(n,l[0]-t[0]*n,l[1]-t[1]*n)}s.zoom(null,e)}}))}function S(e,t,n){return!n&&e.__zooming||new x(e,t)}function x(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function M(e,...t){if(r.apply(this,arguments)){var n=S(this,t).event(e),i=this.__zoom,a=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,s.apply(this,arguments)))),u=ei(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===a)return;n.mouse=[u,i.invert(u)],Ni(this),n.start()}oT(e),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),f),n.zoom("mouse",o(b(v(i,a),n.mouse[0],n.mouse[1]),n.extent,c))}}function A(e,...t){if(!n&&r.apply(this,arguments)){var i=e.currentTarget,s=S(this,t,!0).event(e),a=zn(e.view).on("mousemove.zoom",(function(e){if(oT(e),!s.moved){var t=e.clientX-u,n=e.clientY-d;s.moved=t*t+n*n>m}s.event(e).zoom("mouse",o(b(s.that.__zoom,s.mouse[0]=ei(e,i),s.mouse[1]),s.extent,c))}),!0).on("mouseup.zoom",(function(e){a.on("mousemove.zoom mouseup.zoom",null),Hn(e.view,s.moved),oT(e),s.event(e).end()}),!0),l=ei(e,i),u=e.clientX,d=e.clientY;qn(e.view),iT(e),s.mouse=[l,this.__zoom.invert(l)],Ni(this),s.start()}}function T(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,s=ei(e.changedTouches?e.changedTouches[0]:e,this),a=n.invert(s),l=n.k*(e.shiftKey?.5:2),d=o(b(v(n,l),s,a),i.apply(this,t),c);oT(e),u>0?zn(this).transition().duration(u).call(_,d,s,e):zn(this).call(g.transform,d,s,e)}}function I(n,...i){if(r.apply(this,arguments)){var o,s,a,l,c=n.touches,u=c.length,d=S(this,i,n.changedTouches.length===u).event(n);for(iT(n),s=0;s<u;++s)l=[l=ei(a=c[s],this),this.__zoom.invert(l),a.identifier],d.touch0?d.touch1||d.touch0[2]===l[2]||(d.touch1=l,d.taps=0):(d.touch0=l,o=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),o&&(d.taps<2&&(t=l[0],e=setTimeout((function(){e=null}),p)),Ni(this),d.start())}}function C(e,...t){if(this.__zooming){var n,r,i,s,a=S(this,t).event(e),l=e.changedTouches,u=l.length;for(oT(e),n=0;n<u;++n)i=ei(r=l[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var d=a.touch0[0],h=a.touch0[1],p=a.touch1[0],f=a.touch1[1],m=(m=p[0]-d[0])*m+(m=p[1]-d[1])*m,y=(y=f[0]-h[0])*y+(y=f[1]-h[1])*y;r=v(r,Math.sqrt(m/y)),i=[(d[0]+p[0])/2,(d[1]+p[1])/2],s=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],s=a.touch0[1]}a.zoom("touch",o(b(r,i,s),a.extent,c))}}function E(e,...r){if(this.__zooming){var i,o,s=S(this,r).event(e),a=e.changedTouches,l=a.length;for(iT(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),i=0;i<l;++i)o=a[i],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=ei(o,this),Math.hypot(t[0]-o[0],t[1]-o[1])<y)){var c=zn(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return g.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",lT),e!==i?_(e,t,n,r):i.interrupt().each((function(){S(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},g.scaleBy=function(e,t,n,r){g.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,r)},g.scaleTo=function(e,t,n,r){g.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,s=null==n?w(e):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(s),l="function"==typeof t?t.apply(this,arguments):t;return o(b(v(r,l),s,a),e,c)}),n,r)},g.translateBy=function(e,t,n,r){g.transform(e,(function(){return o(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},g.translateTo=function(e,t,n,r,s){g.transform(e,(function(){var e=i.apply(this,arguments),s=this.__zoom,a=null==r?w(e):"function"==typeof r?r.apply(this,arguments):r;return o(nT.translate(a[0],a[1]).scale(s.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)}),r,s)},x.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=zn(this.that).datum();h.call(e,this.that,new eT(e,{sourceEvent:this.sourceEvent,target:g,type:e,transform:this.that.__zoom,dispatch:h}),t)}},g.wheelDelta=function(e){return arguments.length?(s="function"==typeof e?e:QA(+e),g):s},g.filter=function(e){return arguments.length?(r="function"==typeof e?e:QA(!!e),g):r},g.touchable=function(e){return arguments.length?(a="function"==typeof e?e:QA(!!e),g):a},g.extent=function(e){return arguments.length?(i="function"==typeof e?e:QA([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),g):i},g.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],g):[l[0],l[1]]},g.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],g):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},g.constrain=function(e){return arguments.length?(o=e,g):o},g.duration=function(e){return arguments.length?(u=+e,g):u},g.interpolate=function(e){return arguments.length?(d=e,g):d},g.on=function(){var e=h.on.apply(h,arguments);return e===h?g:e},g.clickDistance=function(e){return arguments.length?(m=(e=+e)*e,g):Math.sqrt(m)},g.tapDistance=function(e){return arguments.length?(y=+e,g):y},g}rT.prototype=tT.prototype},9720:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()},e.exports=t.default},9784:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);if(isNaN(t))return t;return t<0?Math.ceil(t):Math.floor(t)},e.exports=t.default},9856:function(e,t,n){"use strict";n.d(t,{$E:function(){return s},py:function(){return o},qG:function(){return a}});const r=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,i={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function o(e){const t=e?.match(r);if(!t)return null;const[,n,o,s]=t;if(!n)return null;let a=null,l=null,c=null;const{devext:u,qaext:d,www:h}=i;if(o)if(a=n,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:l,portalHostname:c}=u);break;case"qa":({customBaseUrl:l,portalHostname:c}=d);break;default:return null}else({customBaseUrl:l,portalHostname:c}=h);else switch(n.toLowerCase()){case"devext":({customBaseUrl:l,portalHostname:c}=u);break;case"qaext":({customBaseUrl:l,portalHostname:c}=d);break;case"www":({customBaseUrl:l,portalHostname:c}=h);break;default:return null}return{customBaseUrl:l,isPortal:!1,portalHostname:c,urlKey:a}}function s(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function a(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,n=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):n.test(e)?e=e.replace(n,"https://devext.arcgis.com"):r.test(e)&&(e=e.replace(r,"https://qaext.arcgis.com")),e}},9987:function(e,t,n){"use strict";n.d(t,{$m:function(){return C},NO:function(){return I},_:function(){return b},md:function(){return T},mg:function(){return w}});var r=n(71709),i=n(28335),o=n(41785),s=n(37623),a=n(67900);class l{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}}class c{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}}let u=0,d=0;const h={time:(0,a.l5)(0),deltaTime:(0,a.l5)(0),elapsedFrameTime:(0,a.l5)(0),frameDuration:(0,a.l5)(0)},p=["prepare","preRender","render","postRender","update","finish"],f=[],m=new o.A;class y{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,g()}}function g(){null==_&&(u=performance.now(),_=requestAnimationFrame(S))}const v={frameTasks:m,willDispatch:!1,clearFrameTasks:function(e=!1){m.forAll((e=>{e.removed=!0})),e&&M()},dispatch:A,executeFrameTasks:function(e){const t=(0,a.l5)(e-u);u=e;const n=d>0?d:1e3/60,r=Math.max(0,t-n);h.time=e,h.frameDuration=(0,a.l5)(n-r);for(let n=0;n<p.length;n++){const r=performance.now(),i=p[n];m.forAll((r=>{r.paused||r.removed||(0===n&&r.ticks++,r.phases[i]&&(h.elapsedFrameTime=(0,a.l5)(performance.now()-e),h.deltaTime=0===r.ticks?(0,a.l5)(0):t,r.phases[i]?.call(r,h)))})),E[n].push(performance.now()-r)}M(),k.push(performance.now()-e)},reschedule:function(){null!=_&&(cancelAnimationFrame(_),_=requestAnimationFrame(S))}};function b(e){const t=new c(e);return f.push(t),v.willDispatch||(v.willDispatch=!0,(0,r.d)(A)),t}function w(e){const t=new l(e);return m.push(t),g(),new y(t)}let _=null;function S(){const e=performance.now();_=null;const t=m.some((e=>!e.paused&&!e.removed));_=t?requestAnimationFrame(S):null,v.executeFrameTasks(e)}const x=new o.A;function M(){m.forAll((e=>{e.removed&&x.push(e)})),m.removeUnorderedMany(x.data,x.length),x.clear()}function A(){for(;f.length;){const e=f.shift();e.isActive&&e.callback()}v.willDispatch=!1}function T(e=1,t){const n=(0,s.Tw)(),i=()=>{(0,s.G4)(t)?n.reject((0,s.NK)()):0===e?n():(--e,(0,r.d)((()=>i())))};return i(),n.promise}function I(e){return T(1,e)}async function C(e){await I(e),await new Promise((t=>requestAnimationFrame((()=>{e?.aborted||t()}))))}const E=p.map((e=>new i.A(e))),k=new i.A("total")},10069:function(e,t,n){"use strict";n.d(t,{m:function(){return s},v:function(){return o}});var r=n(19759),i=n(83382);function o(e,t){return{...a(e,t),readResourcePaths:[]}}function s(e,t,n){const i=(0,r.An)(e.itemUrl);return{...a(e,t),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:i?{rootPath:i.path,writtenUrls:[]}:null,resources:n?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function a(e,t){return{origin:t,url:(0,r.An)(e.itemUrl),portal:e.portal||i.A.getDefault(),portalItem:e}}},10224:function(e,t,n){"use strict";n.r(t),n.d(t,{Label:function(){return u}});var r=n(34088),i=n(46337),o=n(62245),s=n(93174),a=n(33826);const l="container",c=a.AH`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}:host([alignment=start]){text-align:start}:host([alignment=end]){text-align:end}:host([alignment=center]){text-align:center}:host([scale=s]) .container{gap:.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;margin-block-end:var(--calcite-label-margin-bottom, .5rem)}:host([scale=m]) .container{gap:.5rem;font-size:var(--calcite-font-size--1);line-height:1rem;margin-block-end:var(--calcite-label-margin-bottom, .75rem)}:host([scale=l]) .container{gap:.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;margin-block-end:var(--calcite-label-margin-bottom, 1rem)}:host .container{margin-inline:0px;margin-block-start:0px;inline-size:100%;line-height:1.375;color:var(--calcite-color-text-1);color:var(--calcite-label-text-color, var(--calcite-color-text-1))}:host([layout=default]) .container{display:flex;flex-direction:column}:host([layout=inline]) .container,:host([layout=inline-space-between]) .container{display:flex;flex-direction:row;align-items:center;gap:.5rem}:host([layout=inline][scale=l]) .container{gap:.75rem}:host([layout=inline-space-between]) .container{justify-content:space-between}:host([disabled])>.container{opacity:var(--calcite-opacity-disabled)}:host([disabled]) ::slotted(*[disabled]),:host([disabled]) ::slotted(*[disabled] *){--tw-bg-opacity: 1}:host([disabled]) ::slotted(calcite-input-message:not([active])){--tw-bg-opacity: 0}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}`;class u extends o.WF{constructor(){super(),this.alignment="start",this.layout="default",this.scale="m",this.calciteInternalLabelClick=(0,o.lh)({bubbles:!1,cancelable:!1}),this.listen("click",this.labelClickHandler)}static{this.properties={alignment:[3,{},{reflect:!0}],for:[3,{},{reflect:!0}],layout:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]}}static{this.styles=c}connectedCallback(){super.connectedCallback(),document.dispatchEvent(new CustomEvent(s.l))}willUpdate(e){e.has("for")&&(0,s.a)(this.el)}disconnectedCallback(){super.disconnectedCallback(),document.dispatchEvent(new CustomEvent(s.b))}labelClickHandler(e){"Range"!==window.getSelection()?.type&&this.calciteInternalLabelClick.emit({sourceEvent:e})}render(){return i.qy`<div class=${(0,o.CP)(l)}><slot></slot></div>`}}(0,r.c)("calcite-label",u)},10227:function(e,t,n){"use strict";n.d(t,{EZ:function(){return s},Io:function(){return o},QP:function(){return l},T0:function(){return a}});var r=n(67488),i=n(64672);function o(e,t){const n=e.x-t.x,r=e.y-t.y,i=null!=e.z&&null!=t.z?e.z-t.z:0;return Math.sqrt(n*n+r*r+i*i)}function s(e){return l(e,c)?.[0]??null}function a(e){return l(e,c)?.[1]??null}function l({x:e,y:t,spatialReference:n},o=[0,0]){if(n){if((0,r.K8)(n))return(0,i.tD)(e,t,o);if((0,r.EA)(n))return o[0]=e,o[1]=t,o}return null}const c=[0,0]},10259:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});class r{constructor(e,t,n,r,i=void 0){this.id=e,this.level=t,this.row=n,this.col=r,this.extent=i}}},10319:function(e,t,n){"use strict";n.d(t,{Cn:function(){return C},Gs:function(){return E},iS:function(){return S},rs:function(){return T},wB:function(){return I}});var r,i,o=n(50398),s=n(70214),a=n(15565),l=n(47917),c=n(9987),u=n(98592),d=n(78851),h=n(44212),p=n(44),f=n(89370),m=n(66361);(i=r||(r={}))[i.Untracked=0]="Untracked",i[i.Tracked=1]="Tracked";class y{constructor(){this.uid=(0,d.c)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static{this.pool=new l.P(y)}static acquireUntracked(e,t,n,i,o){return this.pool.acquire(r.Untracked,e,t,n,i,o,a.aI)}static acquireTracked(e,t,n,i){return this.pool.acquire(r.Tracked,e,t,n,null,null,i)}notify(e,t){this.type===r.Untracked?this.callback.call(this.target,e,t,this.path,this.target):this.callback.call(null,e,t,void 0,void 0)}acquire(e,t,n,r,i,o,s){this.uid=(0,d.c)(),this.removed=!1,this.type=e,this.oldValue=t,this.callback=n,this.getValue=r,this.target=i,this.path=o,this.equals=s}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,d.c)(),this.removed=!0}}const g=new o.A,v=new Set;let b;function w(e){v.delete(e),v.add(e),b||(b=(0,c._)(x))}function _(e){if(e.removed)return;const t=e.oldValue,n=e.getValue();e.equals(t,n)||(e.oldValue=n,e.notify(n,t))}function S(e){for(const t of v.values())t.target===e&&(t.removed=!0)}function x(){let e=10;for(;b&&e--;){b=null;const e=M(),t=g.acquire();for(const n of e){const e=n.uid;_(n),e===n.uid&&n.removed&&t.push(n)}for(const e of v)e.removed&&(t.push(e),v.delete(e));for(const e of t)y.pool.release(e);g.release(t),g.release(e),A.forEach((e=>e()))}}function M(){const e=g.acquire();e.length=v.size;let t=0;for(const n of v)e[t]=n,++t;return v.clear(),e}const A=new Set;function T(e){return A.add(e),(0,s.hA)((()=>A.delete(e)))}function I(e,t,n,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==p.v.DESTROYED?r?function(e,t,n){const r=(0,m.qg)(e,t,n,((e,t,n)=>{let i=!1;return(0,f.mJ)((()=>(0,h.RP)(e,t)),((o,s)=>{e.__accessor__.lifecycle!==p.v.DESTROYED?i||(i=!0,(0,a.aI)(s,o)||n.call(e,o,s,t,e),i=!1):r.remove()}))}));return r}(e,t,n):function(e,t,n){let r=(0,m.qg)(e,t,n,((e,t,n)=>{let i,o,a=(0,f.Df)((()=>(0,h.RP)(e,t)),((s,a)=>{e.__accessor__?.lifecycle===p.v.DESTROYED||i&&i.uid!==o?r.remove():(i||(i=y.acquireUntracked(s,n,a,e,t),o=i.uid),w(i))}));return(0,s.hA)((()=>{a.remove(),i&&(i.uid!==o||i.removed||(i.removed=!0,w(i)),i=null),r=a=null}))}));return r}(e,t,n):(0,s.hA)()}function C(e,t,n=!1,r=a.gh){return n?function(e,t,n){let r=!1;return(0,f.mJ)(e,((e,i)=>{r||(r=!0,n(i,e)||t(e,i),r=!1)}))}(e,t,r):function(e,t,n){let r,i,o=(0,f.Df)(e,((e,s)=>{r&&r.uid!==i?o.remove():(r||(r=y.acquireTracked(e,t,s,n),i=r.uid),w(r))}));return(0,s.hA)((()=>{o.remove(),r&&(r.uid!==i||r.removed||(r.removed=!0,w(r)),r=null),o=null}))}(e,t,r)}function E(e){return(0,u.bw)(v,(t=>t.oldValue===e))}},10357:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325));let l=r=class extends o.A{constructor(e){super(e),this.field=null,this.order=null}clone(){return new r({field:this.field,order:this.order})}};(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"field",void 0),(0,i._)([(0,s.MZ)({type:["asc","desc"],json:{write:!0}})],l.prototype,"order",void 0),l=r=(0,i._)([(0,a.$)("esri.popup.support.RelatedRecordsInfoFieldOrder")],l);const c=l},10427:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")},e.exports=t.default},10576:function(e,t,n){"use strict";n.d(t,{A:function(){return b}});var r,i=n(82392),o=n(1817),s=n(84977),a=n(15565),l=n(81482),c=n(77380),u=n(25376),d=n(26325),h=n(48524),p=n(8636),f=n(1912),m=n(74088),y=n(96949);const g=(0,o.O)()({MT_FIRST:"first",MT_LAST:"last",MT_MIN:"min",MT_MAX:"max",MT_MEAN:"mean",MT_BLEND:"blend",MT_SUM:"sum"}),v=(0,o.O)()({esriMosaicNone:"none",esriMosaicCenter:"center",esriMosaicNadir:"nadir",esriMosaicViewpoint:"viewpoint",esriMosaicAttribute:"attribute",esriMosaicLockRaster:"lock-raster",esriMosaicNorthwest:"northwest",esriMosaicSeamline:"seamline"});let b=r=class extends s.A{constructor(e){super(e),this.ascending=!0,this.itemRasterFunction=null,this.lockRasterIds=null,this.method="none",this.multidimensionalDefinition=null,this.objectIds=null,this.operation="first",this.sortField=null,this.sortValue=null,this.viewpoint=null,this.where=null}readAscending(e,t){return null!=t.ascending?t.ascending:null==t.sortAscending||t.sortAscending}readMethod(e,t){return function(e){let t;switch(e?e.toLowerCase().replace("esrimosaic",""):""){case"byattribute":case"attribute":t="esriMosaicAttribute";break;case"lockraster":t="esriMosaicLockRaster";break;case"center":t="esriMosaicCenter";break;case"northwest":t="esriMosaicNorthwest";break;case"nadir":t="esriMosaicNadir";break;case"viewpoint":t="esriMosaicViewpoint";break;case"seamline":t="esriMosaicSeamline";break;default:t="esriMosaicNone"}return v.fromJSON(t)}(t.mosaicMethod||t.defaultMosaicMethod)}writeMultidimensionalDefinition(e,t,n){null!=e&&(e=e.filter((({variableName:e,dimensionName:t})=>e&&"*"!==e||t))).length&&(t[n]=e.map((e=>e.toJSON())))}readOperation(e,t){const n=t.mosaicOperation,r=t.mosaicOperator?.toLowerCase(),i=n||(r?g.toJSON(r):null);return g.fromJSON(i)||"first"}castSortValue(e){return null==e||"string"==typeof e||"number"==typeof e?e:`${e}`}clone(){return new r({ascending:this.ascending,itemRasterFunction:(0,a.o8)(this.itemRasterFunction),lockRasterIds:(0,a.o8)(this.lockRasterIds),method:this.method,multidimensionalDefinition:(0,a.o8)(this.multidimensionalDefinition),objectIds:(0,a.o8)(this.objectIds),operation:this.operation,sortField:this.sortField,sortValue:this.sortValue,viewpoint:(0,a.o8)(this.viewpoint),where:this.where})}};(0,i._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],b.prototype,"ascending",void 0),(0,i._)([(0,u.w)("ascending",["ascending","sortAscending"])],b.prototype,"readAscending",null),(0,i._)([(0,l.MZ)({type:y.A,json:{name:"itemRenderingRule",write:!0}})],b.prototype,"itemRasterFunction",void 0),(0,i._)([(0,l.MZ)({type:[p.jz],json:{write:{overridePolicy(){return{enabled:"lock-raster"===this.method}}}}})],b.prototype,"lockRasterIds",void 0),(0,i._)([(0,l.MZ)({type:v.apiValues,json:{type:v.jsonValues,write:{target:"mosaicMethod",writer:v.write,isRequired:!0}}})],b.prototype,"method",void 0),(0,i._)([(0,u.w)("method",["mosaicMethod","defaultMosaicMethod"])],b.prototype,"readMethod",null),(0,i._)([(0,l.MZ)({type:[m.A],json:{write:!0}})],b.prototype,"multidimensionalDefinition",void 0),(0,i._)([(0,h.K)("multidimensionalDefinition")],b.prototype,"writeMultidimensionalDefinition",null),(0,i._)([(0,l.MZ)({type:[p.jz],json:{name:"fids",write:!0}})],b.prototype,"objectIds",void 0),(0,i._)([(0,l.MZ)({type:g.apiValues,json:{type:g.jsonValues,read:{reader:g.read},write:{target:"mosaicOperation",writer:g.write}}})],b.prototype,"operation",void 0),(0,i._)([(0,u.w)("operation",["mosaicOperation","mosaicOperator"])],b.prototype,"readOperation",null),(0,i._)([(0,l.MZ)({type:String,json:{write:{overridePolicy(){return{enabled:"attribute"===this.method}}}}})],b.prototype,"sortField",void 0),(0,i._)([(0,l.MZ)({type:[String,Number],json:{write:{allowNull:!0,overridePolicy(){return{enabled:"attribute"===this.method,allowNull:!0}}}}})],b.prototype,"sortValue",void 0),(0,i._)([(0,c.w)("sortValue")],b.prototype,"castSortValue",null),(0,i._)([(0,l.MZ)({type:f.A,json:{write:!0}})],b.prototype,"viewpoint",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],b.prototype,"where",void 0),b=r=(0,i._)([(0,d.$)("esri.layers.support.MosaicRule")],b)},10628:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var r=n(75994),i=n(65452);function o(e){return!("object"!=typeof(t=e)||null==t||!("loaded"in t)||!0!==t.loaded||!("type"in t)||!(0,i.BR)(e)?.operations?.supportsEditing||"editingEnabled"in e&&!(0,i.tk)(e)||(0,r.hc)(e));var t}},10709:function(e,t,n){"use strict";n.d(t,{ao:function(){return h},ud:function(){return p},xO:function(){return f}});var r=n(62991),i=n(70214),o=n(37623),s=n(4631);const a={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,nn:"no",pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function l(e){if(function(e){return e in a}(e)){const t=a[e];return!0===t?e:t}return null}const c=[],u=new Map;function d(e){for(const t of u.keys())m(e.pattern,t)&&u.delete(t)}function h(e){return c.includes(e)||(d(e),c.unshift(e)),(0,i.hA)((()=>{const t=c.indexOf(e);t>-1&&(c.splice(t,1),d(e))}))}async function p(e){const t=(0,s.JK)();u.has(e)||u.set(e,async function(e,t){const n=[];for(const r of c)if(m(r.pattern,e))try{return await r.fetchMessageBundle(e,t)}catch(e){n.push(e)}if(n.length)throw new r.A("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:n});throw new r.A("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}(e,t));const n=u.get(e);return n&&await y.add(n),n}function f(e){const t=(0,s.ZS)(e);return t?l(e)??l(t.language):null}function m(e,t){return"string"==typeof e?t.startsWith(e):e.test(t)}(0,s.Ml)((()=>{u.clear()}));const y=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,o.Tw)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},10715:function(e,t,n){"use strict";var r,i,o;n.d(t,{PK:function(){return r},SJ:function(){return o},p7:function(){return i}}),function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"}(r||(r={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(i||(i={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(o||(o={}))},10805:function(e,t,n){"use strict";n.d(t,{CW:function(){return a},F8:function(){return l},gH:function(){return s},m3:function(){return u},qz:function(){return i},rL:function(){return o},t1:function(){return d}});const r=[0,0];function i(e,t){return null!=t&&c(e,t.x,t.y,t.z)}function o(e,t){if(!t.points?.length)return!1;for(const n of t.points)if(!a(e,n))return!1;return!0}function s(e,t){const{xmin:n,ymin:r,zmin:i,xmax:o,ymax:s,zmax:a}=t;return e.hasZ&&t.hasZ?c(e,n,r,i)&&c(e,n,s,i)&&c(e,o,s,i)&&c(e,o,r,i)&&c(e,n,r,a)&&c(e,n,s,a)&&c(e,o,s,a)&&c(e,o,r,a):c(e,n,r)&&c(e,n,s)&&c(e,o,s)&&c(e,o,r)}function a(e,t){return c(e,t[0],t[1])}function l(e,t){return c(e,t[0],t[1],t[2])}function c(e,t,n,r){return t>=e.xmin&&t<=e.xmax&&n>=e.ymin&&n<=e.ymax&&(null==r||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function u(e,t){return r[1]=t.y,r[0]=t.x,function(e,t){return d(e.rings,t)}(e,r)}function d(e,t){if(!e)return!1;if(function(e){return!Array.isArray(e[0][0])}(e))return h(!1,e,t);let n=!1;for(let r=0,i=e.length;r<i;r++)n=h(n,e[r],t);return n}function h(e,t,n){const[r,i]=n;let o=e,s=0;for(let e=0,n=t.length;e<n;e++){s++,s===n&&(s=0);const[a,l]=t[e],[c,u]=t[s];(l<i&&u>=i||u<i&&l>=i)&&a+(i-l)/(u-l)*(c-a)<r&&(o=!o)}return o}},10961:function(e,t,n){"use strict";n.d(t,{O3:function(){return d},PU:function(){return c},YW:function(){return p},ex:function(){return a},hv:function(){return h},zp:function(){return l}});var r=n(4506),i=n(23572),o=n(74772),s=n(76982);const a=2.4;function l(e){return(0,i.PN)(e*a)}function c(e){return(0,i.Lz)(e)/a}function u(e,t,n,i){let{color:s,ratio:a}=t,{color:l,ratio:c}=n;if(c===a){const e=1e-6;1===c?a-=e:c+=e}const u=(0,r.qE)((i-a)/(c-a),0,1);(0,o.l)(e,s.toArray(),l.toArray(),u)}function d(e){const t=new Uint8ClampedArray(2048);if(e=e.filter((({ratio:e})=>e>=0&&e<=1)).sort(((e,t)=>e.ratio-t.ratio)).map((({color:e,ratio:t})=>({color:e,ratio:Math.max(t,.001)}))),e.length<1)return t;let n=e[0],r=e[0],i=1;const o=(0,s.vt)();for(let s=0;s<512;s++){const a=(s+.5)/512;for(;a>r.ratio&&i<e.length;)n=r,r=e[i++];u(o,n,r,a),t.set(o,4*s)}return t}function h(e,t,n){const r=Math.sqrt(e**2+t**2)/n;return r>1?0:3/(Math.PI*n**2)*(1-r**2)**2}function p(e){return"function"==typeof e?e:e?t=>+t[e]:()=>1}},11012:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});class r{constructor(e=null,t=null,n=null){this.minValue=e,this.maxValue=t,this.noDataValue=n}}},11021:function(e,t,n){"use strict";n.d(t,{$3:function(){return y},$H:function(){return m},$K:function(){return s},B1:function(){return c},It:function(){return x},JM:function(){return _},Ng:function(){return h},R3:function(){return a},Xf:function(){return d},Yl:function(){return f},_7:function(){return w},gR:function(){return u},m3:function(){return b},t9:function(){return p},uC:function(){return v}});var r=n(3223),i=n(60929),o=n(67488);function s(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,n=e.hasM;if("point"===e.type)return n&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:n?[e.x,e.y,e.m]:[e.x,e.y];if("polygon"===e.type)return e.rings.slice();if("polyline"===e.type)return e.paths.slice();if("multipoint"===e.type)return e.points.slice();if("extent"===e.type){const t=e.clone().normalize();if(!t)return null;let n=!1,r=!1;return t.forEach((e=>{e.hasZ&&(n=!0),e.hasM&&(r=!0)})),t.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(n&&e.hasZ){const n=.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(n)}if(r&&e.hasM){const n=.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(n)}return t}))}return null}function a(e,t){const n=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}return Math.sqrt(n*n+r*r)}function l(e,t,n){const r=e[0]+n*(t[0]-e[0]),i=e[1]+n*(t[1]-e[1]);return e.length>2&&t.length>2?[r,i,e[2]+n*(t[2]-e[2])]:[r,i]}function c(e,t,n,r){return u(e,t,n[r],n[r+1])}function u(e,t,n,r){const[i,o]=t,[s,a]=n,[l,c]=r,u=l-s,d=c-a,h=u*u+d*d,p=(i-s)*u+(o-a)*d,f=Math.min(1,Math.max(0,p/h));return e[0]=s+u*f,e[1]=a+d*f,e}function d(e,t,n){let r,i,o,s,a=!1,l=1/0;for(n.reset();n.nextPath();)if(n.nextPoint())for(r=n.x,i=n.y;n.nextPoint();)o=n.x,s=n.y,i>t!=s>t&&e<(o-r)*(t-i)/(s-i)+r&&(a=!a),l=Math.min(l,h(e,t,r,i,o,s)),r=o,i=s;return 0===l?0:(a?1:-1)*Math.sqrt(l)}function h(e,t,n,r,i,o){let s=n,a=r,l=i-s,c=o-a;if(0!==l||0!==c){const n=((e-s)*l+(t-a)*c)/(l*l+c*c);n>1?(s=i,a=o):n>0&&(s+=l*n,a+=c*n)}return l=e-s,c=t-a,l*l+c*c}function p(e,t){return l(e,t,.5)}function f(e){const t=e.length;let n=0;for(let r=0;r<t-1;++r)n+=a(e[r],e[r+1]);return n}function m(e,t){if(t<=0)return e[0];const n=e.length;let r=0;for(let i=0;i<n-1;++i){const n=a(e[i],e[i+1]);if(t-r<n){const o=(t-r)/n;return l(e[i],e[i+1],o)}r+=n}return e[n-1]}function y(e,t=i._.X,n=i._.Y){let r=0;const o=e.length;let s=e[0];for(let i=1;i<o;i++){const o=e[i];r+=(o[t]-s[t])*(o[n]+s[n]),s=o}if(g(e)){const i=e[0];r+=(i[t]-s[t])*(i[n]+s[n])}return r>=0}function g(e){const t=e.length;return t>0&&!(0,r.aI)(e[0],e[t-1])}function v(e){"rings"in e&&(b(e),function(e){if(!("rings"in e))return!1;if(0===e.rings.length||y(e.rings[0]))return!1;for(const t of e.rings)t.reverse()}(e))}function b(e){if("rings"in e)for(const t of e.rings)g(t)&&t.push(t[0].slice())}function w(e){return"polygon"!==e.type&&"polyline"!==e.type||_("polygon"===e.type?e.rings:e.paths,e.spatialReference),e}function _(e,t){const n=(0,o.Vp)(t);if(!n)return;const r=n.valid[0],i=n.valid[1],s=i-r;for(const t of e){let e=1/0,n=-1/0;for(const o of t){const t=S(o[0],r,i);e=Math.min(e,t),n=Math.max(n,t),o[0]=t}const o=n-e;s-o<o&&t.forEach((e=>{e[0]<0&&(e[0]+=s)}))}}function S(e,t,n){const r=n-t;return e<t?n-(t-e)%r:e>n?t+(e-t)%r:e}function x(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if("point"===e.type||"mesh"===e.type||"extent"===e.type)return!0;if("multipoint"===e.type)return e.points.length===t.points.length;const[n,r]="polyline"===e.type?[e.paths,t.paths]:[e.rings,t.rings];return n.length===r.length&&n.every(((e,t)=>e.length===r[t].length))}},11178:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(91010),l=n(1415);let c=r=class extends a.A{constructor(e){super(e),this.type="line-chart"}clone(){return new r({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,i._)([(0,o.MZ)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:l.U.write,isRequired:!0}}})],c.prototype,"type",void 0),c=r=(0,i._)([(0,s.$)("esri.popup.content.LineChartMediaInfo")],c);const u=c},11219:function(e,t,n){"use strict";n.d(t,{LR:function(){return _},x3:function(){return M},Ez:function(){return T},m$:function(){return A},Qn:function(){return S}});var r=n(23572),i=n(91101),o=(n(8e3),n(1912)),s=(n(67488),n(97628)),a=n(82392),l=n(45970),c=n(81482),u=(n(6273),n(80861),n(67498),n(26325)),d=n(79441),h=n(53334),p=n(56560),f=n(65648),m=n(34008),y=n(5585);const g=(0,p.vt)();let v=class extends y.A{constructor(e){super(e),this.bottomLeft=null,this.bottomRight=null,this.topLeft=null,this.topRight=null,this.type="corners"}get coords(){let{topLeft:e,topRight:t,bottomLeft:n,bottomRight:r}=this;if(null==e||null==t||null==n||null==r)return null;const i=e.spatialReference;return t=this.projectOrWarn(t,i),n=this.projectOrWarn(n,i),r=this.projectOrWarn(r,i),null==t||null==n||null==r?null:new f.A({rings:[[[n.x,n.y],[e.x,e.y],[t.x,t.y],[r.x,r.y],[n.x,n.y]]],spatialReference:i})}set coords(e){const{topLeft:t}=this;if(null==t)return;const n=t.spatialReference;if(null==(e=this.projectOrWarn(e,n)))return;const{rings:[[r,i,s,a]]}=e;this.bottomLeft=new o.A({x:r[0],y:r[1],spatialReference:n}),this.topLeft=new o.A({x:i[0],y:i[1],spatialReference:n}),this.topRight=new o.A({x:s[0],y:s[1],spatialReference:n}),this.bottomRight=new o.A({x:a[0],y:a[1],spatialReference:n})}toSourceNormalized(e){const{topLeft:t,topRight:n,bottomRight:i,bottomLeft:o}=this;if(null==e||null==t||null==n||null==i||null==o)return null;const s=t.spatialReference;e=e.normalize();const a=(0,m.projectOrLoad)(e,s).geometry;if(null==a)return null;(0,h.hZ)(g,a.x,a.y);const c=(0,l.O)((0,d.vt)(),[t.x,t.y,o.x,o.y,n.x,n.y,i.x,i.y],[0,0,0,1,1,0,1,1]);return(0,l.W)(g,g,c),(0,r.tc)(g[0],g[1])}};(0,a._)([(0,c.MZ)({clonable:!1})],v.prototype,"coords",null),(0,a._)([(0,c.MZ)({type:o.A})],v.prototype,"bottomLeft",void 0),(0,a._)([(0,c.MZ)({type:o.A})],v.prototype,"bottomRight",void 0),(0,a._)([(0,c.MZ)({type:o.A})],v.prototype,"topLeft",void 0),(0,a._)([(0,c.MZ)({type:o.A})],v.prototype,"topRight",void 0),v=(0,a._)([(0,u.$)("esri.layers.support.CornersGeoreference")],v);const b=v;var w=n(85785);function _(e,t){const n=(0,i.aB)(t);return function(e){return"media"===e?.type}(e)&&!!e.portalItem&&null!=n&&n>i.Gr.PORTAL_ITEM}function S(e,t,n){if(!e||"control-points"===e.type)return e;const{coords:i}=e;if(5!==i?.rings[0]?.length)return null;const[a,l,c,u]=i.rings[0],{spatialReference:d}=i;return new s.A({controlPoints:[{mapPoint:new o.A({x:a[0],y:a[1],spatialReference:d}),sourcePoint:(0,r.tc)(0,n)},{mapPoint:new o.A({x:l[0],y:l[1],spatialReference:d}),sourcePoint:(0,r.tc)(0,0)},{mapPoint:new o.A({x:c[0],y:c[1],spatialReference:d}),sourcePoint:(0,r.tc)(t,0)},{mapPoint:new o.A({x:u[0],y:u[1],spatialReference:d}),sourcePoint:(0,r.tc)(t,n)}],width:t,height:n})}function x(e,t,n){return{enabled:!_(n?.layer,n?.origin),ignoreOrigin:!0}}const M={json:{name:"url",type:String,write:{overridePolicy:x}}},A={readOnly:!0,json:{read:!1,write:{target:"mediaType",overridePolicy:x}}},T={types:{key:"type",base:y.A,typeMap:{"control-points":s.A,corners:b,"extent-and-rotation":w.A}},json:{types:{key:"type",base:y.A,typeMap:{"control-points":s.A}},write:{overridePolicy:()=>({enabled:!0,ignoreOrigin:!0})}}}},11367:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return rn}});var r=n(82392),i=n(20879),o=n(14755),s=n(62991),a=n(67214),l=n(37623),c=n(81482),u=(n(6273),n(80861)),d=(n(67498),n(26325)),h=n(48524),p=n(45449),f=n(20857),m=n(38116),y=n(61090),g=n(15565),v=n(61985),b=n(19759),w=n(8636),_=n(25376),S=n(8e3),x=n(65648),M=n(44153),A=n(67488),T=n(9014),I=n(74088),C=n(84977),E=n(96949),k=n(6246);const P={StretchFunction:{arguments:{ComputeGamma:{isDataset:!1,isPublic:!1,name:"ComputeGamma",type:"RasterFunctionVariable",value:!1},DRA:{isDataset:!1,isPublic:!1,name:"DRA",type:"RasterFunctionVariable",value:!1},EstimateStatsHistogram:{isDataset:!1,isPublic:!1,name:"EstimateStatsHistogram",type:"RasterFunctionVariable",value:!1},Gamma:{displayName:"Gamma",isDataset:!1,isPublic:!1,name:"Gamma",type:"RasterFunctionVariable"},Histograms:{isDataset:!1,isPublic:!1,name:"Histograms",type:"RasterFunctionVariable"},Max:{isDataset:!1,isPublic:!1,name:"Max",type:"RasterFunctionVariable",value:255},MaxPercent:{isDataset:!1,isPublic:!1,name:"MaxPercent",type:"RasterFunctionVariable",value:.5},Min:{isDataset:!1,isPublic:!1,name:"Min",type:"RasterFunctionVariable",value:0},MinPercent:{isDataset:!1,isPublic:!1,name:"MinPercent",type:"RasterFunctionVariable",value:.25},NumberOfStandardDeviations:{isDataset:!1,isPublic:!1,name:"NumberOfStandardDeviation",type:"RasterFunctionVariable",value:2},Raster:{isDataset:!0,isPublic:!1,name:"Raster",type:"RasterFunctionVariable"},SigmoidStrengthLevel:{isDataset:!1,isPublic:!1,name:"SigmoidStrengthLevel",type:"RasterFunctionVariable",value:2},Statistics:{isDataset:!1,isPublic:!1,name:"Statistics",type:"RasterFunctionVariable"},StretchType:{isDataset:!1,isPublic:!1,name:"StretchType",type:"RasterFunctionVariable",value:0},type:"StretchFunctionArguments",UseGamma:{isDataset:!1,isPublic:!1,name:"UseGamma",type:"RasterFunctionVariable",value:!1}},description:"Enhances an image by adjusting the range of values displayed. This does not alter the underlying pixel values. If a pixel has a value outside of the specified range, it will appear as either the minimum or maximum value.",function:{description:"Enhances an image by adjusting the range of values displayed. This does not alter the underlying pixel values. If a pixel has a value outside of the specified range, it will appear as either the minimum or maximum value.",name:"Stretch",pixelType:"UNKNOWN",type:"StretchFunction"},functionType:0,name:"Stretch",thumbnail:""},RemapFunction:{name:"Remap",description:"Changes pixel values by assigning new values to ranges of pixel values or using an external table.",function:{type:"RemapFunction",pixelType:"UNKNOWN",name:"Remap",description:"Changes pixel values by assigning new values to ranges of pixel values or using an external table."},arguments:{Raster:{name:"Raster",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},UseTable:{name:"UseTable",isPublic:!1,isDataset:!1,value:!1,type:"RasterFunctionVariable"},InputRanges:{name:"InputRanges",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable",displayName:"Input Ranges"},OutputValues:{name:"OutputValues",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable",displayName:"Output Values"},NoDataRanges:{name:"NoDataRanges",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable",displayName:"NoData Ranges"},Table:{name:"Table",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},InputField:{name:"InputField",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},OutputField:{name:"OutputField",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},InputMaxField:{name:"InputMaxField",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},RemapTableType:{name:"RemapTableType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},AllowUnmatched:{name:"AllowUnmatched",isPublic:!1,isDataset:!1,value:!0,type:"RasterFunctionVariable"},type:"RemapFunctionArguments"},functionType:0,thumbnail:""},ColormapFunction:{name:"Colormap",description:"Changes pixel values to display the raster data as either a grayscale or a red, green, blue (RGB) image, based on a colormap or a color ramp.",function:{type:"ColormapFunction",pixelType:"UNKNOWN",name:"Colormap",description:"Changes pixel values to display the raster data as either a grayscale or a red, green, blue (RGB) image, based on a colormap or a color ramp."},arguments:{Raster:{name:"Raster",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},ColorSchemeType:{name:"ColorSchemeType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},Colormap:{name:"Colormap",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},ColormapName:{name:"ColormapName",isPublic:!1,isDataset:!1,value:"Gray",type:"RasterFunctionVariable"},ColorRamp:{name:"ColorRamp",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},type:"ColormapFunctionArguments"},functionType:0,thumbnail:""},ShadedReliefFunction:{name:"Shaded Relief",description:"Creates a multiband, color coded, 3D representation of the surface, with the sun's relative position taken into account for shading the image.",function:{type:"ShadedReliefFunction",pixelType:"UNKNOWN",name:"Shaded Relief",description:"Creates a multiband, color coded, 3D representation of the surface, with the sun's relative position taken into account for shading the image."},arguments:{Raster:{name:"Raster",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},ColorSchemeType:{name:"ColorSchemeType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},ColorRamp:{name:"ColorRamp",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},HillshadeType:{name:"HillshadeType",isPublic:!1,isDataset:!1,value:0,type:"RasterFunctionVariable"},Colormap:{name:"Colormap",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},Azimuth:{name:"Azimuth",isPublic:!1,isDataset:!1,value:315,type:"RasterFunctionVariable"},Altitude:{name:"Altitude",isPublic:!1,isDataset:!1,value:45,type:"RasterFunctionVariable"},SlopeType:{name:"SlopeType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},ZFactor:{name:"ZFactor",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},PSPower:{name:"PSPower",isPublic:!1,isDataset:!1,value:.664,type:"RasterFunctionVariable"},PSZFactor:{name:"PSZFactor",isPublic:!1,isDataset:!1,value:.024,type:"RasterFunctionVariable"},RemoveEdgeEffect:{name:"RemoveEdgeEffect",isPublic:!1,isDataset:!1,value:!1,type:"RasterFunctionVariable"},type:"ShadedReliefFunctionArguments"},functionType:0,thumbnail:""},HillshadeFunction:{name:"Hillshade",description:"Creates a 3D representation of the surface, with the sun's relative position taken into account for shading the image",function:{type:"HillshadeFunction",pixelType:"UNKNOWN",name:"Hillshade",description:"Creates a 3D representation of the surface, with the sun's relative position taken into account for shading the image"},arguments:{DEM:{name:"DEM",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},HillshadeType:{name:"HillshadeType",isPublic:!1,isDataset:!1,value:0,type:"RasterFunctionVariable"},Azimuth:{name:"Azimuth",isPublic:!1,isDataset:!1,value:315,type:"RasterFunctionVariable"},Altitude:{name:"Altitude",isPublic:!1,isDataset:!1,value:45,type:"RasterFunctionVariable"},SlopeType:{name:"SlopeType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},ZFactor:{name:"ZFactor",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},PSPower:{name:"PSPower",isPublic:!1,isDataset:!1,value:.664,type:"RasterFunctionVariable"},PSZFactor:{name:"PSZFactor",isPublic:!1,isDataset:!1,value:.024,type:"RasterFunctionVariable"},RemoveEdgeEffect:{name:"RemoveEdgeEffect",isPublic:!1,isDataset:!1,value:!1,type:"RasterFunctionVariable"},type:"HillshadeFunctionArguments"},functionType:0,thumbnail:""},ResampleFunction:{name:"Resample",description:"Changes the cell size of a raster.",function:{type:"ResampleFunction",pixelType:"UNKNOWN",name:"Resample",description:"Changes the cell size of a raster."},arguments:{Raster:{name:"Raster",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},ResamplingType:{name:"ResamplingType",isPublic:!1,isDataset:!1,value:0,type:"RasterFunctionVariable"},InputCellSize:{name:"InputCellsize",isPublic:!1,isDataset:!1,value:{x:0,y:0},type:"RasterFunctionVariable"},OutputCellSize:{name:"OutputCellsize",isPublic:!1,isDataset:!1,value:{x:0,y:0},type:"RasterFunctionVariable"},type:"ResampleFunctionArguments"},functionType:0,thumbnail:""}};var R=n(16976),O=n(75951),N=n(63279);const L=new Set(["u1","u2","u4","u8","s8","u16","s16"]),D={simple_scalar:"Simple Scalar",wind_barb:"Wind Barb",single_arrow:"Single Arrow",beaufort_kn:"Beaufort Wind (Knots)",beaufort_m:"Beaufort Wind (MetersPerSecond)",ocean_current_m:"Ocean Current (MetersPerSecond)",ocean_current_kn:"Ocean Current (Knots)"},F=new Set(["raster-stretch","unique-value","class-breaks","raster-shaded-relief","vector-field","raster-colormap"]);function j(e){return F.has(e.type)}function Z(e,t){if(!e||!t)return(0,g.o8)(e||t);const n=(0,g.o8)(e);if(n.functionDefinition&&t.rasterFunctionDefinition){const e=t.rasterFunctionDefinition;(e.thumbnail||e.thumbnailEx)&&(e.thumbnail=e.thumbnailEx=void 0),U(n.functionDefinition.arguments,t),n.rasterFunctionDefinition=n.functionDefinition.toJSON()}else"none"!==t.functionName?.toLowerCase()&&(B(n.functionArguments).Raster=t);return n}function U(e,t){for(const n in e)"raster"===n.toLowerCase()&&("RasterFunctionVariable"===e[n].type?(e[n]=t.rasterFunctionDefinition,e[n].type="RasterFunctionTemplate"):"RasterFunctionTemplate"===e[n].type&&U(e[n].arguments,t))}function z(e){const t=(0,g.o8)(P[e.functionName+"Function"]),n=e.functionArguments;for(const e in n)"raster"===e.toLowerCase()?(t.arguments[e]=z(n[e]),t.arguments[e].type="RasterFunctionTemplate"):"colormap"===e.toLowerCase()?(t.arguments[e].value=W(n[e]),t.arguments.ColorSchemeType.value=0):t.arguments[e].value=n[e];return t}function V(e,t){switch(t=t||{},e.type){case"raster-stretch":return function(e,t){const n=t.convertToRFT,r=new E.A;r.functionName="Stretch";const i=$[O.u.toJSON(e.stretchType)],o="u8",s=e.customStatistics?.map((e=>[e.min,e.max,e.avg??0,e.stddev??1])),a={StretchType:i,Statistics:s,DRA:e.dynamicRangeAdjustment,UseGamma:e.useGamma,Gamma:e.gamma,ComputeGamma:e.computeGamma};if(null!=e.outputMin&&(a.Min=e.outputMin),null!=e.outputMax&&(a.Max=e.outputMax),i===$.standardDeviation?(a.NumberOfStandardDeviations=e.numberOfStandardDeviations,r.outputPixelType=o):i===$.percentClip?(a.MinPercent=e.minPercent,a.MaxPercent=e.maxPercent,r.outputPixelType=o):i===$.minMax?r.outputPixelType=o:i===$.sigmoid&&(a.SigmoidStrengthLevel=e.sigmoidStrengthLevel),r.functionArguments=a,r.variableName="Raster",e.colorRamp){const i=e.colorRamp,o=new E.A;if(n)o.functionArguments={ColorRamp:(0,R.hf)(i)};else{const n=(0,R.hs)(i,!0);if(n)o.functionArguments={colorRampName:n};else if(!t.convertColorRampToColormap||"algorithmic"!==i.type&&"multipart"!==i.type){const t=e.colorRamp.toJSON();"algorithmic"===t.type?t.algorithm=t.algorithm||"esriCIELabAlgorithm":"multipart"===t.type&&t.colorRamps?.length&&t.colorRamps.forEach((e=>e.algorithm=e.algorithm||"esriCIELabAlgorithm")),o.functionArguments={colorRamp:t}}else o.functionArguments={Colormap:(0,R.R8)(i)}}return o.variableName="Raster",o.functionName="Colormap",o.functionArguments.Raster=r,n?new E.A({rasterFunctionDefinition:z(o)}):o}return n?new E.A({rasterFunctionDefinition:z(r)}):r}(e,t);case"class-breaks":return function(e,t){const n=[],r=[],i=[],o=[],s=1e-4,{pixelType:a,rasterAttributeTable:l}=t,c=null==l?null:l.features,u=q(l);if(u&&c&&Array.isArray(c)&&e.classBreakInfos){e.classBreakInfos.forEach(((t,n)=>{const r=t.symbol?.color;let i;r?.a&&null!=t.minValue&&null!=t.maxValue&&c.forEach((s=>{null!=t.minValue&&null!=t.maxValue&&(i=s.attributes[e.field],(i>=t.minValue&&i<t.maxValue||n===e.classBreakInfos.length-1&&i>=t.minValue)&&o.push([s.attributes[u],r.r,r.g,r.b]))}))}));const n=a?G(o,a):o,r=new E.A;return r.functionName="Colormap",r.functionArguments={},r.functionArguments.Colormap=n,r.variableName="Raster",t.convertToRFT?new E.A({rasterFunctionDefinition:z(r)}):r}e.classBreakInfos.forEach(((e,t)=>{if(null==e.minValue||null==e.maxValue)return;const a=e.symbol&&e.symbol.color;a?.a?(0===t?n.push(e.minValue,e.maxValue+s):n.push(e.minValue+s,e.maxValue+s),r.push(t),o.push([t,a.r,a.g,a.b])):i.push(e.minValue,e.maxValue)}));const d=a?G(o,a):o,h=new E.A;h.functionName="Remap",h.functionArguments={InputRanges:n,OutputValues:r,NoDataRanges:i},h.variableName="Raster";const p=new E.A;return p.functionName="Colormap",p.functionArguments={Colormap:d,Raster:h},t.convertToRFT?new E.A({rasterFunctionDefinition:z(p)}):p}(e,t);case"unique-value":return function(e,t){const n=[],{pixelType:r,rasterAttributeTable:i}=t,o=null==i?null:i.features,s=q(i),a=e.defaultSymbol?.color?.toRgb(),l=e.uniqueValueInfos;if(l)if(o){if(s){const t=new Map;l.forEach((e=>{const n=e.value,r=H(e);null!=n&&r?.a&&t.set(String(n),r.toRgb())}));const r=e.field;r&&o.forEach((({attributes:e})=>{const i=String(e[r]),o=e[s],l=t.get(i);l?n.push([o,...l]):a&&n.push([o,...a])}))}}else for(let e=0;e<l.length;e++){const t=l[e],r=H(t),i=+t.value;if(r?.a){if(isNaN(i))return null;n.push([i,r.r,r.g,r.b])}}const c=r?G(n,r):n,u=new E.A;return u.functionName="Colormap",u.functionArguments={},u.functionArguments.Colormap=c,u.variableName="Raster",t.convertToRFT?new E.A({rasterFunctionDefinition:z(u)}):u}(e,t);case"raster-colormap":return function(e,t){const n=e.extractColormap();if(!n||0===n.length)return null;const{pixelType:r}=t,i=r?G(n,r):n,o=new E.A;return o.functionName="Colormap",o.functionArguments={},o.functionArguments.Colormap=i,t.convertToRFT?new E.A({rasterFunctionDefinition:z(o)}):o}(e,t);case"vector-field":return function(e,t){const n=new E.A;n.functionName="VectorFieldRenderer";const{dataType:r,bandNames:i}=t,o="vector-uv"===r;let s,a;if(i&&2===i.length){const e=i.map((e=>e.toLowerCase()));s=e.indexOf("magnitude"),a=e.indexOf("direction")}-1!==s&&null!==s||(s=0,a=1);const l="arithmetic"===e.rotationType?1:2,c="flow-from"===e.flowRepresentation?0:1,u=e.visualVariables?e.visualVariables.find((e=>"Magnitude"===e.field)):new N.A,d={magnitudeBandID:s,directionBandID:a,isUVComponents:o,referenceSystem:l,massFlowAngleRepresentation:c,symbolTileSize:50,symbolTileSizeUnits:100,calculationMethod:"Vector Average",symbologyName:D[e.style.toLowerCase().replace("-","_")],minimumMagnitude:u.minDataValue,maximumMagnitude:u.maxDataValue,minimumSymbolSize:u.minSize,maximumSymbolSize:u.maxSize};n.functionArguments=d;const h=z(n);return t.convertToRFT?E.A.fromJSON({rasterFunctionDefinition:h}):n}(e,t);case"raster-shaded-relief":return function(e,t){const n=t.convertToRFT;if("elevation"!==t.dataType&&("generic"!==t.dataType||1!==t.bandCount||"s16"!==t.pixelType&&"s32"!==t.pixelType&&"f32"!==t.pixelType&&"f64"!==t.pixelType))return new E.A;const r=new E.A;r.functionName="Hillshade";const i="traditional"===e.hillshadeType?0:1,o="none"===e.scalingType?1:3,s={HillshadeType:i,SlopeType:o,ZFactor:e.zFactor};return 0===i&&(s.Azimuth=e.azimuth,s.Altitude=e.altitude),3===o&&(s.PSPower=e.pixelSizePower,s.PSZFactor=e.pixelSizeFactor),r.functionArguments=s,r.variableName="Raster",e.colorRamp&&(r.functionName="ShadedRelief",n?s.ColorRamp=(0,R.hf)(e.colorRamp):s.Colormap=(0,R.R8)(e.colorRamp)),n?new E.A({rasterFunctionDefinition:z(r)}):r}(e,t);case"flow":throw new Error("Unsupported rendering rule.")}}function B(e){const t=e?.Raster??e?.raster;return t&&"esri.layers.support.RasterFunction"===t.declaredClass?B(t.functionArguments):e}const $={none:0,standardDeviation:3,histogramEqualization:4,minMax:5,percentClip:6,sigmoid:9};function G(e,t){const n=L.has(t)?(0,k.hP)(t):null;return n&&e.push([Math.floor(n[0]-1),0,0,0],[Math.ceil(n[1]+1),0,0,0]),e}function q(e){if(null==e)return;const{fields:t}=e,n=t?.find((e=>e?.name&&"value"===e.name.toLowerCase()));return n?.name}function H(e){return"polygon-3d"===e.symbol?.type?e.symbol.symbolLayers?.find((e=>"fill"===e.type))?.material?.color:e.symbol?.color}function W(e){const t=[],n=[];return e.forEach((e=>{t.push(e[0]),n.push((0,R.vL)([...e.slice(1),255]))})),{type:"RasterColormap",values:t,colors:n}}var J=n(10576),K=n(33673);let Y=class extends C.A{constructor(){super(...arguments),this.layer=null,this.requestRawData=!1,this.compression=void 0,this.lercVersion=2}get adjustAspectRatio(){return this.layer.adjustAspectRatio}writeAdjustAspectRatio(e,t,n){this.layer.version<10.3||(t[n]=e)}get bandIds(){return this.layer.bandIds}get compressionQuality(){return this.layer.compressionQuality}writeCompressionQuality(e,t,n){this.format&&this.format.toLowerCase().includes("jpg")&&null!=e&&(t[n]=e)}get compressionTolerance(){return this.layer.compressionTolerance}writeCompressionTolerance(e,t,n){"lerc"===this.format&&null!=e&&(t[n]=e)}get format(){return this.requestRawData||"vector-field"===this.layer.renderer?.type?"lerc":this.layer.format}get interpolation(){return this.layer.interpolation}get noData(){return this.layer.noData}get noDataInterpretation(){return this.layer.noDataInterpretation}get pixelType(){const{layer:e}=this;return e.pixelType!==e.serviceRasterInfo.pixelType?e.pixelType:void 0}writeLercVersion(e,t,n){"lerc"===this.format&&this.layer.version>=10.5&&(t[n]=e)}get version(){const e=this.layer;return e.commitProperty("bandIds"),e.commitProperty("format"),e.commitProperty("compressionQuality"),e.commitProperty("compressionTolerance"),e.commitProperty("interpolation"),e.commitProperty("noData"),e.commitProperty("noDataInterpretation"),e.commitProperty("mosaicRule"),e.commitProperty("rasterFunction"),e.commitProperty("adjustAspectRatio"),e.commitProperty("pixelFilter"),e.commitProperty("pixelType"),e.commitProperty("definitionExpression"),e.commitProperty("multidimensionalSubset"),(this._get("version")||0)+1}set version(e){this._set("version",e)}get mosaicRule(){const e=this.layer;let t=e.mosaicRule;const n=e.definitionExpression;return t?n&&n!==t.where&&(t=t.clone(),t.where=n):n&&(t=new J.A({where:n})),t}get rasterFunction(){const e=this.layer;let{rasterFunction:t}=e;const n=e.pixelFilter,r=!e.format||e.format.includes("jpg")||e.format.includes("png");this.requestRawData||(t=this._addResampleRasterFunction(t));const i=e.multidimensionalSubset?.areaOfInterest;return i&&(t=function(e,t){const n=new E.A({functionName:"Clip",functionArguments:{ClippingGeometry:t.toJSON(),ClippingType:1}});return Z(n,e)}(t,i)),this.requestRawData||!r||n||"vector-field"===e.renderer?.type||(t=this.combineRendererWithRenderingRule(t)),t}combineRendererWithRenderingRule(e){const t=this.layer,{rasterInfo:n,renderer:r}=t;return e=e||t.rasterFunction,r&&j(r)?Z(V(r,{rasterAttributeTable:n.attributeTable,pixelType:n.pixelType,dataType:n.dataType,bandNames:n.bandInfos.map((({name:e})=>e)),convertColorRampToColormap:t.version<10.6,convertToRFT:!!e?.rasterFunctionDefinition,bandCount:n.bandCount}),e):e}_addResampleRasterFunction(e){if("vector-field"!==this.layer.renderer?.type||"Resample"===e?.functionName)return e;const t="esriImageServiceDataTypeVector-UV"===this.layer.serviceDataType?7:10,n=this.layer.serviceRasterInfo.pixelSize;let r=new E.A({functionName:"Resample",functionArguments:{ResamplingType:t,InputCellSize:n}});return r=e?.rasterFunctionDefinition?new E.A({rasterFunctionDefinition:z(r)}):r,Z(r,e)}};(0,r._)([(0,c.MZ)()],Y.prototype,"layer",void 0),(0,r._)([(0,c.MZ)()],Y.prototype,"requestRawData",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],Y.prototype,"adjustAspectRatio",null),(0,r._)([(0,h.K)("adjustAspectRatio")],Y.prototype,"writeAdjustAspectRatio",null),(0,r._)([(0,c.MZ)({json:{write:!0}})],Y.prototype,"bandIds",null),(0,r._)([(0,c.MZ)({json:{write:!0}})],Y.prototype,"compression",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],Y.prototype,"compressionQuality",null),(0,r._)([(0,h.K)("compressionQuality")],Y.prototype,"writeCompressionQuality",null),(0,r._)([(0,c.MZ)({json:{write:!0}})],Y.prototype,"compressionTolerance",null),(0,r._)([(0,h.K)("compressionTolerance")],Y.prototype,"writeCompressionTolerance",null),(0,r._)([(0,c.MZ)({json:{write:!0}})],Y.prototype,"format",null),(0,r._)([(0,c.MZ)({type:String,json:{read:{reader:K.SZ.read},write:{writer:K.SZ.write}}})],Y.prototype,"interpolation",null),(0,r._)([(0,c.MZ)({json:{write:!0}})],Y.prototype,"noData",null),(0,r._)([(0,c.MZ)({type:String,json:{read:{reader:K.hm.read},write:{writer:K.hm.write}}})],Y.prototype,"noDataInterpretation",null),(0,r._)([(0,c.MZ)({type:K.e8.apiValues,json:{read:K.e8.read,write:K.e8.write}})],Y.prototype,"pixelType",null),(0,r._)([(0,c.MZ)({json:{write:!0}})],Y.prototype,"lercVersion",void 0),(0,r._)([(0,h.K)("lercVersion")],Y.prototype,"writeLercVersion",null),(0,r._)([(0,c.MZ)({type:Number})],Y.prototype,"version",null),(0,r._)([(0,c.MZ)({json:{write:!0}})],Y.prototype,"mosaicRule",null),(0,r._)([(0,c.MZ)({json:{write:!0,name:"renderingRule"}})],Y.prototype,"rasterFunction",null),Y=(0,r._)([(0,d.$)("esri.layers.support.ExportImageServiceParameters")],Y);var X=n(45352),Q=n(51387),ee=n(15089),te=n(6902),ne=n(83371),re=n(12782),ie=n(60131),oe=n(28930),se=n(1523),ae=n(20503),le=n(19642),ce=n(45501),ue=n(84348),de=n(56053),he=n(87249),pe=n(36321),fe=n(1912);let me=class extends(o.A.ClonableMixin(C.A)){constructor(){super(...arguments),this.fromGeometry=null,this.toGeometry=null,this.objectIds=null,this.where=null,this.maxCount=null}};(0,r._)([(0,c.MZ)({type:fe.A,json:{read:!0}})],me.prototype,"fromGeometry",void 0),(0,r._)([(0,c.MZ)({type:fe.A,json:{read:!0,write:!0}})],me.prototype,"toGeometry",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],me.prototype,"objectIds",void 0),(0,r._)([(0,c.MZ)({type:String,json:{write:!0}})],me.prototype,"where",void 0),(0,r._)([(0,c.MZ)({type:Number,json:{write:!0}})],me.prototype,"maxCount",void 0),me=(0,r._)([(0,d.$)("esri.rest.support.FindImagesParameters")],me);const ye=e=>{let t=class extends e{constructor(){super(...arguments),this.make=null,this.model=null,this.focalLength=null,this.pixelSize=null,this.rows=null,this.cols=null}};return(0,r._)([(0,c.MZ)({json:{write:!0}})],t.prototype,"make",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],t.prototype,"model",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],t.prototype,"focalLength",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],t.prototype,"pixelSize",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],t.prototype,"rows",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],t.prototype,"cols",void 0),t=(0,r._)([(0,d.$)("esri.rest.support.CameraInfoMixin")],t),t};let ge=class extends(ye(C.A)){constructor(){super(...arguments),this.id=null,this.referenceUri=null,this.acquisitionDate=null,this.cameraID=null,this.center=null,this.perspectiveCenter=null,this.orientation=null}writeAcquisitionDate(e,t){t.acquisitionDate=e?.getTime()}};(0,r._)([(0,c.MZ)({json:{write:!0}})],ge.prototype,"id",void 0),(0,r._)([(0,c.MZ)({json:{name:"uri",write:!0}})],ge.prototype,"referenceUri",void 0),(0,r._)([(0,c.MZ)({type:Date,json:{write:!0}})],ge.prototype,"acquisitionDate",void 0),(0,r._)([(0,h.K)("acquisitionDate")],ge.prototype,"writeAcquisitionDate",null),(0,r._)([(0,c.MZ)({json:{write:!0}})],ge.prototype,"cameraID",void 0),(0,r._)([(0,c.MZ)({type:fe.A,json:{write:!0}})],ge.prototype,"center",void 0),(0,r._)([(0,c.MZ)({type:fe.A,json:{write:!0}})],ge.prototype,"perspectiveCenter",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],ge.prototype,"orientation",void 0),ge=(0,r._)([(0,d.$)("esri.rest.support.ImageInspectionInfo")],ge);const ve=ge;let be=class extends C.A{constructor(){super(...arguments),this.images=null}};var we;(0,r._)([(0,c.MZ)({type:[ve],json:{write:!0}})],be.prototype,"images",void 0),be=(0,r._)([(0,d.$)("esri.rest.support.FindImagesResult")],be);let _e=we=class extends C.A{constructor(e){super(e),this.angleNames=null,this.point=null,this.spatialReference=null,this.rasterId=null}clone(){return new we((0,g.o8)({angleNames:this.angleNames,point:this.point,spatialReference:this.spatialReference,rasterId:this.rasterId}))}};(0,r._)([(0,c.MZ)({type:[String],json:{name:"angleName",write:!0}})],_e.prototype,"angleNames",void 0),(0,r._)([(0,c.MZ)({type:fe.A,json:{write:!0}})],_e.prototype,"point",void 0),(0,r._)([(0,c.MZ)({type:M.A,json:{write:!0}})],_e.prototype,"spatialReference",void 0),(0,r._)([(0,c.MZ)({type:w.jz,json:{write:!0}})],_e.prototype,"rasterId",void 0),_e=we=(0,r._)([(0,d.$)("esri.rest.support.ImageAngleParameters")],_e);let Se=class extends C.A{constructor(e){super(e),this.north=null,this.up=null,this.spatialReference=null}};(0,r._)([(0,c.MZ)({type:Number,json:{write:!0}})],Se.prototype,"north",void 0),(0,r._)([(0,c.MZ)({type:Number,json:{write:!0}})],Se.prototype,"up",void 0),(0,r._)([(0,c.MZ)({type:M.A,json:{write:!0}})],Se.prototype,"spatialReference",void 0),Se=(0,r._)([(0,d.$)("esri.rest.support.ImageAngleResult")],Se);var xe=n(5262),Me=n(54483),Ae=n(1817);const Te=new Ae.J({esriMensurationPoint:"point",esriMensurationCentroid:"centroid",esriMensurationDistanceAndAngle:"distance-and-angle",esriMensurationAreaAndPerimeter:"area-and-perimeter",esriMensurationHeightFromBaseAndTop:"base-and-top",esriMensurationHeightFromBaseAndTopShadow:"base-and-top-shadow",esriMensurationHeightFromTopAndTopShadow:"top-and-top-shadow",esriMensurationPoint3D:"point-3D",esriMensurationCentroid3D:"centroid-3D",esriMensurationDistanceAndAngle3D:"distance-and-angle-3D",esriMensurationAreaAndPerimeter3D:"area-and-perimeter-3D"});let Ie=class extends C.A{constructor(){super(...arguments),this.value=null,this.displayValue=null,this.uncertainty=null}};(0,r._)([(0,c.MZ)({type:Number,json:{read:!0,write:!0}})],Ie.prototype,"value",void 0),(0,r._)([(0,c.MZ)({type:String,json:{read:!0,write:!0}})],Ie.prototype,"displayValue",void 0),(0,r._)([(0,c.MZ)({type:Number,json:{read:!0,write:!0}})],Ie.prototype,"uncertainty",void 0),Ie=(0,r._)([(0,d.$)("esri.rest.support.imageMeasureUtils.BaseImageMeasureResultValue")],Ie);let Ce=class extends Ie{constructor(){super(...arguments),this.unit=null}};(0,r._)([(0,c.MZ)({type:String,json:{read:xe.Sk.read,write:xe.Sk.write}})],Ce.prototype,"unit",void 0),Ce=(0,r._)([(0,d.$)("esri.rest.support.imageMeasureUtils.ImageMeasureResultLengthValue")],Ce);let Ee=class extends Ie{constructor(){super(...arguments),this.unit=null}};(0,r._)([(0,c.MZ)({type:String,json:{read:xe.dk.read,write:xe.dk.write}})],Ee.prototype,"unit",void 0),Ee=(0,r._)([(0,d.$)("esri.rest.support.imageMeasureUtils.ImageMeasureResultAreaValue")],Ee);let ke=class extends Ie{constructor(){super(...arguments),this.unit=null}};(0,r._)([(0,c.MZ)({type:String,json:{read:xe.b$.read,write:xe.b$.write}})],ke.prototype,"unit",void 0),ke=(0,r._)([(0,d.$)("esri.rest.support.imageMeasureUtils.ImageMeasureResultAngleValue")],ke);let Pe=class extends C.A{constructor(e){super(e),this.type=null,this.measureOperation=null,this.mosaicRule=null,this.pixelSize=null,this.raster=void 0}};var Re;(0,r._)([(0,c.MZ)()],Pe.prototype,"type",void 0),(0,r._)([(0,c.MZ)({type:Te.apiValues,json:{read:Te.read,write:Te.write}})],Pe.prototype,"measureOperation",void 0),(0,r._)([(0,c.MZ)({type:J.A,json:{write:!0}})],Pe.prototype,"mosaicRule",void 0),(0,r._)([(0,c.MZ)({type:fe.A,json:{write:!0}})],Pe.prototype,"pixelSize",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],Pe.prototype,"raster",void 0),Pe=(0,r._)([(0,d.$)("esri.rest.support.BaseImageMeasureParameters")],Pe);let Oe=Re=class extends Pe{constructor(){super(...arguments),this.type="area-perimeter",this.geometry=null,this.is3D=!1,this.linearUnit="meters",this.areaUnit="square-meters"}writeGeometry(e,t,n){null!=e&&(t.geometryType=(0,de.$B)(e),t[n]=e.toJSON())}get measureOperation(){return this.is3D?"area-and-perimeter-3D":"area-and-perimeter"}clone(){return new Re((0,g.o8)({geometry:this.geometry,is3D:this.is3D,linearUnit:this.linearUnit,areaUnit:this.areaUnit,mosaicRule:this.mosaicRule,pixelSize:this.pixelSize,raster:this.raster}))}};(0,r._)([(0,c.MZ)({types:Me.yR,json:{name:"fromGeometry",read:!0,write:!0}})],Oe.prototype,"geometry",void 0),(0,r._)([(0,h.K)("geometry")],Oe.prototype,"writeGeometry",null),(0,r._)([(0,c.MZ)({type:Te.apiValues,json:{write:Te.write}})],Oe.prototype,"measureOperation",null),(0,r._)([(0,c.MZ)({json:{read:!0}})],Oe.prototype,"is3D",void 0),(0,r._)([(0,c.MZ)({type:String,json:{read:xe.Sk.read,write:xe.Sk.write}})],Oe.prototype,"linearUnit",void 0),(0,r._)([(0,c.MZ)({type:String,json:{read:xe.dk.read,write:xe.dk.write}})],Oe.prototype,"areaUnit",void 0),Oe=Re=(0,r._)([(0,d.$)("esri.rest.support.ImageAreaParameters")],Oe);let Ne=class extends C.A{constructor(e){super(e),this.name=null,this.sensorName=null}};(0,r._)([(0,c.MZ)({type:String,json:{read:!0,write:!0}})],Ne.prototype,"name",void 0),(0,r._)([(0,c.MZ)({type:String,json:{read:!0,write:!0}})],Ne.prototype,"sensorName",void 0),Ne=(0,r._)([(0,d.$)("esri.rest.support.BaseImageMeasureResult")],Ne);let Le=class extends Ne{constructor(){super(...arguments),this.area=null,this.perimeter=null}};(0,r._)([(0,c.MZ)({type:Ee,json:{read:!0,write:!0}})],Le.prototype,"area",void 0),(0,r._)([(0,c.MZ)({type:Ce,json:{read:!0,write:!0}})],Le.prototype,"perimeter",void 0),Le=(0,r._)([(0,d.$)("esri.rest.support.ImageAreaResult")],Le);let De=class extends(o.A.ClonableMixin(C.A)){constructor(){super(...arguments),this.outSpatialReference=null}};(0,r._)([(0,c.MZ)({type:M.A,json:{name:"outSR",write:!0}})],De.prototype,"outSpatialReference",void 0),De=(0,r._)([(0,d.$)("esri.rest.support.ImageBoundaryParameters")],De);let Fe=class extends C.A{constructor(){super(...arguments),this.area=null,this.geometry=null}readGeometry(e,t){return null==e?null:e.rings?x.A.fromJSON(e):S.A.fromJSON(e)}};var je;(0,r._)([(0,c.MZ)({type:Number,json:{write:!0}})],Fe.prototype,"area",void 0),(0,r._)([(0,c.MZ)({types:Me.yR,json:{name:"shape",write:!0}})],Fe.prototype,"geometry",void 0),(0,r._)([(0,_.w)("geometry")],Fe.prototype,"readGeometry",null),Fe=(0,r._)([(0,d.$)("esri.rest.support.ImageBoundaryResult")],Fe);let Ze=je=class extends Pe{constructor(){super(...arguments),this.type="distance-angle",this.fromGeometry=null,this.toGeometry=null,this.is3D=!1,this.linearUnit="meters",this.angularUnit="degrees"}writeFromGeometry(e,t,n){null!=e&&(t.geometryType=(0,de.$B)(e),t[n]=e.toJSON())}get measureOperation(){return this.is3D?"distance-and-angle-3D":"distance-and-angle"}clone(){return new je((0,g.o8)({fromGeometry:this.fromGeometry,toGeometry:this.toGeometry,is3D:this.is3D,linearUnit:this.linearUnit,angularUnit:this.angularUnit,mosaicRule:this.mosaicRule,pixelSize:this.pixelSize,raster:this.raster}))}};(0,r._)([(0,c.MZ)({type:fe.A,json:{read:!0,write:!0}})],Ze.prototype,"fromGeometry",void 0),(0,r._)([(0,h.K)("fromGeometry")],Ze.prototype,"writeFromGeometry",null),(0,r._)([(0,c.MZ)({type:fe.A,json:{read:!0,write:!0}})],Ze.prototype,"toGeometry",void 0),(0,r._)([(0,c.MZ)({type:Te.apiValues,json:{write:Te.write}})],Ze.prototype,"measureOperation",null),(0,r._)([(0,c.MZ)({json:{read:!0}})],Ze.prototype,"is3D",void 0),(0,r._)([(0,c.MZ)({type:String,json:{read:xe.Sk.read,write:xe.Sk.write}})],Ze.prototype,"linearUnit",void 0),(0,r._)([(0,c.MZ)({type:String,json:{read:xe.b$.read,write:xe.b$.write}})],Ze.prototype,"angularUnit",void 0),Ze=je=(0,r._)([(0,d.$)("esri.rest.support.ImageDistanceParameters")],Ze);let Ue=class extends Ne{constructor(){super(...arguments),this.distance=null,this.azimuthAngle=null,this.elevationAngle=null}};(0,r._)([(0,c.MZ)({type:Ce,json:{read:!0,write:!0}})],Ue.prototype,"distance",void 0),(0,r._)([(0,c.MZ)({type:ke,json:{read:!0,write:!0}})],Ue.prototype,"azimuthAngle",void 0),(0,r._)([(0,c.MZ)({type:ke,json:{read:!0,write:!0}})],Ue.prototype,"elevationAngle",void 0),Ue=(0,r._)([(0,d.$)("esri.rest.support.ImageDistanceResult")],Ue);var ze=n(85716),Ve=n(24193),Be=n(72991);let $e=class extends(o.A.ClonableMixin(C.A)){constructor(){super(...arguments),this.geometry=null,this.objectIds=null,this.spatialRelationship="intersects",this.timeExtent=null,this.where=null}writeGeometry(e,t,n){null!=e&&(t.geometryType=(0,de.$B)(e),t[n]=JSON.stringify(e.toJSON()))}};(0,r._)([(0,c.MZ)({types:Me.yR,json:{read:de.rS,write:!0}})],$e.prototype,"geometry",void 0),(0,r._)([(0,h.K)("geometry")],$e.prototype,"writeGeometry",null),(0,r._)([(0,c.MZ)({json:{write:!0}})],$e.prototype,"objectIds",void 0),(0,r._)([(0,ze.e)(Ve.x,{ignoreUnknown:!1,name:"spatialRel"})],$e.prototype,"spatialRelationship",void 0),(0,r._)([(0,c.MZ)({type:Be.T,json:{name:"time",write:!0}})],$e.prototype,"timeExtent",void 0),(0,r._)([(0,c.MZ)({type:String,json:{write:!0}})],$e.prototype,"where",void 0),$e=(0,r._)([(0,d.$)("esri.rest.support.ImageGPSInfoParameters")],$e);let Ge=class extends(ye(C.A)){constructor(){super(...arguments),this.id=null}};(0,r._)([(0,c.MZ)({json:{write:!0}})],Ge.prototype,"id",void 0),Ge=(0,r._)([(0,d.$)("esri.rest.support.CameraInfo")],Ge);const qe=Ge;let He=class extends C.A{constructor(){super(...arguments),this.id=null,this.name=null,this.acquisitionDate=null,this.cameraID=null,this.center=null,this.gps=null,this.orientation=null}writeAcquisitionDate(e,t){t.acquisitionDate=e?.getTime()}};(0,r._)([(0,c.MZ)({json:{write:!0}})],He.prototype,"id",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],He.prototype,"name",void 0),(0,r._)([(0,c.MZ)({type:Date,json:{write:!0}})],He.prototype,"acquisitionDate",void 0),(0,r._)([(0,h.K)("acquisitionDate")],He.prototype,"writeAcquisitionDate",null),(0,r._)([(0,c.MZ)({json:{write:!0}})],He.prototype,"cameraID",void 0),(0,r._)([(0,c.MZ)({type:fe.A,json:{write:!0}})],He.prototype,"center",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],He.prototype,"gps",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],He.prototype,"orientation",void 0),He=(0,r._)([(0,d.$)("esri.rest.support.ImageGPSInfo")],He);const We=He;let Je=class extends C.A{constructor(){super(...arguments),this.images=null,this.cameras=null}};var Ke;(0,r._)([(0,c.MZ)({type:[We],json:{write:!0}})],Je.prototype,"images",void 0),(0,r._)([(0,c.MZ)({type:[qe],json:{write:!0}})],Je.prototype,"cameras",void 0),Je=(0,r._)([(0,d.$)("esri.rest.support.ImageGPSInfoResult")],Je);let Ye=Ke=class extends Pe{constructor(){super(...arguments),this.type="height",this.fromGeometry=null,this.toGeometry=null,this.operationType="base-and-top",this.linearUnit="meters"}writeFromGeometry(e,t,n){null!=e&&(t.geometryType=(0,de.$B)(e),t[n]=e.toJSON())}get measureOperation(){return this.operationType}clone(){return new Ke((0,g.o8)({fromGeometry:this.fromGeometry,toGeometry:this.toGeometry,operationType:this.operationType,linearUnit:this.linearUnit,mosaicRule:this.mosaicRule,pixelSize:this.pixelSize,raster:this.raster}))}};(0,r._)([(0,c.MZ)({type:fe.A,json:{read:!0}})],Ye.prototype,"fromGeometry",void 0),(0,r._)([(0,h.K)("fromGeometry")],Ye.prototype,"writeFromGeometry",null),(0,r._)([(0,c.MZ)({type:fe.A,json:{read:!0,write:!0}})],Ye.prototype,"toGeometry",void 0),(0,r._)([(0,c.MZ)({type:Te.apiValues,json:{write:Te.write}})],Ye.prototype,"measureOperation",null),(0,r._)([(0,c.MZ)({json:{read:!0}})],Ye.prototype,"operationType",void 0),(0,r._)([(0,c.MZ)({type:String,json:{read:xe.Sk.read,write:xe.Sk.write}})],Ye.prototype,"linearUnit",void 0),Ye=Ke=(0,r._)([(0,d.$)("esri.rest.support.ImageHeightParameters")],Ye);let Xe=class extends Ne{constructor(){super(...arguments),this.height=null}};(0,r._)([(0,c.MZ)({type:Ce,json:{read:!0,write:!0}})],Xe.prototype,"height",void 0),Xe=(0,r._)([(0,d.$)("esri.rest.support.ImageHeightResult")],Xe);var Qe,et=n(27963);let tt=Qe=class extends C.A{constructor(){super(...arguments),this.geometry=null,this.rasterFunctions=null,this.pixelSize=null,this.returnGeometry=!0,this.returnCatalogItems=!0,this.returnPixelValues=!0,this.maxItemCount=null,this.timeExtent=null,this.raster=void 0,this.viewId=void 0,this.processAsMultidimensional=!1}writeGeometry(e,t,n){null!=e&&(t.geometryType=(0,de.$B)(e),t[n]=JSON.stringify(e.toJSON()))}set mosaicRule(e){let t=e;t?.mosaicMethod&&(t=J.A.fromJSON({...t.toJSON(),mosaicMethod:t.mosaicMethod,mosaicOperation:t.mosaicOperation})),this._set("mosaicRule",t)}writeMosaicRule(e,t,n){null!=e&&(t[n]=JSON.stringify(e.toJSON()))}set rasterFunction(e){let t=e;t?.rasterFunction&&(t=E.A.fromJSON({...t.toJSON(),rasterFunction:t.rasterFunction,rasterFunctionArguments:t.rasterFunctionArguments})),this._set("rasterFunction",t)}writeRasterFunction(e,t,n){null!=e&&(t[n]=JSON.stringify(e.toJSON())),e.rasterFunctionDefinition&&(t[n]=JSON.stringify(e.rasterFunctionDefinition))}writeRasterFunctions(e,t,n){null!=e&&(t[n]=JSON.stringify(e.map((e=>e.rasterFunctionDefinition||e.toJSON()))))}writePixelSize(e,t,n){null!=e&&(t[n]=JSON.stringify(e))}writeTimeExtent(e,t,n){if(null!=e){const r=null!=e.start?e.start.getTime():null,i=null!=e.end?e.end.getTime():null;t[n]=null!=r?null!=i?`${r},${i}`:`${r}`:null}}clone(){return new Qe((0,g.o8)({geometry:this.geometry,mosaicRule:this.mosaicRule,rasterFunction:this.rasterFunction,rasterFunctions:this.rasterFunctions,pixelSize:this.pixelSize,returnGeometry:this.returnGeometry,returnCatalogItems:this.returnCatalogItems,returnPixelValues:this.returnPixelValues,maxItemCount:this.maxItemCount,processAsMultidimensional:this.processAsMultidimensional,raster:this.raster,viewId:this.viewId,timeExtent:this.timeExtent}))}};(0,r._)([(0,c.MZ)({types:Me.yR,json:{write:!0}})],tt.prototype,"geometry",void 0),(0,r._)([(0,h.K)("geometry")],tt.prototype,"writeGeometry",null),(0,r._)([(0,c.MZ)({type:J.A,json:{write:!0}})],tt.prototype,"mosaicRule",null),(0,r._)([(0,h.K)("mosaicRule")],tt.prototype,"writeMosaicRule",null),(0,r._)([(0,c.MZ)({type:E.A,json:{write:!0,name:"renderingRule"}})],tt.prototype,"rasterFunction",null),(0,r._)([(0,h.K)("rasterFunction")],tt.prototype,"writeRasterFunction",null),(0,r._)([(0,c.MZ)({type:[E.A],json:{write:!0,name:"renderingRules"}})],tt.prototype,"rasterFunctions",void 0),(0,r._)([(0,h.K)("rasterFunctions")],tt.prototype,"writeRasterFunctions",null),(0,r._)([(0,c.MZ)({type:fe.A,json:{write:!0}})],tt.prototype,"pixelSize",void 0),(0,r._)([(0,h.K)("pixelSize")],tt.prototype,"writePixelSize",null),(0,r._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],tt.prototype,"returnGeometry",void 0),(0,r._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],tt.prototype,"returnCatalogItems",void 0),(0,r._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],tt.prototype,"returnPixelValues",void 0),(0,r._)([(0,c.MZ)({type:Number,json:{write:!0}})],tt.prototype,"maxItemCount",void 0),(0,r._)([(0,c.MZ)({type:Be.T,json:{write:{target:"time"}}})],tt.prototype,"timeExtent",void 0),(0,r._)([(0,h.K)("timeExtent")],tt.prototype,"writeTimeExtent",null),(0,r._)([(0,c.MZ)({json:{write:!0}})],tt.prototype,"raster",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],tt.prototype,"viewId",void 0),(0,r._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],tt.prototype,"processAsMultidimensional",void 0),tt=Qe=(0,r._)([(0,d.$)("esri.rest.support.ImageIdentifyParameters")],tt);var nt=n(74704);let rt=class extends C.A{constructor(){super(...arguments),this.catalogItemVisibilities=null,this.catalogItems=null,this.location=null,this.name=null,this.objectId=null,this.processedValues=null,this.properties=null,this.value=null}};var it;(0,r._)([(0,c.MZ)({json:{write:!0}})],rt.prototype,"catalogItemVisibilities",void 0),(0,r._)([(0,c.MZ)({type:nt.A,json:{write:!0}})],rt.prototype,"catalogItems",void 0),(0,r._)([(0,c.MZ)({type:fe.A,json:{write:!0}})],rt.prototype,"location",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],rt.prototype,"name",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],rt.prototype,"objectId",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],rt.prototype,"processedValues",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],rt.prototype,"properties",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],rt.prototype,"value",void 0),rt=(0,r._)([(0,d.$)("esri.rest.support.ImageIdentifyResult")],rt);let ot=it=class extends C.A{constructor(){super(...arguments),this.geometries=null,this.rasterId=null}writeGeometry(e,t,n){t.geometries={geometryType:"esriGeometryPoint",geometries:e.map((e=>e.toJSON()))}}clone(){return new it({geometries:this.geometries?.map((e=>e.clone()))??[],rasterId:this.rasterId})}};(0,r._)([(0,c.MZ)({type:[fe.A],json:{write:!0}})],ot.prototype,"geometries",void 0),(0,r._)([(0,h.K)("geometries")],ot.prototype,"writeGeometry",null),(0,r._)([(0,c.MZ)({type:w.jz,json:{write:!0}})],ot.prototype,"rasterId",void 0),ot=it=(0,r._)([(0,d.$)("esri.rest.support.ImagePixelLocationParameters")],ot);let st=class extends C.A{constructor(){super(...arguments),this.geometries=null}};var at;(0,r._)([(0,c.MZ)({json:{write:!0}})],st.prototype,"geometries",void 0),st=(0,r._)([(0,d.$)("esri.rest.support.ImagePixelLocationResult")],st);let lt=at=class extends Pe{constructor(){super(...arguments),this.type="point",this.geometry=null,this.is3D=!1}writeGeometry(e,t,n){null!=e&&(t.geometryType=(0,de.$B)(e),t[n]=e.toJSON())}get measureOperation(){const{is3D:e,geometry:t}=this;return"point"===t.type?e?"point-3D":"point":e?"centroid-3D":"centroid"}clone(){return new at((0,g.o8)({geometry:this.geometry,is3D:this.is3D,mosaicRule:this.mosaicRule,pixelSize:this.pixelSize,raster:this.raster}))}};(0,r._)([(0,c.MZ)({types:Me.yR,json:{name:"fromGeometry",read:de.rS}})],lt.prototype,"geometry",void 0),(0,r._)([(0,h.K)("geometry")],lt.prototype,"writeGeometry",null),(0,r._)([(0,c.MZ)({type:Te.apiValues,json:{read:Te.read,write:Te.write}})],lt.prototype,"measureOperation",null),(0,r._)([(0,c.MZ)({json:{read:!0}})],lt.prototype,"is3D",void 0),lt=at=(0,r._)([(0,d.$)("esri.rest.support.ImagePointParameters")],lt);let ct=class extends Ne{constructor(){super(...arguments),this.point=null}};(0,r._)([(0,c.MZ)({type:fe.A,json:{name:"point.value",read:!0,write:!0}})],ct.prototype,"point",void 0),ct=(0,r._)([(0,d.$)("esri.rest.support.ImagePointResult")],ct);var ut=n(70427),dt=n(86466);let ht=class extends(o.A.ClonableMixin(C.A)){constructor(){super(...arguments),this.geometries=[],this.rasterIds=null,this.outSpatialReference=null}writeGeometries(e,t,n){t.geometries=e?.length?{geometryType:(0,de.$B)(e[0]),geometries:e.map((e=>({...e.toJSON(),spatialReference:void 0})))}:null}};(0,r._)([(0,c.MZ)({types:[Me.yR]})],ht.prototype,"geometries",void 0),(0,r._)([(0,h.K)("geometries")],ht.prototype,"writeGeometries",null),(0,r._)([(0,c.MZ)({type:[w.jz],json:{write:!0}})],ht.prototype,"rasterIds",void 0),(0,r._)([(0,c.MZ)({type:M.A,json:{name:"outSR",write:!0}})],ht.prototype,"outSpatialReference",void 0),ht=(0,r._)([(0,d.$)("esri.rest.support.ImageToMapMultirayParameters")],ht);let pt=class extends(o.A.ClonableMixin(C.A)){constructor(){super(...arguments),this.geometry=null,this.rasterId=null,this.outSpatialReference=null,this.depthOffset=0,this.adjust=!1}writeGeometry(e,t,n){null!=e&&(t.geometryType=(0,de.$B)(e),t[n]={...e.toJSON(),spatialReference:void 0})}};(0,r._)([(0,c.MZ)({types:Me.yR,json:{read:de.rS,write:!0}})],pt.prototype,"geometry",void 0),(0,r._)([(0,h.K)("geometry")],pt.prototype,"writeGeometry",null),(0,r._)([(0,c.MZ)({json:{write:!0}})],pt.prototype,"rasterId",void 0),(0,r._)([(0,c.MZ)({type:M.A,json:{name:"outSR",write:!0}})],pt.prototype,"outSpatialReference",void 0),(0,r._)([(0,c.MZ)({json:{name:"options.DOff",write:!0}})],pt.prototype,"depthOffset",void 0),(0,r._)([(0,c.MZ)({json:{name:"options.Adjust",write:!0}})],pt.prototype,"adjust",void 0),pt=(0,r._)([(0,d.$)("esri.rest.support.ImageToMapParameters")],pt);let ft=class extends(o.A.ClonableMixin(C.A)){constructor(){super(...arguments),this.referenceUri=null,this.rasterId=null}};(0,r._)([(0,c.MZ)({type:String,json:{name:"uri",write:!0}})],ft.prototype,"referenceUri",void 0),(0,r._)([(0,c.MZ)({type:Number,json:{write:!0}})],ft.prototype,"rasterId",void 0),ft=(0,r._)([(0,d.$)("esri.rest.support.ImageUrlParameters")],ft);let mt=class extends C.A{constructor(){super(...arguments),this.url=null}};(0,r._)([(0,c.MZ)({json:{name:"imageURL",write:!0}})],mt.prototype,"url",void 0),mt=(0,r._)([(0,d.$)("esri.rest.support.ImageUrlResult")],mt);const yt=new Ae.J({0:"constant",1:"plane",2:"minimum",3:"maximum",4:"average"},{useNumericKeys:!0});let gt=class extends(o.A.ClonableMixin(C.A)){constructor(){super(...arguments),this.geometries=[],this.mosaicRule=null,this.pixelSize=null,this.constantZ=null,this.baseType="plane"}writeGeometries(e,t,n){e?.length&&(t.geometryType=(0,de.$B)(e[0]),t.geometries=e.map((e=>e.toJSON())))}};(0,r._)([(0,c.MZ)({types:[Me.yR]})],gt.prototype,"geometries",void 0),(0,r._)([(0,h.K)("geometries")],gt.prototype,"writeGeometries",null),(0,r._)([(0,c.MZ)({type:J.A,json:{write:!0}})],gt.prototype,"mosaicRule",void 0),(0,r._)([(0,c.MZ)({type:fe.A,json:{write:!0}})],gt.prototype,"pixelSize",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],gt.prototype,"constantZ",void 0),(0,r._)([(0,c.MZ)({type:yt.apiValues,json:{read:yt.read,write:yt.write}})],gt.prototype,"baseType",void 0),gt=(0,r._)([(0,d.$)("esri.rest.support.ImageVolumeParameters")],gt);let vt=class extends C.A{constructor(){super(...arguments),this.area=null,this.cut=null,this.fill=null,this.maxZ=null,this.minZ=null,this.meanZ=null,this.cutCellCount=null,this.fillCellCount=null}};(0,r._)([(0,c.MZ)({json:{write:!0}})],vt.prototype,"area",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],vt.prototype,"cut",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],vt.prototype,"fill",void 0),(0,r._)([(0,c.MZ)({json:{name:"maxz",write:!0}})],vt.prototype,"maxZ",void 0),(0,r._)([(0,c.MZ)({json:{name:"minz",write:!0}})],vt.prototype,"minZ",void 0),(0,r._)([(0,c.MZ)({json:{name:"meanz",write:!0}})],vt.prototype,"meanZ",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],vt.prototype,"cutCellCount",void 0),(0,r._)([(0,c.MZ)({json:{write:!0}})],vt.prototype,"fillCellCount",void 0),vt=(0,r._)([(0,d.$)("esri.rest.support.ImageVolume")],vt);const bt=vt;let wt=class extends C.A{constructor(){super(...arguments),this.volumes=[]}};(0,r._)([(0,c.MZ)({type:[bt],json:{write:!0}})],wt.prototype,"volumes",void 0),wt=(0,r._)([(0,d.$)("esri.rest.support.ImageVolumeResult")],wt);let _t=class extends(o.A.ClonableMixin(C.A)){constructor(){super(...arguments),this.geometry=null,this.rasterId=null,this.visibleOnly=!1}writeGeometry(e,t,n){null!=e&&(t.geometryType=(0,de.$B)(e),t[n]=JSON.stringify(e))}};(0,r._)([(0,c.MZ)({types:Me.yR,json:{read:de.rS,write:!0}})],_t.prototype,"geometry",void 0),(0,r._)([(0,h.K)("geometry")],_t.prototype,"writeGeometry",null),(0,r._)([(0,c.MZ)({json:{write:!0}})],_t.prototype,"rasterId",void 0),(0,r._)([(0,c.MZ)({json:{name:"options.VisibleOnly",write:!0}})],_t.prototype,"visibleOnly",void 0),_t=(0,r._)([(0,d.$)("esri.rest.support.MapToImageParameters")],_t);let St=class extends C.A{constructor(){super(...arguments),this.geometry=null,this.length=null,this.area=null,this.center=null}readCenter(e,t){return e.spatialReference||(e={...e,spatialReference:t.Shape.spatialReference}),fe.A.fromJSON(e)}};var xt;(0,r._)([(0,c.MZ)({types:Me.yR,json:{name:"Shape",read:de.rS,write:!0}})],St.prototype,"geometry",void 0),(0,r._)([(0,c.MZ)({json:{name:"Length",write:!0}})],St.prototype,"length",void 0),(0,r._)([(0,c.MZ)({json:{name:"Area",write:!0}})],St.prototype,"area",void 0),(0,r._)([(0,c.MZ)({type:fe.A,json:{name:"Center",write:!0}})],St.prototype,"center",void 0),(0,r._)([(0,_.w)("center")],St.prototype,"readCenter",null),St=(0,r._)([(0,d.$)("esri.rest.support.MeasureAreaFromImageResult")],St);let Mt=xt=class extends C.A{constructor(){super(...arguments),this.geometry=null,this.rasterId=void 0}writeGeometry(e,t,n){null!=e&&(t.geometryType=(0,de.$B)(e),t[n]={...e.toJSON(),spatialReference:void 0})}clone(){const e=(0,g.o8)({geometry:this.geometry,rasterId:this.rasterId});return new xt(e)}};(0,r._)([(0,c.MZ)({types:Me.yR,json:{name:"fromGeometry",read:de.rS,write:!0}})],Mt.prototype,"geometry",void 0),(0,r._)([(0,h.K)("geometry")],Mt.prototype,"writeGeometry",null),(0,r._)([(0,c.MZ)({json:{write:!0}})],Mt.prototype,"rasterId",void 0),Mt=xt=(0,r._)([(0,d.$)("esri.rest.support.MeasureFromImageParameters")],Mt);let At=class extends C.A{constructor(){super(...arguments),this.geometry=null,this.length=null}};function Tt(e){const t=e?.time;if(t&&(null!=t.start||null!=t.end)){const n=[];null!=t.start&&n.push(t.start),null==t.end||n.includes(t.end)||n.push(t.end),e.time=n.join(",")}}async function It(e,t,n){t=(0,w.PZ)(et.A,t);const r=(0,pe.Dl)(e),i=t.geometry?[t.geometry]:[],o=await(0,he.el)(i),s=t.toJSON();Tt(s);const a=o?.[0];null!=a&&(s.geometry=Pt(a));const l=(0,pe.lF)({...r.query,f:"json",...s});return(0,pe.jV)(l,n)}async function Ct(e,t,n){t=(0,w.PZ)(tt,t);const r=(0,pe.Dl)(e),i=t.geometry?[t.geometry]:[];return(0,he.el)(i).then((e=>{const i=t.toJSON(),o=e?.[0];null!=o&&(i.geometry=JSON.stringify(Pt(o)));const s=(0,pe.lF)({...r.query,f:"json",...i}),a=(0,pe.jV)(s,n);return(0,m.A)(r.path+"/identify",a)})).then((e=>rt.fromJSON(e.data)))}async function Et(e,t,n,r){const i=(0,pe.Dl)(e),o=await(0,he.el)(n),s=t.toJSON();null!=o[0]&&(s.fromGeometry=JSON.stringify(Pt(o[0]))),null!=o[1]&&(s.toGeometry=JSON.stringify(Pt(o[1])));const a=(0,pe.lF)({...i.query,f:"json",...s}),l=(0,pe.jV)(a,r),{data:c}=await(0,m.A)(i.path+"/measure",l);return c}async function kt(e,t,n){t=(0,w.PZ)(Mt,t);const r=(0,pe.Dl)(e),i=t.toJSON(),o=(0,pe.lF)({...r.query,f:"json",...i}),s=(0,pe.jV)(o,n),{data:a}=await(0,m.A)(r.path+"/measureFromImage",s);return a}function Pt(e){const t=e.toJSON();return e.spatialReference?.imageCoordinateSystem&&(t.spatialReference=Rt(e.spatialReference)),t}function Rt(e){const{imageCoordinateSystem:t}=e;if(t){const{id:e,referenceServiceName:n}=t;return null!=e?n?{icsid:e,icsns:n}:{icsid:e}:{ics:t}}return e.toJSON()}function Ot(e,t){if(!e.imageCoordinateSystem)return(0,A.YX)(e);const n=Rt(e),{icsid:r,icsns:i}=n;return null==r||null!=i&&!t?.toLowerCase().includes("/"+i.toLowerCase()+"/")?JSON.stringify(n):`0:${r}`}(0,r._)([(0,c.MZ)({types:Me.yR,json:{name:"Shape",read:de.rS,write:!0}})],At.prototype,"geometry",void 0),(0,r._)([(0,c.MZ)({json:{name:"Length",write:!0}})],At.prototype,"length",void 0),At=(0,r._)([(0,d.$)("esri.rest.support.MeasureLengthFromImageResult")],At);var Nt=n(59496),Lt=n(77614);var Dt=n(15830),Ft=n(30271),jt=n(500),Zt=n(33432);const Ut=new Set(["png","png8","png24","png32","jpg","bmp","gif","jpgpng","lerc","tiff"]),zt=(0,w.Qp)(w.GB,{min:0,max:255});const Vt=e=>{let t=class extends e{constructor(){super(...arguments),this._functionRasterInfos={},this._serviceSupportsMosaicRule=null,this.adjustAspectRatio=null,this.bandIds=void 0,this.capabilities=null,this.compressionQuality=void 0,this.compressionTolerance=.01,this.copyright=null,this.defaultMosaicRule=null,this.definitionExpression=null,this.exportImageServiceParameters=null,this.rasterInfo=null,this.fields=null,this.fullExtent=null,this.hasMultidimensions=!1,this.imageMaxHeight=4100,this.imageMaxWidth=4100,this.interpolation=void 0,this.minScale=0,this.maxScale=0,this.multidimensionalInfo=null,this.multidimensionalSubset=null,this.noData=null,this.noDataInterpretation=void 0,this.objectIdField=null,this.geometryType="polygon",this.typeIdField=null,this.types=[],this.pixelFilter=null,this.raster=void 0,this.sourceType=null,this.viewId=void 0,this.symbolizer=null,this.rasterFunctionInfos=null,this.serviceDataType=null,this.spatialReference=null,this.pixelType=null,this.serviceRasterInfo=null,this.sourceJSON=null,this.url=null,this.version=void 0}initialize(){this._set("exportImageServiceParameters",new Y({layer:this}))}readServiceSupportsMosaicRule(e,t){return this._isMosaicRuleSupported(t)}get _rasterFunctionNamesIndex(){const e=new Map;return!this.rasterFunctionInfos||null!=this.rasterFunctionInfos&&this.rasterFunctionInfos.length<1||null!=this.rasterFunctionInfos&&this.rasterFunctionInfos.forEach((t=>{e.set(t.name.toLowerCase().replaceAll(/ /gi,"_"),t.name)})),e}readBandIds(e,t){if(Array.isArray(e)&&e.length>0&&e.every((e=>"number"==typeof e)))return e}readCapabilities(e,t){return this._readCapabilities(t)}writeCompressionQuality(e,t,n){null!=e&&"lerc"!==this.format&&(t[n]=e)}writeCompressionTolerance(e,t,n){"lerc"===this.format&&null!=e&&(t[n]=e)}readDefaultMosaicRule(e,t){return this._serviceSupportsMosaicRule?J.A.fromJSON(t):null}get fieldsIndex(){return this.fields?new Q.A(this.fields):null}set format(e){e&&Ut.has(e.toLowerCase())&&this._set("format",e.toLowerCase())}readFormat(e,t){return"esriImageServiceDataTypeVector-UV"===t.serviceDataType||"esriImageServiceDataTypeVector-MagDir"===t.serviceDataType||null!=this.pixelFilter?"lerc":"jpgpng"}readMinScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}readMaxScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}set mosaicRule(e){let t=e;t?.mosaicMethod&&(t=J.A.fromJSON({...t.toJSON(),mosaicMethod:t.mosaicMethod,mosaicOperation:t.mosaicOperation})),this._set("mosaicRule",t)}readMosaicRule(e,t){const n=e||t.mosaicRule;return n?J.A.fromJSON(n):this._isMosaicRuleSupported(t)?J.A.fromJSON(t):null}writeMosaicRule(e,t,n){const{mosaicRule:r}=this;this._isValidCustomizedMosaicRule(r)&&(t[n]=r.toJSON())}writeNoData(e,t,n){null!=e&&"number"==typeof e&&(t[n]=zt(e))}readObjectIdField(e,t){if(!e){const n=t.fields.find((e=>"esriFieldTypeOID"===e.type||"oid"===e.type));e=n?.name}return e}get parsedUrl(){return(0,b.An)(this.url)}readSourceType(e,t){return this._isMosaicDataset(t)?"mosaic-dataset":"raster-dataset"}get renderer(){const{activePresetRendererName:e,presetRenderers:t}=this;if(e){const n=t?.find((({name:t})=>t===e));return n?.renderer.clone()}return this.internalRenderer}set renderer(e){this.activePresetRendererName=null,this.internalRenderer=e}set internalRenderer(e){this.loaded&&(e=this._configRenderer(e)),this._set("internalRenderer",e)}readRenderer(e,t,n){const r=t?.layerDefinition?.drawingInfo?.renderer,i=(0,ue.LF)(r,n);return null==i?null:("vector-field"===i.type&&t.symbolTileSize&&!r.symbolTileSize&&(i.symbolTileSize=t.symbolTileSize),j(i)||u.A.getLogger(this).warn("ArcGISImageService","Imagery layer doesn't support given renderer type."),i)}writeRenderer(e,t,n){t.layerDefinition=t.layerDefinition||{},t.layerDefinition.drawingInfo=t.layerDefinition.drawingInfo||{},t.layerDefinition.drawingInfo.renderer=e.toJSON(),"vector-field"===e.type&&(t.symbolTileSize=e.symbolTileSize)}get rasterFields(){const e=this.fields?.map((e=>e.clone()))??[];e.push((0,re.rZ)()),"mosaic-dataset"===this.sourceType&&this.fields?.length&&e.push((0,re.Nd)()),this.version>=10.4&&null!=this.rasterFunctionInfos&&this.rasterFunctionInfos.some((({name:e})=>"none"===e.toLowerCase()))&&e.push((0,re.dy)()),null!=this.rasterFunctionInfos&&this.rasterFunctionInfos.filter((({name:e})=>"none"!==e.toLowerCase())).forEach((({name:t})=>e.push((0,re.nq)(t))));const{rasterInfo:t}=this;if(this._isVectorDataSet()){const n=t?.multidimensionalInfo?.variables[0].unit?.trim(),r=(0,re.DV)(n),i=(0,re.y6)();e.push(r,i)}if(t?.multidimensionalInfo&&"raster-dataset"===this.sourceType){const n=(0,re.AL)(t.multidimensionalInfo);e.push(...n)}const n=t?.attributeTable;if(null!=n){const t=(0,re.jC)(n);e.push(...t)}return e}set rasterFunction(e){let t=e;t?.rasterFunction&&(t=E.A.fromJSON({...t.toJSON(),rasterFunction:t.rasterFunction,rasterFunctionArguments:t.rasterFunctionArguments})),this._set("rasterFunction",t)}readRasterFunction(e,t){const n=t.rasterFunctionInfos;return t.renderingRule||n?.length&&"None"!==n[0].name?this._isRFTJson(t.renderingRule)?E.A.fromJSON({rasterFunctionDefinition:t.renderingRule}):E.A.fromJSON(t.renderingRule||{rasterFunctionInfos:t.rasterFunctionInfos}):null}readSpatialReference(e,t){const n=e||t.extent.spatialReference;return n?M.A.fromJSON(n):null}writePixelType(e,t,n){null!=this.serviceRasterInfo&&this.pixelType===this.serviceRasterInfo.pixelType||(t[n]=K.e8.toJSON(e))}readVersion(e,t){let n=t.currentVersion;return n||(n=t.hasOwnProperty("fields")||t.hasOwnProperty("timeInfo")?10:9.3),n}applyFilter(e){let t=e;return this.pixelFilter&&(t=this._clonePixelData(e),this.pixelFilter(t)),t}async applyRenderer(e,t){let n=e;const{renderer:r,symbolizer:i,pixelFilter:o}=this;if(!this._isPicture()&&r&&i&&!o){await this._updateSymbolizer(i,r);const{bandIds:o}=this;n=await this._symbolize({pixelData:e,bandIds:o,symbolizer:i},t)}return n}destroy(){this._shutdownJobHandler()}async calculateVolume(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsCalculateVolume)throw new s.A("imagery-layer:compute-pixel-space-locations","this operation is not supported on the input image service");return e=(0,g.o8)(e),this.mosaicRule&&null==e.mosaicRule&&(e.mosaicRule=this.mosaicRule),async function(e,t,n){const r=(t=(0,w.PZ)(gt,t)).toJSON();r.geometries=JSON.stringify(r.geometries);const i=(0,pe.Dl)(e),o=(0,pe.lF)({...i.query,f:"json",...r}),s=(0,pe.jV)(o,n),{data:a}=await(0,m.A)(`${i.path}/calculateVolume`,s);return wt.fromJSON({volumes:a.results})}(this.url,e,this._getRequestOptions(t))}async computeAngles(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsComputeAngles)throw new s.A("imagery-layer:compute-angles","this operation is not supported on the input image service");return async function(e,t,n){const r=(t=(0,w.PZ)(_e,t)).toJSON();null!=r.angleName&&(r.angleName=r.angleName.join(",")),t?.point?.spatialReference?.imageCoordinateSystem&&(r.point.spatialReference=Rt(t.point.spatialReference)),t?.spatialReference?.imageCoordinateSystem&&(r.spatialReference=Ot(t.spatialReference));const i=(0,pe.Dl)(e),o=(0,pe.lF)({...i.query,f:"json",...r}),s=(0,pe.jV)(o,n),{data:a}=await(0,m.A)(`${i.path}/computeAngles`,s);return a.spatialReference=a.spatialReference?null!=a.spatialReference.geodataXform?new M.A({wkid:0,imageCoordinateSystem:a.spatialReference}):M.A.fromJSON(a.spatialReference):null,"NaN"===a.north&&(a.north=null),"NaN"===a.up&&(a.up=null),new Se(a)}(this.url,e,this._getRequestOptions(t))}async computePixelSpaceLocations(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsComputePixelLocation)throw new s.A("imagery-layer:compute-pixel-space-locations","this operation is not supported on the input image service");return async function(e,t,n){const r=(t=(0,w.PZ)(ot,t)).toJSON(),{geometries:i}=t;if(i)for(let e=0;e<i.length;e++)i[e].spatialReference?.imageCoordinateSystem&&(r.geometries.geometries[e].spatialReference=Rt(i[e].spatialReference));const o=(0,pe.Dl)(e),s=(0,pe.lF)({...o.query,f:"json",...r}),a=(0,pe.jV)(s,n),{data:l}=await(0,m.A)(`${o.path}/computePixelLocation`,a);return st.fromJSON(l)}(this.url,e,this._getRequestOptions(t))}async computeHistograms(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsComputeHistograms)throw new s.A("imagery-layer:compute-histograms","this operation is not supported on the input image service");return e=(0,g.o8)(e),this._applyMosaicAndRenderingRules(e),async function(e,t,n){const r=await It(e,t,n),i=(0,pe.Dl)(e),{data:o}=await(0,m.A)(`${i.path}/computeHistograms`,r);return{histograms:o.histograms}}(this.url,e,this._getRequestOptions(t))}async computeStatisticsHistograms(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsComputeStatisticsHistograms)throw new s.A("imagery-layer:compute-statistics-histograms","this operation is not supported on the input image service");return e=(0,g.o8)(e),this._applyMosaicAndRenderingRules(e),async function(e,t,n){const r=await It(e,t,n),i=(0,pe.Dl)(e),{data:o}=await(0,m.A)(`${i.path}/computeStatisticsHistograms`,r),{statistics:s}=o;return s?.length&&s.forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),{statistics:s,histograms:o.histograms}}(this.url,e,this._getRequestOptions(t))}async measureHeight(e,t){const n=await this._fetchCapabilities(t?.signal);if(!("base-and-top"===e.operationType?n.mensuration.supportsHeightFromBaseAndTop:"base-and-top-shadow"===e.operationType?n.mensuration.supportsHeightFromBaseAndTopShadow:n.mensuration.supportsHeightFromTopAndTopShadow))throw new s.A("imagery-layer:measure-height","this operation is not supported on the input image service");return e=(0,g.o8)(e),this._applyMosaicRule(e),async function(e,t,n){t=(0,w.PZ)(Ye,t);const r=await Et(e,t,[t.fromGeometry,t.toGeometry],n);return Xe.fromJSON(r)}(this.url,e,this._getRequestOptions(t))}async measureAreaAndPerimeter(e,t){const n=await this._fetchCapabilities(t?.signal);if(!n.mensuration.supportsAreaAndPerimeter||e.is3D&&!n.mensuration.supports3D)throw new s.A("imagery-layer:measure-area-and-perimeter","this operation is not supported on the input image service");return e=(0,g.o8)(e),this._applyMosaicRule(e),async function(e,t,n){t=(0,w.PZ)(Oe,t);const r=await Et(e,t,[t.geometry],n);return Le.fromJSON(r)}(this.url,e,this._getRequestOptions(t))}async measureDistanceAndAngle(e,t){const n=await this._fetchCapabilities(t?.signal);if(!n.mensuration.supportsDistanceAndAngle||e.is3D&&!n.mensuration.supports3D)throw new s.A("imagery-layer:measure-distance-and-angle","this operation is not supported on the input image service");return e=(0,g.o8)(e),this._applyMosaicRule(e),async function(e,t,n){t=(0,w.PZ)(Ze,t);const r=await Et(e,t,[t.fromGeometry,t.toGeometry],n);return Ue.fromJSON(r)}(this.url,e,this._getRequestOptions(t))}async measurePointOrCentroid(e,t){const n=await this._fetchCapabilities(t?.signal);if(!n.mensuration.supportsPointOrCentroid||e.is3D&&!n.mensuration.supports3D)throw new s.A("imagery-layer:measure-point-or-centroid","this operation is not supported on the input image service");return e=(0,g.o8)(e),this._applyMosaicRule(e),async function(e,t,n){t=(0,w.PZ)(lt,t);const r=await Et(e,t,[t.geometry],n);return ct.fromJSON(r)}(this.url,e,this._getRequestOptions(t))}async measureLengthFromImage(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsMeasureFromImage)throw new s.A("imagery-layer:measure-length-from-image","this operation is not supported on the input image service");if("polyline"!==e.geometry.type)throw new s.A("imagery-layer:measure-length-from-image","this input geometry must be a polyline");return async function(e,t,n){const r=await kt(e,t,n);return At.fromJSON(r)}(this.url,e,this._getRequestOptions(t))}async measureAreaFromImage(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsMeasureFromImage)throw new s.A("imagery-layer:measure-area-from-image","this operation is not supported on the input image service");if("polygon"!==e.geometry.type)throw new s.A("imagery-layer:measure-area-from-image","this input geometry must be a polygon");return async function(e,t,n){const r=await kt(e,t,n);return St.fromJSON(r)}(this.url,e,this._getRequestOptions(t))}getField(e){const{fieldsIndex:t}=this;return null!=t?t.get(e):void 0}getFieldDomain(e,t){const n=this.getField(e);return n?n.domain:null}fetchImage(e,t,n,r={}){if((0,y.eO)(u.A.getLogger(this),"`ImageryLayer.fetchImage` is deprecated in favor of 'ImageryLayer.fetchPixels'.",{replacement:"ImageryLayer.fetchPixels",version:"4.33",warnOnce:!0}),null==e||null==t||null==n)throw new s.A("imagery-layer:fetch-image","Insufficient parameters for requesting an image. A valid extent, width and height values are required.");return this.internalFetchImage(e,t,n,r)}async internalFetchImage(e,t,r,i={}){this._updateCurrentRasterInfo();const o=this.getExportImageServiceParameters(e,t,r,i.timeExtent);if(null==o){if(i.requestAsImageElement&&this._canRequestImageElement(this.format)){const e=document.createElement("canvas");return e.width=t,e.height=r,i.returnImageBitmap?{imageBitmap:await(0,ee.m)(e,`${n(this.parsedUrl)}/exportImage`,i.signal)}:{imageOrCanvasElement:e}}const{bandIds:o,rasterInfo:s}=this,a=(o?.length||s.bandCount)??0,l=t*r,c=s.pixelType,u=[];for(let e=0;e<a;e++)u.push(ne.A.createEmptyBand(c,l));return{pixelData:{pixelBlock:new ne.A({width:t,height:r,pixels:u,mask:new Uint8Array(l),pixelType:c}),extent:e}}}const s=!!i.requestAsImageElement&&!this.pixelFilter,a=s&&!!i.returnImageBitmap,l={imageServiceParameters:o,imageProps:{extent:e,width:t,height:r,format:this.format},requestAsImageElement:s,returnImageBitmap:a,signal:i.signal};return this._requestArrayBuffer(l)}async fetchPixels(e,t,n,r={}){await this._initJobHandler(),r.applyRendering&&this._updateCurrentRasterInfo();const i=r.applyRendering?void 0:new Y({layer:this,requestRawData:!0,interpolation:r.interpolation??"nearest",bandIds:r.bandIds??[]}),o=this.getExportImageServiceParameters(e,t,n,r.timeExtent,i);if(null==o)return{extent:e,pixelBlock:null};delete o.pixelType,delete o.bandIds,delete o.compressionQuality;const s={imageServiceParameters:o,imageProps:{extent:e,width:t,height:n,format:this.format},requestAsImageElement:!1,returnImageBitmap:!1,signal:r.signal},{pixelData:a}=await this._requestArrayBuffer(s);return a??{extent:e,pixelBlock:null}}fetchKeyProperties(e){return(0,m.A)(n(this.parsedUrl)+"/keyProperties",{query:this._getQueryParams({renderingRule:this.version>=10.3?e?.rasterFunction:null})}).then((e=>e.data))}fetchRasterAttributeTable(e){return this.version<10.1?Promise.reject(new s.A("#fetchRasterAttributeTable()","Failed to get rasterAttributeTable")):(0,m.A)(n(this.parsedUrl)+"/rasterAttributeTable",{query:this._getQueryParams({renderingRule:this.version>=10.3?e?.rasterFunction:null})}).then((e=>nt.A.fromJSON(e.data)))}getCatalogItemRasterInfo(e,t){const r={...t,query:this._getQueryParams()};return async function(e,t,n){const r=(0,pe.Dl)(e),i=(0,pe.lF)({...r?.query,f:"json"}),o=(0,pe.jV)(i,n),s=`${r?.path}/${t}/info`,a=(0,m.A)(`${s}`,o),l=(0,m.A)(`${s}/keyProperties`,o),c=await Promise.allSettled([a,l]),u="fulfilled"===c[0].status?c[0].value.data:null,d="fulfilled"===c[1].status?c[1].value.data:null;let h=null;u.statistics?.length&&(h=u.statistics.map((e=>({min:e[0],max:e[1],avg:e[2],stddev:e[3]}))));const p=S.A.fromJSON(u.extent),f=Math.ceil(p.width/u.pixelSizeX-.1),y=Math.ceil(p.height/u.pixelSizeY-.1),g=p.spatialReference,v=new fe.A({x:u.pixelSizeX,y:u.pixelSizeY,spatialReference:g}),b=u.histograms?.length?u.histograms:null,w=new Lt.A({origin:u.origin,blockWidth:u.blockWidth,blockHeight:u.blockHeight,firstPyramidLevel:u.firstPyramidLevel,maximumPyramidLevel:u.maxPyramidLevel});return new ie.A({width:f,height:y,bandCount:u.bandCount,extent:p,spatialReference:g,pixelSize:v,pixelType:u.pixelType.toLowerCase(),statistics:h,histograms:b,keyProperties:d,storageInfo:w})}(n(this.parsedUrl),e,r)}async getCatalogItemICSInfo(e,t){const{data:r}=await(0,m.A)(n(this.parsedUrl)+"/"+e+"/info/ics",{query:this._getQueryParams(),...t}),i=r?.ics;if(!i)return;let o=null;try{o=(await(0,m.A)(n(this.parsedUrl)+"/"+e+"/info",{query:this._getQueryParams(),...t})).data.extent}catch{}if(!o?.spatialReference)return{ics:i,icsToPixelTransform:null,icsExtent:null,northDirection:null};const s=this.version>=10.7?(0,m.A)(n(this.parsedUrl)+"/"+e+"/info/icstopixel",{query:this._getQueryParams(),...t}).then((e=>e.data)).catch((()=>({}))):{},a=o.spatialReference,l={geometries:JSON.stringify({geometryType:"esriGeometryEnvelope",geometries:[o]}),inSR:(0,A.YX)(a),outSR:"0:"+e},c=(0,m.A)(n(this.parsedUrl)+"/project",{query:this._getQueryParams(l),...t}).then((e=>e.data)).catch((()=>({}))),u=(o.xmin+o.xmax)/2,d=(o.ymax-o.ymin)/6,h=o.ymin+d,p=[];for(let e=0;e<5;e++)p.push({x:u,y:h+d*e});const f={geometries:JSON.stringify({geometryType:"esriGeometryPoint",geometries:p}),inSR:(0,A.YX)(a),outSR:"0:"+e},y=(0,m.A)(n(this.parsedUrl)+"/project",{query:this._getQueryParams(f),...t}).then((e=>e.data)).catch((()=>({}))),g=await Promise.all([s,c,y]);let v=g[0].ipxf;if(null==v){const e=i.geodataXform?.xf_0;"topup"===e?.name?.toLowerCase()&&6===e?.coefficients?.length&&(v={affine:{name:"ics [sensor: Frame] to pixel (column, row) transformation",coefficients:e.coefficients,cellsizeRatio:0,type:"GeometricXform"}})}const b=S.A.fromJSON(g[1]?.geometries?.[0]);b&&(b.spatialReference=new M.A({wkid:0,imageCoordinateSystem:i}));const w=g[2].geometries?g[2].geometries.filter((e=>null!=e?.x&&null!=e.y&&"NaN"!==e.x&&"NaN"!==e.y)):[],_=w.length;if(_<3)return{ics:i,icsToPixelTransform:v,icsExtent:b,northDirection:null};let x=0,T=0,I=0,C=0;for(let e=0;e<_;e++)x+=w[e].x,T+=w[e].y,I+=w[e].x*w[e].x,C+=w[e].x*w[e].y;const E=(_*C-x*T)/(_*I-x*x);let k=0;const P=w[4].x>w[0].x,R=w[4].y>w[0].y;return E===1/0?k=R?90:270:0===E?k=P?0:180:E>0?k=P?180*Math.atan(E)/Math.PI:180*Math.atan(E)/Math.PI+180:E<0&&(k=R?180+180*Math.atan(E)/Math.PI:360+180*Math.atan(E)/Math.PI),{ics:i,icsToPixelTransform:v,icsExtent:b,northDirection:k}}async generateRasterInfo(e,t){e=(0,w.PZ)(E.A,e);const r={...t,query:this._getQueryParams()};if(!e||"none"===e.functionName?.toLowerCase()||this._isVectorFieldResampleFunction(e))return this.serviceRasterInfo??(0,Nt.Tw)(n(this.parsedUrl),this.sourceJSON,r);const i=function(e){const t=JSON.stringify(e),n=t.includes('"rasterFunctionDefinition":{'),r=n?t.match(/"type":"(.*?FunctionArguments")/gi):t.match(/"rasterFunction":"(.*?")/gi),i=r?.map((e=>n?e.slice(8,-18):e.slice(18,-1)));return i?i.join("/"):null}(e);if(!i)throw new s.A("imagery-layer:generate-raster-info","the rendering rule is not supported");if(this._functionRasterInfos[i])return this._functionRasterInfos[i];const o=(0,Nt.X6)(n(this.parsedUrl),e,r);this._functionRasterInfos[i]=o;try{return await o}catch(e){throw this._functionRasterInfos[i]=null,e}}getExportImageServiceParameters(e,t,r,i,o){const s=Ot((e=e.clone().shiftCentralMeridian()).spatialReference,n(this.parsedUrl));o??=this.exportImageServiceParameters;const a=o.toJSON(),{bandIds:l,noData:c}=a;let{renderingRule:u}=a;const d=this.rasterFunction?.rasterFunctionDefinition,h=this.renderer?.type,p=!h||"raster-stretch"===h||"raster-colormap"===h||"unique-value"===h||"class-breaks"===h||"raster-shaded-relief"===h;if(l?.length&&this._hasRasterFunction(this.rasterFunction)&&!d&&p){const e={rasterFunction:"ExtractBand",rasterFunctionArguments:{BandIds:l}};if("Stretch"===u.rasterFunction)e.rasterFunctionArguments.Raster=u.rasterFunctionArguments.Raster,u.rasterFunctionArguments.Raster=e;else if("Colormap"===u.rasterFunction){const t=u.rasterFunctionArguments.Raster;"Stretch"===t?.rasterFunction?(e.rasterFunctionArguments.Raster=t.rasterFunctionArguments.Raster,t.rasterFunctionArguments.Raster=e):(e.rasterFunctionArguments.Raster=t,u.rasterFunctionArguments.Raster=e)}else e.rasterFunctionArguments.Raster=u,u=e;a.bandIds=void 0}else a.bandIds=l?.join(",");Array.isArray(c)&&c.length>0&&(a.noData=c.join(","));const f=this._processMultidimensionalIntersection(null,i,o.mosaicRule);if(f.isOutSide)return null;a.mosaicRule=null!=f.mosaicRule?JSON.stringify(f.mosaicRule):null,i=f.timeExtent,a.renderingRule=this._getRenderingRuleString(E.A.fromJSON(u));const m={};if(null!=i){const{start:e,end:t}=i.toJSON();e&&t&&e===t?m.time=""+e:null==e&&null==t||(m.time=`${e??"null"},${t??"null"}`)}return{bbox:e.xmin+","+e.ymin+","+e.xmax+","+e.ymax,bboxSR:s,imageSR:s,size:t+","+r,...a,...m}}async getSamples(e,t){const n=await this._fetchCapabilities(t?.signal);if(!n?.operations.supportsGetSamples)throw new s.A("imagery-layer:get-samples","getSamples operation is not supported on the input image service");e=(0,g.o8)(e);const{raster:r}=this;return r&&null==e.raster&&(e.raster=r),async function(e,t,n){const r=(t=(0,w.PZ)(ut.A,t)).toJSON();Tt(r),r.outFields?.length&&(r.outFields=r.outFields.join(","));const i=await(0,he.el)(t.geometry),o=i?.[0];null!=o&&(r.geometry=Pt(o));const s=(0,pe.Dl)(e),a=(0,pe.lF)({...s.query,f:"json",...r}),l=(0,pe.jV)(a,n),{data:c}=await(0,m.A)(`${s.path}/getSamples`,l),u=c.samples.map((e=>{const t="NaN"===e.value||""===e.value?null:e.value.split(" ").map((e=>Number(e)));return{...e,pixelValue:t}}));return dt.A.fromJSON({samples:u})}(this.url,e,this._getRequestOptions(t))}async identify(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsIdentify)throw new s.A("imagery-layer:identify","identify operation is not supported on the input image service");e=(0,g.o8)(e),this.version<10.91&&"extent"===e.geometry?.type&&(e.geometry=x.A.fromExtent(e.geometry));const n=this._processMultidimensionalIntersection(e.geometry,e.timeExtent,e.mosaicRule||this.mosaicRule);if(n.isOutSide)throw new s.A("imagery-layer:identify","the request cannot be fulfilled when falling outside of the multidimensional subset");e.timeExtent=n.timeExtent,e.mosaicRule=n.mosaicRule;const{raster:r,rasterFunction:i}=this;return i&&null==e.rasterFunction&&(e.rasterFunction=i),r&&null==e.raster&&(e.raster=r),Ct(this.url,e,this._getRequestOptions(t))}async imageToMap(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsImageToMap)throw new s.A("imagery-layer:image-to-map","imageToMap operation is not supported on the input image service");return async function(e,t,n){const r=(t=(0,w.PZ)(pt,t)).toJSON();t.geometry.spatialReference.imageCoordinateSystem&&(r.geometry=Pt(t.geometry)),t.depthOffset&&t.adjust||delete r.options;const i=(0,pe.Dl)(e),o=(0,pe.lF)({...i.query,f:"json",...r}),s=(0,pe.jV)(o,n),{data:a}=await(0,m.A)(`${i.path}/imageToMap`,s);return(0,de.rS)(a)}(n(this.parsedUrl),e,this._getRequestOptions(t))}async imageToMapMultiray(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsImageToMapMultiray)throw new s.A("imagery-layer:image-to-map-multiray","imageToMapMultiray operation is not supported on the input image service");return async function(e,t,n){const r=(t=(0,w.PZ)(ht,t)).toJSON();t.rasterIds?.length&&(r.rasterIds=t.rasterIds.join(","));const i=(0,pe.Dl)(e),o=(0,pe.lF)({...i.query,f:"json",...r}),s=(0,pe.jV)(o,n),{data:a}=await(0,m.A)(`${i.path}/imageToMapMultiray`,s);return(0,de.rS)(a)}(n(this.parsedUrl),e,this._getRequestOptions(t))}async mapToImage(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsMapToImage)throw new s.A("imagery-layer:map-to-image","mapToImage operation is not supported on the input image service");return async function(e,t,n){const r=(t=(0,w.PZ)(_t,t)).toJSON(),i=await(0,he.el)(t.geometry),o=i?.[0];null!=o&&(r.geometry=Pt(o)),t.visibleOnly||delete r.options;const s=o?.spatialReference??t.geometry?.spatialReference;s&&(r.inSR=Ot(s));const a=(0,pe.Dl)(e),l=(0,pe.lF)({...a.query,f:"json",...r}),c=(0,pe.jV)(l,n),{data:u}=await(0,m.A)(`${a.path}/mapToImage`,c);return(0,de.rS)(u)}(n(this.parsedUrl),e,this._getRequestOptions(t))}async findImages(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsFindImages)throw new s.A("imagery-layer:find-images","findImages operation is not supported on the input image service");return async function(e,t,n){const r=(t=(0,w.PZ)(me,t)).toJSON(),i=await(0,he.el)([t.fromGeometry,t.toGeometry]);null!=i[0]&&(r.fromGeometry=Pt(i[0]),i[0].spatialReference&&(r.inSR=Ot(i[0].spatialReference))),null!=i[1]&&(r.toGeometry=Pt(i[1])),t.objectIds?.length&&(r.objectIds=r.objectIds.join(","));const o=(0,pe.Dl)(e),s=(0,pe.lF)({...o.query,f:"json",...r}),a=(0,pe.jV)(s,n),{data:l}=await(0,m.A)(`${o.path}/find`,a);return be.fromJSON(l)}(n(this.parsedUrl),e,this._getRequestOptions(t))}async getImageUrl(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsGetImageUrl)throw new s.A("imagery-layer:get-image-url","getImageUrl operation is not supported on the input image service");return async function(e,t,n){const r=(t=(0,w.PZ)(ft,t)).toJSON(),i=(0,pe.Dl)(e),o=(0,pe.lF)({...i.query,f:"json",...r}),s=(0,pe.jV)(o,n),{data:a}=await(0,m.A)(`${i.path}/getImageUrl`,s);return mt.fromJSON(a)}(n(this.parsedUrl),e,this._getRequestOptions(t))}createQuery(){return new Zt.A({outFields:["*"],returnGeometry:!0,where:this.definitionExpression||"1=1"})}async queryBoundary(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsQueryBoundary)throw new s.A("imagery-layer:query-boundary","queryBoundary operation is not supported on the input image service");return e=e??{outSpatialReference:this.spatialReference},async function(e,t,n){t=(0,w.PZ)(De,t);const r=(0,pe.Dl)(e),i=t.toJSON();t.outSpatialReference&&(i.outSR=Ot(t.outSpatialReference));const o=(0,pe.lF)({...r.query,f:"json",...i}),s=(0,pe.jV)(o,n),{data:a}=await(0,m.A)(r.path+"/queryBoundary",s);return Fe.fromJSON(a)}(n(this.parsedUrl),e,this._getRequestOptions(t))}async queryRasters(e,t){return({query:e,requestOptions:t}=await this._prepareForQuery(e,t)),(0,jt.s)(this.url,e,t)}async queryObjectIds(e,t){return({query:e,requestOptions:t}=await this._prepareForQuery(e,t)),(0,Ft.V)(this.url,e,t)}async queryGPSInfo(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsQueryGPSInfo)throw new s.A("imagery-layer:query-gps-info","queryGPSInfo operation is not supported on the input image service");return e=e??{where:"1=1"},async function(e,t,n){const r=(t=(0,w.PZ)($e,t)).toJSON();Tt(r),r.objectIds?.length&&(r.objectIds=r.objectIds.join(",")),r.geometry||r.objectIds||r.time||r.where||(r.where="1=1");const i=await(0,he.el)(t.geometry),o=i?.[0];null!=o&&(r.geometry=Pt(o));const s=o?.spatialReference??t.geometry?.spatialReference;s&&(r.inSR=Ot(s));const a=(0,pe.Dl)(e),l=(0,pe.lF)({...a.query,f:"json",...r}),c=(0,pe.jV)(l,n),{data:u}=await(0,m.A)(`${a.path}/queryGPSInfo`,c);return Je.fromJSON(u)}(n(this.parsedUrl),e,this._getRequestOptions(t))}async queryRasterCount(e,t){return({query:e,requestOptions:t}=await this._prepareForQuery(e,t)),(0,Dt.I)(this.url,e,t)}async queryVisibleRasters(e,t){if(!e)throw new s.A("imagery-layer: query-visible-rasters","missing query parameter");await this.load();const{pixelSize:n,returnDomainValues:r,returnTopmostRaster:i,showNoDataRecords:o}=t||{pixelSize:null,returnDomainValues:!1,returnTopmostRaster:!1,showNoDataRecords:!1};let a=!1,l=null,c=null;const u=re.F_.servicePixelValue.toLowerCase(),d=this._rasterFunctionNamesIndex;if(null!=e.outFields&&(a=e.outFields.some((e=>!e.toLowerCase().startsWith(u))),this.version>=10.4)){const t=e.outFields.filter((e=>e.toLowerCase().startsWith(u)&&e.length>u.length)).map((e=>{const t=e.slice(u.length+1);return[this._updateRenderingRulesFunctionName(t,d),t]}));l=t.map((e=>new E.A({functionName:e[0]}))),c=t.map((e=>e[1]));const{rasterFunction:n}=this;0===l.length?n?.functionName?(l.push(n),c.push(n.functionName)):l=null:n?.functionName&&!l.some((e=>e.functionName===n.functionName))&&(l.push(n),c.push(n.functionName))}const h=null==e.outSpatialReference||e.outSpatialReference.equals(this.spatialReference),{multidimensionalSubset:p}=this;let f=e.timeExtent||this.timeExtent;if(p){const{isOutside:t,intersection:n}=(0,oe.Rp)(p,{geometry:e.geometry,timeExtent:e.timeExtent,multidimensionalDefinition:this.exportImageServiceParameters.mosaicRule?.multidimensionalDefinition});if(t)throw new s.A("imagery-layer:query-visible-rasters","the request cannot be fulfilled when falling outside of the multidimensional subset");null!=n?.timeExtent&&(f=n.timeExtent)}const m=this._combineMosaicRuleWithTimeExtent(this.exportImageServiceParameters.mosaicRule,f);let y=e.geometry;this.version<10.91&&"extent"===y?.type&&(y=x.A.fromExtent(y));const g=this._getQueryParams({geometry:y,timeExtent:f,mosaicRule:m,rasterFunction:this.version<10.4?this.rasterFunction:null,rasterFunctions:l,pixelSize:n,returnCatalogItems:a,returnGeometry:h,raster:this.raster,maxItemCount:i?1:null});delete g.f;const v=new tt(g);try{await this._generateRasterInfo(this.rasterFunction);const n=await Ct(this.url,v,{signal:t?.signal,query:{...this.customParameters}}),i=e.outFields,s=null!=n.value&&n.value.toLowerCase().includes("nodata"),l=a&&!h&&n?.catalogItems?.features.length&&(o||!s),u=this.multidimensionalInfo&&"raster-dataset"===this.sourceType?(0,oe.XU)({rasterInfo:this.rasterInfo,multidimensionalDefinition:m?.multidimensionalDefinition,timeExtent:f,multidimensionalSubset:this.multidimensionalSubset}):null;if(!l)return this._processVisibleRastersResponse(n,{returnDomainValues:r,templateRRFunctionNames:c,showNoDataRecords:o,templateFields:i,effectiveMultidimensionalDefinition:u});const d=this.objectIdField||"ObjectId",p=n.catalogItems?.features??[],y=p.map((e=>e.attributes?.[d])),g=new Zt.A({objectIds:y,returnGeometry:!0,outSpatialReference:e.outSpatialReference,outFields:[d]}),b=await this.queryRasters(g);return b?.features?.length&&b.features.forEach((t=>{p.forEach((n=>{n.attributes[d]===t.attributes[d]&&t.geometry&&(n.geometry=t.geometry.clone(),null!=e.outSpatialReference&&(n.geometry.spatialReference=e.outSpatialReference))}))})),this._processVisibleRastersResponse(n,{returnDomainValues:r,templateRRFunctionNames:c,showNoDataRecords:o,templateFields:i,effectiveMultidimensionalDefinition:u})}catch{throw new s.A("imagery-layer:query-visible-rasters","encountered error when querying visible rasters")}}async fetchVariableStatisticsHistograms(e,t){const r=(0,m.A)(n(this.parsedUrl)+"/statistics",{query:this._getQueryParams({variable:e}),signal:t}).then((e=>e.data?.statistics)),i=(0,m.A)(n(this.parsedUrl)+"/histograms",{query:this._getQueryParams({variable:e}),signal:t}).then((e=>e.data?.histograms)),o=await Promise.all([r,i]);return o[0]&&o[0].forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),{statistics:o[0]||null,histograms:o[1]||null}}getMultidimensionalSubsetVariables(e){const t=e??this.serviceRasterInfo.multidimensionalInfo;return(0,oe.z2)(this.multidimensionalSubset,t)}async _fetchService(e){await this._fetchServiceInfo(e),this.rasterInfo||(this.rasterInfo=this.serviceRasterInfo);const t=this.sourceJSON,r=null!=this.serviceRasterInfo?Promise.resolve(this.serviceRasterInfo):(0,Nt.Tw)(n(this.parsedUrl),t,{signal:e,query:this._getQueryParams()}).then((e=>(this._set("serviceRasterInfo",e),this._set("multidimensionalInfo",e.multidimensionalInfo),(0,Nt.E9)(e,t),e))),i=this._hasRasterFunction(this.rasterFunction)?this._generateRasterInfo(this.rasterFunction,{signal:e}):null,o=this._getRasterFunctionInfos();return Promise.all([r,i,o]).then((e=>{e[1]?this._set("rasterInfo",e[1]):this._set("rasterInfo",e[0]),e[2]&&this._set("rasterFunctionInfos",e[2]),this.internalRenderer&&!this._isSupportedRenderer(this.internalRenderer)&&(this._set("internalRenderer",null),u.A.getLogger(this).warn("ArcGISImageService","Switching to the default renderer. Renderer applied is not valid for this Imagery Layer")),this._set("internalRenderer",this._configRenderer(this.renderer)),this.addHandles([(0,v.wB)((()=>this.rasterFunction),(e=>{(this.renderer||this.symbolizer||this.popupEnabled&&this.popupTemplate)&&this._generateRasterInfo(e).then((e=>{e&&(this.rasterInfo=e)}))}))]);const{serviceRasterInfo:t}=this;null!=t.multidimensionalInfo&&this._updateMultidimensionalDefinition(t)}))}_combineMosaicRuleWithTimeExtent(e,t){const n=this.timeInfo,{multidimensionalInfo:r}=this.serviceRasterInfo;if(null==e||null==r||null==t||null==n?.startField)return e;const{startField:i}=n,o=r.variables.some((e=>e.dimensions.some((e=>e.name===i))))?i:"StdTime";if(e=e.clone(),"mosaic-dataset"===this.sourceType)return e.multidimensionalDefinition=e.multidimensionalDefinition?.filter((e=>e.dimensionName!==o)),this._cleanupMultidimensionalDefinition(e);e.multidimensionalDefinition=e.multidimensionalDefinition||[];const s=e.multidimensionalDefinition.filter((e=>e.dimensionName===o)),a=null!=t.start?t.start.getTime():null,l=null!=t.end?t.end.getTime():null,c=null==a||null==l||a===l,u=c?[a||l]:[[a,l]],d=this.version>=10.8;if(s.length)s.forEach((e=>{e.dimensionName===o&&(d?(e.dimensionName=null,e.isSlice=!1,e.values=[]):(e.isSlice=c,e.values=u))}));else if(!d){const t=e.multidimensionalDefinition.filter((e=>null!=e.variableName&&null==e.dimensionName));t.length?t.forEach((e=>{e.dimensionName=o,e.isSlice=c,e.values=u})):e.multidimensionalDefinition.push(new I.A({variableName:"",dimensionName:o,isSlice:c,values:u}))}return this._cleanupMultidimensionalDefinition(e)}_cleanupMultidimensionalDefinition(e){return null==e?null:(e.multidimensionalDefinition&&(e.multidimensionalDefinition=e.multidimensionalDefinition.filter((e=>!(!e.variableName&&!e.dimensionName))),0===e.multidimensionalDefinition.length&&(e.multidimensionalDefinition=null)),"mosaic-dataset"!==this.sourceType&&null==e.multidimensionalDefinition?null:e)}async _prepareForQuery(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsQuery)throw new s.A("imagery-layer:query-rasters","query operation is not supported on the input image service");return e=null!=e?(0,w.PZ)(Zt.A,e):this.createQuery(),t=this._getRequestOptions(t),this.raster&&(t.query={...t.query,raster:this.raster}),{query:e,requestOptions:t}}_isSupportedRenderer(e){const{rasterInfo:t,rasterFunction:n}=this;return"unique-value"===e.type&&this._hasRasterFunction(n)&&1===t?.bandCount&&["u8","s8"].includes(t.pixelType)||null!=t&&null!=e&&(0,le.fp)(t).includes(e.type)}async _fetchCapabilities(e){return this.capabilities||await this._fetchServiceInfo(e),this.capabilities}async _fetchServiceInfo(e){let t=this.sourceJSON;if(!t){const{data:r,ssl:i}=await(0,m.A)(n(this.parsedUrl),{query:this._getQueryParams(),signal:e});t=r,this.sourceJSON=t,i&&(this.url=this.url.replace(/^http:/i,"https:"))}if(t.capabilities?.toLowerCase().split(",").map((e=>e.trim())).indexOf("tilesonly")>-1)throw new s.A("imagery-layer:fetch-service-info","use ImageryTileLayer to open tiles-only image services");this.read(t,{origin:"service",url:this.parsedUrl})}_isMosaicDataset(e){return e.serviceSourceType?"esriImageServiceSourceTypeMosaicDataset"===e.serviceSourceType:e.fields?.length>0}_isMosaicRuleSupported(e){if(!e)return!1;const t=this._isMosaicDataset(e),n=e.currentVersion>=10.71&&e.hasMultidimensions&&!(e.fields?.length>1);return t||n}_isVectorFieldResampleFunction(e){if(null==e)return!1;const{functionName:t,functionArguments:n}=e,r="resample"===t?.toLowerCase(),i=n?.ResampleType||n?.resampleType;return r&&(7===i||10===i)}_isPicture(){return!this.format||this.format.includes("jpg")||this.format.includes("png")}_configRenderer(e){const t=this._isPicture(),{rasterInfo:n}=this;if(!t&&!this.pixelFilter||this._isVectorDataSet()){const t=this.mosaicRule?.multidimensionalDefinition?.[0].variableName,r=(0,le.I8)({variableName:t,rasterFunctionName:this.rasterFunction?.functionName,presetRenderers:this.presetRenderers});if(!this.bandIds&&n.bandCount>=3){const e=r?.bandIds??(0,le.ci)(n);!e||3===n.bandCount&&0===e[0]&&1===e[1]&&2===e[2]||(this.bandIds=e)}e||(e=r?.renderer??(0,le.PD)(n,{bandIds:this.bandIds,variableName:this.rasterFunction?null:t}));const i=(0,le.$P)(e.toJSON());this.symbolizer?(this.symbolizer.rendererJSON=i,this.symbolizer.rasterInfo=n):this.symbolizer=new ce.A({rendererJSON:i,rasterInfo:n}),this.symbolizer.bind().success||(this.symbolizer=null)}return e}_clonePixelData(e){return null==e?e:{extent:e.extent&&e.extent.clone(),pixelBlock:null!=e.pixelBlock?e.pixelBlock.clone():null}}_getQueryParams(e){null!=e?.renderingRule&&"string"!=typeof e.renderingRule&&(e.renderingRule=this._getRenderingRuleString(e.renderingRule));const{raster:t,viewId:n}=this;return{raster:t,viewId:n,f:"json",...e,...this.customParameters}}_getRequestOptions(e){return{...e,query:{...e?.query,...this.customParameters}}}_decodePixelBlock(e,t,n){return this._rasterJobHandler?this._rasterJobHandler.decode({data:e,options:t}):(0,se.D)(e,t,n)}async _getRasterFunctionInfos(e){const t=this.sourceJSON.rasterFunctionInfos;if(this.loaded)return t;if(t&&this.version>=10.3){if(1===t.length&&"none"===t[0].name.toLowerCase())return t;const r=await(0,m.A)(n(this.parsedUrl)+"/rasterFunctionInfos",{query:this._getQueryParams(),signal:e});return r.data?.rasterFunctionInfos}return null}_canRequestImageElement(e){return!this.pixelFilter&&(!e||e.includes("png"))}async _requestArrayBuffer(e){const{imageProps:t,requestAsImageElement:r,returnImageBitmap:i,signal:o}=e;if(r&&this._canRequestImageElement(t.format)){const r=`${n(this.parsedUrl)}/exportImage`,{data:s}=await(0,m.A)(r,{responseType:i?"blob":"image",query:this._getQueryParams({f:"image",...this.refreshParameters,...e.imageServiceParameters}),signal:o});return s instanceof Blob?{imageBitmap:await(0,ee.m)(s,r,o),params:t}:{imageOrCanvasElement:s,params:t}}const a=this._initJobHandler(),l=(0,m.A)(n(this.parsedUrl)+"/exportImage",{responseType:"array-buffer",query:this._getQueryParams({f:"image",...e.imageServiceParameters}),signal:o}),c=(await Promise.all([l,a]))[0].data,u=t.format||"jpgpng";let d=u;if("bsq"!==d&&"bip"!==d&&(d=(0,se.g)(c)),!d)throw new s.A("imagery-layer:fetch-image","unsupported format signature "+String.fromCharCode.apply(null,new Uint8Array(c)));const h={signal:o},p="gif"===u||"bmp"===u||u.includes("png")&&("png"===d||"jpg"===d)?(0,se.D)(c,{useCanvas:!0,...t},h):this._decodePixelBlock(c,{width:t.width,height:t.height,planes:null,pixelType:null,noDataValue:null,format:u},h);return{pixelData:{pixelBlock:await p,extent:t.extent},params:t}}_generateRasterInfo(e,t){return this.generateRasterInfo(e,t).catch((()=>null))}_isValidCustomizedMosaicRule(e){return e&&JSON.stringify(e.toJSON())!==JSON.stringify(this.defaultMosaicRule?.toJSON())}_updateMultidimensionalDefinition(e){if(this._isValidCustomizedMosaicRule(this.mosaicRule))return;let t=(0,oe.fy)(e,{multidimensionalSubset:this.multidimensionalSubset});if(null!=t&&t.length>0){this.mosaicRule=this.mosaicRule||new J.A;const e=this.mosaicRule.multidimensionalDefinition;!this.sourceJSON.defaultVariableName&&this.rasterFunction&&"none"!==this.rasterFunction.functionName?.toLowerCase()&&t.forEach((e=>e.variableName="")),t=t.filter((({variableName:e,dimensionName:t})=>e&&"*"!==e||t)),!e?.length&&t.length&&(this.mosaicRule.multidimensionalDefinition=t)}}_processVisibleRastersResponse(e,t){t=t||{};const n=e.value,{templateRRFunctionNames:r,showNoDataRecords:i,returnDomainValues:o,templateFields:s}=t,a=e.processedValues;let l=e.catalogItems?.features,c=e.properties?.Values?.map((e=>e.replaceAll(/ /gi,", ")))||[];const u=this.objectIdField||"ObjectId",d="string"==typeof n&&n.toLowerCase().includes("nodata"),h=[];if(n&&!l&&(!d||i)){const e={};e[u]=0,c=[n],l=[new f.A({geometry:this.fullExtent,attributes:e})],this.multidimensionalInfo&&"raster-dataset"===this.sourceType&&(0,re.eS)(this.rasterFields,e,t.effectiveMultidimensionalDefinition)}if(!l)return[];this._updateResponseFieldNames(l,s),d&&!i&&(l=[]);const{itemPixelValue:p,servicePixelValue:m}=re.F_,y=this.rasterFields.some((e=>e.name===p));for(let e=0;e<l.length;e++){const t=l[e];if(null!=n){const o=c[e],s=this.rasterFunction&&a&&a.length>0&&r&&r.length>0&&r.includes(this.rasterFunction.functionName)?a[r.indexOf(this.rasterFunction.functionName)]:n;if("nodata"===o.toLowerCase()&&!i)continue;y&&(t.attributes[p]=o),t.attributes[m]=s,this._updateFeatureWithMagDirValues(t,o);const l=this.fields&&this.fields.length>0;let u=this.rasterFunction&&null!=this.serviceRasterInfo.attributeTable?l?o:n:s;this.rasterFunction||(u=l?o:n),this._updateFeatureWithRasterAttributeTableValues(t,u)}if(t.sourceLayer=t.layer=this,o&&this._updateFeatureWithDomainValues(t),r&&a&&r.length===a.length)for(let e=0;e<r.length;e++){const n=`${re.F_.servicePixelValue}.${r[e]}`;t.attributes[n]=a[e]}h.push(l[e])}return h}_processMultidimensionalIntersection(e,t,n){const{multidimensionalSubset:r}=this;if(!r)return{isOutSide:!1,timeExtent:t,mosaicRule:n=this._combineMosaicRuleWithTimeExtent(n,t)};if(r){const{isOutside:n,intersection:i}=(0,oe.Rp)(r,{geometry:e,timeExtent:t});if(n)return{isOutSide:!0,timeExtent:null,mosaicRule:null};null!=i?.timeExtent&&(t=i.timeExtent)}if(n=this._combineMosaicRuleWithTimeExtent(n,t),n?.multidimensionalDefinition){const{isOutside:e}=(0,oe.Rp)(r,{multidimensionalDefinition:n.multidimensionalDefinition});if(e)return{isOutSide:!0,timeExtent:null,mosaicRule:null}}return{isOutSide:!1,timeExtent:t,mosaicRule:n}}_updateFeatureWithRasterAttributeTableValues(e,t){const n=this.rasterInfo.attributeTable||this.serviceRasterInfo.attributeTable;if(null==n)return;const{features:r,fields:i}=n,o=i.map((e=>e.name)).find((e=>"value"===e.toLowerCase()));if(!o)return;const s=r.filter((e=>e.attributes[o]===(null!=t?parseInt(t,10):null)));s&&s[0]&&i.forEach((t=>{const n=re.ER+t.name;e.attributes[n]=s[0].attributes[t.name]}))}_updateFeatureWithMagDirValues(e,t){if(!this._isVectorDataSet())return;const n=t.split(/,\s*/).map((e=>parseFloat(e))),r=n.map((e=>[e])),i=n.map((e=>({minValue:e,maxValue:e,noDataValue:null}))),o=new ne.A({height:1,width:1,pixelType:"f32",pixels:r,statistics:i});null!=this.pixelFilter&&this.pixelFilter({pixelBlock:o,extent:new S.A(0,0,0,0,this.spatialReference)});const s="esriImageServiceDataTypeVector-MagDir"===this.serviceDataType?[o.pixels[0][0],o.pixels[1][0]]:(0,ae.Lu)([o.pixels[0][0],o.pixels[1][0]]);e.attributes[re.F_.magnitude]=s[0],e.attributes[re.F_.direction]=s[1]}_updateFeatureWithDomainValues(e){const t=this.fields&&this.fields.filter((e=>e.domain&&"coded-value"===e.domain.type));null!=t&&t.forEach((t=>{const n=e.attributes[t.name];if(null!=n){const r=t.domain.codedValues.find((e=>e.code===n));r&&(e.attributes[t.name]=r.name)}}))}_updateResponseFieldNames(e,t){if(!t||t.length<1)return;const n=this.fieldsIndex;null!=n&&e.forEach((e=>{if(e?.attributes)for(const r of t){const t=n.get(r)?.name;t&&t!==r&&(e.attributes[r]=e.attributes[t],delete e.attributes[t])}}))}_getRenderingRuleString(e){if(e){let t=e.toJSON();return t=t.rasterFunctionDefinition??t,(t.thumbnail||t.thumbnailEx)&&(t.thumbnail=t.thumbnailEx=null),JSON.stringify(t)}return null}_hasRasterFunction(e){return null!=e?.functionName&&"none"!==e.functionName.toLowerCase()}_updateRenderingRulesFunctionName(e,t){if(!e||e.length<1)return;if("Raw"===e)return e.replace("Raw","None");const n=e.toLowerCase().replaceAll(/ /gi,"_");return t.has(n)?t.get(n):e}_isRFTJson(e){return e?.name&&e.arguments&&e.function&&e.hasOwnProperty("functionType")}_isVectorDataSet(){return"esriImageServiceDataTypeVector-UV"===this.serviceDataType||"esriImageServiceDataTypeVector-MagDir"===this.serviceDataType}_applyMosaicAndRenderingRules(e){const{raster:t,mosaicRule:n,rasterFunction:r}=this;r&&null==e.rasterFunction&&(e.rasterFunction=r),n&&null==e.mosaicRule&&(e.mosaicRule=n),t&&null==e.raster&&(e.raster=t)}async _updateCurrentRasterInfo(e){if(this.renderer||this.symbolizer){const t=await this._generateRasterInfo(this.rasterFunction,{signal:e});t&&(this.rasterInfo=t)}}_applyMosaicRule(e){const{raster:t,mosaicRule:n}=this;n&&null==e.mosaicRule&&(e.mosaicRule=n),t&&null==e.raster&&(e.raster=t)}_readCapabilities(e){const t=e.capabilities?e.capabilities.toLowerCase().split(",").map((e=>e.trim())):["image","catalog"],{currentVersion:n,maxRecordCount:r}=e,i=t.includes("image"),o="esriImageServiceDataTypeElevation"===e.serviceDataType,s=!(!e.spatialReference&&!e.extent?.spatialReference),a=t.includes("edit"),l=t.includes("mensuration")&&s,c=null==e.mensurationCapabilities?[]:e.mensurationCapabilities.toLowerCase().split(",").map((e=>e.trim())),u=l&&c.includes("basic"),d=this._isMosaicDataset(e)&&t.includes("catalog"),h=t.includes("download"),p=n>=10.7&&o||n>=11.4&&(o||l&&c.includes("3d")),f=d&&e.fields&&e.fields.length>0,m=f&&e.supportsAdvancedQueries?e.advancedQueryCapabilities:void 0;return{data:{supportsAttachment:!1},operations:{supportsComputeHistograms:i,supportsExportImage:i,supportsIdentify:i,supportsImageToMap:n>=11.2&&d,supportsImageToMapMultiray:n>=11.2&&d,supportsMapToImage:n>=11.2&&d,supportsFindImages:n>=11.2&&d,supportsGetImageUrl:n>=11.3&&h,supportsMeasure:l,supportsMeasureFromImage:n>=11.2,supportsDownload:h,supportsQuery:f,supportsGetSamples:n>=10.2&&i,supportsProject:n>=10.3&&i,supportsComputeStatisticsHistograms:n>=10.4&&i,supportsQueryBoundary:n>=10.6&&i,supportsCalculateVolume:p,supportsComputePixelLocation:n>=10.7&&d,supportsComputeAngles:n>=10.91,supportsQueryGPSInfo:n>=11.2&&d,supportsAdd:a,supportsDelete:a,supportsEditing:a,supportsUpdate:a,supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsChangeTracking:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsExceedsLimitStatistics:!1,supportsQueryAnalytics:!1,supportsQueryBins:!1,supportsQueryTopFeatures:!1,supportsAsyncConvert3D:!1},query:{maxRecordCount:r,maxRecordCountFactor:void 0,maxUniqueIDCount:void 0,supportsStatistics:!!m?.supportsStatistics,supportsOrderBy:!!m?.supportsOrderBy,supportsDistinct:!!m?.supportsDistinct,supportsPagination:!!m?.supportsPagination,supportsPaginationOnAggregatedQueries:!!m?.supportsPaginationOnAggregatedQueries,supportsStandardizedQueriesOnly:!!m?.useStandardizedQueries,supportsPercentileStatistics:!!m?.supportsPercentileStatistics,supportsCentroid:!!m?.supportsReturningGeometryCentroid,supportsCurrentUser:!1,supportsDistance:!!m?.supportsQueryWithDistance,supportsExtent:!!m?.supportsReturningQueryExtent,supportsGeometryProperties:!!m?.supportsReturningGeometryProperties,supportsHavingClause:!!m?.supportsHavingClause,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsReturnMesh:!1,supportsMaxRecordCountFactor:!1,supportsSqlExpression:m?.supportsSqlExpression??!!m,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!1,supportsCacheHint:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsDefaultSpatialReference:!!m?.supportsDefaultSR,supportsFullTextSearch:!1,supportsCompactGeometry:!1,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0,supportsTrueCurve:!1},mensuration:{supportsDistanceAndAngle:u,supportsAreaAndPerimeter:u,supportsPointOrCentroid:u,supportsHeightFromBaseAndTop:l&&c.includes("base-top height"),supportsHeightFromBaseAndTopShadow:l&&c.includes("base-top shadow height"),supportsHeightFromTopAndTopShadow:l&&c.includes("top-top shadow height"),supports3D:l&&c.includes("3d")}}}};function n(e){return e?.path??""}return(0,r._)([(0,c.MZ)({clonable:!1})],t.prototype,"_functionRasterInfos",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"_serviceSupportsMosaicRule",void 0),(0,r._)([(0,_.w)("_serviceSupportsMosaicRule",["currentVersion","fields"])],t.prototype,"readServiceSupportsMosaicRule",null),(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"_rasterFunctionNamesIndex",null),(0,r._)([(0,c.MZ)()],t.prototype,"adjustAspectRatio",void 0),(0,r._)([(0,c.MZ)({type:[w.jz],json:{write:!0}})],t.prototype,"bandIds",void 0),(0,r._)([(0,_.w)("bandIds")],t.prototype,"readBandIds",null),(0,r._)([(0,c.MZ)({readOnly:!0,json:{read:!1}})],t.prototype,"capabilities",void 0),(0,r._)([(0,_.w)("service","capabilities",["capabilities","currentVersion","serviceDataType"])],t.prototype,"readCapabilities",null),(0,r._)([(0,c.MZ)({type:Number})],t.prototype,"compressionQuality",void 0),(0,r._)([(0,h.K)("compressionQuality")],t.prototype,"writeCompressionQuality",null),(0,r._)([(0,c.MZ)({type:Number})],t.prototype,"compressionTolerance",void 0),(0,r._)([(0,h.K)("compressionTolerance")],t.prototype,"writeCompressionTolerance",null),(0,r._)([(0,c.MZ)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),(0,r._)([(0,c.MZ)({readOnly:!0,dependsOn:["_serviceSupportsMosaicRule"]})],t.prototype,"defaultMosaicRule",void 0),(0,r._)([(0,_.w)("defaultMosaicRule",["defaultMosaicMethod"])],t.prototype,"readDefaultMosaicRule",null),(0,r._)([(0,c.MZ)({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),(0,r._)([(0,c.MZ)({readOnly:!0,constructOnly:!0})],t.prototype,"exportImageServiceParameters",void 0),(0,r._)([(0,c.MZ)()],t.prototype,"rasterInfo",void 0),(0,r._)([(0,c.MZ)({readOnly:!0,type:[X.A]})],t.prototype,"fields",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"fieldsIndex",null),(0,r._)([(0,c.MZ)({type:["png","png8","png24","png32","jpg","bmp","gif","jpgpng","lerc","tiff","bip","bsq"],json:{write:!0}})],t.prototype,"format",null),(0,r._)([(0,_.w)("service","format",["serviceDataType"])],t.prototype,"readFormat",null),(0,r._)([(0,c.MZ)({type:S.A})],t.prototype,"fullExtent",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"hasMultidimensions",void 0),(0,r._)([(0,c.MZ)({json:{read:{source:"maxImageHeight"}}})],t.prototype,"imageMaxHeight",void 0),(0,r._)([(0,c.MZ)({json:{read:{source:"maxImageWidth"}}})],t.prototype,"imageMaxWidth",void 0),(0,r._)([(0,c.MZ)({type:String,json:{type:K.SZ.jsonValues,read:K.SZ.read,write:K.SZ.write}})],t.prototype,"interpolation",void 0),(0,r._)([(0,c.MZ)()],t.prototype,"minScale",void 0),(0,r._)([(0,_.w)("service","minScale")],t.prototype,"readMinScale",null),(0,r._)([(0,c.MZ)()],t.prototype,"maxScale",void 0),(0,r._)([(0,_.w)("service","maxScale")],t.prototype,"readMaxScale",null),(0,r._)([(0,c.MZ)({type:J.A})],t.prototype,"mosaicRule",null),(0,r._)([(0,_.w)("mosaicRule",["mosaicRule","defaultMosaicMethod"])],t.prototype,"readMosaicRule",null),(0,r._)([(0,h.K)("mosaicRule")],t.prototype,"writeMosaicRule",null),(0,r._)([(0,c.MZ)()],t.prototype,"multidimensionalInfo",void 0),(0,r._)([(0,c.MZ)({type:te.A,json:{write:!0}})],t.prototype,"multidimensionalSubset",void 0),(0,r._)([(0,c.MZ)({json:{type:w.jz}})],t.prototype,"noData",void 0),(0,r._)([(0,h.K)("noData")],t.prototype,"writeNoData",null),(0,r._)([(0,c.MZ)({type:String,json:{type:K.hm.jsonValues,read:K.hm.read,write:K.hm.write}})],t.prototype,"noDataInterpretation",void 0),(0,r._)([(0,c.MZ)({type:String,readOnly:!0,json:{read:{source:["fields"]}}})],t.prototype,"objectIdField",void 0),(0,r._)([(0,_.w)("objectIdField")],t.prototype,"readObjectIdField",null),(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"geometryType",void 0),(0,r._)([(0,c.MZ)({})],t.prototype,"typeIdField",void 0),(0,r._)([(0,c.MZ)({})],t.prototype,"types",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"parsedUrl",null),(0,r._)([(0,c.MZ)({type:Function})],t.prototype,"pixelFilter",void 0),(0,r._)([(0,c.MZ)()],t.prototype,"raster",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"sourceType",void 0),(0,r._)([(0,_.w)("sourceType",["serviceSourceType","fields"])],t.prototype,"readSourceType",null),(0,r._)([(0,c.MZ)()],t.prototype,"viewId",void 0),(0,r._)([(0,c.MZ)()],t.prototype,"renderer",null),(0,r._)([(0,c.MZ)({types:ue.uy,json:{name:"layerDefinition.drawingInfo.renderer",origins:{"web-scene":{types:ue.Gj,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:e=>({enabled:e&&"vector-field"!==e.type&&"flow"!==e.type})}}}}})],t.prototype,"internalRenderer",null),(0,r._)([(0,_.w)("internalRenderer")],t.prototype,"readRenderer",null),(0,r._)([(0,h.K)("internalRenderer")],t.prototype,"writeRenderer",null),(0,r._)([(0,c.MZ)({clonable:!1})],t.prototype,"symbolizer",void 0),(0,r._)([(0,c.MZ)(T.ke)],t.prototype,"opacity",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"rasterFields",null),(0,r._)([(0,c.MZ)({constructOnly:!0})],t.prototype,"rasterFunctionInfos",void 0),(0,r._)([(0,c.MZ)({type:E.A,json:{name:"renderingRule"}})],t.prototype,"rasterFunction",null),(0,r._)([(0,_.w)("rasterFunction",["renderingRule","rasterFunctionInfos"])],t.prototype,"readRasterFunction",null),(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"serviceDataType",void 0),(0,r._)([(0,c.MZ)({readOnly:!0,type:M.A})],t.prototype,"spatialReference",void 0),(0,r._)([(0,_.w)("spatialReference",["spatialReference","extent"])],t.prototype,"readSpatialReference",null),(0,r._)([(0,c.MZ)({type:K.e8.apiValues,json:{read:K.e8.read,type:K.e8.jsonValues}})],t.prototype,"pixelType",void 0),(0,r._)([(0,h.K)("pixelType")],t.prototype,"writePixelType",null),(0,r._)([(0,c.MZ)({constructOnly:!0,type:ie.A})],t.prototype,"serviceRasterInfo",void 0),(0,r._)([(0,c.MZ)()],t.prototype,"sourceJSON",void 0),(0,r._)([(0,c.MZ)(T.OZ)],t.prototype,"url",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"version",void 0),(0,r._)([(0,_.w)("version",["currentVersion","fields","timeInfo"])],t.prototype,"readVersion",null),t=(0,r._)([(0,d.$)("esri.layers.mixins.ArcGISImageService")],t),t};var Bt=n(30179),$t=n(20923),Gt=n(27303),qt=n(4648),Ht=n(60368),Wt=n(12177),Jt=n(35418),Kt=n(51177),Yt=n(22111),Xt=n(2960),Qt=n(23123),en=n(95610),tn=n(29759);let nn=class extends((0,$t.dM)((0,Xt.e)((0,Yt.j)((0,qt.q)((0,Ht.A)((0,Jt.H)(Vt((0,Wt.G)((0,Kt.J)((0,Gt.d)((0,Bt.b)((0,a.P)(o.A.ClonableMixin(p.A)))))))))))))){constructor(...e){super(...e),this.isReference=null,this.operationalLayerType="ArcGISImageServiceLayer",this.popupEnabled=!0,this.popupTemplate=null,this.type="imagery",this._debouncedSaveOperations=(0,l.sg)((async(e,t,r)=>{const{save:i,saveAs:o}=await n.e(3799).then(n.bind(n,3799));switch(e){case tn.X.SAVE:return i(this,t);case tn.X.SAVE_AS:return o(this,r,t)}}))}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"]},e).catch(l.QP).then((()=>this._fetchService(t)))),Promise.resolve(this)}get legendEnabled(){return!this._isPreviewLayer&&(this._get("legendEnabled")??!0)}set legendEnabled(e){this._set("legendEnabled",e)}get listMode(){return this._isPreviewLayer?"hide":this._get("listMode")}set listMode(e){this._set("listMode",e)}writeOperationalLayerType(e,t,n){const r="vector-field"===this.renderer?.type;t[n]=r?"ArcGISImageServiceVectorLayer":"ArcGISImageServiceLayer"}get defaultPopupTemplate(){return this.createPopupTemplate()}get _isPreviewLayer(){return!(!this.raster||!this.url?.toLowerCase().includes("/rasterrendering/imageserver"))}createPopupTemplate(e){const{rasterFields:t}=this,n=new Set,r=re.F_.itemPixelValue.toLowerCase(),i="raster-dataset"===this.sourceType,o=re.Oo.toLowerCase(),s=`${re.F_.servicePixelValue.toLowerCase()}.`;for(const e of t){const t=e.name.toLowerCase();t===r||t.startsWith(s)||i&&t.startsWith(o)||n.add(e.name)}const a=(0,en.tn)({fields:t,title:this.title},{...e,visibleFieldNames:n}),{rasterInfo:l}=this;return a?.fieldInfos&&l&&(0,re.h4)(a.fieldInfos,l),a}queryFeatures(e,t){return this.queryRasters(e,t).then((e=>{if(e?.features)for(const t of e.features)t.layer=t.sourceLayer=this;return e}))}queryFeatureCount(e,t){return this.queryRasterCount(e,t)}redraw(){this.emit("redraw")}async save(e){return this._debouncedSaveOperations(tn.X.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(tn.X.SAVE_AS,t,e)}serviceSupportsSpatialReference(e){return(0,Qt.D)(this,e)}write(e,t){if(!this._isPreviewLayer)return super.write(e,t);if(t?.messages){const e=`${t.origin}/${t.layerContainerType||"operational-layers"}`;t.messages.push(new s.A("layer:unsupported",`Imagery preview layer (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this}))}return null}};(0,r._)([(0,c.MZ)(T.fV)],nn.prototype,"legendEnabled",null),(0,r._)([(0,c.MZ)({type:["show","hide"]})],nn.prototype,"listMode",null),(0,r._)([(0,c.MZ)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],nn.prototype,"isReference",void 0),(0,r._)([(0,c.MZ)({type:["ArcGISImageServiceLayer"],json:{origins:{"web-map":{type:["ArcGISImageServiceLayer","ArcGISImageServiceVectorLayer"],read:!1,write:{target:"layerType",ignoreOrigin:!0}}}}})],nn.prototype,"operationalLayerType",void 0),(0,r._)([(0,h.K)("web-map","operationalLayerType")],nn.prototype,"writeOperationalLayerType",null),(0,r._)([(0,c.MZ)(T.M6)],nn.prototype,"popupEnabled",void 0),(0,r._)([(0,c.MZ)({type:i.A,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],nn.prototype,"popupTemplate",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],nn.prototype,"defaultPopupTemplate",null),(0,r._)([(0,c.MZ)({readOnly:!0,json:{read:!1}})],nn.prototype,"type",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],nn.prototype,"_isPreviewLayer",null),nn=(0,r._)([(0,d.$)("esri.layers.ImageryLayer")],nn);const rn=nn},11378:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r=n(55792);function i(e,t,n){if(!n?.features||!n.hasZ)return;const i=(0,r.N)(n.geometryType,t,e.outSpatialReference);if(null!=i)for(const e of n.features)i(e.geometry)}},11455:function(e,t,n){"use strict";n.d(t,{A:function(){return p}});var r,i=n(82392),o=n(15565),s=n(23572),a=n(81482),l=(n(6273),n(80861),n(85716)),c=n(25376),u=n(26325),d=n(47065),h=n(34513);let p=r=class extends d.A{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,n){if(e&&"string"!=typeof e&&null==e.imageData)return e;const r={};return e&&(r.url=e),null!=t&&(r.width=(0,s.cr)(t)),null!=n&&(r.height=(0,s.cr)(n)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new r({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",(0,o.o8)(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,i._)([(0,a.MZ)({json:{write:!1}})],p.prototype,"color",void 0),(0,i._)([(0,l.e)({esriPMS:"picture-marker"},{readOnly:!0})],p.prototype,"type",void 0),(0,i._)([(0,a.MZ)(h.ku)],p.prototype,"url",void 0),(0,i._)([(0,a.MZ)(h.k7)],p.prototype,"source",void 0),(0,i._)([(0,a.MZ)({type:Number,cast:s.cr,json:{write:!0}})],p.prototype,"height",void 0),(0,i._)([(0,c.w)("height",["height","size"])],p.prototype,"readHeight",null),(0,i._)([(0,a.MZ)({type:Number,cast:s.cr,json:{write:!0}})],p.prototype,"width",void 0),(0,i._)([(0,a.MZ)({json:{write:!1}})],p.prototype,"size",void 0),p=r=(0,i._)([(0,u.$)("esri.symbols.PictureMarkerSymbol")],p)},11479:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var r,i=n(82392),o=n(62991),s=n(84977),a=n(21750),l=n(81482),c=(n(6273),n(80861),n(67498),n(26325)),u=n(77498),d=n(51216);const h={read:{reader:u.LF},write:{writer:u.M9,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},p={read:{reader:u.LF},write:{writer:u.M9,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},f={name:"showExcludedLabels",default:!0};let m=r=class extends s.A{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const n=super.write(e,t);if(t?.origin){if(n.filter){const e=Object.keys(n.filter);if(e.length>1||"where"!==e[0])return t.messages?.push(new o.A("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in n)return t.messages?.push(new o.A("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return n}clone(){return new r({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,i._)([(0,l.MZ)({type:d.A,json:{write:{allowNull:!0,writer(e,t,n,r){const i=e?.write({},r);i&&0!==Object.keys(i).length?(0,a.sM)(n,i,t):(0,a.sM)(n,null,t)}}}})],m.prototype,"filter",void 0),(0,i._)([(0,l.MZ)({json:{read:u.LF,write:{writer:u.M9,allowNull:!0},origins:{"web-map":h,"portal-item":h}}})],m.prototype,"includedEffect",void 0),(0,i._)([(0,l.MZ)({json:{read:u.LF,write:{writer:u.M9,allowNull:!0},origins:{"web-map":p,"portal-item":p}}})],m.prototype,"excludedEffect",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":f,"portal-item":f}}})],m.prototype,"excludedLabelsVisible",void 0),m=r=(0,i._)([(0,c.$)("esri.layers.support.FeatureEffect")],m)},11679:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(2532),i=n(53334);class o{constructor(e,t,n){this.maxSize=e,this._tileInfoView=t,this._removedFunc=n,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){const t=this._tilePerId.get(e);if(!t)return;const n=t.key.level,r=this._tileKeysPerLevel[n];s(this._tilePerId,e);for(let t=0;t<r.length;t++)if(r[t].id===e){r.splice(t,1);break}return t.visible=!0,t}add(e){e.visible=!1;const t=e.key,n=t.id;if(this._tilePerId.has(n))return;this._tilePerId.set(n,e);const r=t.level;this._tileKeysPerLevel[r]||(this._tileKeysPerLevel[r]=[]),this._tileKeysPerLevel[r].push(t)}prune(e,t,n){let r=this._tilePerId.size;if(r<=this.maxSize)return;let i=this._tileKeysPerLevel.length-1;for(;r>this.maxSize&&i>=0;)i!==e&&(r=this._pruneAroundCenterTile(r,t,n,i)),i--;r>this.maxSize&&(r=this._pruneAroundCenterTile(r,t,n,e))}_pruneAroundCenterTile(e,t,n,r){const o=this._tileKeysPerLevel[r];if(!o||0===o.length)return e;const{size:s,origin:a}=this._tileInfoView.tileInfo,l=n*s[0],c=n*s[1],u=[0,0],d=[0,0];for(o.sort(((e,n)=>(u[0]=a.x+l*(e.col+.5),u[1]=a.y-c*(e.row+.5),d[0]=a.x+l*(n.col+.5),d[1]=a.y-c*(n.row+.5),(0,i.hG)(u,t)-(0,i.hG)(d,t))));o.length>0;){const t=o.pop();if(this._removeTile(t.id),--e===this.maxSize)break}return e}_removeTile(e){const t=this._tilePerId.get(e);this._removedFunc&&t&&this._removedFunc(t),s(this._tilePerId,e)}}function s(e,t){e.delete(t)}var a=n(57021);const l=new(n(39156).A)(0,0,0,0),c=new Map,u=[],d=[];class h{constructor(e){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,null!=e.resampling&&(this.resampling=e.resampling),e.cachePolicy&&(this.cachePolicy=e.cachePolicy),e.coveragePolicy&&(this.coveragePolicy=e.coveragePolicy),null!=e.buffer&&(this.buffer=e.buffer),e.cacheSize&&(this._tileCache=new o(e.cacheSize,this.tileInfoView,(e=>{this.releaseTile(e)})))}destroy(){this.tileIndex.clear()}update(e){const{resampling:t,tileIndex:n}=this,{scale:r,center:i,resolution:o}=e.state,{minScale:s,maxScale:h}=this.tileInfoView,p=!e.stationary&&r>this._previousScale;if(this._previousScale=r,!t&&(r>s||r<h))return this.tiles.length=0,void this.clear();const f=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.resampling,this.coveragePolicy);if(!f)return this.tiles.length=0,void this.clear();const{spans:m,lodInfo:y}=f,{level:g}=y;this.tiles.length=0,n.forEach((e=>e.visible=!0));let v=0,b=0;if(m.length>0)for(const{row:e,colFrom:t,colTo:r}of m)for(let i=t;i<=r;i++){v++;const t=l.set(g,e,y.normalizeCol(i),y.getWorldForColumn(i)).id;let r=n.get(t);if(r)r.isReady?(c.set(t,r),b++):p||this._addParentTile(t,c);else{if(this._tileCache?.has(t)){if(r=this._tileCache.pop(t),this.tileIndex.set(t,r),r.isReady){c.set(t,r),b++;continue}}else r=this.acquireTile(l),this.tileIndex.set(t,r);p||this._addParentTile(t,c)}}const w=b===v;for(const[e,t]of n){if(c.has(e))continue;l.set(e);const n=this.tileInfoView.intersects(f,l),r="purge"===this.cachePolicy?l.level!==g:l.level>g;!n||!p&&w?!r&&n||u.push(t):t.isReady?r&&"purge"===this.cachePolicy&&this._hasReadyAncestor(l,g)?u.push(t):d.push(t):r&&u.push(t)}for(const e of d)e.isReady&&c.set(e.key.id,e);for(const e of u)this._tileCache?this._tileCache.add(e):this.releaseTile(e),n.delete(e.key.id);for(const e of c.values())this.tiles.push(e);for(const e of n.values())c.has(e.key.id)||(e.visible=!1);this._tileCache?.prune(g,i,o),a.A.pool.release(f),d.length=0,u.length=0,c.clear()}clear(){const{tileIndex:e}=this;for(const t of e.values())this.releaseTile(t);e.clear()}refresh(e){for(const t of this.tileIndex.values())e(t);this._tileCache?.clear()}updateCacheSize(e){this._tileCache&&(this._tileCache.maxSize=e)}_addParentTile(e,t){let n=e,r=null;for(;n=this.tileInfoView.getTileParentId(n),n;)if(this.tileIndex.has(n)){if(r=this.tileIndex.get(n),r?.isReady){t.has(r.key.id)||t.set(r.key.id,r);break}}else if(this._tileCache?.has(n)&&(r=this._tileCache.pop(n),this.tileIndex.set(n,r),r?.isReady)){t.has(r.key.id)||t.set(r.key.id,r);break}}_hasReadyAncestor(e,t){const n=(0,r.vt)();this.tileInfoView.getTileBounds(n,e,!0);for(const i of this.tileIndex.values())if(i.isReady&&i.key.level>=t&&i.key.level<e.level){const e=(0,r.vt)();if(this.tileInfoView.getTileBounds(e,i.key,!0),(0,r.gR)(e,n))return!0}return!1}}},11682:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(26325)),s=n(15909),a=n(45449),l=n(20923),c=n(22111),u=n(52796),d=n(44223);let h=class extends((0,l.dM)((0,c.j)(a.A))){constructor(e){super(e),this.elevationInfo=null,this.graphics=new u.Y,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(e){return this.graphics.add(e),this}addMany(e){return this.graphics.addMany(e),this}removeAll(){return this.graphics.removeAll(),this}remove(e){this.graphics.remove(e)}removeMany(e){this.graphics.removeMany(e)}on(e,t){return super.on(e,t)}graphicChanged(e){this.emit("graphic-update",e)}};(0,r._)([(0,i.MZ)({type:d.A})],h.prototype,"elevationInfo",void 0),(0,r._)([(0,i.MZ)((0,s.C)(u.Y,"graphics"))],h.prototype,"graphics",void 0),(0,r._)([(0,i.MZ)({type:["show","hide"]})],h.prototype,"listMode",void 0),(0,r._)([(0,i.MZ)()],h.prototype,"screenSizePerspectiveEnabled",void 0),(0,r._)([(0,i.MZ)({readOnly:!0})],h.prototype,"type",void 0),(0,r._)([(0,i.MZ)({constructOnly:!0})],h.prototype,"internal",void 0),h=(0,r._)([(0,o.$)("esri.layers.GraphicsLayer")],h)},11703:function(e,t,n){"use strict";var r,i,o,s,a,l,c,u,d,h,p,f,m,y,g;n.d(t,{Pl:function(){return v},Qg:function(){return g},vE:function(){return b}}),function(e){e.U8="U8",e.I8="I8",e.U16="U16",e.I16="I16",e.U32="U32",e.I32="I32",e.F32="F32",e.F64="F64",e.Utf8String="Utf8String",e.NotSet="NotSet"}(r||(r={})),function(e){e.Png="Png",e.Jpeg="Jpeg",e.Dds="Dds",e.Raw="Raw",e.Dxt1="Dxt1",e.Dxt5="Dxt5",e.Bc7="Bc7",e.Basis="Basis",e.Etc1="Etc1",e.Etc2="Etc2",e.Astc="Astc",e.Pvrtc="Pvrtc",e.NotSet="NotSet"}(i||(i={})),function(e){e.Position="Position",e.Normal="Normal",e.TexCoord="TexCoord",e.Color="Color",e.Tangent="Tangent",e.FeatureIndex="FeatureIndex",e.UvRegion="UvRegion",e.FeatureVariable="FeatureVariable",e.NotSet="NotSet"}(o||(o={})),function(e){e.Opaque="Opaque",e.Mask="Mask",e.Blend="Blend"}(s||(s={})),function(e){e.None="None",e.Mask="Mask",e.Alpha="Alpha",e.PreMultAlpha="PreMultAlpha",e.NotSet="NotSet"}(a||(a={})),function(e){e.Points="Points",e.Lines="Lines",e.LineStrip="LineStrip",e.Triangles="Triangles",e.TriangleStrip="TriangleStrip",e.NotSet="NotSet"}(l||(l={})),function(e){e.None="None",e.WrapXBit="WrapXBit",e.WrapYBit="WrapYBit",e.WrapXy="WrapXy",e.NotSet="NotSet"}(c||(c={})),function(e){e.Linear="Linear",e.Nearest="Nearest",e.NotSet="NotSet"}(u||(u={})),function(e){e.Linear="Linear",e.Nearest="Nearest",e.NearestMipmapNearest="NearestMipmapNearest",e.LinearMipmapNearest="LinearMipmapNearest",e.NearestMipmapLinear="NearestMipmapLinear",e.LinearMipmapLinear="LinearMipmapLinear",e.NotSet="NotSet"}(d||(d={})),function(e){e.FeatureId="FeatureId",e.GlobalUid="GlobalUid",e.UnspecifiedDateTime="UnspecifiedDateTime",e.EcmaIso8601DateTime="EcmaIso8601DateTime",e.EcmaIso8601DateOnly="EcmaIso8601DateOnly",e.TimeOnly="TimeOnly",e.TimeStamp="TimeStamp",e.ColorRgb="ColorRgb",e.ColorRgba="ColorRgba",e.Unrecognized="Unrecognized",e.NotSet="NotSet"}(h||(h={})),function(e){e.Texture="Texture",e.VertexAtrb="VertexAtrb",e.Implicit="Implicit",e.NotSet="NotSet"}(p||(p={})),function(e){e.Front="Front",e.Back="Back",e.None="None",e.NotSet="NotSet"}(f||(f={})),function(e){e.Pbr="Pbr",e.Unlit="Unlit"}(m||(m={})),function(e){e.Rgb8="Rgb8",e.Rgba8="Rgba8",e.R8="R8",e.Bgr8="Bgr8",e.Bgra8="Bgra8",e.Rg8="Rg8",e.Ga8="Ga8",e.Etc1="Etc1",e.Etc2="Etc2",e.Dxt1="Dxt1",e.Dxt5="Dxt5",e.Bc7="Bc7",e.NotSet="NotSet"}(y||(y={})),function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.MissingInputs=2]="MissingInputs"}(g||(g={}));const v=-1,b=-2},11895:function(e,t,n){"use strict";n.d(t,{S1:function(){return a},lL:function(){return c},mi:function(){return l},pJ:function(){return d},t:function(){return u},vf:function(){return s}});var r=n(50189),i=n(82506),o=n(96285);const s={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function a(e,t,n,s=i.qU){const a=new o.oh((0,r.wj)(s)),l=o.c9.fromJSDate(e,{zone:a}),c="decades"===n||"centuries"===n?"year":h(n);return"decades"===n&&(t*=10),"centuries"===n&&(t*=100),l.plus({[c]:t}).toJSDate()}function l(e,t,n="milliseconds"){const r=e.getTime(),i=u(t,n,"milliseconds");return new Date(r+i)}function c(e,t,n=i.qU){const s=new o.oh((0,r.wj)(n)),a=o.c9.fromJSDate(e,{zone:s});if("decades"===t||"centuries"===t){const e=a.startOf("year"),{year:n}=e,r=n-n%("decades"===t?10:100);return e.set({year:r}).toJSDate()}const l=h(t);return a.startOf(l).toJSDate()}function u(e,t,n){return 0===e?0:e*s[t]/s[n]}function d(e,t){return e&&t?e.intersection(t):e||t}function h(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}},11965:function(e,t,n){"use strict";n.d(t,{A:function(){return p}});var r=n(82392),i=n(62991),o=n(57725),s=n(71004),a=n(37623),l=n(97629),c=n(81482),u=n(26325);const d="loaded",h=e=>{let t=class extends e{constructor(...e){super(...e),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((e=>{const t=this.load.bind(this);this.load=n=>{const r=new Promise(((e,t)=>{const r=(0,a.NY)(n,t);this.destroyed&&t(new i.A("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(e,t).finally((()=>{r&&r.remove()}))}));if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const e=this._loadController=new AbortController;t({signal:e.signal})}return e(),r}}))),this.when((()=>{this._set("loadStatus",d),this._loadController=null}),(e=>{this._set("loadStatus","failed"),this._set("loadError",e),this._loadController=null}))}destroy(){this._loadController&&(this._loadController=(0,o.DC)(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===d}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new i.A("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"loaded",null),(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"loadError",void 0),(0,r._)([(0,c.MZ)({clonable:!1})],t.prototype,"loadStatus",void 0),(0,r._)([(0,c.MZ)({type:[l.A],readOnly:!0})],t.prototype,"loadWarnings",null),t=(0,r._)([(0,u.$)("esri.core.Loadable")],t),t};let p=class extends(h(s.A)){};var f;p=(0,r._)([(0,u.$)("esri.core.Loadable")],p),(f=p||(p={})).LoadableMixin=h,f.isLoadable=function(e){return!(!e||!e.load)}},12177:function(e,t,n){"use strict";n.d(t,{G:function(){return p}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(26325)),s=n(62991),a=n(73462),l=n(83371);class c{constructor(){this._workerThread=null,this._destroyed=!1}async initialize(){const e=await(0,a.ho)("RasterWorker");this._destroyed?e.close():this._workerThread=e}destroy(){this._destroyed=!0,this._workerThread&&(this._workerThread.close(),this._workerThread=null)}async convertVectorFieldData(e,t){if(!this._workerThread)throw new s.A("raster-jobhandler:no-connection","no available worker connection");const n=await this._workerThread.invoke("convertVectorFieldData",{pixelBlock:e.pixelBlock.toJSON(),type:e.dataType},t);return n?new l.A(n):null}computeStatisticsHistograms(e,t){if(!this._workerThread)throw new s.A("raster-jobhandler:no-connection","no available worker connection");return this._workerThread.invoke("computeStatisticsHistograms",{pixelBlock:e.pixelBlock.toJSON()},t)}async decode(e,t){if(!this._workerThread)throw new s.A("raster-jobhandler:no-connection","no available worker connection");const n=await this._workerThread.invoke("decode",e,t);return n?new l.A(n):null}async symbolize(e,t){if(!this._workerThread)throw new s.A("raster-jobhandler:no-connection","no available worker connection");const n={extent:e.extent?.toJSON(),pixelBlock:e.pixelBlock?.toJSON(),simpleStretchParams:e.simpleStretchParams,bandIds:e.bandIds},r=await this._workerThread.invoke("symbolize",n,t);return r?new l.A(r):null}async updateSymbolizer(e,t){if(!this._workerThread)throw new s.A("raster-jobhandler:no-connection","no available worker connection");const n=e?.rendererJSON?.histograms;await Promise.all(this._workerThread.broadcast("updateSymbolizer",{symbolizerJSON:e.toJSON(),histograms:n},t))}async updateRasterFunction(e,t){if(!this._workerThread)throw new s.A("raster-jobhandler:no-connection","no available worker connection");await Promise.all(this._workerThread.broadcast("updateRasterFunction",{rasterFunctionJSON:e.toJSON()},t))}async process(e,t){if(!this._workerThread)throw new s.A("raster-jobhandler:no-connection","no available worker connection");const n=await this._workerThread.invoke("process",{extent:e.extent?.toJSON(),primaryPixelSizes:e.primaryPixelSizes?.map((e=>null!=e?e.toJSON():null)),primaryPixelBlocks:e.primaryPixelBlocks.map((e=>null!=e?e.toJSON():null)),primaryRasterIds:e.primaryRasterIds},t);return n?new l.A(n):null}async stretch(e,t){if(!this._workerThread)throw new s.A("raster-jobhandler:no-connection","no available worker connection");if(!e?.pixelBlock)return null;const n={srcPixelBlock:e.pixelBlock.toJSON(),stretchParams:e.stretchParams},r=await this._workerThread.invoke("stretch",n,t);return r?new l.A(r):null}async split(e,t){if(!this._workerThread)throw new s.A("raster-jobhandler:no-connection","no available worker connection");if(!e?.pixelBlock)return null;const n={srcPixelBlock:e.pixelBlock.toJSON(),tileSize:e.tileSize,maximumPyramidLevel:e.maximumPyramidLevel,useBilinear:e.useBilinear},r=await this._workerThread.invoke("split",n,t);return r&&r.forEach(((e,t)=>{r.set(t,e?l.A.fromJSON(e):null)})),r}async clipTile(e,t){if(!this._workerThread)throw new s.A("raster-jobhandler:no-connection","no available worker connection");if(!e?.pixelBlock)return null;const n={...e,pixelBlock:e.pixelBlock.toJSON()},r=await this._workerThread.invoke("clipTile",n,t);return r?l.A.fromJSON(r):null}async estimateStatisticsHistograms(e,t){if(!this._workerThread)throw new s.A("raster-jobhandler:no-connection","no available worker connection");if(!e?.pixelBlock)return null;const n={srcPixelBlock:e.pixelBlock.toJSON()};return await this._workerThread.invoke("estimateStatisticsHistograms",n,t)}async mosaicAndTransform(e,t){if(!this._workerThread)throw new s.A("raster-jobhandler:no-connection","no available worker connection");if(!e?.srcPixelBlocks?.length)return{pixelBlock:null};const n={...e,srcPixelBlocks:e.srcPixelBlocks.map((e=>null!=e?e.toJSON():null))},r=await this._workerThread.invoke("mosaicAndTransform",n,t);return{pixelBlock:r.pixelBlock?new l.A(r.pixelBlock):null,localNorthDirections:r.localNorthDirections}}async createFlowMesh(e,t){if(!this._workerThread)throw new s.A("raster-jobhandler:no-connection","no available worker connection");const n={buffer:e.flowData.data.buffer,maskBuffer:e.flowData.mask.buffer,width:e.flowData.width,height:e.flowData.height},{meshType:r,simulationSettings:i}=e,o=await this._workerThread.invoke("createFlowMesh",{meshType:r,flowData:n,simulationSettings:i},{...t,transferList:[n.buffer,n.maskBuffer]});return{vertexData:new Float32Array(o.vertexBuffer),indexData:new Uint32Array(o.indexBuffer)}}getProjectionOffsetGrid(e,t){if(!this._workerThread)throw new s.A("raster-jobhandler:no-connection","no available worker connection");const n=null!=e.datumTransformation?e.datumTransformation.steps.map((e=>({wkid:e.wkid,wkt:e.wkt,isInverse:e.isInverse}))):null,r=null!=e.rasterTransform?e.rasterTransform.toJSON():null,i={projectedExtent:e.projectedExtent.toJSON(),srcBufferExtent:e.srcBufferExtent.toJSON(),pixelSize:e.pixelSize,hasWrapAround:e.hasWrapAround,spacing:e.spacing,datumTransformationSteps:n,rasterTransform:r,isAdaptive:e.isAdaptive,includeGCSGrid:e.includeGCSGrid};return this._workerThread.invoke("getProjectionOffsetGrid",i,t)}}var u=n(20503),d=n(19642),h=n(486);const p=e=>{let t=class extends e{constructor(){super(...arguments),this._rasterJobHandlerConfig={instance:null,refCount:0,connectionPromise:null}}get _rasterJobHandler(){return this._rasterJobHandlerConfig.instance}increaseRasterJobHandlerUsage(){this._rasterJobHandlerConfig.refCount++}decreaseRasterJobHandlerUsage(){this._rasterJobHandlerConfig.refCount--,this._rasterJobHandlerConfig.refCount<=0&&this._shutdownJobHandler()}async convertVectorFieldData(e,t,n){if(null==e)return null;const r=this._rasterJobHandler;return r?r.convertVectorFieldData({pixelBlock:e,dataType:t},n):(0,u.FI)(e,t)}async createFlowMesh(e,t){const n=this._rasterJobHandler;return n?n.createFlowMesh(e,t):(0,h.CW)(e.meshType,e.simulationSettings,e.flowData,null!=t.signal?t.signal:(new AbortController).signal)}_initJobHandler(){const{_rasterJobHandlerConfig:e}=this;if(e.connectionPromise)return e.connectionPromise;const t=new c;return e.connectionPromise=t.initialize().then((()=>{e.instance=t,this.notifyChange("_rasterJobHandler")}),(()=>{})),e.connectionPromise}_shutdownJobHandler(){const{_rasterJobHandlerConfig:e}=this;e.instance?.destroy(),e.instance=null,e.connectionPromise=null,e.refCount=0,this.notifyChange("_rasterJobHandler"),this._cachedRendererJson=void 0}async _updateSymbolizer(e,t,n,r){const i=this._rasterJobHandlerConfig.instance;if(!i)return;const o=(0,d.$P)({...t.toJSON(),variableName:n});JSON.stringify(this._cachedRendererJson)!==JSON.stringify(o)&&(r&&(e.rasterInfo=r),e.rendererJSON=o,e.bind(),await i.updateSymbolizer(e),this._cachedRendererJson=t.toJSON())}async _symbolize(e,t){const{pixelData:n,bandIds:r,simpleStretchParams:i}=e,o=this._rasterJobHandler;if(o){const e=await o.symbolize({...n,simpleStretchParams:i,bandIds:r},t);return{extent:n.extent,pixelBlock:e}}const s=e.symbolizer.symbolize({...n,simpleStretchParams:i,bandIds:r});return{extent:n.extent,pixelBlock:s}}};return(0,r._)([(0,i.MZ)({clonable:!1})],t.prototype,"_rasterJobHandler",null),(0,r._)([(0,i.MZ)({clonable:!1})],t.prototype,"_cachedRendererJson",void 0),(0,r._)([(0,i.MZ)({clonable:!1})],t.prototype,"_rasterJobHandlerConfig",void 0),t=(0,r._)([(0,o.$)("esri.layers.mixins.RasterJobHandlerMixin")],t),t}},12223:function(e,t,n){"use strict";n.d(t,{A:function(){return v}});var r=n(23149),i=n(41917),o=function(){return i.A.Date.now()},s=/\s/;var a=function(e){for(var t=e.length;t--&&s.test(e.charAt(t)););return t},l=/^\s+/;var c=function(e){return e?e.slice(0,a(e)+1).replace(l,""):e},u=n(61882),d=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,p=/^0o[0-7]+$/i,f=parseInt;var m=function(e){if("number"==typeof e)return e;if((0,u.A)(e))return NaN;if((0,r.A)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,r.A)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=c(e);var n=h.test(e);return n||p.test(e)?f(e.slice(2),n?2:8):d.test(e)?NaN:+e},y=Math.max,g=Math.min;var v=function(e,t,n){var i,s,a,l,c,u,d=0,h=!1,p=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=i,r=s;return i=s=void 0,d=t,l=e.apply(r,n)}function b(e){var n=e-u;return void 0===u||n>=t||n<0||p&&e-d>=a}function w(){var e=o();if(b(e))return _(e);c=setTimeout(w,function(e){var n=t-(e-u);return p?g(n,a-(e-d)):n}(e))}function _(e){return c=void 0,f&&i?v(e):(i=s=void 0,l)}function S(){var e=o(),n=b(e);if(i=arguments,s=this,u=e,n){if(void 0===c)return function(e){return d=e,c=setTimeout(w,t),h?v(e):l}(u);if(p)return clearTimeout(c),c=setTimeout(w,t),v(u)}return void 0===c&&(c=setTimeout(w,t)),l}return t=m(t)||0,(0,r.A)(n)&&(h=!!n.leading,a=(p="maxWait"in n)?y(m(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),S.cancel=function(){void 0!==c&&clearTimeout(c),d=0,i=u=s=c=void 0},S.flush=function(){return void 0===c?l:_(o())},S}},12227:function(e,t,n){"use strict";n.d(t,{DN:function(){return a},Sv:function(){return s},ZY:function(){return l},z8:function(){return o}});var r=n(8e3),i=n(84459);function o(e){switch(e?.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":case"polyline":return e.extent?.center;default:return null}}async function s(e,t){if(e.hasZ||"2d"===t.type)return e;const n=t.map?.ground;if(!n?.layers.length)return e;const{geometry:r}=await n.queryElevation(e,{cache:t.basemapTerrain?.elevationQueryCache});return r}function a(e,t,n){return c(e.center,t,n)}function l(e,t,n){switch(e?.type){case"extent":return e;case"multipoint":case"polygon":case"polyline":return e.extent;case"point":return c(e,t,n);default:return null}}function c(e,t,n){const o=e.hasZ?e.z:void 0;if(t?.map)return(null!=n?(0,i.eU)(t,n):t.extent).clone().centerAt(e).set({zmax:o,zmin:o});const{x:s,y:a,spatialReference:l}=e;return new r.A({xmin:s-.25,ymin:a-.25,xmax:s+.25,ymax:a+.25,spatialReference:l,zmin:o,zmax:o})}},12352:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r=n(82392),i=n(14755),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325));let l=class extends(i.A.ClonableMixin(o.A)){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};(0,r._)([(0,s.MZ)({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&this.onFields.length>0}}}}})],l.prototype,"onFields",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"operator",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"searchTerm",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"searchType",void 0),l=(0,r._)([(0,a.$)("esri.rest.support.FullTextSearch")],l);const c=l},12387:function(e,t,n){"use strict";n.r(t),n.d(t,{populateGroupLayer:function(){return A},populateOperationalLayers:function(){return u}});var r=n(58842),i=(n(6273),n(86270)),o=n(97364),s=n(43305);function a(e,t){return!(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)&&e.featureCollectionType===t}var l=n(25302),c=n(99650);async function u(e,t,n){if(!t)return;const r=t.map((e=>async function(e,t){return async function(e,t,n){const r=new e;return r.read(t,n.context),"group"===r.type&&("GroupLayer"===t.layerType?await A(r,t,n):x(t)?function(e,t,n){t.itemId&&(e.portalItem=new s.default({id:t.itemId,portal:n?.portal}),e.when((()=>{const r=r=>{const i=r.layerId;T(r,e,t,i,n);const o=t.featureCollection?.layers?.[i];o&&r.read(o,n)};e.layers?.forEach(r),e.tables?.forEach(r)})))}(r,t,n.context):S(t)&&await async function(e,t,n){const r=o.S.FeatureLayer,i=await r(),s=t.featureCollection,a=s?.showLegend,l=s?.layers?.map(((r,o)=>{const s=new i;s.read(r,n);const l={...n,ignoreDefaults:!0};return T(s,e,t,o,l),null!=a&&s.read({showLegend:a},l),s}));e.layers.addMany(l??[])}(r,t,n.context)),await(0,c.L)(r,n.context),r}(await _(e,t),e,t)}(e,n))),i=await Promise.allSettled(r);for(const t of i)"rejected"===t.status||t.value&&e.add(t.value)}const d={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISSceneServiceLayer:"SceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BuildingSceneLayer:"BuildingSceneLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",IntegratedMesh3DTilesLayer:"IntegratedMesh3DTilesLayer",Object3DTilesLayer:"UnsupportedLayer",IntegratedMeshLayer:"IntegratedMeshLayer",KML:"KMLLayer",LineOfSightLayer:"LineOfSightLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",PointCloudLayer:"PointCloudLayer",RasterDataLayer:"UnsupportedLayer",VectorTileLayer:"VectorTileLayer",ViewshedLayer:"ViewshedLayer",Voxel:"VoxelLayer",WCS:"WCSLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},h={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},p={ArcGISFeatureLayer:"FeatureLayer"},f={ArcGISImageServiceLayer:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",DefaultTileLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WCS:"UnsupportedLayer",WMS:"UnsupportedLayer",WebTiledLayer:"WebTileLayer"},m={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",ArcGISVideoLayer:"VideoLayer",BingMapsAerial:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoJSON:"GeoJSONLayer",GeoRSS:"GeoRSSLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",KnowledgeGraphLayer:"KnowledgeGraphLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WCS:"WCSLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},y={ArcGISFeatureLayer:"FeatureLayer",SubtypeGroupTable:"SubtypeGroupLayer"},g={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",DefaultTileLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WCS:"WCSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},v={...m,LinkChartLayer:"LinkChartLayer"},b={...y},w={...g};async function _(e,t){const n=t.context,r=M(n);let c=e.layerType||e.type;!c&&t?.defaultLayerType&&(c=t.defaultLayerType);const u=r[c];let d=u?o.S[u]:o.S.UnknownLayer;if(x(e)){const t=n?.portal;if(e.itemId){const n=new s.default({id:e.itemId,portal:t});await n.load();const r=(await(0,l.n)(n,new i.v)).className||"UnknownLayer";d=o.S[r]}}else"ArcGISFeatureLayer"===c?function(e){return a(e,"notes")}(e)||function(e){return a(e,"markup")}(e)?d=o.S.MapNotesLayer:function(e){return a(e,"route")}(e)?d=o.S.RouteLayer:S(e)&&(d=o.S.GroupLayer):e.wmtsInfo?.url&&e.wmtsInfo.layerIdentifier?d=o.S.WMTSLayer:"WFS"===c&&"2.0.0"!==e.wfsInfo?.version&&(d=o.S.UnsupportedLayer);return d()}function S(e){return"ArcGISFeatureLayer"===e.layerType&&!x(e)&&(e.featureCollection?.layers?.length??0)>1}function x(e){return"Feature Collection"===e.type}function M(e){let t;switch(e.origin){case"web-scene":switch(e.layerContainerType){case"basemap":t=f;break;case"ground":t=h;break;case"tables":t=p;break;default:t=d}break;case"link-chart":switch(e.layerContainerType){case"basemap":t=w;break;case"tables":t=b;break;default:t=v}break;default:switch(e.layerContainerType){case"basemap":t=g;break;case"tables":t=y;break;default:t=m}}return t}async function A(e,t,n){const i=new r.A,o=u(i,Array.isArray(t.layers)?t.layers:[],n);try{try{if(await o,"group"===e.type)return e.layers.addMany(i),e}catch(t){e.destroy();for(const e of i)e.destroy();throw t}}catch(e){throw e}}function T(e,t,n,r,i){e.read({id:`${t.id}-sublayer-${r}`,visibility:n.visibleLayers?.includes(r)??!0},i)}},12443:function(e,t,n){"use strict";n.d(t,{S:function(){return c},z:function(){return l}});var r=n(5262),i=n(67488),o=n(85747),s=n(97011),a=n(88358);const l=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class c{constructor(e){this._options=e,this.geometryTypes=l,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new s.A}prepareFeatures(e){this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++}finishFeatureResult(e){if(!e?.features||!e.hasZ||!this._options.sourceSpatialReference||!e.spatialReference||(0,i.aI)(e.spatialReference,this._options.sourceSpatialReference)||e.spatialReference.vcsWkid)return;const t=(0,r.G9)(this._options.sourceSpatialReference)/(0,r.G9)(e.spatialReference);if(1!==t)for(const n of e.features){if(!(0,o.N3)(n))continue;const e=n.geometry.coords;for(let n=2;n<e.length;n+=3)e[n]*=t}}addFeature(e,t){e.features.push(t)}createFeature(){return new o.Om(null,{},null,0)}createSpatialReference(){return{wkid:0}}createGeometry(){return new a.A}addField(e,t){e.fields.push(t)}allocateCoordinates(e){e.coords.length=e.lengths.reduce(((e,t)=>e+t),0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(e,t){e.coords[this._coordinatePtr++]=t}addCoordinatePoint(e,t){e.coords.push(t)}addLength(e,t){e.lengths.push(t)}addQueryGeometry(e,t){e.queryGeometry=t.queryGeometry,e.queryGeometryType=t.queryGeometryType}createPointGeometry(){return new a.A}}},12466:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(92461)).default;t.default=i,e.exports=t.default},12508:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(85716)),a=n(26325),l=n(81327),c=n(3219),u=n(4068);let d=class extends l.A{static{r=this}constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new r({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};(0,i._)([(0,s.e)({Extrude:"extrude"},{readOnly:!0})],d.prototype,"type",void 0),(0,i._)([(0,o.MZ)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],d.prototype,"size",void 0),(0,i._)([(0,o.MZ)({type:u.N,json:{write:!0}})],d.prototype,"material",void 0),(0,i._)([(0,o.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0),(0,i._)([(0,o.MZ)(c.J)],d.prototype,"edges",void 0),d=r=(0,i._)([(0,a.$)("esri.symbols.ExtrudeSymbol3DLayer")],d)},12568:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(51545)),o={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,i.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,i.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,i.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,i.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,i.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};t.default=o,e.exports=t.default},12782:function(e,t,n){"use strict";n.d(t,{AL:function(){return v},DV:function(){return m},ER:function(){return i},F_:function(){return a},Nd:function(){return p},Oo:function(){return o},dy:function(){return h},eS:function(){return S},h4:function(){return x},jC:function(){return g},nq:function(){return f},rZ:function(){return d},y6:function(){return y}});var r=n(45352);const i="Raster.",o="Raster.Dim.",s=".Max",a={servicePixelValue:"Raster.ServicePixelValue",rawServicePixelValue:"Raster.ServicePixelValue.Raw",itemPixelValue:"Raster.ItemPixelValue",magnitude:"Raster.Magnitude",direction:"Raster.Direction",variable:"Raster.Variable"},l=new Map([["quarters","Quarter"],["months","Month"],["weeks","Week of the year"],["days","Day of the year"]]);function c(e,t){return new r.A({name:e,alias:t,domain:null,editable:!1,length:50,type:"string"})}function u(e,t){return new r.A({name:e,alias:t,domain:null,editable:!1,type:"double"})}function d(e){return c(a.servicePixelValue,e??"Service Pixel Value")}function h(e){return c(a.rawServicePixelValue,e??"Raw Service Pixel Value")}function p(){return c(a.itemPixelValue,"Item Pixel Value")}function f(e){return c(`${a.servicePixelValue}.${e}`,e)}function m(e){return u(`${a.magnitude}`,"Magnitude"+(e?` (${e})`:""))}function y(){return u(`${a.direction}`,"Direction ()")}function g(e){return e.fields.filter((e=>"oid"!==e.type&&"value"!==e.name.toLowerCase())).map((e=>{const t=e.clone();return t.name=`${i}${e.name}`,t}))}function v(e){const t=new Set,n=new Set,i=new Map;return e.variables.forEach((({dimensions:e})=>{e.forEach((e=>{if(e.recurring)i.set(e.name,e.unit);else{const r="ISO8601"===e.unit?.trim()?t:n;r.add(e.name),e.hasRanges&&r.add(`${e.name}${s}`)}}))})),[c(a.variable,"Variable"),...[...t].map((e=>function(e,t){return new r.A({name:e,alias:t,domain:null,editable:!1,type:"date"})}(`${o}${e}`,w(e)))),...[...n].map((e=>u(`${o}${e}`,w(e)))),...[...i].map((([e,t])=>u(`${o}${e}`,b(e,t))))]}function b(e,t){return t=t?.toLowerCase(),t&&l.has(t)?l.get(t):w(e)}function w(e){const t=e.endsWith(s),n=t?e.slice(0,-4):e,r="StdTime"===n?"Standard Time":"StdZ"===n?"Standard Z":n;return t?`${r} Max`:r}function _(e,t){return t?new Date(e):e}function S(e,t,n){n?.length&&(t[a.variable]=n[0].variableName,n.forEach((({dimensionName:n,values:r})=>{if(n&&r?.length){const i=`${o}${n}`,a=e.find((({name:e})=>e===i));if(!a)return;const l="date"===a.type,c=r[0];if(Array.isArray(c)){if(t[`${o}${n}`]=_(c[0],l),null!=c[1]){const r=`${o}${n}${s}`;if(e.some((({name:e})=>e===r))){const e=_(c[1],l);t[r]=e}}}else t[`${o}${n}`]=_(c,l)}})))}function x(e,t){if(t.pixelType.startsWith("f")&&e.forEach((({format:e,fieldName:t})=>{e&&t&&/^raster\.(item|service)pixelvalue/i.test(t)&&(e.places=2)})),t.multidimensionalInfo){const n=t.multidimensionalInfo.variables.flatMap((({dimensions:e})=>e));e.forEach((({format:e,fieldName:t})=>{if(e&&t?.startsWith(o)){const r=t.slice(o.length),i=`${r}${s}`,a=n.find((({name:e})=>e===r||e===i));a?.values?.every((e=>Number.isInteger(e)))&&(e.places=0)}}))}}},12862:function(e,t,n){"use strict";n.d(t,{A:function(){return b}});var r,i=n(82392),o=n(93814),s=n(58842),a=n(15565),l=n(81482),c=(n(6273),n(80861),n(85716)),u=n(26325),d=n(65076),h=n(34450),p=n(62932),f=n(31873),m=n(884),y=n(97160),g=n(20593);const v=s.A.ofType({base:null,key:"type",typeMap:{icon:d.A,object:h.A,text:f.A}});let b=r=class extends p.A{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new v,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,m.LH)(this)}hasVisibleVerticalOffset(){return(0,m.Yq)(this)}clone(){return new r({verticalOffset:(0,a.o8)(this.verticalOffset),callout:(0,a.o8)(this.callout),styleOrigin:(0,a.o8)(this.styleOrigin),symbolLayers:(0,a.o8)(this.symbolLayers),thumbnail:(0,a.o8)(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new r({symbolLayers:new s.A([d.A.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new r({symbolLayers:new s.A([d.A.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){const t=e.data?.symbol?.type;if("CIMPointSymbol"!==t)return null;const n=e.data.symbol;return new r(n?.callout?{symbolLayers:new s.A([d.A.fromCIMSymbol(e)]),callout:new y.A({size:.5,color:new o.A([0,0,0])}),verticalOffset:new g.A({screenLength:40})}:{symbolLayers:new s.A([d.A.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new r({symbolLayers:new s.A([f.A.fromTextSymbol(e)])})}};(0,i._)([(0,l.MZ)({type:g.A,json:{write:!0}})],b.prototype,"verticalOffset",void 0),(0,i._)([(0,l.MZ)(m.oG)],b.prototype,"callout",void 0),(0,i._)([(0,l.MZ)({type:v,json:{origins:{"web-scene":{write:!0}}}})],b.prototype,"symbolLayers",void 0),(0,i._)([(0,c.e)({PointSymbol3D:"point-3d"},{readOnly:!0})],b.prototype,"type",void 0),b=r=(0,i._)([(0,u.$)("esri.symbols.PointSymbol3D")],b)},12945:function(e,t,n){"use strict";n.d(t,{xF:function(){return u},N5:function(){return d},k4:function(){return h},qk:function(){return v}});var r=n(8636);var i=n(9283);function o(e){if(e.json||(e.json={}),a(e.json),l(e.json),s(e.json),e.json.origins)for(const t in e.json.origins)a(e.json.origins[t]),l(e.json.origins[t]),s(e.json.origins[t]);return!0}function s(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function a(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function l(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}var c=n(18051);function u(e,t){return p(e,"any",t?.origin)}function d(e,t){return p(e,"read",t?.origin)}function h(e,t){return p(e,"write",t?.origin)}function p(e,t,n){let r=e?.json;if(r?.origins&&n){let e;e="link-chart"===n?r.origins[n]&&("any"===t||t in r.origins[n])?r.origins[n]:r.origins["web-map"]:r.origins[n],e&&("any"===t||t in e)&&(r=e)}return r}function f(e){const t=function(e){return e.json.types?g(e.json):e.type?y(e):g(e)}(e);if(e.json.origins)for(const n in e.json.origins){const r=e.json.origins[n],o=r.types?m(r):t;(0,i.v)(o,r,!1),r.types&&!r.write&&e.json.write?.enabled&&(r.write={...e.json.write}),(0,c.v)(o,r)}(0,i.v)(t,e.json,!0),(0,c.v)(t,e.json)}function m(e){return e.type?y(e):g(e)}function y(e){if(!e.type)return;let t=0,n=e.type;for(;Array.isArray(n)&&!(0,r.EK)(n);)n=n[0],t++;return{type:n,ndimArray:t}}function g(e){if(!e.types)return;let t=0,n=e.types;for(;Array.isArray(n);)n=n[0],t++;return{types:n,ndimArray:t}}function v(e){o(e)&&(function(e){if(e.json&&e.json.origins){const t=e.json.origins,n={"web-document":["web-scene","web-map"]};for(const e in n)if(t[e]){const r=t[e];n[e].forEach((e=>{t[e]=r})),delete t[e]}}}(e),f(e))}},13005:function(e,t,n){"use strict";n.d(t,{h:function(){return M}});var r=n(82392),i=n(81482),o=(n(6273),n(80861)),s=(n(67498),n(25376)),a=n(26325),l=n(48524),c=n(46227),u=n(103),d=n(86169),h=n(8112),p=n(63279),f=n(75906),m=n(73783),y=n(1817),g=n(97629);const v={color:u.A,size:p.A,opacity:d.A,rotation:h.A},b=new y.J({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),w=/^\[([^\]]+)\]$/i;let _=class extends m.A{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),e=e?.filter((e=>!!e)),e?.length){for(const t of e)switch(t.type){case"color":this.colorVariables.push(t);break;case"opacity":this.opacityVariables.push(t);break;case"rotation":this.rotationVariables.push(t);break;case"size":this.sizeVariables.push(t)}this.sizeVariables.length&&this.sizeVariables.some((e=>!!e.target))&&e.sort(((e,t)=>{let n=null;return n=e.target===t.target?0:e.target?1:-1,n}));for(let t=0;t<e.length;t++)e[t].index=t;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,t,n){const{rotationExpression:r,rotationType:i}=t,s=r?.match(w),a=s?.[1];if(a&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:i,field:a})),e)return e.map((e=>{const t=b.read(e.type),r=v[t];r||(o.A.getLogger(this).warn(`Unknown variable type: ${t}`),n?.messages&&n.messages.push(new g.A("visual-variable:unsupported",`visualVariable of type '${t}' is not supported`,{definition:e,context:n})));const i=new r;return i.read(e,n),i}))}writeVariables(e,t){const n=[];for(const r of e){const e=r.toJSON(t);e&&n.push(e)}return n}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,r._)([(0,i.MZ)()],_.prototype,"visualVariables",null),_=(0,r._)([(0,a.$)("esri.renderers.visualVariables.VisualVariableFactory")],_);var S=n(19478);const x={base:f.A,key:"type",typeMap:{opacity:d.A,color:u.A,rotation:h.A,size:p.A}},M=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new _}set visualVariables(e){this._vvFactory.visualVariables=e,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(e,t,n){return this._vvFactory.readVariables(e,t,n)}writeVisualVariables(e,t,n,r){t[n]=this._vvFactory.writeVariables(e,r)}get arcadeRequiredForVisualVariables(){return this.visualVariables?.some((({arcadeRequired:e})=>e))??!1}hasVisualVariables(e,t){return e?this.getVisualVariablesForType(e,t).length>0:this.getVisualVariablesForType("size",t).length>0||this.getVisualVariablesForType("color",t).length>0||this.getVisualVariablesForType("opacity",t).length>0||this.getVisualVariablesForType("rotation",t).length>0}getVisualVariablesForType(e,t){return this.visualVariables?.filter((n=>n.type===e&&("string"==typeof t?n.target===t:!1!==t||!n.target)))??[]}async collectVVRequiredFields(e,t){let n=[];this.visualVariables&&(n=n.concat(this.visualVariables));for(const r of n)r&&(r.field&&(0,c.rq)(e,t,r.field),r.normalizationField&&(0,c.rq)(e,t,r.normalizationField),r.valueExpression&&(A(r.valueExpression,e,t)||await(0,c.Dx)(e,t,r.valueExpression)))}};return(0,r._)([(0,i.MZ)({types:[x],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),(0,r._)([(0,s.w)("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),(0,r._)([(0,l.K)("visualVariables")],t.prototype,"writeVisualVariables",null),t=(0,r._)([(0,a.$)("esri.renderers.mixins.VisualVariablesMixin")],t),t};function A(e,t,n){const r=(0,S.D)(e);return null!=r&&((0,c.rq)(t,n,r),!0)}},13033:function(e,t,n){"use strict";n.d(t,{V:function(){return c}});var r=n(80861),i=n(21750),o=n(21332),s=n(50189),a=n(18632);const l=()=>r.A.getLogger("esri.intl.substitute");function c(e,t,n={}){const{format:r={}}=n;return(0,o.HC)(e,(e=>function(e,t,n){let r,o;const s=e.indexOf(":");if(-1===s?r=e.trim():(r=e.slice(0,s).trim(),o=e.slice(s+1).trim()),!r)return"";const a=(0,i.wc)(r,t);if(null==a)return"";const l=(o?n?.[o]:null)??n?.[r];return l?u(a,l):o?d(a,o):h(a)}(e,t,r)))}function u(e,t){switch(t.type){case"date":return(0,s.Yq)(e,t.intlOptions);case"number":return(0,a.ZV)(e,t.intlOptions);default:return l().warn("missing format descriptor for key {key}"),h(e)}}function d(e,t){switch(t.toLowerCase()){case"dateformat":return(0,s.Yq)(e);case"numberformat":return(0,a.ZV)(e);default:return l().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?(0,s.Yq)(e):/^numberformat/i.test(t)?(0,a.ZV)(e):h(e)}}function h(e){switch(typeof e){case"string":return e;case"number":return(0,a.ZV)(e);case"boolean":return""+e;default:return e instanceof Date?(0,s.Yq)(e):""}}},13786:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var n=(0,s.default)(t);return(0,i.default)(e,-n)};var i=r(n(25011)),o=r(n(10427)),s=r(n(9784));e.exports=t.default},13795:function(e,t,n){"use strict";n.d(t,{b3:function(){return d},jZ:function(){return u}});var r=n(46030),i=n(2532),o=n(70040),s=n(11021),a=n(56053),l=n(75981),c=n(67488);function u(e){return h(e,!0)}function d(e){return h(e,!1)}function h(e,t){if(null==e)return null;const n=e.spatialReference,i=(0,c.Vp)(n),s=(0,r.W)(e)?e.toJSON():e;if(!i)return s;const u=(0,c.K8)(n)?102100:4326,d=l.j7[u].maxX,h=l.j7[u].minX;if((0,a.fT)(s))return f(s,d,h);if((0,a.U9)(s))return s.points=s.points.map((e=>f(e,d,h))),s;if((0,a.ZC)(s))return p(s,i);if((0,a.Bi)(s)||(0,a.Rg)(s)){const e=(0,o.Rg)(w,s),n={xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3]},r=(0,l.kd)(n.xmin,h)*(2*d),i=0===r?s:(0,l.kS)(s,r);return n.xmin+=r,n.xmax+=r,n.xmax>d?v(i,d,t):n.xmin<h?v(i,h,t):i}return s}function p(e,t){if(!t)return e;const n=function(e,t){const n=[],{ymin:r,ymax:i,xmin:o,xmax:s}=e,a=e.xmax-e.xmin,[l,c]=t.valid,{x:u,frameId:d}=m(e.xmin,t),{x:h,frameId:p}=m(e.xmax,t),f=u===h&&a>0;if(a>2*c){const e={xmin:o<s?u:h,ymin:r,xmax:c,ymax:i},t={xmin:l,ymin:r,xmax:o<s?h:u,ymax:i},a={xmin:0,ymin:r,xmax:c,ymax:i},f={xmin:l,ymin:r,xmax:0,ymax:i},m=[],g=[];y(e,a)&&m.push(d),y(e,f)&&g.push(d),y(t,a)&&m.push(p),y(t,f)&&g.push(p);for(let e=d+1;e<p;e++)m.push(e),g.push(e);n.push(new b(e,[d]),new b(t,[p]),new b(a,m),new b(f,g))}else u>h||f?n.push(new b({xmin:u,ymin:r,xmax:c,ymax:i},[d]),new b({xmin:l,ymin:r,xmax:h,ymax:i},[p])):n.push(new b({xmin:u,ymin:r,xmax:h,ymax:i},[d]));return n}(e,t).map((e=>e.extent));return n.length<2?n[0]||e:n.length>2?(e.xmin=t.valid[0],e.xmax=t.valid[1],e):{rings:n.map((e=>[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]))}}function f(e,t,n){if(Array.isArray(e)){const r=e[0];if(r>t){const n=(0,l.kd)(r,t);e[0]=r+n*(-2*t)}else if(r<n){const t=(0,l.kd)(r,n);e[0]=r+t*(-2*n)}}else{const r=e.x;if(r>t){const n=(0,l.kd)(r,t);e.x+=n*(-2*t)}else if(r<n){const t=(0,l.kd)(r,n);e.x+=t*(-2*n)}}return e}function m(e,t){const[n,r]=t.valid,i=2*r;let o,s=0;return e>r?(o=Math.ceil(Math.abs(e-r)/i),e-=o*i,s=o):e<n&&(o=Math.ceil(Math.abs(e-n)/i),e+=o*i,s=-o),{x:e,frameId:s}}function y(e,t){const{xmin:n,ymin:r,xmax:i,ymax:o}=t;return g(e,n,r)&&g(e,n,o)&&g(e,i,o)&&g(e,i,r)}function g(e,t,n){return t>=e.xmin&&t<=e.xmax&&n>=e.ymin&&n<=e.ymax}function v(e,t,n=!0){const r=!(0,a.Rg)(e);if(r&&(0,s.m3)(e),n)return(new _).cut(e,t);const i=r?e.rings:e.paths,o=r?4:2,l=i.length,c=-2*t;for(let e=0;e<l;e++){const t=i[e];if(t&&t.length>=o){const e=[];for(const n of t)e.push([n[0]+c,n[1]]);i.push(e)}}return r?e.rings=i:e.paths=i,e}class b{constructor(e,t){this.extent=e,this.frameIds=t}}const w=(0,i.vt)();class _{constructor(){this._linesIn=[],this._linesOut=[]}cut(e,t){let n;if(this._xCut=t,e.rings)this._closed=!0,n=e.rings,this._minPts=4;else{if(!e.paths)return null;this._closed=!1,n=e.paths,this._minPts=2}for(const e of n){if(!e||e.length<this._minPts)continue;let t=!0;for(const n of e)t?(this.moveTo(n),t=!1):this.lineTo(n);this._closed&&this.close()}this._pushLineIn(),this._pushLineOut(),n=[];for(const e of this._linesIn)e&&e.length>=this._minPts&&n.push(e);const r=-2*this._xCut;for(const e of this._linesOut)if(e&&e.length>=this._minPts){for(const t of e)t[0]+=r;n.push(e)}return this._closed?e.rings=n:e.paths=n,e}moveTo(e){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(e[0]),this._moveTo(e[0],e[1],this._prevSide),this._prevPt=e,this._firstPt=e}lineTo(e){const t=this._side(e[0]);if(t*this._prevSide==-1){const n=this._intersect(this._prevPt,e);this._lineTo(this._xCut,n,0),this._prevSide=0,this._lineTo(e[0],e[1],t)}else this._lineTo(e[0],e[1],t);this._prevSide=t,this._prevPt=e}close(){const e=this._firstPt,t=this._prevPt;e[0]===t[0]&&e[1]===t[1]||this.lineTo(e),this._checkClosingPt(this._lineIn),this._checkClosingPt(this._lineOut)}_moveTo(e,t,n){this._closed?(this._lineIn.push([n<=0?e:this._xCut,t]),this._lineOut.push([n>=0?e:this._xCut,t])):(n<=0&&this._lineIn.push([e,t]),n>=0&&this._lineOut.push([e,t]))}_lineTo(e,t,n){this._closed?(S(this._lineIn,n<=0?e:this._xCut,t),S(this._lineOut,n>=0?e:this._xCut,t)):n<0?(0===this._prevSide&&this._pushLineOut(),this._lineIn.push([e,t])):n>0?(0===this._prevSide&&this._pushLineIn(),this._lineOut.push([e,t])):this._prevSide<0?(this._lineIn.push([e,t]),this._lineOut.push([e,t])):this._prevSide>0&&(this._lineOut.push([e,t]),this._lineIn.push([e,t]))}_checkClosingPt(e){const t=e.length;t>3&&e[0][0]===this._xCut&&e[t-2][0]===this._xCut&&e[1][0]===this._xCut&&(e[0][1]=e[t-2][1],e.pop())}_side(e){return e<this._xCut?-1:e>this._xCut?1:0}_intersect(e,t){const n=(this._xCut-e[0])/(t[0]-e[0]);return e[1]+n*(t[1]-e[1])}_pushLineIn(){this._lineIn&&this._lineIn.length>=this._minPts&&this._linesIn.push(this._lineIn),this._lineIn=[]}_pushLineOut(){this._lineOut&&this._lineOut.length>=this._minPts&&this._linesOut.push(this._lineOut),this._lineOut=[]}}function S(e,t,n){const r=e.length;r>1&&e[r-1][0]===t&&e[r-2][0]===t?e[r-1][1]=n:e.push([t,n])}},14176:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(73783),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325)),l=n(83382);let c=r=class extends o.A{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new r({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,i._)([(0,s.MZ)({type:String})],c.prototype,"name",void 0),(0,i._)([(0,s.MZ)({type:String})],c.prototype,"styleUrl",void 0),(0,i._)([(0,s.MZ)({type:String})],c.prototype,"styleName",void 0),(0,i._)([(0,s.MZ)({type:l.A})],c.prototype,"portal",void 0),c=r=(0,i._)([(0,a.$)("esri.symbols.support.StyleOrigin")],c)},14215:function(e,t,n){"use strict";n.d(t,{c:function(){return v},t:function(){return b}});var r=n(62991),i=n(94598),o=n(85498),s=n(56173),a=n(11455),l=n(12862),c=n(7998),u=n(55736),d=n(24826),h=n(68231),p=n(31864),f=n(43532),m=n(64354),y=n(4331);const g="#useCIMFallbackSymbology()",v={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function b(e,t=v){if(!e)return{symbol:null};const{retainId:n=v.retainId,ignoreDrivers:b=v.ignoreDrivers,hasLabelingContext:w=v.hasLabelingContext,retainCIM:_=v.retainCIM,cimFallbackEnabled:S=v.cimFallbackEnabled}=t;let x=null;if((0,y.wk)(e)||e instanceof f.A)x=e.clone();else if("cim"===e.type){const n=e.data?.symbol?.type;switch(n){case"CIMPointSymbol":x=_?e.clone():l.A.fromCIMSymbol(e);break;case"CIMLineSymbol":S&&(x=m.al.clone(),t?.logWarning?.(g,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":S&&(x=m.af.clone(),t?.logWarning?.(g,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!x)return{error:new r.A("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${n||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof d.A)x=o.A.fromSimpleLineSymbol(e);else if(e instanceof h.A)x=l.A.fromSimpleMarkerSymbol(e);else if(e instanceof a.A)x=l.A.fromPictureMarkerSymbol(e);else if(e instanceof u.A)x=t.geometryType&&"mesh"===t.geometryType?s.A.fromSimpleFillSymbol(e):c.A.fromSimpleFillSymbol(e);else{if(!(e instanceof p.A))return{error:new r.A("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};x=w?i.A.fromTextSymbol(e):l.A.fromTextSymbol(e)}return n&&x&&"cim"!==x.type&&(x.id=e.id),!b||"cim"===x.type||x instanceof f.A||x.symbolLayers.forEach((e=>e.ignoreDrivers=!0)),{symbol:x}}},14395:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(82392),i=n(62991),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325));let l=class extends o.A{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new i.A("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,r._)([(0,s.MZ)({type:Date})],l.prototype,"created",void 0),(0,r._)([(0,s.MZ)()],l.prototype,"id",void 0),(0,r._)([(0,s.MZ)()],l.prototype,"portal",void 0),(0,r._)([(0,s.MZ)()],l.prototype,"title",void 0),(0,r._)([(0,s.MZ)({readOnly:!0})],l.prototype,"url",null),(0,r._)([(0,s.MZ)()],l.prototype,"username",void 0),l=(0,r._)([(0,a.$)("esri.portal.PortalFolder")],l);var c,u=n(45749);let d=c=class extends o.A{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.id}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.id}`:null}addItem(e){const t=e&&e.item,n=e?.data,r=e?.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),null!=n&&("string"==typeof n?i.query.text=n:"object"==typeof n&&(i.query.text=JSON.stringify(n))));let o=this.userContentUrl;return r&&(o+="/"+("string"==typeof r?r:r.id)),this.portal.request(o+"/addItem",i).then((e=>(t.id=e.id,t.portal=this.portal,t.loaded?t.reload():t.load())))}async deleteItem(e,t=!1){let n=this.userContentUrl;e.ownerFolder&&(n+="/"+e.ownerFolder);const r=t?{permanentDelete:!0}:{};await this.portal.request(n+`/items/${e.id}/delete`,{method:"post",query:r}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const n=this.userContentUrl+"/deleteItems",r=[],o=e.map((e=>e.id));if(o.length){const s={method:"post",query:{items:o.join(","),permanentDelete:t}},a=await this.portal.request(n,s);for(const t of a.results){const n=e.find((e=>t.itemId===e.id)),o=t.success;let s=null;o?(n.id=null,n.portal=null):t.error&&(s=new i.A("portal:delete-item-failed",t.error.message,t.error)),r.push({item:n,success:o,error:s})}}return r}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then((e=>{let t;return t=e&&e.folders?e.folders.map((e=>{const t=l.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchGroups(){return this.portal.request(this.url??"").then((e=>{let t;return t=e&&e.groups?e.groups.map((e=>{const t=u.A.fromJSON(e);return t.portal=this.portal,t})):[],t}))}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:r}=await Promise.resolve().then(n.bind(n,43305)),i={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},o=await this.portal.request(t,{query:i});let s;return o?.items?(s=o.items.map((e=>{const t=r.fromJSON(e);return t.portal=this.portal,t})),await Promise.all(s.map((e=>e.load()))),{items:s,nextStart:o.nextStart,total:o.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then((e=>e.tags))}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new u.A({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new i.A("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const n=this.userContentUrl,r=t?{folderID:"string"==typeof t?t:t.id}:null;await this.portal.request(n+`/items/${e.id}/restore`,{method:"post",query:r})}toJSON(){throw new i.A("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new c({sourceJSON:e});return t.read(e),t}};(0,r._)([(0,s.MZ)()],d.prototype,"access",void 0),(0,r._)([(0,s.MZ)({type:Date})],d.prototype,"created",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"culture",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"description",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"email",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"favGroupId",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"fullName",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"id",void 0),(0,r._)([(0,s.MZ)({type:Date})],d.prototype,"modified",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"orgId",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"portal",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"preferredView",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"privileges",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"region",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"role",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"roleId",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"sourceJSON",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"thumbnail",void 0),(0,r._)([(0,s.MZ)({readOnly:!0})],d.prototype,"thumbnailUrl",null),(0,r._)([(0,s.MZ)()],d.prototype,"units",void 0),(0,r._)([(0,s.MZ)({readOnly:!0})],d.prototype,"userContentUrl",null),(0,r._)([(0,s.MZ)({readOnly:!0})],d.prototype,"url",null),(0,r._)([(0,s.MZ)()],d.prototype,"username",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"userLicenseTypeId",void 0),(0,r._)([(0,s.MZ)()],d.prototype,"userType",void 0),d=c=(0,r._)([(0,a.$)("esri.portal.PortalUser")],d)},14571:function(e,t,n){"use strict";function r(){return new Float32Array(2)}function i(e,t){const n=new Float32Array(2);return n[0]=e,n[1]=t,n}function o(){return r()}function s(){return i(1,1)}function a(){return i(1,0)}function l(){return i(0,1)}n.d(t,{Un:function(){return u},fA:function(){return i},uY:function(){return c},vt:function(){return r}});const c=o(),u=s(),d=a(),h=l();Object.freeze(Object.defineProperty({__proto__:null,ONES:u,UNIT_X:d,UNIT_Y:h,ZEROS:c,clone:function(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t},create:r,fromValues:i,ones:s,unitX:a,unitY:l,zeros:o},Symbol.toStringTag,{value:"Module"}))},14755:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(82392),i=n(73783),o=(n(6273),n(15565)),s=(n(80861),n(57725)),a=n(91101),l=n(66361),c=n(26325);const u=e=>{let t=class extends e{clone(){const e=(0,l.oY)(this);(0,s.Lw)(e,"unable to clone instance of non-accessor class");const t=e.metadata,n=e.store,r={},i=new Map;for(const e in t){const s=t[e],l=n?.originOf(e),c=s.clonable;if(s.readOnly||!1===c||l!==a.Gr.USER&&l!==a.Gr.DEFAULTS&&l!==a.Gr.WEB_MAP&&l!==a.Gr.WEB_SCENE)continue;const u=this[e];let d=null;d="function"==typeof c?c(u):"reference"===c?u:(0,o.TU)(u),null!=u&&null==d||(l===a.Gr.DEFAULTS?i.set(e,d):r[e]=d)}const c=new(0,Object.getPrototypeOf(this).constructor)(r);if(i.size){const e=(0,l.oY)(c)?.store;if(e)for(const[t,n]of i)e.set(t,n,a.Gr.DEFAULTS)}return c}};return t=(0,r._)([(0,c.$)("esri.core.Clonable")],t),t};let d=class extends(u(i.A)){};d=(0,r._)([(0,c.$)("esri.core.Clonable")],d),(d||(d={})).ClonableMixin=u;const h=d},14849:function(e,t,n){"use strict";n.d(t,{A5:function(){return f},Mh:function(){return r},wb:function(){return p}});var r,i,o=n(98592),s=n(3512);(i=r||(r={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",i.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";const a=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function l(e){return null!=e&&a.has(e.type)}function c(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)}function u(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)}function d(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)}const h=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);(0,o.KC)(a,h);function p(e,t,n){const i=n??e?.domain;if(!i)return null;switch(i.type){case"range":{const{min:n,max:o}=f(e,i);if(null!=n&&+t<n||null!=o&&+t>o)return r.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==i.codedValues||i.codedValues.every((e=>null==e||e.code!==t)))return r.INVALID_CODED_VALUE}return null}function f(e,t){const n=t??e?.domain;if(!n||"range"!==n.type)return;const r="range"in n?n.range[0]:n.minValue,i="range"in n?n.range[1]:n.maxValue,o=l(e);return c(e)||d(e)||u(e)?{...m(e,i,r),isInteger:o}:{min:null!=r&&"number"==typeof r?r:null,max:null!=i&&"number"==typeof i?i:null,rawMin:r,rawMax:i,isInteger:o}}function m(e,t,n){return c(e)?{min:(0,s.Xi)(n)?.toMillis(),max:(0,s.Xi)(t)?.toMillis(),rawMin:n,rawMax:t}:d(e)?{min:(0,s.UE)(n)?.toMillis(),max:(0,s.UE)(t)?.toMillis(),rawMin:n,rawMax:t}:u(e)?{min:(0,s.gz)(n)?.toMillis(),max:(0,s.gz)(t)?.toMillis(),rawMin:n,rawMax:t}:{max:null,min:null}}},15089:function(e,t,n){"use strict";n.d(t,{C:function(){return s},m:function(){return o}});var r=n(62991),i=n(37623);async function o(e,t,n){let o;try{o=await createImageBitmap(e)}catch(e){throw new r.A("request:server",`Unable to load ${t}`,{url:t,error:e})}return(0,i.Te)(n),o}async function s(e,t,n,o,s){let a;try{a=await createImageBitmap(e)}catch(e){throw new r.A("request:server",`Unable to load tile ${t}/${n}/${o}`,{error:e,level:t,row:n,col:o})}return(0,i.Te)(s),a}},15331:function(e,t,n){"use strict";n.d(t,{A:function(){return w}});var r=n(6480),i=n(62991),o=n(92840),s=n(70214),a=n(57725),l=n(37623),c=n(87285);const u={statsWorker:()=>Promise.all([n.e(5210),n.e(4274)]).then(n.bind(n,25210)),geometryEngineWorker:()=>Promise.all([n.e(7313),n.e(828)]).then(n.bind(n,30828)),arcadeGeometryOperatorsWorker:()=>n.e(9544).then(n.bind(n,49544)),CSVSourceWorker:()=>Promise.all([n.e(8615),n.e(3859),n.e(3461),n.e(9628)]).then(n.bind(n,89628)),EdgeProcessingWorker:()=>Promise.all([n.e(9507),n.e(3651),n.e(9257)]).then(n.bind(n,98853)),ElevationSamplerWorker:()=>n.e(4520).then(n.bind(n,62139)),FeatureServiceSnappingSourceWorker:()=>Promise.all([n.e(8615),n.e(3859),n.e(3461),n.e(3704)]).then(n.bind(n,3704)),GeoJSONSourceWorker:()=>Promise.all([n.e(8615),n.e(3859),n.e(3461),n.e(8601)]).then(n.bind(n,68601)),LercWorker:()=>n.e(7748).then(n.bind(n,57748)),MemorySourceWorker:()=>Promise.all([n.e(8615),n.e(3859),n.e(3461),n.e(1277)]).then(n.bind(n,81277)),PBFDecoderWorker:()=>n.e(2089).then(n.bind(n,72089)),FeaturePipelineWorker:()=>Promise.all([n.e(8920),n.e(9018),n.e(8615),n.e(2644),n.e(3859),n.e(2999),n.e(3461),n.e(2991),n.e(9488),n.e(4231),n.e(2816)]).then(n.bind(n,60588)),PointCloudWorker:()=>Promise.all([n.e(9644),n.e(2670)]).then(n.bind(n,40757)),RasterWorker:()=>Promise.all([n.e(7425),n.e(1928),n.e(774)]).then(n.bind(n,60774)),SceneLayerSnappingSourceWorker:()=>Promise.all([n.e(9507),n.e(3651),n.e(9677)]).then(n.bind(n,72161)),SceneLayerWorker:()=>Promise.all([n.e(9644),n.e(7632),n.e(1903),n.e(2062)]).then(n.bind(n,32062)),WFSSourceWorker:()=>Promise.all([n.e(8615),n.e(3859),n.e(3461),n.e(8264)]).then(n.bind(n,98264)),WorkerTileHandler:()=>Promise.all([n.e(9018),n.e(114),n.e(4829)]).then(n.bind(n,92657)),Lyr3DWorker:()=>n.e(5383).then(n.bind(n,55383)),Feature3DPipelineWorker:()=>Promise.all([n.e(8615),n.e(3859),n.e(3461),n.e(9507),n.e(9644),n.e(7632),n.e(356),n.e(4103),n.e(2872),n.e(8915),n.e(4094)]).then(n.bind(n,86333)),TextureCompressionWorker:()=>n.e(8337).then(n.bind(n,58337))};var d=n(2236),h=n(74872);const{CLOSE:p,ABORT:f,INVOKE:m,RESPONSE:y,OPEN_PORT:g,ON:v}=d.Go;class b{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===d.Go.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class w{static{this.kernelInfo={buildDate:h.$,fullVersion:r.ol,revision:h.u}}static{this.clients=new Map}static connect(e,t){const n=new MessageChannel;let r;r="function"==typeof e?new e:"default"in e&&"function"==typeof e.default?new e.default:e;const i=new w(n.port1,{channel:n,client:r,schedule:t});return"object"==typeof r&&"remoteClient"in r&&(r.remoteClient=i),w.clients.set(i,r),n.port2}static loadWorker(e){const t=u[e];return t?t():Promise.resolve(null)}constructor(e,t,n,r){this._port=e,this._jobQueue=n,this._lowPriorityJobQueue=r,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new b((e=>this._onInvokeMessage(e))),this._client=t.client,this._onMessage=this._onMessage.bind(this),this._channel=t.channel,this._schedule=t.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:p}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,t,n){return this.apply(e,[t],n)}apply(e,t,n){const r=n?.signal,o=n?.transferList;if(!this._port)return Promise.reject(new i.A(d.T,`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:t}));const s=(0,d.Jc)();return new Promise(((n,i)=>{if((0,l.G4)(r))return this._processWork(),void i((0,l.NK)());const c=(0,l.u7)(r,(()=>{const e=this._outJobs.get(s);e&&(this._outJobs.delete(s),this._processWork(),(0,a.xt)(e.abortHandle),this._post({type:f,jobId:s}),i((0,l.NK)()))})),u={resolve:n,reject:i,abortHandle:c,debugInfo:e};this._outJobs.set(s,u),this._post({type:m,jobId:s,methodName:e,abortable:null!=r},t,o)}))}createInvokeProxy(e){return(0,c.L)(this,e)}on(e,t){const n=new MessageChannel;function r(e){t(e.data)}return this._port.postMessage({type:d.Go.ON,eventType:e,port:n.port2},[n.port2]),n.port1.addEventListener("message",r),n.port1.start(),(0,s.hA)((()=>{n.port1.postMessage({type:d.Go.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",r)}))}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:g,port:e.port2}),e.port1}_processWork(){if(this._outJobs.size>=2)return;const e=this._jobQueue?.pop()??this._lowPriorityJobQueue?.pop();if(!e)return;const{methodName:t,data:n,invokeOptions:r,resolver:i}=e;this.apply(t,n,r).then((e=>i.resolve(e))).catch((e=>i.reject(e)))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach((e=>{(0,a.xt)(e.abortHandle),e.reject((0,l.NK)(`Worker closing, aborting job calling '${e.debugInfo}'`))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(e){null!=this._schedule?this._schedule((()=>this._processMessage(e,!0))):this._processMessage(e,!1)}_processMessage(e,t){const n=(0,d.VI)(e);if(n)switch(n.type){case y:this._onResponseMessage(n);break;case m:t?this._onInvokeMessage(n):this._invokeQueue.push(n);break;case f:this._onAbortMessage(n);break;case p:this._onCloseMessage();break;case g:this._onOpenPortMessage(n);break;case v:this._onOnMessage(n)}}_onAbortMessage(e){const t=this._inJobs,n=e.jobId,r=t.get(n);this._invokeQueue.push(e),r&&(r.controller&&r.controller.abort(),t.delete(n))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&w.clients.get(this)===e&&e.destroy(),w.clients.delete(this),e?.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:t,jobId:n,data:r=[],abortable:i}=e,o=i?new AbortController:null,s=this._inJobs;let a,c=this._client,u=c[t];try{if(!u&&t&&t.includes(".")){const e=t.split(".");for(let t=0;t<e.length-1;t++)c=c[e[t]],u=c[e[t+1]]}if("function"!=typeof u)throw new TypeError(`${t} is not a function`);r.push({client:this,signal:o?o.signal:null}),a=u.apply(c,r)}catch(e){return void this._post({type:y,jobId:n,error:(0,d.mF)(e)})}(0,l.$X)(a)?(s.set(n,{controller:o,promise:a}),a.then((e=>{s.has(n)&&(s.delete(n),this._post({type:y,jobId:n},e))}),(e=>{s.has(n)&&(s.delete(n),(0,l.zf)(e)||this._post({type:y,jobId:n,error:(0,d.mF)(e||{message:`Error encountered at method ${t}`})}))}))):this._post({type:y,jobId:n},a)}_onOpenPortMessage(e){new w(e.port,{client:this._client})}_onOnMessage(e){const{port:t}=e,n=this._client.on(e.eventType,(e=>{t.postMessage(e)})),r=(0,o.on)(e.port,"message",(e=>{const i=(0,d.VI)(e);i?.type===d.Go.CLOSE&&(r.remove(),n.remove(),t.close())}))}_onResponseMessage(e){const{jobId:t,error:n,data:r}=e,o=this._outJobs;if(!o.has(t))return;const s=o.get(t);o.delete(t),this._processWork(),(0,a.xt)(s.abortHandle),n?s.reject(i.A.fromJSON(JSON.parse(n))):s.resolve(r)}_post(e,t,n){return(0,d.u1)(this._port,e,t,n)}}},15565:function(e,t,n){"use strict";n.d(t,{Nb:function(){return l},TU:function(){return a},aI:function(){return p},gh:function(){return f},o8:function(){return s},oy:function(){return o}});var r=n(3223),i=n(62088);function o(e,t){let n;if(t)for(n in e)e.hasOwnProperty(n)&&(void 0===e[n]?delete e[n]:e[n]instanceof Object&&o(e[n],!0));else for(n in e)e.hasOwnProperty(n)&&void 0===e[n]&&delete e[n];return e}function s(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;const t=h(e);if(null!=t)return t;if(l(e))return e.clone();if(c(e))return e.map(s);if(u(e))throw new Error("Trying to clone an unclonable Accessor instance");const n={};for(const t of Object.getOwnPropertyNames(e))n[t]=s(e[t]);return n}function a(e){if(!e||"object"!=typeof e||"function"==typeof e||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=h(e);if(null!=t)return t;if(c(e)){let t=!0;const n=e.map((e=>{const n=a(e);return null!=e&&null==n&&(t=!1),n}));return t?n:null}if(l(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(u(e))return null;const n=new(0,Object.getPrototypeOf(e).constructor);for(const t of Object.getOwnPropertyNames(e)){const r=e[t],i=a(r);if(null!=r&&null==i)return null;n[t]=i}return n}function l(e){return"function"==typeof e.clone}function c(e){return"function"==typeof e.map&&"function"==typeof e.forEach}function u(e){return"function"==typeof e.notifyChange&&"function"==typeof e.watch}function d(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function h(e){if((0,i.dz)(e)||(0,i.mg)(e)||(0,i.UR)(e)||(0,i.IY)(e)||(0,i.jq)(e)||(0,i._G)(e)||(0,i.XJ)(e)||(0,i.vZ)(e)||(0,i.aI)(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[n,r]of e)t.set(n,s(r));return t}if(e instanceof Set){const t=new Set;for(const n of e)t.add(s(n));return t}return null}function p(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof e?.getTime&&"function"==typeof t?.getTime&&e.getTime()===t.getTime()||!1}function f(e,t){return e===t||(null==e||"string"==typeof e?e===t:"number"==typeof e?e===t||"number"==typeof t&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&(0,r.aI)(e,t):e instanceof Set?t instanceof Set&&function(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}(e,t):e instanceof Map?t instanceof Map&&function(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e){const e=t.get(n);if(e!==r||void 0===e&&!t.has(n))return!1}return!0}(e,t):!!d(e)&&d(t)&&function(e,t){if(null===e||null===t)return!1;const n=Object.keys(e);if(null===t||Object.keys(t).length!==n.length)return!1;for(const r of n)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}(e,t))}},15697:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(44153),l=n(56053),c=n(67488);let u=class extends i.A{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map((e=>e.toJSON())),t=this.geometries[0],n={};return n.outSR=(0,c.YX)(this.outSpatialReference),n.inSR=(0,c.YX)(t.spatialReference),n.geometries=JSON.stringify({geometryType:(0,l.$B)(t),geometries:e}),this.transformation&&(n.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(n.transformForward=this.transformForward),n}};(0,r._)([(0,o.MZ)()],u.prototype,"geometries",void 0),(0,r._)([(0,o.MZ)({type:a.A,json:{read:{source:"outSR"}}})],u.prototype,"outSpatialReference",void 0),(0,r._)([(0,o.MZ)()],u.prototype,"transformation",void 0),(0,r._)([(0,o.MZ)()],u.prototype,"transformForward",void 0),u=(0,r._)([(0,s.$)("esri.rest.support.ProjectParameters")],u)},15830:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});var r=n(36321),i=n(95254),o=n(33432);async function s(e,t,n,s){const a=(0,r.Dl)(e),{data:l}=await(0,i.gW)(a,o.A.from(t),n,s);return l.count}},15909:function(e,t,n){"use strict";n.d(t,{C:function(){return c},X:function(){return l}});var r=n(82392),i=n(58842),o=n(48),s=(n(6273),n(80861),n(81482)),a=(n(67498),n(26325));let l=class extends i.A{constructor(e){super(e),this.addHandles([this.on("before-add",(e=>{null==e.item&&e.preventDefault()})),this.on("after-add",(e=>this._own(e.item))),this.on("after-remove",(e=>this._release(e.item)))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(i.A.ofType(this.itemType.Type))(e):new i.A(e)}};function c(e,t){return{type:e,cast:o.H,set(n){const r=(0,o.V)(n,this._get(t),e);r.owner=this,this._set(t,r)}}}(0,r._)([(0,s.MZ)()],l.prototype,"owner",null),l=(0,r._)([(0,a.$)("esri.core.support.OwningCollection")],l)},16115:function(e,t,n){"use strict";n.d(t,{l:function(){return d}});var r=n(82392),i=n(58842),o=n(48),s=n(80861),a=n(81482),l=(n(6273),n(67498),n(26325));const c=new Set(["feature","subtype-group"]);function u(e,t,n){if(e)for(let r=0,i=e.length;r<i;r++){const i=e.at(r);if(i[t]===n)return i;if("group"===i?.type){const e=u(i.tables,t,n);if(e)return e}}}const d=e=>{let t=class extends e{constructor(...e){super(...e),this.tables=new i.A,this.addHandles([this.tables.on("after-add",(e=>{const t=e.item;t.parent&&t.parent!==this&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=this,c.has(t.type)||s.A.getLogger(this).error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on("after-remove",(e=>{e.item.parent=null}))])}destroy(){const e=this.tables.toArray();for(const t of e)t.destroy();this.tables.destroy()}set tables(e){this._set("tables",(0,o.V)(e,this._get("tables")))}findTableById(e){return u(this.tables,"id",e)}findTableByUid(e){return u(this.tables,"uid",e)}};return(0,r._)([(0,a.MZ)()],t.prototype,"tables",null),t=(0,r._)([(0,l.$)("esri.support.TablesMixin")],t),t}},16269:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r,i,o=n(6273),s=n(28208),a=n(39744);(i=r||(r={}))[i.varint=0]="varint",i[i.fixed64=1]="fixed64",i[i.delimited=2]="delimited",i[i.fixed32=5]="fixed32",i[i.unknown=99]="unknown";const l=4294967296,c=new TextDecoder("utf-8"),u=(0,o.A)("safari")||(0,o.A)("ios")?6:(0,o.A)("ff")?12:32;class d{constructor(e,t,n=0,i=(e?e.byteLength:0)){this._tag=0,this._dataType=r.unknown,this._init(e,t,n,i)}_init(e,t,n,r){this._data=e,this._dataView=t,this._pos=n,this._end=r}get usedMemory(){return 64+(0,s.Qf)(this._data)}asUnsafe(){return this}clone(){return new d(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(e){this._pos=e}nextTag(e){for(;;){if(this._pos===this._end)return!1;const t=this._decodeVarint();if(this._tag=t>>3,this._dataType=7&t,!e||e===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const e=this._decodeVarint();return this._tag=e>>3,this._dataType=7&e,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let e=4294967295;if(e=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128)return e;if(e=(e|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128)return e;if(e=(e|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128)return e;if(e=(e|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128)return e;if(e=(e|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128)return e;throw new Error("Varint overflow")}getUInt64(){return this._decodeVarint()}getSInt32(){const e=this.getUInt32();return e>>>1^-(1&e)}getSInt64(){return this._decodeSVarint()}getBool(){const e=0!==this._data[this._pos];return this._skip(1),e}getEnum(){return this._decodeVarint()}getFixed64(){const e=this._dataView,t=this._pos,n=e.getUint32(t,!0)+e.getUint32(t+4,!0)*l;return this._skip(8),n}getSFixed64(){const e=this._dataView,t=this._pos,n=e.getUint32(t,!0)+e.getInt32(t+4,!0)*l;return this._skip(8),n}getDouble(){const e=this._dataView.getFloat64(this._pos,!0);return this._skip(8),e}getFixed32(){const e=this._dataView.getUint32(this._pos,!0);return this._skip(4),e}getSFixed32(){const e=this._dataView.getInt32(this._pos,!0);return this._skip(4),e}getFloat(){const e=this._dataView.getFloat32(this._pos,!0);return this._skip(4),e}getString(){const e=this._getLength(),t=this._pos,n=this._toString(this._data,t,t+e);return this._skip(e),n}getBytes(){const e=this._getLength(),t=this._pos,n=this._toBytes(this._data,t,t+e);return this._skip(e),n}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(e,t,n,r){const i=this.getMessage(),o=e(i,t,n,r);return i.release(),o}processMessage(e){const t=this.getMessage(),n=e(t);return t.release(),n}getMessage(){const e=this._getLength(),t=d.pool.acquire();return t._init(this._data,this._dataView,this._pos,this._pos+e),this._skip(e),t}release(){d.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case r.varint:this._decodeVarint();break;case r.fixed64:this._skip(8);break;case r.delimited:this._skip(this._getLength());break;case r.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(e){this._skip(e)}_skip(e){if(this._pos+e>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=e}_decodeVarint(){const e=this._data;let t=this._pos,n=0,r=0;if(this._end-t>=10)do{if(r=e[t++],n|=127&r,!(128&r))break;if(r=e[t++],n|=(127&r)<<7,!(128&r))break;if(r=e[t++],n|=(127&r)<<14,!(128&r))break;if(r=e[t++],n|=(127&r)<<21,!(128&r))break;if(r=e[t++],n+=268435456*(127&r),!(128&r))break;if(r=e[t++],n+=34359738368*(127&r),!(128&r))break;if(r=e[t++],n+=4398046511104*(127&r),!(128&r))break;if(r=e[t++],n+=562949953421312*(127&r),!(128&r))break;if(r=e[t++],n+=72057594037927940*(127&r),!(128&r))break;if(r=e[t++],n+=0x8000000000000000*(127&r),!(128&r))break;throw new Error("Varint too long!")}while(0);else{let i=1;for(;t!==this._end&&(r=e[t],128&r);)++t,n+=(127&r)*i,i*=128;if(t===this._end)throw new Error("Varint overrun!");++t,n+=r*i}return this._pos=t,n}_decodeSVarint(){const e=this._data;let t,n=0,r=0;const i=1&e[this._pos];if(r=e[this._pos++],n|=127&r,!(128&r))return i?-(n+1)/2:n/2;if(r=e[this._pos++],n|=(127&r)<<7,!(128&r))return i?-(n+1)/2:n/2;if(r=e[this._pos++],n|=(127&r)<<14,!(128&r))return i?-(n+1)/2:n/2;if(r=e[this._pos++],n|=(127&r)<<21,!(128&r))return i?-(n+1)/2:n/2;if(r=e[this._pos++],n+=268435456*(127&r),!(128&r))return i?-(n+1)/2:n/2;if(r=e[this._pos++],n+=34359738368*(127&r),!(128&r))return i?-(n+1)/2:n/2;if(r=e[this._pos++],n+=4398046511104*(127&r),!(128&r))return i?-(n+1)/2:n/2;if(t=BigInt(n),r=e[this._pos++],t+=0x2000000000000n*BigInt(127&r),!(128&r))return Number(i?-(t+1n)/2n:t/2n);if(r=e[this._pos++],t+=0x100000000000000n*BigInt(127&r),!(128&r))return Number(i?-(t+1n)/2n:t/2n);if(r=e[this._pos++],t+=0x8000000000000000n*BigInt(127&r),!(128&r))return Number(i?-(t+1n)/2n:t/2n);throw new Error("Varint too long!")}_getLength(){if(this._dataType!==r.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(e,t,n){if((n=Math.min(this._end,n))-t>u){const r=e.subarray(t,n);return c.decode(r)}let r="",i="";for(let o=t;o<n;++o){const t=e[o];128&t?i+="%"+t.toString(16):(r+=decodeURIComponent(i)+String.fromCharCode(t),i="")}return i.length&&(r+=decodeURIComponent(i)),r}_toBytes(e,t,n){return n=Math.min(this._end,n),new Uint8Array(e.buffer,t,n-t)}static{this.pool=new a.A(d,void 0,(e=>{e._data=null,e._dataView=null}))}}},16506:function(e,t,n){"use strict";n.d(t,{g:function(){return s},r:function(){return a}});var r=n(25758),i=n(77023),o=n(62073);const s={key:"type",base:i.A,typeMap:{algorithmic:r.A,multipart:o.A}};function a(e){return e?.type?"algorithmic"===e.type?r.A.fromJSON(e):"multipart"===e.type?o.A.fromJSON(e):null:null}},16948:function(e,t,n){"use strict";n.d(t,{$4:function(){return U},B5:function(){return O},C$:function(){return Y},GA:function(){return te},Nv:function(){return V},PD:function(){return Q},Pt:function(){return re},S2:function(){return L},VA:function(){return W},VZ:function(){return F},Vq:function(){return z},WP:function(){return E},Xl:function(){return x},Ye:function(){return R},ZJ:function(){return ie},Zm:function(){return Z},bt:function(){return A},ct:function(){return T},d$:function(){return J},fE:function(){return q},hM:function(){return N},iX:function(){return S},jD:function(){return j},jp:function(){return D},lV:function(){return k},mm:function(){return C},pc:function(){return B},rQ:function(){return K},rn:function(){return I},sg:function(){return P},tG:function(){return ee},xd:function(){return ne}});var r=n(6480),i=n(3132),o=n(62991),s=n(1817),a=n(80189),l=n(1874),c=n(9283),u=n(46638),d=n(56498),h=n(5213),p=n(46227),f=n(65452),m=n(79645),y=n(1851),g=n(95827),v=n(40603),b=n(33432),w=n(63498),_=n(4331);const S=new s.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function x(e,t,n,r){const i=await G(e);if(await M(e,t,r),!i.addAttachment)throw new o.A(r,"Layer source does not support addAttachment capability");return i.addAttachment(t,n)}function M(e,t,n){const{attributes:r}=t,{objectIdField:i}=e;return e.capabilities?.data?.supportsAttachment?t?r?i&&r[i]?Promise.resolve():Promise.reject(new o.A(n,`feature is missing the identifying attribute ${i}`)):Promise.reject(new o.A(n,"'attributes' are required on a feature to query attachments")):Promise.reject(new o.A(n,"A feature is required to add/delete/update attachments")):Promise.reject(new o.A(n,"this layer doesn't support attachments"))}async function A(e,t,n,r,i){const s=await G(e);if(await M(e,t,i),!s.updateAttachment)throw new o.A(i,"Layer source does not support updateAttachment capability");return s.updateAttachment(t,n,r)}async function T(e,t,r){const{applyEdits:i}=await n.e(5393).then(n.bind(n,35393)),o=await e.load();let s=r;return"feature"===o.type&&o.infoFor3D&&null!=t.deleteFeatures&&null!=o.globalIdField&&(s={...s,globalIdToObjectId:await te(o,t.deleteFeatures,o.globalIdField)}),i(o,o.source,t,r)}async function I(e,t,r){const{uploadAssets:i}=await n.e(5393).then(n.bind(n,35393)),o=await e.load();return i(o,o.source,t,r)}async function C(e,t,n,r){const i=await G(e);if(await M(e,t,r),!i.deleteAttachments)throw new o.A(r,"Layer source does not support deleteAttachments capability");return i.deleteAttachments(t,n)}async function E(e,t,n){const r=(await e.load({signal:t?.signal})).source;if(!r.fetchRecomputedExtents)throw new o.A(n,"Layer source does not support fetchUpdates capability");return r.fetchRecomputedExtents(t)}async function k(e,t,n,r){t=g.A.from(t),await e.load();const i=e.source,s=e.capabilities;if(!s?.data?.supportsAttachment)throw new o.A(r,"this layer doesn't support attachments");const{attachmentTypes:a,objectIds:l,globalIds:c,num:u,size:d,start:h,where:p}=t;if(!s?.operations?.supportsQueryAttachments&&(a?.length>0||c?.length>0||d?.length>0||u||h||p))throw new o.A(r,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(l?.length||c?.length||p))throw new o.A(r,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!i.queryAttachments)throw new o.A(r,"Layer source does not support queryAttachments capability",t);return!s?.attachment?.supportsOrderByFields&&t.orderByFields?.length&&((t=t.clone()).orderByFields=null),i.queryAttachments(t)}async function P(e,t,n,r){const i=await G(e);if(!i.queryObjectIds)throw new o.A(r,"Layer source does not support queryObjectIds capability");return i.queryObjectIds(b.A.from(t)??e.createQuery(),n)}async function R(e,t,n,r){const i=await G(e);if(!i.queryFeatureCount)throw new o.A(r,"Layer source does not support queryFeatureCount capability");return i.queryFeatureCount(b.A.from(t)??e.createQuery(),n)}async function O(e,t,n,r){const i=await G(e);if(!i.queryExtent)throw new o.A(r,"Layer source does not support queryExtent capability");return i.queryExtent(b.A.from(t)??e.createQuery(),n)}async function N(e,t,n,r){const i=await G(e);if(!i.queryRelatedFeatures)throw new o.A(r,"Layer source does not support queryRelatedFeatures capability");return i.queryRelatedFeatures(w.default.from(t),n)}async function L(e,t,n,r){const i=await G(e);if(!i.queryRelatedFeaturesCount)throw new o.A(r,"Layer source does not support queryRelatedFeaturesCount capability");return i.queryRelatedFeaturesCount(w.default.from(t),n)}async function D(e){const t=e.source;if(t?.refresh)try{const{dataChanged:n,updates:r}=await t.refresh();if(null!=r&&(e.sourceJSON={...e.sourceJSON,...r},e.read(r,{origin:"service",url:e.parsedUrl})),n)return!0}catch{}if(e.definitionExpression)try{return(await(0,a.GP)(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function F(e){const t=new b.A;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,t.outFields=["*"],t.multipatchOption="multipatch"===e.geometryType?"xyFootprint":null;const n=e.capabilities?.query;n&&(t.compactGeometryEnabled=n.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=n.supportsDefaultSpatialReference);const r=e.capabilities?.data;r?.supportsZ&&null!=e.returnZ&&(t.returnZ=e.returnZ),r?.supportsM&&null!=e.returnM&&(t.returnM=e.returnM);const{timeOffset:i,timeExtent:o}=e;return t.timeExtent=null!=i&&null!=o?o.offset(-i.value,i.unit):o||null,t}function j(e){const{globalIdField:t,fields:n}=e;if(t)return t;if(n)for(const e of n)if("esriFieldTypeGlobalID"===e.type)return e.name}function Z(e){const{objectIdField:t,fields:n}=e;if(t)return t;if(n)for(const e of n)if("esriFieldTypeOID"===e.type)return e.name}function U(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function z(e,t,n,r){const i=n?.feature,o=!!e.subtypes?.length;if(o&&!n?.excludeImpliedDomains){const n=B(e,t);if(n)return n}const s=o&&V(e,i);if(s){const e=s?.domains?.[t];return"inherited"===e?.type?r:e}const a=ne(e.types,e.typeIdField,i);if(a){const e=a.domains&&a.domains[t];if(e&&"inherited"!==e?.type)return e}if(r)return r;if(!n?.excludeImpliedDomains){const n=function(e,t){const{fieldsIndex:n}=e,{name:r,type:i}=n.get(t)??{};if(!r)return null;if(("typeIdField"in e?n.get(e.typeIdField)?.name:null)===r&&"types"in e&&e.types?.length){const t=e.types.map((e=>new u.H({code:$(e.id,i),name:e.name})));return new d.A({codedValues:t})}return null}(e,t);if(n)return n}return null}function V(e,t){const{subtypes:n,subtypeField:r}=e;if(!t?.attributes||!n?.length||!r)return null;const i=t.attributes[r];return null==i?null:n.find((e=>e.code===i))}function B(e,t){const{fieldsIndex:n,subtypeField:r}=e,{name:i,type:o}=n.get(t)??{};if(!i)return null;if((r&&n.get(r)?.name)===i&&e.subtypes?.length){const t=e.subtypes.map((e=>new u.H({code:$(e.code,o),name:e.name})));if(t?.length)return new d.A({codedValues:t})}return null}function $(e,t){return t?(0,p.yM)({type:t})&&"number"==typeof e?`${e}`:(0,p.R3)({type:t})&&"string"==typeof e?Number.parseInt(e,10):e:e}async function G(e){return(await e.load()).source}async function q(e,t){if(!r.id)return;const n=r.id.findCredential(e);if(n)return n.userId;let i;try{const n=await(0,f.wI)(e,t);n&&(i=await r.id.checkSignInStatus(`${n}/sharing`))}catch(e){}return i?i.userId:null}async function H(e,t){if(!r.id)return;if(r.id.findCredential(e))return;let n;try{const i=await(0,f.wI)(e,t);i&&(n=await r.id.checkSignInStatus(`${i}/sharing`))}catch(e){}if(n)try{const n=null!=t?t.signal:null;await r.id.getCredential(e,{signal:n})}catch(e){}}async function W(e,t,n){const r=e.parsedUrl?.path;r&&e.authenticationTriggerEvent===t&&await H(r,n)}async function J(e){const t=e.parsedUrl?.path;t&&function(e){return function(e){return!(!(0,f.CF)(e)||!e.capabilities?.query.supportsCurrentUser)}(e)&&("serviceDefinitionExpression"in e&&K(e.serviceDefinitionExpression)||"definitionExpression"in e&&K(e.definitionExpression))}(e)&&await H(t)}function K(e){return!!e?.toLowerCase().includes("current_user")}function Y(e){return!re(e)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const X=(0,c.C)({types:_.xK});function Q(e,t){if(e.defaultSymbol)return e.types?.length?new y.A({defaultSymbol:X(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map((e=>({id:e.id,symbol:X(e.symbol,e,t)})))}):new m.A({symbol:X(e.defaultSymbol,e,t)})}function ee(e){let t=e.sourceJSON?.cacheMaxAge;if(!t)return!1;const n=e.editingInfo?.lastEditDate?.getTime();return null==n||(t*=1e3,Date.now()-n<t)}async function te(e,t,n){if(null==t)return null;const r=[],{objectIdField:o}=e;if(t.forEach((e=>{let t=null;if("attributes"in e){const{attributes:r}=e;t={globalId:r[n],objectId:null!=r[o]&&-1!==r[o]?r[o]:null}}else t={globalId:e.globalId,objectId:null!=e.objectId&&-1!==e.objectId?e.objectId:null};null!=t.globalId&&(null!=t.objectId&&-1!==t.objectId||r.push(t.globalId))})),0===r.length)return null;const s=e.createQuery();s.where=r.map((e=>`${n}='${e}'`)).join(" OR "),s.returnGeometry=!1,s.outFields=[o,n],s.cacheHint=!1;const a=await(0,i.DZ)((0,h.SE)(e,s));if(!a.ok)return null;const c=new Map,u=a.value.features;for(const e of u){const t=e.attributes[n],r=e.attributes[o];null!=t&&null!=r&&-1!==r&&c.set((0,l.AG)(t),r)}return c}function ne(e,t,n){if(!t||!n||!e)return null;const r=n.getAttribute(t);return null==r?null:e.find((e=>{const{id:t}=e;return null!=t&&t.toString()===r.toString()}))??null}function re(e){return e.sourceJSON?.isMultiServicesView||function(e){return!!e.sourceJSON?.capabilities?.toLowerCase().split(",").map((e=>e.trim())).includes("map")}(e)}function ie(e,t,n){const r=t?.queryAttributeBins;if(!t?.operations?.supportsQueryBins||!r)throw new o.A(n,"Layer source does not support binning");switch(e.binParameters.type){case"auto-interval":if(!r.supportsAutoInterval)throw new o.A(n,"Layer source does not support auto-interval binning");if(e.binParameters.normalizationType&&(!r.supportsNormalization||!oe(e.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new o.A(n,"Layer source does not support normalization binning");break;case"date":if(!r.supportsDate)throw new o.A(n,"Layer source does not support date binning");if(e.binParameters.snapToData&&!r.supportsSnapToData)throw new o.A(n,"Layer source does not support snapToData binning");if(e.binParameters.returnFullIntervalBin&&!r.supportsReturnFullIntervalBin)throw new o.A(n,"Layer source does not support returnFullIntervalBin binning");break;case"fixed-boundaries":if(!r.supportsFixedBoundaries)throw new o.A(n,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!r.supportsFixedInterval)throw new o.A(n,"Layer source does not support fixed-interval binning");if(e.binParameters.normalizationType&&(!r.supportsNormalization||!oe(e.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new o.A(n,"Layer source does not support normalization binning")}if(e.binParameters.stackBy&&!r.supportsStackBy)throw new o.A(n,"Layer source does not support stackBy binning");if(e.binParameters.splitBy&&!r.supportsSplitBy)throw new o.A(n,"Layer source does not support splitBy binning");if(e.binParameters.firstDayOfWeek&&!r.supportsFirstDayOfWeek)throw new o.A(n,"Layer source does not support firstDayOfWeek binning");const i=r?.supportedStatistics;if(e.outStatistics&&i){const t=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const{statisticType:r}of e.outStatistics){const e=t.get(r);if(e&&!i[e])throw new o.A(n,`Layer source does not support ${r} statistic type`)}}}function oe(e,t){return null!=e&&!!t?.[v.Q.toJSON(e)]}},16976:function(e,t,n){"use strict";n.d(t,{L7:function(){return a},M5:function(){return m},R8:function(){return b},S2:function(){return w},hf:function(){return x},hs:function(){return f},iv:function(){return v},kH:function(){return c},vL:function(){return M},vj:function(){return l}});var r=n(93814),i=n(60861),o=n(1817),s=n(46030);const a=["random","ndvi","ndvi2","ndvi3","elevation","gray","hillshade"],l=[{id:"aspect",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"black-to-white",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blue-bright",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blue-light-to-dark",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blue-green-bright",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blue-green-light-to-dark",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brown-light-to-dark",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brown-to-blue-green-diverging-right",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brown-to-blue-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficient-bias",fromColor:[214,214,255],toColor:[0,57,148]},{id:"cold-to-hot-diverging",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"condition-number",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyan-to-purple",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyan-light-to-blue-dark",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors",fromColor:[255,235,214],toColor:[196,10,10]},{id:"gray-light-to-dark",fromColor:[219,219,219],toColor:[69,69,69]},{id:"green-bright",fromColor:[204,255,204],toColor:[14,204,14]},{id:"green-light-to-dark",fromColor:[220,245,233],toColor:[34,102,51]},{id:"green-to-blue",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orange-bright",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orange-light-to-dark",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partial-spectrum",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partial-spectrum-1-diverging",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partial-spectrum-2-diverging",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pink-to-yellow-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pink-to-yellow-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purple-bright",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purple-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purple-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purple-blue-bright",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purple-blue-light-to-dark",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purple-red-bright",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purple-red-light-to-dark",fromColor:[250,215,246],toColor:[143,17,57]},{id:"red-bright",fromColor:[255,204,204],toColor:[219,0,0]},{id:"red-light-to-dark",fromColor:[255,224,224],toColor:[143,10,10]},{id:"red-to-blue-diverging-bright",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"red-to-blue-diverging-dark",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"red-to-green",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"red-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"red-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrum-full-bright",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrum-full-dark",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrum-full-light",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"white-to-black",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellow-to-dark-red",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellow-to-green-to-dark-blue",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellow-to-red",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellow-green-bright",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellow-green-light-to-dark",fromColor:[215,240,175],toColor:[96,107,45]}],c=new o.J({Aspect:"aspect","Black to White":"black-to-white","Blue Bright":"blue-bright","Blue Light to Dark":"blue-light-to-dark","Blue-Green Bright":"blue-green-bright","Blue-Green Light to Dark":"blue-green-light-to-dark","Brown Light to Dark":"brown-light-to-dark","Brown to Blue Green Diverging, Bright":"brown-to-blue-green-diverging-right","Brown to Blue Green Diverging, Dark":"brown-to-blue-green-diverging-dark","Coefficient Bias":"coefficient-bias","Cold to Hot Diverging":"cold-to-hot-diverging","Condition Number":"condition-number","Cyan to Purple":"cyan-to-purple","Cyan-Light to Blue-Dark":"cyan-light-to-blue-dark",Distance:"distance","Elevation #1":"elevation1","Elevation #2":"elevation2",Errors:"errors","Gray Light to Dark":"gray-light-to-dark","Green Bright":"green-bright","Green Light to Dark":"green-light-to-dark","Green to Blue":"green-to-blue","Orange Bright":"orange-bright","Orange Light to Dark":"orange-light-to-dark","Partial Spectrum":"partial-spectrum","Partial Spectrum 1 Diverging":"partial-spectrum-1-diverging","Partial Spectrum 2 Diverging":"partial-spectrum-2-diverging","Pink to YellowGreen Diverging, Bright":"pink-to-yellow-green-diverging-bright","Pink to YellowGreen Diverging, Dark":"pink-to-yellow-green-diverging-dark",Precipitation:"precipitation",Prediction:"prediction","Purple Bright":"purple-bright","Purple to Green Diverging, Bright":"purple-to-green-diverging-bright","Purple to Green Diverging, Dark":"purple-to-green-diverging-dark","Purple-Blue Bright":"purple-blue-bright","Purple-Blue Light to Dark":"purple-blue-light-to-dark","Purple-Red Bright":"purple-red-bright","Purple-Red Light to Dark":"purple-red-light-to-dark","Red Bright":"red-bright","Red Light to Dark":"red-light-to-dark","Red to Blue Diverging, Bright":"red-to-blue-diverging-bright","Red to Blue Diverging, Dark":"red-to-blue-diverging-dark","Red to Green":"red-to-green","Red to Green Diverging, Bright":"red-to-green-diverging-bright","Red to Green Diverging, Dark":"red-to-green-diverging-dark",Slope:"slope","Spectrum-Full Bright":"spectrum-full-bright","Spectrum-Full Dark":"spectrum-full-dark","Spectrum-Full Light":"spectrum-full-light",Surface:"surface",Temperature:"temperature","White to Black":"white-to-black","Yellow to Dark Red":"yellow-to-dark-red","Yellow to Green to Dark Blue":"yellow-to-green-to-dark-blue","Yellow to Red":"yellow-to-red","Yellow-Green Bright":"yellow-green-bright","Yellow-Green Light to Dark":"yellow-green-light-to-dark"});function u(e,t){if(!e||!t||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]>t[n]+2||e[n]<t[n]-2)return!1;return!0}function d(e){const t=e.clone();return t.fromColor=e.toColor,t.toColor=e.fromColor,t.algorithm=e.algorithm,t}function h(e,t){if(!e)return;const n=t??l;let i=null;return"algorithmic"===e.type?n.some((t=>{if(u(e.fromColor.toRgb(),t.fromColor)&&u(e.toColor.toRgb(),t.toColor))return i=t.id,!0})):"multipart"===e.type&&n.some((t=>{const n=e.colorRamps,o=t.colorRamps;if(n&&o&&n.length===o.length&&!o.some(((e,t)=>{if(!u(n[t].fromColor.toRgb(),new r.A(e.fromColor).toRgb())||!u(n[t].toColor.toRgb(),new r.A(e.toColor).toRgb()))return!0}))){if(i)return!0;i=t.id}})),i}function p(e,t,n=!1){if(!e)return;let r=!1,i=h(e,t);return null!=i||n||(r=!0,i=h(e=function(e){if("multipart"===e.type){const t=e.clone();return t.colorRamps?.length?(t.colorRamps=t.colorRamps.reverse().map((e=>d(e))),t):t}return d(e)}(e),t)),i?{id:i,inverted:r}:void 0}function f(e,t=!1){const n="string"==typeof e?e:p(e,void 0,t)?.id;return n?c.toJSON(n):null}function m(e,t="esriCIELabAlgorithm"){const n=l.find((({id:t})=>t===e));return n?n.colorRamps?{type:"multipart",colorRamps:n.colorRamps.map((e=>({type:"algorithmic",algorithm:t,fromColor:[...e.fromColor],toColor:[...e.toColor]})))}:{type:"algorithmic",algorithm:t,fromColor:[...n.fromColor],toColor:[...n.toColor]}:null}function y(e){const t=(e=e||{}).numColors||256,n=e.distanceOffset||0,r=null!=e.isCustomInterval?e.isCustomInterval:null!==e.distanceInterval&&e.distanceInterval!==1/(t-1),i=e.distanceInterval||1/(t-1);return{...e,numColors:t,distanceOffset:n,interpolateAlpha:!!e.interpolateAlpha,distanceInterval:i,isCustomInterval:r,weights:e.weights}}function g(e,t){let{fromColor:n,toColor:r}=e;n=[...n],r=[...r],3===n.length&&(n=n.concat([255])),3===r.length&&(r=r.concat([255]));const o=e.algorithm||"esriCIELabAlgorithm",s=y(t),{numColors:a,distanceOffset:l,isCustomInterval:c,interpolateAlpha:u}=s;if(1===a&&0===l)return[n];if(2===a&&0===l&&!c)return[n,r];const d={r:n[0],g:n[1],b:n[2]},h={r:r[0],g:r[1],b:r[2]},p="esriCIELabAlgorithm"===o?function(e,t,n){const{numColors:r,distanceOffset:i,distanceInterval:o,isCustomInterval:s}=n;let{l:a,a:l,b:c}=e;const u=(t.l-a)*o,d=(t.a-l)*o,h=(t.b-c)*o,p=[];if(i){const e=i/o;a+=e*u,l+=e*d,c+=e*h}for(let e=0;e<r-1;e++)p.push({l:a,a:l,b:c}),a+=u,l+=d,c+=h;return p.push(s?{l:a,a:l,b:c}:t),p}((0,i.ZD)(d),(0,i.ZD)(h),s):"esriHSVAlgorithm"===o?function(e,t,n){const{numColors:r,distanceOffset:i,distanceInterval:o,isCustomInterval:s}=n,a=0===e.s,l=0===t.s;let c=e.h,u=t.h;a&&!l?c=u:l&&!a&&(t={...t,h:c},u=c);let d,h=Math.abs(u-c);const p=360;h<180?d=(u-c)*o:(h=p-h,d=c>u?h*o:-h*o);const f=(t.s-e.s)*o,m=(t.v-e.v)*o;let{s:y,v:g}=e,v=c;if(i){const e=i/o;v=(v+e*d+p)%p,y+=e*f,g+=e*m}const b=[];for(let e=0;e<r-1;e++)b.push({h:v,s:y,v:g}),v=(v+d+p)%p,y+=f,g+=m;return b.push(s?{h:v,s:y,v:g}:t),b}((0,i.N2)(d),(0,i.N2)(h),s):function(e,t,n){const{numColors:r,distanceOffset:i,distanceInterval:o,isCustomInterval:s}=n,a=e.h,l=t.h,c=2*Math.PI;let u;if(a<=l){const e=l-a,t=l-a-c;u=Math.abs(t)<Math.abs(e)?t:e}else{const e=l+c-a,t=l-a;u=Math.abs(t)<Math.abs(e)?t:e}const d=u*o,h=(t.l-e.l)*o,p=(t.c-e.c)*o;let{l:f,c:m,h:y}=e;if(i){const e=i/o;f+=e*h,m+=e*p,y=(y+e*d+c)%c}const g=[];for(let e=0;e<r-1;e++)g.push({l:f,c:m,h:y}),f+=h,m+=p,y=(y+d+c)%c;return g.push(s?{l:f,c:m,h:y}:t),g}((0,i.RH)(d),(0,i.RH)(h),s),f=[],m=n[3]??255,g=((r[3]??255)-m)/(a-1);for(let e=0;e<a;e++){const{r:t,g:n,b:r}=(0,i.$)(p[e]),o=u?Math.round(m+g*e):255;f.push([t,n,r,o])}return f}function v(e,t){const n=(0,s.W)(e)?e.toJSON():e;return"multipart"===n.type?function(e,t){const{numColors:n,interpolateAlpha:r}=y(t);let i=t?.weights;const{colorRamps:o}=e;if(i){const e=i.reduce(((e,t)=>e+t));i=i.map((t=>t/e))}else{i=[];for(let e=0;e<o.length;e++)i[e]=1/o.length}const s=[],a=1/(n-1);let l=0,c=!1;for(let e=0;e<o.length;e++){const t=s.length,u=c?0:t*a-l;l+=i[e];let d=e===o.length-1?n-1-t:(i[e]-u)/a;if(c=Math.ceil(d)===d,d=Math.ceil(d),0===d)continue;const h=g(o[e],{numColors:d,interpolateAlpha:r,distanceOffset:u/i[e],distanceInterval:a/i[e]});s.push(...h)}const u=[...o[o.length-1].toColor];return 3===u.length&&u.push(255),s.push(u),s}(n,t):g(n,t)}function b(e,t){const n=v(e,t),r=t?.interpolateAlpha;return n.forEach(((e,t)=>{e.unshift(t),r||e.pop()})),n}function w(e){const t=[];for(let n=0;n<e.length;n+=4){const r=(0,i.N2)({r:e[n],g:e[n+1],b:e[n+2]});t.push([r.h/60,r.s/100,255*r.v/100])}return t}function _(e){const t=(0,i.N2)(e);return{type:"HsvColor",Hue:t.h,Saturation:t.s,Value:t.v,AlphaValue:255}}function S(e){const t=e.toJSON();return{Algorithm:t?.Algorithm||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:_(e.fromColor),ToColor:_(e.toColor)}}function x(e){const t=f(e);if(!t)return null;if("algorithmic"===e.type)return{...S(e),Name:t};if(e.colorRamps){const n=e.colorRamps.map(S);return{type:"MultiPartColorRamp",NumColorRamps:n.length,ArrayOfColorRamp:n,Name:t}}return null}function M(e){const t=e.reverse().map((e=>{const t=e.toString(16);return t.length<2?"0"+t:t}));return 4294967295&Number.parseInt(t.join(""),16)}},17142:function(e,t,n){"use strict";n.d(t,{F:function(){return l}});var r=n(50398),i=n(2532),o=n(36767),s=n(67601),a=n(39156);class l{constructor(e,t){this.key=new a.A(0,0,0,0),this.bounds=(0,i.vt)(),this.objectIds=new Set,this.key.set(t);const n=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.level=n.level,this.scale=n.scale,this.minScale=e.zoomToScale(n.level-1),this.maxScale=e.zoomToScale(n.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return(0,i.w1)(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(e){return(0,s.N)(this.scale,e)}createChildTiles(){const e=this.key.getChildKeys(),t=r.A.acquire();for(let n=0;n<e.length;n++)t[n]=new l(this.tileInfoView,e[n]);return t}getQuantizationParameters(){return o.A.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}},17308:function(e,t,n){"use strict";n.d(t,{L:function(){return R}});var r,i=n(82392),o=n(1817),s=n(84977),a=n(81482),l=n(77380),c=n(85716),u=n(25376),d=n(26325),h=n(8636),p=n(9283),f=n(45352),m=n(90440),y=(n(6273),n(80861),n(67498),n(44153)),g=n(54483);let v=r=class extends s.A{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:n,spatialReference:i,geometryType:o}=this,s={workspaceId:e,query:t,oidFields:n,spatialReference:i?.clone()??void 0,geometryType:o};return new r(s)}};var b;(0,i._)([(0,c.e)({queryTable:"query-table"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],v.prototype,"type",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],v.prototype,"workspaceId",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],v.prototype,"query",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],v.prototype,"oidFields",void 0),(0,i._)([(0,a.MZ)({type:y.A,json:{write:!0}})],v.prototype,"spatialReference",void 0),(0,i._)([(0,c.e)(g.gy)],v.prototype,"geometryType",void 0),v=r=(0,i._)([(0,d.$)("esri.layers.support.source.QueryTableDataSource")],v);let w=b=class extends s.A{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new b({workspaceId:e,dataSourceName:t})}};var _;(0,i._)([(0,c.e)({raster:"raster"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],w.prototype,"type",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],w.prototype,"dataSourceName",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],w.prototype,"workspaceId",void 0),w=b=(0,i._)([(0,d.$)("esri.layers.support.source.RasterDataSource")],w);let S=_=class extends s.A{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:n}=this;return new _({workspaceId:e,gdbVersion:t,dataSourceName:n})}};var x,M;(0,i._)([(0,c.e)({table:"table"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],S.prototype,"type",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],S.prototype,"workspaceId",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],S.prototype,"gdbVersion",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],S.prototype,"dataSourceName",void 0),S=_=(0,i._)([(0,d.$)("esri.layers.support.source.TableDataSource")],S);const A=(0,o.O)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let T=x=class extends s.A{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,n){return C()(e,t,n)}castLeftTableSource(e){return(0,h.aq)(k(),e)}readRightTableSource(e,t,n){return C()(e,t,n)}castRightTableSource(e){return(0,h.aq)(k(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:n,rightTableSource:r,joinType:i}=this,o={leftTableKey:e,rightTableKey:t,leftTableSource:n?.clone()??void 0,rightTableSource:r?.clone()??void 0,joinType:i};return new x(o)}};(0,i._)([(0,c.e)({joinTable:"join-table"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],T.prototype,"type",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],T.prototype,"leftTableKey",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],T.prototype,"rightTableKey",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],T.prototype,"leftTableSource",void 0),(0,i._)([(0,u.w)("leftTableSource")],T.prototype,"readLeftTableSource",null),(0,i._)([(0,l.w)("leftTableSource")],T.prototype,"castLeftTableSource",null),(0,i._)([(0,a.MZ)({json:{write:!0}})],T.prototype,"rightTableSource",void 0),(0,i._)([(0,u.w)("rightTableSource")],T.prototype,"readRightTableSource",null),(0,i._)([(0,l.w)("rightTableSource")],T.prototype,"castRightTableSource",null),(0,i._)([(0,c.e)(A)],T.prototype,"joinType",void 0),T=x=(0,i._)([(0,d.$)("esri.layers.support.source.JoinTableDataSource")],T);let I=null;function C(){return I||(I=(0,p.C)({types:k()})),I}let E=null;function k(){return E||(E={key:"type",base:null,typeMap:{"data-layer":R,"map-layer":m.f}}),E}const P={key:"type",base:null,typeMap:{"join-table":T,"query-table":v,raster:w,table:S}};let R=class extends s.A{static{M=this}constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new M({fields:e,dataSource:t})}};(0,i._)([(0,c.e)({dataLayer:"data-layer"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],R.prototype,"type",void 0),(0,i._)([(0,a.MZ)({type:[f.A],json:{write:!0}})],R.prototype,"fields",void 0),(0,i._)([(0,a.MZ)({types:P,json:{write:!0}})],R.prototype,"dataSource",void 0),R=M=(0,i._)([(0,d.$)("esri.layers.support.source.DataLayerSource")],R),R.from=(0,h.dp)(R)},17420:function(e,t,n){"use strict";n.d(t,{GB:function(){return i},Xb:function(){return r},zI:function(){return o}});n(6273);function r(e){}function i(e){return()=>e}function o(e){return e}},17578:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMobileDevice=t.generateUID=void 0;t.generateUID=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));t.isMobileDevice=()=>{let e=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(navigator.userAgent.substr(0,4)))&&(e=!0),e}},18028:function(e,t,n){"use strict";n.d(t,{a:function(){return o},o:function(){return s}});var r=n(58842),i=n(4728);function o(e){if(!e.highlights)return null;const t=e.highlights.findIndex((e=>"default"===e.name));return-1===t?null:e.highlights.items[t]}function s(e,t){if(!e.highlights){if(!t)return;e.highlights=new r.A([new i.A])}const n=e.highlights.findIndex((e=>"default"===e.name));t?e.highlights.items[n].assignFrom(t):(e.highlights.removeAt(n),0===e.highlights.length&&(e.highlights=null))}},18031:function(e,t,n){"use strict";n.d(t,{P:function(){return p}});var r=n(62991),i=n(89809),o=n(47980),s=n(19759),a=n(1874),l=n(88135),c=n(91101),u=n(81482),d=n(80925),h=n(55714);function p(e){const t=e?.origins??[void 0];return(n,r)=>{const i=function(e,t,n){if("resource"===e?.type)return function(e,t,n){const r=(0,l.z4)(t,n);return{type:String,read:(e,t,n)=>{const i=(0,h.r)(e,t,n);return r.type===String?i:"function"==typeof r.type?new r.type({url:i}):void 0},write:{isRequired:r.json?.write?.isRequired,writer(t,i,a,l){if(!l?.resources)return"string"==typeof t?void(i[a]=(0,h.t)(t,l)):void(i[a]=t.write({},l));const u=function(e){return null==e?null:"string"==typeof e?e:e.url}(t),p=(0,h.t)(u,{...l,verifyItemRelativeUrls:l?.verifyItemRelativeUrls?{writtenUrls:l.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},h.M.NO),g=r.type!==String&&(!(0,o.H)(this)||l?.origin&&this.originIdOf(n)>(0,c.aB)(l.origin)),v={object:this,propertyName:n,value:t,targetUrl:p,dest:i,targetPropertyName:a,context:l,params:e};l?.portalItem&&p&&!(0,s.oP)(p)?g&&e?.contentAddressed?f(v):g?function(e){const{context:t,targetUrl:n,params:r,value:i,dest:o,targetPropertyName:a}=e;if(!t.portalItem)return;const l=t.portalItem.resourceFromPath(n),c=y(i,n,t),u=(0,d.n)(c),h=(0,s.Zo)(l.path),p=r?.compress??!1;u===h?(t.resources&&m({...e,resource:l,content:c,compress:p,updates:t.resources.toUpdate}),o[a]=n):f(e)}(v):function({context:e,targetUrl:t,dest:n,targetPropertyName:r}){e.portalItem&&e.resources&&(e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(t),compress:!1}),n[r]=t)}(v):l?.portalItem&&(null==p||null!=(0,h.i)(p)||(0,s.w8)(p)||g)?f(v):i[a]=p}}}}(e,t,n);switch(e?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:e,write:t}=h.b;return{read:e,write:t}}}}(e,n,r);for(const e of t){const t=(0,u.rM)(n,e,r);for(const e in i)t[e]=i[e]}}}function f(e){const{targetUrl:t,params:n,value:o,context:l,dest:c,targetPropertyName:u}=e;if(!l.portalItem)return;const p=(0,h.p)(t),f=y(o,t,l);if(n?.contentAddressed&&"json"!==f.type)return void l.messages?.push(new r.A("persistable:contentAddressingUnsupported",`Property "${u}" is trying to serializing a resource with content of type ${f.type} with content addressing. Content addressing is only supported for json resources.`,{content:f}));const g=n?.contentAddressed&&"json"===f.type?(0,i.d)(f.jsonString):p?.filename??(0,a.lk)(),v=(0,s.fj)(n?.prefix??p?.prefix,g),b=`${v}.${(0,d.n)(f)}`;if(n?.contentAddressed&&l.resources&&"json"===f.type){const e=l.resources.toKeep.find((({resource:e})=>e.path===b))??l.resources.toAdd.find((({resource:e})=>e.path===b));if(e)return void(c[u]=e.resource.itemRelativeUrl)}const w=l.portalItem.resourceFromPath(b);(0,s.w8)(t)&&l.resources&&l.resources.pendingOperations.push((0,s.tk)(t).then((e=>{w.path=`${v}.${(0,d.n)({type:"blob",blob:e})}`,c[u]=w.itemRelativeUrl})).catch((()=>{})));const _=n?.compress??!1;l.resources&&m({...e,resource:w,content:f,compress:_,updates:l.resources.toAdd}),c[u]=w.itemRelativeUrl}function m({object:e,propertyName:t,updates:n,resource:r,content:i,compress:o}){n.push({resource:r,content:i,compress:o,finish:n=>{!function(e,t,n){"string"==typeof e[t]?e[t]=n.url:e[t].url=n.url}(e,t,n)}})}function y(e,t,n){return"string"==typeof e?{type:"url",url:t}:{type:"json",jsonString:JSON.stringify(e.toJSON(n))}}},18039:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=n(68716);function i(e){switch(e){case r.pe.BYTE:case r.pe.UNSIGNED_BYTE:return 1;case r.pe.SHORT:case r.pe.UNSIGNED_SHORT:case r.pe.HALF_FLOAT:return 2;case r.pe.FLOAT:case r.pe.INT:case r.pe.UNSIGNED_INT:return 4}}},18051:function(e,t,n){"use strict";n.d(t,{B:function(){return d},v:function(){return a}});var r=n(62991),i=n(80861),o=n(21750),s=n(56360);function a(e,t){if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return;const n=e?.ndimArray??0;e&&(1===n||"type"in e&&(0,s.P)(e.type))?t.write.writer=h:n>1?t.write.writer=function(e){return(t,n,r,i)=>{let s;if(null===t)s=null;else{s=p(t,i,e);let n=e,r=s;for(;n>0&&Array.isArray(r);)n--,r=r[0];if(void 0!==r)for(let e=0;e<n;e++)s=[s]}(0,o.sM)(r,s,n)}}(n):t.types?Array.isArray(t.types)?t.write.writer=function(e){return(t,n,r,i)=>t&&Array.isArray(t)?c(t.filter((t=>l(t,e,i))),n,r,i):c(t,n,r,i)}(t.types[0]):t.write.writer=function(e){return(t,n,r,i)=>t?l(t,e,i)?c(t,n,r,i):void 0:c(t,n,r,i)}(t.types):t.write.writer=c}function l(e,t,n){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(n?.messages){const o=t.errorContext??"type",s=`Values of type '${("function"!=typeof t.key?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;n&&n.messages&&e&&n.messages.push(new r.A(`${o}:unsupported`,s,{definition:e,context:n})),i.A.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function c(e,t,n,r){(0,o.sM)(n,u(e,r),t)}function u(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?d(e):e}function d(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function h(e,t,n,r){let i;null===e?i=null:e&&"function"==typeof e.map?(i=e.map((e=>u(e,r))),"function"==typeof i.toArray&&(i=i.toArray())):i=[u(e,r)],(0,o.sM)(n,i,t)}function p(e,t,n){return 0!==n&&Array.isArray(e)?e.map((e=>p(e,t,n-1))):u(e,t)}},18394:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var r=n(36752),i=n(7804),o=n(18504);const s=(0,i.u$)(class extends i.WL{constructor(){super(...arguments),this.key=r.s6}render(e,t){return this.key=e,t}update(e,[t,n]){return t!==this.key&&((0,o.mY)(e),this.key=t),n}})},18504:function(e,t,n){"use strict";n.d(t,{Dx:function(){return a},KO:function(){return h},Rt:function(){return o},cN:function(){return d},lx:function(){return l},mY:function(){return u}});var r=n(36752);const{I:i}=r.ge,o=e=>void 0===e.strings,s=()=>document.createComment(""),a=(e,t,n)=>{const r=e._$AA.parentNode,o=void 0===t?e._$AB:t._$AA;if(void 0===n){const t=r.insertBefore(s(),o),a=r.insertBefore(s(),o);n=new i(t,a,e,e.options)}else{const t=n._$AB.nextSibling,i=n._$AM,s=i!==e;if(s){let t;n._$AQ?.(e),n._$AM=e,void 0!==n._$AP&&(t=e._$AU)!==i._$AU&&n._$AP(t)}if(t!==o||s){let e=n._$AA;for(;e!==t;){const t=e.nextSibling;r.insertBefore(e,o),e=t}}}return n},l=(e,t,n=e)=>(e._$AI(t,n),e),c={},u=(e,t=c)=>e._$AH=t,d=e=>e._$AH,h=e=>{e._$AP?.(!1,!0);let t=e._$AA;const n=e._$AB.nextSibling;for(;t!==n;){const e=t.nextSibling;t.remove(),t=e}}},18598:function(e,t,n){"use strict";n.d(t,{Q:function(){return h}});var r=n(82392),i=n(58842),o=n(48),s=n(80861),a=n(37623),l=n(81482),c=(n(6273),n(67498),n(26325)),u=n(45449);function d(e,t,n){let r,i;if(e)for(let o=0,s=e.length;o<s;o++){if(r=e.at(o),r?.[t]===n)return r;if("group"===r?.type&&(i=d(r.layers,t,n),i))return i}}const h=e=>{let t=class extends e{constructor(...e){super(...e),this.layers=new i.A;const t=e=>{e.parent=this,this.layerAdded(e),"elevation"!==e.type&&"base-elevation"!==e.type||s.A.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},n=e=>{e.parent=null,this.layerRemoved(e)};this.addHandles([this.layers.on("before-add",(e=>{if(e.item===this)return e.preventDefault(),void s.A.getLogger(this).error("#add()","Cannot add layer to itself.");(e=>{e.parent&&"remove"in e.parent&&e.parent.remove(e)})(e.item)})),this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>n(e.item)))])}destroy(){const e=this.layers.toArray();for(const t of e)t.destroy();this.layers.destroy()}set layers(e){this._set("layers",(0,o.V)(e,this._get("layers")))}add(e,t){const n=this.layers;if(t=n.getNextIndex(t),e instanceof u.A){const r=e;r.parent===this?this.reorder(r,t):n.add(r,t)}else(0,a.$X)(e)?e.then((e=>{this.destroyed||this.add(e,t)})):s.A.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(e,t){const n=this.layers;let r=n.getNextIndex(t);e.slice().forEach((e=>{e.parent!==this?(n.add(e,r),r+=1):this.reorder(e,r)}))}findLayerById(e){return d(this.layers,"id",e)}findLayerByUid(e){return d(this.layers,"uid",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,t){return this.layers.reorder(e,t)}layerAdded(e){}layerRemoved(e){}};return(0,r._)([(0,l.MZ)()],t.prototype,"layers",null),t=(0,r._)([(0,c.$)("esri.support.LayersMixin")],t),t}},18632:function(e,t,n){"use strict";n.d(t,{$J:function(){return u},ZV:function(){return c},yx:function(){return l}});var r=n(4631);const i={ar:"ar-u-nu-latn",bs:"sr-Latn-CS",nn:"no-NN"};let o=new WeakMap,s={};function a(e){const t=e||s;if(!o.has(t)){const n=(0,r.JK)(),s=(0,r.ZS)(n)?.language,a=s&&i[s]||n;o.set(t,new Intl.NumberFormat(a,e))}return o.get(t)}function l(e={}){const t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function c(e,t){return Object.is(e,-0)&&(e=0),a(t).format(e)}function u(e,t=(0,r.JK)()){if(!e)return null;let n=d.get(t);if(!n){const e=a().formatToParts(12345.6),r=[...a({useGrouping:!1}).format(9876543210)].reverse(),i=new Map(r.map(((e,t)=>[e,t]))),o=new RegExp(`[${e.find((e=>"group"===e.type))?.value}]`,"g"),s=new RegExp(`[${e.find((e=>"decimal"===e.type))?.value}]`),l=new RegExp(`[${r.join("")}]`,"g"),c=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,u=/[-\u2212\u2013\u2014\u2015]/g;n=e=>{if(""===(e=e.trim().replaceAll(o,"").replace(s,".").replace(l,(e=>String(i.get(e)))).replaceAll(c,"").replaceAll(u,"-")))return null;const t=Number(e);return isNaN(t)?null:t},d.set(t,n)}return n(e)}(0,r.Ml)((()=>{o=new WeakMap,s={}}));const d=new Map},18883:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});const r=()=>[2,1,1,1,3].map((e=>{let t="";for(let n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t})).join("-")},19059:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}},e.exports=t.default},19228:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325));let a=class extends i.A{constructor(e){super(e)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};(0,r._)([(0,o.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],a.prototype,"type",void 0),a=(0,r._)([(0,s.$)("esri.symbols.patterns.LinePattern3D")],a)},19262:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(19913),i=n(88133);function o(e,t,n,r,o,a){return s[0]=e,s[1]=t,s[2]=n,(0,i.projectBuffer)(s,r,0,o,a,0)}const s=(0,r.vt)()},19387:function(e,t,n){"use strict";n.d(t,{A3:function(){return y},Ql:function(){return v},fA:function(){return p},xB:function(){return o},xK:function(){return b}});var r=n(10805);function i(e,t){return(0,r.qz)(e,t)}function o(e,t){const n=e.hasZ&&t.hasZ;let r,i,o;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(n&&t.hasZ)if(e.zmin<=t.zmin){if(o=t.zmin,e.zmax<o)return!1}else if(o=e.zmin,t.zmax<o)return!1;return!0}function s(e,t){const{points:n,hasZ:i}=t,o=i?r.F8:r.CW;for(const t of n)if(o(e,t))return!0;return!1}const a=[0,0],l=[0,0],c=[0,0],u=[0,0],d=[a,l,c,u],h=[[c,a],[a,l],[l,u],[u,c]];function p(e,t){return function(e,t){a[0]=e.xmin,a[1]=e.ymax,l[0]=e.xmax,l[1]=e.ymax,c[0]=e.xmin,c[1]=e.ymin,u[0]=e.xmax,u[1]=e.ymin;for(const e of d)if((0,r.t1)(t,e))return!0;for(const n of t){if(!n.length)continue;let t=n[0];if((0,r.CW)(e,t))return!0;for(let i=1;i<n.length;i++){const o=n[i];if((0,r.CW)(e,o)||g(t,o,h))return!0;t=o}}return!1}(e,t.rings)}function f(e,t){a[0]=e.xmin,a[1]=e.ymax,l[0]=e.xmax,l[1]=e.ymax,c[0]=e.xmin,c[1]=e.ymin,u[0]=e.xmax,u[1]=e.ymin;const n=t.paths;for(const t of n){if(!n.length)continue;let i=t[0];if((0,r.CW)(e,i))return!0;for(let n=1;n<t.length;n++){const o=t[n];if((0,r.CW)(e,o)||g(i,o,h))return!0;i=o}}return!1}const m=[0,0];function y(e){for(let t=0;t<e.length;t++){const n=e[t];for(let r=0;r<n.length-1;r++){const i=n[r],o=n[r+1];for(let n=t+1;n<e.length;n++)for(let t=0;t<e[n].length-1;t++){const r=e[n][t],s=e[n][t+1];if(v(i,o,r,s,m)&&!(m[0]===i[0]&&m[1]===i[1]||m[0]===r[0]&&m[1]===r[1]||m[0]===o[0]&&m[1]===o[1]||m[0]===s[0]&&m[1]===s[1]))return!0}}const r=n.length;if(!(r<=4))for(let e=0;e<r-3;e++){let t=r-1;0===e&&(t=r-2);const i=n[e],o=n[e+1];for(let r=e+2;r<t;r++){const e=n[r],t=n[r+1];if(v(i,o,e,t,m)&&!(m[0]===i[0]&&m[1]===i[1]||m[0]===e[0]&&m[1]===e[1]||m[0]===o[0]&&m[1]===o[1]||m[0]===t[0]&&m[1]===t[1]))return!0}}}return!1}function g(e,t,n){for(let r=0;r<n.length;r++)if(v(e,t,n[r][0],n[r][1]))return!0;return!1}function v(e,t,n,r,i){const[o,s]=e,[a,l]=t,[c,u]=n,[d,h]=r,p=d-c,f=o-c,m=a-o,y=h-u,g=s-u,v=l-s,b=y*m-p*v;if(0===b)return!1;const w=(p*g-y*f)/b,_=(m*g-v*f)/b;return w>=0&&w<=1&&_>=0&&_<=1&&(i&&(i[0]=o+w*(a-o),i[1]=s+w*(l-s)),!0)}function b(e){switch(e){case"esriGeometryEnvelope":case"extent":return o;case"esriGeometryMultipoint":case"multipoint":return s;case"esriGeometryPoint":case"point":return i;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return p;case"esriGeometryPolyline":case"polyline":return f}}},19478:function(e,t,n){"use strict";function r(e){if(!e)return;const t=e.match(i);return t?.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}n.d(t,{D:function(){return o},o:function(){return r}});const i=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function o(e){return e.match(s)?.[1]?.replace(/\\'/g,"'")??null}const s=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/},19642:function(e,t,n){"use strict";n.d(t,{$P:function(){return O},I8:function(){return _},Mm:function(){return M},PD:function(){return S},ci:function(){return C},fp:function(){return x},m7:function(){return I},w6:function(){return A}});var r=n(93814),i=(n(5262),n(45352)),o=n(97776),s=(n(42957),n(41903),n(1889)),a=(n(51020),n(89847)),l=n(1851),c=n(86248),u=n(726),d=(n(89179),n(16976)),h=n(46415),p=n(6346),f=(n(103),n(63279)),m=(n(36903),n(75809),n(31405),n(62073)),y=n(55736);const g=.25,v=m.A.fromJSON({type:"multipart",colorRamps:[{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]}),b=m.A.fromJSON(d.vj[0]),w=new Set(["scientific","standard-time","vector-uv","vector-magdir","vector-u","vector-v","vector-magnitude","vector-direction"]);function _(e){return e.presetRenderers?.find((({method:t,value:n})=>"raster-function-template"===t?n===e.rasterFunctionName:"variable"===t&&n===e.variableName))}function S(e,t){const{attributeTable:n,colormap:i}=e;if((0,h.rd)(e)){const t=function(e){if(!(0,h.rd)(e))return null;let t;if(null!=e.statistics&&e.statistics.length&&("vector-magdir"===e.dataType||"vector-uv"===e.dataType)){const{minMagnitude:n,maxMagnitude:r}=N(e.dataType,e.statistics);t=[new f.A({field:"Magnitude",minSize:10,maxSize:40,minDataValue:n,maxDataValue:r})]}const n=null!=e.multidimensionalInfo?P.get(e.multidimensionalInfo.variables[0].unit):void 0,r=new c.A({visualVariables:t,inputUnit:n,rotationType:"geographic"});return r.visualVariables=[...r.sizeVariables,...r.rotationVariables],r}(e);if(null!=t)return t}if(t?.rasterFunctionColorRamp){const n=T(e,t);return n.colorRamp=t.rasterFunctionColorRamp,n}if(null!=i){const t=function(e){if(!(0,h.FA)(e))return null;let t;const{attributeTable:n,colormap:r}=e;if(null!=n){const e=k(n,"value"),r=E(n,null,!0);"string"===r.type&&(t={},n.features.forEach((n=>{const i=n.attributes;t[i[e.name]]=r?i[r.name]:i[e.name]})))}return s.A.createFromColormap(r,t)}(e);if(null!=t)return t}if(null!=n){const t=function(e,t,n,i){if(!(0,h.hu)(e,t))return null;const{attributeTable:o,statistics:s}=e,a=E(o,t),c=k(o,"red"),f=k(o,"green"),m=k(o,"blue"),g=new u.A,v=[],w=new Set,_=!!(c&&f&&m);if(null!=o)o.features.forEach((e=>{const t=e.attributes[a.name];if(!w.has(e.attributes[a.name])&&null!=t){w.add(t);const n=_&&("single"===c.type||"double"===c.type)&&("single"===f.type||"double"===f.type)&&("single"===m.type||"double"===m.type)&&!o.features.some((e=>e.attributes[c.name]>1||e.attributes[f.name]>1||e.attributes[m.name]>1)),i=n?255:1;v.push(new p.A({value:e.attributes[a.name],label:e.attributes[a.name]+"",symbol:new y.A({style:"solid",outline:null,color:new r.A(_?[e.attributes[c.name]*i,e.attributes[f.name]*i,e.attributes[m.name]*i,1]:[0,0,0,0])})}))}}));else if(s?.[0])for(let e=s[0].min;e<=s[0].max;e++)v.push(new p.A({value:e,label:e.toString(),symbol:new y.A({style:"solid",outline:null,color:new r.A([0,0,0,0])})}));if(v.sort(((e,t)=>e.value&&"string"==typeof e.value.valueOf()?0:e.value>t.value?1:-1)),!_){const e=(0,d.R8)(b,{numColors:v.length});v.forEach(((t,n)=>t.symbol.color=new r.A(e[n].slice(1,4)))),g.colorRamp=b}if(n||i){const e=n||(0,d.R8)(i,{numColors:v.length}).map((e=>e.slice(1)));v.forEach(((t,n)=>t.symbol.color=new r.A(e[n]))),g.colorRamp=i}return new l.A({field:a.name,uniqueValueInfos:v,authoringInfo:g})}(e);if(null!=t)return t}return T(e,t)}function x(e,t=!1){const n=["raster-stretch"];return(0,h.FA)(e,t)&&n.push("raster-colormap"),(0,h.hu)(e)&&n.push("unique-value"),(0,h.xX)(e,t)&&n.push("class-breaks"),(0,h.iL)(e)&&n.push("raster-shaded-relief"),(0,h.rd)(e)&&n.push("vector-field"),(0,h.QJ)(e)&&n.push("flow"),n}function M(e){return(0,o.q)(e)&&"Colormap"===e.rasterFunction.functionName?e.rasterFunction.colorRamp:void 0}function A(e,t,n){const r=n?.toLowerCase().replace("bicubic","cubic"),i=["nearest","bilinear","cubic","majority"].find((e=>e===r));return"Map"===t?i??"bilinear":"standard-time"===e.dataType?i??"nearest":"thematic"===e.dataType||e.attributeTable||e.colormap?"nearest"===i||"majority"===i?i:"nearest":i??"bilinear"}function T(e,t){e=I(e,t?.variableName);const{bandCount:n}=e;let{bandIds:r,stretchType:i}=t||{};r?.some((e=>e>=n))&&(r=null);let o=e.statistics,s=e.histograms;n>1?(r=r?.length?r:C(e),o=null==o?null:r?.map((e=>o[e])),s=null==s?null:r?.map((e=>s[e]))):r=[0],null==i&&(i=function(e){let t="percent-clip";const{pixelType:n,dataType:r,histograms:i,statistics:o,multidimensionalInfo:s}=e,a=w.has(r)||"generic"===r&&null!=s;return"u8"!==n||"processed"!==r&&null!=i&&null!=o?"u8"===n||"elevation"===r||a?t="min-max":null!=i?t="percent-clip":null!=o&&(t="min-max"):t="none",t}(e)),t?.includeStatisticsInStretch&&("percent-clip"===i||"histogram-equalization"===i)&&e.statistics?.length&&(i="min-max");let l=!1;switch(i){case"none":l=!1;break;case"percent-clip":l=!s?.length;break;default:l=!o?.length}const{dataType:c}=e,u=1===r?.length&&w.has(c)?v:null,d=new a.A({stretchType:i,dynamicRangeAdjustment:l,colorRamp:u,outputMin:0,outputMax:255,gamma:1===r?.length?[1]:[1,1,1],useGamma:!1});return"percent-clip"===i?d.maxPercent=d.minPercent=g:"standard-deviation"===i&&(d.numberOfStandardDeviations=2),l||null==e.multidimensionalInfo&&!t?.includeStatisticsInStretch||("percent-clip"===i?d.histograms=s:"min-max"!==i&&"standard-deviation"!==i||(d.statistics=o)),d}function I(e,t){const{multidimensionalInfo:n}=e;if(!t||!n)return e;const r=n.variables.find((e=>e.name===t));if(!r)return e;if(e=e.clone(),r){const{statistics:t,histograms:n}=r;t?.length&&(e.statistics=t.map((e=>({min:e.min,max:e.max,avg:e.avg,stddev:e.stddev})))),n?.length&&(e.histograms=n)}return e}function C(e){const t=e.bandCount;if(1===t)return null;if(2===t)return[0];const{bandInfos:n}=e;let r;if(n.length===t){const{red:e,green:t,blue:i,nir:o}=function(e){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=r.name.toLowerCase();if("red"===i)t.red=n;else if("green"===i)t.green=n;else if("blue"===i)t.blue=n;else if("nearinfrared"===i||"nearinfrared_1"===i||"nir"===i)t.nir=n;else if(r.maxWavelength&&r.minWavelength){const e=r.minWavelength,i=r.maxWavelength;null==t.blue&&e>=410&&e<=480&&i>=480&&i<=540?t.blue=n:null==t.green&&e>=490&&e<=560&&i>=560&&i<=610?t.green=n:null==t.red&&e>=595&&e<=670&&i>=660&&i<=730?t.red=n:null==t.nir&&e>=700&&e<=860&&i>=800&&i<=950&&(t.nir=n)}}return t}(n);null!=e&&null!=t&&null!=i?r=[e,t,i]:null!=o&&null!=e&&null!=t&&(r=[o,e,t])}return!r&&t>=3&&(r=[0,1,2]),r}function E(e,t,n){let r;return null!=e?(r=t?e.fields.find((e=>t.toLowerCase()===e.name.toLowerCase())):function(e){let t;for(let n=0;n<e.length;n++){const r=e[n].name.toLowerCase();if("string"===e[n].type){if(r.startsWith("class")){t=e[n];break}null==t&&(r.endsWith("name")||r.endsWith("type"))&&(t=e[n])}}return t}(e.fields),r||(n||(r=e.fields.find((e=>"string"===e.type))),r||(r=k(e,"value")))):r=new i.A({name:"value"}),r}function k(e,t){return null==e?null:e.fields.find((e=>e.name.toLowerCase()===t))}const P=new Map([["m/s","meter-per-second"],["km/h","kilometer-per-hour"],["knots","knots"],["ft/s","feet-per-second"],["mph","mile-per-hour"]]);function R(e){return{color:e.symbolLayers[0].material?.color,type:"esriSFS",style:"esriSFSSolid"}}function O(e){if("uniqueValue"===e.type){const t=e.uniqueValueInfos,n=t?.[0].symbol;return n?.symbolLayers?.length&&(e.uniqueValueInfos=t?.map((e=>({value:e.value,label:e.label,symbol:e.symbol?R(e.symbol):null})))),e}if("classBreaks"===e.type){const t=e.classBreakInfos,n=t[0].symbol;return n?.symbolLayers?.length&&(e.classBreakInfos=t.map((e=>({classMinValue:e.classMinValue,classMaxValue:e.classMaxValue,label:e.label,symbol:e.symbol?R(e.symbol):null})))),e}return e}function N(e,t){let n,r;if("vector-magdir"===e)n=t[0].min,r=t[0].max;else{const e=t[0].min,i=t[0].max,o=t[1].min,s=t[1].max;n=0,r=Math.max(Math.abs(e),Math.abs(o),Math.abs(i),Math.abs(s))}return{minMagnitude:n,maxMagnitude:r}}},19759:function(e,t,n){"use strict";n.d(t,{$1:function(){return te},$z:function(){return K},An:function(){return E},BQ:function(){return ae},DB:function(){return Q},FL:function(){return $},FX:function(){return B},Hg:function(){return ie},Il:function(){return me},Ln:function(){return be},N9:function(){return se},S8:function(){return W},T1:function(){return ge},UC:function(){return ye},V1:function(){return H},XJ:function(){return _e},Xq:function(){return I},Zo:function(){return Ae},_0:function(){return Ie},a6:function(){return Me},b8:function(){return Z},e7:function(){return fe},fj:function(){return J},gd:function(){return C},hf:function(){return ve},lJ:function(){return ee},lM:function(){return ue},m3:function(){return ce},nM:function(){return pe},oP:function(){return Y},oy:function(){return F},r$:function(){return re},rs:function(){return xe},s0:function(){return _},s2:function(){return q},sC:function(){return V},s_:function(){return R},tk:function(){return oe},ut:function(){return U},w8:function(){return X},x0:function(){return P},xw:function(){return Te},yM:function(){return O},zf:function(){return k},zi:function(){return Se},zs:function(){return j}});var r=n(32083),i=n(3223),o=n(62991),s=n(80861),a=n(46030),l=n(9856),c=n(98593);const u=()=>s.A.getLogger("esri.core.urlUtils"),d=r.A.request,h="esri/config: esriConfig.request.proxyUrl is not set.",p=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,f=/^\s*http:/i,m=/^\s*https:/i,y=/^\s*file:/i,g=/:\d+$/,v=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,b=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),w=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");class _{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=this.uri.match(b);this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=this.authority.match(w),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}}const S={},x=new _(r.A.applicationUrl);let M=x;const A=function(){const e=M.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${M.scheme}://${M.host}${null!=M.port?`:${M.port}`:""}${t}`}();let T=A;const I=()=>M,C=()=>T;function E(e){if(!e)return null;const t={path:null,query:null},n=new _(e),r=e.indexOf("?");return null===n.query?t.path=e:(t.path=e.slice(0,r),t.query=k(n.query)),n.fragment&&(t.hash=n.fragment,null===n.query&&(t.path=t.path.slice(0,t.path.length-(n.fragment.length+1)))),t}function k(e){const t=e.split("&"),n={};for(const e of t){if(!e)continue;const t=e.indexOf("=");let r,i;t<0?(r=decodeURIComponent(e),i=""):(r=decodeURIComponent(e.slice(0,t)),i=decodeURIComponent(e.slice(t+1)));let o=n[r];"string"==typeof o&&(o=n[r]=[o]),Array.isArray(o)?o.push(i):n[r]=i}return n}function P(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((n=>encodeURIComponent(n)+"="+encodeURIComponent(t(n,e[n])))).join("&"):Object.keys(e).map((n=>{const r=e[n];if(null==r)return"";const i=encodeURIComponent(n)+"=",o=t?.[n];return o?i+encodeURIComponent(o(r)):Array.isArray(r)?r.map((e=>(0,a.W)(e)?i+encodeURIComponent(JSON.stringify(e)):i+encodeURIComponent(e))).join("&"):(0,a.W)(r)?i+encodeURIComponent(JSON.stringify(r)):i+encodeURIComponent(r)})).filter((e=>e)).join("&"):""}function R(e=!1){let t,n=d.proxyUrl;if("string"==typeof e){t=ce(e);const r=j(e);r&&(n=r.proxyUrl)}else t=!!e;if(!n)throw u().warn(h),new o.A("urlUtils:proxy-not-set",h);return t&&de()&&(n=ue(n)),E(n)}function O(e,t=!1){const n=j(e);let r,i;if(n){const e=L(n.proxyUrl);r=e.path,i=e.query?k(e.query):null}else if(t){const t=R(e);r=t.path,i=t.query}if(r){const t=E(e);e=r+"?"+t.path;const n=P({...i,...t.query});n&&(e=`${e}?${n}`)}return e}const N={path:"",query:""};function L(e){const t=e.indexOf("?");return-1!==t?(N.path=e.slice(0,t),N.query=e.slice(t+1)):(N.path=e,N.query=null),N}function D(e){return(e=he(e=me(e=L(e).path),!0)).toLowerCase()}function F(e){const t={proxyUrl:e.proxyUrl,urlPrefix:D(e.urlPrefix)},n=d.proxyRules,r=t.urlPrefix;let i=n.length;for(let e=0;e<n.length;e++){const t=n[e].urlPrefix;if(0===r.indexOf(t)){if(r.length===t.length)return-1;i=e;break}0===t.indexOf(r)&&(i=e+1)}return n.splice(i,0,t),i}function j(e){const t=d.proxyRules,n=D(e);for(let e=0;e<t.length;e++)if(0===n.indexOf(t[e].urlPrefix))return t[e]}function Z(e,t){if(!e||!t)return!1;e=z(e),t=z(t);const n=(0,l.py)(e),r=(0,l.py)(t);return null!=n&&null!=r?n.portalHostname===r.portalHostname:null==n&&null==r&&B(e,t,!0)}function U(e,t){return e=z(e),t=z(t),he(e)===he(t)}function z(e){const t=(e=W(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function V(e,t=d.interceptors){const n=t=>t instanceof RegExp?t.test(e):"string"==typeof t?e.startsWith(t):null==t;if(t)for(const e of t)if(Array.isArray(e.urls)){if(e.urls.some(n))return e}else if(n(e.urls))return e;return null}function B(e,t,n=!1){if(!e||!t)return!1;const r=we(e),i=we(t);return!(!n&&r.scheme!==i.scheme)&&null!=r.host&&null!=i.host&&r.host.toLowerCase()===i.host.toLowerCase()&&r.port===i.port}function $(e){if("string"==typeof e){if(!Y(e))return!0;e=we(e)}if(B(e,M))return!0;const t=d.trustedServers||[];for(let n=0;n<t.length;n++){const r=G(t[n]);for(let t=0;t<r.length;t++)if(B(e,r[t]))return!0}return!1}function G(e){return S[e]||(le(e)||ae(e)?S[e]=[new _(q(e))]:S[e]=[new _(`http://${e}`),new _(`https://${e}`)]),S[e]}function q(e,t=T,n){return ae(e)?n?.preserveProtocolRelative?e:"http"===M.scheme&&M.authority===K(e).slice(2)?`http:${e}`:`https:${e}`:le(e)?e:J("/"===e[0]?function(e){const t=e.indexOf("//"),n=e.indexOf("/",t+2);return-1===n?e:e.slice(0,n)}(t):t,e)}function H(e,t=T,n){if(null==e||!Y(e))return e;const r=W(e),i=r.toLowerCase(),o=W(t).toLowerCase().replace(/\/+$/,""),s=n?W(n).toLowerCase().replace(/\/+$/,""):null;if(s&&0!==o.indexOf(s))return e;const a=(e,t,n)=>-1===(n=e.indexOf(t,n))?e.length:n;let l=a(i,"/",i.indexOf("//")+2),c=-1;for(;i.slice(0,l+1)===o.slice(0,l)+"/"&&(c=l+1,l!==i.length);)l=a(i,"/",l+1);if(-1===c)return e;if(s&&c<s.length)return e;e=r.slice(c);const u=o.slice(c-1).replaceAll(/[^/]+/g,"").length;if(u>0)for(let t=0;t<u;t++)e=`../${e}`;else e=`./${e}`;return e}function W(e){return function(e){const t=d.httpsDomains;if(!function(e){return null!=e&&f.test(e)||"http"===M.scheme&&ae(e)}(e))return e;const n=e.indexOf("/",7);let r;if(r=-1===n?e:e.slice(0,n),r=r.toLowerCase().slice(7),g.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return"http"===M.scheme&&r===M.authority&&!v.test(e)||(de()&&r===M.authority||t&&t.some((e=>r===e||r.endsWith(`.${e}`)))||de()&&!j(e))&&(e=ue(e)),e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){const t=L(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}(e=q(e=e.trim()))))}function J(...e){const t=e.filter(i.Ru);if(!t?.length)return;const n=[];if(Y(t[0])){const e=t[0],r=e.indexOf("//");-1!==r&&(n.push(e.slice(0,r+1)),function(e){return null!=e&&y.test(e)}(t[0])&&(n[0]+="/"),t[0]=e.slice(r+2))}else"/"===t[0][0]&&n.push("");const r=t.reduce(((e,t)=>t?e.concat(t.split("/")):e),[]);for(let e=0;e<r.length;e++){const t=r[e];".."===t&&n.length>0&&".."!==n[n.length-1]?n.pop():(!t&&e===r.length-1||t&&("."!==t||0===n.length))&&n.push(t)}return n.join("/")}function K(e,t=!1){if(null==e||X(e)||Q(e))return null;let n=e.indexOf("://");if(-1===n&&ae(e))n=2;else{if(-1===n)return null;n+=3}const r=e.indexOf("/",n);return-1!==r&&(e=e.slice(0,r)),t&&(e=he(e,!0)),e}function Y(e){return ae(e)||le(e)}function X(e){return null!=e&&"blob:"===e.slice(0,5)}function Q(e){return null!=e&&"data:"===e.slice(0,5)}function ee(e){const t=re(e);return t?.isBase64?(0,c.M)(t.data):null}function te(e){return(0,c.Y)(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const ne=/^data:(.*?)(;base64)?,(.*)$/;function re(e){const t=e.match(ne);if(!t)return null;const[,n,r,i]=t;return{mediaType:n,isBase64:!!r,data:i}}function ie(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function oe(e){return(await fetch(e)).blob()}function se(e){const t=ee(e);if(!t)return null;const n=re(e);return new Blob([t],{type:n.mediaType})}function ae(e){return null!=e&&"/"===e[0]&&"/"===e[1]}function le(e){return null!=e&&p.test(e)}function ce(e){return null!=e&&m.test(e)||"https"===M.scheme&&ae(e)}function ue(e){return ae(e)?`https:${e}`:e.replace(f,"https:")}function de(){return"https"===M.scheme}function he(e,t=!1){return ae(e)?e.slice(2):(e=e.replace(p,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function pe(e){let t=0;if(Y(e)){const n=e.indexOf("//");-1!==n&&(t=n+2)}const n=e.lastIndexOf("/");return n<t?e:e.slice(0,n+1)}function fe(e,t){if(!e)return"";const n=E(e).path.replace(/\/+$/,""),r=n.slice(n.lastIndexOf("/")+1);if(!t?.length)return r;const i=new RegExp(`\\.(${t.join("|")})$`,"i");return r.replace(i,"")}function me(e){return e.endsWith("/")?e:`${e}/`}function ye(e){return e.replace(/\/+$/,"")}function ge(e,t,n){if(!(t&&n&&e&&Y(e)))return e;const r=e.indexOf("//"),i=e.indexOf("/",r+2),o=e.indexOf(":",r+2),s=Math.min(i<0?e.length:i,o<0?e.length:o);return e.slice(r+2,s).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${n}${e.slice(s)}`}function ve(e,t){const n=new URL(e);return n.host=t,n.port&&!g.test(t)&&(n.port=""),n.toString()}function be(e){return new URL(e).host}function we(e){return"string"==typeof e?new _(q(e)):(e.scheme||(e.scheme=M.scheme),e)}function _e(e){return Ee.test(e)}function Se(e,t){const n=E(e),r=Object.keys(n.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),n.path}function xe(e,t,n){const r=E(e),i=r.query||{};return i[t]=String(n),`${r.path}?${P(i)}`}function Me(e,t){if(!t)return e;const n=E(e),r=n.query||{};for(const[e,n]of Object.entries(t))null!=n&&(r[e]=n);const i=P(r);return i?`${n.path}?${i}`:n.path}function Ae(e){if(null==e)return null;const t=e.match(Ce);return t?t[2]:null}function Te(e){if(null==e)return null;const t=e.match(Ce);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function Ie(e){return"string"==typeof e?re(e)??{data:e}:new Promise(((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(re(r.result)),r.onerror=e=>n(e)}))}const Ce=/([^.]*)\.([^/]*)$/,Ee=/(^data:image\/svg|\.svg$)/i},19892:function(e,t,n){"use strict";n.d(t,{S:function(){return y}});var r=n(36321),i=n(57725),o=n(55792),s=n(5525);function a(e,t){return t}function l(e,t,n,r){switch(n){case 0:return h(e,t+r,0);case 1:return"lowerLeft"===e.originPosition?h(e,t+r,1):function({translate:e,scale:t},n,r){return e[r]-n*t[r]}(e,t+r,1)}}function c(e,t,n,r){return 2===n?h(e,t,2):l(e,t,n,r)}function u(e,t,n,r){return 2===n?0===t?0:h(e,t,3):l(e,t,n,r)}function d(e,t,n,r){return 3===n?0===t?0:h(e,t,3):c(e,t,n,r)}function h({translate:e,scale:t},n,r){return e[r]+n*t[r]}class p{constructor(e){this._options=e,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this._previousCoordinate=[0,0],this._transform=null,this._applyTransform=a,this._lengths=[],this._currentLengthIndex=0,this._toAddInCurrentPath=0,this._vertexDimension=0,this._mValueOffset=null,this._coordinateBuffer=null,this._coordinateBufferPtr=0,this._attributesConstructor=class{}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(e){if(this._options.applyTransform&&(e.transform=null),this._attributesConstructor=class{},this._coordinateBuffer=null,this._lengths.length=0,!e.hasZ)return;const t=(0,o.N)(e.geometryType,this._options.sourceSpatialReference,e.spatialReference);if(null!=t)for(const n of e.features)t(n.geometry)}createSpatialReference(){return{}}addField(e,t){const n=e.fields;(0,i.Lw)(n),n.push(t);const r=n.map((e=>e.name));this._attributesConstructor=function(){for(const e of r)this[e]=null}}addFeature(e,t){e.features.push(t)}prepareFeatures(e){switch(this._transform=e.transform,this._options.applyTransform&&e.transform&&(this._applyTransform=this._deriveApplyTransform(e)),this._mValueOffset=null,this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&(this._mValueOffset=this._vertexDimension,this._vertexDimension++),e.geometryType){case"esriGeometryPoint":this.addCoordinate=(e,t,n)=>this.addCoordinatePoint(e,t,n),this.createGeometry=e=>this.createPointGeometry(e);break;case"esriGeometryPolygon":this.addCoordinate=(e,t,n)=>this._addCoordinatePolygon(e,t,n),this.createGeometry=e=>this._createPolygonGeometry(e);break;case"esriGeometryPolyline":this.addCoordinate=(e,t,n)=>this._addCoordinatePolyline(e,t,n),this.createGeometry=e=>this._createPolylineGeometry(e);break;case"esriGeometryMultipoint":this.addCoordinate=(e,t,n)=>this._addCoordinateMultipoint(e,t,n),this.createGeometry=e=>this._createMultipointGeometry(e)}}createFeature(){return this._lengths.length=0,this._currentLengthIndex=0,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(e,t,n){0===this._lengths.length&&(this._toAddInCurrentPath=t),this._lengths.push(t)}addQueryGeometry(e,t){const{queryGeometry:n,queryGeometryType:r}=t,i=this._transform?(0,s.Ch)(n.clone(),n,!1,!1,this._transform):n.clone(),o=(0,s.zv)(i,r,!1,!1);e.queryGeometryType=r,e.queryGeometry={...o}}createPointGeometry(e){const t={x:0,y:0,spatialReference:e.spatialReference};return e.hasZ&&(t.z=0),e.hasM&&(t.m=0),t}addCoordinatePoint(e,t,n){const r=this._transform;switch(t=this._applyTransform(r,t,n,0),n){case 0:e.x=t;break;case 1:e.y=t;break;case 2:"z"in e?e.z=t:e.m=t;break;case 3:e.m=t}}_transformPathLikeValue(e,t){let n=0;t<=1&&(n=this._previousCoordinate[t],this._previousCoordinate[t]+=e);const r=this._transform;return null!==this._mValueOffset&&0===e&&t>0&&!(t%this._mValueOffset)?0:this._applyTransform(r,e,t,n)}_addCoordinatePolyline(e,t,n){this._dehydratedAddPointsCoordinate(e.paths,t,n)}_addCoordinatePolygon(e,t,n){this._dehydratedAddPointsCoordinate(e.rings,t,n)}_addCoordinateMultipoint(e,t,n){0===n&&e.points.push([]);const r=this._transformPathLikeValue(t,n);e.points[e.points.length-1].push(r)}_createPolygonGeometry(e){return{rings:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_createPolylineGeometry(e){return{paths:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_createMultipointGeometry(e){return{points:[],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_dehydratedAddPointsCoordinate(e,t,n){0===n&&0==this._toAddInCurrentPath--&&(e.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);const r=this._transformPathLikeValue(t,n),i=e[e.length-1];0===n&&(this._coordinateBufferPtr=0,this._coordinateBuffer=new Array(this._vertexDimension),i.push(this._coordinateBuffer)),this._coordinateBuffer[this._coordinateBufferPtr++]=r}_deriveApplyTransform(e){const{hasZ:t,hasM:n}=e;return t&&n?d:t?c:n?u:l}}var f=n(95254),m=(n(74704),n(33432));async function y(e,t,n,i){const o=(0,r.Dl)(e),s={...n},a=m.A.from(t),l=!a.quantizationParameters,{data:c}=await(0,f.IJ)(o,a,new p({sourceSpatialReference:a.sourceSpatialReference,applyTransform:l}),s,i);return c}},19900:function(e,t,n){"use strict";n.d(t,{As:function(){return d},Ug:function(){return h},Wp:function(){return u},z4:function(){return c}});var r=n(21750),i=n(9283),o=n(7998),s=n(999),a=n(4064),l=n(4331);const c={types:l.xK,json:{write:{writer:a.M9},origins:{"web-scene":{types:l.On,write:{writer:a.M9},read:{reader:(0,i.C)({types:l.On})}}}}},u=(0,r.$N)({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},c),d={types:{base:s.A,key:"type",typeMap:{"simple-fill":l.Es.typeMap["simple-fill"],"picture-fill":l.Es.typeMap["picture-fill"],"polygon-3d":l.Es.typeMap["polygon-3d"],cim:l.Es.typeMap.cim}},json:{write:{writer:a.M9},origins:{"web-scene":{type:o.A,write:{writer:a.M9}}}}},h={cast:e=>null==e||"string"==typeof e||"number"==typeof e?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e?.toString()}}}}},19913:function(e,t,n){"use strict";function r(){return[0,0,0]}function i(e){return[e[0],e[1],e[2]]}function o(e,t,n){return[e,t,n]}function s(e,t,n){return[e,t,n]}function a(e,t=[0,0,0]){const n=Math.min(3,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t}function l(){return[0,0,0]}function c(){return o(1,1,1)}function u(){return o(1,0,0)}function d(){return o(0,1,0)}function h(){return o(0,0,1)}n.d(t,{CN:function(){return s},Cb:function(){return g},Cw:function(){return m},JP:function(){return y},S:function(){return c},Ul:function(){return l},Un:function(){return f},ci:function(){return a},fA:function(){return o},o8:function(){return i},uY:function(){return p},vt:function(){return r}});const p=[0,0,0],f=c(),m=u(),y=d(),g=h();Object.freeze(Object.defineProperty({__proto__:null,ONES:f,UNIT_X:m,UNIT_Y:y,UNIT_Z:g,ZEROS:p,clone:i,create:r,freeze:s,fromArray:a,fromValues:o,ones:c,unitX:u,unitY:d,unitZ:h,zeros:l},Symbol.toStringTag,{value:"Module"}))},20330:function(e,t,n){"use strict";n.d(t,{A:function(){return A}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(25376)),a=n(26325),l=n(48524),c=n(67709),u=n(65648),d=n(38648);let h=class extends i.A{constructor(e){super(e),this.line=null,this.multipoint=null,this.polygon=null}};(0,r._)([(0,o.MZ)({type:d.A,json:{write:!0},readOnly:!0})],h.prototype,"line",void 0),(0,r._)([(0,o.MZ)({type:c.A,json:{read:{source:"point"},write:{target:"point"}},readOnly:!0})],h.prototype,"multipoint",void 0),(0,r._)([(0,o.MZ)({type:u.A,json:{write:!0},readOnly:!0})],h.prototype,"polygon",void 0),h=(0,r._)([(0,a.$)("esri.rest.networks.support.AggregatedGeometry")],h);const p=h;var f=n(69045);let m=class extends i.A{constructor(e){super(e),this.edgeElement=null,this.junctionElement=null}readEdgeElement(e,t){return new f.A({networkSourceId:t.edgeNetworkSourceId,globalId:t.edgeGlobalId,objectId:t.edgeObjectId,positionFrom:t.edgePositionFrom,positionTo:t.edgePositionTo,firstUnit:t.edgeFirstUnit,numUnits:t.edgeNumUnits})}writeEdgeElement(e,t){t.edgeNetworkSourceId=e.networkSourceId,t.edgeGlobalId=e.globalId,t.edgeObjectId=e.objectId,t.edgePositionFrom=e.positionFrom,t.edgePositionTo=e.positionTo,t.edgeFirstUnit=e.firstUnit,t.edgeNumUnits=e.numUnits}readJunctionElement(e,t){return new f.A({networkSourceId:t.junctionNetworkSourceId,globalId:t.junctionGlobalId,objectId:t.junctionObjectId,terminalId:t.junctionTerminalId,firstUnit:t.junctionFirstUnit,numUnits:t.junctionNumUnits})}writeJunctionElement(e,t){t.junctionNetworkSourceId=e.networkSourceId,t.junctionGlobalId=e.globalId,t.junctionObjectId=e.objectId,t.junctionTerminalId=e.terminalId,t.junctionFirstUnit=e.firstUnit,t.junctionNumUnits=e.numUnits}};(0,r._)([(0,o.MZ)({type:f.A,json:{read:{source:["edgeNetworkSourceId","edgeGlobalId","edgeObjectId","edgePositionFrom","edgePositionTo","edgeFirstUnit","edgeNumUnits"]},write:!0}})],m.prototype,"edgeElement",void 0),(0,r._)([(0,s.w)("edgeElement")],m.prototype,"readEdgeElement",null),(0,r._)([(0,l.K)("edgeElement")],m.prototype,"writeEdgeElement",null),(0,r._)([(0,o.MZ)({type:f.A,json:{read:{source:["junctionNetworkSourceId","junctionGlobalId","junctionObjectId","junctionTerminalId","junctionFirstUnit","junctionNumUnits"]},write:!0}})],m.prototype,"junctionElement",void 0),(0,r._)([(0,s.w)("junctionElement")],m.prototype,"readJunctionElement",null),(0,r._)([(0,l.K)("junctionElement")],m.prototype,"writeJunctionElement",null),m=(0,r._)([(0,a.$)("esri.rest.networks.support.CircuitPathConnectivityElement")],m);const y=m;var g=n(27448);let v=class extends i.A{constructor(e){super(e),this.pathId=null,this.orderId=null,this.startingPoint=null,this.stoppingPoint=null,this.pathConnectivity=[],this.geometry=null}};(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],v.prototype,"pathId",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],v.prototype,"orderId",void 0),(0,r._)([(0,o.MZ)({type:g.A,json:{write:!0}})],v.prototype,"startingPoint",void 0),(0,r._)([(0,o.MZ)({type:g.A,json:{write:!0}})],v.prototype,"stoppingPoint",void 0),(0,r._)([(0,o.MZ)({type:[y],json:{write:!0}})],v.prototype,"pathConnectivity",void 0),(0,r._)([(0,o.MZ)({type:d.A,json:{write:!0}})],v.prototype,"geometry",void 0),v=(0,r._)([(0,a.$)("esri.rest.networks.support.CircuitPath")],v);const b=v;let w=class extends i.A{constructor(e){super(e),this.circuit=null,this.geometry=null,this.path=null}readCircuit(e,t){const n=t.sections?.map((e=>({...e,path:b.fromJSON(e.path)})));return{name:t.name,globalId:t.globalId,isSectioned:t.isSectioned,sectionOrder:t.sectionOrder,startLocation:t.startLocation,stopLocation:t.stopLocation,sections:n,subcircuits:t.subcircuits,lastVerifiedTime:t.lastVerifiedTime?new Date(t.lastVerifiedTime):null,lastExportedTime:t.lastExportedTime?new Date(t.lastExportedTime):null,circuitType:t.circuitType,status:t.status}}};(0,r._)([(0,o.MZ)({type:Object,json:{write:!0,read:{source:["name","globalId","isSectioned","sectionOrder","startLocation","stopLocation","sections","subcircuits","lastVerifiedTime","lastExportedTime","circuitType","status"]}}})],w.prototype,"circuit",void 0),(0,r._)([(0,s.w)("circuit")],w.prototype,"readCircuit",null),(0,r._)([(0,o.MZ)({type:d.A,json:{write:!0}})],w.prototype,"geometry",void 0),(0,r._)([(0,o.MZ)({type:b,json:{write:!0}})],w.prototype,"path",void 0),w=(0,r._)([(0,a.$)("esri.rest.networks.support.CircuitTraceResult")],w);const _=w;let S=class extends i.A{constructor(e){super(e),this.functionType=null,this.networkAttributeName=null,this.result=null}};(0,r._)([(0,o.MZ)({type:["add","subtract","average","count","min","max"],json:{write:!0},readOnly:!0})],S.prototype,"functionType",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0},readOnly:!0})],S.prototype,"networkAttributeName",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0},readOnly:!0})],S.prototype,"result",void 0),S=(0,r._)([(0,a.$)("esri.rest.networks.support.FunctionResult")],S);const x=S;var M=n(698);let A=class extends i.A{constructor(e){super(e),this.aggregatedGeometry=null,this.circuits=null,this.elements=null,this.globalFunctionResults=null,this.kFeaturesForKNNFound=!1,this.paths=null,this.startingPointsIgnored=!1,this.warnings=null}readNetworkElements(e,t){return null!=t.elements?t.elements.map((e=>"firstUnit"in e&&"numUnits"in e?new f.A({...e}):new M.A({...e}))):[]}writeNetworkElements(e,t){t.elements=e.map((e=>e.toJSON()))}};(0,r._)([(0,o.MZ)({type:p,json:{write:!0},readOnly:!0})],A.prototype,"aggregatedGeometry",void 0),(0,r._)([(0,o.MZ)({type:[_],json:{write:!0},readOnly:!0})],A.prototype,"circuits",void 0),(0,r._)([(0,o.MZ)({type:[M.A],json:{write:!0},readOnly:!0})],A.prototype,"elements",void 0),(0,r._)([(0,s.w)("elements")],A.prototype,"readNetworkElements",null),(0,r._)([(0,l.K)("elements")],A.prototype,"writeNetworkElements",null),(0,r._)([(0,o.MZ)({type:[x],json:{write:!0},readOnly:!0})],A.prototype,"globalFunctionResults",void 0),(0,r._)([(0,o.MZ)({type:Boolean,json:{write:!0},readOnly:!0})],A.prototype,"kFeaturesForKNNFound",void 0),(0,r._)([(0,o.MZ)({type:[b],json:{write:!0},readOnly:!0})],A.prototype,"paths",void 0),(0,r._)([(0,o.MZ)({type:Boolean,json:{write:!0},readOnly:!0})],A.prototype,"startingPointsIgnored",void 0),(0,r._)([(0,o.MZ)({type:[String],json:{write:!0},readOnly:!0})],A.prototype,"warnings",void 0),A=(0,r._)([(0,a.$)("esri.rest.networks.support.TraceResult")],A)},20405:function(e,t,n){"use strict";n.d(t,{FV:function(){return a},Uo:function(){return o},ZV:function(){return i},xB:function(){return s}});n(6273);var r=n(23572);function i(e){return(0,r.tc)(e.x,e.y)}function o(e,t){const n=(e instanceof HTMLElement?e:e.surface)?.getBoundingClientRect();return n?(0,r.tc)(t.clientX-n.left,t.clientY-n.top):(0,r.tc)(0,0)}function s(e,t){return t instanceof Event?o(e,t):i(t)}function a(e){if(e instanceof Event)return!0;if("object"==typeof e&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}},20417:function(e,t,n){"use strict";n.d(t,{Cr:function(){return k},D4:function(){return V},JM:function(){return Z},XO:function(){return R},r9:function(){return N},s$:function(){return z},uT:function(){return j},uc:function(){return P},zS:function(){return O}});n(6273);var r=n(26554),i=n(27355),o=n(40254),s=n(93399),a=n(6246),l=n(3929),c=n(53965),u=n(79303);const d=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],h=4294967296,p=new Set([1,5,6,7,8,34712,34887]);function f(e,t){let n="unknown";return 3===e?n=64===t?"f64":"f32":1===e?1===t?n="u1":2===t?n="u2":4===t?n="u4":t<=8?n="u8":t<=16?n="u16":t<=32&&(n="u32"):2===e&&(t<=8?n="s8":t<=16?n="s16":t<=32&&(n="s32")),n}function m(e){let t=null;switch(e?e.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":t=Uint8Array;break;case"u16":t=Uint16Array;break;case"u32":t=Uint32Array;break;case"s8":t=Int8Array;break;case"s16":t=Int16Array;break;case"s32":t=Int32Array;break;case"f64":t=Float64Array;break;default:t=Float32Array}return t}function y(e,t){return{x:t[0]*e.x+t[1]*e.y+t[2],y:t[3]*e.x+t[4]*e.y+t[5]}}function g(e,t){return e.get(t)?.values}function v(e,t){return e.get(t)?.values}function b(e,t){return e.get(t)?.values?.[0]}function w(e,t){return e.get(t)?.values?.[0]}function _(e,t,n,r=0,i=l.NB,o=4){const s=8===o,a=s?L(new DataView(e,n,8),0,t):new DataView(e,n,2).getUint16(0,t),c=4+2*o,u=s?8:2,d=u+a*c;if(n+d>e.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:d};const h=8===o?8:4,p=n+d+h<=e.byteLength?F(new DataView(e,n+d,h),0,t,8===o):null,f=n+u,m=new Map;let y,g,v,b,w,_=0,S=0;for(let n=0;n<a;n++){g=new DataView(e,f+c*n,c),v=g.getUint16(0,t),w=g.getUint16(2,t),b=(0,l.kq)(v,i);const s=[];2===o?(_=g.getUint16(4,t),S=g.getUint16(6,t)):4===o?(_=g.getUint32(4,t),S=g.getUint32(8,t)):8===o&&(_=F(g,4,t,!0),S=F(g,12,t,!0),s.push(g.getUint32(12,t)),s.push(g.getUint32(16,t))),y={id:v,type:w,valueCount:_,valueOffset:S,valueOffsets:s,values:null},k(e,t,y,r,!1,o),m.set(b,y)}return{success:!0,ifd:m,nextIFD:p,requiredBufferSize:d}}const S=(e,t)=>(0,o.D4)(e,{inputOffset:t}).pixels[0];function x(e,t){if(1!==t&&2!==t&&4!==t)return e;const n=new Uint8Array(e),r=8/t,i=new Uint8Array(e.byteLength*r);let o=0;const s=2**t-1;for(let e=0;e<n.length;e++){const a=n[e];for(let e=0;e<r;e++)i[o++]=a<<t*e>>>8-t&s}return i.buffer}function M(e,t,n){const r=new i.J;r.parse(e),r.colorTransform=6===n?-1:0;const o=r.getData(r.width,r.height,1!==t&&4!==t);return new Uint8Array(o.buffer)}function A(e){const t=new u.Z(e).getBytes(),n=new ArrayBuffer(t.length),r=new Uint8Array(n);return r.set(t),r}async function T(e,t,n,r,i){const a=c.Z===t,l=w(n,"BITSPERSAMPLE"),u=w(n,"SAMPLESPERPIXEL")??1,d=w(n,"PHOTOMETRICINTERPRETATION"),h=w(n,"SAMPLEFORMAT")??1,p=f(h,l),y=w(n,"COMPRESSION")??1,g=m(p);let v,b,_;if(34887===y)return await(0,o.Hh)(),S(e,r);if(1===y)v=e.slice(r,r+i),b=new Uint8Array(v);else if(8===y||32946===y)b=new Uint8Array(e,r,i),b=A(b),v=b.buffer;else if(6===y)b=new Uint8Array(e,r,i),b=M(b,u,d),v=b.buffer;else if(7===y){const t=n.get("JPEGTABLES").values,o=t.length-2;b=new Uint8Array(o+i-2);for(let e=0;e<o;e++)b[e]=t[e];const s=new Uint8Array(e,r+2,i-2);for(let e=0;e<s.length;e++)b[o+e]=s[e];b=M(b,u,d),v=b.buffer}else{if(5!==y)throw new Error("tiff-decode: unsupport compression "+y);b=(0,s.D)(e,r,i,t),v=b.buffer}if(v=x(v,l),"u8"===p||"s8"===p||a)_=new g(v);else{v=new ArrayBuffer(b.length);const e=new Uint8Array(v);switch(p){case"u16":case"s16":for(let t=0;t<b.length;t+=2)e[t]=b[t+1],e[t+1]=b[t];break;case"u32":case"s32":case"f32":for(let t=0;t<b.length;t+=4)e[t]=b[t+3],e[t+1]=b[t+2],e[t+2]=b[t+1],e[t+3]=b[t]}_=new g(v)}const T=w(n,"PREDICTOR")??1,I=w(n,"TILEWIDTH"),C=w(n,"TILELENGTH");if(T>1&&(5===y||8===y||32946===y)&&I&&C){const e=R(n),t=new g(_.length);t.set(_),_=function(e,t,n,r,i){const o=r?4:1,s=n*o*i;r&&(e=new Uint8Array(e.buffer));for(let n=0;n<t;n++){const t=n*s;for(let n=i;n<s;n++)e[t+n]+=e[t+n-i]}if(!r)return e;const a=new Uint8Array(e.length),l=n*i;for(let n=0;n<t;n++){const t=n*s;for(let n=0;n<l;n++)for(let r=0;r<o;r++)a[t+n*o+r]=e[t+n+(o-r-1)*l]}return new Float32Array(a.buffer)}(t,C,I,3===h&&3===T,e?1:u)}return _}const I=(e,t,n)=>{const r=c.Z===t.littleEndian,i=v(n,"STRIPOFFSETS");if(void 0===i)return null;const{width:o,height:a,pixelType:l}=P([n]),u=w(n,"SAMPLESPERPIXEL")||t.planes,d=w(n,"PHOTOMETRICINTERPRETATION"),h=o*a,p=w(n,"BITSPERSAMPLE"),f=m(l),y=new f(h*u),g=v(n,"STRIPBYTECOUNTS"),b=w(n,"ROWSPERSTRIP"),_=w(n,"COMPRESSION")??1;let S,T,I,C,E,k,R,O,N;if(p%8==0)for(S=0;S<i.length;S++){if(E=S*(b*o)*u,"u8"===l||"s8"===l||r)8===_||32946===_?(R=new Uint8Array(e,i[S],g[S]),R=A(R),k=R.buffer):6===_?(R=new Uint8Array(e,i[S],g[S]),R=M(R,u,d),k=R.buffer):5===_?(R=(0,s.D)(e,i[S],g[S],t.littleEndian),k=R.buffer):k=e.slice(i[S],i[S]+g[S]),k=x(k,p),C=new f(k);else{switch(6===_||8===_||32946===_?(R=new Uint8Array(e,i[S],g[S]),O=A(R),k=O.buffer):(k=new ArrayBuffer(g[S]),R=new Uint8Array(e,i[S],g[S]),O=new Uint8Array(k)),l){case"u16":case"s16":for(I=0;I<R.length;I+=2)O[I]=R[I+1],O[I+1]=R[I];break;case"u32":case"s32":case"f32":for(I=0;I<R.length;I+=4)O[I]=R[I+3],O[I+1]=R[I+2],O[I+2]=R[I+1],O[I+3]=R[I]}k=x(k,p),C=new f(k)}y.set(C,E)}const L=[];if(1===u)L.push(y);else for(S=0;S<u;S++){for(N=new f(h),T=0;T<h;T++)N[T]=y[T*u+S];L.push(N)}return{width:o,height:a,pixelType:l,pixels:L}},C=(e,t,n)=>{if(!(e&&e.length>0&&t&&n))return null;let r,i,o;const s=e[0].length,a=e.length,l=new Uint8Array(s);for(let c=0;c<a;c++)if(r=e[c],i=t[c],o=n[c],0===c)for(let e=0;e<s;e++)l[e]=r[e]<i||r[e]>o?0:1;else for(let e=0;e<s;e++)l[e]&&(l[e]=r[e]<i||r[e]>o?0:1);return l},E=e=>{if(!e)return null;const t=e.match(/<Item(.*?)Item>/gi);if(!t||0===t.length)return null;const n=new Map;let r,i,o,s,a;for(let e=0;e<t.length;e++)r=t[e],i=r.slice(6,r.indexOf(">")),s=r.indexOf("sample="),s>-1&&(a=r.slice(s+8,r.indexOf('"',s+8))),s=r.indexOf("name="),s>-1&&(i=r.slice(s+6,r.indexOf('"',s+6))),i&&(o=r.slice(r.indexOf(">")+1,r.indexOf("</Item>")).trim(),null!=a?n.has(i)?n.get(i)[a]=o:n.set(i,[o]):n.set(i,o)),a=null;const l=n.get("STATISTICS_MINIMUM"),c=n.get("STATISTICS_MAXIMUM"),u=n.get("STATISTICS_MEAN"),d=n.get("STATISTICS_STDDEV");let h=null;if(l&&c){h=[];for(let e=0;e<l.length;e++)h.push({min:parseFloat(l[e]),max:parseFloat(c[e]),avg:u&&parseFloat(u[e]),stddev:d&&parseFloat(d[e])})}const p=n.get("BandName"),f=n.get("WavelengthMin"),m=n.get("WavelengthMax");let y=null;if(p){y=[];for(let e=0;e<p.length;e++)y.push({BandName:p[e],WavelengthMin:f&&parseFloat(f[e]),WavelengthMax:m&&parseFloat(m[e])})}return{statistics:h,bandProperties:y,dataType:n.get("DataType"),rawMetadata:n}};function k(e,t,n,r=0,i=!1,o=4){if(n.values)return!0;const s=n.type,a=n.valueCount;let l=n.valueOffset,c=[];const u=d[s],p=8*u,f=a*u,m=a*d[s]*8;let y,g;const v=8===o?64:32,b=n.valueOffsets;if(m>v&&f>(i?e.byteLength:e?e.byteLength-l+r:0))return n.offlineOffsetSize=[l,f],n.values=null,!1;if(m<=v){if(!t)if(v<=32)l>>>=32-m;else{const e=b?.length?b[0]:l>>>0,t=b?.length?b[1]:Math.round((l-e)/h);m<=32?(l=e>>>32-m,b[0]=l):(l=e*2**(32-m)+(t>>>32-m),b[0]=e,b[1]=t>>>32-m)}if(1===a&&p===v)c=[l];else if(64===v){const e=b?.length?b[0]:l>>>0,t=b?.length?b[1]:Math.round((l-e)/h);let n=e,r=32;for(g=1;g<=a;g++){const e=32-p*g%32;if(r<p){const i=n<<e>>>32-r,o=t<<32-r>>>32-r;n=t,c.push(i+o*2**(p-r)),r-=32-(p-r)}else c.push(n<<e>>>32-p),r-=p;0===r&&(r=32,n=t)}}else for(g=1;g<=a;g++){const e=32-p*g;c.push(l<<e>>>32-p)}}else{l-=r,i&&(l=0);for(let n=l;n<l+f;n+=u){switch(s){case 1:case 2:case 7:y=new DataView(e,n,1).getUint8(0);break;case 3:y=new DataView(e,n,2).getUint16(0,t);break;case 4:case 13:y=new DataView(e,n,4).getUint32(0,t);break;case 5:y=new DataView(e,n,4).getUint32(0,t)/new DataView(e,n+4,4).getUint32(0,t);break;case 6:y=new DataView(e,n,1).getInt8(0);break;case 8:y=new DataView(e,n,2).getInt16(0,t);break;case 9:y=new DataView(e,n,4).getInt32(0,t);break;case 10:y=new DataView(e,n,4).getInt32(0,t)/new DataView(e,n+4,4).getInt32(0,t);break;case 11:y=new DataView(e,n,4).getFloat32(0,t);break;case 12:y=new DataView(e,n,8).getFloat64(0,t);break;case 16:case 18:y=L(new DataView(e,n,8),0,t);break;case 17:y=D(new DataView(e,n,8),0,t);break;default:y=null}c.push(y)}}if(2===s){let e="";const t=c;for(c=[],g=0;g<t.length;g++)0===t[g]&&""!==e?(c.push(e),e=""):e+=String.fromCharCode(t[g]);""===e&&0!==c.length||c.push(e)}return n.values=c,!0}function P(e){const t=e[0],n=w(t,"TILEWIDTH"),r=w(t,"TILELENGTH"),i=w(t,"IMAGEWIDTH"),o=w(t,"IMAGELENGTH"),s=w(t,"BITSPERSAMPLE"),a=w(t,"SAMPLESPERPIXEL"),l=w(t,"SAMPLEFORMAT")??1,c=f(l,s),u=R(t),d=g(t,"GDAL_NODATA");let h=null;d?.length&&(h=d.map((e=>parseFloat(e))),h.some((e=>isNaN(e)))&&(h=null));const m=w(t,"COMPRESSION")??1;let _;switch(m){case 1:_="NONE";break;case 2:case 3:case 4:case 32771:_="CCITT";break;case 5:_="LZW";break;case 6:case 7:_="JPEG";break;case 32773:_="PACKBITS";break;case 8:case 32946:_="DEFLATE";break;case 34712:_="JPEG2000";break;case 34887:_="LERC";break;default:_=String(m)}let S=!0,x="";p.has(m)||(S=!1,x+="unsupported tag compression "+m),l>3&&(S=!1,x+="unsupported tag sampleFormat "+l),1!==s&&2!==s&&4!==s&&s%8!=0&&(S=!1,x+="unsupported tag bitsPerSample "+s);const M=b(t,"GEOASCIIPARAMS");let A;if(M){const e=M.split("|").find((e=>e.includes("ESRI PE String = "))),t=e?e.replace("ESRI PE String = ",""):"";A=t.startsWith("COMPD_CS")||t.startsWith("PROJCS")||t.startsWith("GEOGCS")?{wkid:null,wkt:t}:null}const T=v(t,"GEOTIEPOINTS"),I=v(t,"GEOPIXELSCALE"),C=v(t,"GEOTRANSMATRIX"),k=t.has("GEOKEYDIRECTORY")?t.get("GEOKEYDIRECTORY").data:null;let P,L,D=!1,F=!1;if(k){D=2===w(k,"GTRasterTypeGeoKey");const e=w(k,"GTModelTypeGeoKey");if(2===e){const e=w(k,"GeographicTypeGeoKey");e>=1024&&e<=32766&&(A={wkid:e}),A||32767!==e||(F=!0,A={wkid:4326})}else if(1===e){const e=w(k,"ProjectedCSTypeGeoKey");e>=1024&&e<=32766&&(A={wkid:e})}}if(I&&T&&T.length>=6?(P=[I[0],0,T[3]-T[0]*I[0],0,-Math.abs(I[1]),T[4]-T[1]*I[1]],D&&(P[2]-=.5*P[0]+.5*P[1],P[5]-=.5*P[3]+.5*P[4])):C&&16===C.length&&(P=D?[C[0],C[1],C[3]-.5*C[0],C[4],C[5],C[7]-.5*C[5]]:[C[0],C[1],C[3],C[4],C[5],C[7]]),P){const e=[{x:0,y:o},{x:0,y:0},{x:i,y:o},{x:i,y:0}];let t,n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY;for(let i=0;i<e.length;i++)t=y(e[i],P),n=t.x>n?n:t.x,s=t.x<s?s:t.x,r=t.y>r?r:t.y,a=t.y<a?a:t.y;L={xmin:n,xmax:s,ymin:r,ymax:a,spatialReference:A}}else L={xmin:-.5,ymin:.5-o,xmax:i-.5,ymax:.5,spatialReference:A};F&&(L.xmax-L.xmin>400||Math.max(Math.abs(L.xmin),Math.abs(L.xmax))>361)&&(A=null,L.spatialReference=null);const j=O(e);let Z,z,V,B,$;if(j.length>0){V=Math.round(Math.log(i/w(j[0],"IMAGEWIDTH"))/Math.LN2);const e=j[j.length-1];B=j.length,Z=w(e,"TILEWIDTH"),z=w(e,"TILELENGTH")}Z=null!=B&&B>0?Z||n:null,z=null!=B&&B>0?z||r:null,n&&($=[{maxCol:Math.ceil(i/n)-1,maxRow:Math.ceil(o/r)-1,minRow:0,minCol:0}],j.forEach((e=>{$.push({maxCol:Math.ceil(w(e,"IMAGEWIDTH")/w(e,"TILEWIDTH"))-1,maxRow:Math.ceil(w(e,"IMAGELENGTH")/w(e,"TILELENGTH"))-1,minRow:0,minCol:0})})));const G=b(e[0],"GDAL_METADATA"),q=E(G);x+=" "+U({width:i,height:o,tileWidth:n,tileHeight:r,planes:a,ifds:e});const H=N(e).length===j.length+1,W=j?.length?j.map((e=>({x:i/w(e,"IMAGEWIDTH"),y:o/w(e,"IMAGELENGTH")}))):void 0;return{width:i,height:o,tileWidth:n,tileHeight:r,planes:a,isBSQ:u,pixelType:c,compression:_,noData:h,hasMaskBand:H,isSupported:S,pyramidResolutions:W,message:x,extent:L,isPseudoGeographic:F,affine:I?null:P,firstPyramidLevel:V,maximumPyramidLevel:B,pyramidBlockWidth:Z,pyramidBlockHeight:z,tileBoundary:$,metadata:q}}function R(e,t){const n=g(e,"PLANARCONFIGURATION");return n?2===n[0]:!!t&&t.isBSQ}function O(e){return e.filter((e=>1===w(e,"NEWSUBFILETYPE")))}function N(e){return e.filter((e=>{const t=!(4&~(w(e,"NEWSUBFILETYPE")??0)),n=4===w(e,"PHOTOMETRICINTERPRETATION");return t&&n}))}function L(e,t,n){const r=e.getUint32(t,n),i=e.getUint32(t+4,n);return n?i*h+r:r*h+i}function D(e,t,n){let r=n?e.getInt32(t,n):e.getUint32(t,n),i=n?e.getUint32(t+4,n):e.getInt32(t+4,n);const o=(n?r:i)>=0?1:-1;return n?r*=o:i*=o,o*(n?i*h+r:r*h+i)}function F(e,t,n,r){return r?L(e,t,n):e.getUint32(t,n)}function j(e){const t=new DataView(e,0,16),n=t.getUint16(0,!1);let r=null;if(18761===n)r=!0;else{if(19789!==n)throw new Error("unexpected endianess byte");r=!1}const i=t.getUint16(2,r);if(42!==i&&43!==i)throw new Error("unexpected tiff identifier");let o=4;const s=43===i;if(s){const e=t.getUint16(o,r);if(o+=2,8!==e)throw new Error("unsupported bigtiff version");if(0!==t.getUint16(o,r))throw new Error("unsupported bigtiff version");o+=2}return{littleEndian:r,isBigTiff:s,firstIFDPos:F(t,o,r,s)}}function Z(e,t,n,i=0,o=l.NB,s=4){const a=_(e,t,n,i,o,s);let c;const u=a.ifd;if(u){if(l.RR.forEach(((n,r)=>{u.has(r)&&(c=u.get(r),c.data=_(e,t,c.valueOffset-i,i,n).ifd)})),u.has("GEOKEYDIRECTORY")){c=u.get("GEOKEYDIRECTORY");const n=c.values;if(n&&n.length>4){const r=n[0]+"."+n[1]+"."+n[2];c.data=_(e,t,c.valueOffset+6-i,i,l.YC,2).ifd,c.data&&c.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[r]})}}if(u.has("XMP")){c=u.get("XMP");const e=c.values;"number"==typeof e[0]&&7===c.type&&(c.values=[(0,r.w)(new Uint8Array(e))])}}return a}function U(e){const{width:t,height:n,tileHeight:r,tileWidth:i}=e,o=e.planes,s=i?i*r:t*n,a=w(e.ifds[0],"BITSPERSAMPLE");let l="";return s*o>2**30/(a>8?a/8:1)&&(l=i?"tiled tiff exceeding 1 gigabits per tile is not supported":"scanline tiff exceeding 1 gigabits is not supported"),l}async function z(e,t){const{headerInfo:n,ifd:r,offsets:i,sizes:o}=t,s=[];for(let t=0;t<i.length;t++){o[t];const a=await T(e,n.littleEndian,r,i[t],o[t]||e.byteLength);s.push(a)}const l=R(r,n),c=w(r,"BITSPERSAMPLE"),u=f(w(r,"SAMPLEFORMAT")??1,c),d=w(r,"SAMPLESPERPIXEL")||n.planes,h=m(u),p=w(r,"TILEWIDTH"),y=w(r,"TILELENGTH"),g=w(r,"COMPRESSION")??1,v=p*y;let b;const _=[];let S=s[0];const x=34887===g;for(let e=0;e<d;e++){if(b=new h(v),s.length===d)S=s[e],S.length===v&&(b=S);else if(S.length)if(l||x)b=S.length===v?S:S.slice(v*e,v*(e+1));else for(let t=0;t<v;t++)b[t]=S[t*d+e];_.push(b)}const M=n.noData?n.noData[0]:t.noDataValue,A=n.metadata?n.metadata.statistics:null,I=A?A.map((e=>e.min)):null,E=A?A.map((e=>e.max)):null,k={pixelType:u,width:p,height:y,pixels:_,noDataValue:M};return null!=M?(0,a.Sp)(k,M,{matchAllNoData:t?.matchAllNoData}):I&&E&&t.applyMinMaxConstraint&&(k.mask=C(_,I,E)),k}async function V(e,t={}){const n=t.pyramidLevel||0,r=t.headerInfo||function(e){const{littleEndian:t,isBigTiff:n,firstIFDPos:r}=j(e);let i=r;const o=[];do{const r=Z(e,t,i,0,l.NB,n?8:4);if(!r.success)break;o.push(r.ifd),i=r.nextIFD}while(i>0);return{...P(o),littleEndian:t,isBigTiff:n,ifds:o,pyramidIFDs:O(o),maskIFDs:N(o)}}(e),{ifds:i,noData:o}=r;if(0===i.length)throw new Error("no valid image file directory");const s=U(r);if(s)throw s;let c=null;const u=-1===n?i[i.length-1]:i[n],d=o??t.noDataValue;return c=r.tileWidth?await async function(e,t,n){const r=v(n,"TILEOFFSETS");if(void 0===r)return null;const i=v(n,"TILEBYTECOUNTS"),{width:o,height:s,pixelType:a,tileWidth:l,tileHeight:c}=P([n]),u=R(n,t),d=w(n,"SAMPLESPERPIXEL")||t.planes,h=o*s,p=w(n,"BITSPERSAMPLE"),f=34887===(w(n,"COMPRESSION")??1),y=m(a),g=[];for(let e=0;e<d;e++)g.push(new y(h));let b,_,S,x,M,A,I,C,E,k,O,N,L;const D=Math.ceil(o/l),F=new Uint8Array(h).fill(255);let j=!1;if(p%8==0)if(f&&u&&d>1){const a=Math.round(r.length/d);for(b=0;b<a;b++){A=Math.floor(b/D)*c,I=b%D*l,C=A*o+I;for(let a=0;a<d;a++){const u=b*d+a;for(0===i[u]?(S=null,j=!0):S=await T(e,t.littleEndian,n,r[u],i[u]),k=0,E=C,N=Math.min(l,o-I),O=Math.min(c,s-A),L=g[a],x=0;x<O;x++)for(E=C+x*o,k=x*l,M=0;M<N;M++,E++,k++)S?L[E]=S[k]:F[E]=0}}}else for(b=0;b<r.length;b++)for(A=Math.floor(b/D)*c,I=b%D*l,C=A*o+I,0===i[b]?(S=null,j=!0):S=await T(e,t.littleEndian,n,r[b],i[b]),k=0,E=C,N=Math.min(l,o-I),O=Math.min(c,s-A),_=0;_<d;_++)if(L=g[_],u||f)for(x=0;x<O;x++)for(E=C+x*o,k=l*c*_+x*l,M=0;M<N;M++,E++,k++)S?L[E]=S[k]:F[E]=0;else for(x=0;x<O;x++)for(E=C+x*o,k=x*l*d+_,M=0;M<N;M++,E++,k+=d)S?L[E]=S[k]:F[E]=0;return{width:o,height:s,pixelType:a,pixels:g,mask:j?F:void 0}}(e,r,u):I(e,r,u),c?(null!=d&&(0,a.Sp)(c,d,{matchAllNoData:null==o&&t?.matchAllNoData}),c):c}},20503:function(e,t,n){"use strict";n.d(t,{$Q:function(){return g},FI:function(){return m},KL:function(){return u},Lu:function(){return h},MD:function(){return c},Rn:function(){return y},Ud:function(){return C},Wu:function(){return k},Y2:function(){return f},gf:function(){return E}});var r=n(1817),i=n(83371),o=n(86924);const s=new Map;s.set("meter-per-second",1),s.set("kilometer-per-hour",.277778),s.set("knots",.514444),s.set("feet-per-second",.3048),s.set("mile-per-hour",.44704);const a=180/Math.PI,l=5,c=new r.J({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"});function u(e,t){return s.get(e)/s.get(t)||1}function d(e){return(450-e)%360}function h(e,t="geographic"){const[n,r]=e,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n)*a;return o=(360+o)%360,"geographic"===t&&(o=d(o)),[i,o]}function p(e,t="geographic"){let n=e[1];"geographic"===t&&(n=d(n)),n%=360;const r=e[0];return[r*Math.cos(n/a),r*Math.sin(n/a)]}function f(e,t,n,r="geographic"){if(!(0,o.AB)(e)||null==n)return e;const i="vector-magdir"===t?e.clone():m(e,t),s=i.pixels[1];for(let e=0;e<s.length;e++)s[e]="geographic"===r?(s[e]+n[e]+270)%360:(s[e]+360-n[e])%360;return"vector-magdir"===t?i:m(i,"vector-magdir")}function m(e,t,n="geographic",r=1){if(!(0,o.AB)(e))return e;const{pixels:s,width:a,height:l}=e,c=a*l,u=s[0],d=s[1],f=e.pixelType.startsWith("f")?e.pixelType:"f32",m=i.A.createEmptyBand(f,c),y=i.A.createEmptyBand(f,c);let g=0;for(let e=0;e<l;e++)for(let e=0;e<a;e++)"vector-uv"===t?([m[g],y[g]]=h([u[g],d[g]],n),m[g]*=r):([m[g],y[g]]=p([u[g],d[g]],n),m[g]*=r,y[g]*=r),g++;const v=new i.A({pixelType:f,width:e.width,height:e.height,mask:e.mask,validPixelCount:e.validPixelCount,maskIsAlpha:e.maskIsAlpha,pixels:[m,y]});return v.updateStatistics(),v}function y(e,t,n=1){if(1===n||!(0,o.AB)(e))return e;const r=e.clone(),{pixels:i,width:s,height:a}=r,l=i[0],c=i[1];let u=0;for(let e=0;e<a;e++)for(let e=0;e<s;e++)"vector-uv"===t?(l[u]*=n,c[u]*=n):l[u]*=n,u++;return r.updateStatistics(),r}function g(e,t,n,r,i){if(null==i||!i.spatialReference.equals(e.spatialReference))return{extent:e,width:Math.round(t/r),height:Math.round(n/r),resolution:e.width/t};const o=i.xmin,s=i.ymax,a=(e.xmax-e.xmin)/t*r,l=(e.ymax-e.ymin)/n*r,c=(a+l)/2;return e.xmin=o+Math.floor((e.xmin-o)/a)*a,e.xmax=o+Math.ceil((e.xmax-o)/a)*a,e.ymin=s+Math.floor((e.ymin-s)/l)*l,e.ymax=s+Math.ceil((e.ymax-s)/l)*l,{extent:e,width:Math.round(e.width/a),height:Math.round(e.height/l),resolution:c}}const v=b(0,0,0);function b(e=0,t=0,n=Math.PI,r=!0){r&&(n=(2*Math.PI-n)%(2*Math.PI));const i=r?-1:1,o=13*i,s=-7*i,a=-2*i,l=-16*i,c=21.75,[u,d]=_(0,t+o,n,c),[h,p]=_(e-5.5,t+s,n,c),[f,m]=_(e+5.5,t+s,n,c),[y,g]=_(e-1.5,t+a,n,c),[v,b]=_(e+1.5,t+a,n,c),[w,S]=_(e-1.5,t+l,n,c),[x,M]=_(e+1.5,t+l,n,c);return[u,d,h,p,y,g,v,b,f,m,w,S,x,M]}function w(e=0,t=Math.PI,n=!0){n&&(t=(2*Math.PI-t)%(2*Math.PI));const r=n?-1:1,i=5*r,o=20*r,s=25*r,a=45,c=2*r,u=n?1:-1,d=5*u;let[h,p]=[0+d,0-o],[f,m]=[h+2*u,p],[y,g]=[f-0*u,m+c],[v,b]=[0-d,0-s],[w,S]=[v+0*u,b-c],x=Math.ceil(e/l),M=Math.floor(x/10);x-=8*M;const A=[],T=[];for(let e=0;e<x/2;e++,M--){M<=0&&x%2==1&&e===(x-1)/2&&(v=0,w=v+0*u,b=(b+p)/2,S=b-c);const[n,r]=_(v,b,t,a);if(M>0){const[e,i]=_(f,b,t,a),[o,s]=_(h,p,t,a);A.push(e),A.push(i),A.push(n),A.push(r),A.push(o),A.push(s)}else{const[e,i]=_(f,m,t,a),[o,s]=_(y,g,t,a),[l,c]=_(w,S,t,a);T.push(n),T.push(r),T.push(l),T.push(c),T.push(o),T.push(s),T.push(e),T.push(i)}b+=i,p+=i,m+=i,g+=i,S+=i}const[I,C]=_(0+d,0+o,t,a),E=7*u,[k,P]=_(0+E,0+o,t,a),[R,O]=_(0+d,0-s,t,a),[N,L]=_(0+E,0-s,t,a);return{pennants:A,barbs:T,shaft:[I,C,k,P,R,O,N,L]}}function _(e,t,n,r=1){const i=Math.sqrt(e*e+t*t)/r,o=(2*Math.PI+Math.atan2(t,e))%(2*Math.PI);return[i,(2*Math.PI+o-n)%(2*Math.PI)]}const S=[0,1,3,6,10,16,21,27,33,40,47,55,63],x=[0,.5,1,1.5,2],M=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function A(e,t,n,r){const i=u(r||"knots",n);let o;for(o=1;o<t.length;o++)if(o===t.length-1){if(e<t[o]*i)break}else if(e<=t[o]*i)break;return Math.min(o-1,t.length-2)}function T(e,t,n,r,i){let o=0;switch(t){case"beaufort_kn":o=A(e,S,"knots",n);break;case"beaufort_km":o=A(e,S,"kilometer-per-hour",n);break;case"beaufort_ft":o=A(e,S,"feet-per-second",n);break;case"beaufort_m":o=A(e,S,"meter-per-second",n);break;case"classified_arrow":o=A(e,i??[],r,n);break;case"ocean_current_m":o=A(e,x,"meter-per-second",n);break;case"ocean_current_kn":o=A(e,M,"knots",n)}return o}const I=[];function C(e,t){let n=0,r=0;const{width:i,height:o,mask:s}=e,a=e.pixels[0],d=[],h=[],p=u(c.fromJSON(t.inputUnit),"knots"),f="wind_speed"===t.style?l:Number.MAX_VALUE;for(let e=0;e<o;e++)for(let t=0;t<i;t++){const l=a[e*i+t]*p;if((!s||s[e*i+t])&&l<f){for(let r=0;r<4;r++)d[n++]=(t+.5)/i,d[n++]=(e+.5)/o,d[n++]=r<2?-.5:.5,d[n++]=r%2==0?-.5:.5,d[n++]=0,d[n++]=l;const s=4*(n/24-1);h[r++]=s,h[r++]=s+1,h[r++]=s+2,h[r++]=s+1,h[r++]=s+2,h[r++]=s+3}}return{vertexData:new Float32Array(d),indexData:new Uint32Array(h)}}function E(e,t){return"simple_scalar"===t.style?C(e,t):"wind_speed"===t.style?function(e,t){if(0===I.length)for(let e=0;e<30;e++)I.push(w(5*e,0,!t.invertDirection));const n=u(c.fromJSON(t.inputUnit),"knots"),{width:r,height:i,mask:o}=e,s=e.pixels[0],a=e.pixels[1],d=[],h=[];let p=0,f=0;for(let e=0;e<i;e++)for(let t=0;t<r;t++){const c=e*r+t,u=s[c]*n;if((!o||o[e*r+t])&&u>=l){const n=(a[c]+360)%360/180*Math.PI,{pennants:o,barbs:s,shaft:l}=I[Math.min(Math.floor(u/5),29)];if(o.length+s.length===0)continue;let m=d.length/6;const y=(t+.5)/r,g=(e+.5)/i;for(let e=0;e<o.length;e+=2)d[p++]=y,d[p++]=g,d[p++]=o[e],d[p++]=o[e+1]+n,d[p++]=0,d[p++]=u;for(let e=0;e<s.length;e+=2)d[p++]=y,d[p++]=g,d[p++]=s[e],d[p++]=s[e+1]+n,d[p++]=0,d[p++]=u;for(let e=0;e<l.length;e+=2)d[p++]=y,d[p++]=g,d[p++]=l[e],d[p++]=l[e+1]+n,d[p++]=0,d[p++]=u;for(let e=0;e<o.length/6;e++)h[f++]=m,h[f++]=m+1,h[f++]=m+2,m+=3;for(let e=0;e<s.length/8;e++)h[f++]=m,h[f++]=m+1,h[f++]=m+2,h[f++]=m+1,h[f++]=m+2,h[f++]=m+3,m+=4;h[f++]=m+0,h[f++]=m+1,h[f++]=m+2,h[f++]=m+1,h[f++]=m+3,h[f++]=m+2,m+=4}}return{vertexData:new Float32Array(d),indexData:new Uint32Array(h)}}(e,t):function(e,t){const{style:n,inputUnit:r,outputUnit:i,breakValues:o}=t,s=c.fromJSON(r),a=c.fromJSON(i);let l=0,u=0;const{width:d,height:h,mask:p}=e,f=e.pixels[0],m=e.pixels[1],y=null!=p?p.filter((e=>e>0)).length:d*h,g=new Float32Array(42*y),w=new Uint32Array(15*y),_=t.invertDirection?b(0,0,0,!1):v;for(let e=0;e<h;e++)for(let t=0;t<d;t++){const r=e*d+t;if(!p||p[e*d+t]){const i=(m[r]+360)%360/180*Math.PI,c=T(f[r],n,s,a,o);for(let n=0;n<_.length;n+=2)g[l++]=(t+.5)/d,g[l++]=(e+.5)/h,g[l++]=_[n],g[l++]=_[n+1]+i,g[l++]=c,g[l++]=f[r];const p=7*(l/42-1);w[u++]=p,w[u++]=p+1,w[u++]=p+2,w[u++]=p+0,w[u++]=p+4,w[u++]=p+3,w[u++]=p+0,w[u++]=p+2,w[u++]=p+3,w[u++]=p+2,w[u++]=p+5,w[u++]=p+3,w[u++]=p+5,w[u++]=p+6,w[u++]=p+3}}return{vertexData:g,indexData:w}}(e,t)}function k(e,t,n,r=[0,0],o=.5){const{width:s,height:a,mask:l}=e,[c,u]=e.pixels,[d,f]=r,m=Math.round((s-d)/n),y=Math.round((a-f)/n),g=m*y,v=new Float32Array(g),b=new Float32Array(g),w=new Uint8Array(g),_="vector-uv"===t;for(let e=0;e<y;e++)for(let t=0;t<m;t++){let r=0;const i=e*m+t,y=Math.max(0,e*n+f),g=Math.max(0,t*n+d),S=Math.min(a,y+n),x=Math.min(s,g+n);for(let e=y;e<S;e++)for(let t=g;t<x;t++){const n=e*s+t;if(!l||l[n]){r++;const e=_?[c[n],u[n]]:[c[n],(360+u[n])%360],[t,o]=_?e:p(e);v[i]+=t,b[i]+=o}}if(r>=(S-y)*(x-g)*(1-o)){w[i]=1;const[e,t]=h([v[i]/r,b[i]/r]);v[i]=e,b[i]=t}else w[i]=0,v[i]=0,b[i]=0}const S=new i.A({width:m,height:y,pixels:[v,b],mask:w});return S.updateStatistics(),S}},20593:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325)),l=n(30361);let c=r=class extends o.A{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new r({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,i._)([(0,s.MZ)({...l.pI,json:{write:{isRequired:!0}}})],c.prototype,"screenLength",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0,default:0}})],c.prototype,"minWorldLength",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"maxWorldLength",void 0),c=r=(0,i._)([(0,a.$)("esri.symbols.support.Symbol3DVerticalOffset")],c)},20695:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,i.default)(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t};var i=r(n(95039)),o=r(n(10427));e.exports=t.default},20700:function(e,t,n){"use strict";var r;n.d(t,{u:function(){return r}}),function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"}(r||(r={}))},20857:function(e,t,n){"use strict";n.d(t,{A:function(){return w}});var r,i=n(82392),o=n(20879),s=n(14755),a=n(61090),l=n(84977),c=n(80861),u=n(61985),d=n(78851),h=n(81482),p=(n(6273),n(67498),n(26325)),f=n(46030),m=n(56053),y=n(54483),g=n(62942),v=n(4331);function b(e){if(null==e)return null;const t={};for(const n in e){const r=e[n];r&&(t[n]=r.toJSON())}return 0!==Object.keys(t).length?t:null}let w=class extends(s.A.ClonableMixin(l.A)){static{r=this}constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:(0,d.c)(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&(0,a.eF)(c.A.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),"mesh"!==e?.type&&this._notifyLayer("geometry",t,e))}set popupTemplate(e){const t=this._get("popupTemplate");t!==e&&(this._set("popupTemplate",e),this._notifyLayer("popupTemplate",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new r({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const n of[t,this.sourceLayer,this.layer])if(n){if("popupTemplate"in n&&n.popupTemplate)return n.popupTemplate;if(e&&"defaultPopupTemplate"in n&&null!=n.defaultPopupTemplate)return n.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const n=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",n,t,e)}else this.attributes={[e]:t}}getObjectId(){const e=this.sourceLayer??this.layer;return e?(0,g.r)(this,e):null}getGlobalId(){const e=this.sourceLayer??this.layer;return e&&"globalIdField"in e&&e.globalIdField?this.getAttribute(e.globalIdField):null}toJSON(){return{aggregateGeometries:b(this.aggregateGeometries),geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:(0,f.W)(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if("mesh"===t?.type){const n={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",n,n,e.action)}}_notifyLayer(e,t,n,r){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const i={graphic:this,property:e,oldValue:t,newValue:n};"origin-transform"===e&&(i.action=r),"attributes"===e&&(i.attributeName=r),this.layer.graphicChanged(i)}_watchMeshGeometryChanges(){this.addHandles([(0,u.z7)((()=>"mesh"===this.geometry?.type&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0),(({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())})),(0,u.z7)((()=>"mesh"===this.geometry?.type?{vertexAttributes:this.geometry.vertexAttributes}:void 0),(()=>{const e=this.geometry;"mesh"===e?.type&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)}),{equals:(e,t)=>e===t,sync:!0})])}};(0,i._)([(0,h.MZ)({value:null,json:{read:function(e){if(!e)return null;const t={};for(const n in e){const r=(0,m.rS)(e[n]);r&&(t[n]=r)}return 0!==Object.keys(t).length?t:null}}})],w.prototype,"aggregateGeometries",null),(0,i._)([(0,h.MZ)({value:null})],w.prototype,"attributes",null),(0,i._)([(0,h.MZ)({value:null,types:y.yR,json:{read:m.rS}})],w.prototype,"geometry",null),(0,i._)([(0,h.MZ)({type:Boolean})],w.prototype,"isAggregate",void 0),(0,i._)([(0,h.MZ)({clonable:!1})],w.prototype,"layer",void 0),(0,i._)([(0,h.MZ)({clonable:"reference"})],w.prototype,"origin",void 0),(0,i._)([(0,h.MZ)({type:o.A,value:null})],w.prototype,"popupTemplate",null),(0,i._)([(0,h.MZ)({clonable:"reference"})],w.prototype,"sourceLayer",void 0),(0,i._)([(0,h.MZ)({value:null,types:v.Es})],w.prototype,"symbol",null),(0,i._)([(0,h.MZ)({clonable:!1,json:{read:!1,write:!1}})],w.prototype,"_version",void 0),(0,i._)([(0,h.MZ)({type:Boolean,value:!0})],w.prototype,"visible",null),w=r=(0,i._)([(0,p.$)("esri.Graphic")],w)},20879:function(e,t,n){"use strict";n.d(t,{A:function(){return W}});var r=n(82392),i=n(14755),o=n(58842),s=n(84977),a=n(15565),l=n(80861),c=n(37623),u=n(81482),d=n(77380),h=n(25376),p=n(26325),f=n(48524),m=n(8636),y=n(46227),g=n(6135),v=n(23547),b=n(60854),w=n(70261),_=n(79640),S=n(54213),x=n(57705),M=n(834),A=n(62489);const T={base:null,key:"type",typeMap:{attachment:g.A,media:S.A,text:M.A,expression:w.A,field:_.A,relationship:x.A,utilityNetworkAssociations:A.A}},I={base:null,key:"type",typeMap:{attachment:g.A,media:S.A,text:M.A,expression:w.A,field:_.A,relationship:x.A}};var C,E=n(47096),k=n(22980);n(6273),n(67498);let P=C=class extends s.A{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new C({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,r._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],P.prototype,"returnTopmostRaster",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],P.prototype,"showNoDataRecords",void 0),P=C=(0,r._)([(0,p.$)("esri.popup.LayerOptions")],P);const R=P;var O,N=n(10357);let L=O=class extends s.A{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new O({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,a.o8)(this.orderByFields):null})}};(0,r._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],L.prototype,"showRelatedRecords",void 0),(0,r._)([(0,u.MZ)({type:[N.A],json:{write:!0}})],L.prototype,"orderByFields",void 0),L=O=(0,r._)([(0,p.$)("esri.popup.RelatedRecordsInfo")],L);const D=L;var F=n(71973),j=n(33262),Z=n(56851),U=n(46883);const z="relationships/",V="expression/",B=o.A.ofType({key:"type",defaultKeyValue:"button",base:j.A,typeMap:{button:Z.A,toggle:U.A}}),$={base:v.A,key:"type",typeMap:{media:S.A,custom:b.A,text:M.A,attachments:g.A,fields:_.A,expression:w.A,relationship:x.A,utilityNetworkAssociations:A.A}},G=new Set(["attachments","fields","media","text","expression","relationship"]),q=new Set([...G,"utility-network-associations"]);let H=class extends(i.A.ClonableMixin(s.A)){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map((e=>(0,m.aq)($,e))):"string"==typeof e||"function"==typeof e||e instanceof HTMLElement||(0,c.$X)(e)?e:(l.A.getLogger(this).error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:n}=t;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(t.description,t.mediaInfos,n):this._readPopupInfo(t)}writeWebSceneContent(e,t,n,r){this._writePopupTemplateContent(e,t,r)}writeWebMapContent(e,t,n,r){this._writePopupTemplateContent(e,t,r)}writeFieldInfos(e,t,n,r){const{content:i}=this,o=Array.isArray(i)?i:null;if(e){const n=o?o.filter((e=>"fields"===e.type)):[],i=n.length&&n.every((e=>e.fieldInfos?.length));t.fieldInfos=e.filter(Boolean).map((e=>{const t=e.toJSON(r);return i&&(t.visible=!1),t}))}if(o)for(const e of o)"fields"===e.type&&this._writeFieldsContent(e,t)}writeLayerOptions(e,t,n,r){t[n]=!e||null===e.showNoDataRecords&&null===e.returnTopmostRaster?null:e.toJSON(r)}writeTitle(e,t){t.title=e||""}async collectRequiredFields(e,t){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...n,...this._getContentExpressionInfos(this.content,n)]),(0,y._w)(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writePopupTemplateContent(e,t,n){"string"!=typeof e?Array.isArray(e)&&(t.popupElements=e.filter((e=>"web-scene"===n?.origin?G.has(e.type):q.has(e.type))).map((e=>e?.toJSON(n))),t.popupElements.forEach((e=>{"attachments"===e.type?this._writeAttachmentContent(t):"media"===e.type?this._writeMediaContent(e,t):"text"===e.type?this._writeTextContent(e,t):"relationship"===e.type&&this._writeRelationshipContent(e,t)}))):t.description=e}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const n=(0,a.o8)(e.fieldInfos);Array.isArray(t.fieldInfos)?n.forEach((e=>{const n=t.fieldInfos.find((t=>t.fieldName?.toLowerCase()===e.fieldName?.toLowerCase()));n?n.visible=!0:t.fieldInfos.push(e)})):t.fieldInfos=n}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,t){const n=e.orderByFields?.map((t=>this._toFieldOrderJSON(t,e.relationshipId)))||[],r=[...t.relatedRecordsInfo?.orderByFields||[],...n];t.relatedRecordsInfo={showRelatedRecords:!0,...r?.length&&{orderByFields:r}}}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const n=(0,a.o8)(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...n]:t.mediaInfos=n}_readPopupInfoElements(e,t,n){const r={description:!1,mediaInfos:!1};return n.map((n=>"media"===n.type?(n.mediaInfos||!t||r.mediaInfos||(n.mediaInfos=t,r.mediaInfos=!0),S.A.fromJSON(n)):"text"===n.type?(n.text||!e||r.description||(n.text=e,r.description=!0),M.A.fromJSON(n)):"attachments"===n.type?g.A.fromJSON(n):"fields"===n.type?_.A.fromJSON(n):"expression"===n.type?w.A.fromJSON(n):"relationship"===n.type?x.A.fromJSON(n):"utilityNetworkAssociations"===n.type?A.A.fromJSON(n):void 0)).filter(Boolean)}_toRelationshipContent(e){const{field:t,order:n}=e;if(!t?.startsWith(z))return null;const r=t.replace(z,"").split("/");if(2!==r.length)return null;const i=parseInt(r[0],10),o=r[1];return!Number.isNaN(i)&&o?x.A.fromJSON({relationshipId:i,orderByFields:[{field:o,order:n}]}):null}_toFieldOrderJSON(e,t){const{order:n,field:r}=e;return{field:`${z}${t}/${r}`,order:n}}_readPopupInfo({description:e,mediaInfos:t,showAttachments:n,relatedRecordsInfo:r={showRelatedRecords:!1}}){const i=[];e?i.push(new M.A({text:e})):i.push(new _.A),Array.isArray(t)&&t.length&&i.push(S.A.fromJSON({mediaInfos:t})),n&&i.push(g.A.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:s}=r;return o&&s?.length&&s.forEach((e=>{const t=this._toRelationshipContent(e);t&&i.push(t)})),i.length?i:e}_getContentElementFields(e){const t=e?.type;if("attachments"===t)return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if("custom"===t)return e.outFields||[];if("fields"===t)return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if("media"===t){const t=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...t.reduce(((e,t)=>[...e,...this._getMediaInfoFields(t)]),[])]}return"text"===t?this._extractFieldNames(e.text):"relationship"===t||"utility-network-associations"===t?[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)]:[]}_getMediaInfoFields(e){const{caption:t,title:n,value:r}=e,i=r||{},{fields:o,normalizeField:s,tooltipField:a,sourceURL:l,linkURL:c}=i,u=[...this._extractFieldNames(n),...this._extractFieldNames(t),...this._extractFieldNames(l),...this._extractFieldNames(c),...o??[]];return s&&u.push(s),a&&u.push(a),u}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce(((e,t)=>[...e,..."expression"===t.type&&t.expressionInfo?[t.expressionInfo]:[]]),t):[]}_getContentFields(e){return"string"==typeof e?this._extractFieldNames(e):Array.isArray(e)?e.reduce(((e,t)=>[...e,...this._getContentElementFields(t)]),[]):[]}async _collectExpressionInfoFields(e,t,n){n&&await Promise.all(n.map((n=>(0,y.Dx)(e,t,n.expression))))}_getFieldInfoFields(e){return e?e.filter((({fieldName:e,visible:t})=>!(void 0!==t&&!t||!e||e.startsWith(z)||e.startsWith(V)))).map((e=>e.fieldName)):[]}_getActionsFields(e){return e?e.toArray().reduce(((e,t)=>[...e,...this._getActionFields(t)]),[]):[]}_getActionFields(e){const{className:t,title:n,type:r}=e,i="button"===r||"toggle"===r?e.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(t),...this._extractFieldNames(i)]}_getTitleFields(e){return"string"==typeof e?this._extractFieldNames(e):[]}_extractFieldNames(e){return(0,y.nw)(e).filter((e=>!(0===e.indexOf(z)||0===e.indexOf(V))))}};(0,r._)([(0,u.MZ)({type:B})],H.prototype,"actions",void 0),(0,r._)([(0,u.MZ)()],H.prototype,"content",void 0),(0,r._)([(0,d.w)("content")],H.prototype,"castContent",null),(0,r._)([(0,h.w)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],H.prototype,"readContent",null),(0,r._)([(0,f.K)("web-scene","content",{popupElements:{type:o.A.ofType(I)},showAttachments:{type:Boolean},mediaInfos:{type:o.A.ofType(F.g)},description:{type:String},relatedRecordsInfo:{type:D}})],H.prototype,"writeWebSceneContent",null),(0,r._)([(0,f.K)("content",{popupElements:{type:o.A.ofType(T)},showAttachments:{type:Boolean},mediaInfos:{type:o.A.ofType(F.g)},description:{type:String},relatedRecordsInfo:{type:D}})],H.prototype,"writeWebMapContent",null),(0,r._)([(0,u.MZ)({type:[E.A],json:{write:!0}})],H.prototype,"expressionInfos",void 0),(0,r._)([(0,u.MZ)({type:[k.A]})],H.prototype,"fieldInfos",void 0),(0,r._)([(0,f.K)("fieldInfos")],H.prototype,"writeFieldInfos",null),(0,r._)([(0,u.MZ)({type:R})],H.prototype,"layerOptions",void 0),(0,r._)([(0,f.K)("layerOptions")],H.prototype,"writeLayerOptions",null),(0,r._)([(0,u.MZ)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],H.prototype,"lastEditInfoEnabled",void 0),(0,r._)([(0,u.MZ)()],H.prototype,"outFields",void 0),(0,r._)([(0,u.MZ)()],H.prototype,"overwriteActions",void 0),(0,r._)([(0,u.MZ)()],H.prototype,"returnGeometry",void 0),(0,r._)([(0,u.MZ)({json:{type:String}})],H.prototype,"title",void 0),(0,r._)([(0,f.K)("title")],H.prototype,"writeTitle",null),H=(0,r._)([(0,p.$)("esri.PopupTemplate")],H);const W=H},20923:function(e,t,n){"use strict";n.d(t,{LF:function(){return u},dM:function(){return d},sU:function(){return l}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(26325)),s=n(63910),a=n(77498);const l={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:s.K}},"portal-item":{read:!0,write:{layerContainerTypes:s.K}}}}},c={read:{reader:a.LF},write:{allowNull:!0,writer:a.M9,layerContainerTypes:s.K}},u={json:{read:!1,write:!1,origins:{"web-map":c,"portal-item":c}}},d=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,r._)([(0,i.MZ)(l)],t.prototype,"blendMode",void 0),(0,r._)([(0,i.MZ)(u)],t.prototype,"effect",void 0),t=(0,r._)([(0,o.$)("esri.layers.mixins.BlendLayer")],t),t}},20930:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r,l,c,u,d,h,p;(0,o.default)(1,arguments);var f=(0,a.getDefaultOptions)(),m=(0,s.default)(null!==(n=null!==(r=null!==(l=null!==(c=null==t?void 0:t.weekStartsOn)&&void 0!==c?c:null==t||null===(u=t.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:f.weekStartsOn)&&void 0!==r?r:null===(h=f.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=(0,i.default)(e),g=y.getUTCDay(),v=(g<m?7:0)+g-m;return y.setUTCDate(y.getUTCDate()-v),y.setUTCHours(0,0,0,0),y};var i=r(n(95039)),o=r(n(10427)),s=r(n(9784)),a=n(35886);e.exports=t.default},21120:function(e,t,n){"use strict";n.d(t,{E:function(){return A},w:function(){return a}});var r=n(3223),i=n(17420),o=(n(6273),n(41785)),s=n(79207);class a{constructor(e=9,t){this._compareMinX=h,this._compareMinY=p,this._toBBox=e=>e,this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this._toBBox=t:this._initFormat(t)),this.clear()}destroy(){this.clear(),_.prune(),S.prune(),x.prune(),M.prune()}all(e){l(this._data,e)}search(e,t){let n=this._data;const r=this._toBBox;if(b(e,n))for(_.clear();n;){for(let i=0,o=n.children.length;i<o;i++){const o=n.children[i],s=n.leaf?r(o):o;b(e,s)&&(n.leaf?t(o):v(e,s)?l(o,t):_.push(o))}n=_.pop()}}collides(e){let t=this._data;const n=this._toBBox;if(!b(e,t))return!1;for(_.clear();t;){for(let r=0,i=t.children.length;r<i;r++){const i=t.children[r],o=t.leaf?n(i):i;if(b(e,o)){if(t.leaf||v(e,o))return!0;_.push(i)}}t=_.pop()}return!1}load(e){if(!e.length)return this;if(e.length<this._minEntries){for(let t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(this._data.children.length)if(this._data.height===t.height)this._splitRoot(this._data,t);else{if(this._data.height<t.height){const e=this._data;this._data=t,t=e}this._insert(t,this._data.height-t.height-1,!0)}else this._data=t;return this}insert(e){return e&&this._insert(e,this._data.height-1),this}clear(){return this._data=new I([]),this}remove(e){if(!e)return this;let t,n=this._data,o=null,s=0,a=!1;const l=this._toBBox(e);for(x.clear(),M.clear();n||x.length>0;){if(n||(n=x.pop(),o=x.data[x.length-1],s=M.pop()??0,a=!0),n.leaf&&(t=(0,r.qh)(n.children,(0,i.zI)(e),n.children.length,n.indexHint),-1!==t))return n.children.splice(t,1),x.push(n),this._condense(x),this;a||n.leaf||!v(n,l)?o?(s++,n=o.children[s],a=!1):n=null:(x.push(n),M.push(s),s=0,o=n,n=n.children[0])}return this}toJSON(){return this._data}fromJSON(e){return this._data=e,this}_build(e,t,n,r){const i=n-t+1;let o=this._maxEntries;if(i<=o){const r=new I(e.slice(t,n+1));return c(r,this._toBBox),r}r||(r=Math.ceil(Math.log(i)/Math.log(o)),o=Math.ceil(i/o**(r-1)));const s=new C([]);s.height=r;const a=Math.ceil(i/o),l=a*Math.ceil(Math.sqrt(o));w(e,t,n,l,this._compareMinX);for(let i=t;i<=n;i+=l){const t=Math.min(i+l-1,n);w(e,i,t,a,this._compareMinY);for(let n=i;n<=t;n+=a){const i=Math.min(n+a-1,t);s.children.push(this._build(e,n,i,r-1))}}return c(s,this._toBBox),s}_insert(e,t,n){const r=this._toBBox,i=n?e:r(e);x.clear();const o=function(e,t,n,r){for(;r.push(t),!0!==t.leaf&&r.length-1!==n;){let n,r=1/0,i=1/0;for(let o=0,s=t.children.length;o<s;o++){const s=t.children[o],a=f(s),l=y(e,s)-a;l<i?(i=l,r=a<r?a:r,n=s):l===i&&a<r&&(r=a,n=s)}t=n||t.children[0]}return t}(i,this._data,t,x);for(o.children.push(e),d(o,i);t>=0&&x.data[t].children.length>this._maxEntries;)this._split(x,t),t--;!function(e,t,n){for(let r=n;r>=0;r--)d(t.data[r],e)}(i,x,t)}_split(e,t){const n=e.data[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);const o=this._chooseSplitIndex(n,i,r);if(!o)return;const s=n.children.splice(o,n.children.length-o),a=n.leaf?new I(s):new C(s);a.height=n.height,c(n,this._toBBox),c(a,this._toBBox),t?e.data[t-1].children.push(a):this._splitRoot(n,a)}_splitRoot(e,t){this._data=new C([e,t]),this._data.height=e.height+1,c(this._data,this._toBBox)}_chooseSplitIndex(e,t,n){let r,i,o;r=i=1/0;for(let s=t;s<=n-t;s++){const t=u(e,0,s,this._toBBox),a=u(e,s,n,this._toBBox),l=g(t,a),c=f(t)+f(a);l<r?(r=l,o=s,i=c<i?c:i):l===r&&c<i&&(i=c,o=s)}return o}_chooseSplitAxis(e,t,n){const r=e.leaf?this._compareMinX:h,i=e.leaf?this._compareMinY:p;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)}_allDistMargin(e,t,n,r){e.children.sort(r);const i=this._toBBox,o=u(e,0,t,i),s=u(e,n-t,n,i);let a=m(o)+m(s);for(let r=t;r<n-t;r++){const t=e.children[r];d(o,e.leaf?i(t):t),a+=m(o)}for(let r=n-t-1;r>=t;r--){const t=e.children[r];d(s,e.leaf?i(t):t),a+=m(s)}return a}_condense(e){for(let t=e.length-1;t>=0;t--){const n=e.data[t];if(0===n.children.length)if(t>0){const i=e.data[t-1],o=i.children;o.splice((0,r.qh)(o,n,o.length,i.indexHint),1)}else this.clear();else c(n,this._toBBox)}}_initFormat(e){const t=["return a"," - b",";"];this._compareMinX=new Function("a","b",t.join(e[0])),this._compareMinY=new Function("a","b",t.join(e[1])),this._toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}function l(e,t){let n=e;for(S.clear();n;){if(!0===n.leaf)for(const e of n.children)t((0,i.zI)(e));else S.pushArray(n.children);n=S.pop()??null}}function c(e,t){u(e,0,e.children.length,t,e)}function u(e,t,n,r,i){i||(i=new I([])),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o,s=t;s<n;s++)o=e.children[s],d(i,e.leaf?r(o):o);return i}function d(e,t){e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY)}function h(e,t){return e.minX-t.minX}function p(e,t){return e.minY-t.minY}function f(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function m(e){return e.maxX-e.minX+(e.maxY-e.minY)}function y(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function g(e,t){const n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function v(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function b(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function w(e,t,n,r,i){const o=[t,n];for(;o.length;){const t=o.pop(),n=o.pop();if(t-n<=r)continue;const a=n+Math.ceil((t-n)/r/2)*r;(0,s.q)(e,a,n,t,i),o.push(n,a,a,t)}}const _=new o.A,S=new o.A,x=new o.A,M=new o.A({deallocator:void 0});class A{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class T extends A{constructor(){super(...arguments),this.height=1,this.indexHint=new r.vW}}class I extends T{constructor(e){super(),this.children=e,this.leaf=!0}}class C extends T{constructor(e){super(),this.children=e,this.leaf=!1}}},21132:function(e,t,n){"use strict";n.d(t,{B:function(){return s},c:function(){return g},i:function(){return a},n:function(){return T},p:function(){return l},s:function(){return m}});var r=n(60939);const i=new RegExp("\\.(0+)?$"),o=new RegExp("0+$");class s{static{this.DECIMALS=100}static{this.ROUNDED=!0}static{this.SHIFT=BigInt("1"+"0".repeat(this.DECIMALS))}constructor(e){if(e instanceof s)return e;const[t,n]=function(e){const t=e.split(/[eE]/);if(1===t.length)return e;const n=+e;if(Number.isSafeInteger(n))return`${n}`;const r="-"===e.charAt(0),o=+t[1],s=t[0].split("."),a=(r?s[0].substring(1):s[0])||"",l=s[1]||"",u=(e,t)=>{const n=Math.abs(t)-e.length,r=n>0?`${"0".repeat(n)}${e}`:e;return`${r.slice(0,t)}.${r.slice(t)}`},d=(e,t)=>{const n=t>e.length?`${e}${"0".repeat(t-e.length)}`:e;return`${n.slice(0,t)}.${n.slice(t)}`},h=o>0?`${a}${d(l,o)}`:`${u(a,o)}${l}`;return`${r?"-":""}${"."===h.charAt(0)?"0":""}${h.replace(i,"").replace(c,"")}`}(e).split(".").concat("");this.value=BigInt(t+n.padEnd(s.DECIMALS,"0").slice(0,s.DECIMALS))+BigInt(s.ROUNDED&&n[s.DECIMALS]>="5"),this.isNegative="-"===e.charAt(0)}static{this._divRound=(e,t)=>s.fromBigInt(e/t+(s.ROUNDED?e*BigInt(2)/t%BigInt(2):BigInt(0)))}static{this.fromBigInt=e=>Object.assign(Object.create(s.prototype),{value:e,isNegative:e<BigInt(0)})}getIntegersAndDecimals(){const e=this.value.toString().replace("-","").padStart(s.DECIMALS+1,"0");return{integers:e.slice(0,-s.DECIMALS),decimals:e.slice(-s.DECIMALS).replace(o,"")}}toString(){const{integers:e,decimals:t}=this.getIntegersAndDecimals();return`${this.isNegative?"-":""}${e}${t.length?"."+t:""}`}formatToParts(e){const{integers:t,decimals:n}=this.getIntegersAndDecimals(),r=e.numberFormatter.formatToParts(BigInt(t));return this.isNegative&&r.unshift({type:"minusSign",value:e.minusSign}),n.length&&(r.push({type:"decimal",value:e.decimal}),n.split("").forEach((e=>r.push({type:"fraction",value:e})))),r}format(e){const{integers:t,decimals:n}=this.getIntegersAndDecimals();return`${`${this.isNegative?e.minusSign:""}${e.numberFormatter.format(BigInt(t))}`}${n.length?`${e.decimal}${n.split("").map((t=>e.numberFormatter.format(Number(t)))).join("")}`:""}`}add(e){return s.fromBigInt(this.value+new s(e).value)}subtract(e){return s.fromBigInt(this.value-new s(e).value)}multiply(e){return s._divRound(this.value*new s(e).value,s.SHIFT)}divide(e){return s._divRound(this.value*s.SHIFT,new s(e).value)}}function a(e){return!(!e||isNaN(Number(e)))}function l(e){return e&&(t=e,r.n.some((e=>t.includes(e))))?y(e,(e=>{let t=!1;const n=e.split("").filter(((e,n)=>e.match(/\./g)&&!t?(t=!0,!0):!(!e.match(/-/g)||0!==n)||r.n.includes(e))).join("");return a(n)?new s(n).toString():""})):"";var t}const c=/^([-0])0+(?=\d)/,u=/(?!^\.)\.$/,d=/(?!^-)-/g,h=/^-\b0\b\.?0*$/,p=/0*$/,f=new Set(["e","E","-",",",".",...r.n]),m=e=>y(Array.from(e).filter((e=>f.has(e))).join(""),(e=>{const t=e.replace(d,"").replace(u,"").replace(c,"$1");return a(t)?h.test(t)?t:function(e){const t=e.split(".")[1],n=new s(e).toString(),[r,i]=n.split(".");return t&&i!==t?`${r}.${t}`:n}(t):e}));function y(e,t){if(!e)return e;const n=e.toLowerCase().indexOf("e")+1;return n?e.replace(/[eE]*$/g,"").substring(0,n).concat(e.slice(n).replace(/[eE]/g,"")).split(/[eE]/).map(((e,n)=>t(1===n?e.replace(/\./g,""):e))).join("e").replace(/^e/,"1e"):t(e)}function g(e,t,n){const r=t.split(".")[1];if(r){const i=r.match(p)[0];if(i&&n.delocalize(e).length!==t.length&&-1===r.indexOf("e")){const t=n.decimal;return(e=e.includes(t)?e:`${e}${t}`).padEnd(e.length+i.length,n.localize("0"))}}return e}const v="en",b=["ar","bg","bs","ca","cs","da","de","de-AT","de-CH","el",v,"en-AU","en-CA","en-GB","es","es-MX","et","fi","fr","fr-CH","he","hi","hr","hu","id","it","it-CH","ja","ko","lt","lv","mk","no","nl","pl","pt","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],w=(new Map(Object.entries({bg:{am:"..",pm:".."},bs:{am:"prijepodne",pm:"popodne"},ca:{am:"a.m.",pm:"p.m."},cs:{am:"dop.",pm:"odp."},es:{am:"a.m.",pm:"p.m."},"es-mx":{am:"a.m.",pm:"p.m."},"es-MX":{am:"a.m.",pm:"p.m."},fi:{am:"ap.",pm:"ip."},he:{am:"",pm:""},hu:{am:"de. ",pm:"du."},lt:{am:"priepiet",pm:"popiet"},lv:{am:"priekpusdien",pm:"pcpusdien"},mk:{am:".",pm:"."},no:{am:"a.m.",pm:"p.m."},nl:{am:"a.m.",pm:"p.m."},"pt-pt":{am:"da manh",pm:"da tarde"},"pt-PT":{am:"da manh",pm:"da tarde"},ro:{am:"a.m.",pm:"p.m."},sl:{am:"dop.",pm:"pop."},sv:{am:"fm",pm:"em"},th:{am:"",pm:""},tr:{am:"",pm:"S"},uk:{am:"",pm:""},vi:{am:"SA",pm:"CH"}})),["arab","arabext","latn"]),_=[...b],S=e=>w.includes(e),x=(new Intl.NumberFormat).resolvedOptions().numberingSystem,M="arab"!==x&&S(x)?x:"latn";function A(e){return e?_.includes(e)?e:((e=e.toLowerCase()).includes("-")&&(e=e.replace(/(\w+)-(\w+)/,((e,t,n)=>`${t}-${n.toUpperCase()}`)),_.includes(e)||(e=e.split("-")[0])),"nb"===e||"nn"===e?"no":"zh"===e?"zh-CN":_.includes(e)?e:v):v}const T=new class{constructor(){this.delocalize=e=>this._numberFormatOptions?y(e,(e=>e.replace(new RegExp(`[${this._minusSign}]`,"g"),"-").replace(new RegExp(`[${this._group}]`,"g"),"").replace(new RegExp(`[${this._decimal}]`,"g"),".").replace(new RegExp(`[${this._digits.join("")}]`,"g"),this._getDigitIndex))):e,this.localize=e=>this._numberFormatOptions?y(e,(e=>a(e.trim())?new s(e.trim()).format(this).replace(new RegExp(`[${this._actualGroup}]`,"g"),this._group):e)):e}get group(){return this._group}get decimal(){return this._decimal}get minusSign(){return this._minusSign}get digits(){return this._digits}get numberFormatter(){return this._numberFormatter}get numberFormatOptions(){return this._numberFormatOptions}set numberFormatOptions(e){var t;if(e.locale=A(e?.locale),e.numberingSystem=(t=e?.numberingSystem,S(t)?t:M),!this._numberFormatOptions&&e.locale===v&&e.numberingSystem===M&&2===Object.keys(e).length||JSON.stringify(this._numberFormatOptions)===JSON.stringify(e))return;this._numberFormatOptions=e,this._numberFormatter=new Intl.NumberFormat(this._numberFormatOptions.locale,this._numberFormatOptions),this._digits=[...new Intl.NumberFormat(this._numberFormatOptions.locale,{useGrouping:!1,numberingSystem:this._numberFormatOptions.numberingSystem}).format(9876543210)].reverse();const n=new Map(this._digits.map(((e,t)=>[e,t]))),r=new Intl.NumberFormat(this._numberFormatOptions.locale,{numberingSystem:this._numberFormatOptions.numberingSystem}).formatToParts(-12345678.9);this._actualGroup=r.find((e=>"group"===e.type)).value,this._group=0===this._actualGroup.trim().length||" "==this._actualGroup?"":this._actualGroup,this._decimal="bs"===e.locale||"mk"===e.locale?",":r.find((e=>"decimal"===e.type)).value,this._minusSign=r.find((e=>"minusSign"===e.type)).value,this._getDigitIndex=e=>n.get(e)}}},21332:function(e,t,n){"use strict";n.d(t,{Cj:function(){return a},HC:function(){return s},ML:function(){return h},Wm:function(){return l},_e:function(){return u},mk:function(){return d}});var r=n(21750);const i=/\{([^}]+)\}/g;function o(e){return e??""}function s(e,t){return t?e.replaceAll(i,"object"==typeof t?(e,n)=>o((0,r.wc)(n,t)):(e,n)=>o(t(n))):e}function a(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,(e=>t?.includes(e)?e:`\\${e}`))}function l(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}let c;function u(e){return c??=new DOMParser,c.parseFromString(e||"","text/html").body.innerText||""}function d(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function h(e,...t){let n=e[0];for(let r=0;r<t.length;++r)n+=t[r]+e[r+1];return n}},21570:function(e,t,n){"use strict";n.d(t,{A:function(){return g}});var r,i=n(82392),o=n(3223),s=n(1817),a=n(84977),l=n(5262),c=n(97629),u=n(81482),d=(n(6273),n(80861),n(25376)),h=n(26325),p=n(48524);const f=(0,s.O)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),m=f.jsonValues.slice();(0,o.Xy)(m,"orthometric");const y=(0,s.O)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let g=r=class extends a.A{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,n){return f.write(e,t,n)}readHeightModel(e,t,n){return f.read(e)||(n?.messages&&n.messages.push(function(e,t){return new c.A("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}(e,{context:n})),null)}readHeightUnit(e,t,n){return y.read(e)||(n?.messages&&n.messages.push(v(e,{context:n})),null)}readHeightUnitService(e,t,n){return(0,l.LA)(e)||y.read(e)||(n?.messages&&n.messages.push(v(e,{context:n})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new r({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const n=(0,l.k1)(t);return new r({heightModel:e.heightModel,heightUnit:n??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new r;return t.read(e,{origin:"web-scene"}),t}};function v(e,t){return new c.A("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}(0,i._)([(0,u.MZ)({type:f.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:m,default:"ellipsoidal",write:{isRequired:!0}}}}})],g.prototype,"heightModel",void 0),(0,i._)([(0,p.K)("web-scene","heightModel")],g.prototype,"writeHeightModel",null),(0,i._)([(0,d.w)(["web-scene","service"],"heightModel")],g.prototype,"readHeightModel",null),(0,i._)([(0,u.MZ)({type:y.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:y.jsonValues,write:{writer:y.write,isRequired:!0}}}}})],g.prototype,"heightUnit",void 0),(0,i._)([(0,d.w)("web-scene","heightUnit")],g.prototype,"readHeightUnit",null),(0,i._)([(0,d.w)("service","heightUnit")],g.prototype,"readHeightUnitService",null),(0,i._)([(0,u.MZ)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],g.prototype,"vertCRS",void 0),(0,i._)([(0,d.w)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],g.prototype,"readVertCRS",null),g=r=(0,i._)([(0,h.$)("esri.geometry.HeightModelInfo")],g)},21750:function(e,t,n){"use strict";n.d(t,{$N:function(){return i},i8:function(){return a},sM:function(){return s},wc:function(){return o}});var r=n(15565);function i(e,t,n=!1){return c(e,t,n)}function o(e,t){if(null!=t)return t[e]||l(e.split("."),!1,t)}function s(e,t,n){const r=e.split("."),i=r.pop(),o=l(r,!0,n);o&&i&&(o[i]=t)}function a(e,t){if(null==e&&null==t)return!1;if(null==e)return!0;if(null==t)return!0;if("object"==typeof e){if(Array.isArray(e)){const n=t;if(e.length!==n.length)return!0;for(let t=0;t<e.length;t++)if(a(e[t],n[t]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in e)if(a(e[n],t[n]))return!0;return!1}return e!==t}function l(e,t,n){let r=n;for(const n of e){if(null==r)return;if(!(n in r)){if(!t)return;r[n]={}}r=r[n]}return r}function c(e,t,n){return t?Object.keys(t).reduce(((e,i)=>{if("__proto__"===i)return e;let o=e[i],s=t[i];return o===s?e:void 0===o?(e[i]=(0,r.o8)(s),e):(Array.isArray(s)||Array.isArray(e)?(o=o?Array.isArray(o)?e[i]=o.slice():e[i]=[o]:e[i]=[],s&&(Array.isArray(s)||(s=[s]),n?s.forEach((e=>{o.includes(e)||o.push(e)})):e[i]=s.slice())):s&&"object"==typeof s?e[i]=c(o,s,n):e.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(e[i]=s),e)}),e||{}):e}},21796:function(e,t,n){"use strict";n.d(t,{H:function(){return M},a:function(){return b},c:function(){return m},d:function(){return v},f:function(){return y},i:function(){return w},r:function(){return f},s:function(){return p}});var r=n(46337),i=n(79e3);const o=["calcite-input","calcite-input-number","calcite-input-text","calcite-text-area"];const s="hidden-form-input";function a(e){return"checked"in e}const l=new WeakMap,c=new WeakSet;function u(e){return"CALCITE-RADIO-BUTTON"===e.nodeName?(0,i.l)(e,"calcite-radio-button-group"):e}const d=new CustomEvent("calciteInvalid",{bubbles:!0,composed:!0});function h(e){const t=e?.target,n=t?.validationMessage,r=u(t?.parentElement);if(!r)return;const i=r?.nodeName?.toLowerCase(),s=i?.split("-");if(s.length<2||"calcite"!==s[0])return;e?.preventDefault(),"validity"in r&&(r.validity=t?.validity),r.dispatchEvent(d),function(e,{status:t,message:n,icon:r}){"status"in e&&(e.status=t),"validationIcon"in e&&"string"!=typeof e.validationIcon&&(e.validationIcon=r),"validationMessage"in e&&!e.validationMessage&&(e.validationMessage=n)}(r,{message:n,icon:!0,status:"invalid"});const a=function(e){return`${e.split("-").map(((e,t)=>0===t?e:`${e[0].toUpperCase()}${e.slice(1)}`)).join("")}${o.includes(e)?"Input":"Change"}`}(i);r.addEventListener(a,(()=>{"status"in r&&(r.status="idle"),!("validationIcon"in r)||""!==r.validationIcon&&!0!==r.validationIcon||(r.validationIcon=!1),"validationMessage"in r&&r.validationMessage===n&&(r.validationMessage=""),"validity"in r&&(r.validity=t?.validity)}),{once:!0})}function p(e){const{formEl:t}=e;return!!t&&(t.addEventListener("invalid",h,!0),t.requestSubmit(),t.removeEventListener("invalid",h,!0),requestAnimationFrame((()=>{const e=t.querySelectorAll("[status=invalid]");for(const t of e)if(t?.validationMessage){t?.setFocus();break}})),!0)}function f(e){e.formEl?.reset()}function m(e){const{el:t,value:n}=e,r=y(e);if(!r||function(e,t){if((0,i.l)(t.parentElement,"[form]"))return!0;const n="calciteInternalFormComponentRegister";let r=!1;return e.addEventListener(n,(e=>{r=e.composedPath().some((e=>c.has(e))),e.stopPropagation()}),{once:!0}),t.dispatchEvent(new CustomEvent(n,{bubbles:!0,composed:!0})),r}(r,t))return;e.formEl=r,e.defaultValue=n,a(e)&&(e.defaultChecked=e.checked);const o=g.bind(e);r.addEventListener("reset",o),l.set(e.el,o),c.add(t)}function y(e){const{el:t,form:n}=e;return n?(0,i.q)(t,{id:n}):(0,i.l)(t,"form")}function g(){"status"in this&&(this.status="idle"),"validationIcon"in this&&(this.validationIcon=!1),"validationMessage"in this&&(this.validationMessage=""),a(this)?this.checked=this.defaultChecked:(this.value=this.defaultValue,this.onFormReset?.())}function v(e){const{el:t,formEl:n}=e;if(!n)return;const r=l.get(t);n.removeEventListener("reset",r),l.delete(t),e.formEl=null,c.delete(t)}function b(e,t){e.defaultValue=t}const w="calciteInternalHiddenInputInput",_=e=>{e.target.dispatchEvent(new CustomEvent(w,{bubbles:!0}))},S=e=>e.removeEventListener("input",_);function x(e,t,n){const{defaultValue:r,disabled:i,form:o,name:s,required:l}=e;t.defaultValue=r,t.disabled=i,t.name=s,t.required=l,t.tabIndex=-1,o?t.setAttribute("form",o):t.removeAttribute("form"),a(e)?(t.checked=e.checked,t.defaultChecked=e.defaultChecked,t.value=e.checked?n||"on":""):t.value=n||"",e.syncHiddenFormInput?.(t);const c=u(e.el);if(c&&"validity"in c)for(const e in{...t?.validity})c.validity[e]=t.validity[e]}const M=({component:e})=>(function(e){const{el:t,formEl:n,name:i,value:o}=e,{ownerDocument:a}=t;if(r.S$)return;const l=t.querySelectorAll(`input[slot="${s}"]`);if(!n||!i)return void l.forEach((e=>{S(e),e.remove()}));const c=Array.isArray(o)?o:[o],u=[],d=new Set;let h;l.forEach((t=>{const n=c.find((e=>e==t.value));null!=n?(d.add(n),x(e,t,n)):u.push(t)})),c.forEach((t=>{if(d.has(t))return;let n=u.pop();n||(n=a.createElement("input"),n.ariaHidden="true",n.slot=s),h||(h=a.createDocumentFragment()),h.append(n),n.addEventListener("input",_),x(e,n,t)})),h&&t.append(h),u.forEach((e=>{S(e),e.remove()}))}(e),r.qy`<slot name=${s}></slot>`)},22036:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r,c,u,d,h,p,f;(0,o.default)(1,arguments);var m=(0,i.default)(e),y=m.getUTCFullYear(),g=(0,l.getDefaultOptions)(),v=(0,a.default)(null!==(n=null!==(r=null!==(c=null!==(u=null==t?void 0:t.firstWeekContainsDate)&&void 0!==u?u:null==t||null===(d=t.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==c?c:g.firstWeekContainsDate)&&void 0!==r?r:null===(p=g.locale)||void 0===p||null===(f=p.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==n?n:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(y+1,0,v),b.setUTCHours(0,0,0,0);var w=(0,s.default)(b,t),_=new Date(0);_.setUTCFullYear(y,0,v),_.setUTCHours(0,0,0,0);var S=(0,s.default)(_,t);return m.getTime()>=w.getTime()?y+1:m.getTime()>=S.getTime()?y:y-1};var i=r(n(95039)),o=r(n(10427)),s=r(n(20930)),a=r(n(9784)),l=n(35886);e.exports=t.default},22040:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(91010),l=n(1415);let c=r=class extends a.A{constructor(e){super(e),this.type="pie-chart"}clone(){return new r({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,i._)([(0,o.MZ)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:l.U.write,isRequired:!0}}})],c.prototype,"type",void 0),c=r=(0,i._)([(0,s.$)("esri.popup.content.PieChartMediaInfo")],c);const u=c},22111:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(26325));const s=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t&&"effectiveScaleRange"in t&&function(e,t){e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale}(e,t.effectiveScaleRange);const n=this._get("effectiveScaleRange");return n&&n.minScale===e.minScale&&n.maxScale===e.maxScale?n:e}};return(0,r._)([(0,i.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),(0,r._)([(0,i.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),(0,r._)([(0,i.MZ)({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=(0,r._)([(0,o.$)("esri.layers.mixins.ScaleRangeLayer")],t),t}},22344:function(e,t,n){"use strict";n.d(t,{s:function(){return a}});const r=["date","datetime-local","month","number","range","time","week"],i=["email","password","search","tel","text","url"],o=["email","password","search","tel","text","textarea","url"];function s(e,t,n,r){const i=n.toLowerCase(),o=e[n];r&&null!=o?t.setAttribute(i,`${o}`):t.removeAttribute(i)}function a(e,t,n){n.type="textarea"===e?"text":e;const a=r.includes(e),l=t;s(l,n,"min",a),s(l,n,"max",a),s(l,n,"step",a);const c=o.includes(e),u=t;s(u,n,"minLength",c),s(u,n,"maxLength",c);s(u,n,"pattern",i.includes(e))}},22497:function(e,t,n){"use strict";n.d(t,{g:function(){return f}});var r=n(62991),i=(n(6273),n(80861)),o=n(57725),s=n(37623),a=n(63103),l=n(68716),c=n(36442),u=n(88416),d=n(32616),h=n(82040);const p=()=>i.A.getLogger("esri/views/webgl/Texture");let f=class e{static{this.TEXTURE_UNIT_FOR_UPDATES=0}static{this.compressionWorkerHandle=null}constructor(e,t=null,n=null){if(this.type=c.d.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._shadowFilterDirty=!1,this._wasImmutablyAllocated=!1,"context"in e)this._descriptor=e,n=t;else{const n=h.z.validate(e,t);if(!n)throw new r.A("texture:invalid-descriptor","Texture descriptor invalid");this._descriptor=n}this._descriptor.target===l.Ap.TEXTURE_CUBE_MAP?this._setDataCubeMap(n):this.setData(n)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return(0,u.e)(this._descriptor)}get cachedMemory(){return this.usedMemory}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty||this._shadowFilterDirty}get hasWebGLTextureObject(){return!!this._glName}dispose(){this.abortCompression(),this._descriptor.context.gl&&this.hasWebGLTextureObject&&(this._descriptor.context.instanceCounter.decrement(l.vt.Texture,this),this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(e,t){const n=this._descriptor;if(n.width!==e||n.height!==t){if(this._wasImmutablyAllocated)throw new r.A("texture:immutable-resize","Immutable textures can't be resized!");n.width=e,n.height=t,this._descriptor.target===l.Ap.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}enableCompression(e){this._descriptor.compress=e}disableCompression(){this._descriptor.compress=void 0}setData(e){this.abortCompression(),!(0,d.Qp)(e)&&this._descriptor.internalFormat&&this._descriptor.internalFormat in l.CQ&&(this._descriptor.internalFormat=void 0),this._setData(e),!(0,d.Qp)(e)&&this._descriptor.compress&&this._compressOnWorker(e)}updateData(t,n,i,o,s,a,l=0){a||p().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||p().error("An attempt to update uninitialized texture!");const c=this._descriptor;c.internalFormat=(0,d.mq)(c);const{context:u,pixelFormat:h,dataType:f,target:m,isImmutable:y}=c;if(y&&!this._wasImmutablyAllocated)throw new r.A("texture:uninitialized","Cannot update immutable texture before allocation!");const g=u.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES,!0);(n<0||i<0||n+o>c.width||i+s>c.height)&&p().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:v}=u;l&&(o&&s||p().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),v.pixelStorei(v.UNPACK_SKIP_ROWS,l)),(0,d.Kv)(a)?v.texSubImage2D(m,t,n,i,o,s,h,f,a):(0,d.Qp)(a)?v.compressedTexSubImage2D(m,t,n,i,o,s,c.internalFormat,a.levels[t]):v.texSubImage2D(m,t,n,i,o,s,h,f,a),l&&v.pixelStorei(v.UNPACK_SKIP_ROWS,0),u.bindTexture(g,e.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(t,n,i,o,s,a,l,c){c||p().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||p().error("An attempt to update an uninitialized texture!");const u=this._descriptor;u.internalFormat=(0,d.mq)(u);const{context:h,pixelFormat:f,dataType:m,isImmutable:y,target:g}=u;if(y&&!this._wasImmutablyAllocated)throw new r.A("texture:uninitialized","Cannot update immutable texture before allocation!");(0,d.re)(g)||p().warn("Attempting to set 3D texture data on a non-3D texture");const v=h.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);h.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),(n<0||i<0||o<0||n+s>u.width||i+a>u.height||o+l>u.depth)&&p().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:b}=h;if((0,d.Qp)(c))c=c.levels[t],b.compressedTexSubImage3D(g,t,n,i,o,s,a,l,u.internalFormat,c);else{const e=c;b.texSubImage3D(g,t,n,i,o,s,a,l,f,m,e)}h.bindTexture(v,e.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;if(0===t.width||0===t.height)return;if(!t.hasMipmap){if(this._wasImmutablyAllocated)throw new r.A("texture:immutable-change","Cannot add mipmaps to immutable texture after allocation");t.hasMipmap=!0,this._samplingModeDirty=!0,(0,d.QE)(t)}t.samplingMode===l.Cj.LINEAR?(this._samplingModeDirty=!0,t.samplingMode=l.Cj.LINEAR_MIPMAP_NEAREST):t.samplingMode===l.Cj.NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=l.Cj.NEAREST_MIPMAP_NEAREST);const n=this._descriptor.context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(t.target),this._descriptor.context.bindTexture(n,e.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const e=this._descriptor;if(e.hasMipmap){if(this._wasImmutablyAllocated)throw new r.A("texture:immutable-change","Cannot delete mipmaps to immutable texture after allocation");e.hasMipmap=!1,this._samplingModeDirty=!0,(0,d.QE)(e)}e.samplingMode===l.Cj.LINEAR_MIPMAP_NEAREST?(this._samplingModeDirty=!0,e.samplingMode=l.Cj.LINEAR):e.samplingMode===l.Cj.NEAREST_MIPMAP_NEAREST&&(this._samplingModeDirty=!0,e.samplingMode=l.Cj.NEAREST)}setSamplingMode(e){e!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=e,this._samplingModeDirty=!0)}setWrapMode(e){e!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=e,(0,d.QE)(this._descriptor),this._wrapModeDirty=!0)}setShadowFiltering(e){e!==this._descriptor.linearFilterDepth&&(this._descriptor.linearFilterDepth=this._descriptor.compareEnabled=e,this.setSamplingMode(e?l.Cj.LINEAR:l.Cj.NEAREST),(0,d.QE)(this._descriptor),this._shadowFilterDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1),this._shadowFilterDirty&&(this._applyShadowMode(),this._shadowFilterDirty=!1)}abortCompression(){this._compressionAbortController=(0,o.DC)(this._compressionAbortController)}_setData(t,n){const i=this._descriptor,o=i.context?.gl;if(!o)return;(0,a.Y2)(o),this.hasWebGLTextureObject||(this._glName=o.createTexture(),i.context.instanceCounter.increment(l.vt.Texture,this)),(0,d.QE)(i);const s=i.context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);i.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),(0,a.Y2)(o);const c=n??i.target,u=(0,d.re)(c);if((0,d.Kv)(t))this._setDataFromTexImageSource(t,c);else{const{width:e,height:n,depth:s}=i;if(null==e||null==n)throw new r.A("texture:missing-size","Width and height must be specified!");if(u&&null==s)throw new r.A("texture:missing-depth","Depth must be specified!");if(i.internalFormat=(0,d.mq)(i),i.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(c,i.internalFormat,i.hasMipmap,e,n,s),(0,d.Qp)(t)){if(!(0,d.tl)(i.internalFormat))throw new r.A("texture:format-mismatch","Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(t,i.internalFormat,c)}else this._texImage(c,0,i.internalFormat,e,n,s,t),(0,a.Y2)(o),i.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),this._applyShadowMode(),(0,a.Y2)(o),i.context.bindTexture(s,e.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(e=null){for(let t=l.Ap.TEXTURE_CUBE_MAP_POSITIVE_X;t<=l.Ap.TEXTURE_CUBE_MAP_NEGATIVE_Z;t++)this._setData(e,t)}_configurePixelStorage(){const e=this._descriptor.context.gl,{unpackAlignment:t,flipped:n,preMultiplyAlpha:r}=this._descriptor;e.pixelStorei(e.UNPACK_ALIGNMENT,t),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,n?1:0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r?1:0)}_setDataFromTexImageSource(e,t){const{gl:n}=this._descriptor.context,r=this._descriptor;r.internalFormat=(0,d.mq)(r);const i=(0,d.re)(t),{width:o,height:s,depth:l}=(0,d.Eo)(e);r.width&&r.height,r.width||(r.width=o),r.height||(r.height=s),i&&r.depth,i&&(r.depth=l),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(t,r.internalFormat,r.hasMipmap,o,s,l),this._texImage(t,0,r.internalFormat,o,s,l,e),(0,a.Y2)(n),r.hasMipmap&&(this.generateMipmap(),(0,a.Y2)(n))}_setDataFromCompressedSource(e,t,n){const r=this._descriptor,{width:i,height:o,depth:s}=r,a=e.levels,c=(0,d.FV)(n,i,o,s),u=Math.min(c,a.length)-1;this._descriptor.context.gl.texParameteri(r.target,l.H3.MAX_LEVEL,u),this._forEachMipmapLevel(((e,r,i,o)=>{const s=a[Math.min(e,a.length-1)];this._compressedTexImage(n,e,t,r,i,o,s)}),u)}_texStorage(e,t,n,i,o,s){const{gl:a}=this._descriptor.context;if(!(0,d.tr)(t)&&!(0,d.CR)(t)&&!(0,d.QJ)(t))throw new r.A("texture:missing-format","Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const l=n?(0,d.FV)(e,i,o,s):1;if((0,d.re)(e)){if(null==s)throw new r.A("texture:missing-depth","Missing depth dimension for 3D texture upload");a.texStorage3D(e,l,t,i,o,s)}else a.texStorage2D(e,l,t,i,o);this._wasImmutablyAllocated=!0}_texImage(e,t,n,i,o,s,a){const l=this._descriptor.context.gl,c=(0,d.re)(e),{isImmutable:u,pixelFormat:h,dataType:p}=this._descriptor;if(u){if(null!=a){const n=a;if(c){if(null==s)throw new r.A("texture:missing-depth","Missing depth dimension for 3D texture upload");l.texSubImage3D(e,t,0,0,0,i,o,s,h,p,n)}else l.texSubImage2D(e,t,0,0,i,o,h,p,n)}}else{const u=a;if(c){if(null==s)throw new r.A("texture:missing-depth","Missing depth dimension for 3D texture upload");l.texImage3D(e,t,n,i,o,s,0,h,p,u)}else l.texImage2D(e,t,n,i,o,0,h,p,u)}}_compressedTexImage(e,t,n,i,o,s,a){const l=this._descriptor.context.gl,c=(0,d.re)(e);if(this._descriptor.isImmutable){if(null!=a)if(c){if(null==s)throw new r.A("texture:missing-depth","Missing depth dimension for 3D texture upload");l.compressedTexSubImage3D(e,t,0,0,0,i,o,s,n,a)}else l.compressedTexSubImage2D(e,t,0,0,i,o,n,a)}else if(c){if(null==s)throw new r.A("texture:missing-depth","Missing depth dimension for 3D texture upload");l.compressedTexImage3D(e,t,n,i,o,s,0,a)}else l.compressedTexImage2D(e,t,n,i,o,0,a)}async _compressOnWorker(t){const{width:n,height:r,context:i,flipped:o,preMultiplyAlpha:a,hasMipmap:c}=this._descriptor,u=this._descriptor.compress?.compressionTracker,d=this._descriptor.compress?.compressionCallback,{compressedTextureETC:h,compressedTextureS3TC:f}=i.capabilities;if(!e.compressionWorkerHandle?.isCompressible(t,this._descriptor)||!h&&!f)return;this.abortCompression();const m=new AbortController;this._compressionAbortController=m,u?.increment();try{let i;t instanceof Uint8Array?i=t.buffer:(i=await createImageBitmap(t,{imageOrientation:o?"flipY":"none"}),(0,s.Te)(m));const u={data:i,width:n,height:r,needsFlip:t instanceof Uint8Array&&this.descriptor.flipped,components:this._descriptor.pixelFormat===l.Ab.RGBA?4:3,preMultiplyAlpha:a,hasMipmap:c,hasETC:!!h,hasS3TC:!!f},p=await e.compressionWorkerHandle.invoke(u,m.signal,"low");if((0,s.Te)(m),p.compressedTexture&&this.hasWebGLTextureObject){const e=this.usedMemory;this._descriptor.internalFormat=p.internalFormat,this._setData(p.compressedTexture),d?.(e-this.usedMemory)}}catch(e){(0,s.zf)(e)||p().error("Texture compression failed!")}finally{u?.decrement(),this._compressionAbortController?.signal.aborted&&(this._compressionAbortController=null)}}_forEachMipmapLevel(e,t=1/0){let{width:n,height:i,depth:o,hasMipmap:s,target:a}=this._descriptor;const c=a===l.Ap.TEXTURE_3D;if(null==n||null==i||c&&null==o)throw new r.A("texture:missing-size","Missing texture dimensions for mipmap calculation");for(let r=0;e(r,n,i,o),s&&(1!==n||1!==i||c&&1!==o)&&!(r>=t);++r)n=Math.max(1,n>>1),i=Math.max(1,i>>1),c&&(o=Math.max(1,o>>1))}_applySamplingMode(){const e=this._descriptor,t=e.context?.gl;let n=e.samplingMode,r=e.samplingMode;n===l.Cj.LINEAR_MIPMAP_NEAREST||n===l.Cj.LINEAR_MIPMAP_LINEAR?(n=l.Cj.LINEAR,e.hasMipmap||(r=l.Cj.LINEAR)):n!==l.Cj.NEAREST_MIPMAP_NEAREST&&n!==l.Cj.NEAREST_MIPMAP_LINEAR||(n=l.Cj.NEAREST,e.hasMipmap||(r=l.Cj.NEAREST)),t.texParameteri(e.target,t.TEXTURE_MAG_FILTER,n),t.texParameteri(e.target,t.TEXTURE_MIN_FILTER,r)}_applyWrapMode(){const e=this._descriptor,t=e.context?.gl;"number"==typeof e.wrapMode?(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode)):(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode.s),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode.t))}_applyShadowMode(){const e=this._descriptor,t=e.context?.gl,n=e.compareEnabled?t.COMPARE_REF_TO_TEXTURE:t.NONE;t.texParameteri(e.target,t.TEXTURE_COMPARE_MODE,n),e.compareEnabled&&t.texParameteri(e.target,t.TEXTURE_COMPARE_FUNC,t.GREATER),(0,a.Y2)(t)}_applyAnisotropicFilteringParameters(){const e=this._descriptor,t=e.context.capabilities.textureFilterAnisotropic;t&&e.context.gl.texParameterf(e.target,t.TEXTURE_MAX_ANISOTROPY,e.maxAnisotropy??1)}}},22508:function(e,t,n){"use strict";n.d(t,{Sk:function(){return o},Zx:function(){return i},_X:function(){return a}});var r=n(91101);function i(e,t,n){const r=t.flatten((({sublayers:e})=>e)).length;return r!==e.length||(!!e.some((e=>e.originIdOf("minScale")>n||e.originIdOf("maxScale")>n||e.originIdOf("renderer")>n||e.originIdOf("labelingInfo")>n||e.originIdOf("opacity")>n||e.originIdOf("labelsVisible")>n||e.originIdOf("source")>n))||!s(e,t))}function o(e,t,n){return!!e.some((e=>{const t=e.source,i=!t||"map-layer"===t.type&&t.mapLayerId===e.id&&(null==t.gdbVersion||t.gdbVersion===n);e.commitProperty("renderer"),e.commitProperty("labelingInfo"),e.commitProperty("opacity"),e.commitProperty("labelsVisible"),e.commitProperty("orderBy");const o=e.layer?.capabilities?.exportMap?.supportsSublayerOrderBy??!1;return!i||e.originIdOf("renderer")>r.Gr.SERVICE||e.originIdOf("labelingInfo")>r.Gr.SERVICE||e.originIdOf("opacity")>r.Gr.SERVICE||e.originIdOf("labelsVisible")>r.Gr.SERVICE||o&&e.originIdOf("orderBy")>r.Gr.SERVICE}))||!s(e,t)}function s(e,t){if(!e?.length||null==t)return!0;const n=t.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).map((e=>e.id)).toArray();if(e.length>n.length)return!1;let r=0;const i=n.length;for(const{id:t}of e){for(;r<i&&n[r]!==t;)r++;if(r>=i)return!1}return!0}function a(e){return!!e&&e.some((e=>null!=e.minScale||null!=e.layerDefinition?.minScale))}},22980:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r,i=n(82392),o=n(1817),s=n(84977),a=n(81482),l=(n(6273),n(80861),n(67498),n(85716)),c=n(26325),u=n(46495);let d=r=class extends s.A{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new r({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"fieldName",void 0),(0,i._)([(0,a.MZ)({type:u.A,json:{write:!0}})],d.prototype,"format",void 0),(0,i._)([(0,a.MZ)({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],d.prototype,"isEditable",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"label",void 0),(0,i._)([(0,l.e)(new o.J({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],d.prototype,"stringFieldOption",void 0),(0,i._)([(0,a.MZ)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],d.prototype,"statisticType",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"tooltip",void 0),(0,i._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"visible",void 0),d=r=(0,i._)([(0,c.$)("esri.popup.FieldInfo")],d);const h=d},23064:function(e,t,n){"use strict";n.d(t,{IK:function(){return u},S8:function(){return a},TP:function(){return h},Z4:function(){return o},l8:function(){return s},w2:function(){return c}});var r=n(54481),i=n(11021);function o(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function s(e){return e?a(e.rings,e.hasZ??!1):null}function a(e,t){if(!e?.length)return null;const n=[],r=[],o=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,i=e.length;n<i;n++){const i=l(e[n],t,o);i&&r.push(i)}if(r.sort(((e,n)=>{let r=e[2]-n[2];return 0===r&&t&&(r=e[4]-n[4]),r})),r.length&&(n[0]=r[0][0],n[1]=r[0][1],t&&(n[2]=r[0][3]),(n[0]<o[0]||n[0]>o[1]||n[1]<o[2]||n[1]>o[3]||t&&(n[2]<o[4]||n[2]>o[5]))&&(n.length=0)),!n.length){const r=e[0]&&e[0].length?function(e,t){const n=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let o=0,s=0,a=0,l=0;for(let c=0,u=e.length;c<u-1;c++){const u=e[c],d=e[c+1];if(u&&d){n[0]=u[0],n[1]=u[1],r[0]=d[0],r[1]=d[1],t&&u.length>2&&d.length>2&&(n[2]=u[2],r[2]=d[2]);const e=(0,i.R3)(n,r);if(e){o+=e;const n=(0,i.t9)(u,d);s+=e*n[0],a+=e*n[1],t&&n.length>2&&(l+=e*n[2])}}}return o>0?t?[s/o,a/o,l/o]:[s/o,a/o]:e.length?e[0]:null}(e[0],t):null;if(!r)return null;n[0]=r[0],n[1]=r[1],t&&r.length>2&&(n[2]=r[2])}return n}function l(e,t,n){let r=0,i=0,o=0,s=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,u=e.length&&t?e[0][2]:0;for(let d=0;d<e.length;d++){const h=e[d],p=e[(d+1)%e.length],[f,m,y]=h,g=f-l,v=m-c,[b,w,_]=p,S=b-l,x=w-c,M=g*x-S*v;if(s+=M,r+=(g+S)*M,i+=(v+x)*M,t&&h.length>2&&p.length>2){const e=y-u,t=_-u,n=g*t-S*e;o+=(e+t)*n,a+=n}f<n[0]&&(n[0]=f),f>n[1]&&(n[1]=f),m<n[2]&&(n[2]=m),m>n[3]&&(n[3]=m),t&&(y<n[4]&&(n[4]=y),y>n[5]&&(n[5]=y))}if(s>0&&(s*=-1),a>0&&(a*=-1),!s)return null;s*=.5,a*=.5;const d=[r/(6*s)+l,i/(6*s)+c,s];return t&&(n[4]===n[5]||0===a?(d[3]=(n[4]+n[5])/2,d[4]=0):(d[3]=o/(6*a)+u,d[4]=a)),d}function c(e,t){let n=0,r=0,i=0;e.nextPoint();const o=e.pathSize?e.x:0,s=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[u,d]=l,h=u-o,p=d-s,[f,m]=c,y=f-o,g=m-s,v=h*g-y*p;i+=v,n+=(h+y)*v,r+=(p+g)*v,u<t[0]&&(t[0]=u),u>t[1]&&(t[1]=u),d<t[2]&&(t[2]=d),d>t[3]&&(t[3]=d)}return i>0&&(i*=-1),i?(i*=.5,[n/(6*i)+o,r/(6*i)+s,i]):null}function u(e){const{hasZ:t,totalSize:n}=e;if(0===n)return null;const o=[],s=[],a=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const t=l((0,r.A)(e),e.hasZ,a);t&&s.push(t)}if(s.sort(((e,n)=>{let r=e[2]-n[2];return 0===r&&t&&(r=e[4]-n[4]),r})),s.length&&(o[0]=s[0][0],o[1]=s[0][1],t&&(o[2]=s[0][3]),(o[0]<a[0]||o[0]>a[1]||o[1]<a[2]||o[1]>a[3]||t&&(o[2]<a[4]||o[2]>a[5]))&&(o.length=0)),!o.length){e.reset(),e.nextPath();const n=e.pathSize?function(e){const{hasZ:t}=e,n=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let o=0,s=0,a=0,l=0;if(e.nextPoint()){let c=e.x,u=e.y,d=e.z;for(;e.nextPoint();){const h=e.x,p=e.y,f=e.z;n[0]=c,n[1]=u,r[0]=h,r[1]=p,t&&(n[2]=d,r[2]=f);const m=(0,i.R3)(n,r);if(m){o+=m;const e=(0,i.t9)(n,r);s+=m*e[0],a+=m*e[1],t&&e.length>2&&(l+=m*e[2])}c=h,u=p,d=f}}return o>0?t?[s/o,a/o,l/o]:[s/o,a/o]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}(e):null;if(!n)return null;o[0]=n[0],o[1]=n[1],t&&n.length>2&&(o[2]=n[2])}return o}const d=1e-6;function h(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<d){const t=u(e);return t?[t[0],t[1]]:null}const n=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const r=[e.x,e.y];for(e.reset();e.nextPath();)f(n,r,e);return n[0]*=1/t,n[1]*=1/t,n[0]+=r[0],n[1]+=r[1],n}const p=1/3;function f(e,t,n){if(!e||!n||n.pathSize<3)return null;n.nextPoint();const r=n.x,i=n.y;n.nextPoint();let o,s=n.x-r,a=n.y-i,l=0,c=0;for(;n.nextPoint();)l=n.x-r,c=n.y-i,o=.5*p*(l*a-c*s),e[0]+=o*(s+l),e[1]+=o*(a+c),s=l,a=c;const u=n.getCurrentRingArea(),d=[r,i];return d[0]-=t[0],d[1]-=t[1],d[0]*=u,d[1]*=u,e[0]+=d[0],e[1]+=d[1],e}},23091:function(e,t,n){"use strict";n.d(t,{F:function(){return l},Y:function(){return a}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(26325));const s={write:{allowNull:!0}},a={type:n(11479).A,json:{origins:{"web-map":s,"portal-item":s}}},l=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return(0,r._)([(0,i.MZ)(a)],t.prototype,"featureEffect",void 0),t=(0,r._)([(0,o.$)("esri.layers.mixins.FeatureEffectLayer")],t),t}},23123:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(63457);const i=[];function o(e,t){if((0,r.Wo)(e.url??""))return!0;const{wkid:n}=t;for(const t of i){if((e.version??0)>=t[0])return!0;if("function"==typeof t[1]&&(t[1]=t[1]()),t[1].has(n))return!1}return!0}i.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),i.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),i.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),i.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),i.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}])},23149:function(e,t){"use strict";t.A=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},23271:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r,i=n(82392),o=n(1817),s=n(84977),a=n(15565),l=n(81482),c=(n(6273),n(80861),n(26325)),u=n(48524);const d=new o.J({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let h=r=class extends s.A{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=(0,a.o8)(e))}clone(){return new r({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,a.o8)(this.statisticParameters)})}};(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],h.prototype,"maxPointCount",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],h.prototype,"maxRecordCount",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],h.prototype,"maxVertexCount",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],h.prototype,"onStatisticField",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],h.prototype,"outStatisticFieldName",void 0),(0,i._)([(0,l.MZ)({type:String,json:{read:{source:"statisticType",reader:d.read},write:{target:"statisticType",writer:d.write}}})],h.prototype,"statisticType",void 0),(0,i._)([(0,l.MZ)({type:Object})],h.prototype,"statisticParameters",void 0),(0,i._)([(0,u.K)("statisticParameters")],h.prototype,"writeStatisticParameters",null),h=r=(0,i._)([(0,c.$)("esri.rest.support.StatisticDefinition")],h)},23375:function(e,t,n){"use strict";n.d(t,{ZS:function(){return l},hv:function(){return c},wr:function(){return u},dS:function(){return s},P6:function(){return a}});var r=n(82506);const i=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);var o=n(96285);const s="shortOffset";function a(e,t=!1){return{json:{read:{source:e,reader:(t,n)=>n[e]?l(n[e]):null},write:!!t&&{allowNull:!0,writer(t,n){n[e]=t?function(e){return{timeZoneIANA:e}}(t):null}}}}}function l(e,t=r.qU){return e?"timeZoneIANA"in e?e.timeZoneIANA:function(e,t=r.qU){if(!e||!i.has(e.timeZone))return t;const n=i.get(e.timeZone);return function(e){return e.startsWith("UTC")}(e.timeZone)||e.respectsDaylightSaving?n:function(e){const t=o.c9.local().setZone(e),n=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return 0===n?"Etc/UTC":`Etc/GMT${o.mQ.instance(-n).formatOffset(0,"narrow")}`}(n)}(e,t):t}function c(e,t,n,i,o){if(t&&"date"===o)return{timeZone:r.n$,timeZoneName:void 0};const a=i.timeStyle||i.hour,l=n===r.L5;return{timeZone:l?"timestamp-offset"===o?void 0:e??r.n$:n,timeZoneName:l&&a?s:void 0}}function u(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),n=new Set(Intl.supportedValuesOf("timeZone").map((e=>e.toLowerCase())));return e===r.qU||e===r.L5||t.has(e.toLowerCase())||n.has(e.toLowerCase())}},23377:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(82392),i=n(26325);let o=0;const s=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+o++})}};return t=(0,r._)([(0,i.$)("esri.core.Identifiable")],t),t},a=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:o++})}};return t=(0,r._)([(0,i.$)("esri.core.Identifiable.NumericIdentifiable")],t),t};let l=class extends(s(class{})){};var c;l=(0,r._)([(0,i.$)("esri.core.Identifiable")],l),(c=l||(l={})).IdentifiableMixin=s,c.NumericIdentifiableMixin=a;const u=l},23547:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325));let a=class extends i.A{constructor(e){super(e),this.type=null}};(0,r._)([(0,o.MZ)({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=(0,r._)([(0,s.$)("esri.popup.content.Content")],a);const l=a},23572:function(e,t,n){"use strict";n.d(t,{Lz:function(){return o},PN:function(){return s},PR:function(){return m},QG:function(){return d},WA:function(){return y},cr:function(){return a},gs:function(){return u},rX:function(){return p},r_:function(){return h},sc:function(){return f},tc:function(){return l},y8:function(){return c}});const r=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,i=96;function o(e){return e?e/72*i:0}function s(e){return e?72*e/i:0}function a(e){if("string"==typeof e){const t=e.match(r);if(t){const n=Number(t[1]),r=t[3]&&t[3].toLowerCase(),i="-"===e.charAt(0),o="px"===r?s(n):n;return i?-o:o}return null}return e}function l(e=0,t=0){return{x:e,y:t}}function c(e){return e?l(e.x,e.y):null}function u(e=0,t=0){return[e,t]}function d(e=0,t=0){return[e,t]}function h(e=0,t=0,n=0){return[e,t,n]}function p(e){return e}function f(e){return e}function m(e){return e}function y(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}},24193:function(e,t,n){"use strict";n.d(t,{x:function(){return r}});const r=new(n(1817).J)({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"})},24327:function(e,t,n){"use strict";n.d(t,{Of:function(){return r},UR:function(){return i},Ws:function(){return s},bv:function(){return a}});const r=Symbol("ImageElementInstance"),i=Symbol("VideoElementInstance");function o(e){return null!=e&&"object"==typeof e&&r in e}function s(e){return null!=e&&"object"==typeof e&&i in e}function a(e){return o(e)||s(e)}},24707:function(e,t,n){"use strict";n.d(t,{Ch:function(){return a},mW:function(){return o},u2:function(){return s}});var r=n(4506),i=n(80189);function o(e,t){return{...t,filterMode:e.mode}}function s(e,t){return l(e,t).next().value??null}function a(e,t,n){const o=function(e){if("manual"===u(e))return null;const t=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:n,maxScale:r}of e.filters)t[0]=Math.max(t[0],d(n)),t[1]=Math.min(t[1],h(r));return t}(e);if(o&&((0,r.gg)(t,o[0])||(0,r.ZH)(n,o[1])))return"";const s=Array.from(l(e,t,n)),a=function(e,t,n){if(0===e.length)return!0;const i=d(e.at(0)?.minScale),o=h(e.at(-1)?.maxScale);if((0,r.ZH)(i,t)||(0,r.gg)(o,n))return!0;for(let t=0;t<e.length-1;t++){const n=e[t],i=e[t+1];if((0,r.ZH)(d(i.minScale),h(n.maxScale)))return!0}return!1}(s,t,n)?"1=1":s.map((e=>e.where||"1=1")).reduce(((e,t)=>(0,i.IW)(e,t)),"");return a&&"1=1"!==a?a:""}function*l(e,t,n){if("manual"===u(e)){const t=e.filters.find((t=>t.id===e.activeFilterId));t&&(yield t)}else{"object"==typeof t&&(t=t.scale);for(const r of e.filters)c(r.minScale,r.maxScale,t,n)&&(yield r)}}function c(e,t,n,i){return e=d(e),n=d(n),t=h(t),!(!(0,r.Sp)(n,e)&&(i??n)>e||(0,r.Hx)(t,n)||void 0!==i&&(0,r.Sp)(i,e))}function u(e){return"mode"in e?e.mode:e.filterMode}function d(e){return e||Number.POSITIVE_INFINITY}function h(e){return e||0}},24826:function(e,t,n){"use strict";n.d(t,{A:function(){return S}});var r=n(82392),i=n(1817),o=n(15565),s=n(23572),a=n(81482),l=(n(6273),n(80861),n(85716)),c=n(26325),u=(n(67498),n(999));let d=class extends u.A{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,r._)([(0,l.e)({esriSLS:"simple-line"},{readOnly:!0})],d.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:Number,cast:s.cr,json:{write:!0}})],d.prototype,"width",void 0),d=(0,r._)([(0,c.$)("esri.symbols.LineSymbol")],d);var h,p=n(93814),f=n(84977),m=n(25376),y=n(48524),g=n(75190);let v=h=class extends f.A{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,n,r){t[n]="web-map"===r?.origin?"arrow":e}set color(e){this._set("color",e)}readColor(e){return null!=e?.[0]?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,n,r){"web-map"===r?.origin||(t[n]=e)}clone(){return new h({color:(0,o.o8)(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};(0,r._)([(0,a.MZ)({type:["begin","end","begin-end"],json:{write:!0}})],v.prototype,"placement",void 0),(0,r._)([(0,l.e)({"line-marker":"line-marker"},{readOnly:!0}),(0,a.MZ)({json:{origins:{"web-map":{write:!1}}}})],v.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:g.z})],v.prototype,"style",void 0),(0,r._)([(0,y.K)("style")],v.prototype,"writeStyle",null),(0,r._)([(0,a.MZ)({type:p.A,value:null,json:{write:{allowNull:!0}}})],v.prototype,"color",null),(0,r._)([(0,m.w)("color")],v.prototype,"readColor",null),(0,r._)([(0,y.K)("color")],v.prototype,"writeColor",null),v=h=(0,r._)([(0,c.$)("esri.symbols.LineSymbolMarker")],v);const b=v;var w;const _=new i.J({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let S=w=class extends d{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,n,r,i,o){if(e&&"string"!=typeof e)return e;const a={};return null!=e&&(a.style=e),null!=t&&(a.color=t),null!=n&&(a.width=(0,s.cr)(n)),null!=r&&(a.cap=r),null!=i&&(a.join=i),null!=o&&(a.miterLimit=(0,s.cr)(o)),a}clone(){return new w({color:(0,o.o8)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};(0,r._)([(0,l.e)({esriSLS:"simple-line"},{readOnly:!0})],S.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:_.apiValues,json:{read:_.read,write:_.write}})],S.prototype,"style",void 0),(0,r._)([(0,a.MZ)({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,n)=>({enabled:"round"!==e&&null==n?.origin})}}})],S.prototype,"cap",void 0),(0,r._)([(0,a.MZ)({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,n)=>({enabled:"round"!==e&&null==n?.origin})}}})],S.prototype,"join",void 0),(0,r._)([(0,a.MZ)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":b}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],S.prototype,"marker",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{read:!1,write:!1}})],S.prototype,"miterLimit",void 0),S=w=(0,r._)([(0,c.$)("esri.symbols.SimpleLineSymbol")],S)},24994:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},25001:function(e,t,n){"use strict";n.d(t,{D:function(){return o},K:function(){return i}});var r=n(85953);const i={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},o={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:r.OW.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:r.OW.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRadial:{angle:0,length:5},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:r.fu.Loop,repeatdelay:0,easing:r.Hz.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0},CIMSymbolAnimationMoveAlongLine:{speed:30,distanceAlong:100}}},25011:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(2,arguments);var n=(0,o.default)(e).getTime(),r=(0,i.default)(t);return new Date(n+r)};var i=r(n(9784)),o=r(n(95039)),s=r(n(10427));e.exports=t.default},25207:function(e,t,n){"use strict";n.d(t,{$x:function(){return b},Sx:function(){return c},c8:function(){return p},gS:function(){return v},m3:function(){return y},ql:function(){return h},tz:function(){return f},xW:function(){return m}});var r=n(32083),i=n(6273),o=n(37623),s=n(19759),a=n(63457),l=n(9856);function c(e,t,n=!1,r){return new Promise(((s,a)=>{if((0,o.G4)(r))return void a(u());let l=()=>{h(),a(new Error(`Unable to load ${t}`))},c=()=>{const t=e;h(),s(t)},d=()=>{if(!e)return;const t=e;h(),t.src="",a(u())};const h=()=>{(0,i.A)("esri-image-decode")||(e.removeEventListener("error",l),e.removeEventListener("load",c)),l=null,c=null,e=null,null!=r&&r.removeEventListener("abort",d),d=null,n&&URL.revokeObjectURL(t)};null!=r&&r.addEventListener("abort",d),(0,i.A)("esri-image-decode")?e.decode().then(c,l):(e.addEventListener("error",l),e.addEventListener("load",c))}))}function u(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const d="Timeout exceeded";function h(){return new Error(d)}function p(e){return"object"==typeof e&&!!e&&"message"in e&&e.message===d}function f(e){r.A.request.crossOriginNoCorsDomains||(r.A.request.crossOriginNoCorsDomains={});const t=r.A.request.crossOriginNoCorsDomains;for(let n of e)n=n.toLowerCase(),/^https?:\/\//.test(n)?t[(0,s.$z)(n)??""]=0:(t[(0,s.$z)("http://"+n)??""]=0,t[(0,s.$z)("https://"+n)??""]=0)}function m(e){const t=r.A.request.crossOriginNoCorsDomains;if(t){let n=(0,s.$z)(e);if(n)return n=n.toLowerCase(),!(0,s.FX)(n,(0,s.Xq)())&&t[n]<Date.now()-36e5}return!1}async function y(e){const t=(0,s.An)(e);e=t.path,"json"===t.query?.f&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const n=r.A.request.crossOriginNoCorsDomains,i=(0,s.$z)(e);n&&i&&(n[i.toLowerCase()]=Date.now())}const g=new Map;function v(e,t){const n=t?.preferredHost;if(!n||(0,s.FX)(e,`https://${n}`,!0))return;const r=(0,a.qg)(e);if(!r||"FeatureServer"!==r.serverType||(0,l.$E)(e))return;const i=r.url.path.toLowerCase();g.has(i)||g.set(i,n)}function b(e){const t=(0,a.qg)(e)?.url.path.toLowerCase();if(!t)return e;const n=g.get(t);return n?(0,s.hf)(e,n):e}},25302:function(e,t,n){"use strict";n.d(t,{fromItem:function(){return h},n:function(){return p}});var r=n(62991),i=n(28904),o=n(48101),s=n(86270),a=n(65452),l=n(97364),c=n(43305),u=n(3173),d=n(86074);async function h(e){let{portalItem:t}=e;!t||t instanceof c.default||(t=new c.default(t));const n=await async function(e){await e.load();const t=new s.v;return async function(e){const t=e.className,n=l.S[t];return{constructor:await n(),properties:e.properties}}(await p(e,t))}(t);return new(0,n.constructor)({portalItem:t,...n.properties})}async function p(e,t){switch(e.type){case"3DTiles Service":return e.typeKeywords.includes("3DObject")?{className:"UnsupportedLayer"}:{className:"IntegratedMesh3DTilesLayer"};case"CSV":return{className:"CSVLayer"};case"Feature Collection":return async function(e){await e.load();const t=(0,d.Y)(e,"Map Notes"),n=(0,d.Y)(e,"Markup");if(t||n)return{className:"MapNotesLayer"};if((0,d.Y)(e,"Route Layer"))return{className:"RouteLayer"};const r=await e.fetchData();return 1===(0,u.XH)(r)?{className:"FeatureLayer"}:{className:"GroupLayer"}}(e);case"Feature Service":return async function(e,t){const n=await f(e,t);if("object"==typeof n){const{sourceJSON:e,className:t}=n,r={sourceJSON:e};return null!=n.id&&(r.layerId=n.id),{className:t||"FeatureLayer",properties:r}}return{className:"GroupLayer"}}(e,t);case"Feed":case"Stream Service":return{className:"StreamLayer"};case"GeoJson":return{className:"GeoJSONLayer"};case"Group Layer":return{className:"GroupLayer"};case"Image Service":return async function(e,t){await e.load();const n=e.typeKeywords?.map((e=>e.toLowerCase()))??[];if(n.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(n.includes("tiled imagery"))return{className:"ImageryTileLayer"};const r=await t.fetchItemData(e),i=r?.layerType;if("ArcGISTiledImageServiceLayer"===i)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===i)return{className:"ImageryLayer"};const o=await t.fetchServiceMetadata(e.url,{customParameters:await t.fetchCustomParameters(e)}),s=o.cacheType?.toLowerCase(),a=o.capabilities?.toLowerCase().includes("tilesonly"),l=o.tileInfo?.format?.toLowerCase()??"",c=null==s&&["jpg","jpeg","png","png8","png24","png32","mixed"].includes(l);return"map"===s||c||a?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}(e,t);case"KML":return{className:"KMLLayer"};case"Knowledge Graph Layer":return{className:"KnowledgeGraphLayer"};case"Map Service":return async function(e,t){return await async function(e,t){const{tileInfo:n}=await t.fetchServiceMetadata(e.url,{customParameters:await t.fetchCustomParameters(e)});return n}(e,t)?{className:"TileLayer"}:{className:"MapImageLayer"}}(e,t);case"Media Layer":return{className:"MediaLayer"};case"Scene Service":return async function(e,t){const n=await f(e,t,(async()=>{try{if(!e.url)return[];const{serverUrl:n}=await(0,i.L)(e.url,{sceneLayerItem:e}),r=await t.fetchServiceMetadata(n);return r?.tables??[]}catch{return[]}}));if("object"==typeof n){const r={};let i;if(null!=n.id?(r.layerId=n.id,i=`${e.url}/layers/${n.id}`):i=e.url,e.typeKeywords?.length)for(const t of Object.keys(a.XX))if(e.typeKeywords.includes(t))return{className:a.XX[t]};const o=await t.fetchServiceMetadata(i,{customParameters:await t.fetchCustomParameters(e,(e=>(0,u.pJ)(e)?.customParameters))});return{className:a.XX[o?.layerType]||"SceneLayer",properties:r}}if(!1===n){const n=await t.fetchServiceMetadata(e.url);if("Voxel"===n?.layerType)return{className:"VoxelLayer"}}return{className:"GroupLayer"}}(e,t);case"Video Service":return async function(e,t){return"object"==typeof await f(e,t)?{className:"VideoLayer"}:{className:"GroupLayer"}}(e,t);case"Vector Tile Service":return{className:"VectorTileLayer"};case"WCS":return{className:"WCSLayer"};case"WFS":return{className:"WFSLayer"};case"WMS":return{className:"WMSLayer"};case"WMTS":return{className:"WMTSLayer"};default:throw new r.A("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type})}}async function f(e,t,n){const{url:r,type:i}=e,s="Feature Service"===i;if(!r)return{};if(/\/\d+$/.test(r)){if(s){const n=await t.fetchServiceMetadata(r,{customParameters:await t.fetchCustomParameters(e,(e=>(0,u.pJ)(e)?.customParameters))});return(0,a.Gh)(e,(0,a.G$)()),{id:n.id,className:(0,o.K)(n.type),sourceJSON:n}}return{}}if("Video Service"===i){const e=await t.fetchServiceMetadata(r);return!((e.layers?.length??0)>1)&&{}}await e.load();let l=await t.fetchItemData(e);if(s){const{data:n,preferredHost:i}=await(0,u.bO)(l,r,t);(0,a.Gh)(e,i);const o=m(n);if("object"==typeof o){const e=(0,u.rc)(n,o.id);o.className=(0,u.K8)(e?.layerType)}return o}if("Scene Service"===i&&(l=await(0,u.nu)(e,l,t)),(0,u.XH)(l)>0)return m(l);const c=await t.fetchServiceMetadata(r);return n&&(c.tables=await n()),m(c)}function m(e){return 1===(0,u.XH)(e)&&{id:(0,u.pJ)(e)?.id}}},25336:function(e,t,n){"use strict";n.d(t,{$0:function(){return w},$h:function(){return P},B8:function(){return u},C:function(){return o},CV:function(){return b},D_:function(){return a},I0:function(){return k},N9:function(){return S},O7:function(){return E},Qr:function(){return g},Qw:function(){return c},Tl:function(){return h},X_:function(){return T},Z8:function(){return y},aI:function(){return D},e$:function(){return f},eL:function(){return m},hM:function(){return _},hZ:function(){return s},hs:function(){return p},kN:function(){return v},l:function(){return I},lw:function(){return d},mg:function(){return l},o1:function(){return C},sC:function(){return A},t2:function(){return L},t5:function(){return O},tZ:function(){return j},ut:function(){return F},v3:function(){return R}});var r=n(19913),i=n(78115);function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function s(e,t,n,r,i,o,s,a,l,c,u,d,h,p,f,m,y){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=c,e[9]=u,e[10]=d,e[11]=h,e[12]=p,e[13]=f,e[14]=m,e[15]=y,e}function a(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function l(e,t){if(e===t){const n=t[1],r=t[2],i=t[3],o=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function c(e,t){return u(e,t)||a(e),e}function u(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],p=t[11],f=t[12],m=t[13],y=t[14],g=t[15],v=n*a-r*s,b=n*l-i*s,w=n*c-o*s,_=r*l-i*a,S=r*c-o*a,x=i*c-o*l,M=u*m-d*f,A=u*y-h*f,T=u*g-p*f,I=d*y-h*m,C=d*g-p*m,E=h*g-p*y;let k=v*E-b*C+w*I+_*T-S*A+x*M;return k?(k=1/k,e[0]=(a*E-l*C+c*I)*k,e[1]=(i*C-r*E-o*I)*k,e[2]=(m*x-y*S+g*_)*k,e[3]=(h*S-d*x-p*_)*k,e[4]=(l*T-s*E-c*A)*k,e[5]=(n*E-i*T+o*A)*k,e[6]=(y*w-f*x-g*b)*k,e[7]=(u*x-h*w+p*b)*k,e[8]=(s*C-a*T+c*M)*k,e[9]=(r*T-n*C-o*M)*k,e[10]=(f*S-m*w+g*v)*k,e[11]=(d*w-u*S-p*v)*k,e[12]=(a*A-s*I-l*M)*k,e[13]=(n*I-r*A+i*M)*k,e[14]=(m*b-f*_-y*v)*k,e[15]=(u*_-d*b+h*v)*k,e):null}function d(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],p=t[10],f=t[11],m=t[12],y=t[13],g=t[14],v=t[15];let b=n[0],w=n[1],_=n[2],S=n[3];return e[0]=b*r+w*a+_*d+S*m,e[1]=b*i+w*l+_*h+S*y,e[2]=b*o+w*c+_*p+S*g,e[3]=b*s+w*u+_*f+S*v,b=n[4],w=n[5],_=n[6],S=n[7],e[4]=b*r+w*a+_*d+S*m,e[5]=b*i+w*l+_*h+S*y,e[6]=b*o+w*c+_*p+S*g,e[7]=b*s+w*u+_*f+S*v,b=n[8],w=n[9],_=n[10],S=n[11],e[8]=b*r+w*a+_*d+S*m,e[9]=b*i+w*l+_*h+S*y,e[10]=b*o+w*c+_*p+S*g,e[11]=b*s+w*u+_*f+S*v,b=n[12],w=n[13],_=n[14],S=n[15],e[12]=b*r+w*a+_*d+S*m,e[13]=b*i+w*l+_*h+S*y,e[14]=b*o+w*c+_*p+S*g,e[15]=b*s+w*u+_*f+S*v,e}function h(e,t,n){const r=n[0],i=n[1],o=n[2];if(t===e)e[12]=t[0]*r+t[4]*i+t[8]*o+t[12],e[13]=t[1]*r+t[5]*i+t[9]*o+t[13],e[14]=t[2]*r+t[6]*i+t[10]*o+t[14],e[15]=t[3]*r+t[7]*i+t[11]*o+t[15];else{const n=t[0],s=t[1],a=t[2],l=t[3],c=t[4],u=t[5],d=t[6],h=t[7],p=t[8],f=t[9],m=t[10],y=t[11];e[0]=n,e[1]=s,e[2]=a,e[3]=l,e[4]=c,e[5]=u,e[6]=d,e[7]=h,e[8]=p,e[9]=f,e[10]=m,e[11]=y,e[12]=n*r+c*i+p*o+t[12],e[13]=s*r+u*i+f*o+t[13],e[14]=a*r+d*i+m*o+t[14],e[15]=l*r+h*i+y*o+t[15]}return e}function p(e,t,n){const r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function f(e,t,n,r){let s=r[0],a=r[1],l=r[2],c=Math.sqrt(s*s+a*a+l*l);if(c<=(0,i.FD)())return void o(e,t);c=1/c,s*=c,a*=c,l*=c;const u=Math.sin(n),d=Math.cos(n),h=1-d,p=t[0],f=t[1],m=t[2],y=t[3],g=t[4],v=t[5],b=t[6],w=t[7],_=t[8],S=t[9],x=t[10],M=t[11],A=s*s*h+d,T=a*s*h+l*u,I=l*s*h-a*u,C=s*a*h-l*u,E=a*a*h+d,k=l*a*h+s*u,P=s*l*h+a*u,R=a*l*h-s*u,O=l*l*h+d;e[0]=p*A+g*T+_*I,e[1]=f*A+v*T+S*I,e[2]=m*A+b*T+x*I,e[3]=y*A+w*T+M*I,e[4]=p*C+g*E+_*k,e[5]=f*C+v*E+S*k,e[6]=m*C+b*E+x*k,e[7]=y*C+w*E+M*k,e[8]=p*P+g*R+_*O,e[9]=f*P+v*R+S*O,e[10]=m*P+b*R+x*O,e[11]=y*P+w*R+M*O,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}function m(e,t,n){const r=Math.sin(n),i=Math.cos(n),o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*r,e[5]=s*i+u*r,e[6]=a*i+d*r,e[7]=l*i+h*r,e[8]=c*i-o*r,e[9]=u*i-s*r,e[10]=d*i-a*r,e[11]=h*i-l*r,e}function y(e,t,n){const r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],a=t[2],l=t[3],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*r,e[1]=s*i-u*r,e[2]=a*i-d*r,e[3]=l*i-h*r,e[8]=o*r+c*i,e[9]=s*r+u*i,e[10]=a*r+d*i,e[11]=l*r+h*i,e}function g(e,t,n){const r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],a=t[2],l=t[3],c=t[4],u=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*r,e[1]=s*i+u*r,e[2]=a*i+d*r,e[3]=l*i+h*r,e[4]=c*i-o*r,e[5]=u*i-s*r,e[6]=d*i-a*r,e[7]=h*i-l*r,e}function v(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function b(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function w(e,t,n){if(0===t)return a(e);let r=n[0],o=n[1],s=n[2],l=Math.sqrt(r*r+o*o+s*s);if(l<=(0,i.FD)())return null;l=1/l,r*=l,o*=l,s*=l;const c=Math.sin(t),u=Math.cos(t),d=1-u;return e[0]=r*r*d+u,e[1]=o*r*d+s*c,e[2]=s*r*d-o*c,e[3]=0,e[4]=r*o*d-s*c,e[5]=o*o*d+u,e[6]=s*o*d+r*c,e[7]=0,e[8]=r*s*d+o*c,e[9]=o*s*d-r*c,e[10]=s*s*d+u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function S(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function x(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=r+r,l=i+i,c=o+o,u=r*a,d=r*l,h=r*c,p=i*l,f=i*c,m=o*c,y=s*a,g=s*l,v=s*c;return e[0]=1-(p+m),e[1]=d+v,e[2]=h-g,e[3]=0,e[4]=d-v,e[5]=1-(u+m),e[6]=f+y,e[7]=0,e[8]=h+g,e[9]=f-y,e[10]=1-(u+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}const M=(0,r.vt)();function A(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function T(e,t){const n=t[0],r=t[1],i=t[2],o=t[4],s=t[5],a=t[6],l=t[8],c=t[9],u=t[10];return e[0]=Math.sqrt(n*n+r*r+i*i),e[1]=Math.sqrt(o*o+s*s+a*a),e[2]=Math.sqrt(l*l+c*c+u*u),e}function I(e,t){const n=t[0]+t[5]+t[10];let r=0;return n>0?(r=2*Math.sqrt(n+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e}function C(e,t,n,r){const i=t[0],o=t[1],s=t[2],a=t[3],l=i+i,c=o+o,u=s+s,d=i*l,h=i*c,p=i*u,f=o*c,m=o*u,y=s*u,g=a*l,v=a*c,b=a*u,w=r[0],_=r[1],S=r[2];return e[0]=(1-(f+y))*w,e[1]=(h+b)*w,e[2]=(p-v)*w,e[3]=0,e[4]=(h-b)*_,e[5]=(1-(d+y))*_,e[6]=(m+g)*_,e[7]=0,e[8]=(p+v)*S,e[9]=(m-g)*S,e[10]=(1-(d+f))*S,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function E(e,t,n,r,i){const o=t[0],s=t[1],a=t[2],l=t[3],c=o+o,u=s+s,d=a+a,h=o*c,p=o*u,f=o*d,m=s*u,y=s*d,g=a*d,v=l*c,b=l*u,w=l*d,_=r[0],S=r[1],x=r[2],M=i[0],A=i[1],T=i[2],I=(1-(m+g))*_,C=(p+w)*_,E=(f-b)*_,k=(p-w)*S,P=(1-(h+g))*S,R=(y+v)*S,O=(f+b)*x,N=(y-v)*x,L=(1-(h+m))*x;return e[0]=I,e[1]=C,e[2]=E,e[3]=0,e[4]=k,e[5]=P,e[6]=R,e[7]=0,e[8]=O,e[9]=N,e[10]=L,e[11]=0,e[12]=n[0]+M-(I*M+k*A+O*T),e[13]=n[1]+A-(C*M+P*A+N*T),e[14]=n[2]+T-(E*M+R*A+L*T),e[15]=1,e}function k(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=n+n,a=r+r,l=i+i,c=n*s,u=r*s,d=r*a,h=i*s,p=i*a,f=i*l,m=o*s,y=o*a,g=o*l;return e[0]=1-d-f,e[1]=u+g,e[2]=h-y,e[3]=0,e[4]=u-g,e[5]=1-c-f,e[6]=p+m,e[7]=0,e[8]=h+y,e[9]=p-m,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function P(e,t,n,r,i,o,s){const a=1/(n-t),l=1/(i-r),c=1/(o-s);return e[0]=2*o*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(i+r)*l,e[10]=(s+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*o*2*c,e[15]=0,e}function R(e,t,n,r,i,o,s){const a=1/(t-n),l=1/(r-i),c=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(i+r)*l,e[14]=(s+o)*c,e[15]=1,e}function O(e,t,n,r){const o=t[0],s=t[1],l=t[2];let c=o-n[0],u=s-n[1],d=l-n[2];const h=(0,i.FD)();if(Math.abs(c)<h&&Math.abs(u)<h&&Math.abs(d)<h)return void a(e);let p=1/Math.sqrt(c*c+u*u+d*d);c*=p,u*=p,d*=p;const f=r[0],m=r[1],y=r[2];let g=m*d-y*u,v=y*c-f*d,b=f*u-m*c;p=Math.sqrt(g*g+v*v+b*b),p?(p=1/p,g*=p,v*=p,b*=p):(g=0,v=0,b=0);let w=u*b-d*v,_=d*g-c*b,S=c*v-u*g;p=Math.sqrt(w*w+_*_+S*S),p?(p=1/p,w*=p,_*=p,S*=p):(w=0,_=0,S=0),e[0]=g,e[1]=w,e[2]=c,e[3]=0,e[4]=v,e[5]=_,e[6]=u,e[7]=0,e[8]=b,e[9]=S,e[10]=d,e[11]=0,e[12]=-(g*o+v*s+b*l),e[13]=-(w*o+_*s+S*l),e[14]=-(c*o+u*s+d*l),e[15]=1}function N(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function L(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function D(e,t){if(e===t)return!0;const n=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],p=e[10],f=e[11],m=e[12],y=e[13],g=e[14],v=e[15],b=t[0],w=t[1],_=t[2],S=t[3],x=t[4],M=t[5],A=t[6],T=t[7],I=t[8],C=t[9],E=t[10],k=t[11],P=t[12],R=t[13],O=t[14],N=t[15],L=(0,i.FD)();return Math.abs(n-b)<=L*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-w)<=L*Math.max(1,Math.abs(r),Math.abs(w))&&Math.abs(o-_)<=L*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(s-S)<=L*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(a-x)<=L*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(l-M)<=L*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(c-A)<=L*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(u-T)<=L*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(d-I)<=L*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(h-C)<=L*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(p-E)<=L*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(f-k)<=L*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(m-P)<=L*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(y-R)<=L*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(g-O)<=L*Math.max(1,Math.abs(g),Math.abs(O))&&Math.abs(v-N)<=L*Math.max(1,Math.abs(v),Math.abs(N))}function F(e){const t=(0,i.FD)(),n=e[0],r=e[1],o=e[2],s=e[4],a=e[5],l=e[6],c=e[8],u=e[9],d=e[10];return Math.abs(1-(n*n+s*s+c*c))<=t&&Math.abs(1-(r*r+a*a+u*u))<=t&&Math.abs(1-(o*o+l*l+d*d))<=t}function j(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[8]&&0===e[9]&&1===e[10]}const Z=d,U=N;Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e},adjoint:function(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],p=t[11],f=t[12],m=t[13],y=t[14],g=t[15];return e[0]=a*(h*g-p*y)-d*(l*g-c*y)+m*(l*p-c*h),e[1]=-(r*(h*g-p*y)-d*(i*g-o*y)+m*(i*p-o*h)),e[2]=r*(l*g-c*y)-a*(i*g-o*y)+m*(i*c-o*l),e[3]=-(r*(l*p-c*h)-a*(i*p-o*h)+d*(i*c-o*l)),e[4]=-(s*(h*g-p*y)-u*(l*g-c*y)+f*(l*p-c*h)),e[5]=n*(h*g-p*y)-u*(i*g-o*y)+f*(i*p-o*h),e[6]=-(n*(l*g-c*y)-s*(i*g-o*y)+f*(i*c-o*l)),e[7]=n*(l*p-c*h)-s*(i*p-o*h)+u*(i*c-o*l),e[8]=s*(d*g-p*m)-u*(a*g-c*m)+f*(a*p-c*d),e[9]=-(n*(d*g-p*m)-u*(r*g-o*m)+f*(r*p-o*d)),e[10]=n*(a*g-c*m)-s*(r*g-o*m)+f*(r*c-o*a),e[11]=-(n*(a*p-c*d)-s*(r*p-o*d)+u*(r*c-o*a)),e[12]=-(s*(d*y-h*m)-u*(a*y-l*m)+f*(a*h-l*d)),e[13]=n*(d*y-h*m)-u*(r*y-i*m)+f*(r*h-i*d),e[14]=-(n*(a*y-l*m)-s*(r*y-i*m)+f*(r*l-i*a)),e[15]=n*(a*h-l*d)-s*(r*h-i*d)+u*(r*l-i*a),e},copy:o,determinant:function(e){const t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=e[12],f=e[13],m=e[14],y=e[15];return(t*s-n*o)*(d*y-h*m)-(t*a-r*o)*(u*y-h*f)+(t*l-i*o)*(u*m-d*f)+(n*a-r*s)*(c*y-h*p)-(n*l-i*s)*(c*m-d*p)+(r*l-i*a)*(c*f-u*p)},equals:D,exactEquals:L,frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)},fromQuat:k,fromQuat2:function(e,t){const n=M,r=-t[0],i=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=r*r+i*i+o*o+s*s;return d>0?(n[0]=2*(a*s+u*r+l*o-c*i)/d,n[1]=2*(l*s+u*i+c*r-a*o)/d,n[2]=2*(c*s+u*o+a*i-l*r)/d):(n[0]=2*(a*s+u*r+l*o-c*i),n[1]=2*(l*s+u*i+c*r-a*o),n[2]=2*(c*s+u*o+a*i-l*r)),x(e,t,n),e},fromRotation:w,fromRotationTranslation:x,fromRotationTranslationScale:C,fromRotationTranslationScaleOrigin:E,fromScaling:b,fromTranslation:v,fromXRotation:_,fromYRotation:function(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromZRotation:S,frustum:P,getRotation:I,getScale:T,getTranslation:A,hasIdentityRotation:j,identity:a,invert:u,invertOrIdentity:c,isOrthoNormal:F,lookAt:O,mul:Z,multiply:d,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e},ortho:R,perspective:function(e,t,n,r,i){const o=1/Math.tan(t/2);let s;return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(s=1/(r-i),e[10]=(i+r)*s,e[14]=2*i*r*s):(e[10]=-1,e[14]=-2*r),e},perspectiveFromFieldOfView:function(e,t,n,r){const i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(s+a),c=2/(i+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(s-a)*l*.5,e[9]=(i-o)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e},rotate:f,rotateX:m,rotateY:y,rotateZ:g,scale:p,set:s,str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},sub:U,subtract:N,targetTo:function(e,t,n,r){const i=t[0],o=t[1],s=t[2],a=r[0],l=r[1],c=r[2];let u=i-n[0],d=o-n[1],h=s-n[2],p=u*u+d*d+h*h;p>0&&(p=1/Math.sqrt(p),u*=p,d*=p,h*=p);let f=l*h-c*d,m=c*u-a*h,y=a*d-l*u;return p=f*f+m*m+y*y,p>0&&(p=1/Math.sqrt(p),f*=p,m*=p,y*=p),e[0]=f,e[1]=m,e[2]=y,e[3]=0,e[4]=d*y-h*m,e[5]=h*f-u*y,e[6]=u*m-d*f,e[7]=0,e[8]=u,e[9]=d,e[10]=h,e[11]=0,e[12]=i,e[13]=o,e[14]=s,e[15]=1,e},translate:h,transpose:l},Symbol.toStringTag,{value:"Module"}))},25376:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});var r=n(81482);function i(e,t,n){let i,o;return void 0===t||Array.isArray(t)?(o=e,n=t,i=[void 0]):(o=t,i=Array.isArray(e)?e:[e]),(e,t)=>{const s=e.constructor.prototype;i.forEach((i=>{const a=(0,r.rM)(e,i,o);a.read&&"object"==typeof a.read||(a.read={}),a.read.reader=s[t],n&&(a.read.source=(a.read.source||[]).concat(n))}))}}},25758:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r,i=n(82392),o=n(93814),s=n(15565),a=n(81482),l=n(8636),c=n(85716),u=n(26325),d=n(77023);let h=r=class extends d.A{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new r({fromColor:(0,s.o8)(this.fromColor),toColor:(0,s.o8)(this.toColor),algorithm:this.algorithm})}};(0,i._)([(0,c.e)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],h.prototype,"algorithm",void 0),(0,i._)([(0,a.MZ)({type:o.A,json:{type:[l.jz],write:!0}})],h.prototype,"fromColor",void 0),(0,i._)([(0,a.MZ)({type:o.A,json:{type:[l.jz],write:!0}})],h.prototype,"toColor",void 0),(0,i._)([(0,a.MZ)({type:["algorithmic"]})],h.prototype,"type",void 0),h=r=(0,i._)([(0,u.$)("esri.rest.support.AlgorithmicColorRamp")],h)},26325:function(e,t,n){"use strict";n.d(t,{$:function(){return d}});n(6273);var r=n(80861),i=n(90199),o=n(44),s=n(88135),a=n(99595),l=n(12945);const c=new Set,u=new Set;function d(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,p(t);const n=[],r=[];let a=t.prototype;for(;a;)a.hasOwnProperty("initialize")&&!c.has(a.initialize)&&(c.add(a.initialize),n.push(a.initialize)),a.hasOwnProperty("destroy")&&!u.has(a.destroy)&&(u.add(a.destroy),r.push(a.destroy)),a=Object.getPrototypeOf(a);c.clear(),u.clear();const l=class extends t{constructor(...e){if(super(...e),this.constructor===l&&"function"==typeof this.postscript){if(n.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let e=n.length-1;e>=0;e--)n[e].call(this)}}),r.length){let e=!1;const t=this[i.G];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!e){this.__accessor__.lifecycle=o.v.DESTROYING,e=!0,t.call(this);for(let e=0;e<r.length;e++)r[e].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};l.__accessorMetadata__=(0,s.tD)(t.prototype),l.prototype.declaredClass=e;const d=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(l,"name",{value:d,configurable:!0}),l}}function h(e,t){return null==t.get?function(){const t=this.__accessor__,n=t.propertiesByName.get(e);if(void 0===n)return;t.mutable&&(0,a.gc)(n);const r=t.store;return r.has(e)?r.get(e):n.metadata.value}:function(){const t=this.__accessor__,n=t.propertiesByName.get(e);if(void 0!==n)return n.getComputed(t)}}function p(e){const t=e.prototype,n=(0,s.tD)(t),r={};for(const e of Object.getOwnPropertyNames(n)){const t=n[e];(0,l.qk)(t),r[e]={enumerable:!0,configurable:!0,get:h(e,t),set(n){const r=this.__accessor__;if(void 0!==r){if(r.mutable)return r.initialized&&t.readOnly?f("read-only",e):r.lifecycle===o.v.CONSTRUCTED&&t.constructOnly?f("construct-only",e):void r.set(e,n)}else Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}}}Object.defineProperties(e.prototype,r)}const f=(e,t)=>{r.A.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)}},26376:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},r=function(e,t,r,i){return n[e]};t.default=r,e.exports=t.default},26463:function(e,t,n){"use strict";n.d(t,{i:function(){return r},p:function(){return o}});const r=(0,n(6273).A)("mac")?"Meta":"Control",i=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),o=e=>i.has(e)},26554:function(e,t,n){"use strict";function r(e,t){let n=0,r="",i=0,o=0;const s=e.length;for(;n<s;)o=e[n++],i=o>>4,i<8?i=1:15===i?(i=4,o=(7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++]):14===i?(i=3,o=(15&o)<<12|(63&e[n++])<<6|63&e[n++]):(i=2,o=(31&o)<<6|63&e[n++]),(0!==o||t)&&(r+=String.fromCharCode(o));return r}n.d(t,{w:function(){return r}})},26574:function(e,t,n){"use strict";n.d(t,{A:function(){return _}});var r,i=n(82392),o=n(1817),s=n(84977),a=n(5262),l=n(81482),c=n(8636),u=(n(6273),n(67498),n(25376)),d=n(26325),h=n(48524),p=n(1912),f=n(44153),m=n(2532),y=n(67488),g=n(64672),v=n(79083),b=n(10259);const w=new o.J({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let _=class extends s.A{static{r=this}static create(e={}){const{resolutionFactor:t=1,scales:n,size:i=256,spatialReference:o=f.A.WebMercator,numLODs:s=24}=e;if(!(0,y.fn)(o)){const e=[];if(n)for(let t=0;t<n.length;t++){const r=n[t];e.push(new v.A({level:t,scale:r,resolution:r}))}else{let t=5e-4;for(let n=s-1;n>=0;n--)e.unshift(new v.A({level:n,scale:t,resolution:t})),t*=2}return new r({dpi:96,lods:e,origin:new p.A(0,0,o),size:[i,i],spatialReference:o})}const l=(0,y.Vp)(o),c=e.origin?new p.A({x:e.origin.x,y:e.origin.y,spatialReference:o}):new p.A(l?{x:l.origin[0],y:l.origin[1],spatialReference:o}:{x:0,y:0,spatialReference:o}),u=1/(39.37*(0,a.GA)(o)*96),d=[];if(n)for(let e=0;e<n.length;e++){const t=n[e],r=t*u;d.push(new v.A({level:e,scale:t,resolution:r}))}else{let e=(0,y.EA)(o)?512/i*591657527.5917094:256/i*591657527.591555;const n=Math.ceil(s/t);d.push(new v.A({level:0,scale:e,resolution:e*u}));for(let r=1;r<n;r++){const n=e/2**t,i=n*u;d.push(new v.A({level:r,scale:n,resolution:i})),e=n}}return new r({dpi:96,lods:d,origin:c,size:[i,i],spatialReference:o})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const n=(0,y.Vp)(e);return e.isWrappable&&!!n&&Math.abs(n.origin[0]-t.x)<=n.dx}return!1}readOrigin(e,t){return p.A.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,n=0;const r=[],i=this._levelToLOD={};e&&(t=-1/0,n=1/0,e.forEach((e=>{r.push(e.scale),t=e.scale>t?e.scale:t,n=e.scale<n?e.scale:n,i[e.level]=e}))),this._set("scales",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const n=Math.floor(e),r=n+1;return t[n]/(t[n]/t[r])**(e-n)}scaleToZoom(e){const t=this.scales,n=t.length-1;let r=0;for(;r<n;r++){const n=t[r],i=t[r+1];if(n<=e)return r;if(i===e)return r+1;if(n>e&&i<e)return r+Math.log(n/e)/Math.log(n/i)}return r}tileAt(e,t,n,r){const i=this.lodAt(e);if(!i)return null;let o,s;if("number"==typeof t)o=t,s=n;else if((0,y.aI)(t.spatialReference,this.spatialReference))o=t.x,s=t.y,r=n;else{const e=(0,g.Cv)(t,this.spatialReference);if(null==e)return null;o=e.x,s=e.y,r=n}const a=i.resolution*this.size[0],l=i.resolution*this.size[1];return r||(r=new b.U(null,0,0,0,(0,m.vt)())),r.level=e,r.row=Math.floor((this.origin.y-s)/l+.001),r.col=Math.floor((o-this.origin.x)/a+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=r.ExtrapolateOptions.NONE){let n=this.lodAt(e.level);if(!n&&t===r.ExtrapolateOptions.POWER_OF_TWO){const t=this.lods[this.lods.length-1];t.level<e.level&&(n=t)}if(!n)return;const i=e.level-n.level,o=n.resolution*this.size[0]/2**i,s=n.resolution*this.size[1]/2**i;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=(0,m.vt)()),e.extent[0]=this.origin.x+e.col*o,e.extent[1]=this.origin.y-(e.row+1)*s,e.extent[2]=e.extent[0]+o,e.extent[3]=e.extent[1]+s}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel||(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),0))}getTileBounds(e,t){const n=this.lodAt(t.level);if(null==n)return null;const{resolution:r}=n,i=r*this.size[0],o=r*this.size[1];return e[0]=this.origin.x+t.col*i,e[1]=this.origin.y-(t.row+1)*o,e[2]=e[0]+i,e[3]=e[1]+o,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return r.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||256===this.size[0]&&512===e)return null;const t=(512===this.size[0]&&256===e?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&0===t)return this;const n=[],i=this.lods.length-t;for(let e=0;e<i;e++){const r=e+t,{scale:i,resolution:o}=r>=0?this.lods[r]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};n.push(new v.A({level:e,scale:i,resolution:o}))}return new r({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:n})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let n=0;n<e.length;n++){const r=e[n];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}};var S,x;(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],_.prototype,"compressionQuality",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],_.prototype,"dpi",void 0),(0,i._)([(0,l.MZ)({type:String,json:{read:w.read,write:w.write,origins:{"web-scene":{read:!1,write:!1}}}})],_.prototype,"format",void 0),(0,i._)([(0,l.MZ)({readOnly:!0})],_.prototype,"isWrappable",null),(0,i._)([(0,l.MZ)({type:p.A,json:{write:!0}})],_.prototype,"origin",void 0),(0,i._)([(0,u.w)("origin")],_.prototype,"readOrigin",null),(0,i._)([(0,l.MZ)({type:[v.A],value:null,json:{write:!0}})],_.prototype,"lods",null),(0,i._)([(0,l.MZ)({readOnly:!0})],_.prototype,"scales",void 0),(0,i._)([(0,l.MZ)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],_.prototype,"size",void 0),(0,i._)([(0,u.w)("size",["rows","cols"])],_.prototype,"readSize",null),(0,i._)([(0,h.K)("size",{cols:{type:c.jz},rows:{type:c.jz}})],_.prototype,"writeSize",null),(0,i._)([(0,l.MZ)({type:f.A,json:{write:!0}})],_.prototype,"spatialReference",void 0),_=r=(0,i._)([(0,d.$)("esri.layers.support.TileInfo")],_),S=_||(_={}),(x=S.ExtrapolateOptions||(S.ExtrapolateOptions={}))[x.NONE=0]="NONE",x[x.POWER_OF_TWO=1]="POWER_OF_TWO"},26830:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRoundedTimestamp=void 0;t.getRoundedTimestamp=(e=5)=>{const t=6e4*(e=e||5),n=new Date;return new Date(Math.floor(n.getTime()/t)*t).getTime()/1e3}},27190:function(e,t,n){"use strict";n.d(t,{V:function(){return c},W:function(){return u}});var r=n(34088);let i=!1;const o=e=>{i=!0,(0,r.s)(e)};var s=n(44764),a=(n(6273),n(19759));let l;function c(){i||o((0,a.s2)((0,s.s)(l)))}function u(e){const t=[];for(const n of Object.keys(e))customElements.get(`calcite-${n}`)||t.push(e[n]?.());return t.length>0?Promise.all(t):null}l="components/assets"},27303:function(e,t,n){"use strict";n.d(t,{d:function(){return s}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(26325));const s=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return(0,r._)([(0,i.MZ)({type:Object,json:{write:{overridePolicy:e=>({enabled:!!(e&&Object.keys(e).length>0)})}}})],t.prototype,"customParameters",void 0),t=(0,r._)([(0,o.$)("esri.layers.mixins.CustomParametersMixin")],t),t}},27355:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var r,i=n(90618),o={exports:{}};const s=(0,i.g)(function(){return r||(r=1,e=o,t=function(){var e=function(){function e(e){this.message="JPEG error: "+e}return e.prototype=new Error,e.prototype.name="JpegError",e.constructor=e,e}();return function(){if(!self||!self.Uint8ClampedArray)return null;var t=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),n=4017,r=799,i=3406,o=2276,s=1567,a=3784,l=5793,c=2896;function u(){this.decodeTransform=null,this.colorTransform=-1}function d(e,t){for(var n,r,i=0,o=[],s=16;s>0&&!e[s-1];)s--;o.push({children:[],index:0});var a,l=o[0];for(n=0;n<s;n++){for(r=0;r<e[n];r++){for((l=o.pop()).children[l.index]=t[i];l.index>0;)l=o.pop();for(l.index++,o.push(l);o.length<=n;)o.push(a={children:[],index:0}),l.children[l.index]=a.children,l=a;i++}n+1<s&&(o.push(a={children:[],index:0}),l.children[l.index]=a.children,l=a)}return o[0].children}function h(e,t,n){return 64*((e.blocksPerLine+1)*t+n)}function p(n,r,i,o,s,a,l,c,u){var d=i.mcusPerLine,p=i.progressive,f=r,m=0,g=0;function v(){if(g>0)return g--,m>>g&1;if(255===(m=n[r++])){var t=n[r++];if(t)throw new e("unexpected marker "+(m<<8|t).toString(16))}return g=7,m>>>7}function b(t){for(var n=t;;){if("number"==typeof(n=n[v()]))return n;if("object"!=typeof n)throw new e("invalid huffman sequence")}}function w(e){for(var t=0;e>0;)t=t<<1|v(),e--;return t}function _(e){if(1===e)return 1===v()?1:-1;var t=w(e);return t>=1<<e-1?t:t+(-1<<e)+1}var S=0;var x,M=0;function A(e,t,n,r,i){var o=n%d;t(e,h(e,(n/d|0)*e.v+r,o*e.h+i))}function T(e,t,n){t(e,h(e,n/e.blocksPerLine|0,n%e.blocksPerLine))}var I,C,E,k,P,R,O=o.length;R=p?0===a?0===c?function(e,t){var n=b(e.huffmanTableDC),r=0===n?0:_(n)<<u;e.blockData[t]=e.pred+=r}:function(e,t){e.blockData[t]|=v()<<u}:0===c?function(e,n){if(S>0)S--;else for(var r=a,i=l;r<=i;){var o=b(e.huffmanTableAC),s=15&o,c=o>>4;if(0!==s){var d=t[r+=c];e.blockData[n+d]=_(s)*(1<<u),r++}else{if(c<15){S=w(c)+(1<<c)-1;break}r+=16}}}:function(n,r){for(var i,o,s=a,c=l,d=0;s<=c;){var h=t[s];switch(M){case 0:if(d=(o=b(n.huffmanTableAC))>>4,0==(i=15&o))d<15?(S=w(d)+(1<<d),M=4):(d=16,M=1);else{if(1!==i)throw new e("invalid ACn encoding");x=_(i),M=d?2:3}continue;case 1:case 2:n.blockData[r+h]?n.blockData[r+h]+=v()<<u:0==--d&&(M=2===M?3:0);break;case 3:n.blockData[r+h]?n.blockData[r+h]+=v()<<u:(n.blockData[r+h]=x<<u,M=0);break;case 4:n.blockData[r+h]&&(n.blockData[r+h]+=v()<<u)}s++}4===M&&0==--S&&(M=0)}:function(e,n){var r=b(e.huffmanTableDC),i=0===r?0:_(r);e.blockData[n]=e.pred+=i;for(var o=1;o<64;){var s=b(e.huffmanTableAC),a=15&s,l=s>>4;if(0!==a){var c=t[o+=l];e.blockData[n+c]=_(a),o++}else{if(l<15)break;o+=16}}};var N,L,D,F,j=0;for(L=1===O?o[0].blocksPerLine*o[0].blocksPerColumn:d*i.mcusPerColumn;j<L;){var Z=s?Math.min(L-j,s):L;for(C=0;C<O;C++)o[C].pred=0;if(S=0,1===O)for(I=o[0],P=0;P<Z;P++)T(I,R,j),j++;else for(P=0;P<Z;P++){for(C=0;C<O;C++)for(D=(I=o[C]).h,F=I.v,E=0;E<F;E++)for(k=0;k<D;k++)A(I,R,j,E,k);j++}g=0,(N=y(n,r))&&N.invalid&&(r=N.offset);var U=N&&N.marker;if(!U||U<=65280)throw new e("marker was not found");if(!(U>=65488&&U<=65495))break;r+=2}return(N=y(n,r))&&N.invalid&&(r=N.offset),r-f}function f(t,u,d){var h,p,f,m,y,g,v,b,w,_,S,x,M,A,T,I,C,E=t.quantizationTable,k=t.blockData;if(!E)throw new e("missing required Quantization Table.");for(var P=0;P<64;P+=8)w=k[u+P],_=k[u+P+1],S=k[u+P+2],x=k[u+P+3],M=k[u+P+4],A=k[u+P+5],T=k[u+P+6],I=k[u+P+7],w*=E[P],_|S|x|M|A|T|I?(_*=E[P+1],S*=E[P+2],x*=E[P+3],M*=E[P+4],A*=E[P+5],T*=E[P+6],I*=E[P+7],p=(h=(h=l*w+128>>8)+(p=l*M+128>>8)+1>>1)-p,C=(f=S)*a+(m=T)*s+128>>8,f=f*s-m*a+128>>8,v=(y=(y=c*(_-I)+128>>8)+(v=A<<4)+1>>1)-v,g=(b=(b=c*(_+I)+128>>8)+(g=x<<4)+1>>1)-g,m=(h=h+(m=C)+1>>1)-m,f=(p=p+f+1>>1)-f,C=y*o+b*i+2048>>12,y=y*i-b*o+2048>>12,b=C,C=g*r+v*n+2048>>12,g=g*n-v*r+2048>>12,v=C,d[P]=h+b,d[P+7]=h-b,d[P+1]=p+v,d[P+6]=p-v,d[P+2]=f+g,d[P+5]=f-g,d[P+3]=m+y,d[P+4]=m-y):(C=l*w+512>>10,d[P]=C,d[P+1]=C,d[P+2]=C,d[P+3]=C,d[P+4]=C,d[P+5]=C,d[P+6]=C,d[P+7]=C);for(var R=0;R<8;++R)w=d[R],(_=d[R+8])|(S=d[R+16])|(x=d[R+24])|(M=d[R+32])|(A=d[R+40])|(T=d[R+48])|(I=d[R+56])?(p=(h=4112+((h=l*w+2048>>12)+(p=l*M+2048>>12)+1>>1))-p,C=(f=S)*a+(m=T)*s+2048>>12,f=f*s-m*a+2048>>12,m=C,v=(y=(y=c*(_-I)+2048>>12)+(v=A)+1>>1)-v,g=(b=(b=c*(_+I)+2048>>12)+(g=x)+1>>1)-g,C=y*o+b*i+2048>>12,y=y*i-b*o+2048>>12,b=C,C=g*r+v*n+2048>>12,g=g*n-v*r+2048>>12,w=(w=(h=h+m+1>>1)+b)<16?0:w>=4080?255:w>>4,_=(_=(p=p+f+1>>1)+(v=C))<16?0:_>=4080?255:_>>4,S=(S=(f=p-f)+g)<16?0:S>=4080?255:S>>4,x=(x=(m=h-m)+y)<16?0:x>=4080?255:x>>4,M=(M=m-y)<16?0:M>=4080?255:M>>4,A=(A=f-g)<16?0:A>=4080?255:A>>4,T=(T=p-v)<16?0:T>=4080?255:T>>4,I=(I=h-b)<16?0:I>=4080?255:I>>4,k[u+R]=w,k[u+R+8]=_,k[u+R+16]=S,k[u+R+24]=x,k[u+R+32]=M,k[u+R+40]=A,k[u+R+48]=T,k[u+R+56]=I):(C=(C=l*w+8192>>14)<-2040?0:C>=2024?255:C+2056>>4,k[u+R]=C,k[u+R+8]=C,k[u+R+16]=C,k[u+R+24]=C,k[u+R+32]=C,k[u+R+40]=C,k[u+R+48]=C,k[u+R+56]=C)}function m(e,t){for(var n=t.blocksPerLine,r=t.blocksPerColumn,i=new Int16Array(64),o=0;o<r;o++)for(var s=0;s<n;s++)f(t,h(t,o,s),i);return t.blockData}function y(e,t,n){function r(t){return e[t]<<8|e[t+1]}var i=e.length-1,o=n<t?n:t;if(t>=i)return null;var s=r(t);if(s>=65472&&s<=65534)return{invalid:null,marker:s,offset:t};for(var a=r(o);!(a>=65472&&a<=65534);){if(++o>=i)return null;a=r(o)}return{invalid:s.toString(16),marker:a,offset:o}}return u.prototype={parse:function(n){function r(){var e=n[l]<<8|n[l+1];return l+=2,e}function i(){var e=r(),t=l+e-2,i=y(n,t,l);i&&i.invalid&&(t=i.offset);var o=n.subarray(l,t);return l+=o.length,o}function o(e){for(var t=Math.ceil(e.samplesPerLine/8/e.maxH),n=Math.ceil(e.scanLines/8/e.maxV),r=0;r<e.components.length;r++){j=e.components[r];var i=Math.ceil(Math.ceil(e.samplesPerLine/8)*j.h/e.maxH),o=Math.ceil(Math.ceil(e.scanLines/8)*j.v/e.maxV),s=t*j.h,a=n*j.v*64*(s+1);j.blockData=new Int16Array(a),j.blocksPerLine=i,j.blocksPerColumn=o}e.mcusPerLine=t,e.mcusPerColumn=n}var s,a,l=0,c=null,u=null,h=[],f=[],g=[],v=r();if(65496!==v)throw new e("SOI not found");for(v=r();65497!==v;){var b,w,_;switch(v){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var S=i();65504===v&&74===S[0]&&70===S[1]&&73===S[2]&&70===S[3]&&0===S[4]&&(c={version:{major:S[5],minor:S[6]},densityUnits:S[7],xDensity:S[8]<<8|S[9],yDensity:S[10]<<8|S[11],thumbWidth:S[12],thumbHeight:S[13],thumbData:S.subarray(14,14+3*S[12]*S[13])}),65518===v&&65===S[0]&&100===S[1]&&111===S[2]&&98===S[3]&&101===S[4]&&(u={version:S[5]<<8|S[6],flags0:S[7]<<8|S[8],flags1:S[9]<<8|S[10],transformCode:S[11]});break;case 65499:for(var x=r()+l-2;l<x;){var M=n[l++],A=new Uint16Array(64);if(M>>4){if(M>>4!=1)throw new e("DQT - invalid table spec");for(w=0;w<64;w++)A[t[w]]=r()}else for(w=0;w<64;w++)A[t[w]]=n[l++];h[15&M]=A}break;case 65472:case 65473:case 65474:if(s)throw new e("Only single frame JPEGs supported");r(),(s={}).extended=65473===v,s.progressive=65474===v,s.precision=n[l++],s.scanLines=r(),s.samplesPerLine=r(),s.components=[],s.componentIds={};var T,I=n[l++],C=0,E=0;for(b=0;b<I;b++){T=n[l];var k=n[l+1]>>4,P=15&n[l+1];C<k&&(C=k),E<P&&(E=P);var R=n[l+2];_=s.components.push({h:k,v:P,quantizationId:R,quantizationTable:null}),s.componentIds[T]=_-1,l+=3}s.maxH=C,s.maxV=E,o(s);break;case 65476:var O=r();for(b=2;b<O;){var N=n[l++],L=new Uint8Array(16),D=0;for(w=0;w<16;w++,l++)D+=L[w]=n[l];var F=new Uint8Array(D);for(w=0;w<D;w++,l++)F[w]=n[l];b+=17+D,(N>>4?f:g)[15&N]=d(L,F)}break;case 65501:r(),a=r();break;case 65498:r();var j,Z=n[l++],U=[];for(b=0;b<Z;b++){var z=s.componentIds[n[l++]];j=s.components[z];var V=n[l++];j.huffmanTableDC=g[V>>4],j.huffmanTableAC=f[15&V],U.push(j)}var B=n[l++],$=n[l++],G=n[l++],q=p(n,l,s,U,a,B,$,G>>4,15&G);l+=q;break;case 65535:255!==n[l]&&l--;break;default:if(255===n[l-3]&&n[l-2]>=192&&n[l-2]<=254){l-=3;break}throw new e("unknown marker "+v.toString(16))}v=r()}for(this.width=s.samplesPerLine,this.height=s.scanLines,this.jfif=c,this.eof=l,this.adobe=u,this.components=[],b=0;b<s.components.length;b++){var H=h[(j=s.components[b]).quantizationId];H&&(j.quantizationTable=H),this.components.push({output:m(0,j),scaleX:j.h/s.maxH,scaleY:j.v/s.maxV,blocksPerLine:j.blocksPerLine,blocksPerColumn:j.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(e,t){var n,r,i,o,s,a,l,c,u,d,h,p=this.width/e,f=this.height/t,m=0,y=this.components.length,g=e*t*y,v=new Uint8ClampedArray(g),b=new Uint32Array(e),w=4294967288;for(l=0;l<y;l++){for(r=(n=this.components[l]).scaleX*p,i=n.scaleY*f,m=l,h=n.output,o=n.blocksPerLine+1<<3,s=0;s<e;s++)c=0|s*r,b[s]=(c&w)<<3|7&c;for(a=0;a<t;a++)for(d=o*((c=0|a*i)&w)|(7&c)<<3,s=0;s<e;s++)v[m]=h[d+b[s]],m+=y}var _=this.decodeTransform;if(_)for(l=0;l<g;)for(c=0,u=0;c<y;c++,l++,u+=2)v[l]=(v[l]*_[u]>>8)+_[u+1];return v},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this.colorTransform:1===this.colorTransform},_convertYccToRgb:function(e){for(var t,n,r,i=0,o=e.length;i<o;i+=3)t=e[i],n=e[i+1],r=e[i+2],e[i]=t-179.456+1.402*r,e[i+1]=t+135.459-.344*n-.714*r,e[i+2]=t-226.816+1.772*n;return e},_convertYcckToRgb:function(e){for(var t,n,r,i,o=0,s=0,a=e.length;s<a;s+=4)t=e[s],n=e[s+1],r=e[s+2],i=e[s+3],e[o++]=n*(-660635669420364e-19*n+.000437130475926232*r-54080610064599e-18*t+.00048449797120281*i-.154362151871126)-122.67195406894+r*(-.000957964378445773*r+.000817076911346625*t-.00477271405408747*i+1.53380253221734)+t*(.000961250184130688*t-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),e[o++]=107.268039397724+n*(219927104525741e-19*n-.000640992018297945*r+.000659397001245577*t+.000426105652938837*i-.176491792462875)+r*(-.000778269941513683*r+.00130872261408275*t+.000770482631801132*i-.151051492775562)+t*(.00126935368114843*t-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),e[o++]=n*(-.000570115196973677*n-263409051004589e-19*r+.0020741088115012*t-.00288260236853442*i+.814272968359295)-20.810012546947+r*(-153496057440975e-19*r-.000132689043961446*t+.000560833691242812*i-.195152027534049)+t*(.00174418132927582*t-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return e},_convertYcckToCmyk:function(e){for(var t,n,r,i=0,o=e.length;i<o;i+=4)t=e[i],n=e[i+1],r=e[i+2],e[i]=434.456-t-1.402*r,e[i+1]=119.541-t+.344*n+.714*r,e[i+2]=481.816-t-1.772*n;return e},_convertCmykToRgb:function(e){for(var t,n,r,i,o=0,s=1/255,a=0,l=e.length;a<l;a+=4)t=e[a]*s,n=e[a+1]*s,r=e[a+2]*s,i=e[a+3]*s,e[o++]=255+t*(-4.387332384609988*t+54.48615194189176*n+18.82290502165302*r+212.25662451639585*i-285.2331026137004)+n*(1.7149763477362134*n-5.6096736904047315*r-17.873870861415444*i-5.497006427196366)+r*(-2.5217340131683033*r-21.248923337353073*i+17.5119270841813)-i*(21.86122147463605*i+189.48180835922747),e[o++]=255+t*(8.841041422036149*t+60.118027045597366*n+6.871425592049007*r+31.159100130055922*i-79.2970844816548)+n*(-15.310361306967817*n+17.575251261109482*r+131.35250912493976*i-190.9453302588951)+r*(4.444339102852739*r+9.8632861493405*i-24.86741582555878)-i*(20.737325471181034*i+187.80453709719578),e[o++]=255+t*(.8842522430003296*t+8.078677503112928*n+30.89978309703729*r-.23883238689178934*i-14.183576799673286)+n*(10.49593273432072*n+63.02378494754052*r+50.606957656360734*i-112.23884253719248)+r*(.03296041114873217*r+115.60384449646641*i-193.58209356861505)-i*(22.33816807309886*i+180.12613974708367);return e},getData:function(t,n,r){if(this.numComponents>4)throw new e("Unsupported color mode");var i=this._getLinearizedBlockData(t,n);if(1===this.numComponents&&r){for(var o=i.length,s=new Uint8ClampedArray(3*o),a=0,l=0;l<o;l++){var c=i[l];s[a++]=c,s[a++]=c,s[a++]=c}return s}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(i);if(4===this.numComponents){if(this._isColorConversionNeeded())return r?this._convertYcckToRgb(i):this._convertYcckToCmyk(i);if(r)return this._convertCmykToRgb(i)}return i}},u}()},void 0!==(n=t())&&(e.exports=n)),o.exports;var e,t,n}())},27448:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(82392),i=n(1817),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325));const l=new i.J({startingPoint:"starting-point",barrier:"barrier",stoppingPoint:"stopping-point"});let c=class extends o.A{constructor(e){super(e),this.globalId=null,this.isFilterBarrier=!1,this.percentAlong=null,this.terminalId=null,this.type=null,this.firstUnit=null,this.numUnits=null}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"globalId",void 0),(0,r._)([(0,s.MZ)({type:Boolean,json:{write:!0}})],c.prototype,"isFilterBarrier",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"percentAlong",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"terminalId",void 0),(0,r._)([(0,s.MZ)({type:l.apiValues,json:{type:l.jsonValues,read:{reader:l.read,source:"traceLocationType"},write:{writer:l.write,target:"traceLocationType"}}})],c.prototype,"type",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"firstUnit",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"numUnits",void 0),c=(0,r._)([(0,a.$)("esri.rest.networks.support.TraceLocation")],c);const u=c},27805:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(62991);let i=class e{constructor(e,t,n=""){this.major=e,this.minor=t,this._context=n}lessThan(e,t){return this.major<e||e===this.major&&this.minor<t}greaterEqual(e,t){return!this.lessThan(e,t)}validate(e){if(this.major!==e.major){const t=this._context&&this._context+":",n=this._context&&this._context+" ";throw new r.A(t+"unsupported-version",`Required major ${n}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new e(this.major,this.minor,this._context)}static parse(t,n=""){const[i,o]=t.split("."),s=/^\s*\d+\s*$/;if(!i?.match||!s.test(i))throw new r.A((n&&n+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!o?.match||!s.test(o))throw new r.A((n&&n+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const a=parseInt(i,10),l=parseInt(o,10);return new e(a,l,n)}}},27963:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});var r,i=n(82392),o=n(84977),s=n(15565),a=n(81482),l=(n(6273),n(80861),n(26325)),c=n(48524),u=n(1912),d=n(56053),h=n(54483),p=n(10576),f=n(96949),m=n(72991);let y=r=class extends o.A{constructor(){super(...arguments),this.geometry=null,this.mosaicRule=null,this.rasterFunction=null,this.pixelSize=null,this.raster=void 0,this.timeExtent=null}writeGeometry(e,t,n){null!=e&&(t.geometryType=(0,d.$B)(e),t[n]=e.toJSON())}clone(){return new r((0,s.o8)({geometry:this.geometry,mosaicRule:this.mosaicRule,rasterFunction:this.rasterFunction,pixelSize:this.pixelSize,raster:this.raster,timeExtent:this.timeExtent}))}};(0,i._)([(0,a.MZ)({types:h.yR,json:{read:d.rS}})],y.prototype,"geometry",void 0),(0,i._)([(0,c.K)("geometry")],y.prototype,"writeGeometry",null),(0,i._)([(0,a.MZ)({type:p.A,json:{write:!0}})],y.prototype,"mosaicRule",void 0),(0,i._)([(0,a.MZ)({type:f.A,json:{write:!0,name:"renderingRule"}})],y.prototype,"rasterFunction",void 0),(0,i._)([(0,a.MZ)({type:u.A,json:{write:!0}})],y.prototype,"pixelSize",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],y.prototype,"raster",void 0),(0,i._)([(0,a.MZ)({type:m.T,json:{read:{source:"time"},write:{target:"time"}}})],y.prototype,"timeExtent",void 0),y=r=(0,i._)([(0,l.$)("esri.rest.support.ImageHistogramParameters")],y)},28107:function(e,t,n){"use strict";n.d(t,{A:function(){return S}});var r=n(82392),i=n(23572),o=n(81482),s=(n(6273),n(80861),n(67498),n(85716)),a=n(26325),l=n(93814),c=n(14755),u=n(84977),d=n(8636),h=n(75190);let p=class extends(c.A.ClonableMixin(u.A)){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return null!=e&&e.placement===this.placement&&e.style===this.style&&(null==this.color&&null==e.color||null!=this.color&&null!=e.color&&this.color.toJSON()===e.color.toJSON())}};(0,r._)([(0,o.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],p.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:h.x,json:{default:"begin-end",write:!0}})],p.prototype,"placement",void 0),(0,r._)([(0,o.MZ)({type:h.z,json:{default:"arrow",write:!0}})],p.prototype,"style",void 0),(0,r._)([(0,o.MZ)({type:l.A,json:{type:[d.jz],default:null,write:!0}})],p.prototype,"color",void 0),p=(0,r._)([(0,a.$)("esri.symbols.LineStyleMarker3D")],p);var f,m=n(81327),y=n(31656),g=n(53182),v=n(66215),b=n(30361),w=n(4068),_=n(41394);let S=class extends m.A{static{f=this}constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,i.PN)(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new f(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width??(0,i.PN)(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new y.A({style:e.style}):null,material:new w.N({color:(e.color||v.ON).clone()}),marker:e.marker?new p({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new f(t)}};(0,r._)([(0,o.MZ)({type:w.N,json:{write:!0}})],S.prototype,"material",void 0),(0,r._)([(0,s.e)({Line:"line"},{readOnly:!0})],S.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:_.e,json:{write:!0,default:"miter"}})],S.prototype,"join",void 0),(0,r._)([(0,o.MZ)({type:_.M4,json:{write:!0,default:"butt"}})],S.prototype,"cap",void 0),(0,r._)([(0,o.MZ)({...b.pI,json:{write:{isRequired:!0}}})],S.prototype,"size",void 0),(0,r._)([(0,o.MZ)(g.v)],S.prototype,"pattern",void 0),(0,r._)([(0,o.MZ)({types:{key:"type",base:p,typeMap:{style:p}},json:{write:!0}})],S.prototype,"marker",void 0),S=f=(0,r._)([(0,a.$)("esri.symbols.LineSymbol3DLayer")],S)},28208:function(e,t,n){"use strict";n.d(t,{$B:function(){return i},Qf:function(){return c},Qh:function(){return a},RS:function(){return o},ez:function(){return h},i5:function(){return p},lM:function(){return s},qK:function(){return d}});var r=n(62088);function i(e){return 32+e.length}const o=16;function s(e){if(!e)return 0;let t=d;for(const n in e)e.hasOwnProperty(n)&&(t+=l(e[n],!1));return t}function a(e){if(!e)return 0;if("number"==typeof e[0])return c(e);if(Array.isArray(e))return function(e){const t=e.length;if(0===t||"number"==typeof e[0])return u(e,8);let n=h;for(let r=0;r<t;r++)n+=l(e[r]);return n}(e);let t=d;for(const n in e)e.hasOwnProperty(n)&&(t+=l(e[n]));return t}function l(e,t=!0){switch(typeof e){case"object":return t?a(e):d;case"string":return i(e);case"number":return o;case"boolean":return 4;default:return 8}}function c(...e){return e.reduce(((e,t)=>e+(t?(0,r.iu)(t)?t.byteLength+p:Array.isArray(t)?u(t,o):0:0)),0)}function u(e,t){return h+e.length*t}const d=32,h=16,p=145},28300:function(e,t,n){"use strict";n.d(t,{lY:function(){return h},mT:function(){return p}});var r,i=n(58201),o=n(21332),s=n(69967),a=n(96285);(r||(r={})).TimeZoneNotRecognized="TimeZoneNotRecognized";const l={[r.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};class c extends Error{constructor(e,t){super((0,o.HC)(l[e],t)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,c)}}function u(e,t,n){return e<t?e-t:e>n?e-n:0}function d(e,t,n){return e<t?t:e>n?n:e}class h{constructor(e){this._date=e,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(e=0,t=1,n=1,r=0,i=0,o=0,s=0,l){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||isNaN(s))return null;const c=a.c9.local(e,t).daysInMonth;let f=a.c9.fromObject({day:d(n,1,c),year:e,month:d(t,1,12),hour:d(r,0,23),minute:d(i,0,59),second:d(o,0,59),millisecond:d(s,0,999)},{zone:p(l)});return f=f.plus({months:u(t,1,12),days:u(n,1,c),hours:u(r,0,23),minutes:u(i,0,59),seconds:u(o,0,59),milliseconds:u(s,0,999)}),new h(f)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(e,t){const n=p(t);return e.isUnknownTimeZone||n===s.GB.instance?h.fromParts(e.year,e.monthJS+1,e.day,e.hour,e.minute,e.second,e.millisecond,n):new h(e._date.setZone(n))}static dateJSToArcadeDate(e){return new h(a.c9.fromJSDate(e,{zone:"system"}))}static dateJSAndZoneToArcadeDate(e,t="system"){const n=p(t);return new h(a.c9.fromJSDate(e,{zone:n}))}static unknownEpochToArcadeDate(e){return new h(a.c9.fromMillis(e,{zone:s.GB.instance}))}static unknownDateJSToArcadeDate(e){return new h(a.c9.fromMillis(e.getTime(),{zone:s.GB.instance}))}static epochToArcadeDate(e,t="system"){const n=p(t);return new h(a.c9.fromMillis(e,{zone:n}))}static dateTimeToArcadeDate(e){return new h(e)}clone(){return new h(this._date)}changeTimeZone(e){const t=p(e);return h.dateTimeToArcadeDate(this._date.setZone(t))}static dateTimeAndZoneToArcadeDate(e,t){const n=p(t);return e.zone===s.GB.instance||n===s.GB.instance?h.fromParts(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond,n):new h(e.setZone(n))}static nowToArcadeDate(e){const t=p(e);return new h(a.c9.fromJSDate(new Date,{zone:t}))}static nowUTCToArcadeDate(){return new h(a.c9.utc())}get isSystem(){return"system"===this.timeZone||this.timeZone===h.systemTimeZoneCanonicalName}equals(e){return this.isSystem&&e.isSystem?this.toNumber()===e.toNumber():this.isUnknownTimeZone===e.isUnknownTimeZone&&this._date.equals(e._date)}get isUnknownTimeZone(){return this._date.zone===s.GB.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let e=this._date.weekday;return e>6&&(e=0),e}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if("system"===this._date.zone.type)return"system";const e=this.zone;return"fixed"===e.type?0===e.fixed?"UTC":e.formatOffset(0,"short"):e.name}stringify(){return JSON.stringify(this.toJSDate())}plus(e){return new h(this._date.plus(e))}diff(e,t){return this._date.diff(e._date,t)[t]}toISODate(){return this._date.toISODate()}toISOString(e){return e?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(e,t){return this._date.toISOTime({suppressMilliseconds:e,includeOffset:t&&!this.isUnknownTimeZone})}toFormat(e,t){return this.isUnknownTimeZone&&(e=e.replaceAll("Z","")),this._date.toFormat(e,t)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new h(this._date.toUTC())}toLocal(){return new h(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(e){if(!e)return null;const t=a.c9.fromISO(e,{setZone:!0});return new h(t)}}function p(e,t=!0){if(e instanceof a.bo)return e;switch((0,i.B)(e)){case"system":return"system";case"utc":return"UTC";case"unknown":return s.GB.instance}if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const t=a.mQ.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(t)return t}const n=a.oh.create(e);if(!n.isValid){if(t)throw new c(r.TimeZoneNotRecognized);return null}return n}},28335:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});class r{constructor(e,t=30){this.name=e,this._counter=0,this._samples=new Array(t)}push(e){null!=e&&(this._samples[++this._counter%this._samples.length]=e)}set(e){null!=e&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort(((e,t)=>e-t))[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce(((e,t)=>e+t),0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}},28566:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325));let a=class extends i.A{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};(0,r._)([(0,o.MZ)({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],a.prototype,"type",void 0),(0,r._)([(0,o.MZ)({readOnly:!0})],a.prototype,"visible",void 0),a=(0,r._)([(0,s.$)("esri.symbols.callouts.Callout3D")],a)},28760:function(e,t,n){"use strict";n.d(t,{Ec:function(){return y},W3:function(){return m},mN:function(){return v}});var r=n(33826);const{is:i,defineProperty:o,getOwnPropertyDescriptor:s,getOwnPropertyNames:a,getOwnPropertySymbols:l,getPrototypeOf:c}=Object,u=globalThis,d=u.trustedTypes,h=d?d.emptyScript:"",p=u.reactiveElementPolyfillSupport,f=(e,t)=>e,m={toAttribute(e,t){switch(t){case Boolean:e=e?h:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},y=(e,t)=>!i(e,t),g={attribute:!0,type:String,converter:m,reflect:!1,useDefault:!1,hasChanged:y};Symbol.metadata??=Symbol("metadata"),u.litPropertyMetadata??=new WeakMap;class v extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=g){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),r=this.getPropertyDescriptor(e,n,t);void 0!==r&&o(this.prototype,e,r)}}static getPropertyDescriptor(e,t,n){const{get:r,set:i}=s(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get:r,set(t){const o=r?.call(this);i?.call(this,t),this.requestUpdate(e,o,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??g}static _$Ei(){if(this.hasOwnProperty(f("elementProperties")))return;const e=c(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(f("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(f("properties"))){const e=this.properties,t=[...a(e),...l(e)];for(const n of t)this.createProperty(n,e[n])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,n]of t)this.elementProperties.set(e,n)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const n=this._$Eu(e,t);void 0!==n&&this._$Eh.set(n,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift((0,r.sk)(e))}else void 0!==e&&t.push((0,r.sk)(e));return t}static _$Eu(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return(0,r.Rf)(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$ET(e,t){const n=this.constructor.elementProperties.get(e),r=this.constructor._$Eu(e,n);if(void 0!==r&&!0===n.reflect){const i=(void 0!==n.converter?.toAttribute?n.converter:m).toAttribute(t,n.type);this._$Em=e,null==i?this.removeAttribute(r):this.setAttribute(r,i),this._$Em=null}}_$AK(e,t){const n=this.constructor,r=n._$Eh.get(e);if(void 0!==r&&this._$Em!==r){const e=n.getPropertyOptions(r),i="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:m;this._$Em=r,this[r]=i.fromAttribute(t,e.type)??this._$Ej?.get(r)??null,this._$Em=null}}requestUpdate(e,t,n){if(void 0!==e){const r=this.constructor,i=this[e];if(n??=r.getPropertyOptions(e),!((n.hasChanged??y)(i,t)||n.useDefault&&n.reflect&&i===this._$Ej?.get(e)&&!this.hasAttribute(r._$Eu(e,n))))return;this.C(e,t,n)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,{useDefault:n,reflect:r,wrapped:i},o){n&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??t??this[e]),!0!==i||void 0!==o)||(this._$AL.has(e)||(this.hasUpdated||n||(t=void 0),this._$AL.set(e,t)),!0===r&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,n]of e){const{wrapped:e}=n,r=this[t];!0!==e||this._$AL.has(t)||void 0===r||this.C(t,void 0,n,r)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EM()}catch(t){throw e=!1,this._$EM(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((e=>this._$ET(e,this[e]))),this._$EM()}updated(e){}firstUpdated(e){}}v.elementStyles=[],v.shadowRootOptions={mode:"open"},v[f("elementProperties")]=new Map,v[f("finalized")]=new Map,p?.({ReactiveElement:v}),(u.reactiveElementVersions??=[]).push("2.1.0")},28904:function(e,t,n){"use strict";n.d(t,{L:function(){return u}});var r=n(6480),i=n(38116),o=n(62991),s=n(37623),a=n(63457),l=n(83382),c=n(43305);async function u(e,t){const n=(0,a.qg)(e);if(!n)throw new o.A("invalid-url","Invalid scene service url");const u={...t,sceneServerUrl:n.url.path,layerId:n.sublayer??void 0};if(u.sceneLayerItem??=await async function(e){const t=(await d(e)).serviceItemId;if(!t)return null;const n=new c.default({id:t,apiKey:e.apiKey}),o=await async function(e){const t=r.id?.findServerInfo(e.sceneServerUrl);if(t?.owningSystemUrl)return t.owningSystemUrl;const n=e.sceneServerUrl.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const t=(await(0,i.A)(n,{query:{f:"json"},responseType:"json",signal:e.signal})).data.owningSystemUrl;if(t)return t}catch(e){(0,s.QP)(e)}return null}(e);null!=o&&(n.portal=new l.A({url:o}));try{return await n.load({signal:e.signal})}catch(e){return(0,s.QP)(e),null}}(u),null==u.sceneLayerItem)return h(u.sceneServerUrl.replace("/SceneServer","/FeatureServer"),u);const p=await async function({sceneLayerItem:e,signal:t}){if(!e)return null;try{const n=(await e.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:t})).find((e=>"Feature Service"===e.type))||null;if(!n)return null;const r=new c.default({portal:n.portal,id:n.id});return await r.load(),r}catch(e){return(0,s.QP)(e),null}}(u);if(!p?.url)throw new o.A("related-service-not-found","Could not find feature service through portal item relationship");u.featureServiceItem=p;const f=await h(p.url,u);return f.portalItem=p,f}async function d(e){if(e.rootDocument)return e.rootDocument;const t={query:{f:"json",...e.customParameters,token:e.apiKey},responseType:"json",signal:e.signal};try{const n=await(0,i.A)(e.sceneServerUrl,t);e.rootDocument=n.data}catch{e.rootDocument={}}return e.rootDocument}async function h(e,t){const n=(0,a.qg)(e);if(!n)throw new o.A("invalid-feature-service-url","Invalid feature service url");const r=n.url.path,s=t.layerId;if(null==s)return{serverUrl:r};const l=d(t),c=t.featureServiceItem?await t.featureServiceItem.fetchData("json"):null,u=(c?.layers?.[0]||c?.tables?.[0])?.customParameters,h=e=>{const n={query:{f:"json",...u},responseType:"json",authMode:e,signal:t.signal};return(0,i.A)(r,n)},p=h("anonymous").catch((()=>h("no-prompt"))),[f,m]=await Promise.all([p,l]),y=m?.layers,g=f.data&&f.data.layers;if(!Array.isArray(g))throw new Error("expected layers array");if(Array.isArray(y)){for(let e=0;e<Math.min(y.length,g.length);e++)if(y[e].id===s)return{serverUrl:r,layerId:g[e].id}}else if(null!=s&&s<g.length)return{serverUrl:r,layerId:g[s].id};throw new Error("could not find matching associated sublayer")}},28930:function(e,t,n){"use strict";n.d(t,{$E:function(){return x},DY:function(){return g},NG:function(){return S},QW:function(){return s},Rp:function(){return p},XU:function(){return f},Xg:function(){return _},ct:function(){return m},fy:function(){return y},sx:function(){return h},xx:function(){return a},z2:function(){return v}});var r=n(3223),i=n(74088);function o(e,t,n){const r=t.shift();if(0===n.length){const e=[];n.push({sliceId:-1,multidimensionalDefinition:e})}const i=n.length;for(let t=0;t<i;t++){const t=n.shift().multidimensionalDefinition;r.values?.forEach((i=>{n.push({sliceId:-1,multidimensionalDefinition:[...t,{variableName:e,dimensionName:r.name,values:[i]}]})}))}t.length&&o(e,t,n)}function s(e,t){const n=[];let r=0;return(t?e.variables.filter((e=>e.name.toLowerCase()===t.toLowerCase())):[...e.variables].sort(((e,t)=>e.name>t.name?1:-1))).forEach((e=>{const t=[],i=[...e.dimensions].sort(((e,t)=>e.name>t.name?-1:1));o(e.name,i,t),t.forEach((e=>{n.push({...e,sliceId:r++})}))})),n}function a(e,t,n){let r=e;if(t&&(t=[...t].sort(((e,t)=>e.dimensionName<t.dimensionName?-1:1))).forEach((({dimensionName:e,values:t,isSlice:n})=>{t.length&&(r=r.filter((r=>{const i=r.multidimensionalDefinition.find((t=>t.dimensionName===e));if(null==i)return!1;const o=i.values[0];return"number"==typeof o?"number"==typeof t[0]?t.includes(o):t.some((e=>e[0]<=o&&e[1]>=o)):"number"==typeof t[0]?t.some((e=>o[0]<=e&&o[1]>=e)):n?t.some((e=>e[0]===o[0]&&e[0]===o[1])):t.some((e=>e[0]>=o[0]&&e[0]<=o[1]||e[1]>=o[0]&&e[1]<=o[1]||e[0]<o[0]&&e[1]>o[1]))})))})),r.length&&null!=n?.start&&null!=n.end){const e=n.start.getTime(),t=n.end.getTime(),i=r[0].multidimensionalDefinition.findIndex((e=>"StdTime"===e.dimensionName));i>-1&&(r=r.filter((n=>{const r=n.multidimensionalDefinition[i].values[0];return e<=r&&t>=r})))}return r.map((e=>e.sliceId))}function l(e,t){return Array.isArray(e)?t[0]===t[1]?e[0]===t[0]||e[1]===t[0]:e[0]>=t[0]&&e[0]<=t[1]&&e[1]>=t[0]&&e[1]<=t[1]:e>=t[0]&&e<=t[1]}function c(e,t){return e[0]<=t[0]&&e[1]>=t[0]||e[0]<=t[1]&&e[1]>=t[1]||e[0]>=t[0]&&e[1]<=t[1]}function u(e){return 1===e.length?[e[0],e[0]]:[e[0],e[e.length-1]]}function d(e,t,n){if(!t?.subsetDefinitions?.length)return e;let r;if(n){const{variables:i}=t;if(i.length&&!i.includes(n))return null;const o=t.subsetDefinitions.find((t=>t.dimensionName===e.name&&t.variableName===n));if(!o?.values?.length)return e;r=u(o.values)}else{const n=t.dimensions.find((({name:t})=>t===e.name));r=n?.extent}const i=r;if(!i?.length)return e;const o=e.values.filter((e=>l(e,i)));return{...e,extent:[...i],values:o}}function h(e,t,n){if(!t?.subsetDefinitions?.length)return!1;const{variables:r}=t;if(r.length&&e.some((({variableName:e})=>e&&!r.includes(e))))return!0;for(let r=0;r<e.length;r++){const i=e[r],o=t.subsetDefinitions.find((e=>(""===i.variableName||e.variableName===i.variableName)&&e.dimensionName===i.dimensionName));if(o?.values.length){const e=u(o.values);if(i.isSlice||2!==i.values.length||Array.isArray(i.values[0])||i.values[0]===i.values[1]||!n){if(i.values.some((t=>!l(t,e))))return!0}else if(!c(i.values,e))return!0}}return!1}function p(e,t){if(null==e)return{isOutside:!1};const{geometry:n,timeExtent:r,multidimensionalDefinition:o}=t;let s=null;if(null!=r&&(s=function(e,t){const n=e.dimensions.find((({name:e})=>"StdTime"===e));if(null==n||null==t.start&&null==t.end)return t;t=t.clone();const{start:r,end:o}=t.toJSON(),s=r===o?[r]:null!=r&&null!=o?[r,o]:[r??o];return 2===s.length&&n?.extent.length&&(s[0]=Math.max(s[0],n.extent[0]),s[1]=Math.min(s[1],n.extent[1]??n.extent[0]),s[1]<s[0])||h([new i.A({variableName:"",dimensionName:"StdTime",isSlice:1===s.length,values:s})],e,!0)?null:(t.start=new Date(s[0]),t.end=new Date(s[1]??s[0]),t)}(e,r),null==s))return{isOutside:!0};const{areaOfInterest:a}=e;if(a&&n){const e="point"===n.type?n:"extent"===n.type?n.center:"polygon"===n.type?n.centroid:null;if(e&&!a.contains(e))return{isOutside:!0}}return null!=o&&o.length&&h(o,e,!0)?{isOutside:!0}:{isOutside:!1,intersection:{geometry:n,timeExtent:s,multidimensionalDefinition:o}}}function f(e){const{rasterInfo:t,multidimensionalSubset:n}=e,{multidimensionalInfo:r}=t;if(null==r)return null;let i=e.multidimensionalDefinition?.length?e.multidimensionalDefinition:y(t,{multidimensionalSubset:n});if(!i?.length)return null;if(i.some((e=>!e.dimensionName))){const{variableName:e}=i[0],r=y(t,{multidimensionalSubset:n,variableName:e});r?.forEach((e=>{const t=i?.find((({dimensionName:t})=>t===e.dimensionName));t?.values?.length&&(e.values=t.values,e.isSlice=t.isSlice)})),i=r}const{timeExtent:o}=e;if(null!=i&&null!=o&&(null!=o.start||null!=o.end)){i=i.map((e=>e.clone()));const e=r.variables.find((({name:e})=>e===i[0].variableName))?.dimensions?.find((({name:e})=>"StdTime"===e)),t=i.find((({dimensionName:e})=>"StdTime"===e));if(!e||!t)return null;const{start:n,end:s}=o,a=null==n?null:n.getTime(),l=null==s?null:s.getTime(),c=a??l,u=l??a;if(null!=e.values){const n=e.values.filter((e=>{if(Array.isArray(e)){if(c===u)return e[0]<=c&&e[1]>=c;const t=e[0]<=c&&e[1]>c||e[0]<u&&e[1]>=u,n=e[0]>=c&&e[1]<=u||e[0]<c&&e[1]>u;return t||n}return c===u?e===c:e>=c&&e<=u}));if(n.length){const e=n.sort(((e,t)=>{const n=Array.isArray(e)?e[0]:e,r=Array.isArray(e)?e[1]:e,i=Array.isArray(t)?t[0]:t,o=Array.isArray(t)?t[1]:t;return c===u?n-i:Math.abs(r-u)-Math.abs(o-u)}))[0];t.values=[e]}else i=null}else if(e.hasRegularIntervals&&e.extent){const[n,r]=e.extent;c>r||u<n?i=null:t.values=c===u?[c]:[Math.max(n,c),Math.min(r,u)]}}return null!=i&&h(i,n)?null:i}function m(e,t={}){const{multidimensionalInfo:n,keyProperties:r}=e;if(null==n)return null;const{variableName:i,multidimensionalSubset:o,multidimensionalDefinition:s}=t,a=null!=s?s[0]?.variableName:null,l=i||a||r?.DefaultVariable;let{variables:c}=n;return o?.variables?.length&&(c=c.filter((({name:e})=>o.variables.includes(e)))),l?c.find((({name:e})=>e===l))??c[0]:c[0]}function y(e,t={}){const n=m(e,t);if(!n)return null;const r=[],{dimensions:o,name:s}=n;if(0===o.length)return[new i.A({variableName:s,dimensionName:"",values:[],isSlice:!0})];for(let e=0;e<o.length;e++){const n=d(o[e],t.multidimensionalSubset,s);if(!n)return null;const{values:a,extent:l}=n;let c=a?.[0]??l?.[0];"stdz"===n.name.toLowerCase()&&!n.hasRanges&&l&&Math.abs(l[1])<=Math.abs(l[0])&&(c=a?.length?a[a.length-1]:l[1]),r.push(new i.A({variableName:s,dimensionName:n.name,values:[c],isSlice:!t.useRangeForRangedDimensionInfo||!!n.hasRanges}))}return r}function g(e){return!!e?.length&&e.some((e=>{if(null==e.values)return!0;const t=e.values.length;return 0===t||t>1||!e.isSlice&&Array.isArray(e.values[0])}))}function v(e,t){if(null==t||null==e)return null;let n=t.variables.map((e=>({...e})));return e?.variables?.length&&(n=n.filter((({name:t})=>e.variables.includes(t))),n.forEach((t=>{t.dimensions=t.dimensions.map((n=>d(n,e,t.name))).filter(r.Ru)}))),n}function b(e,t){const{values:n}=t;if(n?.length){const t=Array.isArray(n[0]),r=Array.isArray(e);return t!==r?-1:t&&r?n.findIndex((t=>t[0]===e[0]&&t[1]===e[1])):n.indexOf(e)}const{extent:r}=t;if(Array.isArray(e)||!r||e<r[0]||e>r[1])return-1;const i=t.interval||1;if("ISO8601"!==t.unit)return Math.round((e-r[0])/i);const o=r[0];let s=-1;switch(t.intervalUnit?.toLowerCase()||"days"){case"seconds":s=Math.round((e-o)/1e3/i);break;case"minutes":s=Math.round((e-o)/6e4/i);break;case"hours":s=Math.round((e-o)/36e5/i);break;case"days":s=Math.round((e-o)/864e5/i);break;case"months":{const t=new Date(e).getUTCFullYear()-new Date(o).getUTCFullYear(),n=new Date(o).getUTCMonth(),r=new Date(e).getUTCMonth();s=0===t?r-n:r+11-n+12*(t-1)}break;case"years":s=Math.round((new Date(e).getUTCFullYear()-new Date(o).getUTCFullYear())/i);break;case"decades":s=Math.round((new Date(e).getUTCFullYear()-new Date(o).getUTCFullYear())/10/i)}return s}function w(e){let t=e.values?.length;if(t)return t;const{extent:n,unit:r}=e,i=e.interval||1,o=n?n[1]-n[0]:0;if("ISO8601"!==r)return Math.round(o/i);switch(e.intervalUnit?.toLowerCase()??"seconds"){case"seconds":t=Math.round(o/1e3/i);break;case"minutes":t=Math.round(o/6e4/i);break;case"hours":t=Math.round(o/36e5/i);break;case"days":t=Math.round(o/864e5/i);break;case"months":if(n){const e=new Date(n[1]).getUTCFullYear()-new Date(n[0]).getUTCFullYear(),r=new Date(n[0]).getUTCMonth(),i=new Date(n[1]).getUTCMonth();t=0===e?i-r+1:i+11-r+12*(e-1)+1}else t=0;break;case"years":t=n?Math.round((new Date(n[1]).getUTCFullYear()-new Date(n[0]).getUTCFullYear())/i):0;break;case"decades":t=n?Math.round((new Date(n[1]).getUTCFullYear()-new Date(n[0]).getUTCFullYear())/10/i):0;break;default:t=0}return t}function _(e){if(2!==e.extent?.length||!e.interval)return[];const{extent:[t,n],interval:r}=e;if("ISO8601"===e.unit){const i=e.intervalUnit?.toLowerCase()??"days";return["decades","years","months","days","hours","minutes","seconds"].includes(i)?function(e,t,n,r){const i=[];let o=e;const s=new Date(e);for(;o<=t;)switch(i.push(o),r){case"decades":s.setUTCFullYear(s.getUTCFullYear()+10*n),o=s.getTime();break;case"years":s.setUTCFullYear(s.getUTCFullYear()+n),o=s.getTime();break;case"months":s.setUTCMonth(s.getUTCMonth()+n),o=s.getTime();break;case"days":o+=864e5*n;break;case"hours":o+=36e5*n;break;case"minutes":o+=6e4*n;break;case"seconds":o+=1e3*n}return 1===i.length?i[1]=t:i[i.length-1]=t,i}(t,n,r,i):[]}const i=Math.round((n-t)/r);return Array.from({length:i},((e,o)=>o===i-1?n:t+o*r))}function S(e,t){let n=0;const r=e[0].variableName,i=[...t.variables].sort(((e,t)=>e.name>t.name?1:-1));for(let t=0;t<i.length;t++){const o=i[t],s=[...o.dimensions].sort(((e,t)=>e.name>t.name?-1:1));if(o.name!==r){n+=s.map((e=>w(e))).reduce(((e,t)=>e*t));continue}const a=s.map((e=>w(e))),l=s.length;for(let t=0;t<l;t++){const r=e.find((e=>e.dimensionName===s[t].name));if(null==r)return null;const i=b(r.values[0],s[t]);if(-1===i)return null;a.shift(),n+=t===l-1?i:i*a.reduce(((e,t)=>e*t))}break}return n}function x(e){return Math.round(24*(e-25569)*3600*1e3)}},28948:function(e,t,n){"use strict";function r(e){return"string"==typeof e?document.getElementById(e):e??null}function i(e,t){for(;;){const n=e.firstChild;if(!n)break;t.appendChild(n)}}n.d(t,{$:function(){return r},y:function(){return i}})},29050:function(e,t,n){"use strict";function r(e){const t=e?.fieldsIndex,n="fromnetworksourceid",r="fromglobalid",i="fromterminalid",o="tonetworksourceid",s="toglobalid",a="toterminalid",l="status",c="associationtype",u="iscontentvisible",d="percentalong",h="globalid";return{fromNetworkSourceId:t?.get(n)?.name??n,fromGlobalId:t?.get(r)?.name??r,fromTerminalId:t?.get(i)?.name??i,toNetworkSourceId:t?.get(o)?.name??o,toGlobalId:t?.get(s)?.name??s,toTerminalId:t?.get(a)?.name??a,status:t?.get(l)?.name??l,associationType:t?.get(c)?.name??c,isContentVisible:t?.get(u)?.name??u,percentAlong:t?.get(d)?.name??d,globalId:t?.get(e?.globalIdField??h)?.name??h}}function i(e,t){if("feature"!==t.type&&"subtype-group"!==t.type)return[];if(!t.url)return[];const n="utilityNetworks"in e.map?e.map.utilityNetworks??[]:[];for(const e of n)if(e.isUtilityLayer(t)){const e=t.fieldsIndex.get("assetgroup"),n=t.fieldsIndex.get("assettype");return[e?.name,n?.name].filter((e=>null!=e))}return[]}n.d(t,{E:function(){return r},_:function(){return i}})},29221:function(e,t,n){"use strict";n.d(t,{L:function(){return l},r:function(){return s}});var r=n(97629),i=n(9283),o=n(44695);function s(e,t){return l(e,null,t)}const a=(0,i.C)({types:o.Hg});function l(e,t,n){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(n?.messages&&n.messages.push(new r.A("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:n})),null):a(e,t,n):null}},29323:function(e,t,n){"use strict";n.d(t,{u:function(){return s}});var r=n(5262),i=n(67488);function o(e,t,n){if(null==e.hasM||e.hasZ)for(const e of t)for(const t of e)t.length>2&&(t[2]*=n)}function s(e,t,n){if(!e&&!t||!n)return;const i=(0,r.G9)(n);a(e,n,i),a(t,n,i)}function a(e,t,n){if(e)for(const r of e)l(r.geometry,t,n)}function l(e,t,n){if(!e?.spatialReference||(0,i.aI)(e.spatialReference,t))return;const s=(0,r.G9)(e.spatialReference)/n;if(1!==s)if("x"in e)null!=e.z&&(e.z*=s);else if("rings"in e)o(e,e.rings,s);else if("paths"in e)o(e,e.paths,s);else if("points"in e&&(null==e.hasM||e.hasZ))for(const t of e.points)t.length>2&&(t[2]*=s)}},29745:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var r=n(59823);class i extends r.T{notify(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const e of t)e.onInvalidated(),e.onCommitted()}}}},29759:function(e,t,n){"use strict";var r;n.d(t,{X:function(){return r}}),function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"}(r||(r={}))},29869:function(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function g(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var w=b.prototype=new v;w.constructor=b,m(w,g.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},x=Object.prototype.hasOwnProperty;function M(e,t,r,i,o,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var n,r}function C(){}function E(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return E((u=e._init)(e._payload),t,i,o,s)}}if(u)return s=s(e),u=""===o?"."+I(e,0):o,_(s)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),E(s,t,i,"",(function(e){return e}))):null!=s&&(A(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+u,s=M(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,f=""===o?".":o+":";if(_(e))for(var m=0;m<e.length;m++)u+=E(o=e[m],t,i,a=f+I(o,m),s);else if("function"==typeof(m=null===(d=e)||"object"!=typeof d?null:"function"==typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=E(o=o.value,t,i,a=f+I(o,m++),s);else if("object"===a){if("function"==typeof e.then)return E(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(C,C):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function k(e,t,n){if(null==e)return e;var r=[],i=0;return E(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function O(){}t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!x.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return M(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return M(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(O,R)}catch(e){R(e)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.1"},30179:function(e,t,n){"use strict";n.d(t,{b:function(){return l}});var r=n(82392),i=n(80861),o=n(81482),s=(n(6273),n(67498),n(26325)),a=n(63457);const l=e=>{let t=class extends e{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const e=(0,a.qg)(this.url);if(e?.title)return e.title}return this._get("title")||""}set title(e){this._set("title",e)}set url(e){this._set("url",(0,a.Jf)(e,i.A.getLogger(this)))}};return(0,r._)([(0,o.MZ)()],t.prototype,"title",null),(0,r._)([(0,o.MZ)({type:String})],t.prototype,"url",null),t=(0,r._)([(0,s.$)("esri.layers.mixins.ArcGISService")],t),t}},30271:function(e,t,n){"use strict";n.d(t,{V:function(){return s}});var r=n(36321),i=n(95254),o=n(33432);async function s(e,t,n,s){const l=(0,r.Dl)(e),{data:c}=await(0,i.Pk)(l,o.A.from(t),n,s);return c.objectIds??a(c.uniqueIds)??[]}function a(e){if(e)return function(e){return!Array.isArray(e[0])}(e)?e:e.map((e=>JSON.stringify(e)))}},30347:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(84977),s=n(23572),a=n(81482),l=(n(6273),n(80861),n(67498),n(26325));let c=r=class extends o.A{constructor(e){super(e),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new r({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],c.prototype,"label",void 0),(0,i._)([(0,a.MZ)({type:Number,cast:s.cr,json:{write:{isRequired:!0}}})],c.prototype,"size",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:{isRequired:!0}}})],c.prototype,"value",void 0),(0,i._)([(0,a.MZ)({type:Boolean,json:{write:!1}})],c.prototype,"useMinValue",void 0),(0,i._)([(0,a.MZ)({type:Boolean,json:{write:!1}})],c.prototype,"useMaxValue",void 0),c=r=(0,i._)([(0,l.$)("esri.renderers.visualVariables.support.SizeStop")],c)},30357:function(e,t,n){"use strict";n.r(t),n.d(t,{Loader:function(){return y}});var r=n(34088),i=n(46337),o=n(62245),s=n(18883),a=n(75572),l=n(33826);const c="percentage",u="ring--progress",d="ring",h="rings",p="text",f="ring--track",m=l.AH`:host{position:relative;margin-inline:auto;display:flex;align-items:center;justify-content:center;opacity:1;flex-direction:column;min-block-size:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke-width:var(--calcite-internal-stroke-width);fill:none;transform:scale(1);padding-block:var(--calcite-loader-spacing, 4rem)}:host([scale=s]){--calcite-internal-stroke-width: 3;--calcite-internal-text-offset: var(--calcite-spacing-xxs);--calcite-internal-loader-font-size: var(--calcite-font-size--3);--calcite-internal-loader-size: 2rem;--calcite-internal-loader-size-inline: .75rem;--calcite-internal-loader-value-line-height: .625rem}:host([scale=m]){--calcite-internal-stroke-width: 6;--calcite-internal-text-offset: var(--calcite-spacing-sm);--calcite-internal-loader-font-size: var(--calcite-font-size-0);--calcite-internal-loader-size: 4rem;--calcite-internal-loader-size-inline: 1rem;--calcite-internal-loader-value-line-height: 1.375rem}:host([scale=l]){--calcite-internal-stroke-width: 8;--calcite-internal-text-offset: var(--calcite-spacing-md);--calcite-internal-loader-font-size: var(--calcite-font-size-2);--calcite-internal-loader-size: 6rem;--calcite-internal-loader-size-inline: 1.5rem;--calcite-internal-loader-value-line-height: 1.71875rem}.text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;margin-block-start:var(--calcite-loader-text-spacing, var(--calcite-internal-text-offset));font-weight:var(--calcite-loader-text-weight, var(--calcite-font-weight-normal));color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.percentage{display:block;text-align:center;font-size:var(--calcite-loader-font-size);inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));line-height:var(--calcite-internal-loader-value-line-height);align-self:center;color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.rings{position:relative;display:flex;overflow:visible;opacity:1;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring{position:absolute;inset-block-start:0px;transform-origin:center;overflow:visible;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring--track{stroke:var(--calcite-loader-track-color, var(--calcite-color-transparent-press))}.ring--progress{stroke:var(--calcite-loader-progress-color, var(--calcite-color-brand));transform:rotate(-90deg);transition:all var(--calcite-internal-animation-timing-fast) linear}:host([type=indeterminate]) .ring--progress{animation:loader-clockwise calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 2 / var(--calcite-internal-duration-factor)) linear infinite}:host([inline]){--calcite-internal-stroke-width: 2;position:relative;margin:0;stroke:currentColor;stroke-width:2;padding-block:0px;block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));min-block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));vertical-align:calc(var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline))) * -1 * .2)}:host([inline]) .rings{inset-block-start:0px;margin:0;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring{inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring--progress{stroke:var(--calcite-loader-progress-color-inline, currentColor)}:host([complete]){opacity:0;transform:scale(.75);transform-origin:center;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1s,transform var(--calcite-internal-animation-timing-medium) linear 1s}:host([complete]) .rings{opacity:0;transform:scale(.75);transform-origin:center;transition:opacity calc(.18s * var(--calcite-internal-duration-factor)) linear .8s,transform calc(.18s * var(--calcite-internal-duration-factor)) linear .8s}:host([complete]) .percentage{color:var(--calcite-color-brand);transform:scale(1.05);transform-origin:center;transition:color var(--calcite-internal-animation-timing-medium) linear,transform var(--calcite-internal-animation-timing-medium) linear}@keyframes loader-clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}:host([hidden]){display:none}[hidden]{display:none}`;class y extends o.WF{constructor(){super(...arguments),this.messages=(0,a.u)({name:null}),this.complete=!1,this.inline=!1,this.scale="m",this.text="",this.type="indeterminate",this.value=0}static{this.properties={complete:[7,{},{reflect:!0,type:Boolean}],inline:[7,{},{reflect:!0,type:Boolean}],label:1,scale:[3,{},{reflect:!0}],text:1,type:[3,{},{reflect:!0}],value:[9,{},{type:Number}]}}static{this.styles=m}connectedCallback(){super.connectedCallback(),this.updateFormatter()}load(){requestAnimationFrame((()=>this.valueChangeHandler()))}willUpdate(e){e.has("value")&&(this.hasUpdated||0!==this.value)&&this.valueChangeHandler(),(e.has("type")&&(this.hasUpdated||"indeterminate"!==this.type)||e.has("messages"))&&this.updateFormatter()}valueChangeHandler(){this.complete=this.type.startsWith("determinate")&&100===this.value}formatValue(){return"determinate-value"!==this.type?`${this.value}`:this.formatter.format(this.value/100)}getSize(e){return{s:32,m:64,l:96}[e]}getInlineSize(e){return{s:12,m:16,l:24}[e]}updateFormatter(){"determinate-value"===this.type&&this.formatter?.resolvedOptions().locale!==this.messages._lang&&(this.formatter=new Intl.NumberFormat(this.messages._lang,{style:"percent"}))}render(){const{el:e,inline:t,label:n,text:r,type:a,value:l}=this,u=e.id||(0,s.g)(),d="indeterminate"!==a,f=Math.floor(l);return this.el.ariaLabel=n,this.el.ariaValueMax=d?"100":void 0,this.el.ariaValueMin=d?"0":void 0,this.el.ariaValueNow=d?f.toString():void 0,(0,o.Bq)(this.el,"id",u),this.el.role="progressbar",i.qy`<div class=${(0,o.CP)(h)}>${this.renderRing("track")}${this.renderRing("progress")}${!t&&d&&i.qy`<div class=${(0,o.CP)(c)}>${this.formatValue()}</div>`||""}</div>${!t&&r&&i.qy`<div class=${(0,o.CP)(p)}>${r}</div>`||""}`}renderRing(e){const{inline:t,scale:n,value:r}=this,s=t?this.getInlineSize(n):this.getSize(n),a=.45*s;let l;if("progress"===e){const e=2*a*Math.PI,t=(this.type.startsWith("determinate")?r:24)/100*e;l={"stroke-dasharray":`${t} ${e-t}`}}return i.qy`<svg aria-hidden=true class=${(0,o.CP)({[d]:!0,[f]:"track"===e,[u]:"progress"===e})} style=${(0,o.zl)(l)} viewBox=${`0 0 ${s} ${s}`}>${i.JW`<circle cx=${s/2} cy=${s/2} r=${a??i.s6} />`}</svg>`}}(0,r.c)("calcite-loader",y)},30361:function(e,t,n){"use strict";n.d(t,{EW:function(){return c},YJ:function(){return d},pI:function(){return u},rs:function(){return p}});var r=n(93814),i=n(23572),o=n(8636),s=n(93802);function a(e,t){const n=null!=t.transparency?(0,s.D)(t.transparency):1,i=t.color;return i&&Array.isArray(i)?new r.A([i[0]||0,i[1]||0,i[2]||0,n]):null}function l(e,t){t.color=e.toJSON().slice(0,3);const n=(0,s.p)(e.a);0!==n&&(t.transparency=n)}function c(e){return{type:r.A,nonNullable:e?.nonNullable,json:{type:[o.jz],default:null,read:{source:["color","transparency"],reader:a},write:{target:{color:{type:[o.jz],isRequired:e?.colorRequiredOnWrite},transparency:{type:o.jz}},writer:l}}}}const u={type:Number,cast:i.cr,json:{write:!0}};var d,h;function p(e){return"emissive"===e?d.Emissive:d.Color}(h=d||(d={}))[h.Emissive=0]="Emissive",h[h.Color=1]="Color"},31173:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(82392),i=n(14755),o=n(1817),s=n(84977),a=n(81482),l=(n(6273),n(80861),n(67498),n(26325));const c=new o.J({asc:"ascending",desc:"descending"});let u=class extends(i.A.ClonableMixin(s.A)){constructor(e){super(e),this.field=null,this.order="ascending"}};(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"field",void 0),(0,r._)([(0,a.MZ)({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],u.prototype,"order",void 0),u=(0,r._)([(0,l.$)("esri.popup.support.AttachmentsOrderByInfo")],u);const d=u},31247:function(e,t,n){"use strict";var r=n(69982),i=n(96540),o=n(40961);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),_=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var I=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var E=Symbol.iterator;function k(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=E&&e[E]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case y:return"Fragment";case v:return"Profiler";case g:return"StrictMode";case x:return"Suspense";case M:return"SuspenseList";case I:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case m:return"Portal";case _:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return R(e(t))}catch(e){}}return null}var O=Array.isArray,N=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},F=[],j=-1;function Z(e){return{current:e}}function U(e){0>j||(e.current=F[j],F[j]=null,j--)}function z(e,t){j++,F[j]=e.current,e.current=t}var V=Z(null),B=Z(null),$=Z(null),G=Z(null);function q(e,t){switch(z($,t),z(B,e),z(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(V),z(V,e)}function H(){U(V),U(B),U($)}function W(e){null!==e.memoizedState&&z(G,e);var t=V.current,n=od(t,e.type);t!==n&&(z(B,e),z(V,n))}function J(e){B.current===e&&(U(V),U(B)),G.current===e&&(U(G),Wd._currentValue=D)}var K=Object.prototype.hasOwnProperty,Y=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Q=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,se=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"==typeof le&&ce(e),de&&"function"==typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(e){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ye=256,ge=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=ve(r):0!==(s&=a)?i=ve(s):n||0!==(n=a&~e)&&(i=ve(n)):0!==(a=r&~o)?i=ve(a):0!==s?i=ve(s):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&!(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&4194048&n)?t:i}function we(e,t){return!(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function _e(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ye;return!(4194048&(ye<<=1))&&(ye=256),e}function xe(){var e=ge;return!(62914560&(ge<<=1))&&(ge=4194304),e}function Me(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ie(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ee(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function ke(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Pe=Math.random().toString(36).slice(2),Re="__reactFiber$"+Pe,Oe="__reactProps$"+Pe,Ne="__reactContainer$"+Pe,Le="__reactEvents$"+Pe,De="__reactListeners$"+Pe,Fe="__reactHandles$"+Pe,je="__reactResources$"+Pe,Ze="__reactMarker$"+Pe;function Ue(e){delete e[Re],delete e[Oe],delete e[Le],delete e[De],delete e[Fe]}function ze(e){var t=e[Re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ne]||n[Re]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Re])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Re]||e[Ne]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Be(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function $e(e){var t=e[je];return t||(t=e[je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[Ze]=!0}var qe=new Set,He={};function We(e,t){Je(e,t),Je(e+"Capture",t)}function Je(e,t){for(He[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Ke,Ye,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qe={},et={};function tt(e,t,n){if(i=t,K.call(et,i)||!K.call(Qe,i)&&(Xe.test(i)?et[i]=!0:(Qe[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ke)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ke=t&&t[1]||"",Ye=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ke+e+Ye}var ot=!1;function st(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch((function(){}))}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function yt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ct(t)):null!=n?vt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.name=""+ct(a):e.removeAttribute("name")}function gt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.type=o),null!=t||null!=n){if(("submit"===o||"reset"===o)&&null==t)return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(O(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||xt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function At(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Mt(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Mt(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Et(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var kt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Ot=null;function Nt(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Oe]||null;if(!i)throw Error(s(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Dt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Rt||null!==Ot)&&(zc(),Rt&&(t=Rt,e=Ot,Ot=Rt=null,Nt(t),e)))for(t=0;t<e.length;t++)Nt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Oe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var jt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Zt=!1;if(jt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Zt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(e){Zt=!1}var zt=null,Vt=null,Bt=null;function $t(){if(Bt)return Bt;var e,t,n=Vt,r=n.length,i="value"in zt?zt.value:zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Bt=i.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Ht(){return!1}function Wt(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qt:Ht,this.isPropagationStopped=Ht,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Jt,Kt,Yt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qt=Wt(Xt),en=h({},Xt,{view:0,detail:0}),tn=Wt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Jt=e.screenX-Yt.screenX,Kt=e.screenY-Yt.screenY):Kt=Jt=0,Yt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Kt}}),rn=Wt(nn),on=Wt(h({},nn,{dataTransfer:0})),sn=Wt(h({},en,{relatedTarget:0})),an=Wt(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Wt(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Wt(h({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return pn}var mn=Wt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Wt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Wt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Wt(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Wt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Wt(h({},Xt,{newState:0,oldState:0})),_n=[9,13,27,32],Sn=jt&&"CompositionEvent"in window,xn=null;jt&&"documentMode"in document&&(xn=document.documentMode);var Mn=jt&&"TextEvent"in window&&!xn,An=jt&&(!Sn||xn&&8<xn&&11>=xn),Tn=String.fromCharCode(32),In=!1;function Cn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function En(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var kn=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function On(e,t,n,r){Rt?Ot?Ot.push(r):Ot=[r]:Rt=r,0<(t=$u(t,"onChange")).length&&(n=new Qt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nn=null,Ln=null;function Dn(e){Du(e,0)}function Fn(e){if(ht(Be(e)))return e}function jn(e,t){if("change"===e)return t}var Zn=!1;if(jt){var Un;if(jt){var zn="oninput"in document;if(!zn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),zn="function"==typeof Vn.oninput}Un=zn}else Un=!1;Zn=Un&&(!document.documentMode||9<document.documentMode)}function Bn(){Nn&&(Nn.detachEvent("onpropertychange",$n),Ln=Nn=null)}function $n(e){if("value"===e.propertyName&&Fn(Ln)){var t=[];On(t,Ln,e,Pt(e)),Dt(Dn,t)}}function Gn(e,t,n){"focusin"===e?(Bn(),Ln=n,(Nn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Bn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Ln)}function Hn(e,t){if("click"===e)return Fn(t)}function Wn(e,t){if("input"===e||"change"===e)return Fn(t)}var Jn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Kn(e,t){if(Jn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!K.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Qn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Qn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=jt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,sr=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Kn(or,r)||(or=r,0<(r=$u(ir,"onSelect")).length&&(t=new Qt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}jt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),fr=hr("animationiteration"),mr=hr("animationstart"),yr=hr("transitionrun"),gr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,_r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),We(t,[e])}_r.push("scrollEnd");var xr=new WeakMap;function Mr(e,t){if("object"==typeof e&&null!==e){var n=xr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},xr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Ar=[],Tr=0,Ir=0;function Cr(){for(var e=Tr,t=Ir=Tr=0;t<e;){var n=Ar[t];Ar[t++]=null;var r=Ar[t];Ar[t++]=null;var i=Ar[t];Ar[t++]=null;var o=Ar[t];if(Ar[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Rr(n,i,o)}}function Er(e,t,n,r){Ar[Tr++]=e,Ar[Tr++]=t,Ar[Tr++]=n,Ar[Tr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function kr(e,t,n,r){return Er(e,t,n,r),Or(e)}function Pr(e,t){return Er(e,null,null,t),Or(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-pe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Or(e){if(50<Rc)throw Rc=0,Oc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Nr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,t,n,r){return new Lr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jr(e,t){var n=e.alternate;return null===n?((n=Dr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,i,o){var a=0;if(r=e,"function"==typeof e)Fr(e)&&(a=1);else if("string"==typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case I:return(e=Dr(31,n,t,i)).elementType=I,e.lanes=o,e;case y:return zr(n.children,i,o,t);case g:a=8,i|=24;break;case v:return(e=Dr(12,n,t,2|i)).elementType=v,e.lanes=o,e;case x:return(e=Dr(13,n,t,i)).elementType=x,e.lanes=o,e;case M:return(e=Dr(19,n,t,i)).elementType=M,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:case _:a=10;break e;case w:a=9;break e;case S:a=11;break e;case A:a=14;break e;case T:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Dr(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function zr(e,t,n,r){return(e=Dr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Dr(6,e,null,t)).lanes=n,e}function Br(e,t,n){return(t=Dr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $r=[],Gr=0,qr=null,Hr=0,Wr=[],Jr=0,Kr=null,Yr=1,Xr="";function Qr(e,t){$r[Gr++]=Hr,$r[Gr++]=qr,qr=e,Hr=t}function ei(e,t,n){Wr[Jr++]=Yr,Wr[Jr++]=Xr,Wr[Jr++]=Kr,Kr=e;var r=Yr;e=Xr;var i=32-pe(r)-1;r&=~(1<<i),n+=1;var o=32-pe(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yr=1<<32-pe(t)+i|n<<i|r,Xr=o+e}else Yr=1<<o|n<<i|r,Xr=e}function ti(e){null!==e.return&&(Qr(e,1),ei(e,1,0))}function ni(e){for(;e===qr;)qr=$r[--Gr],$r[Gr]=null,Hr=$r[--Gr],$r[Gr]=null;for(;e===Kr;)Kr=Wr[--Jr],Wr[Jr]=null,Xr=Wr[--Jr],Wr[Jr]=null,Yr=Wr[--Jr],Wr[Jr]=null}var ri=null,ii=null,oi=!1,si=null,ai=!1,li=Error(s(519));function ci(e){throw mi(Mr(Error(s(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Re]=e,t[Oe]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Nu.length;n++)Fu(Nu[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),gt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),_t(t,r.value,r.defaultValue,r.children),dt(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Ku(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Yu),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(ai=!1);case 27:case 3:return void(ai=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!oi)return di(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=gd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,pd(e.type)?(e=vd,vd=null,ii=e):ii=n):ii=ri?gd(e.stateNode.nextSibling):null;return!0}function pi(){ii=ri=null,oi=!1}function fi(){var e=si;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),si=null),e}function mi(e){null===si?si=[e]:si.push(e)}var yi=Z(null),gi=null,vi=null;function bi(e,t,n){z(yi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=yi.current,U(yi)}function _i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),_i(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),_i(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function xi(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(524288&i.flags)o=!0;else if(262144&i.flags)break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Jn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Wd):e=[Wd])}i=i.return}null!==e&&Si(t,e,n,r),t.flags|=262144}function Mi(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){gi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Ci(gi,e)}function Ii(e,t){return null===gi&&Ai(e),Ci(e,t)}function Ci(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(s(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ei="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},ki=r.unstable_scheduleCallback,Pi=r.unstable_NormalPriority,Ri={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oi(){return{controller:new Ei,data:new Map,refCount:0}}function Ni(e){e.refCount--,0===e.refCount&&ki(Pi,(function(){e.controller.abort()}))}var Li=null,Di=0,Fi=0,ji=null;function Zi(){if(0==--Di&&null!==Li){null!==ji&&(ji.status="fulfilled");var e=Li;Li=null,Fi=0,ji=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ui=N.S;N.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Li){var n=Li=[];Di=0,Fi=Eu(),ji={status:"pending",value:void 0,then:function(e){n.push(e)}}}Di++,t.then(Zi,Zi)}(0,t),null!==Ui&&Ui(e,t)};var zi=Z(null);function Vi(){var e=zi.current;return null!==e?e:rc.pooledCache}function Bi(e,t){z(zi,null===t?zi.current:t.pool)}function $i(){var e=Vi();return null===e?null:{parent:Ri._currentValue,pool:e}}var Gi=Error(s(460)),qi=Error(s(474)),Hi=Error(s(542)),Wi={then:function(){}};function Ji(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ki(){}function Yi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ki,Ki),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"==typeof t.status)t.then(Ki,Ki);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Xi=t,Gi}}var Xi=null;function Qi(){if(null===Xi)throw Error(s(459));var e=Xi;return Xi=null,e}function eo(e){if(e===Gi||e===Hi)throw Error(s(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&nc){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Rr(e,null,n),t}return Er(e,r,t,n),Or(e)}function so(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}function ao(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==ji)throw ji}}function uo(e,t,n,r){lo=!1;var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var p=-536870913&a.lane,f=p!==a.lane;if(f?(oc&p)===p:(r&p)===p){0!==p&&p===Fi&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,y=a;p=t;var g=n;switch(y.tag){case 1:if("function"==typeof(m=y.payload)){d=m.call(g,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=y.payload)?m.call(g,d,p):m))break e;d=h({},d,p);break e;case 2:to=!0}}null!==(p=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[p]:f.push(p))}else f={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=p;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),pc|=s,e.lanes=s,e.memoizedState=d}}function ho(e,t){if("function"!=typeof e)throw Error(s(191,e));e.call(t)}function po(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var fo=Z(null),mo=Z(0);function yo(e,t){z(mo,e=dc),z(fo,t),dc=e|t.baseLanes}function go(){z(mo,dc),z(fo,fo.current)}function vo(){dc=mo.current,U(fo),U(mo)}var bo=0,wo=null,_o=null,So=null,xo=!1,Mo=!1,Ao=!1,To=0,Io=0,Co=null,Eo=0;function ko(){throw Error(s(321))}function Po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Ro(e,t,n,r,i,o){return bo=o,wo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=null===e||null===e.memoizedState?qs:Hs,Ao=!1,o=n(r,i),Ao=!1,Mo&&(o=No(t,n,r,i)),Oo(e),o}function Oo(e){N.H=Gs;var t=null!==_o&&null!==_o.next;if(bo=0,So=_o=wo=null,xo=!1,Io=0,Co=null,t)throw Error(s(300));null===e||Ia||null!==(e=e.dependencies)&&Mi(e)&&(Ia=!0)}function No(e,t,n,r){wo=e;var i=0;do{if(Mo&&(Co=null),Io=0,Mo=!1,25<=i)throw Error(s(301));if(i+=1,So=_o=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}N.H=Ws,o=t(n,r)}while(Mo);return o}function Lo(){var e=N.H,t=e.useState()[0];return t="function"==typeof t.then?zo(t):t,e=e.useState()[0],(null!==_o?_o.memoizedState:null)!==e&&(wo.flags|=1024),t}function Do(){var e=0!==To;return To=0,e}function Fo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function jo(e){if(xo){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}xo=!1}bo=0,So=_o=wo=null,Mo=!1,Io=To=0,Co=null}function Zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===So?wo.memoizedState=So=e:So=So.next=e,So}function Uo(){if(null===_o){var e=wo.alternate;e=null!==e?e.memoizedState:null}else e=_o.next;var t=null===So?wo.memoizedState:So.next;if(null!==t)So=t,_o=e;else{if(null===e){if(null===wo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(_o=e).memoizedState,baseState:_o.baseState,baseQueue:_o.baseQueue,queue:_o.queue,next:null},null===So?wo.memoizedState=So=e:So=So.next=e}return So}function zo(e){var t=Io;return Io+=1,null===Co&&(Co=[]),e=Yi(Co,e,t),t=wo,null===(null===So?t.memoizedState:So.next)&&(t=t.alternate,N.H=null===t||null===t.memoizedState?qs:Hs),e}function Vo(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return zo(e);if(e.$$typeof===_)return Ti(e)}throw Error(s(438,String(e)))}function Bo(e){var t=null,n=wo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function $o(e,t){return"function"==typeof t?t(e):t}function Go(e){return qo(Uo(),_o,e)}function qo(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(bo&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fi&&(d=!0);else{if((bo&p)===p){u=u.next,p===Fi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,wo.lanes|=p,pc|=p}h=u.action,Ao&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,a=o):c=c.next=p,wo.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Jn(o,e.memoizedState)&&(Ia=!0,d&&null!==(n=ji)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ho(e){var t=Uo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Jn(o,t.memoizedState)||(Ia=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Wo(e,t,n){var r=wo,i=Uo(),o=oi;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Jn((_o||i).memoizedState,n);if(a&&(i.memoizedState=n,Ia=!0),i=i.queue,gs(2048,8,Yo.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==So&&1&So.memoizedState.tag){if(r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Ko.bind(null,r,i,n,t),null),null===rc)throw Error(s(349));o||124&bo||Jo(r,t,n)}return n}function Jo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ko(e,t,n,r){t.value=n,t.getSnapshot=r,Xo(t)&&Qo(e)}function Yo(e,t,n){return n((function(){Xo(t)&&Qo(e)}))}function Xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(e){return!0}}function Qo(e){var t=Pr(e,2);null!==t&&Dc(t,e,2)}function es(e){var t=Zo();if("function"==typeof e){var n=e;if(e=n(),Ao){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:e},t}function ts(e,t,n,r){return e.baseState=n,qo(e,_o,"function"==typeof r?r:$o)}function ns(e,t,n,r,i){if(Vs(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==N.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,rs(t,o)):(o.next=n.next,t.pending=n.next=o)}}function rs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=N.T,s={};N.T=s;try{var a=n(i,r),l=N.S;null!==l&&l(s,a),is(e,t,a)}catch(n){ss(e,t,n)}finally{N.T=o}}else try{is(e,t,o=n(i,r))}catch(n){ss(e,t,n)}}function is(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then((function(n){os(e,t,n)}),(function(n){return ss(e,t,n)})):os(e,t,n)}function os(e,t,n){t.status="fulfilled",t.value=n,as(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function ss(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,as(t),t=t.next}while(t!==r)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function cs(e,t){if(oi){var n=rc.formState;if(null!==n){e:{var r=wo;if(oi){if(ii){t:{for(var i=ii,o=ai;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=gd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ii=gd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Zo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=r,n=Zs.bind(null,wo,r),r.dispatch=n,r=es(!1),o=zs.bind(null,wo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Zo()).queue=i,n=ns.bind(null,wo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function us(e){return ds(Uo(),_o,e)}function ds(e,t,n){if(t=qo(e,t,ls)[0],e=Go($o)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=zo(t)}catch(e){if(e===Gi)throw Hi;throw e}else r=t;var i=(t=Uo()).queue,o=i.dispatch;return n!==t.memoizedState&&(wo.flags|=2048,fs(9,{destroy:void 0,resource:void 0},hs.bind(null,i,n),null)),[r,o,e]}function hs(e,t){e.action=t}function ps(e){var t=Uo(),n=_o;if(null!==n)return ds(t,n,e);Uo(),t=t.memoizedState;var r=(n=Uo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ms(){return Uo().memoizedState}function ys(e,t,n,r){var i=Zo();r=void 0===r?null:r,wo.flags|=e,i.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},n,r)}function gs(e,t,n,r){var i=Uo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==_o&&null!==r&&Po(r,_o.memoizedState.deps)?i.memoizedState=fs(t,o,n,r):(wo.flags|=e,i.memoizedState=fs(1|t,o,n,r))}function vs(e,t){ys(8390656,8,e,t)}function bs(e,t){gs(2048,8,e,t)}function ws(e,t){return gs(4,2,e,t)}function _s(e,t){return gs(4,4,e,t)}function Ss(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function xs(e,t,n){n=null!=n?n.concat([e]):null,gs(4,4,Ss.bind(null,t,e),n)}function Ms(){}function As(e,t){var n=Uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ts(e,t){var n=Uo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Po(t,r[1]))return r[0];if(r=e(),Ao){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Is(e,t,n){return void 0===n||1073741824&bo?e.memoizedState=t:(e.memoizedState=n,e=Lc(),wo.lanes|=e,pc|=e,n)}function Cs(e,t,n,r){return Jn(n,t)?n:null!==fo.current?(e=Is(e,n,r),Jn(e,t)||(Ia=!0),e):42&bo?(e=Lc(),wo.lanes|=e,pc|=e,t):(Ia=!0,e.memoizedState=n)}function Es(e,t,n,r,i){var o=L.p;L.p=0!==o&&8>o?o:8;var s,a,l,c=N.T,u={};N.T=u,zs(e,!1,t,n);try{var d=i(),h=N.S;if(null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)Us(e,t,(s=r,a=[],l={status:"pending",value:null,reason:null,then:function(e){a.push(e)}},d.then((function(){l.status="fulfilled",l.value=s;for(var e=0;e<a.length;e++)(0,a[e])(s)}),(function(e){for(l.status="rejected",l.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)})),l),Nc());else Us(e,t,r,Nc())}catch(n){Us(e,t,{then:function(){},status:"rejected",reason:n},Nc())}finally{L.p=o,N.T=c}}function ks(){}function Ps(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=Rs(e).queue;Es(e,i,t,D,null===n?ks:function(){return Os(e),n(r)})}function Rs(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Os(e){Us(e,Rs(e).next.queue,{},Nc())}function Ns(){return Ti(Wd)}function Ls(){return Uo().memoizedState}function Ds(){return Uo().memoizedState}function Fs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Nc(),r=oo(t,e=io(n),n);return null!==r&&(Dc(r,t,n),so(r,t,n)),t={cache:Oi()},void(e.payload=t)}t=t.return}}function js(e,t,n){var r=Nc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Vs(e)?Bs(t,n):null!==(n=kr(e,t,n,r))&&(Dc(n,e,r),$s(n,t,r))}function Zs(e,t,n){Us(e,t,n,Nc())}function Us(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vs(e))Bs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,s))return Er(e,t,i,0),null===rc&&Cr(),!1}catch(e){}if(null!==(n=kr(e,t,i,r)))return Dc(n,e,r),$s(n,t,r),!0}return!1}function zs(e,t,n,r){if(r={lane:2,revertLane:Eu(),action:r,hasEagerState:!1,eagerState:null,next:null},Vs(e)){if(t)throw Error(s(479))}else null!==(t=kr(e,n,r,2))&&Dc(t,e,2)}function Vs(e){var t=e.alternate;return e===wo||null!==t&&t===wo}function Bs(e,t){Mo=xo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $s(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}var Gs={readContext:Ti,use:Vo,useCallback:ko,useContext:ko,useEffect:ko,useImperativeHandle:ko,useLayoutEffect:ko,useInsertionEffect:ko,useMemo:ko,useReducer:ko,useRef:ko,useState:ko,useDebugValue:ko,useDeferredValue:ko,useTransition:ko,useSyncExternalStore:ko,useId:ko,useHostTransitionStatus:ko,useFormState:ko,useActionState:ko,useOptimistic:ko,useMemoCache:ko,useCacheRefresh:ko},qs={readContext:Ti,use:Vo,useCallback:function(e,t){return Zo().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:vs,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,ys(4194308,4,Ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ys(4194308,4,e,t)},useInsertionEffect:function(e,t){ys(4,2,e,t)},useMemo:function(e,t){var n=Zo();t=void 0===t?null:t;var r=e();if(Ao){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Zo();if(void 0!==n){var i=n(t);if(Ao){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=js.bind(null,wo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Zo().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=Zs.bind(null,wo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ms,useDeferredValue:function(e,t){return Is(Zo(),e,t)},useTransition:function(){var e=es(!1);return e=Es.bind(null,wo,e.queue,!0,!1),Zo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wo,i=Zo();if(oi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));124&oc||Jo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,vs(Yo.bind(null,r,o,e),[e]),r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Ko.bind(null,r,o,n,t),null),n},useId:function(){var e=Zo(),t=rc.identifierPrefix;if(oi){var n=Xr;t=""+t+"R"+(n=(Yr&~(1<<32-pe(Yr)-1)).toString(32)+n),0<(n=To++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=Eo++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Ns,useFormState:cs,useActionState:cs,useOptimistic:function(e){var t=Zo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=zs.bind(null,wo,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bo,useCacheRefresh:function(){return Zo().memoizedState=Fs.bind(null,wo)}},Hs={readContext:Ti,use:Vo,useCallback:As,useContext:Ti,useEffect:bs,useImperativeHandle:xs,useInsertionEffect:ws,useLayoutEffect:_s,useMemo:Ts,useReducer:Go,useRef:ms,useState:function(){return Go($o)},useDebugValue:Ms,useDeferredValue:function(e,t){return Cs(Uo(),_o.memoizedState,e,t)},useTransition:function(){var e=Go($o)[0],t=Uo().memoizedState;return["boolean"==typeof e?e:zo(e),t]},useSyncExternalStore:Wo,useId:Ls,useHostTransitionStatus:Ns,useFormState:us,useActionState:us,useOptimistic:function(e,t){return ts(Uo(),0,e,t)},useMemoCache:Bo,useCacheRefresh:Ds},Ws={readContext:Ti,use:Vo,useCallback:As,useContext:Ti,useEffect:bs,useImperativeHandle:xs,useInsertionEffect:ws,useLayoutEffect:_s,useMemo:Ts,useReducer:Ho,useRef:ms,useState:function(){return Ho($o)},useDebugValue:Ms,useDeferredValue:function(e,t){var n=Uo();return null===_o?Is(n,e,t):Cs(n,_o.memoizedState,e,t)},useTransition:function(){var e=Ho($o)[0],t=Uo().memoizedState;return["boolean"==typeof e?e:zo(e),t]},useSyncExternalStore:Wo,useId:Ls,useHostTransitionStatus:Ns,useFormState:ps,useActionState:ps,useOptimistic:function(e,t){var n=Uo();return null!==_o?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bo,useCacheRefresh:Ds},Js=null,Ks=0;function Ys(e){var t=Ks;return Ks+=1,null===Js&&(Js=[]),Yi(Js,e,t)}function Xs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Qs(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=jr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===T&&ea(o)===t.type)?(Xs(t=i(t,n.props),n),t.return=e,t):(Xs(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Br(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=zr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case f:return Xs(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Br(t,e.mode,n)).return=e,t;case T:return h(e,t=(0,t._init)(t._payload),n)}if(O(t)||k(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,Ys(t),n);if(t.$$typeof===_)return h(e,Ii(e,t),n);Qs(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case T:return p(e,t,n=(i=n._init)(n._payload),r)}if(O(n)||k(n))return null!==i?null:d(e,t,n,r,null);if("function"==typeof n.then)return p(e,t,Ys(n),r);if(n.$$typeof===_)return p(e,t,Ii(e,n),r);Qs(e,n)}return null}function g(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return g(e,t,n,r=(0,r._init)(r._payload),i)}if(O(r)||k(r))return d(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return g(e,t,n,Ys(r),i);if(r.$$typeof===_)return g(e,t,n,Ii(t,r),i);Qs(t,r)}return null}function v(l,c,u,d){if("object"==typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===T&&ea(b)===c.type){n(l,c.sibling),Xs(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=zr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xs(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Br(u,l.mode,d)).return=l,l=d}return a(l);case T:return v(l,c,u=(b=u._init)(u._payload),d)}if(O(u))return function(i,s,a,l){for(var c=null,u=null,d=s,f=s=0,m=null;null!==d&&f<a.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var y=p(i,d,a[f],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,f),null===u?c=y:u.sibling=y,u=y,d=m}if(f===a.length)return n(i,d),oi&&Qr(i,f),c;if(null===d){for(;f<a.length;f++)null!==(d=h(i,a[f],l))&&(s=o(d,s,f),null===u?c=d:u.sibling=d,u=d);return oi&&Qr(i,f),c}for(d=r(d);f<a.length;f++)null!==(m=g(d,i,f,a[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),s=o(m,s,f),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),oi&&Qr(i,f),c}(l,c,u,d);if(k(u)){if("function"!=typeof(b=k(u)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,f=a,m=a=0,y=null,v=l.next();null!==f&&!v.done;m++,v=l.next()){f.index>m?(y=f,f=null):y=f.sibling;var b=p(i,f,v.value,c);if(null===b){null===f&&(f=y);break}e&&f&&null===b.alternate&&t(i,f),a=o(b,a,m),null===d?u=b:d.sibling=b,d=b,f=y}if(v.done)return n(i,f),oi&&Qr(i,m),u;if(null===f){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return oi&&Qr(i,m),u}for(f=r(f);!v.done;m++,v=l.next())null!==(v=g(f,i,m,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return e&&f.forEach((function(e){return t(i,e)})),oi&&Qr(i,m),u}(l,c,u=b.call(u),d)}if("function"==typeof u.then)return v(l,c,Ys(u),d);if(u.$$typeof===_)return v(l,c,Ii(l,u),d);Qs(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{Ks=0;var i=v(e,t,n,r);return Js=null,i}catch(t){if(t===Gi||t===Hi)throw t;var o=Dr(29,t,null,e.mode);return o.lanes=r,o.return=e,o}}}var na=ta(!0),ra=ta(!1),ia=Z(null),oa=null;function sa(e){var t=e.alternate;z(ua,1&ua.current),z(ia,e),null===oa&&(null===t||null!==fo.current||null!==t.memoizedState)&&(oa=e)}function aa(e){if(22===e.tag){if(z(ua,ua.current),z(ia,e),null===oa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oa=e)}}else la()}function la(){z(ua,ua.current),z(ia,ia.current)}function ca(e){U(ia),oa===e&&(oa=null),U(ua)}var ua=Z(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ha(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nc(),i=io(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Dc(t,e,r),so(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nc(),i=io(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Dc(t,e,r),so(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nc(),r=io(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Dc(t,e,n),so(t,e,n))}};function fa(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Kn(n,r)||!Kn(i,o))}function ma(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ya(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ga="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function va(e){ga(e)}function ba(e){}function wa(e){ga(e)}function _a(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout((function(){throw e}))}}function Sa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout((function(){throw e}))}}function xa(e,t,n){return(n=io(n)).tag=3,n.payload={element:null},n.callback=function(){_a(e,t)},n}function Ma(e){return(e=io(e)).tag=3,e}function Aa(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Sa(t,n,r)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){Sa(t,n,r),"function"!=typeof i&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ta=Error(s(461)),Ia=!1;function Ca(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Ai(t),r=Ro(e,t,n,s,o,i),a=Do(),null===e||Ia?(oi&&a&&ti(t),t.flags|=1,Ca(e,t,r,i),t.child):(Fo(e,t,i),Ja(e,t,i))}function ka(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Fr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Pa(e,t,o,r,i))}if(o=e.child,!Ka(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Kn)(s,r)&&e.ref===t.ref)return Ja(e,t,i)}return t.flags|=1,(e=jr(o,r)).ref=t.ref,e.return=t,t.child=e}function Pa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Kn(o,r)&&e.ref===t.ref){if(Ia=!1,t.pendingProps=r=o,!Ka(e,i))return t.lanes=e.lanes,Ja(e,t,i);131072&e.flags&&(Ia=!0)}}return La(e,t,n,r,i)}function Ra(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Oa(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Oa(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Bi(0,null!==o?o.cachePool:null),null!==o?yo(t,o):go(),aa(t)}else null!==o?(Bi(0,o.cachePool),yo(t,o),la(),t.memoizedState=null):(null!==e&&Bi(0,null),go(),la());return Ca(e,t,i,n),t.child}function Oa(e,t,n,r){var i=Vi();return i=null===i?null:{parent:Ri._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Bi(0,null),go(),aa(t),null!==e&&xi(e,t,r,!0),null}function Na(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function La(e,t,n,r,i){return Ai(t),n=Ro(e,t,n,r,void 0,i),r=Do(),null===e||Ia?(oi&&r&&ti(t),t.flags|=1,Ca(e,t,n,i),t.child):(Fo(e,t,i),Ja(e,t,i))}function Da(e,t,n,r,i,o){return Ai(t),t.updateQueue=null,n=No(t,r,n,i),Oo(e),r=Do(),null===e||Ia?(oi&&r&&ti(t),t.flags|=1,Ca(e,t,n,o),t.child):(Fo(e,t,o),Ja(e,t,o))}function Fa(e,t,n,r,i){if(Ai(t),null===t.stateNode){var o=Nr,s=n.contextType;"object"==typeof s&&null!==s&&(o=Ti(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=pa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),s=n.contextType,o.context="object"==typeof s&&null!==s?Ti(s):Nr,o.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(ha(t,n,s,r),o.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(s=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&pa.enqueueReplaceState(o,o.state,null),uo(t,r,o,i),co(),o.state=t.memoizedState),"function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=ya(n,a);o.props=l;var c=o.context,u=n.contextType;s=Nr,"object"==typeof u&&null!==u&&(s=Ti(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a||c!==s)&&ma(t,o,r,s),to=!1;var h=t.memoizedState;o.state=h,uo(t,r,o,i),co(),c=t.memoizedState,a||h!==c||to?("function"==typeof d&&(ha(t,n,d,r),c=t.memoizedState),(l=to||fa(t,n,l,r,h,c,s))?(u||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=ya(n,s=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Nr,"object"==typeof c&&null!==c&&(l=Ti(c)),(c="function"==typeof(a=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ma(t,o,r,l),to=!1,h=t.memoizedState,o.state=h,uo(t,r,o,i),co();var p=t.memoizedState;s!==d||h!==p||to||null!==e&&null!==e.dependencies&&Mi(e.dependencies)?("function"==typeof a&&(ha(t,n,a,r),p=t.memoizedState),(u=to||fa(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&Mi(e.dependencies))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Na(e,t),r=!!(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,i),t.child=na(t,null,n,i)):Ca(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Ja(e,t,i),e}function ja(e,t,n,r){return pi(),t.flags|=256,Ca(e,t,n,r),t.child}var Za={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ua(e){return{baseLanes:e,cachePool:$i()}}function za(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Va(e,t,n){var r,i=t.pendingProps,o=!1,a=!!(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&!!(2&ua.current)),r&&(o=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(oi){if(o?sa(t):la(),oi){var l,c=ii;if(l=c){e:{for(l=c,c=ai;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=gd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Kr?{id:Yr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=Dr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=i.children,i=i.fallback,o?(la(),c=$a({mode:"hidden",children:c},o=t.mode),i=zr(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=Ua(n),o.childLanes=za(e,r,n),t.memoizedState=Za,i):(sa(t),Ba(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(sa(t),t.flags&=-257,t=Ga(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),o=i.fallback,c=t.mode,i=$a({mode:"visible",children:i.children},c),(o=zr(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,na(t,e.child,null,n),(i=t.child).memoizedState=Ua(n),i.childLanes=za(e,r,n),t.memoizedState=Za,t=o);else if(sa(t),yd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ga(e,t,n)}else if(Ia||xi(e,t,n,!1),r=!!(n&e.childLanes),Ia||r){if(null!==(r=rc)&&(0!==(i=(i=42&(i=n&-n)?1:Ce(i))&(r.suspendedLanes|n)?0:i)&&i!==l.retryLane))throw l.retryLane=i,Pr(e,i),Dc(r,e,i),Ta;"$?"===c.data||Hc(),t=Ga(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=gd(c.nextSibling),ri=t,oi=!0,si=null,ai=!1,null!==e&&(Wr[Jr++]=Yr,Wr[Jr++]=Xr,Wr[Jr++]=Kr,Yr=e.id,Xr=e.overflow,Kr=t),(t=Ba(t,i.children)).flags|=4096);return t}return o?(la(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=jr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=jr(u,o):(o=zr(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=Ua(n):(null!==(l=c.cachePool)?(u=Ri._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=$i(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=za(e,r,n),t.memoizedState=Za,i):(sa(t),e=(n=e.child).sibling,(n=jr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ba(e,t){return(t=$a({mode:"visible",children:t},e.mode)).return=e,e.child=t}function $a(e,t){return(e=Dr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ga(e,t,n){return na(t,e.child,null,n),(e=Ba(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_i(e.return,t,n)}function Ha(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ca(e,t,r.children,n),2&(r=ua.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qa(e,n,t);else if(19===e.tag)qa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(ua,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ha(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===da(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ha(t,!0,n,null,o);break;case"together":Ha(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ja(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,!(n&t.childLanes)){if(null===e)return null;if(xi(e,t,n,!1),!(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=jr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){return!!(e.lanes&t)||!(null===(e=e.dependencies)||!Mi(e))}function Ya(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ia=!0;else{if(!(Ka(e,n)||128&t.flags))return Ia=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),bi(0,Ri,e.memoizedState.cache),pi();break;case 27:case 5:W(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(sa(t),t.flags|=128,null):n&t.child.childLanes?Va(e,t,n):(sa(t),null!==(e=Ja(e,t,n))?e.sibling:null);sa(t);break;case 19:var i=!!(128&e.flags);if((r=!!(n&t.childLanes))||(xi(e,t,n,!1),r=!!(n&t.childLanes)),i){if(r)return Wa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Ra(e,t,n);case 24:bi(0,Ri,e.memoizedState.cache)}return Ja(e,t,n)}(e,t,n);Ia=!!(131072&e.flags)}else Ia=!1,oi&&1048576&t.flags&&ei(t,Hr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!=typeof r){if(null!=r){if((i=r.$$typeof)===S){t.tag=11,t=Ea(null,t,r,e,n);break e}if(i===A){t.tag=14,t=ka(null,t,r,e,n);break e}}throw t=R(r)||r,Error(s(306,t,""))}Fr(r)?(e=ya(r,e),t.tag=1,t=Fa(null,t,r,e,n)):(t.tag=0,t=La(null,t,r,e,n))}return t;case 0:return La(e,t,t.type,t.pendingProps,n);case 1:return Fa(e,t,r=t.type,i=ya(r,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,ro(e,t),uo(t,r,null,n);var a=t.memoizedState;if(r=a.cache,bi(0,Ri,r),r!==o.cache&&Si(t,[Ri],n,!0),co(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ja(e,t,r,n);break e}if(r!==i){mi(i=Mr(Error(s(424)),t)),t=ja(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=gd(e.firstChild),ri=t,oi=!0,si=null,ai=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===i){t=Ja(e,t,n);break e}Ca(e,t,r,n)}t=t.child}return t;case 26:return Na(e,t),null===e?(n=Cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=rd($.current).createElement(n))[Re]=t,r[Oe]=e,ed(r,n,e),Ge(r),t.stateNode=r):t.memoizedState=Cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return W(t),null===e&&oi&&(r=t.stateNode=wd(t.type,t.pendingProps,$.current),ri=t,ai=!0,i=ii,pd(t.type)?(vd=i,ii=gd(r.firstChild)):ii=i),Ca(e,t,t.pendingProps.children,n),Na(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=gd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ai))?(t.stateNode=r,ri=t,ii=gd(r.firstChild),ai=!1,i=!0):i=!1),i||ci(t)),W(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,sd(i,o)?r=null:null!==a&&sd(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=Ro(e,t,Lo,null,null,n),Wd._currentValue=i),Na(e,t),Ca(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=gd(e.nextSibling)))return null}return e}(n,t.pendingProps,ai))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Va(e,t,n);case 4:return q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):Ca(e,t,r,n),t.child;case 11:return Ea(e,t,t.type,t.pendingProps,n);case 7:return Ca(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ca(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Ca(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ai(t),r=r(i=Ti(i)),t.flags|=1,Ca(e,t,r,n),t.child;case 14:return ka(e,t,t.type,t.pendingProps,n);case 15:return Pa(e,t,t.type,t.pendingProps,n);case 19:return Wa(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=$a(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=jr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ra(e,t,n);case 24:return Ai(t),r=Ti(Ri),null===e?(null===(i=Vi())&&(i=rc,o=Oi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},no(t),bi(0,Ri,i)):(!!(e.lanes&n)&&(ro(e,t),uo(t,null,null,n),co()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Ri,r)):(r=o.cache,bi(0,Ri,r),r!==i.cache&&Si(t,[Ri],n,!0))),Ca(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Xa(e){e.flags|=4}function Qa(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!zd(t)){if(null!==(t=ia.current)&&((4194048&oc)===oc?null!==oa:(62914560&oc)!==oc&&!(536870912&oc)||t!==oa))throw Xi=Wi,qi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?xe():536870912,e.lanes|=t,gc|=t)}function tl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Ri),H(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Xa(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,fi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xa(t),null!==n?(nl(t),Qa(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xa(t),nl(t),Qa(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xa(t),nl(t),t.flags&=-16777217),null;case 27:J(t),n=$.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xa(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=V.current,hi(t)?ui(t):(e=wd(i,r,n),t.stateNode=e,Xa(t))}return nl(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xa(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=V.current,hi(t))ui(t);else{switch(i=rd($.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Re]=t,e[Oe]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xa(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xa(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));if(e=$.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Ku(e.nodeValue,n)))||ci(t)}else(e=rd(e).createTextNode(r))[Re]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Re]=t}else pi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=fi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),128&t.flags)return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return H(),null===e&&Uu(t.stateNode.containerInfo),nl(t),null;case 10:return wi(t.type),nl(t),null;case 19:if(U(ua),null===(i=t.memoizedState))return nl(t),null;if(r=!!(128&t.flags),null===(o=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=da(e))){for(t.flags|=128,tl(i,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Zr(n,e),n=n.sibling;return z(ua,1&ua.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Sc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=da(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!oi)return nl(t),null}else 2*te()-i.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=ua.current,z(ua,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ca(t),vo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(zi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Ri),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Ri),H(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(ua),null;case 4:return H(),null;case 10:return wi(t.type),null;case 22:case 23:return ca(t),vo(),null!==e&&U(zi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Ri),null;default:return null}}function ol(e,t){switch(ni(t),t.tag){case 3:wi(Ri),H();break;case 26:case 27:case 5:J(t);break;case 4:H();break;case 13:ca(t);break;case 19:U(ua);break;case 10:wi(t.type);break;case 22:case 23:ca(t),vo(),null!==e&&U(zi);break;case 24:wi(Ri)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(e){uu(t,t.return,e)}}function al(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(e){uu(i,l,e)}}}r=r.next}while(r!==o)}}catch(e){uu(t,t.return,e)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{po(t,n)}catch(t){uu(e,e.return,t)}}}function cl(e,t,n){n.props=ya(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){uu(e,t,n)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){uu(e,t,n)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){uu(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){uu(e,t,n)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){uu(e,e.return,t)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||Xu(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":o=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&Xu(e,t,p,f,r,h)}}return void yt(e,a,l,c,u,d,o,i);case"select":for(o in f=a=l=p=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(o)||Xu(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":p=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&Xu(e,t,i,o,r,c)}return t=l,n=a,r=f,void(null!=p?bt(e,!!n,p,!1):!!r!=!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&Xu(e,t,a,i,r,o)}return void wt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Xu(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p;else Xu(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&Xu(e,t,y,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:Xu(e,t,u,p,r,f)}return;default:if(Tt(t)){for(var g in n)p=n[g],n.hasOwnProperty(g)&&void 0!==p&&!r.hasOwnProperty(g)&&Qu(e,t,g,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||Qu(e,t,d,p,r,f);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&Xu(e,t,v,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||Xu(e,t,h,p,r,f)}(r,e.type,n,t),r[Oe]=t}catch(t){uu(e,e.return,t)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Yu));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[Re]=e,t[Oe]=n}catch(t){uu(e,e.return,t)}}var bl=!1,wl=!1,_l=!1,Sl="function"==typeof WeakSet?WeakSet:Set,xl=null;function Ml(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&sl(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){uu(n,n.return,e)}else{var i=ya(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){uu(n,n.return,e)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{po(e,t)}catch(e){uu(n,n.return,e)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&kl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,i=bl;var o=wl;bl=r,(wl=t)&&!o?Zl(e,n,!!(8772&n.subtreeFlags)):Fl(e,n),bl=i,wl=o}break;case 30:break;default:Fl(e,n)}}function Al(e){var t=e.alternate;null!==t&&(e.alternate=null,Al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,Il=!1;function Cl(e,t,n){for(n=n.child;null!==n;)El(e,t,n),n=n.sibling}function El(e,t,n){if(de&&"function"==typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(e){}switch(n.tag){case 26:wl||dl(n,t),Cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=Tl,i=Il;pd(n.type)&&(Tl=n.stateNode,Il=!1),Cl(e,t,n),_d(n.stateNode),Tl=r,Il=i;break;case 5:wl||dl(n,t);case 6:if(r=Tl,i=Il,Tl=null,Cl(e,t,n),Il=i,null!==(Tl=r))if(Il)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(e){uu(n,t,e)}else try{Tl.removeChild(n.stateNode)}catch(e){uu(n,t,e)}break;case 18:null!==Tl&&(Il?(fd(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ih(e)):fd(Tl,n.stateNode));break;case 4:r=Tl,i=Il,Tl=n.stateNode.containerInfo,Il=!0,Cl(e,t,n),Tl=r,Il=i;break;case 0:case 11:case 14:case 15:wl||al(2,n,t),wl||al(4,n,t),Cl(e,t,n);break;case 1:wl||(dl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Cl(e,t,n),wl=r;break;default:Cl(e,t,n)}}function kl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ih(e)}catch(e){uu(t,t.return,e)}}function Pl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Rl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Tl=l.stateNode,Il=!1;break e}break;case 5:Tl=l.stateNode,Il=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,Il=!0;break e}l=l.return}if(null===Tl)throw Error(s(160));El(o,a,i),Tl=null,Il=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Nl(t,e),t=t.sibling}var Ol=null;function Nl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rl(t,e),Ll(e),4&r&&(al(3,e,e.return),sl(3,e),al(5,e,e.return));break;case 1:Rl(t,e),Ll(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ol;if(Rl(t,e),Ll(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Ze]||o[Re]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),ed(o,r,n),o[Re]=e,Ge(o),r=o;break e;case"link":var a=Zd("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}ed(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=Zd("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}ed(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[Re]=e,Ge(o),r=o}e.stateNode=r}else Ud(i,e.type,e.stateNode);else e.stateNode=Nd(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Ud(i,e.type,e.stateNode):Nd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rl(t,e),Ll(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rl(t,e),Ll(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(t){uu(e,e.return,t)}}4&r&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(_l=!0);break;case 6:if(Rl(t,e),Ll(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){uu(e,e.return,t)}}break;case 3:if(jd=null,i=Ol,Ol=Md(t.containerInfo),Rl(t,e),Ol=i,Ll(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ih(t.containerInfo)}catch(t){uu(e,e.return,t)}_l&&(_l=!1,Dl(e));break;case 4:r=Ol,Ol=Md(e.stateNode.containerInfo),Rl(t,e),Ll(e),Ol=r;break;case 12:default:Rl(t,e),Ll(e);break;case 13:Rl(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(_c=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||i,wl=d||c,Rl(t,e),wl=d,bl=u,Ll(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||wl||jl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(e){uu(c,c.return,e)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(e){uu(c,c.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Pl(e,n))));break;case 19:Rl(t,e),Ll(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;gl(e,ml(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(St(o,""),n.flags&=-33),gl(e,ml(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;yl(e,ml(e),a);break;default:throw Error(s(161))}}catch(t){uu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Dl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Dl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ml(e,t.alternate,t),t=t.sibling}function jl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),jl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&cl(t,t.return,n),jl(t);break;case 27:_d(t.stateNode);case 26:case 5:dl(t,t.return),jl(t);break;case 22:null===t.memoizedState&&jl(t);break;default:jl(t)}e=e.sibling}}function Zl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Zl(i,o,n),sl(4,o);break;case 1:if(Zl(i,o,n),"function"==typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(e){uu(r,r.return,e)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ho(l[i],a)}catch(e){uu(r,r.return,e)}}n&&64&s&&ll(o),ul(o,o.return);break;case 27:vl(o);case 26:case 5:Zl(i,o,n),n&&null===r&&4&s&&hl(o),ul(o,o.return);break;case 12:Zl(i,o,n);break;case 13:Zl(i,o,n),n&&4&s&&kl(i,o);break;case 22:null===o.memoizedState&&Zl(i,o,n),ul(o,o.return);break;case 30:break;default:Zl(i,o,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ni(n))}function zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ni(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Bl(e,t,n,r),t=t.sibling}function Bl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ni(e)));break;case 12:if(2048&i){Vl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"==typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){uu(t,t.return,e)}}else Vl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?Vl(e,t,n,r):Gl(e,t):2&o._visibility?Vl(e,t,n,r):(o._visibility|=2,$l(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&Ul(s,t);break;case 24:Vl(e,t,n,r),2048&i&&zl(t.alternate,t)}}function $l(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:$l(o,s,a,l,i),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?$l(o,s,a,l,i):Gl(o,s):(u._visibility|=2,$l(o,s,a,l,i)),i&&2048&c&&Ul(s.alternate,s);break;case 24:$l(o,s,a,l,i),i&&2048&c&&zl(s.alternate,s);break;default:$l(o,s,a,l,i)}t=t.sibling}}function Gl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Gl(n,r),2048&i&&Ul(r.alternate,r);break;case 24:Gl(n,r),2048&i&&zl(r.alternate,r);break;default:Gl(n,r)}t=t.sibling}}var ql=8192;function Hl(e){if(e.subtreeFlags&ql)for(e=e.child;null!==e;)Wl(e),e=e.sibling}function Wl(e){switch(e.tag){case 26:Hl(e),e.flags&ql&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(s(475));var r=Vd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var i=Ed(n.href),o=e.querySelector(kd(i));if(o)return null!==(e=o._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=$d.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void Ge(o);o=e.ownerDocument||e,n=Pd(n),(i=Sd.get(i))&&Dd(n,i),Ge(o=o.createElement("link"));var a=o;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),ed(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(r.count++,t=$d.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:Hl(e);break;case 3:case 4:var t=Ol;Ol=Md(e.stateNode.containerInfo),Hl(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ql,ql=16777216,Hl(e),ql=t):Hl(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Kl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,Ql(r,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 0:case 11:case 15:Kl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Kl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Kl(e)}}function Xl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,Ql(r,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Ql(e,t){for(;null!==xl;){var n=xl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ni(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,xl=r;else e:for(n=e;null!==xl;){var i=(r=xl).sibling,o=r.return;if(Al(r),r===n){xl=null;break e}if(null!==i){i.return=o,xl=i;break e}xl=o}}}var ec={getCacheForType:function(e){var t=Ti(Ri),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"==typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,oc=0,sc=0,ac=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,pc=0,fc=0,mc=0,yc=0,gc=0,vc=null,bc=null,wc=!1,_c=0,Sc=1/0,xc=null,Mc=null,Ac=0,Tc=null,Ic=null,Cc=0,Ec=0,kc=null,Pc=null,Rc=0,Oc=null;function Nc(){if(2&nc&&0!==oc)return oc&-oc;if(null!==N.T){return 0!==Fi?Fi:Eu()}return ke()}function Lc(){0===yc&&(yc=536870912&oc&&!oi?536870912:Se());var e=ia.current;return null!==e&&(e.flags|=32),yc}function Dc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Bc(e,0),Uc(e,oc,yc,!1)),Ae(e,n),2&nc&&e===rc||(e===rc&&(!(2&nc)&&(fc|=n),4===hc&&Uc(e,oc,yc,!1)),Su(e))}function Fc(e,t,n){if(6&nc)throw Error(s(327));for(var r=!n&&!(124&t)&&!(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Gc(),i=qc();rc!==e||oc!==t?(xc=null,Sc=te()+500,Bc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==sc&&null!==ic){t=ic;var o=ac;t:switch(sc){case 1:sc=0,ac=null,Qc(e,t,o,1);break;case 2:case 9:if(Ji(o)){sc=0,ac=null,Xc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),Su(e)},o.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Ji(o)?(sc=0,ac=null,Xc(t)):(sc=0,ac=null,Qc(e,t,o,7));break;case 5:var a=null;switch(ic.tag){case 26:a=ic.memoizedState;case 5:case 27:var l=ic;if(!a||zd(a)){sc=0,ac=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}sc=0,ac=null,Qc(e,t,o,5);break;case 6:sc=0,ac=null,Qc(e,t,o,6);break;case 8:Vc(),hc=6;break e;default:throw Error(s(462))}}Kc();break}catch(t){$c(e,t)}return vi=gi=null,N.H=r,N.A=i,nc=n,null!==ic?0:(rc=null,oc=0,Cr(),hc)}(e,t):Wc(e,t,!0),o=r;;){if(0===i){cc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!o||Zc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Bc(l,a).flags|=256),2!==(a=Wc(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=o,fc|=o,i=4;break e}o=bc,bc=i,null!==o&&(null===bc?bc=o:bc.push.apply(bc,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){Bc(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,yc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=_c+300-te())){if(Uc(r,t,yc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(jc.bind(null,r,n,bc,xc,wc,t,yc,fc,gc,lc,o,2,-0,0),i)}else jc(r,n,bc,xc,wc,t,yc,fc,gc,lc,o,0,-0,0)}break}i=Wc(e,t,!1),o=!1}Su(e)}function jc(e,t,n,r,i,o,a,l,c,u,d,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(Vd={stylesheets:null,count:0,unsuspend:Bd},Wl(t),null!==(h=function(){if(null===Vd)throw Error(s(475));var e=Vd;return e.stylesheets&&0===e.count&&qd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&qd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,o,n,r,i,a,l,c,d,1,p,f)),void Uc(e,o,a,!u);nu(e,t,o,n,r,i,a,l,c)}function Zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Jn(o(),i))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~mc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-pe(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&Te(e,n,t)}function zc(){return!!(6&nc)||(xu(0,!1),!1)}function Vc(){if(null!==ic){if(0===sc)var e=ic.return;else vi=gi=null,jo(e=ic),Js=null,Ks=0,e=ic;for(;null!==e;)ol(e.alternate,e),e=e.return;ic=null}}function Bc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),rc=e,ic=n=jr(e.current,null),oc=t,sc=0,ac=null,lc=!1,cc=we(e,t),uc=!1,gc=yc=mc=fc=pc=hc=0,bc=vc=null,wc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-pe(r),o=1<<i;t|=e[i],r&=~o}return dc=t,Cr(),n}function $c(e,t){wo=null,N.H=Gs,t===Gi||t===Hi?(t=Qi(),sc=3):t===qi?(t=Qi(),sc=4):sc=t===Ta?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,ac=t,null===ic&&(hc=1,_a(e,Mr(t,e.current)))}function Gc(){var e=N.H;return N.H=Gs,null===e?Gs:e}function qc(){var e=N.A;return N.A=ec,e}function Hc(){hc=4,lc||(4194048&oc)!==oc&&null!==ia.current||(cc=!0),!(134217727&pc)&&!(134217727&fc)||null===rc||Uc(rc,oc,yc,!1)}function Wc(e,t,n){var r=nc;nc|=2;var i=Gc(),o=qc();rc===e&&oc===t||(xc=null,Bc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ic){var a=ic,l=ac;switch(sc){case 8:Vc(),s=6;break e;case 3:case 2:case 9:case 6:null===ia.current&&(t=!0);var c=sc;if(sc=0,ac=null,Qc(e,a,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,ac=null,Qc(e,a,l,c)}}Jc(),s=hc;break}catch(t){$c(e,t)}return t&&e.shellSuspendCounter++,vi=gi=null,nc=r,N.H=i,N.A=o,null===ic&&(rc=null,oc=0,Cr()),s}function Jc(){for(;null!==ic;)Yc(ic)}function Kc(){for(;null!==ic&&!Q();)Yc(ic)}function Yc(e){var t=Ya(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Da(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Da(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:jo(t);default:ol(n,t),t=Ya(n,t=ic=Zr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Qc(e,t,n,r){vi=gi=null,jo(t),Js=null,Ks=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&xi(t,n,i,!0),null!==(n=ia.current)){switch(n.tag){case 13:return null===oa?Hc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Wi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Wi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(s(435,n.tag))}return du(e,r,i),Hc(),!1}if(oi)return null!==(t=ia.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Mr(e=Error(s(422),{cause:r}),n))):(r!==li&&mi(Mr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Mr(r,n),ao(e,i=xa(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var o=Error(s(520),{cause:r});if(o=Mr(o,n),null===vc?vc=[o]:vc.push(o),4!==hc&&(hc=2),null===t)return!0;r=Mr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ao(n,e=xa(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==Mc&&Mc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Aa(i=Ma(i),e,n,r),ao(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return hc=1,_a(e,Mr(n,e.current)),void(ic=null)}catch(t){if(null!==i)throw ic=i,t;return hc=1,_a(e,Mr(n,e.current)),void(ic=null)}32768&t.flags?(oi||1===r?e=!0:cc||536870912&oc?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ia.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(32768&t.flags)return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nu(e,t,n,r,i,o,a,l,c){e.cancelPendingCommit=null;do{au()}while(0!==Ac);if(6&nc)throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-pe(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Te(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Ir,a,l,c),e===rc&&(ic=rc=null,oc=0),Ic=t,Tc=e,Cc=n,Ec=o,kc=i,Pc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Y(oe,(function(){return lu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=N.T,N.T=null,i=L.p,L.p=2,a=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(e){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=a),p===o&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,xl=t;null!==xl;)if(e=(t=xl).child,1024&t.subtreeFlags&&null!==e)e.return=t,xl=e;else for(;null!==xl;){switch(o=(t=xl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=ya(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){uu(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,xl=e;break}xl=t.return}}(e,t)}finally{nc=a,L.p=i,N.T=r}}Ac=1,ru(),iu(),ou()}}function ru(){if(1===Ac){Ac=0;var e=Tc,t=Ic,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=N.T,N.T=null;var r=L.p;L.p=2;var i=nc;nc|=4;try{Nl(t,e);var o=nd,s=er(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&Qn(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=a.textContent.length,m=Math.min(l.start,f),y=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>y&&(s=y,y=m,m=s);var g=Xn(a,m),v=Xn(a,y);if(g&&v&&(1!==p.rangeCount||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=d.createRange();b.setStart(g.node,g.offset),p.removeAllRanges(),m>y?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(d=[],p=a;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof a.focus&&a.focus(),a=0;a<d.length;a++){var w=d[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nh=!!td,nd=td=null}finally{nc=i,L.p=r,N.T=n}}e.current=t,Ac=2}}function iu(){if(2===Ac){Ac=0;var e=Tc,t=Ic,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=N.T,N.T=null;var r=L.p;L.p=2;var i=nc;nc|=4;try{Ml(e,t.alternate,t)}finally{nc=i,L.p=r,N.T=n}}Ac=3}}function ou(){if(4===Ac||3===Ac){Ac=0,ee();var e=Tc,t=Ic,n=Cc,r=Pc;10256&t.subtreeFlags||10256&t.flags?Ac=5:(Ac=0,Ic=Tc=null,su(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Mc=null),Ee(n),t=t.stateNode,de&&"function"==typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=N.T,i=L.p,L.p=2,N.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{N.T=t,L.p=i}}3&Cc&&au(),Su(e),i=e.pendingLanes,4194090&n&&42&i?e===Oc?Rc++:(Rc=0,Oc=e):Rc=0,xu(0,!1)}}function su(e,t){0==(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ni(t)))}function au(e){return ru(),iu(),ou(),lu()}function lu(){if(5!==Ac)return!1;var e=Tc,t=Ec;Ec=0;var n=Ee(Cc),r=N.T,i=L.p;try{L.p=32>n?32:n,N.T=null,n=kc,kc=null;var o=Tc,a=Cc;if(Ac=0,Ic=Tc=null,Cc=0,6&nc)throw Error(s(331));var l=nc;if(nc|=4,Yl(o.current),Bl(o,o.current,a,n),nc=l,xu(0,!1),de&&"function"==typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,o)}catch(e){}return!0}finally{L.p=i,N.T=r,su(e,t)}}function cu(e,t,n){t=Mr(n,t),null!==(e=oo(e,t=xa(e.stateNode,t,2),2))&&(Ae(e,2),Su(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){e=Mr(n,e),null!==(r=oo(t,n=Ma(2),2))&&(Aa(n,r,t,e),Ae(r,2),Su(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(oc&n)===n&&(4===hc||3===hc&&(62914560&oc)===oc&&300>te()-_c?!(2&nc)&&Bc(e,0):mc|=n,gc===oc&&(gc=0)),Su(e)}function pu(e,t){0===t&&(t=xe()),null!==(e=Pr(e,t))&&(Ae(e,t),Su(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),pu(e,n)}var yu=null,gu=null,vu=!1,bu=!1,wu=!1,_u=0;function Su(e){e!==gu&&null===e.next&&(null===gu?yu=gu=e:gu=gu.next=e),bu=!0,vu||(vu=!0,dd((function(){6&nc?Y(re,Mu):Au()})))}function xu(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=yu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-pe(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Cu(r,o))}else o=oc,!(3&(o=be(r,r===rc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,o)||(n=!0,Cu(r,o));r=r.next}}while(n);wu=!1}}function Mu(){Au()}function Au(){bu=vu=!1;var e=0;0!==_u&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ad&&(ad=e,!0);return ad=null,!1}()&&(e=_u),_u=0);for(var t=te(),n=null,r=yu;null!==r;){var i=r.next,o=Tu(r,t);0===o?(r.next=null,null===n?yu=i:n.next=i,null===i&&(gu=n)):(n=r,(0!==e||3&o)&&(bu=!0)),r=i}xu(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-pe(o),a=1<<s,l=i[s];-1===l?a&n&&!(a&r)||(i[s]=_e(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=oc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),Ee(n)){case 2:case 8:n=ie;break;case 32:default:n=oe;break;case 268435456:n=ae}return r=Iu.bind(null,e),n=Y(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Iu(e,t){if(0!==Ac&&5!==Ac)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(au()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Iu.bind(null,e):null)}function Cu(e,t){if(au())return null;Fc(e,t,!0)}function Eu(){return 0===_u&&(_u=Se()),_u}function ku(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Et(""+e)}function Pu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ru=0;Ru<_r.length;Ru++){var Ou=_r[Ru];Sr(Ou.toLowerCase(),"on"+(Ou[0].toUpperCase()+Ou.slice(1)))}Sr(pr,"onAnimationEnd"),Sr(fr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(yr,"onTransitionRun"),Sr(gr,"onTransitionStart"),Sr(vr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function Du(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(e){ga(e)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(e){ga(e)}i.currentTarget=null,o=l}}}}function Fu(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||(zu(t,e,2,!1),n.add(r))}function ju(e,t,n){var r=0;t&&(r|=4),zu(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Zu]){e[Zu]=!0,qe.forEach((function(t){"selectionchange"!==t&&(Lu.has(t)||ju(t,!1,e),ju(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,ju("selectionchange",!1,t))}}function zu(e,t,n,r){switch(ch(t)){case 2:var i=rh;break;case 8:i=ih;break;default:i=oh}n=i.bind(null,t,n,e),i=void 0,!Zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=ze(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Dt((function(){var r=o,i=Pt(n),s=[];e:{var a=wr.get(e);if(void 0!==a){var c=Qt,u=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=gn;break;case pr:case fr:case mr:c=an;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=wn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==a?a+"Capture":null:a;d=[];for(var f,m=r;null!==m;){var y=m;if(f=y.stateNode,5!==(y=y.tag)&&26!==y&&27!==y||null===f||null===p||null!=(y=Ft(m,p))&&d.push(Bu(m,y,f)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,i),s.push({event:a,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===kt||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[Ne])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,y="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=yn,y="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?a:Be(c),f=null==u?a:Be(u),(a=new d(y,m+"leave",c,n,i)).target=h,a.relatedTarget=f,y=null,ze(i)===r&&((d=new d(p,m+"enter",u,n,i)).target=f,d.relatedTarget=h,y=d),h=y,c&&u)e:{for(p=u,m=0,f=d=c;f;f=Gu(f))m++;for(f=0,y=p;y;y=Gu(y))f++;for(;0<m-f;)d=Gu(d),m--;for(;0<f-m;)p=Gu(p),f--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Gu(d),p=Gu(p)}d=null}else d=null;null!==c&&qu(s,a,c,d,!1),null!==u&&null!==h&&qu(s,h,u,d,!0)}if("select"===(c=(a=r?Be(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=jn;else if(Rn(a))if(Zn)g=Wn;else{g=qn;var v=Gn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Tt(r.elementType)&&(g=jn):g=Hn;switch(g&&(g=g(e,r))?On(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&vt(a,"number",a.value)),v=r?Be(r):window,e){case"focusin":(Rn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ar(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(s,n,i)}var b;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else kn?Cn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(An&&"ko"!==n.locale&&(kn||"onCompositionStart"!==w?"onCompositionEnd"===w&&kn&&(b=$t()):(Vt="value"in(zt=i)?zt.value:zt.textContent,kn=!0)),0<(v=$u(r,w)).length&&(w=new cn(w,e,null,n,i),s.push({event:w,listeners:v}),b?w.data=b:null!==(b=En(n))&&(w.data=b))),(b=Mn?function(e,t){switch(e){case"compositionend":return En(t);case"keypress":return 32!==t.which?null:(In=!0,Tn);case"textInput":return(e=t.data)===Tn&&In?null:e;default:return null}}(e,n):function(e,t){if(kn)return"compositionend"===e||!Sn&&Cn(e,t)?(e=$t(),Bt=Vt=zt=null,kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=$u(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=ku((i[Oe]||null).action),s=r.submitter;s&&null!==(t=(t=s[Oe]||null)?ku(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new Qt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==_u){var e=s?Pu(i,s):new FormData(i);Ps(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"==typeof o&&(a.preventDefault(),e=s?Pu(i,s):new FormData(i),Ps(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Du(s,t)}))}function Bu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $u(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Ft(e,n))&&r.unshift(Bu(e,i,o)),null!=(i=Ft(e,t))&&r.push(Bu(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Gu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qu(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Ft(n,o))&&s.unshift(Bu(n,c,l)):i||null!=(c=Ft(n,o))&&s.push(Bu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Hu=/\r\n?/g,Wu=/\u0000|\uFFFD/g;function Ju(e){return("string"==typeof e?e:""+e).replace(Hu,"\n").replace(Wu,"")}function Ku(e,t){return t=Ju(t),Ju(e)===t}function Yu(){}function Xu(e,t,n,r,i,o){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":At(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Et(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof o&&("formAction"===n?("input"!==t&&Xu(e,t,"name",i.name,i,null),Xu(e,t,"formEncType",i.formEncType,i,null),Xu(e,t,"formMethod",i.formMethod,i,null),Xu(e,t,"formTarget",i.formTarget,i,null)):(Xu(e,t,"encType",i.encType,i,null),Xu(e,t,"method",i.method,i,null),Xu(e,t,"target",i.target,i,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Et(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Yu);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Et(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=It.get(n)||n,r)}}function Qu(e,t,n,r,i,o){switch(n){case"style":At(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"==typeof r?St(e,r):("number"==typeof r||"bigint"==typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:He.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(o=null!=(o=e[Oe]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!=typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Xu(e,t,r,a,n,null)}}return o&&Xu(e,t,"srcSet",n.srcSet,n,null),void(i&&Xu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=r=a=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Xu(e,t,i,d,n,null)}}return gt(e,r,l,c,u,a,o,!1),void dt(e);case"select":for(o in Fu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Xu(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(a in Fu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Xu(e,t,a,l,n,null)}return _t(e,i,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i;else Xu(e,t,c,i,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(i=0;i<Nu.length;i++)Fu(Nu[i],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Xu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Qu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Xu(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ad=null;var ld="function"==typeof setTimeout?setTimeout:void 0,cd="function"==typeof clearTimeout?clearTimeout:void 0,ud="function"==typeof Promise?Promise:void 0,dd="function"==typeof queueMicrotask?queueMicrotask:void 0!==ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout((function(){throw e}))}function pd(e){return"head"===e}function fd(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&_d(s.documentElement),2&n&&_d(s.body),4&n)for(_d(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[Ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===i)return e.removeChild(o),void Ih(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Ih(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function gd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function _d(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var Sd=new Map,xd=new Set;function Md(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ad=L.d;L.d={f:function(){var e=Ad.f(),t=zc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Os(t):Ad.r(e)},D:function(e){Ad.D(e),Id("dns-prefetch",e,null)},C:function(e,t){Ad.C(e,t),Id("preconnect",e,t)},L:function(e,t,n){Ad.L(e,t,n);var r=Td;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var o=i;switch(t){case"style":o=Ed(e);break;case"script":o=Rd(e)}Sd.has(o)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(kd(o))||"script"===t&&r.querySelector(Od(o))||(ed(t=r.createElement("link"),"link",e),Ge(t),r.head.appendChild(t)))}},m:function(e,t){Ad.m(e,t);var n=Td;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Rd(e)}if(!Sd.has(o)&&(e=h({rel:"modulepreload",href:e},t),Sd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Od(o)))return}ed(r=n.createElement("link"),"link",e),Ge(r),n.head.appendChild(r)}}},X:function(e,t){Ad.X(e,t);var n=Td;if(n&&e){var r=$e(n).hoistableScripts,i=Rd(e),o=r.get(i);o||((o=n.querySelector(Od(i)))||(e=h({src:e,async:!0},t),(t=Sd.get(i))&&Fd(e,t),Ge(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Ad.S(e,t,n);var r=Td;if(r&&e){var i=$e(r).hoistableStyles,o=Ed(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(kd(o)))a.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(o))&&Dd(e,n);var l=s=r.createElement("link");Ge(l),ed(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Ld(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){Ad.M(e,t);var n=Td;if(n&&e){var r=$e(n).hoistableScripts,i=Rd(e),o=r.get(i);o||((o=n.querySelector(Od(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=Sd.get(i))&&Fd(e,t),Ge(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Td="undefined"==typeof document?null:document;function Id(e,t,n){var r=Td;if(r&&"string"==typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),xd.has(i)||(xd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),Ge(t),r.head.appendChild(t)))}}function Cd(e,t,n,r){var i,o,a,l,c=(c=$.current)?Md(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Ed(n.href),(r=(n=$e(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Ed(n.href);var u=$e(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(kd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),u||(i=c,o=e,a=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",(function(){return l.loading|=1})),o.addEventListener("error",(function(){return l.loading|=2})),ed(o,"link",a),Ge(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Rd(n),(r=(n=$e(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ed(e){return'href="'+mt(e)+'"'}function kd(e){return'link[rel="stylesheet"]['+e+"]"}function Pd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Rd(e){return'[src="'+mt(e)+'"]'}function Od(e){return"script[async]"+e}function Nd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Ge(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ge(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Ld(r,n.precedence,e),t.instance=r;case"stylesheet":i=Ed(n.href);var o=e.querySelector(kd(i));if(o)return t.state.loading|=4,t.instance=o,Ge(o),o;r=Pd(n),(i=Sd.get(i))&&Dd(r,i),Ge(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),ed(o,"link",r),t.state.loading|=4,Ld(o,n.precedence,e),t.instance=o;case"script":return o=Rd(n.src),(i=e.querySelector(Od(o)))?(t.instance=i,Ge(i),i):(r=n,(i=Sd.get(o))&&Fd(r=h({},n),i),Ge(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ld(r,n.precedence,e));return t.instance}function Ld(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Dd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var jd=null;function Zd(e,t,n){if(null===jd){var r=new Map,i=jd=new Map;i.set(n,r)}else(r=(i=jd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Ze]||o[Re]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Vd=null;function Bd(){}function $d(){if(this.count--,0===this.count)if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Gd=null;function qd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Gd=new Map,t.forEach(Hd,e),Gd=null,$d.call(e))}function Hd(e,t){if(!(4&t.state.loading)){var n=Gd.get(e);if(n)var r=n.get(null);else{n=new Map,Gd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=$d.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Wd={$$typeof:_,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function Jd(e,t,n,r,i,o,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Me(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Me(0),this.hiddenUpdates=Me(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Kd(e,t,n,r,i,o,s,a,l,c,u,d){return e=new Jd(e,t,n,s,a,l,c,d),t=1,!0===o&&(t|=24),o=Dr(3,null,null,t),e.current=o,o.stateNode=e,(t=Oi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Yd(e){return e?e=Nr:Nr}function Xd(e,t,n,r,i,o){i=Yd(i),null===r.context?r.context=i:r.pendingContext=i,(r=io(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Dc(n,0,t),so(n,e,t))}function Qd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Qd(e,t),(e=e.alternate)&&Qd(e,t)}function th(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Dc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var i=N.T;N.T=null;var o=L.p;try{L.p=2,oh(e,t,n,r)}finally{L.p=o,N.T=i}}function ih(e,t,n,r){var i=N.T;N.T=null;var o=L.p;try{L.p=8,oh(e,t,n,r)}finally{L.p=o,N.T=i}}function oh(e,t,n,r){if(nh){var i=sh(r);if(null===i)Vu(e,t,r,ah,n),vh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,i),!0;case"dragenter":return hh=bh(hh,e,t,n,r,i),!0;case"mouseover":return ph=bh(ph,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return fh.set(o,bh(fh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,mh.set(o,bh(mh.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<gh.indexOf(e)){for(;null!==i;){var o=Ve(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=ve(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-pe(s);a.entanglements[1]|=l,s&=~l}Su(o),!(6&nc)&&(Sc=te()+500,xu(0,!1))}}break;case 13:null!==(a=Pr(o,2))&&Dc(a,0,2),zc(),eh(o,2)}if(null===(o=sh(r))&&Vu(e,t,r,ah,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Vu(e,t,r,null,n)}}function sh(e){return lh(e=Pt(e))}var ah=null;function lh(e){if(ah=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ah=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case oe:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,ph=null,fh=new Map,mh=new Map,yh=[],gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ve(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wh(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,(function(){if(13===n.tag){var e=Nc();e=Ce(e);var t=Pr(n,e);null!==t&&Dc(t,0,e),eh(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function _h(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);kt=r,n.target.dispatchEvent(r),kt=null,t.shift()}return!0}function Sh(e,t,n){_h(e)&&n.delete(t)}function xh(){uh=!1,null!==dh&&_h(dh)&&(dh=null),null!==hh&&_h(hh)&&(hh=null),null!==ph&&_h(ph)&&(ph=null),fh.forEach(Sh),mh.forEach(Sh)}function Mh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xh)))}var Ah=null;function Th(e){Ah!==e&&(Ah=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Ah===e&&(Ah=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r){if(null===lh(r||n))continue;break}var o=Ve(n);null!==o&&(e.splice(t,3),t-=3,Ps(o,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function Ih(e){function t(t){return Mh(t,e)}null!==dh&&Mh(dh,e),null!==hh&&Mh(hh,e),null!==ph&&Mh(ph,e),fh.forEach(t),mh.forEach(t);for(var n=0;n<yh.length;n++){var r=yh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yh.length&&null===(n=yh[0]).blockedOn;)wh(n),null===n.blockedOn&&yh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[Oe]||null;if("function"==typeof o)s||Th(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[Oe]||null)a=s.formAction;else if(null!==lh(i))continue}else a=s.action;"function"==typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Th(n)}}}function Ch(e){this._internalRoot=e}function Eh(e){this._internalRoot=e}Eh.prototype.render=Ch.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Xd(t.current,Nc(),e,t,null,null)},Eh.prototype.unmount=Ch.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),zc(),t[Ne]=null}},Eh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ke();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yh.length&&0!==t&&t<yh[n].priority;n++);yh.splice(n,0,e),0===n&&wh(e)}};var kh=i.version;if("19.1.1"!==kh)throw Error(s(527,kh,"19.1.1"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u(i),e;if(o===r)return u(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ph={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{ue=Rh.inject(Ph),de=Rh}catch(e){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=va,o=ba,l=wa;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Kd(e,1,!1,null,0,n,r,i,o,l,0,null),e[Ne]=t.current,Uu(e),new Ch(t)}},31275:function(e,t,n){"use strict";n.d(t,{_:function(){return d}});var r=n(82392),i=n(73783),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(65648),l=n(34008),c=n(2532),u=n(13795);let d=class extends i.A{constructor(e){super(e)}get bounds(){const e=this.coords;return null==e?.extent?null:(0,c.VY)(e.extent)}get coords(){const e=this.element.georeference?.coords;return(0,l.projectOrLoad)(e,this.spatialReference).geometry}get normalizedCoords(){return a.A.fromJSON((0,u.jZ)(this.coords))}get normalizedBounds(){const e=null!=this.normalizedCoords?this.normalizedCoords.extent:null;return null!=e?(0,c.VY)(e):null}};(0,r._)([(0,o.MZ)()],d.prototype,"spatialReference",void 0),(0,r._)([(0,o.MZ)()],d.prototype,"element",void 0),(0,r._)([(0,o.MZ)()],d.prototype,"bounds",null),(0,r._)([(0,o.MZ)()],d.prototype,"coords",null),(0,r._)([(0,o.MZ)()],d.prototype,"normalizedCoords",null),(0,r._)([(0,o.MZ)()],d.prototype,"normalizedBounds",null),d=(0,r._)([(0,s.$)("esri.layers.support.MediaElementView")],d)},31405:function(e,t,n){"use strict";n.d(t,{_:function(){return s},t:function(){return a}});var r=n(80861);const i=()=>r.A.getLogger("esri.rest.support.generateRendererUtils");function o(e,t){return Number(e.toFixed(t))}function s(e){const t=u(e),n=[],r=t.uniqueValues.length;for(let e=0;e<r;e++){const r=t.uniqueValues[e],i=t.valueFrequency[e],o=r.toString();n.push({value:r,count:i,label:o})}return{uniqueValues:n}}function a(e,t){const{normalizationTotal:n}=e;return{classBreaks:l(e,t),normalizationTotal:n}}function l(e,t){const n=e.definition,{classificationMethod:r,normalizationType:i,definedInterval:s}=n,a=n.breakCount??1,l=[];let h=e.values;if(0===h.length)return[];h=h.sort(((e,t)=>e-t));const[p,f]=t??[h.at(0),h.at(-1)];if("equal-interval"===r)if(h.length>=a){const e=(f-p)/a;let t=p;for(let n=1;n<a;n++){const r=o(p+n*e,6);l.push({minValue:t,maxValue:r,label:c(t,r,i)}),t=r}l.push({minValue:t,maxValue:f,label:c(t,f,i)})}else h.forEach((e=>{l.push({minValue:e,maxValue:e,label:c(e,e,i)})}));else if("natural-breaks"===r){const t=u(h),n=e.valueFrequency||t.valueFrequency,r=d(t.uniqueValues,n,a);let s=p;for(let e=1;e<a;e++)if(t.uniqueValues.length>e){const n=o(t.uniqueValues[r[e]],6);l.push({minValue:s,maxValue:n,label:c(s,n,i)}),s=n}l.push({minValue:s,maxValue:f,label:c(s,f,i)})}else if("quantile"===r)if(h.length>=a&&p!==f){let e=p,t=Math.ceil(h.length/a),n=0;for(let r=1;r<a;r++){let o=t+n-1;o>h.length&&(o=h.length-1),o<0&&(o=0),l.push({minValue:e,maxValue:h[o],label:c(e,h[o],i)}),e=h[o],n+=t,t=Math.ceil((h.length-n)/(a-r))}l.push({minValue:e,maxValue:f,label:c(e,f,i)})}else{let e=-1;for(let t=0;t<h.length;t++){const n=h[t];n!==e&&(e=n,l.push({minValue:e,maxValue:n,label:c(e,n,i)}),e=n)}}else if("standard-deviation"===r){const e=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t/=e.length,t}(h),t=function(e,t){let n=0;for(let r=0;r<e.length;r++){const i=e[r];n+=(i-t)*(i-t)}return n/=e.length,Math.sqrt(n)}(h,e);if(0===t)l.push({minValue:h[0],maxValue:h[0],label:c(h[0],h[0],i)});else{const n=function(e,t,n,r,i){let o=Math.max(r-e,t-r)/i/n;return o=o>=1?1:o>=.5?.5:.25,o}(p,f,a,e,t)*t;let r=0,s=p;for(let t=a;t>=1;t--){const a=o(e-(t-.5)*n,6);l.push({minValue:s,maxValue:a,label:c(s,a,i)}),s=a,r++}let u=o(e+.5*n,6);l.push({minValue:s,maxValue:u,label:c(s,u,i)}),s=u,r++;for(let t=1;t<=a;t++)u=r===2*a?f:o(e+(t+.5)*n,6),l.push({minValue:s,maxValue:u,label:c(s,u,i)}),s=u,r++}}else if("defined-interval"===r){if(!s)return l;const[e,n]=t??[h.at(0),h.at(-1)],r=Math.ceil((n-e)/s);let a=e;for(let t=1;t<r;t++){const n=o(e+t*s,6);l.push({minValue:a,maxValue:n,label:c(a,n,i)}),a=n}l.push({minValue:a,maxValue:n,label:c(a,n,i)})}return l}function c(e,t,n){let r=null;return r=e===t?n&&"percent-of-total"===n?e+"%":e.toString():n&&"percent-of-total"===n?e+"% - "+t+"%":e+" - "+t,r}function u(e){const t=[],n=[];let r=Number.MIN_VALUE,i=1,o=-1;for(let s=0;s<e.length;s++){const a=e[s];a===r?(i++,n[o]=i):null!==a&&(t.push(a),r=a,i=1,n.push(i),o++)}return{uniqueValues:t,valueFrequency:n}}function d(e,t,n){const r=e.length,i=[];n>r&&(n=r);for(let e=0;e<n;e++)i.push(Math.round(e*r/n-1));i.push(r-1);let o=h(i,e,t,n);return function(e,t,n,r,i,o){let s=0,a=0,l=0,c=0,u=!0;for(let d=0;d<2&&u;d++){0===d&&(u=!1);for(let d=0;d<o-1;d++)for(;n[d+1]+1!==n[d+2];){n[d+1]=n[d+1]+1;const o=p(d,n,r,i);l=o.sbMean,s=o.sbSdcm;const h=p(d+1,n,r,i);if(c=h.sbMean,a=h.sbSdcm,!(s+a<t[d]+t[d+1])){n[d+1]=n[d+1]-1;break}t[d]=s,t[d+1]=a,e[d]=l,e[d+1]=c,u=!0}for(let d=o-1;d>0;d--)for(;n[d]!==n[d-1]+1;){n[d]=n[d]-1;const o=p(d-1,n,r,i);l=o.sbMean,s=o.sbSdcm;const h=p(d,n,r,i);if(c=h.sbMean,a=h.sbSdcm,!(s+a<t[d-1]+t[d])){n[d]=n[d]+1;break}t[d-1]=s,t[d]=a,e[d-1]=l,e[d]=c,u=!0}}return u}(o.mean,o.sdcm,i,e,t,n)&&(o=h(i,e,t,n)),i}function h(e,t,n,r){let i=[],o=[],s=[],a=0;const l=[],c=[];for(let i=0;i<r;i++){const r=p(i,e,t,n);l.push(r.sbMean),c.push(r.sbSdcm),a+=c[i]}let u,d=a,h=!0;for(;h||a<d;){h=!1,i=[];for(let t=0;t<r;t++)i.push(e[t]);for(let n=0;n<r;n++)for(let i=e[n]+1;i<=e[n+1];i++)if(u=t[i],n>0&&i!==e[n+1]&&Math.abs(u-l[n])>Math.abs(u-l[n-1]))e[n]=i;else if(n<r-1&&e[n]!==i-1&&Math.abs(u-l[n])>Math.abs(u-l[n+1])){e[n+1]=i-1;break}d=a,a=0,o=[],s=[];for(let i=0;i<r;i++){o.push(l[i]),s.push(c[i]);const r=p(i,e,t,n);l[i]=r.sbMean,c[i]=r.sbSdcm,a+=c[i]}}if(a>d){for(let t=0;t<r;t++)e[t]=i[t],l[t]=o[t],c[t]=s[t];a=d}return{mean:l,sdcm:c}}function p(e,t,n,r){let o=0,s=0;for(let i=t[e]+1;i<=t[e+1];i++){const e=r[i];o+=n[i]*e,s+=e}s<=0&&i().warn("Exception in Natural Breaks calculation");const a=o/s;let l=0;for(let i=t[e]+1;i<=t[e+1];i++)l+=r[i]*(n[i]-a)**2;return{sbMean:a,sbSdcm:l}}},31656:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(82392),i=n(1817),o=n(81482),s=(n(6273),n(80861),n(67498),n(85716)),a=n(26325),l=n(19228);var c;const u=(0,i.O)()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let d=c=class extends l.A{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new c(e)}};(0,r._)([(0,o.MZ)({type:["style"],json:{write:{isRequired:!0}}})],d.prototype,"type",void 0),(0,r._)([(0,s.e)(u),(0,o.MZ)({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"],json:{write:{isRequired:!0}}})],d.prototype,"style",void 0),d=c=(0,r._)([(0,a.$)("esri.symbols.patterns.LineStylePattern3D")],d)},31859:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(91010),l=n(1415);let c=r=class extends a.A{constructor(e){super(e),this.type="bar-chart"}clone(){return new r({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,i._)([(0,o.MZ)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:l.U.write,isRequired:!0}}})],c.prototype,"type",void 0),c=r=(0,i._)([(0,s.$)("esri.popup.content.BarChartMediaInfo")],c);const u=c},31864:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});var r,i=n(82392),o=n(93814),s=n(15565),a=n(23572),l=n(81482),c=n(77380),u=n(85716),d=n(26325),h=n(48524),p=n(70842),f=n(999),m=n(70227);let y=r=class extends f.A{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new p.A,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,n){if(e&&"string"!=typeof e)return e;const r={};return e&&(r.text=e),t&&(r.font=t),n&&(r.color=n),r}writeLineWidth(e,t,n,r){r&&"string"!=typeof r?r.origin:t[n]=e}castLineWidth(e){return(0,a.cr)(e)}writeLineHeight(e,t,n,r){r&&"string"!=typeof r?r.origin:t[n]=e}clone(){return new r({angle:this.angle,backgroundColor:(0,s.o8)(this.backgroundColor),borderLineColor:(0,s.o8)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,s.o8)(this.color),font:this.font&&this.font.clone(),haloColor:(0,s.o8)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};(0,i._)([(0,l.MZ)({type:o.A,json:{write:!0}})],y.prototype,"backgroundColor",void 0),(0,i._)([(0,l.MZ)({type:o.A,json:{write:!0}})],y.prototype,"borderLineColor",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0},cast:a.cr})],y.prototype,"borderLineSize",void 0),(0,i._)([(0,l.MZ)({type:p.A,json:{write:!0}})],y.prototype,"font",void 0),(0,i._)([(0,l.MZ)({...m.rM,json:{write:!0}})],y.prototype,"horizontalAlignment",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],y.prototype,"kerning",void 0),(0,i._)([(0,l.MZ)({type:o.A,json:{write:!0}})],y.prototype,"haloColor",void 0),(0,i._)([(0,l.MZ)({type:Number,cast:a.cr,json:{write:!0}})],y.prototype,"haloSize",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],y.prototype,"rightToLeft",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],y.prototype,"rotated",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],y.prototype,"text",void 0),(0,i._)([(0,u.e)({esriTS:"text"},{readOnly:!0})],y.prototype,"type",void 0),(0,i._)([(0,l.MZ)({...m.x0,json:{write:!0}})],y.prototype,"verticalAlignment",void 0),(0,i._)([(0,l.MZ)({type:Number,cast:a.cr,json:{write:!0}})],y.prototype,"xoffset",void 0),(0,i._)([(0,l.MZ)({type:Number,cast:a.cr,json:{write:!0}})],y.prototype,"yoffset",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],y.prototype,"angle",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],y.prototype,"width",void 0),(0,i._)([(0,l.MZ)({type:Number})],y.prototype,"lineWidth",void 0),(0,i._)([(0,h.K)("lineWidth")],y.prototype,"writeLineWidth",null),(0,i._)([(0,c.w)("lineWidth")],y.prototype,"castLineWidth",null),(0,i._)([(0,l.MZ)(m.Tb)],y.prototype,"lineHeight",void 0),(0,i._)([(0,h.K)("lineHeight")],y.prototype,"writeLineHeight",null),y=r=(0,i._)([(0,d.$)("esri.symbols.TextSymbol")],y)},31873:function(e,t,n){"use strict";n.d(t,{A:function(){return _}});var r,i=n(82392),o=n(15565),s=n(81482),a=(n(6273),n(80861),n(85716)),l=n(26325),c=n(48524),u=n(70842),d=n(81327),h=n(30361),p=n(93814),f=n(84977);let m=r=class extends f.A{constructor(){super(...arguments),this.color=new p.A([0,0,0,1]),this.size=0}clone(){const e={color:(0,o.o8)(this.color),size:this.size};return new r(e)}};(0,i._)([(0,s.MZ)((0,h.EW)())],m.prototype,"color",void 0),(0,i._)([(0,s.MZ)(h.pI)],m.prototype,"size",void 0),m=r=(0,i._)([(0,l.$)("esri.symbols.support.Symbol3DHalo")],m);var y=n(4068),g=n(14755);n(67498);let v=class extends(g.A.ClonableMixin(f.A)){constructor(e){super(e),this.color=null}};(0,i._)([(0,s.MZ)((0,h.EW)())],v.prototype,"color",void 0),v=(0,i._)([(0,l.$)("esri.symbols.support.Symbol3DTextBackground")],v);var b,w=n(70227);let _=class extends d.A{static{b=this}constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){null!=e&&null!=this._userSize&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,n,r){const i={...r,textSymbol3D:!0};t.font=e.write({},i),delete t.font.size}get size(){return null!=this._userSize?this._userSize:null!=this.font?.size?this.font.size:9}set size(e){this._userSize=e,null!=this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new b({enabled:this.enabled,font:this.font&&(0,o.o8)(this.font),halo:this.halo&&(0,o.o8)(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:(0,o.o8)(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new b({font:null!=e.font?e.font.clone():new u.A,halo:S(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new y.N({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new v({color:e.backgroundColor.clone()}):null})}};function S(e,t){return e&&null!=t&&t>0?new m({color:(0,o.o8)(e),size:t}):null}(0,i._)([(0,s.MZ)({type:u.A,json:{write:!0}})],_.prototype,"font",null),(0,i._)([(0,c.K)("font")],_.prototype,"writeFont",null),(0,i._)([(0,s.MZ)({type:m,json:{write:!0}})],_.prototype,"halo",void 0),(0,i._)([(0,s.MZ)({...w.rM,json:{default:"center",write:!0}})],_.prototype,"horizontalAlignment",void 0),(0,i._)([(0,s.MZ)({...w.Tb,json:{default:1,write:!0}})],_.prototype,"lineHeight",void 0),(0,i._)([(0,s.MZ)({type:y.N,json:{write:!0}})],_.prototype,"material",void 0),(0,i._)([(0,s.MZ)({type:v,json:{write:!0}})],_.prototype,"background",void 0),(0,i._)([(0,s.MZ)(h.pI)],_.prototype,"size",null),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],_.prototype,"text",void 0),(0,i._)([(0,a.e)({Text:"text"},{readOnly:!0})],_.prototype,"type",void 0),(0,i._)([(0,s.MZ)({...w.x0,json:{default:"baseline",write:!0}})],_.prototype,"verticalAlignment",void 0),_=b=(0,i._)([(0,l.$)("esri.symbols.TextSymbol3DLayer")],_)},32083:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});n(6273);var r=n(21750);const i={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&((0,r.$N)(i,globalThis.esriConfig,!0),delete i.has),!i.assetsPath){{const e="4.33";i.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}i.defaultAssetsPath=i.assetsPath}},32239:function(e,t,n){"use strict";n.r(t),n.d(t,{Icon:function(){return g}});var r=n(34088),i=n(46337),o=n(62245),s=n(79e3),a=n(4643),l=n(6518),c=n(33826);const u="flip-rtl",d={},h={},p={s:16,m:24,l:32};function f({icon:e,scale:t}){const n=p[t],r=function(e){const t=!isNaN(Number(e.charAt(0))),n=e.split("-");if(n.length>0){const t=/[a-z]/i;e=n.map(((e,n)=>e.replace(t,(function(e,t){return 0===n&&0===t?e:e.toUpperCase()})))).join("")}return t?`i${e}`:e}(e),i="F"===r.charAt(r.length-1);return`${i?r.substring(0,r.length-1):r}${n}${i?"F":""}`}function m(e){return d[e]}const y=c.AH`:host{display:inline-flex;color:var(--calcite-icon-color, var(--calcite-ui-icon-color, currentColor))}:host([scale=s]){inline-size:16px;block-size:16px;min-inline-size:16px;min-block-size:16px}:host([scale=m]){inline-size:24px;block-size:24px;min-inline-size:24px;min-block-size:24px}:host([scale=l]){inline-size:32px;block-size:32px;min-inline-size:32px;min-block-size:32px}.flip-rtl{transform:scaleX(-1)}.svg{display:block}:host([hidden]){display:none}[hidden]{display:none}`;class g extends o.WF{constructor(){super(...arguments),this.visible=!1,this.flipRtl=!1,this.icon=null,this.preload=!1,this.scale="m"}static{this.properties={pathData:[16,{},{state:!0}],visible:[16,{},{state:!0}],flipRtl:[7,{},{reflect:!0,type:Boolean}],icon:[3,{},{reflect:!0}],preload:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],textLabel:1}}static{this.styles=y}connectedCallback(){if(super.connectedCallback(),this.preload)return this.visible=!0,void this.loadIconPathData();this.visible||this.waitUntilVisible((()=>{this.visible=!0,this.loadIconPathData()}))}willUpdate(e){(e.has("icon")&&(this.hasUpdated||null!==this.icon)||e.has("scale")&&(this.hasUpdated||"m"!==this.scale))&&this.loadIconPathData()}disconnectedCallback(){super.disconnectedCallback(),this.intersectionObserver?.disconnect(),this.intersectionObserver=null}async loadIconPathData(){const{icon:e,scale:t,visible:n}=this;if(i.S$||!e||!n)return;const o={icon:e,scale:t},s=m(f(o))||await async function(e){const t=f(e),n=m(t);if(n)return n;h[t]||(h[t]=fetch((0,r.g)(`./assets/icon/${t}.json`)).then((e=>e.json())).catch((()=>(l.l.error(`${e.icon} (${e.scale}) icon failed to load`),""))));const i=await h[t];return d[t]=i,i}(o);e===this.icon&&(this.pathData=s)}waitUntilVisible(e){this.intersectionObserver=(0,a.c)("intersection",(t=>{t.forEach((t=>{t.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,e())}))}),{rootMargin:"50px"}),this.intersectionObserver?this.intersectionObserver.observe(this.el):e()}render(){const{el:e,flipRtl:t,pathData:n,scale:r,textLabel:a}=this,l=(0,s.g)(e),c=p[r],d=!!a,h=[].concat(n||"");return this.el.ariaHidden=(0,s.t)(!d),this.el.ariaLabel=d?a:null,this.el.role=d?"img":null,i.qy`<svg aria-hidden=true class=${(0,o.CP)({[u]:"rtl"===l&&t,svg:!0})} fill=currentColor height=100% viewBox=${`0 0 ${c} ${c}`} width=100% xmlns=http://www.w3.org/2000/svg>${h.map((e=>"string"==typeof e?i.JW`<path d=${e??i.s6} />`:i.JW`<path d=${e.d??i.s6} opacity=${("opacity"in e?e.opacity:1)??i.s6} />`))}</svg>`}}(0,r.c)("calcite-icon",g)},32485:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var s=i.apply(null,n);s&&e.push(s)}else if("object"===o)for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},32549:function(e,t,n){"use strict";n.r(t),n.d(t,{completeUserSettings:function(){return l},createEmptyImageData:function(){return i.xR},encode:function(){return u},encodeData:function(){return d},getFormatAndQuality:function(){return y},getMaximumResolutionScale:function(){return g},resampleHermite:function(){return v},screenshotSuperSampleSettings:function(){return b},toDataUrl:function(){return m},toRenderSettings:function(){return c}});n(6273);var r=n(4506),i=n(73027);const o=2048,s=1.5,a=8;function l(e,t){const{format:n,quality:i,rotation:o,disableDecorations:s}=e||{},a=w(e,t.padding),l=function(e,t){const n={x:0,y:0,width:t.width,height:t.height};if(e?.area){null!=e.area.x&&(n.x=Math.floor(e.area.x)),null!=e.area.y&&(n.y=Math.floor(e.area.y));const r=null!=e.area.width?Math.floor(e.area.width):null,i=null!=e.area.height?Math.floor(e.area.height):null;if(n.width=t.width-n.x,n.height=t.height-n.y,null!=r&&null!=i)n.width=Math.min(n.width,r),n.height=Math.min(n.height,i);else if(null==r&&null!=i){const e=Math.min(n.width,r);n.height=e/n.width*n.height,n.width=e}else if(null!=r&&null==i){const e=Math.min(n.height,i);n.width=e/n.height*n.width,n.height=e}}return function(e,t){const n=Math.floor(Math.max(e.x,0)),r=Math.floor(Math.max(e.y,0)),i={x:n,y:r,width:Math.floor(Math.min(e.width,t.width-n)),height:Math.floor(Math.min(e.height,t.height-r))},o=i.width/i.height,s=e.width/e.height;if(s===o)return i;if(s>o){const e=Math.floor(i.width/s),t=i.height-e;return{x:i.x,y:Math.floor(i.y+t/2),width:i.width,height:e}}const a=Math.floor(i.height*s),l=i.width-a;return{x:Math.floor(i.x+l/2),y:i.y,width:a,height:i.height}}(function(e,t){if(null==t?.width||null==t.height)return e;const n=t.width/t.height,r=e.width/e.height;if(r===n)return e;if(r<n){const t=Math.floor(e.height*n);return e.x-=(t-e.width)/2,e.width=t,e}const i=Math.floor(e.width/n);return e.y-=(i-e.height)/2,e.height=i,e}(n,e),t)}(e,{width:t.width-a.left-a.right,height:t.height-a.top-a.bottom}),{width:c,height:u}=function(e,t){if(!e)return t;const n=e.width,r=e.height;if(null!=n&&null!=r)return{width:Math.floor(n),height:Math.floor(r)};if(null==n&&null==r)return t;const i=t.width/t.height;return null==r?{width:Math.floor(n),height:Math.floor(n/i)}:{width:Math.floor(r*i),height:Math.floor(r)}}(e,l),d=_(n),h=M[d];return{format:d,quality:(0,r.qE)(null!=i?i:h,0,100),area:l,width:c,height:u,rotation:o,disableDecorations:!!s,ignoreBackground:!!e?.ignoreBackground,ignorePadding:!!e?.ignorePadding}}function c(e,t){const n=l(e,t),r=n.area,i=n.width/r.width,o=w(n,t.padding),s=o.left+o.right,a=o.top+o.bottom,c=t.width-s,u=t.height-a,d=Math.floor(c*i+s),h=Math.floor(u*i+a),p=e?.layers??[],f=n.ignoreBackground,m=n.ignorePadding;return{framebufferWidth:d,framebufferHeight:h,region:{x:Math.floor(r.x*i)+o.left,y:Math.floor(r.y*i)+o.top,width:n.width,height:n.height},format:n.format,quality:n.quality,rotation:n.rotation,pixelRatio:i,layers:p,disableDecorations:n.disableDecorations,ignoreBackground:f,ignorePadding:m,objectAndLayerIdColor:!1}}function u(e,t,n){const{ctx:r,canvas:i}=h(e,n),o=r.getImageData(0,0,e.width,e.height),s=m(i,t);return p(i),{dataUrl:s,data:o}}function d(e,t){const{ctx:n,canvas:r}=h(e,t),i=n.getImageData(0,0,e.width,e.height);return p(r),i}function h(e,t){const n=(null==f&&(f=document.createElement("canvas")),f);t.premultipliedAlpha&&function(e){const t=e.data,n=t.length;for(let e=0;e<n;e+=4){const n=t[e+3];if(255!==n&&n>0){const r=255/n;t[e]=t[e]*r,t[e+1]=t[e+1]*r,t[e+2]=t[e+2]*r}}}(e),n.width=e.width,n.height=e.height;const r=n.getContext("2d",{willReadFrequently:!0});return r.putImageData(e,0,0),t.flipY&&function(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}(r),{ctx:r,canvas:n}}function p(e){e.width=0,e.height=0}let f=null;function m(e,t){const n=S[t.format],r=t.quality/100;return e.toDataURL(n,r)}function y(e,t){const n=_(e),i=M[n];return{format:n,quality:(0,r.qE)(null!=t?t:i,0,100)}}function g(e,t){return t/Math.max(e[0],e[1])}function v(e,t,n,r=0,i=0,o=e.width-r,s=e.height-i,a=!1){const{data:l}=e,{width:c,height:u,data:d}=t,h=o/c,p=s/u,f=Math.ceil(h/2),m=Math.ceil(p/2),y=e.width;for(let e=0;e<u;e++)for(let t=0;t<c;t++){const o=4*(t+(a?u-e-1:e)*c);let s=0,g=0,v=0,b=0,w=0,_=0;const S=(e+.5)*p;for(let o=Math.floor(e*p);o<(e+1)*p;o++){const e=Math.abs(S-(o+.5))/m,a=(t+.5)*h,c=e*e;for(let e=Math.floor(t*h);e<(t+1)*h;e++){const t=Math.abs(a-(e+.5))/f,u=Math.sqrt(c+t*t);if(u>=1)continue;let d=2*u*u*u-3*u*u+1;const h=4*(r+e+(i+o)*y);_+=d*l[h+3],g+=d,!n&&l[h+3]<255&&(d=d*l[h+3]/255),v+=d*l[h],b+=d*l[h+1],w+=d*l[h+2],s+=d}}d[o]=v/s,d[o+1]=b/s,d[o+2]=w/s,d[o+3]=_/g}return t}function b(e,t,n){if(!t)return e;const{framebufferWidth:r,framebufferHeight:i,pixelRatio:l,region:c}=e,u=w(e,n),d=u.left+u.right,h=u.top+u.bottom,p=r-d,f=i-h,m=Math.min(a,Math.min((o-d)/p,(o-h)/f));return m<s?e:{...e,framebufferWidth:Math.round(p*m)+d,framebufferHeight:Math.round(f*m)+h,pixelRatio:l*m,resample:{region:{x:Math.round((c.x-u.left)*m)+u.left,y:Math.round((c.y-u.top)*m)+u.top,width:Math.round(c.width*m),height:Math.round(c.height*m)},width:r,height:i}}}function w(e,t){return!t||e?.ignorePadding?A:t}function _(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return x}}const S={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},x="png",M={png:100,jpg:98,jpeg:98},A={top:0,right:0,bottom:0,left:0}},32616:function(e,t,n){"use strict";n.d(t,{CR:function(){return c},Eo:function(){return g},FV:function(){return m},Kv:function(){return p},QE:function(){return a},QJ:function(){return u},Qp:function(){return h},mq:function(){return y},re:function(){return f},tl:function(){return d},tr:function(){return l}});var r=n(62991),i=n(80861),o=n(68716);const s=()=>i.A.getLogger("esri/views/webgl/textureUtils");function a(e){const{width:t,height:n,depth:r}=e;(null!=t&&t<0||null!=n&&n<0||null!=r&&r<0)&&s().error("Negative dimension parameters are not allowed!");const{internalFormat:i}=e;if(i&&(c(i)||u(i))){const{linearFilterDepth:t,compareEnabled:n,samplingMode:r,hasMipmap:i}=e;i&&s().error("Depth textures cannot have mipmaps"),t?r!==o.Cj.LINEAR&&r!==o.Cj.NEAREST&&s().error("Depth textures cannot sample mipmaps"):(r!==o.Cj.NEAREST&&s().error("Depth textures without filtering must use NEAREST filtering"),n&&s().error("Depth textures without filtering cannot use compare function"))}}function l(e){return e in o.H0}function c(e){return e in o.SB}function u(e){return e in o.iE}function d(e){return null!=e&&e in o.CQ}function h(e){return null!=e&&"type"in e&&"compressed"===e.type}function p(e){return null!=e&&!h(e)&&!function(e){return null!=e&&"byteLength"in e}(e)}function f(e){return e===o.Ap.TEXTURE_3D||e===o.Ap.TEXTURE_2D_ARRAY}function m(e,t,n,r=1){let i=Math.max(t,n);return e===o.Ap.TEXTURE_3D&&(i=Math.max(i,r)),Math.floor(Math.log2(i))+1}function y(e){if(null!=e.internalFormat)return e.internalFormat;switch(e.dataType){case o.ld.FLOAT:switch(e.pixelFormat){case o.Ab.RGBA:return o.H0.RGBA32F;case o.Ab.RGB:return o.H0.RGB32F;default:throw new r.A("texture:unknown-format","Unable to derive format")}case o.ld.UNSIGNED_BYTE:switch(e.pixelFormat){case o.Ab.RGBA:return o.H0.RGBA8;case o.Ab.RGB:return o.H0.RGB8}}const{pixelFormat:t}=e;return e.internalFormat=t===o.j7.DEPTH_STENCIL?o.iE.DEPTH24_STENCIL8:t===o.j7.DEPTH_COMPONENT?o.SB.DEPTH_COMPONENT24:t,e.internalFormat}function g(e){let t="width"in e?e.width:e.codedWidth,n="height"in e?e.height:e.codedHeight;return e instanceof HTMLVideoElement&&(t=e.videoWidth,n=e.videoHeight),{width:t,height:n,depth:1}}},32809:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r=n(70214),i=(n(6273),n(37623)),o=n(57882),s=n(45878),a=n(87285),l=n(15331);class c{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new o.A,this._ongoingLowPriorityJobsQueue=new o.A}destroy(){this.close()}get closed(){return!this._clients?.length}open(e,t){return new Promise(((n,r)=>{let o=!0;const s=e=>{(0,i.Te)(t.signal),o&&(o=!1,e())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let o=0;o<e.length;++o){const a=e[o];(0,i.$X)(a)?this._clientPromises[o]=a.then((e=>(this._clients[o]=new l.A(e,t,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),s(n),this._clients[o])),(()=>(s(r),null))):(this._clients[o]=new l.A(a,t,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),this._clientPromises[o]=Promise.resolve(this._clients[o]),s(n))}}))}broadcast(e,t,n){const r=new Array(this._clientPromises.length);for(let i=0;i<this._clientPromises.length;++i){const o=this._clientPromises[i];r[i]=o.then((r=>r?.invoke(e,t,n)))}return r}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject((0,i.NK)(`Worker closing, aborting job calling '${e.methodName}'`));for(;e=this._ongoingLowPriorityJobsQueue.pop();)e.resolver.reject((0,i.NK)(`Worker closing, aborting job calling '${e.methodName}'`));for(const e of this._clientPromises)e.then((e=>e?.close()));this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,(0,s.h)(this)}invoke(e,t,n){return this.apply(e,[t],n)}apply(e,t,n){const r=(0,i.Tw)();("low"===n?.priority?this._ongoingLowPriorityJobsQueue:this._ongoingJobsQueue).push({methodName:e,data:t,invokeOptions:n,resolver:r});for(let e=0;e<this._clientPromises.length;e++){const t=this._clients[e];t?t.jobAdded():this._clientPromises[e].then((e=>e?.jobAdded()))}return r.promise}createInvokeProxy(e){return(0,a.L)(this,e)}on(e,t){return Promise.all(this._clientPromises).then((()=>(0,r.vE)(this._clients.map((n=>n.on(e,t))))))}openPorts(){return new Promise((e=>{const t=new Array(this._clientPromises.length);let n=t.length;for(let r=0;r<this._clientPromises.length;++r)this._clientPromises[r].then((i=>{i&&(t[r]=i.openPort()),0==--n&&e(t)}))}))}get test(){}}},32828:function(e,t,n){"use strict";n.d(t,{A:function(){return w}});var r=n(82392),i=n(73783),o=n(80294),s=n(57725),a=n(98592),l=n(81482),c=(n(6273),n(80861),n(67498),n(26325)),u=n(53334),d=n(37623),h=n(57882),p=n(51074),f=n(9987),m=n(39369);class y{constructor(e,t){this.item=e,this.controller=t,this.promise=null}}class g{constructor(e){this._schedule=null,this._task=null,this._deferreds=new p.A,this._controllers=new p.A,this._processingItems=new p.A,this._pausedSignal=(0,m.v)(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new h.A(e.peeker),this.process=e.process;const t=e.scheduler;e.priority&&t&&(this._task=t.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule=(0,s.xt)(this._schedule),this._task=(0,s.xt)(this._task)}get updating(){return!!this._task?.updating||this.running}get length(){return this._processingItems.size+this._queue.length}abort(e){const t=this._controllers.get(e);t&&t.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach((t=>e.push(t))),this._controllers.clear(),e.forEach((e=>e.abort())),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach(((t,n)=>e(n)))}get(e){const t=this._deferreds.get(e);return t?t.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,t){const n=this.get(e);if(n)return n;const r=new AbortController;let i=null;t&&(i=(0,d.u7)(t,(()=>r.abort())));const o=()=>{s.remove(),null!=i&&i.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},s=(0,d.NY)(r.signal,(()=>{const t=this._processingItems.get(e);t&&t.controller.abort(),o(),a.reject((0,d.NK)())})),a=(0,d.Tw)();return this._deferreds.set(e,a),this._controllers.set(e,r),a.promise.then(o,o),this._queue.push(e),this._scheduleNext(),a.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){const e=this._queue.popLast();return e&&(this._deferreds.get(e)?.reject((0,d.NK)()),this._removeItem(e)),e}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const t of e)this._queue.push(t.item),t.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=(0,f._)((()=>{this._schedule=null,this._next()})))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(t))}_processError(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(t))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(null==e)return;let t;const n=new AbortController,r=new y(e,n);this._processingItems.set(e,r);try{t=this.process(e,n.signal)}catch(e){this._processError(r,e)}(0,d.$X)(t)?(r.promise=t,t.then((e=>this._processResult(r,e)),(e=>this._processError(r,e)))):this._processResult(r,t)}get test(){}}const v=[0,0];let b=class extends i.A{constructor(e){super(e),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:e,process:t,scheduler:n,priority:r}=this;this._queue=new g({concurrency:e,scheduler:n,priority:r,process:(e,n)=>{const r=this._keyToItem.get(e);return t(r,{signal:n})},peeker:e=>this._peek(e)})}destroy(){this.clear(),this._queue=(0,s.pR)(this._queue)}get length(){return this._queue?this._queue.length:0}abort(e){const t="string"==typeof e?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(e){return"string"==typeof e?this._keyToItem.has(e):this._keyToItem.has(e.id)}pause(){this._queue.pause()}push(e){const t=e.key.id;if(this._queue.has(t))return this._queue.get(t);const n=this._queue.push(t),r=this.tileInfoView.getTileScale(e.key),i=(0,o.tE)(this._tilesByScale,r,(()=>new Set)),s=()=>{i.delete(e.key),0===i.size&&this._tilesByScale.delete(r),this._keyToItem.delete(t)};return i.add(e.key),this._keyToItem.set(t,e),n.then(s,s),n}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(e){if(!this.state)return e.values().next().value;const t=new Set;for(const n of e)t.add(this._keyToItem.get(n).key);const n=this.state.scale;let r,i=Number.POSITIVE_INFINITY;for(const[e,o]of this._tilesByScale)if((0,a.bw)(o,(e=>t.has(e)))){const t=Math.abs(e-n);t<i&&(r=o,i=t)}return this._getClosestTileKey(r,e).id}_getClosestTileKey(e,t){const n=this.tileInfoView,r=this.state.center;let i,o=Number.POSITIVE_INFINITY;for(const s of e)if(t.has(s.id)){n.getTileCoords(v,s);const e=(0,u.Io)(v,r);e<o&&(o=e,i=s)}return i}};(0,r._)([(0,l.MZ)({constructOnly:!0})],b.prototype,"concurrency",void 0),(0,r._)([(0,l.MZ)({constructOnly:!0})],b.prototype,"priority",void 0),(0,r._)([(0,l.MZ)({constructOnly:!0})],b.prototype,"process",void 0),(0,r._)([(0,l.MZ)({constructOnly:!0})],b.prototype,"scheduler",void 0),(0,r._)([(0,l.MZ)()],b.prototype,"state",void 0),(0,r._)([(0,l.MZ)({constructOnly:!0})],b.prototype,"tileInfoView",void 0),b=(0,r._)([(0,c.$)("esri.views.2d.tiling.TileQueue")],b);const w=b},33262:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r,i=n(82392),o=n(73783),s=n(23377),a=n(81482),l=(n(6273),n(80861),n(67498),n(26325));let c=r=class extends(s.A.IdentifiableMixin(o.A)){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,i._)([(0,a.MZ)()],c.prototype,"active",void 0),(0,i._)([(0,a.MZ)()],c.prototype,"className",void 0),(0,i._)([(0,a.MZ)()],c.prototype,"disabled",void 0),(0,i._)([(0,a.MZ)()],c.prototype,"icon",void 0),(0,i._)([(0,a.MZ)()],c.prototype,"id",void 0),(0,i._)([(0,a.MZ)()],c.prototype,"indicator",void 0),(0,i._)([(0,a.MZ)()],c.prototype,"title",void 0),(0,i._)([(0,a.MZ)()],c.prototype,"type",void 0),(0,i._)([(0,a.MZ)()],c.prototype,"visible",void 0),c=r=(0,i._)([(0,l.$)("esri.support.actions.ActionBase")],c);const u=c},33376:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});const r=Symbol("WebScene")},33432:function(e,t,n){"use strict";n.d(t,{A:function(){return A}});var r,i=n(82392),o=n(1817),s=n(84977),a=n(15565),l=n(81482),c=n(77380),u=n(85716),d=n(26325),h=n(48524),p=n(8636),f=n(1912),m=n(44153),y=n(56053),g=n(54483),v=n(17308),b=n(12352),w=n(36767),_=n(24193),S=n(23271),x=n(72991);const M=new o.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let A=class extends s.A{static{r=this}static from(e){return(0,p.PZ)(r,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return"number"==typeof e||"object"==typeof e?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const n={};for(const t in e){const r=e[t];Array.isArray(r)?n[t]=r.map((e=>e instanceof Date?e.getTime():e)):r instanceof Date?n[t]=r.getTime():n[t]=r}t.parameterValues=n}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new r((0,a.o8)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}static{this.MAX_MAX_RECORD_COUNT_FACTOR=5}};(0,i._)([(0,l.MZ)({json:{write:!0}})],A.prototype,"aggregateIds",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],A.prototype,"cacheHint",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"compactGeometryEnabled",void 0),(0,i._)([(0,l.MZ)({json:{write:!0}})],A.prototype,"datumTransformation",void 0),(0,i._)([(0,c.w)("datumTransformation")],A.prototype,"castDatumTransformation",null),(0,i._)([(0,l.MZ)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"defaultSpatialReferenceEnabled",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],A.prototype,"distance",void 0),(0,i._)([(0,l.MZ)({type:v.L,json:{write:!0}})],A.prototype,"dynamicDataSource",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],A.prototype,"formatOf3DObjects",void 0),(0,i._)([(0,l.MZ)({type:[b.A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&this.fullText.length>0}}}}})],A.prototype,"fullText",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],A.prototype,"gdbVersion",void 0),(0,i._)([(0,l.MZ)({types:g.yR,json:{read:y.rS,write:!0}})],A.prototype,"geometry",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],A.prototype,"geometryPrecision",void 0),(0,i._)([(0,l.MZ)({type:[String],json:{write:!0}})],A.prototype,"groupByFieldsForStatistics",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],A.prototype,"having",void 0),(0,i._)([(0,l.MZ)({type:Date})],A.prototype,"historicMoment",void 0),(0,i._)([(0,h.K)("historicMoment")],A.prototype,"writeHistoricMoment",null),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],A.prototype,"maxAllowableOffset",void 0),(0,i._)([(0,l.MZ)({type:Number,cast:e=>e<1?1:e>A.MAX_MAX_RECORD_COUNT_FACTOR?A.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],A.prototype,"maxRecordCountFactor",void 0),(0,i._)([(0,l.MZ)({type:["xyFootprint"],json:{write:!0}})],A.prototype,"multipatchOption",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],A.prototype,"num",void 0),(0,i._)([(0,l.MZ)({json:{write:!0}})],A.prototype,"objectIds",void 0),(0,i._)([(0,l.MZ)({type:[String],json:{write:!0}})],A.prototype,"orderByFields",void 0),(0,i._)([(0,l.MZ)({type:[String],json:{write:!0}})],A.prototype,"outFields",void 0),(0,i._)([(0,l.MZ)({type:m.A,json:{name:"outSR",write:!0}})],A.prototype,"outSpatialReference",void 0),(0,i._)([(0,l.MZ)({type:[S.A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],A.prototype,"outStatistics",void 0),(0,i._)([(0,l.MZ)({json:{write:!0}})],A.prototype,"parameterValues",void 0),(0,i._)([(0,h.K)("parameterValues")],A.prototype,"writeParameterValues",null),(0,i._)([(0,l.MZ)({type:f.A,json:{write:!0}})],A.prototype,"pixelSize",void 0),(0,i._)([(0,l.MZ)({type:w.A,json:{write:!0}})],A.prototype,"quantizationParameters",void 0),(0,i._)([(0,l.MZ)({type:[Object],json:{write:!0}})],A.prototype,"rangeValues",void 0),(0,i._)([(0,l.MZ)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],A.prototype,"relationParameter",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],A.prototype,"resultType",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"returnCentroid",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"returnDistinctValues",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{default:!0,write:!0}})],A.prototype,"returnExceededLimitFeatures",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],A.prototype,"returnGeometry",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"returnQueryGeometry",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"returnM",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],A.prototype,"returnZ",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],A.prototype,"returnTrueCurves",void 0),(0,i._)([(0,l.MZ)({type:m.A,json:{write:!0}})],A.prototype,"sourceSpatialReference",void 0),(0,i._)([(0,u.e)(_.x,{ignoreUnknown:!1,name:"spatialRel"})],A.prototype,"spatialRelationship",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],A.prototype,"start",void 0),(0,i._)([(0,h.K)("start"),(0,h.K)("num")],A.prototype,"writeStart",null),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],A.prototype,"sqlFormat",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],A.prototype,"text",void 0),(0,i._)([(0,l.MZ)({type:x.T,json:{write:!0}})],A.prototype,"timeExtent",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"timeReferenceUnknownClient",void 0),(0,i._)([(0,u.e)(M,{ignoreUnknown:!1}),(0,l.MZ)({json:{write:{overridePolicy(e){return{enabled:!!e&&null!=this.distance}}}}})],A.prototype,"units",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:{overridePolicy(e){return{enabled:null!=e||null!=this.start&&this.start>0}}}}})],A.prototype,"where",void 0),(0,i._)([(0,h.K)("where")],A.prototype,"writeWhere",null),A=r=(0,i._)([(0,d.$)("esri.rest.support.Query")],A)},33650:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});const r={type:String,json:{read:{source:"token"},write:{target:"token"}}}},33673:function(e,t,n){"use strict";n.d(t,{SZ:function(){return i},e8:function(){return s},hm:function(){return o}});var r=n(1817);const i=(0,r.O)()({RSP_NearestNeighbor:"nearest",RSP_BilinearInterpolation:"bilinear",RSP_CubicConvolution:"cubic",RSP_Majority:"majority"}),o=(0,r.O)()({esriNoDataMatchAny:"any",esriNoDataMatchAll:"all"}),s=(0,r.O)()({U1:"u1",U2:"u2",U4:"u4",U8:"u8",S8:"s8",U16:"u16",S16:"s16",U32:"u32",S32:"s32",F32:"f32",F64:"f64",C64:"c64",C128:"c128",UNKNOWN:"unknown"})},33826:function(e,t,n){"use strict";n.d(t,{AH:function(){return l},Rf:function(){return c},sk:function(){return u}});const r=globalThis,i=r.ShadowRoot&&(void 0===r.ShadyCSS||r.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,o=Symbol(),s=new WeakMap;class a{constructor(e,t,n){if(this._$cssResult$=!0,n!==o)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(i&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=s.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&s.set(t,e))}return e}toString(){return this.cssText}}const l=(e,...t)=>{const n=1===e.length?e[0]:t.reduce(((t,n,r)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[r+1]),e[0]);return new a(n,e,o)},c=(e,t)=>{if(i)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const n of t){const t=document.createElement("style"),i=r.litNonce;void 0!==i&&t.setAttribute("nonce",i),t.textContent=n.cssText,e.appendChild(t)}},u=i?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return(e=>new a("string"==typeof e?e:e+"",void 0,o))(t)})(e):e},34008:function(e,t,n){"use strict";n.r(t),n.d(t,{canProjectWithoutEngine:function(){return q},getTransformation:function(){return Z},getTransformations:function(){return U},initializeProjection:function(){return W},isEqualBaseGCS:function(){return H},isLoaded:function(){return k},isLoadedOrLoad:function(){return P},isLoadedOrLoadFor:function(){return R},load:function(){return N},project:function(){return L},projectExtent:function(){return ie},projectMany:function(){return D},projectMultipoint:function(){return X},projectOrLoad:function(){return F},projectOrLoadMany:function(){return j},projectPoint:function(){return K},projectPolygon:function(){return ne},projectPolyline:function(){return ee},projectWithZConversion:function(){return G},projectWithoutEngine:function(){return J},requiresLoad:function(){return O},test:function(){return B},tryProjectWithZConversion:function(){return $},unload:function(){return V}});var r=n(62991),i=n(37623),o=n(99595),s=n(29745),a=n(19913),l=n(5829),c=n(34670),u=n(8e3),d=n(67709),h=n(89349),p=n(1912),f=n(65648),m=n(38648),y=n(44153),g=n(88133),v=n(99269),b=n(19262);let w=0;class _{static fromGE(e){const t=new _;return t._wkt=e.wkt,t._wkid=e.wkid,t._isInverse=e.isInverse,t}constructor(e){this.uid=w++,e?(this._wkt=null!=e.wkt?e.wkt:null,this._wkid=null!=e.wkid?e.wkid:-1,this._isInverse=null!=e.isInverse&&!0===e.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=w++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=w++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=w++}getInverse(){const e=new _;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}}class S{static cacheKey(e,t){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??""].join()}static fromGE(e){const t=new S;let n="";for(const r of e.steps){const e=_.fromGE(r);t.steps.push(e),n+=e.uid.toString()+","}return t._cachedProjection={},t._gtlistentry=null,t._chain=n,t}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,e?.steps)for(const t of e.steps)t instanceof _?this.steps.push(t):this.steps.push(new _({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}getInverse(){const e=new S;e.steps=[];for(let t=this.steps.length-1;t>=0;t--){const n=this.steps[t];e.steps.push(n.getInverse())}return e}getGTListEntry(){let e="";for(const t of this.steps)e+=t.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(e,t,n){this._cachedProjection[S.cacheKey(e,t)]=n}getCachedGeTransformation(e,t){let n="";for(const e of this.steps)n+=e.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n);const r=this._cachedProjection[S.cacheKey(e,t)];return void 0===r?null:r}}var x=n(67488),M=n(55792);let A=null,T=null,I=null,C={};const E=new s.I;function k(){return!!A&&(0,h.i)()}function P(){return!!k()||((0,o.gc)(E),N(),!1)}function R(e,t){return!e||!t||q(e,t)||P()}function O(e,t){return!q(e,t)&&!k()}function N(e){return null==I&&(I=Promise.all([(0,h.l)(),n.e(7313).then(n.bind(n,47313)).then((e=>e.g)),n.e(2942).then(n.bind(n,92942))])),I.then((([,t,{hydratedAdapter:n}])=>{(0,i.Te)(e),T=n,A=t.default,A._enableProjection(h.p),E.notify()}))}function L(e,t,n=null,r=null){return Array.isArray(e)?0===e.length?[]:((0,l.H)(e),D(T,e,e[0].spatialReference,t,n,r)):((0,l.f)(e),D(T,[e],e.spatialReference,t,n,r)[0])}function D(e,t,n,r,i=null,o=null){if(null==n||null==r)return t;if(q(n,r,i))return t.map((e=>J(e,n,r)));if(null==i&&(0,c.jA)(n))return t.map((e=>J(e,n,y.A.WGS84))).map((e=>$(e,r)));if(null==i&&(0,c.jA)(r))return t.map((e=>$(e,y.A.WGS84))).map((e=>J(e,y.A.WGS84,r)));if(null==i){const e=S.cacheKey(n,r);void 0!==C[e]?i=C[e]:(null==(i=Z(n,r,void 0))&&(i=new S),C[e]=i)}if(null==A||null==e)throw new z;return null!=o?A._project(e,t,n,r,i,o):A._project(e,t,n,r,i)}function F(e,t){const n=j([e],t);return null!=n.pending?{pending:n.pending,geometry:null}:null!=n.geometries?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function j(e,t){if(!k())for(const n of e)if(null!=n&&!(0,x.aI)(n.spatialReference,t)&&(0,x.fn)(n.spatialReference)&&(0,x.fn)(t)&&!q(n.spatialReference,t))return(0,o.gc)(E),{pending:N(),geometries:null};return{pending:null,geometries:e.map((e=>null==e?null:(0,x.aI)(e.spatialReference,t)?e:(0,x.fn)(e.spatialReference)&&(0,x.fn)(t)?$(e,t):null))}}function Z(e,t,n=null){if(null==e||null==t)return null;if(null==A||null==T)throw new z;const r=A._getTransformation(T,e,t,n,n?.spatialReference);return null!==r?S.fromGE(r):null}function U(e,t,n=null){if(null==A||null==T)throw new z;const r=A._getTransformationBySuitability(T,e,t,n,n?.spatialReference);if(null!==r){const e=[];for(const t of r)e.push(S.fromGE(t));return e}return[]}class z extends r.A{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function V(){A=null,T=null,I=null,C={}}const B={get loadPromise(){return I}};function $(e,t){try{const n=L(e,t);if(null==n)return null;"xmin"in e&&"xmin"in n&&(n.zmin=e.zmin,n.zmax=e.zmax);const r=(0,M.N)(n.type,e.spatialReference,t);return null!=r&&r(n),n}catch(e){if(!(e instanceof z))throw e;return null}}async function G(e,t,n){const r=e.spatialReference;return null!=r&&null!=t&&await W(r,t,null,n),$(e,t)}function q(e,t,n){return!n&&(!!(0,x.aI)(e,t)||(0,x.fn)(e)&&(0,x.fn)(t)&&!!(0,v.jd)(e,t))}function H(e,t){if((0,x.aI)(e,t))return!0;if(!(0,x.fn)(e)||!(0,x.fn)(t))return!1;const n=(0,x.oT)(e)||(0,x.K8)(e)||(0,x.x1)(e),r=(0,x.oT)(t)||(0,x.K8)(t)||(0,x.x1)(t);return n&&r}async function W(e,t,n,r){if(k())return(0,i.NO)(r);if(Array.isArray(e)){for(const{source:t,dest:n,geographicTransformation:i}of e)if(t&&n&&!q(t,n,i))return N(r)}else if(e&&t&&!q(e,t,n))return N(r);return(0,i.NO)(r)}function J(e,t,n){return e?"x"in e?Y(e,t,new p.A,n,0):"xmin"in e?oe(e,t,new u.A,n,0):"rings"in e?re(e,t,new f.A,n,0):"paths"in e?te(e,t,new m.A,n,0):"points"in e?Q(e,t,new d.A,n,0):null:null}function K(e,t,n=t.spatialReference,r=0){return null!=n&&null!=e.spatialReference&&null!=Y(e,e.spatialReference,t,n,r)}function Y(e,t,n,r,i){ae[0]=e.x,ae[1]=e.y;const o=e.z;return ae[2]=void 0!==o?o:i,(0,g.projectBuffer)(ae,t,0,ae,r,0)?(n.x=ae[0],n.y=ae[1],n.spatialReference=r,void 0!==o||(0,c.xP)(r)?(n.z=ae[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),void 0===e.m?(n.m=void 0,n.hasM=!1):(n.m=e.m,n.hasM=!0),n):null}function X(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=Q(e,e.spatialReference,t,n,r)}function Q(e,t,n,r,i){const{points:o,hasZ:s,hasM:a}=e,l=[],u=o.length,d=[];for(const e of o)d.push(e[0],e[1],s?e[2]:i);if(!(0,g.projectBuffer)(d,t,0,d,r,0,u))return null;const h=s||(0,c.xP)(r);for(let e=0;e<u;++e){const t=3*e,n=d[t],r=d[t+1];h&&a?l.push([n,r,d[t+2],o[e][3]]):h?l.push([n,r,d[t+2]]):a?l.push([n,r,o[e][2]]):l.push([n,r])}return n.points=l,n.spatialReference=r,n.hasZ=s,n.hasM=a,n}function ee(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=te(e,e.spatialReference,t,n,r)}function te(e,t,n,r,i){const{paths:o,hasZ:s,hasM:a}=e,l=[];if(!se(o,s??!1,a??!1,t,l,r,i))return null;const u=s||(0,c.xP)(r);return n.paths=l,n.spatialReference=r,n.hasZ=u,n.hasM=a,n}function ne(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=re(e,e.spatialReference,t,n,r)}function re(e,t,n,r,i){const{rings:o,hasZ:s,hasM:a}=e,l=[];if(!se(o,s??!1,a??!1,t,l,r,i))return null;const u=s||(0,c.xP)(r);return n.rings=l,n.spatialReference=r,n.hasZ=u,n.hasM=a,n}function ie(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=oe(e,e.spatialReference,t,n,r)}function oe(e,t,n,r,i){const{xmin:o,ymin:s,xmax:a,ymax:l,hasZ:u,hasM:d}=e,h=u?e.zmin:i;if(!(0,b.L)(o,s,h,t,ae,r))return null;const p=u||(0,c.xP)(r);n.xmin=ae[0],n.ymin=ae[1],p&&(n.zmin=ae[2]);const f=u?e.zmax:i;return(0,b.L)(a,l,f,t,ae,r)?(n.xmax=ae[0],n.ymax=ae[1],p&&(n.zmax=ae[2]),d&&(n.mmin=e.mmin,n.mmax=e.mmax),n.spatialReference=r,n):null}function se(e,t,n,r,i,o,s=0){const a=new Array;for(const n of e)for(const e of n)a.push(e[0],e[1],t?e[2]:s);if(!(0,g.projectBuffer)(a,r,0,a,o,0))return!1;let l=0;i.length=0;const u=t||(0,c.xP)(o);for(const t of e){const e=new Array;for(const r of t)u&&n?e.push([a[l++],a[l++],a[l++],r[3]]):u?e.push([a[l++],a[l++],a[l++]]):n?(e.push([a[l++],a[l++],r[2]]),l++):(e.push([a[l++],a[l++]]),l++);i.push(e)}return!0}const ae=(0,a.vt)()},34088:function(e,t,n){"use strict";n.d(t,{C:function(){return a},D:function(){return l},a:function(){return c},c:function(){return y},f:function(){return h},g:function(){return g},l:function(){return p},s:function(){return v}});var r=n(62245),i=n(46337);const o="calcite-mode-auto",s="calcite-mode-dark",a={autoMode:o,darkMode:s,lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left"},l={filter:250,nextTick:0,resize:150,reposition:100},c=25;function u(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,n=()=>e.contains(s)||e.contains(o)&&t?"dark":"light",r=e=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:e}})),i=e=>{a!==e&&r(e),a=e};let a=n();r(a),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>i(e.matches?"dark":"light"))),new MutationObserver((()=>i(n()))).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const d=globalThis.calciteConfig,h=d?.focusTrapStack||[],p=d?.logLevel||"info",f="3.2.1";i.S$||("interactive"===document.readyState?u():document.addEventListener("DOMContentLoaded",(()=>u()),{once:!0})),function(){if(d&&d.version)return;const e=d||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:f,writable:!1}),globalThis.calciteConfig=e}();const m=(0,r.le)({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.2.1/",hydratedAttribute:"calcite-hydrated"}),{customElement:y,getAssetPath:g,setAssetPath:v}=m},34450:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(85716)),a=n(26325),l=n(81327),c=n(73962),u=n(73783);let d=r=class extends u.A{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new r({x:this.x,y:this.y,z:this.z})}};(0,i._)([(0,o.MZ)({type:Number})],d.prototype,"x",void 0),(0,i._)([(0,o.MZ)({type:Number})],d.prototype,"y",void 0),(0,i._)([(0,o.MZ)({type:Number})],d.prototype,"z",void 0),d=r=(0,i._)([(0,a.$)("esri.symbols.support.Symbol3DAnchorPosition3D")],d);var h,p=n(4068);let f=class extends l.A{static{h=this}constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new h({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,i._)([(0,o.MZ)({type:p.N,json:{write:!0}})],f.prototype,"material",void 0),(0,i._)([(0,o.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],f.prototype,"castShadows",void 0),(0,i._)([(0,o.MZ)({type:c.E,json:{write:!0}})],f.prototype,"resource",void 0),(0,i._)([(0,s.e)({Object:"object"},{readOnly:!0})],f.prototype,"type",void 0),(0,i._)([(0,o.MZ)({type:Number,json:{write:!0}})],f.prototype,"width",void 0),(0,i._)([(0,o.MZ)({type:Number,json:{write:!0}})],f.prototype,"height",void 0),(0,i._)([(0,o.MZ)({type:Number,json:{write:!0}})],f.prototype,"depth",void 0),(0,i._)([(0,s.e)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],f.prototype,"anchor",void 0),(0,i._)([(0,o.MZ)({type:d,json:{type:[Number],read:{reader:e=>new d({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],f.prototype,"anchorPosition",void 0),(0,i._)([(0,o.MZ)({type:Number,json:{write:!0}})],f.prototype,"heading",void 0),(0,i._)([(0,o.MZ)({type:Number,json:{write:!0}})],f.prototype,"tilt",void 0),(0,i._)([(0,o.MZ)({type:Number,json:{write:!0}})],f.prototype,"roll",void 0),(0,i._)([(0,o.MZ)({readOnly:!0})],f.prototype,"isPrimitive",null),f=h=(0,i._)([(0,a.$)("esri.symbols.ObjectSymbol3DLayer")],f)},34467:function(e,t,n){"use strict";n.d(t,{M:function(){return p},R:function(){return h}});var r=n(3223),i=n(62991),o=n(80861),s=n(44212),a=n(91101),l=n(66361),c=n(12945);function u(e,t,n,r,i){const o={};return t.write?.writer?.call(e,r,o,n,i),o}function d(e,t,n,l,c,u){if(!l?.write)return!1;const d=(0,s.Jt)(e,n);if(!c&&l.write.overridePolicy){const t=l.write.overridePolicy.call(e,d,n,u??void 0);void 0!==t&&(c=t)}if(c||(c=l.write),!c||!1===c.enabled)return!1;if(c.layerContainerTypes&&u?.layerContainerType&&!c.layerContainerTypes.includes(u.layerContainerType))return!1;if((null===d&&!c.allowNull&&!c.writerEnsuresNonNull||void 0===d)&&c.isRequired){const t=new i.A("web-document-write:property-required",`Missing value for required property '${n}' on '${e.declaredClass}'`,{propertyName:n,target:e});return t&&u?.messages?u.messages.push(t):t&&!u&&o.A.getLogger("esri.core.accessorSupport.write").error(t.name,t.message),!1}return void 0!==d&&(!(null===d&&!c.allowNull&&!c.writerEnsuresNonNull)&&(!(!(c.alwaysWriteDefaults||t.store.multipleOriginsSupported&&t.store.originOf(n)!==a.Gr.DEFAULTS)&&function(e,t,n,i,o){const s=i.default;if(void 0===s)return!1;if(null!=i.defaultEquals)return i.defaultEquals(o);if("function"==typeof s){if(Array.isArray(o)){const i=s.call(e,t,n??void 0);return(0,r.aI)(i,o)}return!1}return s===o}(e,n,u,l,d))&&!(!c.ignoreOrigin&&u?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(n)<(0,a.aB)(u.origin))))}function h(e,t,n,r){const i=(0,l.oY)(e),o=i.metadata,s=(0,c.k4)(o[t],r);return!!s&&d(e,i,t,s,n,r)}function p(e,t,n){if(e&&"function"==typeof e.toJSON&&(!e.toJSON.isDefaultToJSON||!e.write))return(0,l.h1)(t,e.toJSON(n));const r=(0,l.oY)(e),i=r.metadata;for(const o in i){const h=(0,c.k4)(i[o],n);if(!d(e,r,o,h,void 0,n))continue;const p=(0,s.Jt)(e,o),f=u(e,h,h.write&&"string"==typeof h.write.target?h.write.target:o,p,n);Object.keys(f).length>0&&(t=(0,l.h1)(t,f),n?.resources?.pendingOperations?.length&&n.resources.pendingOperations.push(Promise.all(n.resources.pendingOperations).then((()=>(0,l.h1)(t,f,(()=>"replace-arrays"))))),n?.writtenProperties&&n.writtenProperties.push({target:e,propName:o,oldOrigin:(0,a.in)(r.store.originOf(o)),newOrigin:n.origin}))}return t}},34475:function(e,t,n){"use strict";n.d(t,{HA:function(){return u},Z3:function(){return h},v:function(){return d}});var r=n(70040);const i=[];function o(e,t,n,r){return{xmin:e,ymin:t,xmax:n,ymax:r}}function s(e,t,n,r,i,o){return{xmin:e,ymin:t,zmin:n,xmax:r,ymax:i,zmax:o}}function a(e,t,n,r,i,o){return{xmin:e,ymin:t,mmin:n,xmax:r,ymax:i,mmax:o}}function l(e,t,n,r,i,o,s,a){return{xmin:e,ymin:t,zmin:n,mmin:r,xmax:i,ymax:o,zmax:s,mmax:a}}function c(e,t=!1,n=!1){return t?n?l(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):s(e[0],e[1],e[2],e[3],e[4],e[5]):n?a(e[0],e[1],e[2],e[3],e[4],e[5]):o(e[0],e[1],e[2],e[3])}function u(e){return e?function(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}(e)?e:function(e){return void 0!==e.x&&void 0!==e.y}(e)?function(e){const{x:t,y:n,z:r,m:i}=e,c=null!=i;return null!=r?c?l(t,n,r,i,t,n,r,i):s(t,n,r,t,n,r):c?a(t,n,i,t,n,i):o(t,n,t,n)}(e):function(e){return void 0!==e.rings}(e)?d(e):function(e){return void 0!==e.paths}(e)?h(e):function(e){return void 0!==e.points}(e)?function(e){const{hasZ:t,hasM:n,points:o}=e;return c((0,r.Pj)(i,o,t??!1,n??!1),t,n)}(e):null:null}function d(e){const{hasZ:t,hasM:n,rings:o}=e,s=(0,r.Yz)(i,o,t??!1,n??!1);return s?c(s,t,n):null}function h(e){const{hasZ:t,hasM:n,paths:o}=e,s=(0,r.Yz)(i,o,t??!1,n??!1);return s?c(s,t,n):null}},34513:function(e,t,n){"use strict";n.d(t,{k7:function(){return a},ku:function(){return s}});var r=n(19759),i=n(55714);function o(e,t){if(!(0,r.oP)(e)){const n=function(e){if(!e)return null;const{origin:t,layer:n}=e;if("service"!==t&&"portal-item"!==t)return null;const r=n?.type;return"feature"===r||"stream"===r?n.parsedUrl?.path:"map-image"===r||"tile"===r?e.url?.path:null}(t);if(n)return(0,r.fj)(n,"images",e)}return(0,i.f)(e,t)}const s={json:{read:{source:["imageData","url"],reader:function(e,t,n){return t.imageData?(0,r.Hg)({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):o(t.url,n)}},write:{writer(e,t,n,o){!function(e,t,n,o){if((0,r.DB)(e)){const s=(0,r.r$)(e);if(!s)return;t.contentType=s.mediaType,t.imageData=s.data,n&&n.imageData===t.imageData&&n.url&&(0,i.w)(n.url,t,"url",o)}else(0,i.w)(e,t,"url",o)}(e,t,this.source,o)}}}},a={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,n){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=o(t.url,n)),r}}}}},34670:function(e,t,n){"use strict";n.d(t,{FY:function(){return a},LJ:function(){return l},Ro:function(){return c},fv:function(){return s},jA:function(){return f},tO:function(){return h},xP:function(){return m},y7:function(){return p}});var r=n(99263),i=n(67488);function o(e){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}const s=o(r.$O),a=o(r.sH),l=o(r.Sw),c={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${r.$O.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`},u=a.wkt.toUpperCase(),d=l.wkt.toUpperCase();function h(e){if(null!=e&&(0,i.fn)(e)){const t=e.wkid,n=e.wkt2??e.wkt;if((0,i.tl)(t))return r.sH;const o=n?.toUpperCase();if(n&&o===u)return r.sH;if((0,i.ZL)(t)||o&&o===d)return r.Sw}return r.$O}function p(e){return(0,i.tl)(e)?r.sH:(0,i.ZL)(e)?r.Sw:r.$O}function f(e){return(0,i.aI)(e,s)}function m(e){return f(e)||(0,i.aI)(e,a)||(0,i.aI)(e,l)}},34915:function(e){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},35017:function(e,t,n){"use strict";function r(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const n=t._delegatedEventNames,r=Array.isArray(e)?e:function(e){return e.split(",").map((e=>e.trim()))}(e);n.push(...r)}}n.d(t,{U:function(){return r}})},35418:function(e,t,n){"use strict";n.d(t,{H:function(){return h}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(26325)),s=n(14755),a=n(84977),l=n(8636),c=n(85716),u=n(84348);let d=class extends(s.A.ClonableMixin(a.A)){constructor(e){super(e),this.name=void 0,this.method="none",this.value=void 0,this.bandIds=void 0,this.renderer=void 0}};(0,r._)([(0,i.MZ)({type:String,json:{write:{isRequired:!0}}})],d.prototype,"name",void 0),(0,r._)([(0,i.MZ)({type:["raster-function-template","variable","none"],json:{write:{isRequired:!0}}}),(0,c.e)({rasterFunctionTemplate:"raster-function-template",variable:"variable",none:"none"})],d.prototype,"method",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:{isRequired:!0}}})],d.prototype,"value",void 0),(0,r._)([(0,i.MZ)({type:[l.jz],json:{write:{isRequired:!0}}})],d.prototype,"bandIds",void 0),(0,r._)([(0,i.MZ)({types:u.uy,json:{write:!0,origins:{"web-scene":{types:u.Gj,write:{overridePolicy:e=>({enabled:e&&"vector-field"!==e.type&&"flow"!==e.type})}}}}})],d.prototype,"renderer",void 0),d=(0,r._)([(0,o.$)("esri.renderers.support.RasterPresetRenderer")],d);const h=e=>{let t=class extends e{constructor(){super(...arguments),this.activePresetRendererName=null,this.presetRenderers=null}};return(0,r._)([(0,i.MZ)({type:String,json:{name:"layerDefinition.activePresetRendererName",write:{allowNull:!0}}})],t.prototype,"activePresetRendererName",void 0),(0,r._)([(0,i.MZ)({type:[d],json:{name:"layerDefinition.presetRenderers",write:!0}})],t.prototype,"presetRenderers",void 0),t=(0,r._)([(0,o.$)("esri.layers.mixins.RasterPresetRendererMixin")],t),t}},35497:function(e,t,n){"use strict";n.d(t,{C:function(){return u}});var r=n(38116),i=n(8636),o=n(56053),s=n(36321),a=n(96905),l=n(15697);const c=(0,i.dp)(l.A);async function u(e,t,n){t=c(t);const i=(0,s.Dl)(e),l={...i.query,f:"json",...t.toJSON()},u=t.outSpatialReference,d=(0,o.$B)(t.geometries[0]),h=(0,s.jV)(l,n);return(0,r.A)(i.path+"/project",h).then((({data:{geometries:e}})=>(0,a.V)(e,d,u)))}},35886:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultOptions=function(){return n},t.setDefaultOptions=function(e){n=e};var n={}},36137:function(e,t,n){"use strict";n.d(t,{Eq:function(){return p},G1:function(){return m},TS:function(){return o},Tf:function(){return v},V6:function(){return i},Vm:function(){return f},ay:function(){return l},c1:function(){return y},c4:function(){return s},j5:function(){return c},lT:function(){return d},oW:function(){return u}});const r={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function i(e){return!!r[e]||!!r[e.toLowerCase()]}function o(e){return r[e]??r[e.toLowerCase()]}function s(e){return[...o(e)]}function a(e,t,n){n<0&&++n,n>1&&--n;const r=6*n;return r<1?e+(t-e)*r:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function l(e,t,n,r=1){const i=(e%360+360)%360/360,o=n<=.5?n*(t+1):n+t-n*t,s=2*n-o;return[Math.round(255*a(s,o,i+1/3)),Math.round(255*a(s,o,i)),Math.round(255*a(s,o,i-1/3)),r]}function c(e){const t=e.length>5,n=t?8:4,r=(1<<n)-1,i=t?1:17,o=t?9===e.length:5===e.length;let s=Number("0x"+e.slice(1));if(isNaN(s))return null;const a=[0,0,0,1];let l;return o&&(l=s&r,s>>=n,a[3]=i*l/255),l=s&r,s>>=n,a[2]=i*l,l=s&r,s>>=n,a[1]=i*l,l=s&r,s>>=n,a[0]=i*l,a}function u(e){if("#"!==e[0]||isNaN(Number(`0x${e.slice(1)}`)))return null;switch(e.length){case 4:case 5:{const t=parseInt(e.slice(1,2),16),n=parseInt(e.slice(2,3),16),r=parseInt(e.slice(3,4),16),i=5===e.length?15:parseInt(e.slice(4),16);return[t+16*t,n+16*n,r+16*r,(i+16*i)/255]}case 7:case 9:return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16),(7===e.length?255:parseInt(e.slice(7),16))/255];default:return null}}function d(e){const t=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(t){const e=t[2].split(/\s*,\s*/),n=t[1];if("rgb"===n&&3===e.length||"rgba"===n&&4===e.length){const t=e[0];if("%"===t.charAt(t.length-1)){const t=e.map((e=>2.56*parseFloat(e)));return 4===e.length&&(t[3]=parseFloat(e[3])),h(t)}return h(e.map((e=>parseFloat(e))))}if("hsl"===n&&3===e.length||"hsla"===n&&4===e.length)return l(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3]))}return null}function h(e){return e[0]=y(e[0]),e[1]=y(e[1]),e[2]=y(e[2]),e[3]=4===e.length?m(e[3]):1,e}function p(e){let t=i(e)?o(e):null;return t??=d(e),t??=u(e),t}function f(e){const t=p(e);return null!=t?[t[0]/255,t[1]/255,t[2]/255,t[3]]:null}function m(e){return g(e,0,1)}function y(e){return Math.round(g(e,0,255))}function g(e,t,n){return e=Number(e),isNaN(e)?n:e<t?t:e>n?n:e}const v=2.2},36321:function(e,t,n){"use strict";n.d(t,{Dl:function(){return c},gf:function(){return d},jV:function(){return l},lF:function(){return u}});var r=n(32083),i=n(6480),o=n(15565),s=n(19759),a=n(44945);function l(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function c(e){return"string"==typeof e?(0,s.An)(e):(0,o.o8)(e)}function u(e,t,n){const r={};for(const i in e){if("declaredClass"===i)continue;const o=e[i];if(null!=o&&"function"!=typeof o)if(Array.isArray(o))r[i]=o.map((e=>u(e)));else if("object"==typeof o)if(o.toJSON){const e=o.toJSON(n?.[i]);r[i]=t?e:JSON.stringify(e)}else r[i]=t?o:JSON.stringify(o);else r[i]=o}return r}async function d(e,t,o){const s=function(e,t){return e?t&&(0,a.Qc)(e)?t:(0,a.CG)(e)??i.id?.findCredential(e)?.token:null}(e,t);if(s)return s;!i.id&&r.A.request.useIdentity&&await Promise.resolve().then(n.bind(n,83510));const l=await i.id.getCredential(e,o);return l?.token}},36427:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return X}});var r,i=n(82392),o=n(58842),s=n(62991),a=n(80861),l=n(67214),c=n(37623),u=n(81482),d=n(77380),h=(n(6273),n(67498),n(25376)),p=n(26325),f=n(48524),m=n(91101),y=n(45449),g=n(20923),v=n(4648),b=n(60368),w=n(22111),_=n(97628),S=n(3065),x=n(48),M=n(57888),A=n(11965),T=n(71004),I=n(61985),C=n(8e3),E=n(34008),k=n(44153),P=n(2532),R=n(19387),O=n(67488),N=n(64411),L=n(51707),D=n(31275),F=n(38116),j=n(4506),Z=n(95604),U=n(19759),z=n(11219),V=n(40102),B=n(24327),$=n(55714);const G=Symbol("canplay");let q=class extends L.A{static{r=B.UR}constructor(e){super(e),this.autoplay=!0,this.content=null,this.type="video",this[r]=!0}load(){const e=this.video;return"string"==typeof e?this.addResolvingPromise(this._preProcessVideoUrl(e).then((async e=>{const t=document.createElement("video");return t.src=Z.W5.sanitizeUrl((0,U.s2)(e)),t.crossOrigin="anonymous",t.autoplay=this.autoplay,t.muted=!0,t.loop=!0,t.playsInline=!0,this._loadVideo(t).then((()=>{this._set("content",t)}))}))):e instanceof HTMLVideoElement?this.addResolvingPromise(this._loadVideo(e).then((()=>{this._set("content",e)}))):this.addResolvingPromise(Promise.reject(new s.A("video-element:invalid-video-type","Invalid video type",{video:e}))),Promise.resolve(this)}get contentWidth(){return this.content?.videoWidth??0}get contentHeight(){return this.content?.videoHeight??0}get currentTime(){return this.content?.currentTime}set currentTime(e){if(!this.content)return;const t=(0,j.qE)(e,0,this.content.duration);"fastSeek"in this.content?this.content.fastSeek(t):this.content.currentTime=t,this.content.play().then((()=>{this.content?.pause()})).catch((()=>{}))}get duration(){return this.content?.duration}set video(e){"not-loaded"===this.loadStatus?this._set("video",e):a.A.getLogger(this).error("#video","video cannot be changed after the element is loaded.")}writeVideo(e,t,n,r){if(!e)return void(r?.messages&&r.messages.push(new s.A("video-element:unsupported-video","video source is missing")));const i=function(e){return"string"==typeof e&&!(0,U.DB)(e)&&!(0,U.w8)(e)}(e)?e:null;if(!i)return void(r?.messages&&r.messages.push(new s.A("video-element:unsupported-video","video source must be an absolute url")));!(0,U.oP)(i)&&r?.blockedRelativeUrls&&r.blockedRelativeUrls.push(i);const o=(0,U.s2)(i);(0,$.i)(o)?r?.messages&&r.messages.push(new s.A("video-element:unsupported-video","video source cannot be an item resource")):t[n]=o}async _preProcessVideoUrl(e){if((0,U.zs)(e))return(0,U.yM)(e);try{return await(0,F.A)(e,{method:"head"}),e}catch{try{return(0,U.yM)(e,!0)}catch{return e}}}async _loadVideo(e){"anonymous"!==e.crossOrigin&&(e.crossOrigin="anonymous",(0,U.w8)(e.src)||(e.src=e.src));try{await(0,V.i)(e,(e=>this.addHandles(e,G))),this.autoplay&&await e.play().catch((e=>{throw e}))}finally{this.removeHandles(G)}}};(0,i._)([(0,u.MZ)()],q.prototype,"autoplay",void 0),(0,i._)([(0,u.MZ)({readOnly:!0})],q.prototype,"content",void 0),(0,i._)([(0,u.MZ)({readOnly:!0})],q.prototype,"contentWidth",null),(0,i._)([(0,u.MZ)({readOnly:!0})],q.prototype,"contentHeight",null),(0,i._)([(0,u.MZ)({type:Number})],q.prototype,"currentTime",null),(0,i._)([(0,u.MZ)({type:Number})],q.prototype,"duration",null),(0,i._)([(0,u.MZ)(z.x3)],q.prototype,"video",null),(0,i._)([(0,f.K)("video")],q.prototype,"writeVideo",null),(0,i._)([(0,u.MZ)(z.m$)],q.prototype,"type",void 0),q=(0,i._)([(0,p.$)("esri.layers.support.VideoElement")],q);const H={key:"type",defaultKeyValue:"image",base:L.A,typeMap:{image:S.A,video:q}},W=o.A.ofType(H);let J=class extends(A.A.LoadableMixin(T.A.EsriPromiseMixin(M.A.EventedAccessor))){constructor(e){super(e),this._index=new N.F,this._elementViewsMap=new Map,this._elementsIndexes=new Map,this._elementsChangedHandler=e=>{for(const t of e.removed){const e=this._elementViewsMap.get(t);this._elementViewsMap.delete(t),this._index.delete(e),this.removeHandles(e),e.destroy(),this.notifyChange("fullExtent")}const{spatialReference:t}=this;for(const n of e.added){if(this._elementViewsMap.get(n))continue;const e=new D._({spatialReference:t,element:n});this._elementViewsMap.set(n,e);const r=(0,I.wB)((()=>e.coords),(()=>this._updateIndexForElement(e,!1)));this._updateIndexForElement(e,!0),this.addHandles(r,e)}this._elementsIndexes.clear(),this.elements.forEach(((e,t)=>this._elementsIndexes.set(e,t))),this.emit("refresh")},this.elements=new W}async load(e){if((0,c.Te)(e),!this.spatialReference){const e=this.elements.find((e=>null!=e.georeference?.coords));this._set("spatialReference",e?e.georeference.coords.spatialReference:k.A.WGS84)}return this._elementsChangedHandler({added:this.elements.items,removed:[]}),this.addHandles(this.elements.on("change",this._elementsChangedHandler)),this}destroy(){this._index.clear(),this._elementViewsMap.clear(),this._elementsIndexes.clear()}set elements(e){this._set("elements",(0,x.V)(e,this._get("elements"),W))}get fullExtent(){if("not-loaded"===this.loadStatus)return null;const e=this._index.fullBounds;return null==e?null:new C.A({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:this.spatialReference})}set spatialReference(e){"not-loaded"===this.loadStatus?this._set("spatialReference",e):a.A.getLogger(this).error("#spatialReference","spatialReference cannot be changed after the source is loaded.")}async queryElements(e,t){await this.load(),await(0,E.initializeProjection)(e.spatialReference,this.spatialReference,null,t);const n=(0,O.aI)(e.spatialReference,this.spatialReference)?e:(0,E.project)(e,this.spatialReference);if(!n)return[];const r=n.normalize(),i=[];for(const e of r)this._index.forEachInBounds((0,P.VY)(e),(({normalizedCoords:t,element:n})=>{null!=t&&(0,R.fA)(e,t)&&i.push(n)}));return i.sort(((e,t)=>this._elementsIndexes.get(e)-this._elementsIndexes.get(t))),i}hasElement(e){return this.elements.includes(e)}_updateIndexForElement(e,t){const n=e.normalizedBounds,r=this._index.has(e),i=null!=n;this._index.delete(e),i&&this._index.set(e,n),this.notifyChange("fullExtent"),t||(r!==i?this.emit("refresh"):this.emit("change",{element:e.element}))}};(0,i._)([(0,u.MZ)()],J.prototype,"elements",null),(0,i._)([(0,u.MZ)({readOnly:!0})],J.prototype,"fullExtent",null),(0,i._)([(0,u.MZ)()],J.prototype,"spatialReference",null),J=(0,i._)([(0,p.$)("esri.layers.support.LocalMediaElementSource")],J);var K=n(29759);let Y=class extends((0,g.dM)((0,w.j)((0,v.q)((0,b.A)((0,l.P)(y.A)))))){constructor(e){super(e),this.effectiveSource=null,this.georeference=null,this.copyright=null,this.operationalLayerType="MediaLayer",this.spatialReference=null,this.type="media",this._debouncedSaveOperations=(0,c.sg)((async(e,t,r)=>{const{save:i,saveAs:o}=await n.e(4022).then(n.bind(n,84022));switch(e){case K.X.SAVE:return i(this,t);case K.X.SAVE_AS:return o(this,r,t)}})),this.source=new J}load(e){return this.addResolvingPromise(this._doLoad(e)),Promise.resolve(this)}async _doLoad(e){await this.loadFromPortal({supportedTypes:["Media Layer"]},e);let t=this.source;if(!t)throw new s.A("media-layer:source-missing","Set 'MediaLayer.source' before loading the layer.");const n=this._getSourceOverride(t,this.georeference);n&&(this.setAtOrigin("source",n,"web-map"),this.setAtOrigin("source",n,"web-scene"),t=n);const r=(0,B.bv)(t)?new J({elements:new o.A([t])}):t;this._set("effectiveSource",r),this.spatialReference&&(r.spatialReference=this.spatialReference),await r.load(e),this.spatialReference=r.spatialReference}destroy(){this.effectiveSource?.destroy(),this.effectiveSource!==this.source&&this.source?.destroy()}readGeoreference(e,t){return e&&"itemId"in t&&t.itemId?e:void 0}get fullExtent(){return this.loaded?this.effectiveSource.fullExtent:null}get source(){return this._get("source")}set source(e){"loaded"!==this.loadStatus&&"failed"!==this.loadStatus?this._set("source",e):a.A.getLogger(this).error("#source","source cannot be changed after the layer is loaded.")}castSource(e){return e?Array.isArray(e)?new J({elements:new o.A(e)}):e instanceof o.A?new J({elements:e}):e:null}readSource(e,t,n){if("itemId"in t&&t.itemId)return;const r=this._createSource(t);return r?.read(t,n),r}writeSource(e,t,n,r){if(e&&e instanceof J){const t=e.elements.length;if(1!==t)return void(r?.messages&&r.messages.push(new s.A("media-layer:unsupported-source",`local media element source can only be persisted if it contains exactly one ImageElement, but it has ${t}.`)));e=e.elements.at(0)}(0,B.bv)(e)?e.write(t,r):r?.messages&&(e?r.messages.push(new s.A("media-layer:unsupported-source","only media elements of type 'ImageElement' or 'VideoElement' can be persisted")):r.messages.push(new s.A("media-layer:unsupported-source","the media layer is missing a source")))}async save(e){return this._debouncedSaveOperations(K.X.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(K.X.SAVE_AS,t,e)}_createSource(e){if("mediaType"in e)switch(e.mediaType){case"image":return new S.A;case"video":return new q}return null}_getSourceOverride(e,t){if((0,B.bv)(e)&&this.originIdOf("source")===m.Gr.PORTAL_ITEM&&t&&(this.originIdOf("georeference")===m.Gr.WEB_MAP||this.originIdOf("georeference")===m.Gr.WEB_SCENE)){const n=e.toJSON(),r=this._createSource(n);return r.read({...n},{origin:"portal-item"}),r.read({georeference:t},{origin:"web-map"}),r.read({georeference:t},{origin:"web-scene"}),r}return null}};(0,i._)([(0,u.MZ)({readOnly:!0})],Y.prototype,"effectiveSource",void 0),(0,i._)([(0,u.MZ)({readOnly:!0,json:{read:!1,write:!1,origins:{"web-document":{read:!0}}}})],Y.prototype,"georeference",void 0),(0,i._)([(0,h.w)("web-document","georeference")],Y.prototype,"readGeoreference",null),(0,i._)([(0,u.MZ)({type:String})],Y.prototype,"copyright",void 0),(0,i._)([(0,u.MZ)({readOnly:!0})],Y.prototype,"fullExtent",null),(0,i._)([(0,u.MZ)({type:["MediaLayer"]})],Y.prototype,"operationalLayerType",void 0),(0,i._)([(0,u.MZ)({type:["show","hide"]})],Y.prototype,"listMode",void 0),(0,i._)([(0,u.MZ)({nonNullable:!0,json:{write:{enabled:!0,allowNull:!1,target:{url:{type:String},mediaType:{type:["image","video"]},georeference:{type:_.A}},overridePolicy(e,t,n){return{enabled:!0,allowNull:!1,ignoreOrigin:(0,z.LR)(this,n?.origin)&&(0,B.bv)(e)&&!!e.georeference&&e.originIdOf("georeference")>m.Gr.PORTAL_ITEM}}}}})],Y.prototype,"source",null),(0,i._)([(0,d.w)("source")],Y.prototype,"castSource",null),(0,i._)([(0,h.w)("source",["url"])],Y.prototype,"readSource",null),(0,i._)([(0,f.K)("source")],Y.prototype,"writeSource",null),(0,i._)([(0,u.MZ)()],Y.prototype,"spatialReference",void 0),(0,i._)([(0,u.MZ)({readOnly:!0})],Y.prototype,"type",void 0),Y=(0,i._)([(0,p.$)("esri.layers.MediaLayer")],Y);const X=Y},36442:function(e,t,n){"use strict";var r;n.d(t,{d:function(){return r}}),function(e){e[e.TextureDescriptor=0]="TextureDescriptor",e[e.Texture=1]="Texture",e[e.Renderbuffer=2]="Renderbuffer"}(r||(r={}))},36752:function(e,t,n){"use strict";n.d(t,{JW:function(){return A},XX:function(){return $},c0:function(){return I},ej:function(){return T},ge:function(){return V},qy:function(){return M},s6:function(){return C}});const r=globalThis,i=r.trustedTypes,o=i?i.createPolicy("lit-html",{createHTML:e=>e}):void 0,s="$lit$",a=`lit$${Math.random().toFixed(9).slice(2)}$`,l="?"+a,c=`<${l}>`,u=document,d=()=>u.createComment(""),h=e=>null===e||"object"!=typeof e&&"function"!=typeof e,p=Array.isArray,f=e=>p(e)||"function"==typeof e?.[Symbol.iterator],m="[ \t\n\f\r]",y=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,g=/-->/g,v=/>/g,b=RegExp(`>|${m}(?:([^\\s"'>=/]+)(${m}*=${m}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),w=/'/g,_=/"/g,S=/^(?:script|style|textarea|title)$/i,x=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),M=x(1),A=x(2),T=x(3),I=Symbol.for("lit-noChange"),C=Symbol.for("lit-nothing"),E=new WeakMap,k=u.createTreeWalker(u,129);function P(e,t){if(!p(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==o?o.createHTML(t):t}const R=(e,t)=>{const n=e.length-1,r=[];let i,o=2===t?"<svg>":3===t?"<math>":"",l=y;for(let t=0;t<n;t++){const n=e[t];let u,d,h=-1,p=0;for(;p<n.length&&(l.lastIndex=p,d=l.exec(n),null!==d);)p=l.lastIndex,l===y?"!--"===d[1]?l=g:void 0!==d[1]?l=v:void 0!==d[2]?(S.test(d[2])&&(i=RegExp("</"+d[2],"g")),l=b):void 0!==d[3]&&(l=b):l===b?">"===d[0]?(l=i??y,h=-1):void 0===d[1]?h=-2:(h=l.lastIndex-d[2].length,u=d[1],l=void 0===d[3]?b:'"'===d[3]?_:w):l===_||l===w?l=b:l===g||l===v?l=y:(l=b,i=void 0);const f=l===b&&e[t+1].startsWith("/>")?" ":"";o+=l===y?n+c:h>=0?(r.push(u),n.slice(0,h)+s+n.slice(h)+a+f):n+a+(-2===h?t:f)}return[P(e,o+(e[n]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),r]};class O{constructor({strings:e,_$litType$:t},n){let r;this.parts=[];let o=0,c=0;const u=e.length-1,h=this.parts,[p,f]=R(e,t);if(this.el=O.createElement(p,n),k.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(r=k.nextNode())&&h.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const e of r.getAttributeNames())if(e.endsWith(s)){const t=f[c++],n=r.getAttribute(e).split(a),i=/([.?@])?(.*)/.exec(t);h.push({type:1,index:o,name:i[2],strings:n,ctor:"."===i[1]?j:"?"===i[1]?Z:"@"===i[1]?U:F}),r.removeAttribute(e)}else e.startsWith(a)&&(h.push({type:6,index:o}),r.removeAttribute(e));if(S.test(r.tagName)){const e=r.textContent.split(a),t=e.length-1;if(t>0){r.textContent=i?i.emptyScript:"";for(let n=0;n<t;n++)r.append(e[n],d()),k.nextNode(),h.push({type:2,index:++o});r.append(e[t],d())}}}else if(8===r.nodeType)if(r.data===l)h.push({type:2,index:o});else{let e=-1;for(;-1!==(e=r.data.indexOf(a,e+1));)h.push({type:7,index:o}),e+=a.length-1}o++}}static createElement(e,t){const n=u.createElement("template");return n.innerHTML=e,n}}function N(e,t,n=e,r){if(t===I)return t;let i=void 0!==r?n._$Co?.[r]:n._$Cl;const o=h(t)?void 0:t._$litDirective$;return i?.constructor!==o&&(i?._$AO?.(!1),void 0===o?i=void 0:(i=new o(e),i._$AT(e,n,r)),void 0!==r?(n._$Co??=[])[r]=i:n._$Cl=i),void 0!==i&&(t=N(e,i._$AS(e,t.values),i,r)),t}class L{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,r=(e?.creationScope??u).importNode(t,!0);k.currentNode=r;let i=k.nextNode(),o=0,s=0,a=n[0];for(;void 0!==a;){if(o===a.index){let t;2===a.type?t=new D(i,i.nextSibling,this,e):1===a.type?t=new a.ctor(i,a.name,a.strings,this,e):6===a.type&&(t=new z(i,this,e)),this._$AV.push(t),a=n[++s]}o!==a?.index&&(i=k.nextNode(),o++)}return k.currentNode=u,r}p(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class D{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,n,r){this.type=2,this._$AH=C,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=N(this,e,t),h(e)?e===C||null==e||""===e?(this._$AH!==C&&this._$AR(),this._$AH=C):e!==this._$AH&&e!==I&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):f(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==C&&h(this._$AH)?this._$AA.nextSibling.data=e:this.T(u.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:n}=e,r="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=O.createElement(P(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===r)this._$AH.p(t);else{const e=new L(r,this),n=e.u(this.options);e.p(t),this.T(n),this._$AH=e}}_$AC(e){let t=E.get(e.strings);return void 0===t&&E.set(e.strings,t=new O(e)),t}k(e){p(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,r=0;for(const i of e)r===t.length?t.push(n=new D(this.O(d()),this.O(d()),this,this.options)):n=t[r],n._$AI(i),r++;r<t.length&&(this._$AR(n&&n._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class F{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,r,i){this.type=1,this._$AH=C,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=i,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=C}_$AI(e,t=this,n,r){const i=this.strings;let o=!1;if(void 0===i)e=N(this,e,t,0),o=!h(e)||e!==this._$AH&&e!==I,o&&(this._$AH=e);else{const r=e;let s,a;for(e=i[0],s=0;s<i.length-1;s++)a=N(this,r[n+s],t,s),a===I&&(a=this._$AH[s]),o||=!h(a)||a!==this._$AH[s],a===C?e=C:e!==C&&(e+=(a??"")+i[s+1]),this._$AH[s]=a}o&&!r&&this.j(e)}j(e){e===C?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class j extends F{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===C?void 0:e}}class Z extends F{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==C)}}class U extends F{constructor(e,t,n,r,i){super(e,t,n,r,i),this.type=5}_$AI(e,t=this){if((e=N(this,e,t,0)??C)===I)return;const n=this._$AH,r=e===C&&n!==C||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==C&&(n===C||r);r&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class z{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){N(this,e)}}const V={M:s,P:a,A:l,C:1,L:R,R:L,D:f,V:N,I:D,H:F,N:Z,U:U,B:j,F:z},B=r.litHtmlPolyfillSupport;B?.(O,D),(r.litHtmlVersions??=[]).push("3.3.0");const $=(e,t,n)=>{const r=n?.renderBefore??t;let i=r._$litPart$;if(void 0===i){const e=n?.renderBefore??null;r._$litPart$=i=new D(t.insertBefore(d(),e),e,void 0,n??{})}return i._$AI(e),i}},36767:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r,i=n(82392),o=n(1817),s=n(84977),a=n(15565),l=n(81482),c=(n(6273),n(80861),n(26325)),u=n(8e3);const d=new o.J({upperLeft:"upper-left",lowerLeft:"lower-left"});let h=r=class extends s.A{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new r((0,a.o8)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};(0,i._)([(0,l.MZ)({type:u.A,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],h.prototype,"extent",void 0),(0,i._)([(0,l.MZ)({type:["view","edit"],json:{write:!0}})],h.prototype,"mode",void 0),(0,i._)([(0,l.MZ)({type:String,json:{read:d.read,write:d.write}})],h.prototype,"originPosition",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],h.prototype,"tolerance",void 0),h=r=(0,i._)([(0,c.$)("esri.rest.support.QuantizationParameters")],h)},36788:function(e,t,n){"use strict";n.d(t,{i:function(){return m},r:function(){return y}});var r,i=n(82392),o=n(1817),s=n(84977),a=n(19759),l=n(81482),c=(n(6273),n(80861),n(67498),n(85716)),u=n(25376),d=n(26325),h=n(48524),p=n(55714);const f=(0,o.O)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let m=r=class extends s.A{constructor(e){super(e)}readHref(e,t,n){return e?(0,p.f)(e,n):t.dataURI}writeHref(e,t,n,r){e&&((0,a.DB)(e)?t.dataURI=e:(t.href=(0,p.t)(e,r),(0,a.oP)(t.href)&&(t.href=(0,a.S8)(t.href))))}clone(){return new r({href:this.href,primitive:this.primitive})}};(0,i._)([(0,l.MZ)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],m.prototype,"href",void 0),(0,i._)([(0,u.w)("href")],m.prototype,"readHref",null),(0,i._)([(0,h.K)("href",{href:{type:String},dataURI:{type:String}})],m.prototype,"writeHref",null),(0,i._)([(0,c.e)(f)],m.prototype,"primitive",void 0),m=r=(0,i._)([(0,d.$)("esri.symbols.support.IconSymbol3DLayerResource")],m);const y="circle"},36903:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r,i=n(82392),o=n(93814),s=n(84977),a=n(81482),l=n(8636),c=(n(6273),n(67498),n(26325)),u=n(48524);let d=r=class extends s.A{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,n){t[n]=e??0}clone(){return new r({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,i._)([(0,a.MZ)({type:o.A,json:{type:[l.jz],write:{isRequired:!0}}})],d.prototype,"color",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"label",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],d.prototype,"value",void 0),(0,i._)([(0,u.K)("value")],d.prototype,"writeValue",null),d=r=(0,i._)([(0,c.$)("esri.renderers.visualVariables.support.ColorStop")],d);const h=d},37525:function(e,t,n){"use strict";n.r(t),n.d(t,{getAllSizes:function(){return A},getColor:function(){return m},getOpacity:function(){return y},getRotationAngle:function(){return g},getSize:function(){return v},getSizeForValue:function(){return _},getSizeFromNumberOrVariable:function(){return b},getSizeRangeAtScale:function(){return S},getVisualVariableValues:function(){return x},viewScaleRE:function(){return f}});var r=n(93814),i=n(20857),o=n(17420),s=n(80861),a=n(47195),l=n(2818);const c=()=>s.A.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),u=e=>c().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),d=()=>c().error("Use of arcade expressions requires an arcade context"),h=new i.A,p=Math.PI,f=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function m(e,t,n){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"color"===e.type)):e;if(!i)return;if("esri.renderers.visualVariables.ColorVariable"!==i.declaredClass)return void u("ColorVariable");const o="number"==typeof t,s=o?null:t,a=s?.attributes;let c=o?t:null;const h=i.field,{ipData:p,hasExpression:f}=i.cache;let m=i.cache.compiledFunc;if(!h&&!f){const e=i.stops;return e&&e[0]&&e[0].color}if("number"!=typeof c)if(f){if(null==n?.arcade)return void d();const e={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},t=n.arcade.arcadeUtils,r=t.getViewInfo(e),o=t.createExecContext(s,r,n.timeZone);if(!m){const e=t.createSyntaxTree(i.valueExpression);m=t.createFunction(e),i.cache.compiledFunc=m}c=t.executeFunction(m,o)}else a&&(c=a[h]);const y=i.normalizationField,g=null!=a&&null!=y?parseFloat(a[y]):void 0;if(null!=c&&(!y||o||!isNaN(g)&&0!==g)){(0,l.gf)(g)&&!o&&(c/=g);const e=M(c,p);if(e){const t=e[0],o=e[1],s=t===o?i.stops[t].color:r.A.blendColors(i.stops[t].color,i.stops[o].color,e[2],null!=n?n.color:void 0);return new r.A(s)}}}function y(e,t,n){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"opacity"===e.type)):e;if(!r)return;if("esri.renderers.visualVariables.OpacityVariable"!==r.declaredClass)return void u("OpacityVariable");const i="number"==typeof t,o=i?null:t,s=o?.attributes;let a=i?t:null;const c=r.field,{ipData:h,hasExpression:p}=r.cache;let f=r.cache.compiledFunc;if(!c&&!p){const e=r.stops;return e&&e[0]&&e[0].opacity}if("number"!=typeof a)if(p){if(null==n?.arcade)return void d();const e={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},t=n.arcade.arcadeUtils,i=t.getViewInfo(e),s=t.createExecContext(o,i,n.timeZone);if(!f){const e=t.createSyntaxTree(r.valueExpression);f=t.createFunction(e),r.cache.compiledFunc=f}a=t.executeFunction(f,s)}else s&&(a=s[c]);const m=r.normalizationField,y=null!=s&&null!=m?parseFloat(s[m]):void 0;if(null!=a&&(!m||i||!isNaN(y)&&0!==y)){(0,l.gf)(y)&&!i&&(a/=y);const e=M(a,h);if(e){const t=e[0],n=e[1];if(t===n)return r.stops[t].opacity;{const i=r.stops[t].opacity;return i+(r.stops[n].opacity-i)*e[2]}}}}function g(e,t,n){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"rotation"===e.type)):e;if(!r)return;if("esri.renderers.visualVariables.RotationVariable"!==r.declaredClass)return void u("RotationVariable");const i=r.axis||"heading",o="heading"===i&&"arithmetic"===r.rotationType?90:0,s="heading"===i&&"arithmetic"===r.rotationType?-1:1,a="number"==typeof t?null:t,l=a?.attributes,c=r.field,{hasExpression:h}=r.cache;let p=r.cache.compiledFunc,f=null;if(!c&&!h)return f;if(h){if(null==n?.arcade)return void d();const e={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},t=n.arcade.arcadeUtils,i=t.getViewInfo(e),o=t.createExecContext(a,i,n.timeZone);if(!p){const e=t.createSyntaxTree(r.valueExpression);p=t.createFunction(e),r.cache.compiledFunc=p}f=t.executeFunction(p,o)}else l&&(f=l[c]);return f="number"!=typeof f||isNaN(f)?null:o+s*f,f}function v(e,t,n){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"size"===e.type)):e;if(!r)return;if("esri.renderers.visualVariables.SizeVariable"!==r.declaredClass)return void u("SizeVariable");const i=_(function(e,t,n){const r="number"==typeof t,i=r?null:t,o=i?.attributes;let s=r?t:null;const{isScaleDriven:a}=e.cache;let c=e.cache.compiledFunc;if(a){const t=null!=n?n.scale:void 0,r=null!=n?n.view:void 0;s=null==t||"3d"===r?function(e){let t=null,n=null;const r=e.stops;return r?(t=r[0].value,n=r[r.length-1].value):(t=e.minDataValue||0,n=e.maxDataValue||0),(t+n)/2}(e):t}else if(!r)switch(e.inputValueType){case l.Yf.Expression:{if(null==n?.arcade)return void d();const t={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},r=n.arcade.arcadeUtils,o=r.getViewInfo(t),a=r.createExecContext(i,o,n.timeZone);if(!c){const t=r.createSyntaxTree(e.valueExpression);c=r.createFunction(t),e.cache.compiledFunc=c}s=r.executeFunction(c,a);break}case l.Yf.Field:o&&(s=o[e.field]);break;case l.Yf.Unknown:s=null}if(!(0,l.gf)(s))return null;if(r||!e.normalizationField)return s;const u=o?parseFloat(o[e.normalizationField]):null;return(0,l.gf)(u)&&0!==u?s/u:null}(r,t,n),r,t,n,r.cache.ipData);return null==i||isNaN(i)?void 0:i}function b(e,t,n){return null==e?null:(0,l.of)(e)?v(e,t,n):(0,l.gf)(e)?e:null}function w(e,t,n){return(0,l.gf)(n)&&e>n?n:(0,l.gf)(t)&&e<t?t:e}function _(e,t,n,r,i){switch(t.transformationType){case l._w.Additive:return function(e,t,n,r){const i=b(t.minSize,n,r)||t.minDataValue;return null==e&&null==i?null:(e??0)+(i??0)}(e,t,n,r);case l._w.Constant:return function(e,t,n){const r=e.stops;let i=r?.length&&r[0].size;return null==i&&(i=e.minSize),b(i,t,n)}(t,n,r);case l._w.ClampedLinear:return function(e,t,n,r){const i=b(t.minSize,n,r);if(null==e)return i;const{minDataValue:o,maxDataValue:s}=t;if(null==o||null==s)return null;const a=(e-o)/(s-o),l=b(t.maxSize,n,r),c=null!=r?r.shape:void 0;if(e<=o)return i;if(e>=s)return l;if(null==i||null==l)return null;if("area"===t.scaleBy&&c){const e="circle"===c,t=e?p*(i/2)**2:i*i,n=t+a*((e?p*(l/2)**2:l*l)-t);return e?2*Math.sqrt(n/p):Math.sqrt(n)}return i+a*(l-i)}(e,t,n,r);case l._w.Proportional:return function(e,t,n,r){const i=b(t.minSize,n,r);if(null==e||null==i)return i;const o=null!=r?r.shape:void 0,{minDataValue:s}=t;if(null==s)return null;const a=e/s,l=b(t.maxSize,n,r);let c=null;return c="circle"===o?2*Math.sqrt(a*(i/2)**2):"square"===o||"diamond"===o||"image"===o?Math.sqrt(a*i**2):a*i,w(c,i,l)}(e,t,n,r);case l._w.Stops:return function(e,t,n,r,i){if(null==e)return null;const[o,s,a]=M(e,i);if(o===s)return b(t.stops?.[o].size,n,r);{const e=b(t.stops?.[o].size,n,r),i=b(t.stops?.[s].size,n,r);return null==e||null==i?null:e+(i-e)*a}}(e,t,n,r,i);case l._w.RealWorldSize:return function(e,t,n,r){const i=(r?.resolution??1)*a.j[t.valueUnit],o=b(t.minSize,n,r),s=b(t.maxSize,n,r),{valueRepresentation:l}=t;if(null==e)return o;let c=null;return c="area"===l?2*Math.sqrt(e/p)/i:"radius"===l||"distance"===l?2*e/i:e/i,w(c,o,s)}(e,t,n,r);case l._w.Identity:return e;case l._w.Unknown:return null}}function S(e,t,n){const{isScaleDriven:r}=e.cache;if(!(r&&"3d"===n||t))return null;const i={scale:t,view:n};let o=b(e.minSize,h,i),s=b(e.maxSize,h,i);if(null!=o||null!=s){if(o>s){const e=s;s=o,o=e}return{minSize:o,maxSize:s}}}function x(e,t,n){if(!e.visualVariables)return;const r=[],i=[],o=[],s=[],a=[];for(const t of e.visualVariables)switch(t.type){case"color":i.push(t);break;case"opacity":o.push(t);break;case"rotation":a.push(t);break;case"size":s.push(t)}return i.forEach((e=>{const i=m(e,t,n);r.push({variable:e,value:i})})),o.forEach((e=>{const i=y(e,t,n);r.push({variable:e,value:i})})),a.forEach((e=>{const i=g(e,t,n);r.push({variable:e,value:i})})),s.forEach((e=>{const i=v(e,t,n);r.push({variable:e,value:i})})),r}function M(e,t){if(!t)return;let n=0,r=t.length-1;return t.some(((t,i)=>e<t?(r=i,!0):(n=i,!1))),[n,r,(e-t[n])/(t[r]-t[n])]}function A(e,t,n){const r=["proportional","proportional","proportional"];for(const i of e){const e=i.useSymbolValue?"symbol-value":v(i,t,n)??"proportional";switch(i.axis){case"width":r[0]=e;break;case"depth":r[1]=e;break;case"height":r[2]=e;break;case"width-and-depth":r[0]=e,r[1]=e;break;case"all":case void 0:case null:r[0]=e,r[1]=e,r[2]=e;break;default:(0,o.Xb)(i.axis)}}return r}},37623:function(e,t,n){"use strict";n.d(t,{$X:function(){return M},G4:function(){return u},Lx:function(){return v},Mq:function(){return c},NK:function(){return a},NO:function(){return E},NY:function(){return f},Ol:function(){return w},Pl:function(){return _},QP:function(){return d},QZ:function(){return g},Te:function(){return l},Tw:function(){return I},YL:function(){return x},hn:function(){return C},jH:function(){return h},nA:function(){return b},qr:function(){return m},sg:function(){return T},u7:function(){return p},wR:function(){return S},z7:function(){return A},zf:function(){return y}});var r=n(84807),i=n(62991),o=n(92840),s=(n(80861),n(57725));function a(e="Aborted"){return new i.A("AbortError",e)}function l(e,t="Aborted"){if(u(e))throw a(t)}function c(e){return e instanceof AbortSignal?e:e?.signal??void 0}function u(e){const t=c(e);return null!=t&&t.aborted}function d(e){if(y(e))throw e}function h(e){if(!y(e))throw e}function p(e,t){const n=c(e);if(null!=n){if(!n.aborted)return(0,o.Oo)(n,"abort",(()=>t()));t()}}function f(e,t){const n=c(e);if(null!=n)return l(n),(0,o.Oo)(n,"abort",(()=>t(a())))}function m(e,t){return null==c(t)?e:new Promise(((n,r)=>{let i=p(t,(()=>r(a())));const o=()=>{i=(0,s.xt)(i)};e.then(o,o),e.then(n,r)}))}function y(e){return"AbortError"===e?.name}async function g(e){try{return await e}catch(e){if(!y(e))throw e;return}}async function v(e){if(!e)return;if("function"!=typeof e.forEach){const t=Object.keys(e),n=t.map((t=>e[t])),r=await v(n),i={};return t.map(((e,t)=>i[e]=r[t])),i}const t=e;return Promise.allSettled(t).then((e=>Array.from(t,((t,n)=>{const r=e[n];return"fulfilled"===r.status?{promise:t,value:r.value}:{promise:t,error:r.reason}}))))}async function b(e){return(await Promise.allSettled(e)).filter((e=>"fulfilled"===e.status)).map((e=>e.value))}async function w(e){return(await Promise.allSettled(e)).filter((e=>"rejected"===e.status)).map((e=>e.reason))}function _(e,t=void 0,n){const r=new AbortController;return p(n,(()=>r.abort())),new Promise(((n,i)=>{let o=setTimeout((()=>{o=0,n(t)}),e);p(r,(()=>{o&&(clearTimeout(o),i(a()))}))}))}function S(e,t,n,r){const o=n&&"abort"in n?n:null;null!=r||o||(r=n);let s=setTimeout((()=>{s=0,o?.abort()}),t);const a=()=>r||new i.A("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then((e=>{if(0===s)throw a();return clearTimeout(s),e}),(e=>{throw clearTimeout(s),0===s?a():e}))}function x(e,t){const n=new AbortController,r=setTimeout((()=>n.abort()),t);return p(e,(()=>{n.abort(),clearTimeout(r)})),{...e,signal:n.signal}}function M(e){return e&&"function"==typeof e.then}function A(e){return M(e)?e:Promise.resolve(e)}function T(e,t=-1){let n,r,i,o,s=null;const l=(...c)=>{if(n){r=c,o&&o.reject(a()),o=I();const e=o.promise;if(s){const e=s;s=null,e.abort()}return e}if(i=o||I(),o=null,t>0){const r=new AbortController;n=A(e(...c,r.signal));const i=n;_(t).then((()=>{n===i&&(o?r.abort():s=r)}))}else n=1,n=A(e(...c));const u=()=>{const e=r;r=i=n=s=null,null!=e&&l(...e)},d=n,h=i;return d.then(u,u),d.then(h.resolve,h.reject),h.promise};return l}function I(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r})),i=t=>{e(t)};return i.resolve=t=>e(t),i.reject=e=>t(e),i.timeout=(e,t)=>r.p.setTimeout((()=>i.reject(t)),e),i.promise=n,i}function C(e,t){t.then(e.resolve,e.reject)}async function E(e){await Promise.resolve(),l(e)}},37836:function(e,t,n){"use strict";n.r(t),n.d(t,{Button:function(){return k}});n(30357),n(32239);var r=n(34088),i=n(46337),o=n(48015),s=n(52567),a=n(62245),l=n(45007),c=n(21796),u=n(60992),d=n(93174),h=n(83623),p=n(4643),f=n(75572),m=n(79e3),y=n(33826);const g="calcite-button--loader",v="content",b="content--slotted",w="icon",_="icon--start",S="icon--end",x="loading-in",M="loading-out",A="icon-start-empty",T="icon-end-empty",I="button-padding",C="button-padding--shrunk",E=y.AH`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;inline-size:auto;vertical-align:middle;border-radius:var(--calcite-button-corner-radius, var(--calcite-internal-button-corner-radius, 0))}:host a,:host button{--calcite-internal-button-content-margin: .5rem;--calcite-internal-button-padding-x: 7px;--calcite-internal-button-padding-y: 3px;position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;-webkit-user-select:none;user-select:none;appearance:none;align-items:center;justify-content:center;border-style:none;text-align:center;font-family:inherit;font-weight:var(--calcite-font-weight-normal);text-decoration-line:none;outline-color:transparent;background-color:var(--calcite-button-background-color, var(--calcite-internal-button-background-color, var(--calcite-color-transparent)));border-block-start-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-block-start-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-block-end-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-block-end-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-inline-start-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-inline-start-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-inline-end-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-inline-end-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-style:solid;border-width:var(--calcite-border-width-sm);box-shadow:inset 0 0 0 0 var(--calcite-button-shadow-color, var(--calcite-internal-button-shadow-color, var(--calcite-color-transparent)));border-radius:var(--calcite-button-corner-radius, var(--calcite-internal-button-corner-radius, 0));color:var(--calcite-button-text-color, var(--calcite-internal-button-text-color, currentColor));padding-block:var(--calcite-internal-button-padding-y);padding-inline:var(--calcite-internal-button-padding-x);transition:color var(--calcite-animation-timing) ease-in-out,background-color var(--calcite-animation-timing) ease-in-out,box-shadow var(--calcite-animation-timing) ease-in-out,outline-color var(--calcite-internal-animation-timing-fast) ease-in-out}:host a:hover,:host button:hover{text-decoration-line:none}:host a:focus,:host button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host a span,:host button span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host a calcite-loader,:host button calcite-loader{color:var(--calcite-button-loader-color, var(--calcite-internal-button-loader-color, var(--calcite-button-text-color, var(--calcite-internal-button-text-color))))}:host([round]){--calcite-internal-button-corner-radius: 50px}.content{margin-inline:var(--calcite-internal-button-content-margin)}.icon-start-empty .content{margin-inline-start:unset}.icon-end-empty .content{margin-inline-end:unset}:host([scale=m]) button,:host([scale=m]) a{--calcite-internal-button-content-margin: .75rem}:host([scale=l]) button,:host([scale=l]) a{--calcite-internal-button-content-margin: 1rem}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}:host([alignment=center]:not([width=auto])) a,:host([alignment=center]:not([width=auto])) button{justify-content:center}:host([alignment=start]:not([width=auto])) a,:host([alignment=start]:not([width=auto])) button{justify-content:flex-start}:host([alignment=end]:not([width=auto])) a,:host([alignment=end]:not([width=auto])) button{justify-content:flex-end}:host([alignment*=space-between]:not([width=auto])) a,:host([alignment*=space-between]:not([width=auto])) button{justify-content:space-between}:host([alignment=icon-start-space-between]:not([width=auto])) .icon--start{margin-inline-end:auto}:host([alignment=icon-start-space-between]:not([width=auto])) a,:host([alignment=icon-start-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=icon-end-space-between]:not([width=auto])) .icon--end{margin-inline-start:auto}:host([alignment=icon-end-space-between]:not([width=auto])) a,:host([alignment=icon-end-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=center]) a:not(.content--slotted) .icon--start+.icon--end,:host([alignment=center]) button:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:var(--calcite-internal-button-content-margin)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}@keyframes loader-in{0%{inline-size:0;opacity:0;transform:scale(.5)}to{inline-size:1em;opacity:1;transform:scale(1)}}@keyframes loader-out{0%{inline-size:1em;opacity:1;transform:scale(1)}to{inline-size:0;opacity:0;transform:scale(.5)}}.calcite-button--loader{display:flex}.calcite-button--loader calcite-loader{margin:0}:host([loading]) button.content--slotted .calcite-button--loader calcite-loader,:host([loading]) a.content--slotted .calcite-button--loader calcite-loader{margin-inline-end:var(--calcite-internal-button-content-margin)}:host([loading]) button:not(.content--slotted) .icon--start,:host([loading]) button:not(.content--slotted) .icon--end,:host([loading]) a:not(.content--slotted) .icon--start,:host([loading]) a:not(.content--slotted) .icon--end{display:none}:host([appearance]) button,:host([appearance]) a{--calcite-internal-button-border-color: var(--calcite-color-transparent);border-style:solid;border-width:var(--calcite-button-border-size, 1px)}:host([kind=brand]) button,:host([kind=brand]) a{--calcite-internal-button-text-color: var(--calcite-color-text-inverse);--calcite-internal-button-background-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-text-inverse)}:host([kind=brand]) button:hover,:host([kind=brand]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-brand-hover)}:host([kind=brand]) button:active,:host([kind=brand]) a:active{--calcite-internal-button-background-color: var(--calcite-color-brand-press)}:host([kind=danger]) button,:host([kind=danger]) a{--calcite-internal-button-text-color: var(--calcite-color-text-inverse);--calcite-internal-button-background-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-text-inverse)}:host([kind=danger]) button:hover,:host([kind=danger]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-status-danger-hover)}:host([kind=danger]) button:active,:host([kind=danger]) a:active{--calcite-internal-button-background-color: var(--calcite-color-status-danger-press)}:host([kind=neutral]) button,:host([kind=neutral]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-background-color: var(--calcite-color-foreground-3);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([kind=neutral]) button:hover,:host([kind=neutral]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-foreground-2)}:host([kind=neutral]) button:active,:host([kind=neutral]) a:active{--calcite-internal-button-background-color: var(--calcite-color-foreground-1)}:host([kind=inverse]) button,:host([kind=inverse]) a{--calcite-internal-button-text-color: var(--calcite-color-text-inverse);--calcite-internal-button-background-color: var(--calcite-color-inverse);--calcite-internal-button-loader-color: var(--calcite-color-text-inverse)}:host([kind=inverse]) button:hover,:host([kind=inverse]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-inverse-hover)}:host([kind=inverse]) button:active,:host([kind=inverse]) a:active{--calcite-internal-button-background-color: var(--calcite-color-inverse-press)}:host([appearance=outline-fill]) button,:host([appearance=outline-fill]) a{--calcite-internal-button-background-color: var(--calcite-color-foreground-1);border-style:solid;border-width:var(--calcite-button-border-size, 1px)}:host([appearance=outline-fill]) button:hover,:host([appearance=outline-fill]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-foreground-2)}:host([appearance=outline-fill]) button:active,:host([appearance=outline-fill]) a:active{--calcite-internal-button-background-color: var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=brand]) button,:host([appearance=outline-fill][kind=brand]) a{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:hover,:host([appearance=outline-fill][kind=brand]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-brand-hover);--calcite-internal-button-text-color: var(--calcite-color-brand-hover);--calcite-internal-button-shadow-color: var(--calcite-color-brand-hover)}:host([appearance=outline-fill][kind=brand]) button:focus,:host([appearance=outline-fill][kind=brand]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-shadow-color: var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:active,:host([appearance=outline-fill][kind=brand]) a:active{--calcite-internal-button-border-color: var(--calcite-color-brand-press);--calcite-internal-button-text-color: var(--calcite-color-brand-press);--calcite-internal-button-shadow-color: var(--calcite-color-brand-press)}:host([appearance=outline-fill][kind=brand]) button calcite-loader,:host([appearance=outline-fill][kind=brand]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline-fill][kind=danger]) button,:host([appearance=outline-fill][kind=danger]) a{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:hover,:host([appearance=outline-fill][kind=danger]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-text-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger-hover)}:host([appearance=outline-fill][kind=danger]) button:focus,:host([appearance=outline-fill][kind=danger]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:active,:host([appearance=outline-fill][kind=danger]) a:active{--calcite-internal-button-border-color: var(--calcite-color-status-danger-press);--calcite-internal-button-text-color: var(--calcite-color-status-danger-press);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger-press)}:host([appearance=outline-fill][kind=danger]) button calcite-loader,:host([appearance=outline-fill][kind=danger]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=neutral]) button,:host([appearance=outline-fill][kind=neutral]) a{--calcite-internal-button-border-color: var(--calcite-color-border-1);--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline-fill][kind=neutral]) button:hover,:host([appearance=outline-fill][kind=neutral]) a:hover{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3);--calcite-internal-button-border-color: var(--calcite-color-border-input)}:host([appearance=outline-fill][kind=neutral]) button:focus,:host([appearance=outline-fill][kind=neutral]) a:focus{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:active,:host([appearance=outline-fill][kind=neutral]) a:active{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3);--calcite-internal-button-border-color: var(--calcite-color-text-3)}:host([appearance=solid][kind=neutral]) button:hover,:host([appearance=solid][kind=neutral]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-border-3)}:host([appearance=solid][kind=neutral]) button:active,:host([appearance=solid][kind=neutral]) a:active{--calcite-internal-button-background-color: var(--calcite-color-border-2)}:host([appearance=outline-fill][kind=inverse]) button,:host([appearance=outline-fill][kind=inverse]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline-fill][kind=inverse]) button:hover,:host([appearance=outline-fill][kind=inverse]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-inverse-hover);--calcite-internal-button-shadow-color: var(--calcite-color-inverse-hover)}:host([appearance=outline-fill][kind=inverse]) button:focus,:host([appearance=outline-fill][kind=inverse]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-shadow-color: var(--calcite-color-inverse)}:host([appearance=outline-fill][kind=inverse]) button:active,:host([appearance=outline-fill][kind=inverse]) a:active{--calcite-internal-button-border-color: var(--calcite-color-inverse-press);--calcite-internal-button-shadow-color: var(--calcite-color-inverse-press)}:host([appearance=outline]) button,:host([appearance=outline]) a{--calcite-internal-button-background-color: var(--calcite-color-transparent);border-style:solid;border-width:var(--calcite-button-border-size, 1px)}:host([appearance=outline]) button:hover,:host([appearance=outline]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-transparent-hover)}:host([appearance=outline]) button:active,:host([appearance=outline]) a:active{--calcite-internal-button-background-color: var(--calcite-color-transparent-press)}:host([appearance=outline][kind=brand]) button,:host([appearance=outline][kind=brand]) a{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:hover,:host([appearance=outline][kind=brand]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-brand-hover);--calcite-internal-button-text-color: var(--calcite-color-brand-hover);--calcite-internal-button-shadow-color: var(--calcite-color-brand-hover)}:host([appearance=outline][kind=brand]) button:focus,:host([appearance=outline][kind=brand]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-shadow-color: var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:active,:host([appearance=outline][kind=brand]) a:active{--calcite-internal-button-border-color: var(--calcite-color-brand-press);--calcite-internal-button-text-color: var(--calcite-color-brand-press);--calcite-internal-button-shadow-color: var(--calcite-color-brand-press)}:host([appearance=outline][kind=brand]) button calcite-loader,:host([appearance=outline][kind=brand]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline][kind=danger]) button,:host([appearance=outline][kind=danger]) a{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:hover,:host([appearance=outline][kind=danger]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-text-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger-hover)}:host([appearance=outline][kind=danger]) button:focus,:host([appearance=outline][kind=danger]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:active,:host([appearance=outline][kind=danger]) a:active{--calcite-internal-button-border-color: var(--calcite-color-status-danger-press);--calcite-internal-button-text-color: var(--calcite-color-status-danger-press);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger-press)}:host([appearance=outline][kind=danger]) button calcite-loader,:host([appearance=outline][kind=danger]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline][kind=neutral]) button,:host([appearance=outline][kind=neutral]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-border-color: var(--calcite-color-border-1);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline][kind=neutral]) button:hover,:host([appearance=outline][kind=neutral]) a:hover{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3);--calcite-internal-button-border-color: var(--calcite-color-border-input)}:host([appearance=outline][kind=neutral]) button:focus,:host([appearance=outline][kind=neutral]) a:focus{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3)}:host([appearance=outline][kind=neutral]) button:active,:host([appearance=outline][kind=neutral]) a:active{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3);--calcite-internal-button-border-color: var(--calcite-color-text-3)}:host([appearance=outline][kind=inverse]) button,:host([appearance=outline][kind=inverse]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline][kind=inverse]) button:hover,:host([appearance=outline][kind=inverse]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-inverse-hover);--calcite-internal-button-shadow-color: var(--calcite-color-inverse-hover)}:host([appearance=outline][kind=inverse]) button:focus,:host([appearance=outline][kind=inverse]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-shadow-color: var(--calcite-color-inverse)}:host([appearance=outline][kind=inverse]) button:active,:host([appearance=outline][kind=inverse]) a:active{--calcite-internal-button-border-color: var(--calcite-color-inverse-press);--calcite-internal-button-shadow-color: var(--calcite-color-inverse-press)}:host([appearance=outline-fill][split-child=primary]) button,:host([appearance=outline][split-child=primary]) button,:host([appearance=outline-fill][split-child=primary]) a,:host([appearance=outline][split-child=primary]) a{border-inline-end-width:0;border-inline-start-width:1px}:host([appearance=outline-fill][split-child=secondary]) button,:host([appearance=outline][split-child=secondary]) button,:host([appearance=outline-fill][split-child=secondary]) a,:host([appearance=outline][split-child=secondary]) a{border-inline-start-width:0;border-inline-end-width:1px}:host([appearance=transparent]) button,:host([appearance=transparent]) a{--calcite-internal-button-background-color: var(--calcite-color-transparent)}:host([appearance=transparent]) button:hover,:host([appearance=transparent]) button:focus,:host([appearance=transparent]) a:hover,:host([appearance=transparent]) a:focus{--calcite-internal-button-background-color: var(--calcite-color-transparent-hover)}:host([appearance=transparent]) button:active,:host([appearance=transparent]) a:active{--calcite-internal-button-background-color: var(--calcite-color-transparent-press)}:host([appearance=transparent]:not(.enable-editing-button)) button,:host([appearance=transparent]:not(.enable-editing-button)) a{background-color:var(--calcite-color-transparent)}:host([appearance=transparent]:not(.enable-editing-button)) button:hover,:host([appearance=transparent]:not(.enable-editing-button)) a:hover{background-color:var(--calcite-color-transparent-hover)}:host([appearance=transparent]:not(.enable-editing-button)) button:active,:host([appearance=transparent]:not(.enable-editing-button)) a:active{background-color:var(--calcite-color-transparent-press)}:host([appearance=transparent][kind=brand]) button,:host([appearance=transparent][kind=brand]) a{--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:hover,:host([appearance=transparent][kind=brand]) a:hover{--calcite-internal-button-text-color: var(--calcite-color-brand-hover)}:host([appearance=transparent][kind=brand]) button:focus,:host([appearance=transparent][kind=brand]) a:focus{--calcite-internal-button-text-color: var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:active,:host([appearance=transparent][kind=brand]) a:active{--calcite-internal-button-text-color: var(--calcite-color-brand-press)}:host([appearance=transparent][kind=brand]) button calcite-loader,:host([appearance=transparent][kind=brand]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=transparent][kind=danger]) button,:host([appearance=transparent][kind=danger]) a{--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:hover,:host([appearance=transparent][kind=danger]) a:hover{--calcite-internal-button-text-color: var(--calcite-color-status-danger-hover)}:host([appearance=transparent][kind=danger]) button:focus,:host([appearance=transparent][kind=danger]) a:focus{--calcite-internal-button-text-color: var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:active,:host([appearance=transparent][kind=danger]) a:active{--calcite-internal-button-text-color: var(--calcite-color-status-danger-press)}:host([appearance=transparent][kind=danger]) button calcite-loader,:host([appearance=transparent][kind=danger]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) button,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) a,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) calcite-loader{--calcite-internal-button-text-color: var(--calcite-color-text-1)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button{--calcite-internal-button-text-color: var(--calcite-color-text-3)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:hover{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-padding-y: 0}:host(.confirm-changes-button) button:focus,:host(.cancel-editing-button) button:focus,:host(.enable-editing-button) button:focus{outline-offset:-2px}:host([appearance=transparent][kind=inverse]) button:hover,:host([appearance=transparent][kind=inverse]) a:hover{background-color:var(--calcite-color-transparent-inverse-hover)}:host([appearance=transparent][kind=inverse]) button:active,:host([appearance=transparent][kind=inverse]) a:active{background-color:var(--calcite-color-transparent-inverse-press)}:host([appearance=transparent][kind=inverse]) button calcite-loader,:host([appearance=transparent][kind=inverse]) a calcite-loader{--calcite-internal-button-text-color: var(--calcite-color-text-inverse)}:host([scale=s]) button.content--slotted,:host([scale=s]) a.content--slotted{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s][appearance=transparent]) button.content--slotted,:host([scale=s][appearance=transparent]) a.content--slotted{--calcite-internal-button-padding-x: .5rem}:host([scale=s]) button,:host([scale=s]) a{--calcite-internal-button-padding-y: 3px}:host([scale=m]) button.content--slotted,:host([scale=m]) a.content--slotted{--calcite-internal-button-padding-x: 11px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) button,:host([scale=m]) a{--calcite-internal-button-padding-y: 7px}:host([scale=m][appearance=transparent]) button.content--slotted,:host([scale=m][appearance=transparent]) a.content--slotted{--calcite-internal-button-padding-x: .75rem}:host([scale=l]) button.content--slotted,:host([scale=l]) a.content--slotted{--calcite-internal-button-padding-x: 15px;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .button-padding{--calcite-internal-button-padding-x: 1rem;--calcite-internal-button-padding-y: 11px}:host([scale=l]) .button-padding--shrunk{--calcite-internal-button-padding-y: 9px}:host([scale=s]) button:not(.content--slotted),:host([scale=s]) a:not(.content--slotted){--calcite-internal-button-padding-x: .125rem;--calcite-internal-button-padding-y: 3px;inline-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:1.5rem}:host([scale=m]) button:not(.content--slotted),:host([scale=m]) a:not(.content--slotted){--calcite-internal-button-padding-x: .125rem;--calcite-internal-button-padding-y: 7px;inline-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2rem}:host([scale=l]) button:not(.content--slotted),:host([scale=l]) a:not(.content--slotted){--calcite-internal-button-padding-x: .125rem;--calcite-internal-button-padding-y: 9px;inline-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2.75rem}:host(:is([scale=s],[scale=m],[scale=l])[width=full]) a:not(.content--slotted),:host(:is([scale=s],[scale=m],[scale=l])[width=full]) button:not(.content--slotted){inline-size:var(--calcite-container-size-content-fluid)}:host([scale=l][appearance=transparent]) button:not(.content--slotted),:host([scale=l][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-y: .625rem}:host([scale=s][icon-start][icon-end]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end]) a:not(.content--slotted){--calcite-internal-button-padding-x: 23px;block-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=s][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-x: 1.5rem}:host([scale=m][icon-start][icon-end]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end]) a:not(.content--slotted){--calcite-internal-button-padding-x: 2rem;block-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-x: 33px}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end]) a:not(.content--slotted){--calcite-internal-button-padding-x: 43px;block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted) .icon--start+.icon--end,:host([scale=l][icon-start][icon-end]) a:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:1rem}:host([scale=l][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-x: 2.75rem}:host([hidden]){display:none}[hidden]{display:none}`;class k extends a.WF{constructor(){super(...arguments),this.attributeWatch=(0,l.oW)(["aria-expanded"],this.handleGlobalAttributesChanged),this.contentEl=(0,o._)(),this.mutationObserver=(0,p.c)("mutation",(()=>this.updateHasContent())),this.resizeObserver=(0,p.c)("resize",(()=>this.setTooltipText())),this.messages=(0,f.u)(),this.hasContent=!1,this.alignment="center",this.appearance="solid",this.disabled=!1,this.download=!1,this.kind="brand",this.loading=!1,this.round=!1,this.scale="m",this.splitChild=!1,this.type="button",this.width="auto"}static{this.properties={hasContent:[16,{},{state:!0}],tooltipText:[16,{},{state:!0}],alignment:[3,{},{reflect:!0}],appearance:[3,{},{reflect:!0}],disabled:[7,{},{reflect:!0,type:Boolean}],download:[3,{converter:a.pf},{reflect:!0}],form:[3,{},{reflect:!0}],href:[3,{},{reflect:!0}],iconEnd:[3,{},{reflect:!0}],iconFlipRtl:[3,{},{reflect:!0}],iconStart:[3,{},{reflect:!0}],kind:[3,{},{reflect:!0}],label:1,loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],name:[3,{},{reflect:!0}],rel:[3,{},{reflect:!0}],round:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],splitChild:[3,{},{reflect:!0}],target:[3,{},{reflect:!0}],type:[3,{},{reflect:!0}],width:[3,{},{reflect:!0}]}}static{this.styles=E}async setFocus(){await(0,h.c)(this),this.childEl?.focus()}connectedCallback(){super.connectedCallback(),this.setupTextContentObserver(),(0,d.c)(this),this.formEl=(0,c.f)(this)}async load(){i.S$||this.updateHasContent()}updated(){(0,u.u)(this)}loaded(){this.setTooltipText()}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),(0,d.d)(this),this.resizeObserver?.disconnect(),this.formEl=null}handleGlobalAttributesChanged(){this.requestUpdate()}updateHasContent(){this.hasContent=(0,m.D)(this.el)}setupTextContentObserver(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}onLabelClick(){this.handleClick(),this.setFocus()}handleClick(){const{type:e}=this;this.href||("submit"===e?(0,c.s)(this):"reset"===e&&(0,c.r)(this))}setTooltipText(){const{contentEl:{value:e}}=this;e&&(this.tooltipText=e.offsetWidth<e.scrollWidth&&this.el.innerText||null)}setChildEl(e){this.childEl=e,e&&this.resizeObserver?.observe(e)}render(){const e=this.href?"a":"button",t=this.href?s.eu`a`:s.eu`button`,n=this.loading?i.qy`<div class=${(0,a.CP)(g)}><calcite-loader class=${(0,a.CP)(this.loading?x:M)} inline .label=${this.messages.loading} .scale=${"l"===this.scale?"m":"s"}></calcite-loader></div>`:null,r=!this.iconStart&&!this.iconEnd,l=i.qy`<calcite-icon class=${(0,a.CP)({[w]:!0,[_]:!0})} .flipRtl=${"start"===this.iconFlipRtl||"both"===this.iconFlipRtl} .icon=${this.iconStart} .scale=${(0,h.g)(this.scale)}></calcite-icon>`,c=i.qy`<calcite-icon class=${(0,a.CP)({[w]:!0,[S]:!0})} .flipRtl=${"end"===this.iconFlipRtl||"both"===this.iconFlipRtl} .icon=${this.iconEnd} .scale=${(0,h.g)(this.scale)}></calcite-icon>`,p=i.qy`<span class=${(0,a.CP)(v)} ${(0,o.K)(this.contentEl)}><slot></slot></span>`;return(0,u.I)({disabled:this.disabled,children:s.qy`<${t} .ariaBusy=${this.loading} .ariaExpanded=${this.el.ariaExpanded?this.el.ariaExpanded:null} .ariaLabel=${this.loading?this.messages.loading:(0,d.g)(this)} aria-live=polite class=${(0,a.CP)({[I]:r,[C]:!r,[b]:this.hasContent,[A]:!this.iconStart,[T]:!this.iconEnd})} .disabled=${"button"===e?this.disabled:null} download=${("a"===e?!0===this.download||""===this.download?"":this.download||null:null)??i.s6} href=${("a"===e&&this.href)??i.s6} name=${("button"===e&&this.name)??i.s6} @click=${this.handleClick} rel=${("a"===e&&this.rel)??i.s6} tabindex=${(this.disabled?-1:null)??i.s6} target=${("a"===e&&this.target)??i.s6} title=${this.tooltipText??i.s6} type=${("button"===e?this.type:null)??i.s6} ${(0,o.K)(this.setChildEl)}>${n}${this.iconStart?l:null}${this.hasContent?p:null}${this.iconEnd?c:null}</${t}>`})}}(0,r.c)("calcite-button",k)},38031:function(e,t,n){"use strict";n.d(t,{b:function(){return h},d:function(){return l}});var r=n(70214),i=n(59734);const o=[],s={},a=new WeakMap;function l(e,t){let n=t.children;if(n?.length)for(let t=0;t<n.length;++t)n[t]=l(e,n[t]);else n=o;const r=t.vnodeSelector;if(h(r)){const i=t.properties||s,o=i.key||r,a={key:o,afterCreate:c,afterUpdate:u,afterRemoved:d,parentWidget:e,widgetConstructor:r,widgetProperties:{...i,key:o,children:n}};return{vnodeSelector:r.vnodeSelector,properties:a,children:void 0,text:void 0,domNode:null}}return t}function c(e,t,n,{parentWidget:o,widgetConstructor:s,widgetProperties:l}){const c=new s(l);c.container=e,a.set(e,c),c.afterCreate?.(c,e),o.addHandles((0,r.hA)((()=>d(e)))),queueMicrotask((()=>{c[i.D].projector.renderNow()}))}function u(e,t,n,{widgetProperties:r}){const i=a.get(e);i&&(i.set(r),i.afterUpdate?.(i,e))}function d(e){const t=a.get(e);t&&(t.afterRemoved?.(t,e),t.destroy(),a.delete(e))}function h(e){return"function"==typeof e&&e[i.x]}},38116:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var r=n(32083),i=n(6480),o=n(62991),s=n(6273),a=n(15565),l=n(80294),c=n(37623),u=n(19759),d=n(63457),h=n(9856),p=n(44945),f=n(25207);async function m(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=(0,u.zf)(t.query.toString().replaceAll("+"," ")));const r=(0,u.DB)(e),i=(0,u.w8)(e);i||r||(e=(0,u.S8)(e));const o={url:e,requestOptions:{...t}},a=e=>({data:e,getAllHeaders:x,getHeader:x,httpStatus:200,requestOptions:o.requestOptions,url:o.url}),h=(0,u.sC)(e,v.internalInterceptors);if(h){const e=await k(h,o);if(null!=e)return a(e)}let p=(0,u.sC)(e);if(p){const e=await k(p,o);if(null!=e)return a(e);p.after||p.error||(p=null)}if(e=o.url,"image"===(t=o.requestOptions).responseType&&((0,s.A)("host-webworker")||(0,s.A)("host-node")))throw T("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),o);if("head"===t.method){if(t.body)throw T("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),o);if(r||i)throw T("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),o)}if(await async function(){(0,s.A)("host-webworker")&&(!y&&globalThis.invokeStaticMessage?y=await n.e(4004).then(n.bind(n,34004)):g=!0)}(),y)return y.execute(e,t);const f=new AbortController,m=(0,c.u7)(t,(()=>f.abort())),b={controller:f,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:p,params:o,redoRequest:!1,useIdentity:v.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},w=t.useRequestQueue?async function(e){const t=function(e){let t,n;return"string"==typeof e?(t=(0,u.$z)(e,!0),n=(0,d.Wo)(e)):(t=e.origin,n=(0,d.Wo)(e.toString())),null==t?null:{origin:t,isHosted:n}}(e.params.url);if(!t)return O(e);const{QueueProcessor:r}=await n.e(3480).then(n.bind(n,13480)),i=(0,l.tE)(R,t.origin,(()=>{const e=t.isHosted?(0,s.A)("request-queue-concurrency-hosted"):(0,s.A)("request-queue-concurrency-non-hosted");return new r({concurrency:e,process:e=>{if((0,c.G4)(e.params.requestOptions))throw T("",(0,c.NK)("Request canceled"),e.params);return O(e)}})}));return i.push(e)}(b):O(b),_=await w.finally((()=>m?.remove()));return p?.after?.(_),_}let y,g=!1;const v=r.A.request,b="FormData"in globalThis,w=new Set([499,498,403,401]),_=new Set(["COM_0056","COM_0057","SB_0008"]),S=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],x=()=>null,M=Symbol();function A(e){const t=(0,u.$z)(e);return!t||t.endsWith(".arcgis.com")||m._corsServers.includes(t)||(0,u.FL)(t)}function T(e,t,n,r){let i;const s={url:n.url,requestOptions:n.requestOptions,getAllHeaders:x,getHeader:x,ssl:!1};if(t instanceof o.A)return t.details?(t.details=(0,a.o8)(t.details),t.details.url=n.url,t.details.requestOptions=n.requestOptions):t.details=s,t;if(t){const e=r&&(()=>Array.from(r.headers)),n=r&&(e=>r.headers.get(e)),o=r?.status,a=t.message;a&&(i=a),e&&n&&(s.getAllHeaders=e,s.getHeader=n),s.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||o||0,s.subCode=t.subcode,s.messageCode=t.messageCode,"string"==typeof t.details?(s.messages=[t.details],i??=t.details):(s.messages=t.details,i??=s.messages?.[0]),s.raw=M in t?t[M]:t}return i??="Error",(0,c.zf)(t)?(0,c.NK)():new o.A(e,i,s)}async function I(){i.id||await Promise.resolve().then(n.bind(n,83510))}function C(e){return S.some((t=>t.test(e)))}async function E(e){let t=e.params.url,n=(0,f.$x)(t);const r=e.params.requestOptions,o=e.fetchOptions??{},a=(0,u.w8)(t)||(0,u.DB)(t),l=r.responseType||"json",d=a?0:null!=r.timeout?r.timeout:v.timeout;let p=!1;if(!a){e.useSSL&&(t=(0,u.lM)(t));let a={...r.query};e.credentialToken&&(a.token=e.credentialToken);let l=(0,u.x0)(a);(0,s.A)("esri-url-encodes-apostrophe")&&(l=l.replaceAll("'","%27"));const c=n.length+1+l.length;let d;p="delete"===r.method||"post"===r.method||"put"===r.method||!!r.body||c>v.maxUrlLength;const m=r.useProxy||!!(0,u.zs)(t);if(m){const e=(0,u.s_)(t);d=e.path,!p&&d.length+1+c>v.maxUrlLength&&(p=!0),e.query&&(a={...e.query,...a})}if("HEAD"===o.method&&(p||m)){if(p){if(c>v.maxUrlLength)throw T("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw T("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(m)throw T("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(p?(o.method="delete"===r.method?"DELETE":"put"===r.method?"PUT":"POST",r.body?t=(0,u.a6)(t,a):(o.body=(0,u.x0)(a),o.headers||(o.headers={}),o.headers["Content-Type"]="application/x-www-form-urlencoded")):t=(0,u.a6)(t,a),m&&(e.useProxy=!0,t=`${d}?${t}`),a.token&&b&&o.body instanceof FormData&&!(0,h.$E)(t)&&o.body.set("token",a.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!(0,u.FX)(t,(0,u.Xq)()))if((0,u.FL)(t))e.withCredentials=!0;else if(i.id){const n=i.id.findServerInfo(t);n?.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(o.credentials="include",(0,f.xW)(t)&&await(0,f.m3)(p?(0,u.a6)(t,a):t)),n=(0,f.$x)(t)}let y,g,w=0,_=!1;d>0&&(w=setTimeout((()=>{_=!0,e.controller.abort()}),d));try{if("native-request-init"===r.responseType)g=o,g.url=n,r.signal?g.signal=r.signal:delete g.signal;else if("image"!==r.responseType||"default"!==o.cache||"GET"!==o.method||p||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(r.headers)||!a&&!e.useProxy&&v.proxyUrl&&!A(t)){if(m._beforeFetch&&await m._beforeFetch(t,o),y=await fetch(n,o),m._afterFetch&&await m._afterFetch(y),e.useProxy||function(e){const t=(0,u.$z)(e);t&&!m._corsServers.includes(t)&&m._corsServers.push(t)}(t),"native"===r.responseType)g=y;else if("HEAD"!==o.method)if(y.ok){switch(l){case"array-buffer":g=await y.arrayBuffer();break;case"blob":case"image":g=await y.blob();break;default:g=await y.text()}if(w&&(clearTimeout(w),w=0),"json"===l||"xml"===l||"document"===l)if(g)switch(l){case"json":g=JSON.parse(g);break;case"xml":g=P(g,"application/xml");break;case"document":g=P(g,"text/html")}else g=null;if(g){if("array-buffer"===l||"blob"===l){const e=y.headers.get("Content-Type");if(e&&/application\/json|text\/plain/i.test(e)&&g["blob"===l?"size":"byteLength"]<=750)try{const e=await new Response(g).json();e.error&&(g=e)}catch{}}"image"===l&&g instanceof Blob&&(g=await L(URL.createObjectURL(g),e,!0))}}else{g=await y.text();try{g=JSON.parse(g)}catch{}}}else g=await L(n,e)}catch(n){if("AbortError"===n.name){if(_)throw(0,f.ql)();throw(0,c.NK)("Request canceled")}if(!(!y&&n instanceof TypeError&&v.proxyUrl)||r.body||"delete"===r.method||"head"===r.method||"post"===r.method||"put"===r.method||e.useProxy||A(t))throw n;e.redoRequest=!0,(0,u.oy)({proxyUrl:v.proxyUrl,urlPrefix:(0,u.$z)(t)??""})}finally{w&&clearTimeout(w)}return[y,g]}async function k(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let n,r;try{r=await e.before(t)}catch(e){n=T("request:interceptor",e,t)}if((r instanceof Error||r instanceof o.A)&&(n=T("request:interceptor",r,t)),n)throw e.error&&e.error(n),n;return r}}function P(e,t){let n;try{n=(new DOMParser).parseFromString(e,t)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}m._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],m._beforeFetch=void 0,m._afterFetch=void 0;const R=new Map;async function O(e){let t,n;await async function(e){const t=e.params.url,n=e.params.requestOptions,r=e.controller.signal,o=n.body;let s=null,a=null;if(b&&"HTMLFormElement"in globalThis&&(o instanceof FormData?s=o:o instanceof HTMLFormElement&&(s=new FormData(o))),"string"==typeof o&&(a=o),e.fetchOptions={cache:n.cacheBust?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:"head"===n.method?"HEAD":"GET",mode:"cors",priority:v.priority,redirect:"follow",signal:r},(s||a)&&(e.fetchOptions.body=s||a),(g||"anonymous"===n.authMode)&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||n.query?.token||s?.get("token")),!e.hasToken){const r=(0,p.CG)(t);r&&(n.query??={},n.query.token=r,e.hasToken=!0)}if(e.useIdentity&&!e.hasToken&&!e.credential&&!e.credentialToken&&!C(t)&&!(0,c.G4)(r)){let o;"immediate"===n.authMode?(await I(),o=await i.id.getCredential(t,{signal:r})):"no-prompt"===n.authMode?(await I(),o=await i.id.getCredential(t,{prompt:!1,signal:r}).catch((()=>{}))):i.id&&(o=i.id.findCredential(t)),o&&(e.credential=o,e.credentialToken=o.token,e.useSSL=!!o.ssl)}}(e);try{do{[t,n]=await E(e)}while(!await N(e,t,n))}catch(n){const r=T("request:server",n,e.params,t);throw r.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(r),r}const r=e.params.url;if(n)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&n.user?.username&&!(0,u.FL)(r)){const e=(0,u.$z)(r,!0);e&&v.trustedServers.push(e)}Array.isArray(n.authorizedCrossOriginNoCorsDomains)&&(0,f.tz)(n.authorizedCrossOriginNoCorsDomains)}else"json"===(e.params.requestOptions.responseType||"json")&&(0,f.gS)(r,n);const o=e.credential;if(o&&i.id){const e=i.id.findServerInfo(o.server);let t=e?.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=i.id.findCredential(t,o.userId);e&&-1===i.id._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:n,getAllHeaders:t?()=>Array.from(t.headers):x,getHeader:t?e=>t.headers.get(e):x,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function N(e,t,n){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||"native"===r.responseType||"native-request-init"===r.responseType)return!0;let o,s;if(n&&(n.error&&"object"==typeof n.error?o=n.error:"error"===n.status&&Array.isArray(n.messages)&&(o={...n},o[M]=n,o.details=n.messages)),!o&&!t.ok)throw o=new Error(`Unable to load ${t.url} status: ${t.status}`),o[M]=n,o;let a,l=null;o&&(s=Number(o.code),l=o.hasOwnProperty("subcode")?Number(o.subcode):null,a=o.messageCode,a=a?.toUpperCase());const c=r.authMode;if(403===s&&(4===l||o.message?.toLowerCase().includes("ssl")&&!o.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==c||498===s)&&void 0!==s&&w.has(s)&&!C(e.params.url)&&(403!==s||(!a||!_.has(a))&&(null==l||2===l&&e.credentialToken))){await I();try{const t=await i.id.getCredential(e.params.url,{error:T("request:server",o,e.params),credential:e.credential,prompt:"no-prompt"!==c,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===c)return e.credential=void 0,e.credentialToken=void 0,!1;o=t}}if(o)throw o;return!0}function L(e,t,n=!1){const r=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=v.priority,i.src=e,(0,f.Sx)(i,e,n,r)}},38268:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});var r=n(32083);const i=()=>r.A.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches},38648:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var r,i=n(82392),o=n(15565),s=n(81482),a=(n(6273),n(80861),n(26325)),l=n(48524),c=n(8e3),u=n(61064),d=n(1912),h=n(44153),p=n(34475),f=n(45852);let m=r=class extends u.A{constructor(e){super(function(e){if(!e)return;let{paths:t,hasM:n,hasZ:r,spatialReference:i}=e;switch(t??=[],function(e){return"number"==typeof e[0]?.[0]}(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,n??=!0;break;case 3:r??=!0!==n,n??=!r;break;default:r??=!1,n??=!1}return i??=h.A.WGS84,{...e,hasM:n,hasZ:r,paths:t,spatialReference:i}}(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=(0,o.o8)(e)}get extent(){const e=(0,p.Z3)(this),{spatialReference:t}=this;return e?new c.A({...e,spatialReference:t}):null}writePaths(e,t){t.paths=(0,o.o8)(this.paths)}addPath(e){if(!e)return;const t=this.paths,n=t.length;if(function(e){return!Array.isArray(e[0])}(e)){const r=[];for(let t=0,n=e.length;t<n;t++)r[t]=e[t].toArray();t[n]=r}else t[n]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new r;return e.spatialReference=this.spatialReference,e.paths=(0,o.o8)(this.paths),e.curvePaths=(0,o.o8)(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const n=this.paths[e][t],r=this.hasZ,i=this.hasM;return r&&!i?new d.A(n[0],n[1],n[2],void 0,this.spatialReference):i&&!r?new d.A(n[0],n[1],void 0,n[2],this.spatialReference):r&&i?new d.A(n[0],n[1],n[2],n[3],this.spatialReference):new d.A(n[0],n[1],this.spatialReference)}insertPoint(e,t,n){return this._validateInputs(e,t,!0)?((0,f.h)(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e].splice(t,0,n),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],n=this.spatialReference,r=t.map((e=>new d.A(e,n)));return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;const n=new d.A(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),n}setPoint(e,t,n){return this._validateInputs(e,t)?((0,f.h)(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e][t]=n,this.notifyChange("paths"),this):this}_validateInputs(e,t,n=!1){if(null==e||e<0||e>=this.paths.length)return!1;if(null!=t){const r=this.paths[e];if(n&&(t<0||t>r.length))return!1;if(!n&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};(0,i._)([(0,s.MZ)({readOnly:!0})],m.prototype,"cache",null),(0,i._)([(0,s.MZ)({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],m.prototype,"curvePaths",void 0),(0,i._)([(0,l.K)("curvePaths")],m.prototype,"writeCurvePaths",null),(0,i._)([(0,s.MZ)({readOnly:!0})],m.prototype,"extent",null),(0,i._)([(0,s.MZ)({type:[[[Number]]],json:{write:{isRequired:!0}}})],m.prototype,"paths",void 0),(0,i._)([(0,l.K)("paths")],m.prototype,"writePaths",null),m=r=(0,i._)([(0,a.$)("esri.geometry.Polyline")],m),m.prototype.toJSON.isDefaultToJSON=!0},38760:function(e,t,n){"use strict";n.d(t,{A:function(){return R}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(26325)),s=n(72396),a=n(77380),l=n(25376),c=n(48524),u=n(14755),d=n(84977);let h=class extends(u.A.ClonableMixin(d.A)){constructor(e){super(e),this.type=null}};(0,r._)([(0,i.MZ)()],h.prototype,"type",void 0),h=(0,r._)([(0,o.$)("esri.form.elements.inputs.attachments.Input")],h);const p=h;var f=n(8636);const m=["any","capture","upload"];let y=class extends p{constructor(e){super(e),this.type="audio",this.inputMethod="any",this.maxDuration=null}};(0,r._)([(0,i.MZ)({type:["audio"],readOnly:!0,json:{write:!0}})],y.prototype,"type",void 0),(0,r._)([(0,i.MZ)({type:m,json:{write:!0}})],y.prototype,"inputMethod",void 0),(0,r._)([(0,i.MZ)({type:Number,json:{write:!0}})],y.prototype,"maxDuration",void 0),y=(0,r._)([(0,o.$)("esri.form.elements.inputs.attachments.AudioInput")],y);const g=y;let v=class extends p{constructor(e){super(e),this.type="document",this.maxFileSize=null}};(0,r._)([(0,i.MZ)({type:["document"],readOnly:!0,json:{write:!0}})],v.prototype,"type",void 0),(0,r._)([(0,i.MZ)({type:Number,json:{write:!0}})],v.prototype,"maxFileSize",void 0),v=(0,r._)([(0,o.$)("esri.form.elements.inputs.attachments.DocumentInput")],v);const b=v;let w=class extends p{constructor(e){super(e),this.type="image",this.inputMethod="any",this.maxImageSize=null}};(0,r._)([(0,i.MZ)({type:["image"],readOnly:!0,json:{write:!0}})],w.prototype,"type",void 0),(0,r._)([(0,i.MZ)({type:m,json:{write:!0}})],w.prototype,"inputMethod",void 0),(0,r._)([(0,i.MZ)({type:Number,json:{write:!0}})],w.prototype,"maxImageSize",void 0),w=(0,r._)([(0,o.$)("esri.form.elements.inputs.attachments.ImageInput")],w);const _=w;let S=class extends p{constructor(e){super(e),this.type="signature",this.inputMethod="any"}};(0,r._)([(0,i.MZ)({type:["signature"],readOnly:!0,json:{write:!0}})],S.prototype,"type",void 0),(0,r._)([(0,i.MZ)({type:m,json:{write:!0}})],S.prototype,"inputMethod",void 0),S=(0,r._)([(0,o.$)("esri.form.elements.inputs.attachments.SignatureInput")],S);const x=S;let M=class extends p{constructor(e){super(e),this.type="video",this.inputMethod="any",this.maxDuration=null}};(0,r._)([(0,i.MZ)({type:["video"],readOnly:!0,json:{write:!0}})],M.prototype,"type",void 0),(0,r._)([(0,i.MZ)({type:m,json:{write:!0}})],M.prototype,"inputMethod",void 0),(0,r._)([(0,i.MZ)({type:Number,json:{write:!0}})],M.prototype,"maxDuration",void 0),M=(0,r._)([(0,o.$)("esri.form.elements.inputs.attachments.VideoInput")],M);const A=M;function T(e){return{nestableTypes:{base:p,key:"type",typeMap:{audio:g,document:b,image:_,signature:x,video:A}},allTypes:{base:p,key:"type",typeMap:{attachment:e,audio:g,document:b,image:_,signature:x,video:A}}}}let I=class extends p{constructor(e){super(e),this.type="attachment",this.attachmentAssociationType="exact",this.inputTypes=null}castInputs(e){return function(e,t,n){return e?e.map((e=>(0,f.aq)(n?t.nestableTypes:t.allTypes,e))):null}(e,C,!0)}readInputs(e,t){return function(e,t,n){if(!e)return null;const r=n?t.nestableTypes.typeMap:t.allTypes.typeMap;return e.filter((e=>r[e.type])).map((e=>r[e.type].fromJSON(e)))}(t.inputTypes,C,!0)}writeInputs(e,t){t.inputTypes=function(e,t,n){if(!e)return null;const r=n?t.nestableTypes.typeMap:t.allTypes.typeMap;return e.filter((e=>r[e.type])).map((e=>e.toJSON()))}(e,C,!0)}};(0,r._)([(0,i.MZ)({type:["attachment"],readOnly:!0,json:{write:!0}})],I.prototype,"type",void 0),(0,r._)([(0,i.MZ)({type:["any","exact","exactOrNone"],json:{write:!0}})],I.prototype,"attachmentAssociationType",void 0),(0,r._)([(0,i.MZ)({json:{write:{isRequired:!0}}})],I.prototype,"inputTypes",void 0),(0,r._)([(0,a.w)("inputTypes")],I.prototype,"castInputs",null),(0,r._)([(0,l.w)("inputTypes")],I.prototype,"readInputs",null),(0,r._)([(0,c.K)("inputTypes")],I.prototype,"writeInputs",null),I=(0,r._)([(0,o.$)("esri.form.elements.inputs.attachments.AttachmentInput")],I);const C=T(I);var E;const k=T(I);let P=E=class extends s.A{constructor(e){super(e),this.allowUserRename=!0,this.attachmentKeyword=null,this.displayFilename=!1,this.editableExpression=null,this.filenameExpression="{attachmentKeyword}_{now}",this.input=null,this.maxAttachmentCount=null,this.minAttachmentCount=null,this.type="attachment",this.useOriginalFilename=!0}clone(){return new E({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:this.input?.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],P.prototype,"allowUserRename",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:{isRequired:!0}}})],P.prototype,"attachmentKeyword",void 0),(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],P.prototype,"displayFilename",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],P.prototype,"editableExpression",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],P.prototype,"filenameExpression",void 0),(0,r._)([(0,i.MZ)({types:k.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],P.prototype,"input",void 0),(0,r._)([(0,i.MZ)({type:Number,json:{write:!0}})],P.prototype,"maxAttachmentCount",void 0),(0,r._)([(0,i.MZ)({type:Number,json:{write:!0}})],P.prototype,"minAttachmentCount",void 0),(0,r._)([(0,i.MZ)({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],P.prototype,"type",void 0),(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],P.prototype,"useOriginalFilename",void 0),P=E=(0,r._)([(0,o.$)("esri.form.elements.AttachmentElement")],P);const R=P},38946:function(e,t,n){"use strict";n.d(t,{T:function(){return d}});var r=n(82392),i=n(14755),o=n(84977),s=n(11895),a=n(81482),l=(n(6273),n(80861),n(67498),n(85716)),c=n(26325),u=n(95752);let d=class extends(i.A.ClonableMixin(o.A)){constructor(e){super(e),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,s.t)(this.value,this.unit,"milliseconds")}};(0,r._)([(0,l.e)(u.j,{nonNullable:!0})],d.prototype,"unit",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:!0},nonNullable:!0})],d.prototype,"value",void 0),d=(0,r._)([(0,c.$)("esri.time.TimeInterval")],d)},39156:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(39744);class i{static{this.pool=new r.A(i,null,null,25,50)}static getId(e,t,n,r){return"object"==typeof e?`${e.level}/${e.row}/${e.col}/${e.world}`:`${e}/${t}/${n}/${r}`}constructor(e,t,n,r){this.set(e,t,n,r)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(e){this.set(e)}get hash(){const e=4095&this.row,t=4095&this.col,n=63&this.level;return(3&this.world)<<30|t<<22|e<<8|n}acquire(e,t,n,r){this.set(e,t,n,r)}contains(e){const t=e.level-this.level;return t>=0&&this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}containsChild(e){const t=e.level-this.level;return t>0&&this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new i(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,t,n,r){if(null==e)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof e)this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if("string"==typeof e){const[t,n,r,i]=e.split("/");this.level=parseFloat(t),this.row=parseFloat(n),this.col=parseFloat(r),this.world=parseFloat(i)}else this.level=+e,this.row=+t,this.col=+n,this.world=+r||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new i(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(e,t,n){const r=this.clone();return r.col+=e,r.row+=t,n.normalizeKey(r),r}getChildKeys(){const e=this.level+1,t=this.row<<1,n=this.col<<1,r=this.world;return[new i(e,t,n,r),new i(e,t,n+1,r),new i(e,t+1,n,r),new i(e,t+1,n+1,r)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}}},39349:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(85716)),a=n(26325),l=n(1118);let c=class extends l.A{static{r=this}constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new r({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,i._)([(0,o.MZ)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,n){t[n]=[this.minValue||0,e]},isRequired:!0}}})],c.prototype,"maxValue",void 0),(0,i._)([(0,o.MZ)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,n){t[n]=[e,this.maxValue||0]},isRequired:!0}}})],c.prototype,"minValue",void 0),(0,i._)([(0,s.e)({range:"range"})],c.prototype,"type",void 0),c=r=(0,i._)([(0,a.$)("esri.layers.support.RangeDomain")],c)},39369:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r=n(15565),i=n(99595),o=n(29745);class s{constructor(e,t){this._observable=new o.I,this._value=e,this._equalityFunction=t}get value(){return(0,i.gc)(this._observable),this._value}set value(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}mutate(e){e(this._value),this._observable.notify()}}function a(e,t=r.gh){return new s(e,t)}},39553:function(e,t,n){"use strict";n(50189),n(18632),n(13033),n(4631);var r=n(10709),i=n(38116),o=n(62991);async function s(e){if(null!=l.fetchBundleAsset)return l.fetchBundleAsset(e);const t=await(0,i.A)(e,{responseType:"text"});return JSON.parse(t.data)}class a{constructor({base:e="",pattern:t,location:n=new URL(window.location.href)}){let r;r="string"==typeof n?e=>new URL(e,new URL(n,window.location.href)).href:n instanceof URL?e=>new URL(e,n).href:n,this.pattern="string"==typeof t?new RegExp(`^${t}`):t,this.getAssetUrl=r,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,t){return async function(e,t,n,i){const a=t.exec(n);if(!a)throw new o.A("esri-intl:invalid-bundle",`Bundle id "${n}" is not compatible with the pattern "${t}"`);const l=a[1]?`${a[1]}/`:"",c=a[2],u=(0,r.xO)(i),d=`${l}${c}.json`,h=u?`${l}${c}_${u}.json`:d;let p;try{p=await s(e(h))}catch(t){if(h===d)throw new o.A("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:t});try{p=await s(e(d))}catch(e){throw new o.A("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:e})}}return p}(this.getAssetUrl,this.matcher,e,t)}}const l={};var c,u=n(44764);(0,r.ao)((c={pattern:"esri/",location:u.s},new a(c)))},39702:function(e,t,n){"use strict";n.d(t,{A:function(){return x}});var r=n(82392),i=n(14755),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325));let a=class extends i.A{constructor(e){super(e),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(e){return null!=e&&this.row===e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}};(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],a.prototype,"row",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],a.prototype,"column",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],a.prototype,"rows",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],a.prototype,"columns",void 0),a=(0,r._)([(0,s.$)("esri.CameraLayout")],a);const l=a;var c=n(80575),u=n(84977),d=n(4506),h=n(77380),p=n(25376),f=n(48524),m=n(8636),y=n(1912);let g=class extends(i.A.ClonableMixin(u.A)){constructor(...e){super(...e),this.position=new y.A([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new l}normalizeCtorArgs(e,t,n,r){if(e&&"object"==typeof e&&("x"in e||Array.isArray(e))){const i={position:e};return null!=t&&(i.heading=t),null!=n&&(i.tilt=n),null!=r&&(i.fov=r),i}return e}writePosition(e,t,n,r){const i=e.clone();i.x=(0,m.GB)(e.x||0),i.y=(0,m.GB)(e.y||0),i.z=e.hasZ?(0,m.GB)(e.z||0):e.z,t[n]=i.write({},r)}readPosition(e,t){const n=new y.A;return n.read(e,t),n.x=(0,m.GB)(n.x||0),n.y=(0,m.GB)(n.y||0),n.z=n.hasZ?(0,m.GB)(n.z||0):n.z,n}equals(e){return null!=e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)&&this.layout.equals(e.layout)}};(0,r._)([(0,o.MZ)({type:y.A,json:{write:{isRequired:!0}}})],g.prototype,"position",void 0),(0,r._)([(0,f.K)("position")],g.prototype,"writePosition",null),(0,r._)([(0,p.w)("position")],g.prototype,"readPosition",null),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,h.w)((e=>c.ie.normalize((0,m.GB)(e))))],g.prototype,"heading",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,h.w)((e=>(0,d.qE)((0,m.GB)(e),-180,180)))],g.prototype,"tilt",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{default:55,write:!0}}),(0,h.w)((e=>(0,d.qE)((0,m.GB)(e,55),1,170)))],g.prototype,"fov",void 0),(0,r._)([(0,o.MZ)({type:l,nonNullable:!0,json:{read:!1,write:!1}})],g.prototype,"layout",void 0),g=(0,r._)([(0,s.$)("esri.Camera")],g);const v=g;var b,w=n(56053),_=n(54483);let S=b=class extends u.A{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new b({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};(0,r._)([(0,o.MZ)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:M}}}}})],S.prototype,"rotation",void 0),(0,r._)([(0,h.w)("rotation")],S.prototype,"castRotation",null),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:M}}}}})],S.prototype,"scale",void 0),(0,r._)([(0,o.MZ)({types:_.yR,json:{read:w.rS,write:!0,origins:{"web-scene":{read:w.rS,write:{overridePolicy:M}}}}})],S.prototype,"targetGeometry",void 0),(0,r._)([(0,o.MZ)({type:v,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],S.prototype,"camera",void 0),S=b=(0,r._)([(0,s.$)("esri.Viewpoint")],S);const x=S;function M(){return{enabled:!this.camera}}},39744:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});class r{constructor(e,t,n,r=1,i=0){this._ctor=e,this._acquireFunction=t,this._releaseFunction=n,this.allocationSize=r,this._pool=new Array(i),this._initialSize=i;for(let e=0;e<i;e++)this._pool[e]=new this._ctor;this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...e){let t;if(r.test.disabled)t=new this._ctor;else{if(0===this._pool.length){const e=this.allocationSize;for(let t=0;t<e;t++)this._pool[t]=new this._ctor}t=this._pool.pop()}return this._acquireFunction?this._acquireFunction(t,...e):function(e){return e?.acquire&&"function"==typeof e.acquire}(t)&&t.acquire(...e),t}release(e){e&&!r.test.disabled&&(this._releaseFunction?this._releaseFunction(e):function(e){return e?.release&&"function"==typeof e.release}(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let t=e;t<this._pool.length;++t){const e=this._pool[t];this._dispose(e)}this._pool.length=e}}_dispose(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}static{this.test={disabled:!1}}}},39991:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r,i=n(82392),o=n(93814),s=n(84977),a=n(81482),l=n(8636),c=(n(6273),n(67498),n(26325));let u=r=class extends s.A{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new r({color:this.color&&this.color.clone(),ratio:this.ratio})}};(0,i._)([(0,a.MZ)({type:o.A,json:{type:[l.jz],default:null,write:{isRequired:!0}}})],u.prototype,"color",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:{isRequired:!0}}})],u.prototype,"ratio",void 0),u=r=(0,i._)([(0,c.$)("esri.renderers.support.HeatmapColorStop")],u)},40102:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var r=n(92840);function i(e,t){return new Promise(((n,i)=>{e.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?n():(t((0,r.Oo)(e,"canplay",n)),t((0,r.Oo)(e,"error",i)))}))}},40254:function(e,t,n){"use strict";n.d(t,{D4:function(){return u},Hh:function(){return s}});var r=n(44764);const i=[{pixelType:"S8",size:1,ctor:Int8Array,range:[-128,127]},{pixelType:"U8",size:1,ctor:Uint8Array,range:[0,255]},{pixelType:"S16",size:2,ctor:Int16Array,range:[-32768,32767]},{pixelType:"U16",size:2,ctor:Uint16Array,range:[0,65536]},{pixelType:"S32",size:4,ctor:Int32Array,range:[-2147483648,2147483647]},{pixelType:"U32",size:4,ctor:Uint32Array,range:[0,4294967296]},{pixelType:"F32",size:4,ctor:Float32Array,range:[-34027999387901484e22,34027999387901484e22]},{pixelType:"F64",size:8,ctor:Float64Array,range:[-17976931348623157e292,17976931348623157e292]}];let o=null;function s(){return o||(o=n.e(4967).then(n.bind(n,84967)).then((e=>e.l)).then((({default:e})=>e({locateFile:e=>(0,r.s)(`esri/layers/support/rasterFormats/${e}`)}))).then((e=>{!function(e){const{_malloc:t,_free:n,_lerc_getBlobInfo:r,_lerc_getDataRanges:o,_lerc_decode_4D:s,asm:c}=e;let u;const d=Object.values(c).find((t=>t&&"buffer"in t&&t.buffer===e.HEAPU8.buffer)),h=e=>{const n=e.map((e=>function(e){return 16+(e>>3<<3)}(e))),r=n.reduce(((e,t)=>e+t)),i=t(r);u=new Uint8Array(d.buffer);let o=n[0];n[0]=i;for(let e=1;e<n.length;e++){const t=n[e];n[e]=n[e-1]+o,o=t}return n};a.getBlobInfo=e=>{const t=12,i=3,s=new Uint8Array(4*t),a=new Uint8Array(8*i),[c,p,f]=h([e.length,s.length,a.length]);u.set(e,c),u.set(s,p),u.set(a,f);let m=r(c,e.length,p,f,t,i);if(m)throw n(c),new Error(`lerc-getBlobInfo: error code is ${m}`);u=new Uint8Array(d.buffer),l(u,p,s),l(u,f,a);const y=new Uint32Array(s.buffer),g=new Float64Array(a.buffer),[v,b,,w,_,S,x,M,A,T,I]=y,C={version:v,depthCount:T,width:w,height:_,validPixelCount:x,bandCount:S,blobSize:M,maskCount:A,dataType:b,minValue:g[0],maxValue:g[1],maxZerror:g[2],statistics:[],bandCountWithNoData:I};if(I&&T>1)return n(c),C;if(1===T&&1===S)return n(c),C.statistics.push({minValue:g[0],maxValue:g[1]}),C;const E=T*S*8,k=new Uint8Array(E),P=new Uint8Array(E);let R=c,O=0,N=0,L=!1;if(u.byteLength<c+2*E?(n(c),L=!0,[R,O,N]=h([e.length,E,E]),u.set(e,R)):[O,N]=h([E,E]),u.set(k,O),u.set(P,N),m=o(R,e.length,T,S,O,N),m)throw n(R),L||n(O),new Error(`lerc-getDataRanges: error code is ${m}`);u=new Uint8Array(d.buffer),l(u,O,k),l(u,N,P);const D=new Float64Array(k.buffer),F=new Float64Array(P.buffer),j=C.statistics;for(let e=0;e<S;e++)if(T>1){const t=D.slice(e*T,(e+1)*T),n=F.slice(e*T,(e+1)*T),r=Math.min.apply(null,t),i=Math.max.apply(null,n);j.push({minValue:r,maxValue:i,depthStats:{minValues:t,maxValues:n}})}else j.push({minValue:D[e],maxValue:F[e]});return n(R),L||n(O),C},a.decode=(e,t)=>{const{maskCount:r,depthCount:o,bandCount:a,width:c,height:p,dataType:f,bandCountWithNoData:m}=t,y=i[f],g=c*p,v=new Uint8Array(g*a),b=g*o*a*y.size,w=new Uint8Array(b),_=new Uint8Array(a),S=new Uint8Array(8*a),[x,M,A,T,I]=h([e.length,v.length,w.length,_.length,S.length]);u.set(e,x),u.set(v,M),u.set(w,A),u.set(_,T),u.set(S,I);const C=s(x,e.length,r,M,o,c,p,a,f,A,T,I);if(C)throw n(x),new Error(`lerc-decode: error code is ${C}`);u=new Uint8Array(d.buffer),l(u,A,w),l(u,M,v);let E=null;if(m){l(u,T,_),l(u,I,S),E=[];const e=new Float64Array(S.buffer);for(let t=0;t<_.length;t++)E.push(_[t]?e[t]:null)}return n(x),{data:w,maskData:v,noDataValues:E}}}(e)})),o)}const a={getBlobInfo:null,decode:null};function l(e,t,n){n.set(e.slice(t,t+n.length))}function c(e,t,n,r,i){if(n<2)return e;const o=new r(t*n);for(let r=0,i=0;r<t;r++)for(let s=0,a=r;s<n;s++,a+=t)o[a]=e[i++];return o}function u(e,t={}){const n=t.inputOffset??0,r=e instanceof Uint8Array?e.subarray(n):new Uint8Array(e,n),o=a.getBlobInfo(r),{data:s,maskData:l,noDataValues:u}=a.decode(r,o),{width:d,height:h,bandCount:p,depthCount:f,dataType:m,maskCount:y,statistics:g}=o,v=i[m],b=new v.ctor(s.buffer),w=[],_=[],S=d*h,x=S*f;for(let e=0;e<p;e++){const n=b.subarray(e*x,(e+1)*x);if(t.returnInterleaved)w.push(n);else{const e=c(n,S,f,v.ctor);w.push(e)}_.push(l.subarray(e*x,(e+1)*x))}const M=0===y?null:1===y?_[0]:new Uint8Array(S);if(y>1){M.set(_[0]);for(let e=1;e<_.length;e++){const t=_[e];for(let e=0;e<S;e++)M[e]=M[e]&t[e]}}const{noDataValue:A}=t,T=null!=A&&v.range[0]<=A&&v.range[1]>=A;if(y>0&&T)for(let e=0;e<p;e++){const t=w[e],n=_[e]||M;for(let e=0;e<S;e++)0===n[e]&&(t[e]=A)}const I=y===p&&p>1?_:null,{pixelType:C}=v;return{width:d,height:h,bandCount:p,pixelType:C,depthCount:f,statistics:g,pixels:w,mask:M,bandMasks:I,noDataValues:u}}},40603:function(e,t,n){"use strict";n.d(t,{K:function(){return h},Q:function(){return c}});var r=n(82392),i=n(1817),o=n(80861),s=n(81482),a=(n(6273),n(67498),n(85716)),l=n(26325);const c=(0,i.O)()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),u="percent-of-total",d="field",h=e=>{let t=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,n=null!=this.normalizationTotal;return t||n?(e=t&&d||n&&u||null,t&&n&&o.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==d&&e!==u||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}};return(0,r._)([(0,s.MZ)({type:String,json:{name:"parameters.normalizationField",write:!0}})],t.prototype,"normalizationField",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],t.prototype,"normalizationMaxValue",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],t.prototype,"normalizationMinValue",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],t.prototype,"normalizationTotal",void 0),(0,r._)([(0,a.e)(c,{name:"parameters.normalizationType"})],t.prototype,"normalizationType",null),t=(0,r._)([(0,l.$)("esri.rest.support.NormalizationBinParametersMixin")],t),t}},40869:function(e,t,n){"use strict";n.d(t,{jg:function(){return b},cF:function(){return h},bo:function(){return p},yA:function(){return y},o5:function(){return f}});var r=n(38116),i=n(62991),o=n(6273),s=n(37623),a=n(19759),l=n(83382),c=n(42268);const u=new Map;function d(e,t,n){const r=null!=t.portal?t.portal:l.A.getDefault();let o;const s=`${r.url} - ${r.user?.username} - ${e}`,a=u.get(s);if(a)return a;const d=function(e,t,n){return t.load(n).then((()=>{const r=new c.A({disableExtraQuery:!0,query:`owner:${g} AND type:${v} AND typekeywords:"${e}"`});return t.queryItems(r,n)})).then((({results:t})=>{let r=null;const o=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t){const t=e.typeKeywords?.some((e=>e.toLowerCase()===o));if(t&&e.type===v&&e.owner===g){r=e;break}}if(!r)throw new i.A("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return r.load(n)}))}(e,r,n).then((e=>(o=e,e.fetchData()))).then((t=>({data:t,baseUrl:o.itemUrl??"",styleName:e})));return u.set(s,d),d}function h(e,t,n){return null!=e?.styleUrl?async function(e,t){try{return{data:(await y(e,t)).data,baseUrl:(0,a.nM)(e),styleUrl:e}}catch(e){return(0,s.QP)(e),null}}(e.styleUrl,n):null!=e?.styleName?d(e.styleName,t,n):Promise.reject(new i.A("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function p(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function f(e,t){for(const n of t)switch(n){case"cim":if(e.cimRef)return{format:n,url:encodeURI(e.cimRef)};break;case"web-gltf-basisu":{const t=m(e,"gltf_basisu");if(t)return{format:n,url:t};break}case"web-gltf":{const t=m(e,"gltf");if(t)return{format:n,url:t};break}case"web":{const t=m(e,"gltf");if(t)return{format:"web-gltf",url:t};if(e.webRef)return{format:n,url:encodeURI(e.webRef)};break}}}function m(e,t){if(!(0,o.A)("enable-feature:force-wosr"))return e.formatInfos?.find((e=>e.type===t))?.href}function y(e,t){const n={responseType:"json",query:{f:"json"},...t};return(0,r.A)((0,a.S8)(e),n)}const g="esri_en",v="Style",b="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},40934:function(e,t,n){"use strict";n.d(t,{n:function(){return c},q:function(){return l}});var r=n(37623),i=n(34008);let o,s=null;async function a(e){s||(s=n.e(7942).then(n.bind(n,57942)).then((e=>o=e))),await s,(0,r.Te)(e)}async function l(e,t,n,r){if(!e)return null;const s=e.spatialReference;return(0,i.isLoaded)()||(0,i.canProjectWithoutEngine)(s,t)?(0,i.project)(e,t):o?o.projectGeometry(e,t,n,r):(await Promise.race([a(r),(0,i.load)(r)]),l(e,t,n,r))}async function c(e,t){try{return e?.spatialReference?await(0,i.projectWithZConversion)(e,t):null}catch{return null}}},40961:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){}}(),e.exports=n(6221)},40969:function(e,t,n){"use strict";let r;n.d(t,{A:function(){return i}});const i={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(r=2e3;r<=2045;r++)i[r]=0;for(r=2056;r<=2065;r++)i[r]=0;for(r=2067;r<=2135;r++)i[r]=0;for(r=2137;r<=2154;r++)i[r]=0;for(r=2161;r<=2170;r++)i[r]=0;for(r=2172;r<=2193;r++)i[r]=0;for(r=2195;r<=2198;r++)i[r]=0;for(r=2200;r<=2203;r++)i[r]=0;for(r=2205;r<=2217;r++)i[r]=0;for(r=2222;r<=2224;r++)i[r]=1;for(r=2225;r<=2250;r++)i[r]=2;for(r=2251;r<=2253;r++)i[r]=1;for(r=2257;r<=2264;r++)i[r]=2;for(r=2274;r<=2279;r++)i[r]=2;for(r=2280;r<=2282;r++)i[r]=1;for(r=2283;r<=2289;r++)i[r]=2;for(r=2290;r<=2292;r++)i[r]=0;for(r=2308;r<=2313;r++)i[r]=0;for(r=2315;r<=2491;r++)i[r]=0;for(r=2494;r<=2866;r++)i[r]=0;for(r=2867;r<=2869;r++)i[r]=1;for(r=2870;r<=2888;r++)i[r]=2;for(r=2891;r<=2895;r++)i[r]=2;for(r=2896;r<=2898;r++)i[r]=1;for(r=2902;r<=2908;r++)i[r]=2;for(r=2915;r<=2920;r++)i[r]=2;for(r=2921;r<=2923;r++)i[r]=1;for(r=2924;r<=2930;r++)i[r]=2;for(r=2931;r<=2962;r++)i[r]=0;for(r=2964;r<=2968;r++)i[r]=2;for(r=2969;r<=2973;r++)i[r]=0;for(r=2975;r<=2991;r++)i[r]=0;for(r=2995;r<=3051;r++)i[r]=0;for(r=3054;r<=3079;r++)i[r]=0;for(r=3081;r<=3088;r++)i[r]=0;for(r=3092;r<=3101;r++)i[r]=0;for(r=3106;r<=3138;r++)i[r]=0;for(r=3146;r<=3151;r++)i[r]=0;for(r=3153;r<=3166;r++)i[r]=0;for(r=3168;r<=3172;r++)i[r]=0;for(r=3174;r<=3203;r++)i[r]=0;for(r=3294;r<=3358;r++)i[r]=0;for(r=3367;r<=3403;r++)i[r]=0;for(r=3408;r<=3416;r++)i[r]=0;for(r=3417;r<=3438;r++)i[r]=2;for(r=3441;r<=3446;r++)i[r]=2;for(r=3447;r<=3450;r++)i[r]=0;for(r=3451;r<=3459;r++)i[r]=2;for(r=3460;r<=3478;r++)i[r]=0;for(r=3554;r<=3559;r++)i[r]=0;for(r=3560;r<=3570;r++)i[r]=2;for(r=3571;r<=3581;r++)i[r]=0;for(r=3594;r<=3597;r++)i[r]=0;for(r=3601;r<=3604;r++)i[r]=0;for(r=3637;r<=3639;r++)i[r]=0;for(r=3665;r<=3667;r++)i[r]=0;for(r=3693;r<=3695;r++)i[r]=0;for(r=3701;r<=3727;r++)i[r]=0;for(r=3728;r<=3739;r++)i[r]=2;for(r=3740;r<=3751;r++)i[r]=0;for(r=3753;r<=3760;r++)i[r]=2;for(r=3761;r<=3773;r++)i[r]=0;for(r=3775;r<=3777;r++)i[r]=0;for(r=3779;r<=3781;r++)i[r]=0;for(r=3783;r<=3785;r++)i[r]=0;for(r=3788;r<=3791;r++)i[r]=0;for(r=3797;r<=3802;r++)i[r]=0;for(r=3814;r<=3816;r++)i[r]=0;for(r=3825;r<=3829;r++)i[r]=0;for(r=3832;r<=3841;r++)i[r]=0;for(r=3844;r<=3852;r++)i[r]=0;for(r=3873;r<=3885;r++)i[r]=0;for(r=3890;r<=3893;r++)i[r]=0;for(r=3907;r<=3912;r++)i[r]=0;for(r=3942;r<=3950;r++)i[r]=0;for(r=3968;r<=3970;r++)i[r]=0;for(r=3973;r<=3976;r++)i[r]=0;for(r=3986;r<=3989;r++)i[r]=0;for(r=3994;r<=3997;r++)i[r]=0;for(r=4048;r<=4051;r++)i[r]=0;for(r=4056;r<=4063;r++)i[r]=0;for(r=4093;r<=4096;r++)i[r]=0;for(r=4390;r<=4398;r++)i[r]=0;for(r=4399;r<=4413;r++)i[r]=2;for(r=4418;r<=4433;r++)i[r]=2;for(r=4455;r<=4457;r++)i[r]=2;for(r=4484;r<=4489;r++)i[r]=0;for(r=4491;r<=4554;r++)i[r]=0;for(r=4568;r<=4589;r++)i[r]=0;for(r=4652;r<=4656;r++)i[r]=0;for(r=4766;r<=4800;r++)i[r]=0;for(r=5014;r<=5016;r++)i[r]=0;for(r=5069;r<=5072;r++)i[r]=0;for(r=5105;r<=5130;r++)i[r]=0;for(r=5167;r<=5188;r++)i[r]=0;for(r=5253;r<=5259;r++)i[r]=0;for(r=5269;r<=5275;r++)i[r]=0;for(r=5292;r<=5311;r++)i[r]=0;for(r=5329;r<=5331;r++)i[r]=0;for(r=5343;r<=5349;r++)i[r]=0;for(r=5355;r<=5357;r++)i[r]=0;for(r=5387;r<=5389;r++)i[r]=0;for(r=5459;r<=5463;r++)i[r]=0;for(r=5479;r<=5482;r++)i[r]=0;for(r=5518;r<=5520;r++)i[r]=0;for(r=5530;r<=5539;r++)i[r]=0;for(r=5550;r<=5552;r++)i[r]=0;for(r=5562;r<=5583;r++)i[r]=0;for(r=5623;r<=5625;r++)i[r]=2;for(r=5631;r<=5639;r++)i[r]=0;for(r=5649;r<=5653;r++)i[r]=0;for(r=5663;r<=5680;r++)i[r]=0;for(r=5682;r<=5685;r++)i[r]=0;for(r=5875;r<=5877;r++)i[r]=0;for(r=5896;r<=5899;r++)i[r]=0;for(r=5921;r<=5940;r++)i[r]=0;for(r=6050;r<=6125;r++)i[r]=0;for(r=6244;r<=6275;r++)i[r]=0;for(r=6328;r<=6348;r++)i[r]=0;for(r=6350;r<=6356;r++)i[r]=0;for(r=6366;r<=6372;r++)i[r]=0;for(r=6381;r<=6387;r++)i[r]=0;for(r=6393;r<=6404;r++)i[r]=0;for(r=6480;r<=6483;r++)i[r]=0;for(r=6511;r<=6514;r++)i[r]=0;for(r=6579;r<=6581;r++)i[r]=0;for(r=6619;r<=6624;r++)i[r]=0;for(r=6625;r<=6627;r++)i[r]=2;for(r=6628;r<=6632;r++)i[r]=0;for(r=6634;r<=6637;r++)i[r]=0;for(r=6669;r<=6692;r++)i[r]=0;for(r=6707;r<=6709;r++)i[r]=0;for(r=6720;r<=6723;r++)i[r]=0;for(r=6732;r<=6738;r++)i[r]=0;for(r=6931;r<=6933;r++)i[r]=0;for(r=6956;r<=6959;r++)i[r]=0;for(r=7005;r<=7007;r++)i[r]=0;for(r=7057;r<=7070;r++)i[r]=2;for(r=7074;r<=7082;r++)i[r]=0;for(r=7109;r<=7118;r++)i[r]=0;for(r=7119;r<=7127;r++)i[r]=1;for(r=7374;r<=7376;r++)i[r]=0;for(r=7528;r<=7586;r++)i[r]=0;for(r=7587;r<=7645;r++)i[r]=2;for(r=7692;r<=7696;r++)i[r]=0;for(r=7755;r<=7787;r++)i[r]=0;for(r=7791;r<=7795;r++)i[r]=0;for(r=7799;r<=7801;r++)i[r]=0;for(r=7803;r<=7805;r++)i[r]=0;for(r=7825;r<=7831;r++)i[r]=0;for(r=7845;r<=7859;r++)i[r]=0;for(r=8013;r<=8032;r++)i[r]=0;for(r=8065;r<=8068;r++)i[r]=1;for(r=8518;r<=8529;r++)i[r]=2;for(r=8533;r<=8536;r++)i[r]=2;for(r=8538;r<=8540;r++)i[r]=2;for(r=8677;r<=8679;r++)i[r]=0;for(r=8836;r<=8840;r++)i[r]=0;for(r=8857;r<=8859;r++)i[r]=0;for(r=8908;r<=8910;r++)i[r]=0;for(r=9154;r<=9159;r++)i[r]=0;for(r=9205;r<=9218;r++)i[r]=0;for(r=9271;r<=9273;r++)i[r]=0;for(r=9295;r<=9297;r++)i[r]=0;for(r=9356;r<=9360;r++)i[r]=0;for(r=9404;r<=9407;r++)i[r]=0;for(r=9476;r<=9482;r++)i[r]=0;for(r=9487;r<=9494;r++)i[r]=0;for(r=9697;r<=9699;r++)i[r]=0;for(r=9821;r<=9865;r++)i[r]=0;for(r=10285;r<=10291;r++)i[r]=0;for(r=10314;r<=10317;r++)i[r]=0;for(r=10448;r<=10465;r++)i[r]=0;for(r=10726;r<=10729;r++)i[r]=0;for(r=10731;r<=10733;r++)i[r]=0;for(r=11114;r<=11118;r++)i[r]=0;for(r=20004;r<=20032;r++)i[r]=0;for(r=20047;r<=20049;r++)i[r]=0;for(r=20062;r<=20092;r++)i[r]=0;for(r=20135;r<=20138;r++)i[r]=0;for(r=20248;r<=20258;r++)i[r]=0;for(r=20348;r<=20358;r++)i[r]=0;for(r=20436;r<=20440;r++)i[r]=0;for(r=20822;r<=20824;r++)i[r]=0;for(r=20904;r<=20932;r++)i[r]=0;for(r=20934;r<=20936;r++)i[r]=0;for(r=21004;r<=21032;r++)i[r]=0;for(r=21035;r<=21037;r++)i[r]=0;for(r=21095;r<=21097;r++)i[r]=0;for(r=21148;r<=21150;r++)i[r]=0;for(r=21207;r<=21264;r++)i[r]=0;for(r=21307;r<=21364;r++)i[r]=0;for(r=21413;r<=21423;r++)i[r]=0;for(r=21453;r<=21463;r++)i[r]=0;for(r=21473;r<=21483;r++)i[r]=0;for(r=21780;r<=21782;r++)i[r]=0;for(r=21891;r<=21894;r++)i[r]=0;for(r=21896;r<=21899;r++)i[r]=0;for(r=22171;r<=22177;r++)i[r]=0;for(r=22181;r<=22187;r++)i[r]=0;for(r=22191;r<=22197;r++)i[r]=0;for(r=22207;r<=22222;r++)i[r]=0;for(r=22229;r<=22232;r++)i[r]=0;for(r=22234;r<=22236;r++)i[r]=0;for(r=22243;r<=22250;r++)i[r]=0;for(r=22262;r<=22265;r++)i[r]=0;for(r=22307;r<=22322;r++)i[r]=0;for(r=22348;r<=22357;r++)i[r]=0;for(r=22407;r<=22422;r++)i[r]=0;for(r=22462;r<=22465;r++)i[r]=0;for(r=22521;r<=22525;r++)i[r]=0;for(r=22607;r<=22622;r++)i[r]=0;for(r=22641;r<=22646;r++)i[r]=0;for(r=22648;r<=22657;r++)i[r]=0;for(r=22707;r<=22722;r++)i[r]=0;for(r=22762;r<=22765;r++)i[r]=0;for(r=22807;r<=22822;r++)i[r]=0;for(r=22991;r<=22994;r++)i[r]=0;for(r=23028;r<=23038;r++)i[r]=0;for(r=23301;r<=23333;r++)i[r]=2;for(r=23830;r<=23853;r++)i[r]=0;for(r=23866;r<=23872;r++)i[r]=0;for(r=23877;r<=23884;r++)i[r]=0;for(r=23886;r<=23894;r++)i[r]=0;for(r=23946;r<=23948;r++)i[r]=0;for(r=24311;r<=24313;r++)i[r]=0;for(r=24342;r<=24347;r++)i[r]=0;for(r=24370;r<=24374;r++)i[r]=10;for(r=24375;r<=24381;r++)i[r]=0;for(r=24718;r<=24721;r++)i[r]=0;for(r=24817;r<=24821;r++)i[r]=0;for(r=24877;r<=24882;r++)i[r]=0;for(r=24891;r<=24893;r++)i[r]=0;for(r=25391;r<=25395;r++)i[r]=0;for(r=25828;r<=25838;r++)i[r]=0;for(r=26191;r<=26195;r++)i[r]=0;for(r=26391;r<=26393;r++)i[r]=0;for(r=26701;r<=26722;r++)i[r]=0;for(r=26729;r<=26799;r++)i[r]=2;for(r=26801;r<=26803;r++)i[r]=2;for(r=26811;r<=26813;r++)i[r]=2;for(r=26847;r<=26870;r++)i[r]=2;for(r=26891;r<=26899;r++)i[r]=0;for(r=26901;r<=26923;r++)i[r]=0;for(r=26929;r<=26946;r++)i[r]=0;for(r=26948;r<=26998;r++)i[r]=0;for(r=27037;r<=27040;r++)i[r]=0;for(r=27205;r<=27232;r++)i[r]=0;for(r=27258;r<=27260;r++)i[r]=0;for(r=27391;r<=27398;r++)i[r]=0;for(r=27561;r<=27564;r++)i[r]=0;for(r=27571;r<=27574;r++)i[r]=0;for(r=27581;r<=27584;r++)i[r]=0;for(r=27591;r<=27594;r++)i[r]=0;for(r=27700;r<=27707;r++)i[r]=0;for(r=28191;r<=28193;r++)i[r]=0;for(r=28348;r<=28358;r++)i[r]=0;for(r=28402;r<=28432;r++)i[r]=0;for(r=28462;r<=28492;r++)i[r]=0;for(r=29118;r<=29122;r++)i[r]=0;for(r=29168;r<=29172;r++)i[r]=0;for(r=29177;r<=29185;r++)i[r]=0;for(r=29187;r<=29195;r++)i[r]=0;for(r=29900;r<=29903;r++)i[r]=0;for(r=30161;r<=30179;r++)i[r]=0;for(r=30491;r<=30494;r++)i[r]=0;for(r=30729;r<=30732;r++)i[r]=0;for(r=31251;r<=31259;r++)i[r]=0;for(r=31265;r<=31268;r++)i[r]=0;for(r=31275;r<=31279;r++)i[r]=0;for(r=31281;r<=31297;r++)i[r]=0;for(r=31461;r<=31469;r++)i[r]=0;for(r=31491;r<=31495;r++)i[r]=0;for(r=31917;r<=31922;r++)i[r]=0;for(r=31965;r<=32e3;r++)i[r]=0;for(r=32001;r<=32003;r++)i[r]=2;for(r=32005;r<=32031;r++)i[r]=2;for(r=32033;r<=32060;r++)i[r]=2;for(r=32064;r<=32067;r++)i[r]=2;for(r=32074;r<=32077;r++)i[r]=2;for(r=32081;r<=32086;r++)i[r]=0;for(r=32107;r<=32130;r++)i[r]=0;for(r=32133;r<=32159;r++)i[r]=0;for(r=32164;r<=32167;r++)i[r]=2;for(r=32180;r<=32199;r++)i[r]=0;for(r=32201;r<=32260;r++)i[r]=0;for(r=32301;r<=32360;r++)i[r]=0;for(r=32401;r<=32460;r++)i[r]=0;for(r=32501;r<=32560;r++)i[r]=0;for(r=32601;r<=32662;r++)i[r]=0;for(r=32664;r<=32667;r++)i[r]=2;for(r=32701;r<=32761;r++)i[r]=0;for(r=53001;r<=53004;r++)i[r]=0;for(r=53008;r<=53019;r++)i[r]=0;for(r=53021;r<=53032;r++)i[r]=0;for(r=53034;r<=53037;r++)i[r]=0;for(r=53042;r<=53046;r++)i[r]=0;for(r=53074;r<=53080;r++)i[r]=0;for(r=54001;r<=54004;r++)i[r]=0;for(r=54008;r<=54019;r++)i[r]=0;for(r=54021;r<=54032;r++)i[r]=0;for(r=54034;r<=54037;r++)i[r]=0;for(r=54042;r<=54046;r++)i[r]=0;for(r=54048;r<=54053;r++)i[r]=0;for(r=54074;r<=54080;r++)i[r]=0;for(r=54090;r<=54096;r++)i[r]=0;for(r=54098;r<=54101;r++)i[r]=0;for(r=65161;r<=65163;r++)i[r]=0;for(r=102001;r<=102040;r++)i[r]=0;for(r=102042;r<=102063;r++)i[r]=0;for(r=102065;r<=102067;r++)i[r]=0;for(r=102070;r<=102117;r++)i[r]=0;for(r=102122;r<=102216;r++)i[r]=0;for(r=102221;r<=102377;r++)i[r]=0;for(r=102382;r<=102388;r++)i[r]=0;for(r=102389;r<=102398;r++)i[r]=2;for(r=102399;r<=102444;r++)i[r]=0;for(r=102445;r<=102447;r++)i[r]=2;for(r=102448;r<=102458;r++)i[r]=0;for(r=102459;r<=102468;r++)i[r]=2;for(r=102469;r<=102499;r++)i[r]=0;for(r=102500;r<=102519;r++)i[r]=1;for(r=102520;r<=102524;r++)i[r]=0;for(r=102525;r<=102529;r++)i[r]=2;for(r=102530;r<=102588;r++)i[r]=0;for(r=102590;r<=102598;r++)i[r]=0;for(r=102601;r<=102603;r++)i[r]=0;for(r=102605;r<=102628;r++)i[r]=0;for(r=102629;r<=102646;r++)i[r]=2;for(r=102648;r<=102700;r++)i[r]=2;for(r=102701;r<=102703;r++)i[r]=0;for(r=102707;r<=102730;r++)i[r]=2;for(r=102733;r<=102758;r++)i[r]=2;for(r=102767;r<=102900;r++)i[r]=0;for(r=102901;r<=102933;r++)i[r]=2;for(r=102934;r<=102950;r++)i[r]=13;for(r=102951;r<=102963;r++)i[r]=0;for(r=102965;r<=102969;r++)i[r]=0;for(r=102971;r<=102973;r++)i[r]=0;for(r=102975;r<=102989;r++)i[r]=0;for(r=102990;r<=102992;r++)i[r]=1;for(r=102997;r<=103002;r++)i[r]=0;for(r=103003;r<=103008;r++)i[r]=2;for(r=103009;r<=103011;r++)i[r]=0;for(r=103012;r<=103014;r++)i[r]=2;for(r=103019;r<=103021;r++)i[r]=0;for(r=103022;r<=103024;r++)i[r]=2;for(r=103029;r<=103031;r++)i[r]=0;for(r=103032;r<=103034;r++)i[r]=2;for(r=103065;r<=103068;r++)i[r]=0;for(r=103074;r<=103076;r++)i[r]=0;for(r=103077;r<=103079;r++)i[r]=1;for(r=103080;r<=103082;r++)i[r]=0;for(r=103083;r<=103085;r++)i[r]=2;for(r=103090;r<=103093;r++)i[r]=0;for(r=103097;r<=103099;r++)i[r]=0;for(r=103100;r<=103102;r++)i[r]=2;for(r=103107;r<=103109;r++)i[r]=0;for(r=103110;r<=103112;r++)i[r]=2;for(r=103113;r<=103116;r++)i[r]=0;for(r=103117;r<=103120;r++)i[r]=2;for(r=103153;r<=103157;r++)i[r]=0;for(r=103158;r<=103162;r++)i[r]=2;for(r=103163;r<=103165;r++)i[r]=0;for(r=103166;r<=103168;r++)i[r]=1;for(r=103169;r<=103171;r++)i[r]=2;for(r=103186;r<=103188;r++)i[r]=0;for(r=103189;r<=103191;r++)i[r]=2;for(r=103192;r<=103195;r++)i[r]=0;for(r=103196;r<=103199;r++)i[r]=2;for(r=103200;r<=103224;r++)i[r]=0;for(r=103225;r<=103227;r++)i[r]=1;for(r=103232;r<=103237;r++)i[r]=0;for(r=103238;r<=103243;r++)i[r]=2;for(r=103244;r<=103246;r++)i[r]=0;for(r=103247;r<=103249;r++)i[r]=2;for(r=103254;r<=103256;r++)i[r]=0;for(r=103257;r<=103259;r++)i[r]=2;for(r=103264;r<=103266;r++)i[r]=0;for(r=103267;r<=103269;r++)i[r]=2;for(r=103300;r<=103375;r++)i[r]=0;for(r=103381;r<=103383;r++)i[r]=0;for(r=103384;r<=103386;r++)i[r]=1;for(r=103387;r<=103389;r++)i[r]=0;for(r=103390;r<=103392;r++)i[r]=2;for(r=103397;r<=103399;r++)i[r]=0;for(r=103400;r<=103471;r++)i[r]=2;for(r=103476;r<=103478;r++)i[r]=0;for(r=103479;r<=103481;r++)i[r]=2;for(r=103486;r<=103488;r++)i[r]=0;for(r=103489;r<=103491;r++)i[r]=2;for(r=103492;r<=103495;r++)i[r]=0;for(r=103496;r<=103499;r++)i[r]=2;for(r=103528;r<=103543;r++)i[r]=0;for(r=103544;r<=103548;r++)i[r]=2;for(r=103549;r<=103551;r++)i[r]=0;for(r=103552;r<=103554;r++)i[r]=1;for(r=103555;r<=103557;r++)i[r]=2;for(r=103558;r<=103560;r++)i[r]=0;for(r=103571;r<=103573;r++)i[r]=0;for(r=103574;r<=103576;r++)i[r]=2;for(r=103577;r<=103580;r++)i[r]=0;for(r=103581;r<=103583;r++)i[r]=2;for(r=103595;r<=103694;r++)i[r]=0;for(r=103696;r<=103699;r++)i[r]=0;for(r=103700;r<=103793;r++)i[r]=2;for(r=103794;r<=103890;r++)i[r]=0;for(r=103891;r<=103896;r++)i[r]=2;for(r=103900;r<=103971;r++)i[r]=2;for(r=103972;r<=103977;r++)i[r]=0;for(r=112e3;r<=112101;r++)i[r]=0},41301:function(e,t,n){"use strict";t.Xb=t.cv=t.qC=void 0;const r=n(26830);const i=n(41646);const o=n(2071);Object.defineProperty(t,"qC",{enumerable:!0,get:function(){return o.numberWithCommas}});const s=n(60891);const a=n(17578);Object.defineProperty(t,"cv",{enumerable:!0,get:function(){return a.generateUID}}),Object.defineProperty(t,"Xb",{enumerable:!0,get:function(){return a.isMobileDevice}})},41394:function(e,t,n){"use strict";n.d(t,{Bb:function(){return o},Fq:function(){return c},M4:function(){return u},Nv:function(){return d},e:function(){return h}});n(6273);var r=n(19913),i=n(46373);function o(e,{isPrimitive:t,width:n,depth:i,height:o}){const s=t?10:1;if(null==n&&null==o&&null==i)return[s*e[0],s*e[1],s*e[2]];const a=(0,r.fA)(n,i,o);let l;for(let t=0;t<3;t++){const n=a[t];if(null!=n){l=n/e[t];break}}for(let t=0;t<3;t++)null==a[t]&&(a[t]=e[t]*l);return a}const s=(0,i.fA)(-.5,-.5,-.5,.5,.5,.5),a=(0,i.fA)(-.5,-.5,0,.5,.5,1),l=(0,i.fA)(-.5,-.5,0,.5,.5,.5);function c(e){switch(e){case"sphere":case"cube":case"diamond":return s;case"cylinder":case"cone":case"inverted-cone":return a;case"tetrahedron":return l;default:return}}const u=["butt","square","round"],d=[...u,"none"],h=["miter","bevel","round"]},41446:function(e,t,n){"use strict";n.d(t,{L:function(){return u},t:function(){return d}});var r=n(44212),i=n(66361),o=n(12945);function s(e,t,n){if(!e?.read||!1===e.read.enabled||!e.read.source)return!1;const i=e.read.source;if("string"==typeof i){if(i===t)return!0;if(i.includes(".")&&0===i.indexOf(t)&&(0,r.t2)(i,n))return!0}else for(const e of i){if(e===t)return!0;if(e.includes(".")&&0===e.indexOf(t)&&(0,r.t2)(e,n))return!0}return!1}function a(e,t,n,r,i){let a=(0,o.N5)(t[n],i);(function(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)})(a)&&(e[n]=!0);for(const l of Object.getOwnPropertyNames(t))a=(0,o.N5)(t[l],i),s(a,n,r)&&(e[l]=!0)}function l(e,t,n,r){const i=n.metadata,s=(0,o.xF)(i[t],r),a=s?.default;if(void 0===a)return;const l="function"==typeof a?a.call(e,t,r):a;void 0!==l&&n.set(t,l)}const c={origin:"service"};function u(e,t,n=c){if(!t||"object"!=typeof t)return;const s=(0,i.oY)(e),u=s.metadata,d={};for(const e of Object.getOwnPropertyNames(t))a(d,u,e,t,n);s.setDefaultOrigin(n.origin);for(const i of Object.getOwnPropertyNames(d)){const a=(0,o.N5)(u[i],n).read,l=a?.source;let c;c=l&&"string"==typeof l?(0,r.RP)(t,l):t[i],a?.reader&&(c=a.reader.call(e,c,t,n)),void 0!==c&&s.set(i,c)}if(!n||!n.ignoreDefaults){s.setDefaultOrigin("defaults");for(const t of Object.getOwnPropertyNames(u))d[t]||l(e,t,s,n)}s.setDefaultOrigin("user")}function d(e,t,n,r=c){const i={...r,messages:[]};n(i),i.messages?.forEach((t=>{"warning"!==t.type||e.loaded?r?.messages&&r.messages.push(t):e.loadWarnings.push(t)}))}},41646:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tile2lat=t.tile2Long=t.lat2tile=t.long2tile=void 0;t.long2tile=(e,t)=>Math.floor((e+180)/360*Math.pow(2,t));t.lat2tile=(e,t)=>Math.floor((1-Math.log(Math.tan(e*Math.PI/180)+1/Math.cos(e*Math.PI/180))/Math.PI)/2*Math.pow(2,t));t.tile2Long=(e,t)=>e/Math.pow(2,t)*360-180;t.tile2lat=(e,t)=>{const n=Math.PI-2*Math.PI*e/Math.pow(2,t);return 180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))}},41785:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r,i=n(3223),o=n(17420);!function(e){const t=(e,t,n,r)=>{let i=t,o=t;const s=n>>>1,a=e[i-1];for(;o<=s;){o=i<<1,o<n&&r(e[o-1],e[o])<0&&++o;const t=e[o-1];if(r(t,a)<=0)break;e[i-1]=t,i=o}e[i-1]=a},n=(e,t)=>e<t?-1:e>t?1:0;e.sort=function(e,r,i,o){void 0===r&&(r=0),void 0===i&&(i=e.length),void 0===o&&(o=n);for(let n=i>>>1;n>r;n--)t(e,n,i,o);const s=r+1;for(let n=i-1;n>r;n--){const i=e[r];e[r]=e[n],e[n]=i,t(e,s,n,o)}},e.iterableSort=function*(e,r,i,o){void 0===r&&(r=0),void 0===i&&(i=e.length),void 0===o&&(o=n);for(let n=i>>>1;n>r;n--)t(e,n,i,o),yield;const s=r+1;for(let n=i-1;n>r;n--){const i=e[r];e[r]=e[n],e[n]=i,t(e,s,n,o),yield}}}(r||(r={}));const s=r;class a{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new i.vW,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),void 0!==e.deallocator&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>l(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const t=new Array;for(let n=0;n<this._length;n++){const r=this.data[n];e(r)&&t.push(r)}return t}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,t){const n=this.data.indexOf(e,t);return-1!==n&&n<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,t=e.length){for(let n=0;n<t;n++)this.data[this._length++]=e[n]}fill(e,t){for(let n=0;n<t;n++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,l(this)}pop(){if(0===this.length)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const t=(0,i.qh)(this.data,(0,o.zI)(e),this.length,this._hint);if(-1!==t)return this.data.splice(t,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex((0,i.qh)(this.data,(0,o.zI)(e),this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,t=e.length,n){this.length=(0,i.mW)(this.data,e,this.length,t,this._hint,n),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(e,t){if(e>=this.length||t>=this.length||e===t)return;const n=this.data[e];this.data[e]=this.data[t],this.data[t]=n}sort(e){s.sort(this.data,0,this.length,e)}iterableSort(e){return s.iterableSort(this.data,0,this.length,e)}some(e,t){for(let n=0;n<this.length;++n)if(e.call(t,this.data[n],n,this.data))return!0;return!1}find(e,t){const{data:n,length:r}=this;for(let i=0;i<r;++i)if(e.call(t,n[i]))return n[i]}filterInPlace(e,t){let n=0;for(let r=0;r<this._length;++r){const i=this.data[r];e.call(t,i,r,this.data)&&(this.data[r]=this.data[n],this.data[n]=i,n++)}if(this._deallocator)for(let e=n;e<this._length;e++)this.data[e]=this._deallocator(this.data[e]);return this._length=n,this._shrink(),this}forAll(e,t){const{data:n,length:r}=this;for(let i=0;i<r;++i)e.call(t,n[i],i,n)}forEach(e,t){this.data.slice(0,this.length).forEach(e,t)}map(e,t){const n=new Array(this.length);for(let r=0;r<this.length;++r)n[r]=e.call(t,this.data[r],r,this.data);return n}reduce(e,t){let n=t;for(let t=0;t<this.length;++t)n=e(n,this.data[t],t,this.data);return n}has(e){const t=this.length,n=this.data;for(let r=0;r<t;++r)if(n[r]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}}function l(e){e.data.length>1.5*e.length&&(e.data.length=Math.floor(1.1*e.length))}},41903:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});var r,i=n(82392),o=n(93814),s=n(1817),a=n(84977),l=n(23572),c=n(81482),u=(n(6273),n(80861),n(67498),n(85716)),d=n(26325),h=n(13005),p=n(726),f=n(94838);const m=new s.J({flow_from:"flow-from",flow_to:"flow-to"});let y=r=class extends((0,h.h)(a.A)){constructor(e){super(e),this.density=.8,this.color=new o.A([255,255,255,1]),this.maxPathLength=200,this.trailWidth=1.5,this.flowSpeed=10,this.trailLength=100,this.smoothing=0,this.flowRepresentation="flow-from",this.type="flow",this.authoringInfo=null,this.legendOptions=null,this.trailCap="butt",this.background="none"}clone(){const{density:e,maxPathLength:t,trailWidth:n,flowSpeed:i,trailLength:o,smoothing:s,flowRepresentation:a,trailCap:l,background:c}=this,u=this.color.clone(),d=(this.visualVariables||[]).map((e=>e.clone())),h=this.authoringInfo?.clone(),p=this.legendOptions?.clone();return new r({density:e,color:u,maxPathLength:t,trailWidth:n,flowSpeed:i,trailLength:o,trailCap:l,background:c,smoothing:s,flowRepresentation:a,visualVariables:d,authoringInfo:h,legendOptions:p})}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}};(0,i._)([(0,c.MZ)({type:Number,json:{write:!0}})],y.prototype,"density",void 0),(0,i._)([(0,c.MZ)({type:o.A,json:{write:{allowNull:!0}}})],y.prototype,"color",void 0),(0,i._)([(0,c.MZ)({type:Number,cast:l.cr,json:{write:!0}})],y.prototype,"maxPathLength",void 0),(0,i._)([(0,c.MZ)({type:Number,cast:l.cr,json:{write:!0}})],y.prototype,"trailWidth",void 0),(0,i._)([(0,c.MZ)({type:Number,json:{write:!0}})],y.prototype,"flowSpeed",void 0),(0,i._)([(0,c.MZ)({type:Number,json:{write:!0}})],y.prototype,"trailLength",void 0),(0,i._)([(0,c.MZ)({type:Number,cast:l.cr,json:{write:!1}})],y.prototype,"smoothing",void 0),(0,i._)([(0,c.MZ)({type:m.apiValues,json:{type:m.jsonValues,read:{reader:m.read},write:{writer:m.write}}})],y.prototype,"flowRepresentation",void 0),(0,i._)([(0,u.e)({flowRenderer:"flow"})],y.prototype,"type",void 0),(0,i._)([(0,c.MZ)({type:p.A,json:{write:!0}})],y.prototype,"authoringInfo",void 0),(0,i._)([(0,c.MZ)({type:f.A,json:{write:!0}})],y.prototype,"legendOptions",void 0),(0,i._)([(0,c.MZ)({type:String,json:{write:!0}})],y.prototype,"trailCap",void 0),(0,i._)([(0,c.MZ)({type:String,json:{write:!0}})],y.prototype,"background",void 0),y=r=(0,i._)([(0,d.$)("esri.renderers.FlowRenderer")],y)},41917:function(e,t,n){"use strict";var r=n(72136),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.A||i||Function("return this")();t.A=o},42126:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325));let a=class extends i.A{constructor(e){super(e),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};(0,r._)([(0,o.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],a.prototype,"type",void 0),a=(0,r._)([(0,s.$)("esri.symbols.patterns.Pattern3D")],a)},42268:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r,i=n(82392),o=n(73783),s=n(1817),a=n(15565),l=n(81482),c=(n(6273),n(80861),n(26325)),u=n(8e3),d=n(44153),h=n(64672);const p=new s.J({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let f=r=class extends o.A{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}clone(){return new r({categories:this.categories?(0,a.o8)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let n=[];this.categories&&(n=this.categories.map((e=>Array.isArray(e)?JSON.stringify(e):e)));let r="";if(this.extent){const e=(0,h.Cv)(this.extent,d.A.WGS84);null!=e&&(r=`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const o={categories:n,bbox:r,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map((e=>p.toJSON(e.trim()))).join(","),o.sortOrder=this.sortOrder),{query:{...t,...o}}}};(0,i._)([(0,l.MZ)()],f.prototype,"categories",void 0),(0,i._)([(0,l.MZ)()],f.prototype,"disableExtraQuery",void 0),(0,i._)([(0,l.MZ)({type:u.A})],f.prototype,"extent",void 0),(0,i._)([(0,l.MZ)()],f.prototype,"filter",void 0),(0,i._)([(0,l.MZ)()],f.prototype,"num",void 0),(0,i._)([(0,l.MZ)()],f.prototype,"query",void 0),(0,i._)([(0,l.MZ)()],f.prototype,"sortField",void 0),(0,i._)([(0,l.MZ)()],f.prototype,"sortOrder",null),(0,i._)([(0,l.MZ)()],f.prototype,"start",void 0),f=r=(0,i._)([(0,c.$)("esri.portal.PortalQueryParams")],f)},42567:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(92273);let l=r=class extends a.c{constructor(e){super(e),this.type="selection"}clone(){return new r}};(0,i._)([(0,o.MZ)({type:["selection"]})],l.prototype,"type",void 0),l=r=(0,i._)([(0,s.$)("esri.layers.support.FeatureReductionSelection")],l)},42663:function(e,t,n){"use strict";function r(e){return"number"==typeof e}function i(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function o(e){return"boolean"==typeof e}function s(e){return"string"==typeof e||e instanceof String}function a(e){return null==e||s(e)}function l(e){return Array.isArray(e)}function c(e){return"esri.Graphic"===e?.declaredClass}function u(e){return e instanceof Date}n.d(t,{$P:function(){return u},CO:function(){return a},DU:function(){return c},Et:function(){return r},Fq:function(){return i},Kg:function(){return s},Lm:function(){return o},cy:function(){return l}})},42929:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});const r={close:"esri-icon-close",collapse:"esri-icon-collapse",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",handleVertical:"esri-icon-handle-vertical",icon:"esri-icon",left:"esri-icon-left",locateCircled:"esri-icon-locate-circled",noticeTriangle:"esri-icon-notice-triangle",pause:"esri-icon-pause",play:"esri-icon-play",plus:"esri-icon-plus",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",search:"esri-icon-search",swap:"esri-icon-swap",table:"esri-icon-table",trash:"esri-icon-trash",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomToObject:"esri-icon-zoom-to-object"}},42957:function(e,t,n){"use strict";n.d(t,{A:function(){return I}});var r,i=n(82392),o=n(1817),s=n(15565),a=n(80861),l=n(81482),c=n(77380),u=n(85716),d=n(25376),h=n(26325),p=n(48524),f=n(8636),m=n(46227),y=n(46243),g=n(13005),v=n(89179),b=n(19900),w=n(94838),_=n(68717),S=n(4331);const x="percent-of-total",M="field",A=new o.J({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:x,esriNormalizeByField:M}),T=(0,f.dp)(v.A);let I=r=class extends((0,g.h)(y.A)){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,n){if(!Array.isArray(e))return;let r=t.minValue;return e.map((e=>{const t=new v.A;return t.read(e,n),null==t.minValue&&(t.minValue=r),null==t.maxValue&&(t.maxValue=t.minValue),r=t.maxValue,t}))}writeClassBreakInfos(e,t,n,r){const i=e.map((e=>e.write({},r)));this._areClassBreaksConsecutive()&&i.forEach((e=>delete e.classMinValue)),t[n]=i}castField(e){return null==e?e:"function"==typeof e?(a.A.getLogger(this).error(".field: field must be a string value"),null):(0,f.GX)(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,n=null!=this.normalizationTotal;return t||n?(e=t&&M||n&&x||null,t&&n&&a.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==M&&e!==x||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,n){let r=null;r="number"==typeof e?new v.A({minValue:e,maxValue:t,symbol:(0,S.dp)(n)}):T((0,s.o8)(e)),this.classBreakInfos.push(r),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const n=this.classBreakInfos.length;for(let r=0;r<n;r++){const n=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(n[0]===e&&n[1]===t){this.classBreakInfos.splice(r,1);break}}}getBreakIndex(e,t){return this.valueExpression&&null==t?.arcade&&a.A.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let n=t;this.valueExpression&&null==t?.arcade&&(n={...n,arcade:await(0,_.l)()});const r=this.getBreakIndex(e,n);return-1!==r?this.classBreakInfos[r]:null}getSymbol(e,t){if(this.valueExpression&&null==t?.arcade)return void a.A.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const n=this.getBreakIndex(e,t);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let n=t;if(this.valueExpression&&null==t?.arcade){const e=await(0,_.l)(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),n={...n,arcade:e}}const r=this.getBreakIndex(e,n);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}get symbols(){const e=[];return this.classBreakInfos.forEach((t=>{t.symbol&&e.push(t.symbol)})),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),n=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce(((e,t)=>e+t.getMeshHash()),"")}.${n}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new r({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,s.o8)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,s.o8)(this.visualVariables),legendOptions:(0,s.o8)(this.legendOptions),authoringInfo:(0,s.o8)(this.authoringInfo)})}async collectRequiredFields(e,t){const n=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(n)}async collectSymbolFields(e,t){const n=[...this.symbols.map((n=>n.collectRequiredFields(e,t))),(0,m.Dx)(e,t,this.valueExpression)];(0,m.rq)(e,t,this.field),(0,m.rq)(e,t,this.normalizationField),await Promise.all(n)}_getBreakIndexForExpression(e,t){const{viewingMode:n,scale:r,spatialReference:i,arcade:o,timeZone:s}=t??{},{valueExpression:a}=this;let l=this._compiledValueExpression.valueExpression===a?this._compiledValueExpression.compiledFunction:null;const c=o.arcadeUtils;if(!l){const e=c.createSyntaxTree(a);l=c.createFunction(e),this._compiledValueExpression.compiledFunction=l}this._compiledValueExpression.valueExpression=a;const u=c.executeFunction(l,c.createExecContext(e,c.getViewInfo({viewingMode:n,scale:r,spatialReference:i}),s));return this._getBreakIndexfromInfos(u)}_getBreakIndexForField(e){const t=this.field,n=e.attributes,r=this.normalizationType;let i=parseFloat(n[t]);if(r){const e=this.normalizationTotal,t=parseFloat(this.normalizationField?n[this.normalizationField]:void 0);if("log"===r)i=Math.log(i)*Math.LOG10E;else if(r!==x||null==e||isNaN(e)){if(r===M&&!isNaN(t)){if(isNaN(i)||isNaN(t))return-1;i/=t}}else i=i/e*100}return this._getBreakIndexfromInfos(i)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(null!=e&&"number"==typeof e&&!isNaN(e))for(let n=0;n<this.classBreakInfos.length;n++){const r=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(r[0]<=e&&(t?e<=r[1]:e<r[1]))return n}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let n=1;n<t;n++)if(e[n-1].maxValue!==e[n].minValue)return!1;return!0}};(0,i._)([(0,l.MZ)(b.As)],I.prototype,"backgroundFillSymbol",void 0),(0,i._)([(0,l.MZ)({type:[v.A],json:{write:{isRequired:!0}}})],I.prototype,"classBreakInfos",void 0),(0,i._)([(0,d.w)("classBreakInfos")],I.prototype,"readClassBreakInfos",null),(0,i._)([(0,p.K)("classBreakInfos")],I.prototype,"writeClassBreakInfos",null),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],I.prototype,"defaultLabel",void 0),(0,i._)([(0,l.MZ)(b.z4)],I.prototype,"defaultSymbol",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],I.prototype,"field",void 0),(0,i._)([(0,c.w)("field")],I.prototype,"castField",null),(0,i._)([(0,l.MZ)({type:Boolean})],I.prototype,"isMaxInclusive",void 0),(0,i._)([(0,l.MZ)({type:w.A,json:{write:!0}})],I.prototype,"legendOptions",void 0),(0,i._)([(0,l.MZ)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],I.prototype,"minValue",null),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],I.prototype,"normalizationField",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],I.prototype,"normalizationTotal",void 0),(0,i._)([(0,l.MZ)({type:A.apiValues,value:null,json:{type:A.jsonValues,read:A.read,write:A.write}})],I.prototype,"normalizationType",null),(0,i._)([(0,u.e)({classBreaks:"class-breaks"})],I.prototype,"type",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],I.prototype,"valueExpression",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],I.prototype,"valueExpressionTitle",void 0),I=r=(0,i._)([(0,h.$)("esri.renderers.ClassBreaksRenderer")],I)},43305:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var r=n(82392),i=n(44764),o=n(62991),s=n(84977),a=n(15565),l=n(11965),c=n(19759),u=n(81482),d=n(8636),h=n(25376),p=n(26325),f=n(8e3),m=n(83382),y=n(73783),g=n(80861),v=n(77380);n(6273),n(67498);let b=class extends y.A{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e?.portalItem&&e.path?{...e,path:w(e.path,e.portalItem)}:e}set path(e){null!=e&&(0,c.oP)(e)?g.A.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return w(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const n=this.cdnUrl;if(null==n)throw new o.A("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(n,{responseType:e,query:{token:this.portalItem.apiKey,_ts:t?.cacheBust?Date.now():null},signal:t?.signal})}async update(e,t){const{addOrUpdateResources:r}=await n.e(81).then(n.bind(n,90081));return await r(this.portalItem,[{resource:this,content:e,compress:t?.compress,access:t?.access}],"update",t),this}hasPath(){return null!=this.path}};function w(e,t){return null==e?e:(e=e.replace(/^\/+/,""),null!=t&&(0,c.oP)(e)&&(e=(0,c.V1)(e,t.itemUrl)),e?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}(0,r._)([(0,u.MZ)()],b.prototype,"portalItem",void 0),(0,r._)([(0,u.MZ)({type:String,value:null})],b.prototype,"path",null),(0,r._)([(0,v.w)("path")],b.prototype,"_castPath",null),(0,r._)([(0,u.MZ)({type:String,readOnly:!0})],b.prototype,"url",null),(0,r._)([(0,u.MZ)({type:String,readOnly:!0})],b.prototype,"cdnUrl",null),(0,r._)([(0,u.MZ)({type:String,readOnly:!0})],b.prototype,"itemRelativeUrl",null),b=(0,r._)([(0,p.$)("esri.portal.PortalItemResource")],b);let _=class extends y.A{constructor(e){super(e),this.created=null,this.rating=null}};(0,r._)([(0,u.MZ)({type:Date})],_.prototype,"created",void 0),(0,r._)([(0,u.MZ)()],_.prototype,"rating",void 0),_=(0,r._)([(0,p.$)("esri.portal.PortalRating")],_);var S,x=n(55714);const M=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Knowledge Graph Layer","Map Service","Media Layer","Scene Service","Stream Service","Video Service","Vector Tile Service","WCS","WFS","WMS","WMTS"]),A=new Set(["KML","GeoJson","CSV"]);let T=S=class extends(s.A.JSONSupportMixin(l.A)){static from(e){return(0,d.PZ)(S,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let n=e;return"Feature Service"===e||"Feature Collection"===e?n=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":"Image Service"===e?n=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?n="Scene Layer":"Video Service"===e?n="Video Layer":"Scene Package"===e?n="Scene Layer Package":"Stream Service"===e?n="Feature Layer":"Geoprocessing Service"===e?n=t.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geoenrichment Service"===e?n="GeoEnrichment Service":"Geocoding Service"===e?n="Locator":"Microsoft Powerpoint"===e?n="Microsoft PowerPoint":"GeoJson"===e?n="GeoJSON":"Globe Service"===e?n="Globe Layer":"Vector Tile Service"===e?n="Tile Layer":"netCDF"===e?n="NetCDF":"Map Service"===e?n=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e?.toLowerCase().includes("add in")?n=e.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===e?n="Big Data File Share":"Compact Tile Package"===e?n="Tile Package (tpkx)":"Raster function template"===e?n="Raster Function Template":"OGCFeatureServer"===e?n="OGC Feature Layer":"web mapping application"===e&&t.includes("configurableApp")?n="Instant App":"Insights Page"===e?n="Insights Report":"Excalibur Imagery Project"===e?n="Excalibur Project":"3DTiles Service"===e?n="3D tiles layer":"3DTiles Package"===e&&(n="3D tiles package"),n}readExtent(e){return e&&e.length?new f.A(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type?.toLowerCase()||"",t=this.typeKeywords||[];let n,r=!1,o=!1,s=!1,a=!1,l=!1,c=!1,u=!1,d=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(r=t.includes("Hosted Service"),"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(o=t.includes("Table"),s=t.includes("Route Layer"),a=t.includes("Markup"),l=t.includes("Spatiotemporal"),c=t.includes("UtilityNetwork"),n=l&&o?"spatiotemporaltable":o?"table":s?"routelayer":a?"markup":l?"spatiotemporal":c?"utilitynetwork":r?"featureshosted":"features"):"map service"===e||"wms"===e||"wmts"===e?(l=t.includes("Spatiotemporal"),u=t.includes("Relational"),n=l||u?"mapimages":r||t.includes("Tiled")||"wmts"===e?"maptiles":"mapimages"):n="scene service"===e?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"video service"===e?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===e?t.includes("Web Tool")?"tool":"layers":"geodata service"===e?"geodataservice":"3dtiles service"===e?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):"web map"===e||"cityengine web scene"===e?n="maps":"web scene"===e?n=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===e&&t.includes("configurableApp")?n="instantapps":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?n="apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.includes("ArcGIS Pro")||"explorer map"===e&&t.indexOf("Explorer Document")?n="mapsgray":"service definition"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"netcdf"===e||"administrative report"===e?n="datafiles":"360 vr experience"===e?n="360vr":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?n="appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?n="addindesktop":"pdf"===e?n="pdf":"microsoft word"===e?n="word":"microsoft excel"===e?n="excel":"microsoft powerpoint"===e?n="ppt":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"workflow manager package"===e||"explorer map"===e&&t.includes("Explorer Mapping Application")||t.includes("Document")?n="datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?n="toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?n="layersgray":"analysis model"===e?n="analysismodel":"scene package"===e?n="scenepackage":"3dtiles package"===e?n="3dtileslayerpackage":"3dtiles service"===e?n="3dtileslayer":"mobile scene package"===e?n="mobilescenepackage":"tile package"===e||"compact tile package"===e?n="tilepackage":"task file"===e?n="taskfile":"report template"===e?n="report-template":"statistical data collection"===e?n="statisticaldatacollection":"insights workbook"===e?n="workbook":"insights model"===e?n="insightsmodel":"insights page"===e?n="insightspage":"insights theme"===e?n="insightstheme":"hub initiative"===e?n="hubinitiative":"hub page"===e?n="hubpage":"hub site application"===e?n="hubsite":"hub event"===e?n="hubevent":"hub project"===e?n="hubproject":"relational database connection"===e?n="relationaldatabaseconnection":"big data file share"===e?n="datastorecollection":"image collection"===e?n="imagecollection":"desktop style"===e?n="desktopstyle":"style"===e?n=t.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===e?n="dashboard":"raster function template"===e?n="rasterprocessingtemplate":"vector tile package"===e?n="vectortilepackage":"ortho mapping project"===e?n="orthomappingproject":"ortho mapping template"===e?n="orthomappingtemplate":"solution"===e?n="solutions":"geopackage"===e?n="geopackage":"deep learning package"===e?n="deeplearningpackage":"real time analytic"===e?n="realtimeanalytics":"reality mapping project"===e?n="realitymappingproject":"big data analytic"===e?n="bigdataanalytics":"feed"===e?n="feed":"excalibur imagery project"===e?n="excaliburimageryproject":"notebook"===e?n="notebook":"storymap"===e?n="storymap":"survey123 add in"===e?n="survey123addin":"mission"===e?n="mission":"mission report"===e?n="missionreport":"mission template"===e?n="missiontemplate":"quickcapture project"===e?n="quickcaptureproject":"pro report"===e?n="proreport":"pro report template"===e?n="proreporttemplate":"urban model"===e?n="urbanmodel":"urban project"===e?n="urbanproject":"web experience"===e?n="experiencebuilder":"web experience template"===e?n="webexperiencetemplate":"experience builder widget"===e?n="experiencebuilderwidget":"experience builder widget package"===e?n="experiencebuilderwidgetpackage":"workflow"===e?n="workflow":"kernel gateway connection"===e?n="kernelgatewayconnection":"insights script"===e?n="insightsscript":"hub initiative template"===e?n="hubinitiativetemplate":"storymap theme"===e?n="storymaptheme":"knowledge graph"===e?n="knowledgegraph":"knowledge graph layer"===e?n="knowledgegraphlayer":"knowledge studio project"===e?n="knowledgestudio":"native application"===e?n="nativeapp":"native application installer"===e?n="nativeappinstaller":"web link chart"===e?n="linkchart":"knowledge graph web investigation"===e?n="investigation":"ogcfeatureserver"===e?n="features":"pro presentation"===e?n="propresentation":"pro project"===e?n="proproject":"insights workbook package"===e?n="insightsworkbookpackage":"apache parquet"===e?n="apacheparquet":"notebook code snippet library"===e?n="notebookcodesnippets":"suitability model"===e?n="suitabilitymodel":"esri classifier definition"===e?n="classifierdefinition":"esri classification schema"===e?n="classificationschema":"insights data engineering workbook"===e?n="dataengineeringworkbook":"insights data engineering model"===e?n="dataengineeringmodel":"deep learning studio project"===e?n="deeplearningproject":"discussion"===e?n="discussion":"allsource project"===e?n="allsourceproject":"api key"===e?n="apikey":"data pipeline"===e?n="datapipelines":"group layer"===e?(d=t.includes("Map"),n=d?"layergroup2d":"layergroup"):n="media layer"===e?"onlinemedialayer":"form"===e?t.includes("Survey123")?"survey":"datafilesgray":"csv"===e?"csv":"image"===e?"image":"maps",n?(0,i.s)("esri/images/portal/"+n+"16.png"):null}get isLayer(){return null!=this.type&&M.has(this.type)}get itemCdnUrl(){return(0,x.a)(this.itemUrl)}get itemPageUrl(){const e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){const e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){const e=this.portal?.restUrl;if(!e)return null;const t=this.owner||this.portal?.user?.id;return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=m.A.getDefault()),n=t.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:null!=e?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(n),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}},n=e instanceof _?e.rating:e;return null==n||isNaN(n)||"number"!=typeof e||(t.query.rating=n),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new _({rating:n,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,a.o8)(this.applicationProxies),avgRating:this.avgRating,categories:(0,a.o8)(this.categories),classification:(0,a.o8)(this.classification),created:(0,a.o8)(this.created),culture:this.culture,description:this.description,extent:(0,a.o8)(this.extent),groupCategories:(0,a.o8)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,a.o8)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,a.o8)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,a.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,a.o8)(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new S({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const t of["tags","typeKeywords","categories"])e[t]=e[t]?.join(", ");for(const t of["extent","classification"]){const n=e[t];n&&(e[t]=JSON.stringify(n))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return null!=t.rating?(t.created=new Date(t.created),new _(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},S)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e?.data,n={method:"post"};n.query=this.createPostQuery();for(const e in n.query)null===n.query[e]&&(n.query[e]="");return n.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?n.query.text=t:"object"==typeof t&&(n.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,n).then((()=>this.reload()))})):Promise.reject(new o.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new o.A("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:n}=this;await t.signIn();const{copyResources:r,folder:i,tags:s,title:a}=e||{},l={method:"post",query:{copyPrivateResources:"all"===r,folder:"string"==typeof i?i:i?.id,includeResources:!!r,tags:s?.join(","),title:a}},{itemId:c}=await t.request(`${n}/copy`,l);return new S({id:c,portal:t})}updateThumbnail(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e.thumbnail,n=e.filename,r={method:"post"};if("string"==typeof t)(0,c.DB)(t)?r.query={data:t}:r.query={url:(0,c.s2)(t)},null!=n&&(r.query.filename=n);else{const e=new FormData;null!=n?e.append("file",t,n):e.append("file",t),r.body=e}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then((()=>this.reload()))})):Promise.reject(new o.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:r}=await n.e(81).then(n.bind(n,90081));return r(this,e,t)}async addResource(e,t,r){const{addOrUpdateResources:i}=await n.e(81).then(n.bind(n,90081));return e.portalItem=this,await i(this,[{resource:e,content:t,compress:r?.compress,access:r?.access}],"add",r),e}async removeResource(e,t){const{removeResource:r}=await n.e(81).then(n.bind(n,90081));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new o.A("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await n.e(81).then(n.bind(n,90081));return t(this,e)}resourceFromPath(e){return new b({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:(0,a.o8)(this.categories),classification:(0,a.o8)(this.classification),created:this.created?.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,a.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,a.o8)(this.typeKeywords),url:this.url};return(0,a.oy)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new S({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};(0,r._)([(0,u.MZ)({type:["private","shared","org","public"]})],T.prototype,"access",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"accessInformation",void 0),(0,r._)([(0,u.MZ)({type:String})],T.prototype,"apiKey",void 0),(0,r._)([(0,u.MZ)({json:{read:{source:"appProxies"}}})],T.prototype,"applicationProxies",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"avgRating",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"categories",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"classification",void 0),(0,r._)([(0,u.MZ)({type:Date})],T.prototype,"created",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"culture",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"description",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],T.prototype,"displayName",null),(0,r._)([(0,u.MZ)({type:f.A})],T.prototype,"extent",void 0),(0,r._)([(0,h.w)("extent")],T.prototype,"readExtent",null),(0,r._)([(0,u.MZ)()],T.prototype,"groupCategories",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],T.prototype,"iconUrl",null),(0,r._)([(0,u.MZ)()],T.prototype,"id",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],T.prototype,"isLayer",null),(0,r._)([(0,u.MZ)({type:Boolean,readOnly:!0})],T.prototype,"isOrgItem",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"itemControl",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],T.prototype,"itemPageUrl",null),(0,r._)([(0,u.MZ)({readOnly:!0})],T.prototype,"itemUrl",null),(0,r._)([(0,u.MZ)()],T.prototype,"licenseInfo",void 0),(0,r._)([(0,u.MZ)({type:Date})],T.prototype,"modified",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"name",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"numComments",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"numRatings",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"numViews",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"owner",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"ownerFolder",void 0),(0,r._)([(0,u.MZ)({type:m.A})],T.prototype,"portal",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"screenshots",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"size",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"snippet",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"sourceJSON",void 0),(0,r._)([(0,u.MZ)({type:String})],T.prototype,"sourceUrl",void 0),(0,r._)([(0,u.MZ)({type:String})],T.prototype,"spatialReference",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"tags",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"thumbnail",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],T.prototype,"thumbnailUrl",null),(0,r._)([(0,u.MZ)()],T.prototype,"title",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"type",void 0),(0,r._)([(0,u.MZ)()],T.prototype,"typeKeywords",void 0),(0,r._)([(0,u.MZ)({type:String,json:{read(e,t){if(A.has(t.type)){const t=this.portal?.restUrl;e||=t&&this.id?`${t}/content/items/${this.id}/data`:null}return e}}})],T.prototype,"url",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],T.prototype,"userItemUrl",null),T=S=(0,r._)([(0,p.$)("esri.portal.PortalItem")],T)},43532:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});var r,i=n(82392),o=n(61090),s=n(62991),a=n(80861),l=n(37623),c=n(81482),u=(n(6273),n(67498),n(85716)),d=n(26325),h=n(83382),p=n(55714),f=n(999),m=n(51431);let y=r=class extends f.A{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=null!=this.portal?this.portal:h.A.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new r({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol(e)}async fetchCIMSymbol(e){(0,o.eO)(a.A.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const t=await this._fetchSymbol({...e,acceptedFormats:["cim"]});if("cim"!==t?.type)throw new s.A("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=null!=e?e.cache:null,r=t?this._fetchCacheKey:null;if(null!=t){const e=r&&t.get(r);if(e)return e.clone()}const{resolveWebStyleSymbol:i}=await n.e(3983).then(n.bind(n,43983));(0,l.Te)(e);const o=i(this,{portal:this.portal},e);o.catch((e=>{a.A.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",e)}));const s=await o;return null!=t&&t.set(r,s.clone()),s}};(0,i._)([(0,c.MZ)({json:{write:!1}})],y.prototype,"color",void 0),(0,i._)([(0,c.MZ)({type:String,json:{write:!0}})],y.prototype,"styleName",void 0),(0,i._)([(0,c.MZ)({type:h.A,json:{write:!1}})],y.prototype,"portal",void 0),(0,i._)([(0,c.MZ)({type:String,json:{read:p.r,write:p.w}})],y.prototype,"styleUrl",void 0),(0,i._)([(0,c.MZ)({type:m.V,json:{read:!1}})],y.prototype,"thumbnail",void 0),(0,i._)([(0,c.MZ)({type:String,json:{write:!0}})],y.prototype,"name",void 0),(0,i._)([(0,u.e)({styleSymbolReference:"web-style"},{readOnly:!0})],y.prototype,"type",void 0),(0,i._)([(0,c.MZ)()],y.prototype,"_fetchCacheKey",null),y=r=(0,i._)([(0,d.$)("esri.symbols.WebStyleSymbol")],y)},44034:function(e,t,n){"use strict";n.d(t,{d:function(){return w}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(26325)),s=n(20879),a=n(14755),l=n(84977),c=n(21750),u=n(48524),d=n(55423),h=n(9014),p=n(47659),f=n(44695);let m=class extends(a.A.ClonableMixin(l.A)){constructor(e){super(e),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};(0,r._)([(0,i.MZ)({type:[p.A],json:{write:!0}})],m.prototype,"labelingInfo",void 0),(0,r._)([(0,i.MZ)(h.kF)],m.prototype,"labelsVisible",void 0),(0,r._)([(0,i.MZ)({types:f.Hg,json:{write:!0}})],m.prototype,"renderer",void 0),(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],m.prototype,"visible",void 0),m=(0,r._)([(0,o.$)("esri.layers.support.TrackPartInfo")],m);var y=n(79645),g=n(61793),v=n(38946);let b=class extends(a.A.ClonableMixin(l.A)){constructor(e){super(e),this.enabled=!0,this.fields=[],this.latestObservations=new m({renderer:new y.A({symbol:g.UK.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new m({renderer:new y.A({symbol:g.UK.clone()})}),this.trackLines=new m({renderer:new y.A({symbol:g.A7.clone()})}),this.timeField="startTimeField"}writeFields(e,t,n){const r=e.filter((e=>"avg_angle"!==e.statisticType)).map((e=>e.toJSON()));(0,c.sM)(n,r,t)}};(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],b.prototype,"enabled",void 0),(0,r._)([(0,i.MZ)({type:[d.A],json:{write:!0}})],b.prototype,"fields",void 0),(0,r._)([(0,u.K)("fields")],b.prototype,"writeFields",null),(0,r._)([(0,i.MZ)({type:m,json:{write:!0}})],b.prototype,"latestObservations",void 0),(0,r._)([(0,i.MZ)({type:v.T,json:{write:!0}})],b.prototype,"maxDisplayDuration",void 0),(0,r._)([(0,i.MZ)({type:Number,json:{write:!0}})],b.prototype,"maxDisplayObservationsPerTrack",void 0),(0,r._)([(0,i.MZ)(h.M6)],b.prototype,"popupEnabled",void 0),(0,r._)([(0,i.MZ)({type:s.A,json:{name:"popupInfo",write:!0}})],b.prototype,"popupTemplate",void 0),(0,r._)([(0,i.MZ)({type:m,json:{write:!0}})],b.prototype,"previousObservations",void 0),(0,r._)([(0,i.MZ)({type:m,json:{write:!0}})],b.prototype,"trackLines",void 0),(0,r._)([(0,i.MZ)({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],b.prototype,"timeField",void 0),b=(0,r._)([(0,o.$)("esri.layers.support.TrackInfo")],b);const w=e=>{let t=class extends e{constructor(){super(...arguments),this.trackInfo=null}};return(0,r._)([(0,i.MZ)({type:b})],t.prototype,"trackInfo",void 0),t=(0,r._)([(0,o.$)("esri.layers.mixins.TrackableLayer")],t),t}},44062:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(91101);function i(e,t,n){t.keys().forEach((e=>{n.set(e,t.get(e),r.Gr.DEFAULTS)}));const i=e.metadata;Object.keys(i).forEach((t=>{e.internalGet(t)&&n.set(t,e.internalGet(t),r.Gr.DEFAULTS)}))}},44097:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(82392),i=n(67214),o=n(81482),s=(n(6273),n(80861),n(67498),n(25376)),a=n(26325),l=n(71276),c=n(52300),u=n(95055);let d=class extends i.L{constructor(e){super(e),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(e,t){return void 0!==e.tierName?u.A.fromJSON(e):l.A.fromJSON(e)}};(0,r._)([(0,o.MZ)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"},write:{target:"globalId",isRequired:!0}}},read:!1}})],d.prototype,"globalId",void 0),(0,r._)([(0,o.MZ)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"},write:{target:"name",isRequired:!0}}},read:!1}})],d.prototype,"title",void 0),(0,r._)([(0,o.MZ)({type:l.A,json:{origins:{service:{read:!0,write:!0}},read:!1}})],d.prototype,"traceConfiguration",void 0),(0,r._)([(0,s.w)("service","traceConfiguration")],d.prototype,"readTraceConfiguration",null),(0,r._)([(0,o.MZ)({type:Date,json:{origins:{service:{read:!0,write:!0}},read:!1}})],d.prototype,"creationDate",void 0),(0,r._)([(0,o.MZ)({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],d.prototype,"creator",void 0),(0,r._)([(0,o.MZ)({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],d.prototype,"description",void 0),(0,r._)([(0,o.MZ)({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"},write:{target:"minNumStartingPoints"}}},read:!1}})],d.prototype,"minStartingPoints",void 0),(0,r._)([(0,o.MZ)({json:{origins:{service:{read:!0,write:!0}},read:!1}})],d.prototype,"resultTypes",void 0),(0,r._)([(0,o.MZ)({type:[String],json:{origins:{service:{read:!0,write:!0}},read:!1}})],d.prototype,"tags",void 0),(0,r._)([(0,o.MZ)({type:c.fO.apiValues,json:{type:c.fO.jsonValues,origins:{service:{read:c.fO.read,write:c.fO.write}},read:!1}})],d.prototype,"traceType",void 0),d=(0,r._)([(0,a.$)("esri.networks.support.NamedTraceConfiguration")],d);const h=d},44153:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r,i=n(82392),o=n(73783),s=n(84977),a=n(15565),l=n(5262),c=n(8636),u=n(81482),d=n(26325),h=n(48524),p=n(67488);let f=class extends s.A{static{r=this}static{this.GCS_NAD_1927=null}static{this.WGS84=null}static{this.WebMercator=null}static{this.PlateCarree=null}static fromJSON(e){if(!e)return null;if(102100===e?.wkid)return r.WebMercator;if(4326===e?.wkid)return r.WGS84;const t=new r;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){if(e&&"object"==typeof e)return e;const t="string"==typeof e?"wkt":"wkid";return{[t]:e}}get isWGS84(){return(0,p.oT)(this)}get isWebMercator(){return(0,p.K8)(this)}get isGeographic(){return(0,p.EA)(this)}get isWrappable(){return(0,p.d9)(this)}get metersPerUnit(){return(0,l.GA)(this)}get unit(){return(0,l.Ij)(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===r.WGS84)return new r(p.KK);if(this===r.WebMercator)return new r(p.ch);const e=new r;return null!=this.wkid?(e.wkid=this.wkid,null!=this.latestWkid&&(e.latestWkid=this.latestWkid),null!=this.vcsWkid&&(e.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(e.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(e.wkt=this.wkt),null!=this.wkt2&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=(0,a.o8)(this.imageCoordinateSystem)),e}equals(e){if(null==e)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==e.imageCoordinateSystem)return!1;const{id:t,referenceServiceName:n}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return null==t||r?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):n?i.id===t&&i.referenceServiceName===n:i.id===t}return(0,p.aI)(this,e)}toJSON(e){return this.write(void 0,e)}};(0,i._)([(0,u.MZ)({readOnly:!0})],f.prototype,"isWGS84",null),(0,i._)([(0,u.MZ)({readOnly:!0})],f.prototype,"isWebMercator",null),(0,i._)([(0,u.MZ)({readOnly:!0})],f.prototype,"isGeographic",null),(0,i._)([(0,u.MZ)({readOnly:!0})],f.prototype,"isWrappable",null),(0,i._)([(0,u.MZ)({type:c.jz,json:{write:!0}})],f.prototype,"latestWkid",void 0),(0,i._)([(0,u.MZ)({readOnly:!0})],f.prototype,"metersPerUnit",null),(0,i._)([(0,u.MZ)({readOnly:!0})],f.prototype,"unit",null),(0,i._)([(0,u.MZ)({type:c.jz,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],f.prototype,"wkid",void 0),(0,i._)([(0,u.MZ)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],f.prototype,"wkt",void 0),(0,i._)([(0,h.K)("wkt"),(0,h.K)("web-scene","wkt")],f.prototype,"writeWkt",null),(0,i._)([(0,u.MZ)({type:String,json:{write:!1}})],f.prototype,"wkt2",void 0),(0,i._)([(0,u.MZ)({type:c.jz,json:{write:!0}})],f.prototype,"vcsWkid",void 0),(0,i._)([(0,u.MZ)({type:c.jz,json:{write:!0}})],f.prototype,"latestVcsWkid",void 0),(0,i._)([(0,u.MZ)()],f.prototype,"imageCoordinateSystem",void 0),f=r=(0,i._)([(0,d.$)("esri.geometry.SpatialReference")],f),f.prototype.toJSON.isDefaultToJSON=!0,f.GCS_NAD_1927=o.A.freeze(new f({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),f.WGS84=o.A.freeze(new f(p.KK)),f.WebMercator=o.A.freeze(new f(p.ch)),f.PlateCarree=o.A.freeze(new f(p.tQ))},44212:function(e,t,n){"use strict";n.d(t,{Jt:function(){return a},RP:function(){return s},t2:function(){return l}});var r=n(66361);function i(e,t){const n="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=t.getItemAt||Array.isArray(t)){const e=parseInt(n,10);if(!isNaN(e))return Array.isArray(t)?t[e]:t.at(e)}const i=(0,r.oY)(t);return(0,r.yh)(i,n)?i.get(n):t[n]}function o(e,t,n){if(null==e)return e;const r=i(t[n],e);return!r&&n<t.length-1?void 0:n===t.length-1?r:o(r,t,n+1)}function s(e,t,n=0){return"string"!=typeof t||t.includes(".")?o(e,(0,r.AH)(t),n):i(t,e)}function a(e,t){return s(e,t)}function l(e,t){return void 0!==s(t,e)}},44223:function(e,t,n){"use strict";n.d(t,{A:function(){return b}});var r,i=n(82392),o=n(1817),s=n(84977),a=n(57725),l=n(81482),c=(n(6273),n(80861),n(67498),n(25376)),u=n(26325),d=n(48524),h=n(46227);let p=r=class extends s.A{constructor(e){super(e)}async collectRequiredFields(e,t){return(0,h.Dx)(e,t,this.expression)}clone(){return new r({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};(0,i._)([(0,l.MZ)({type:String,json:{write:{isRequired:!0}}})],p.prototype,"expression",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],p.prototype,"title",void 0),p=r=(0,i._)([(0,u.$)("esri.symbols.support.FeatureExpressionInfo")],p);const f=p;var m,y=n(69172);const g=(0,o.O)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),v=new o.J({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let b=class extends s.A{static{m=this}constructor(e){super(e),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(e,t){return null!=e?e.expression?e:void 0:t.featureExpression&&0===t.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,t,n,r){t[n]=e.write({},r),"0"===e.expression&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):null!=e||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new m({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&(0,a.CM)(this.featureExpressionInfo,e.featureExpressionInfo)}};(0,i._)([(0,l.MZ)({type:f,json:{write:!0}})],b.prototype,"featureExpressionInfo",void 0),(0,i._)([(0,c.w)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],b.prototype,"readFeatureExpressionInfo",null),(0,i._)([(0,d.K)("featureExpressionInfo",{featureExpressionInfo:{type:f},"featureExpression.value":{type:[0]}})],b.prototype,"writeFeatureExpressionInfo",null),(0,i._)([(0,l.MZ)({type:g.apiValues,nonNullable:!0,json:{type:g.jsonValues,read:g.read,write:{writer:g.write,isRequired:!0}}})],b.prototype,"mode",null),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0}})],b.prototype,"offset",void 0),(0,i._)([(0,l.MZ)({type:y.KQ,json:{type:String,read:v.read,write:v.write}})],b.prototype,"unit",null),b=m=(0,i._)([(0,u.$)("esri.symbols.support.ElevationInfo")],b)},44695:function(e,t,n){"use strict";n.d(t,{Hg:function(){return ue},XJ:function(){return de}});var r=n(80861),i=n(42957),o=n(82392),s=n(38116),a=n(15565),l=n(81482),c=(n(6273),n(26325)),u=n(48524),d=n(46227),h=n(46243),p=n(13005),f=n(91700),m=n(56053),y=n(93814);class g{static parse(e,t,n){const r=[],i=[],o=e.split(";");for(let e=0;e<o.length;e++){const s=o[e];if(s)if(s.includes("po:")){const e=s.slice(3).split("|");if(3===e.length){const[t,n,r]=e,o=b(t,n,r);o&&i.push(o)}}else if(s.includes("|")){for(const e of s.split("|"))if(t.has(e)){r.push(e);break}}else if(t.has(s))r.push(s);else if(0===e){r.length=0,r.push(w(n));break}}return new g(r,i)}constructor(e,t){this.partNames=e,this.overrides=t}}function v(e,t){if("DashTemplate"===e)return t.split(" ").map((e=>Number(e)));if("Color"===e){const e=new y.A(t).toRgba();return[e[0],e[1],e[2],255*e[3]]}return Number(t)}function b(e,t,n){return{primitiveName:e,propertyName:t,value:v(t,n),defaultValue:null}}function w(e){switch(e){case"esriGeometryPolyline":return"Invalid_L";case"esriGeometryPolygon":return"Invalid_A";default:return"Invalid_P"}}var _=n(56630),S=n(46279),x=n(60936),M=n(77234);const A={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class T{constructor(e,t,n,r){this.url=e,this.fieldMap=n,this.dictionaryInfo=r,this._symbolPartCache=new f.q(100);this._evaluator=(async()=>_.n.from(await r,t,n))()}async getSymbolAsync(e,t,n=!0){const r=await this._evaluator,i=t?.fields??(0,S.lL)(e.attributes),o=r.createDictionaryFieldsIndex(i),s=r.evaluate(e,t?.scale??0,o,t?.spatialReference);if(null==s)return null;const a=(0,m.$B)(e.geometry),l=g.parse(s,r.itemNames,a),c="esriGeometryPoint"===a&&!e.geometry?.hasZ;return await this._cimPartsToCIMSymbol(e,l.partNames,l.overrides,c,t,n,o)}async getSymbolForControlString(e,t,n){const r=await this._evaluator,i=g.parse(e,r.itemNames,t),o="esriGeometryPoint"===t&&!n,s=I(await Promise.all(i.partNames.map((e=>this._getSymbolPart(e)))),i.overrides,o);return new x.A({data:s})}async _cimPartsToCIMSymbol(e,t,r,i,o,s,l){const c=t.map((e=>this._getSymbolPart(e,o)));let u=await Promise.all(c);if(s&&this.fieldMap&&u.length>0){const{OverrideHelper:t}=await n.e(9427).then(n.bind(n,9427));u=(0,a.o8)(u);for(const n of u)t.applyDictionaryTextOverrides(n,e,this.fieldMap,l,(0,M.bs)(n))}const d=I(u,r,i);return new x.A({data:d})}async _fetchSymbolPart(e,t){const n=await this.dictionaryInfo,r=(this.url+"/"+n.cimRefTemplateUrl).replaceAll(/\{itemName\}/gi,e),{data:i}=await(0,s.A)(r,{responseType:"json",query:{f:"json"},...t});return i}async _getSymbolPart(e,t){let n=this._symbolPartCache.get(e);return n||(n=this._fetchSymbolPart(e,t),this._symbolPartCache.put(e,n)),n}}function I(e,t,n){if(!e||0===e.length)return null;const r={...e[0]};if(e.length>1){r.effects=null,r.symbolLayers=[];for(const t of e){const e=t;if(null!=e.effects)for(const t of e.symbolLayers)null==t.effects?t.effects=e.effects:t.effects.unshift(...e.effects);r.symbolLayers.unshift(...e.symbolLayers)}}return n&&(r.callout=A),{type:"CIMSymbolReference",symbol:r,primitiveOverrides:t}}var C;let E=C=class extends((0,p.h)(h.A)){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){const e=this.getDictionaryInfo();return new T(this.url,this.config,this.fieldMap??{},e)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,n,r){r?.origin||super.writeVisualVariables(e,t,n,r)}clone(){return new C({config:(0,a.o8)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,a.o8)(this.fieldMap),url:(0,a.o8)(this.url),visualVariables:(0,a.o8)(this.visualVariables)})}async getSymbolAsync(e,t,n=!0){return this._loader.getSymbolAsync(e,t,n)}async getSymbolForControlString(e,t,n){return this._loader.getSymbolForControlString(e,t,n)}getDictionaryInfo(){return this._dictionaryInfoPromise||(this._dictionaryInfoPromise=this._fetchDictionaryInfo()),this._dictionaryInfoPromise}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await(0,d.Dx)(e,t,this.scaleExpression);for(const n in this.fieldMap){const r=this.fieldMap[n];t.has(r)&&e.add(r)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}async _fetchDictionaryInfo(){const{data:e}=await(0,s.A)(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"}});return e}};(0,o._)([(0,l.MZ)({type:T})],E.prototype,"_loader",null),(0,o._)([(0,l.MZ)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],E.prototype,"config",void 0),(0,o._)([(0,l.MZ)({type:Object,json:{write:!0}})],E.prototype,"fieldMap",void 0),(0,o._)([(0,l.MZ)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],E.prototype,"scaleExpression",void 0),(0,o._)([(0,u.K)("scaleExpression")],E.prototype,"writeData",null),(0,o._)([(0,l.MZ)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],E.prototype,"scaleExpressionTitle",void 0),(0,o._)([(0,l.MZ)({type:String,json:{write:!0}})],E.prototype,"url",void 0),(0,o._)([(0,u.K)("visualVariables")],E.prototype,"writeVisualVariables",null),E=C=(0,o._)([(0,c.$)("esri.renderers.DictionaryRenderer")],E);var k,P=n(85716),R=n(84977),O=n(77380),N=(n(67498),n(8636));let L=k=class extends R.A{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return null==e?e:"function"==typeof e?(r.A.getLogger(this).error(".field: field must be a string value"),null):(0,N.GX)(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new k({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,o._)([(0,l.MZ)({type:y.A,json:{type:[Number],write:!0}})],L.prototype,"color",void 0),(0,o._)([(0,l.MZ)({type:String,json:{write:!0}})],L.prototype,"field",void 0),(0,o._)([(0,O.w)("field")],L.prototype,"castField",null),(0,o._)([(0,l.MZ)({type:String,json:{write:!0}})],L.prototype,"label",void 0),(0,o._)([(0,l.MZ)({type:String,json:{write:!0}})],L.prototype,"valueExpression",void 0),(0,o._)([(0,l.MZ)({type:String,json:{write:!0}})],L.prototype,"valueExpressionTitle",void 0),L=k=(0,o._)([(0,c.$)("esri.renderers.support.AttributeColorInfo")],L);const D=L;var F;let j=F=class extends R.A{constructor(){super(...arguments),this.unit=null}clone(){return new F({unit:this.unit})}};(0,o._)([(0,l.MZ)({type:String,json:{write:!0}})],j.prototype,"unit",void 0),j=F=(0,o._)([(0,c.$)("esri.renderers.support.DotDensityLegendOptions")],j);const Z=j;var U,z=n(55736),V=n(24826);let B=U=class extends((0,p.h)(h.A)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new y.A([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new V.A,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new z.A({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new U({attributes:(0,a.o8)(this.attributes),backgroundColor:(0,a.o8)(this.backgroundColor),dotBlendingEnabled:(0,a.o8)(this.dotBlendingEnabled),dotShape:(0,a.o8)(this.dotShape),dotSize:(0,a.o8)(this.dotSize),dotValue:(0,a.o8)(this.dotValue),legendOptions:(0,a.o8)(this.legendOptions),outline:(0,a.o8)(this.outline),referenceScale:(0,a.o8)(this.referenceScale),seed:(0,a.o8)(this.seed),visualVariables:(0,a.o8)(this.visualVariables),authoringInfo:(0,a.o8)(this.authoringInfo)})}getControllerHash(){const e=this.attributes?.map((e=>e.field||e.valueExpression||""));return`${e}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const n of this.attributes??[])n.valueExpression&&await(0,d.Dx)(e,t,n.valueExpression),n.field&&e.add(n.field)}};(0,o._)([(0,l.MZ)({type:[D],json:{write:!0}})],B.prototype,"attributes",void 0),(0,o._)([(0,l.MZ)({type:y.A,json:{write:!0}})],B.prototype,"backgroundColor",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],B.prototype,"dotBlendingEnabled",void 0),(0,o._)([(0,l.MZ)({type:String,json:{write:!1}})],B.prototype,"dotShape",void 0),(0,o._)([(0,l.MZ)({type:Number,json:{write:!0}})],B.prototype,"dotSize",void 0),(0,o._)([(0,l.MZ)({type:Z,json:{write:!0}})],B.prototype,"legendOptions",void 0),(0,o._)([(0,l.MZ)({type:V.A,json:{default:null,write:!0}})],B.prototype,"outline",void 0),(0,o._)([(0,l.MZ)({type:Number,json:{write:!0}})],B.prototype,"dotValue",void 0),(0,o._)([(0,l.MZ)({type:Number,json:{write:!0}})],B.prototype,"referenceScale",void 0),(0,o._)([(0,l.MZ)({type:Number,json:{write:!0}})],B.prototype,"seed",void 0),(0,o._)([(0,P.e)({dotDensity:"dot-density"})],B.prototype,"type",void 0),B=U=(0,o._)([(0,c.$)("esri.renderers.DotDensityRenderer")],B);var $=n(23572),G=n(726),q=n(39991),H=n(14755);let W=class extends(H.A.ClonableMixin(R.A)){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};(0,o._)([(0,l.MZ)({type:String,json:{write:!0}})],W.prototype,"minLabel",void 0),(0,o._)([(0,l.MZ)({type:String,json:{write:!0}})],W.prototype,"maxLabel",void 0),(0,o._)([(0,l.MZ)({type:String,json:{write:!0}})],W.prototype,"title",void 0),W=(0,o._)([(0,c.$)("esri.renderers.support.HeatmapLegendOptions")],W);var J,K=n(10961),Y=n(68231);function X(e){if(null!=e){const{maxDensity:t,minDensity:n,radius:r}=e;if(null!=t||null!=n||null!=r){const{blurRadius:t,maxPixelIntensity:n,minPixelIntensity:r,...i}=e;return i}}return e}let Q=J=class extends h.A{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new q.A({ratio:0,color:new y.A("rgba(255, 140, 0, 0)")}),new q.A({ratio:.75,color:new y.A("rgba(255, 140, 0, 1)")}),new q.A({ratio:.9,color:new y.A("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(e){return X(e)}get blurRadius(){return(0,K.PU)(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,n=this.minPixelIntensity;this._set("radius",(0,K.zp)(e)),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",n*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(K.ex**2*this.blurRadius**4)}read(e,t){e=X(e),super.read(e,t)}getSymbol(){return new Y.A}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const n=this.field,r=this.valueExpression;n&&"string"==typeof n&&(0,d.rq)(e,t,n),r&&"string"==typeof r&&await(0,d.Dx)(e,t,r)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new J({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:(0,a.o8)(this.colorStops),field:this.field,legendOptions:(0,a.o8)(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,o._)([(0,l.MZ)({type:G.A,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Q.prototype,"authoringInfo",void 0),(0,o._)([(0,l.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Q.prototype,"blurRadius",null),(0,o._)([(0,l.MZ)({type:[q.A],json:{write:{isRequired:!0}}})],Q.prototype,"colorStops",void 0),(0,o._)([(0,l.MZ)({type:String,json:{write:!0}})],Q.prototype,"field",void 0),(0,o._)([(0,l.MZ)({type:W,json:{write:!0}})],Q.prototype,"legendOptions",void 0),(0,o._)([(0,l.MZ)({type:Number,json:{write:!0}})],Q.prototype,"maxDensity",void 0),(0,o._)([(0,l.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Q.prototype,"maxPixelIntensity",null),(0,o._)([(0,l.MZ)({type:Number,json:{write:!0}})],Q.prototype,"minDensity",void 0),(0,o._)([(0,l.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Q.prototype,"minPixelIntensity",null),(0,o._)([(0,l.MZ)({type:Number,cast:$.cr,json:{write:!0}})],Q.prototype,"radius",void 0),(0,o._)([(0,l.MZ)({type:Number,range:{min:0},json:{default:0,write:!0}})],Q.prototype,"referenceScale",void 0),(0,o._)([(0,P.e)({heatmap:"heatmap"})],Q.prototype,"type",void 0),(0,o._)([(0,l.MZ)({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Q.prototype,"valueExpression",void 0),(0,o._)([(0,l.MZ)({type:String})],Q.prototype,"valueExpressionTitle",void 0),(0,o._)([(0,l.MZ)({readOnly:!0})],Q.prototype,"_pixelIntensityToDensity",null),Q=J=(0,o._)([(0,c.$)("esri.renderers.HeatmapRenderer")],Q);var ee=n(3223),te=n(19900);let ne=class extends(H.A.ClonableMixin(R.A)){constructor(){super(...arguments),this.color=new y.A([0,0,0,0]),this.label=null,this.threshold=0}};(0,o._)([(0,l.MZ)({type:y.A,json:{write:!0}})],ne.prototype,"color",void 0),(0,o._)([(0,l.MZ)({type:String,json:{write:!0}})],ne.prototype,"label",void 0),(0,o._)([(0,l.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],ne.prototype,"threshold",void 0),ne=(0,o._)([(0,c.$)("esri.renderers.support.OthersCategory")],ne);var re=n(94838),ie=n(86169),oe=n(63279);const se={base:n(75906).A,key:"type",typeMap:{size:oe.A,opacity:ie.A}};let ae=class extends((0,p.h)(H.A.ClonableMixin(h.A))){constructor(e){super(e),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new y.A([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new ne,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){return new Y.A({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(ee.Ru)}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){return this.symbols.reduce(((e,t)=>e+JSON.stringify(t)),"")}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const n of this.attributes)n.valueExpression&&await(0,d.Dx)(e,t,n.valueExpression),n.field&&e.add(n.field)}};(0,o._)([(0,l.MZ)({type:[D],json:{write:!0}})],ae.prototype,"attributes",void 0),(0,o._)([(0,l.MZ)(te.As)],ae.prototype,"backgroundFillSymbol",void 0),(0,o._)([(0,l.MZ)({type:y.A,json:{write:!0}})],ae.prototype,"defaultColor",void 0),(0,o._)([(0,l.MZ)({type:String,json:{write:!0}})],ae.prototype,"defaultLabel",void 0),(0,o._)([(0,l.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],ae.prototype,"holePercentage",void 0),(0,o._)([(0,l.MZ)({type:ne,json:{write:!0}})],ae.prototype,"othersCategory",void 0),(0,o._)([(0,l.MZ)({type:re.A,json:{write:!0}})],ae.prototype,"legendOptions",void 0),(0,o._)([(0,l.MZ)({type:V.A,json:{default:null,write:!0}})],ae.prototype,"outline",void 0),(0,o._)([(0,l.MZ)({type:Number,cast:$.cr,json:{write:!0}})],ae.prototype,"size",void 0),(0,o._)([(0,P.e)({pieChart:"pie-chart"})],ae.prototype,"type",void 0),(0,o._)([(0,l.MZ)({types:[se]})],ae.prototype,"visualVariables",void 0),ae=(0,o._)([(0,c.$)("esri.renderers.PieChartRenderer")],ae);var le=n(79645),ce=n(1851);const ue={key:"type",base:h.A,typeMap:{heatmap:Q,simple:le.A,"unique-value":ce.A,"class-breaks":i.A,"dot-density":B,dictionary:E,"pie-chart":ae},errorContext:"renderer"},de={key:"type",base:h.A,typeMap:{simple:le.A,"unique-value":ce.A,"class-breaks":i.A,heatmap:Q},errorContext:"renderer",validate:function(e){switch(e.type){case"simple":return function(e){if(e.symbol)return e;r.A.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}(e);case"unique-value":return function(e){const t=e.uniqueValueInfos,n=t?.filter((({symbol:e,label:t},n)=>(e||r.A.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${n}] ${t}) without a symbol from web scene.`),!!e)));return n?.length!==t?.length&&(e.uniqueValueInfos=n),e}(e);case"class-breaks":return function(e){const t=e.classBreakInfos,n=t?.filter((({symbol:e,label:t},n)=>(e||r.A.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${n}] ${t}) without a symbol from web scene.`),!!e)));return n?.length!==t?.length&&(e.classBreakInfos=n),e}(e);case"heatmap":return e}}}},44764:function(e,t,n){"use strict";n.d(t,{s:function(){return a}});var r=n(32083),i=(n(38116),n(62991)),o=n(80861),s=n(19759);function a(e){if(!r.A.assetsPath)throw o.A.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new i.A("assets:path-not-set","config.assetsPath is not set");return(0,s.fj)(r.A.assetsPath,e)}},44774:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(82392),i=n(14755),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(72396),l=n(45441);let c=class extends(i.A.ClonableMixin(a.A)){constructor(e){super(e),this.associationTypes=null,this.editableExpression=null,this.type="utilityNetworkAssociations"}};(0,r._)([(0,o.MZ)({type:[l.A],json:{write:{isRequired:!0}}})],c.prototype,"associationTypes",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],c.prototype,"editableExpression",void 0),(0,r._)([(0,o.MZ)({type:["utilityNetworkAssociations"],json:{read:!1,write:!0}})],c.prototype,"type",void 0),c=(0,r._)([(0,s.$)("esri.form.elements.UtilityNetworkAssociationsElement")],c);const u=c},44945:function(e,t,n){"use strict";n.d(t,{CG:function(){return s},Dd:function(){return a},Jn:function(){return l},Qc:function(){return c}});var r=n(32083),i=n(19759);const o=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function s(e){if(!c(e))return null;const t=t=>t instanceof RegExp?t.test(e):"string"==typeof t&&e.startsWith(t),n=r.A.apiKeys;if(Array.isArray(n.scopes))for(const e of n.scopes)if(Array.isArray(e.urls)){if(e.urls.some(t))return e.token}else if(t(e.urls))return e.token;return n.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(e)?n.basemapStyles:r.A.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(e)?r.A.apiKey:null}function a(){return null!=r.A.apiKey||null!=r.A.apiKeys.basemapStyles}function l(e,t){return t?c(e):null!=s(e)}function c(e){const t=(0,i.$z)(e,!0);return!!t&&!o.has(t)&&!e.endsWith("/sharing/rest/generateToken")}},45007:function(e,t,n){"use strict";n.d(t,{aK:function(){return l},yr:function(){return f},oW:function(){return h}});var r=n(2799);const i=(e,{host:t,key:n,isReactive:i},o)=>{const s=t,a=s[n]!==e.exports,l=s[n]!==o,c=o!==e.exports;a&&!l&&c&&(s[n]=e.exports);if(t===e.component){if(i){const t=e.component.manager;l&&t.W(e,s[n]),e.onUpdate((r=>{if(r.has(n)){const r=s[n];r!==e.exports&&t.W(e,r)}}))}e.O=i?void 0:n}const u=e.component.constructor.elementProperties.get(n)?.readOnly;e.watchExports((()=>{s[n]!==e.exports&&(u?(0,r.h)((()=>{s[n]=e.exports})):s[n]=e.exports)}))};var o=n(46337),s=n(98015);const a=e=>u(void 0,e),l=e=>t=>u(t,e);class c extends r.C{constructor(e,t){super(e);const n=this.exports;try{(0,r.s)(this.component);const e=t(this.component,this),i=this.exports!==n;if((0,r.i)(e)){i||this.setProvisionalExports(e);const t=e.then((e=>{this.exports=e,super.catchUpLifecycle()})).catch((e=>{this.P.reject(e)}));this.onLoad((async()=>await t))}else i&&void 0===e||(this.exports=e),queueMicrotask((()=>super.catchUpLifecycle()))}catch(e){this.P.reject(e)}}catchUpLifecycle(){}}const u=(d=c,(...e)=>{const t=(0,r.e)(),n=new d(...e),o=n.exports;(0,r.d)(t.at(-1));const s=n.component.manager;s.W(n,o),n.watchExports(s.W.bind(s,n)),(0,r.o)(n);const a=[n.component,...t].reverse();return(0,r.t)(a,(e=>void 0===e?void 0:i(n,e,o)),o)});var d;const h=(e,t)=>new p(e,t);class p extends r.C{#f;#m;#y;constructor(e,t){super(),o.S$||(this.#m=e,this.#y=t,this.#f=new MutationObserver((n=>{n.forEach((n=>{e.includes(n.attributeName)&&t.call(this.component,this.component.el.getAttribute(n.attributeName),n.oldValue,n.attributeName)}))})))}hostConnected(){this.#m.forEach((e=>{this.component.el.hasAttribute(e)&&this.#y.call(this.component,null,this.component.el.getAttribute(e),e)})),this.#f.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this.#m})}hostDisconnected(){this.#f.disconnect()}}const f=e=>(t={})=>a(((n,r)=>{const i=(0,s.kn)(n.el),o={_lang:i.lang,_t9nLocale:i.t9nLocale,_loading:!0},a=n;r.onLifecycle((()=>(0,s.hd)(n.el,(()=>e("./assets")),(({t9nLocale:e,t9nStrings:t,lang:i})=>{const o={...t,_lang:i,_t9nLocale:e,_loading:!1};r.exports=o;const s=t.componentLabel;"string"==typeof s&&"label"in n&&null==n.label&&(n.label??=s),l(a.messageOverrides)}),t.name)));const l=e=>{const t=r.exports,n=t._original??t,i=m(n,e);e&&(i._original=n),r.exports=i};return"messageOverrides"in a&&r.onUpdate((e=>{e.has("messageOverrides")&&l(a.messageOverrides)})),t.blocking?(r.setProvisionalExports(o,!1),r.ready):o})),m=(e,t)=>{if(!t)return e;const n={...e};return Object.entries(t).forEach((([t,r])=>{n[t]="object"==typeof r?m(e[t],r):r??e[t]})),n}},45237:function(e,t,n){"use strict";n.d(t,{V:function(){return l}});var r=n(48015),i=n(36752),o=n(62245);const s="validation-container",a=()=>{},l=({scale:e,status:t,id:n,icon:l,message:c,ref:u})=>i.qy`<div class=${(0,o.CP)(s)} ${(0,r.K)(u||a)}><calcite-input-message aria-live=polite .icon=${l} id=${n??i.s6} .scale=${e} .status=${t}>${c}</calcite-input-message></div>`},45352:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var r,i=n(82392),o=n(1817),s=n(84977),a=n(81482),l=n(8636),c=(n(6273),n(67498),n(85716)),u=n(25376),d=n(26325),h=n(55797),p=n(94832);const f=new o.J({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let m=class extends s.A{static{r=this}constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let n=null;try{n=t?JSON.parse(t):null}catch(e){}return n?.value??null}readValueType(e,{description:t}){let n=null;try{n=t?JSON.parse(t):null}catch(e){}return n?f.fromJSON(n.fieldValueType):null}clone(){return new r({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],m.prototype,"alias",void 0),(0,i._)([(0,a.MZ)({type:[String,Number],json:{write:{allowNull:!0}}})],m.prototype,"defaultValue",void 0),(0,i._)([(0,a.MZ)()],m.prototype,"description",void 0),(0,i._)([(0,u.w)("description")],m.prototype,"readDescription",null),(0,i._)([(0,a.MZ)({types:h.gK,json:{read:{reader:h.rS},write:!0}})],m.prototype,"domain",void 0),(0,i._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],m.prototype,"editable",void 0),(0,i._)([(0,a.MZ)({type:l.jz,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],m.prototype,"length",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,i._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],m.prototype,"nullable",void 0),(0,i._)([(0,c.e)(p.m)],m.prototype,"type",void 0),(0,i._)([(0,a.MZ)()],m.prototype,"valueType",void 0),(0,i._)([(0,u.w)("valueType",["description"])],m.prototype,"readValueType",null),(0,i._)([(0,a.MZ)({type:Boolean,json:{read:!1}})],m.prototype,"visible",void 0),m=r=(0,i._)([(0,d.$)("esri.layers.support.Field")],m)},45441:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(82392),i=n(14755),o=n(84977),s=n(81482),a=n(8636),l=(n(6273),n(67498),n(26325));let c=class extends(i.A.ClonableMixin(o.A)){constructor(e){super(e),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"title",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,r._)([(0,s.MZ)({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],c.prototype,"type",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{type:a.jz,write:!0}})],c.prototype,"associatedNetworkSourceId",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{type:a.jz,write:!0}})],c.prototype,"associatedAssetGroup",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{type:a.jz,write:!0}})],c.prototype,"associatedAssetType",void 0),c=(0,r._)([(0,l.$)("esri.popup.support.UtilityNetworkAssociationType")],c);const u=c},45449:function(e,t,n){"use strict";n.d(t,{A:function(){return b}});var r=n(82392),i=n(38116),o=n(62991),s=n(57888),a=n(23377),l=n(11965),c=n(80861),u=n(37623),d=n(19759),h=n(81482),p=(n(6273),n(67498),n(26325)),f=n(8e3),m=n(44153),y=n(32083);var g=n(72991);let v=0,b=class extends(s.A.EventedMixin(a.A.IdentifiableMixin(l.A))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new f.A(-180,-90,180,90,m.A.WGS84),this.id=Date.now().toString(16)+"-layer-"+v++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=m.A.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const t="string"==typeof e?{url:e}:e;return(await n.e(653).then(n.bind(n,653))).fromUrl(t)}static fromPortalItem(e){return async function(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await Promise.resolve().then(n.bind(n,25302));try{return await r(t)}catch(e){const n=t?.portalItem,r=n?.id||"unset",i=n?.portal?.url||y.A.portalUrl;throw c.A.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+i+"', id: '"+r+"')",e),e}}(e)}initialize(){this.when().catch((e=>{(0,u.zf)(e)||c.A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})}))}destroy(){const e=this.parent;if(e){const t=this;"layers"in e&&e.layers.includes(t)?e.layers.remove(t):"tables"in e&&e.tables.includes(t)?e.tables.remove(t):"baseLayers"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):"referenceLayers"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t),this._set("parent",null)}}get effectiveVisible(){let e=this.visible;const t=this.parent;return e&&t&&"effectiveVisible"in t&&(e&&=t.effectiveVisible),e}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,d.An)(this.url)}createLayerView(e,t){return Promise.reject(new o.A("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await(0,i.A)(e,{query:{f:"json"},responseType:"json"})).data;throw new o.A("layer:no-attribution-data","Layer does not have attribution data")}};(0,r._)([(0,h.MZ)({type:String})],b.prototype,"attributionDataUrl",void 0),(0,r._)([(0,h.MZ)({readOnly:!0})],b.prototype,"effectiveVisible",null),(0,r._)([(0,h.MZ)({type:f.A})],b.prototype,"fullExtent",void 0),(0,r._)([(0,h.MZ)({readOnly:!0})],b.prototype,"hasAttributionData",null),(0,r._)([(0,h.MZ)({type:String,clonable:!1})],b.prototype,"id",void 0),(0,r._)([(0,h.MZ)({type:Boolean,nonNullable:!0})],b.prototype,"legendEnabled",void 0),(0,r._)([(0,h.MZ)({type:["show","hide","hide-children"]})],b.prototype,"listMode",void 0),(0,r._)([(0,h.MZ)({type:Number,range:{min:0,max:1},nonNullable:!0})],b.prototype,"opacity",void 0),(0,r._)([(0,h.MZ)({clonable:!1})],b.prototype,"parent",void 0),(0,r._)([(0,h.MZ)({readOnly:!0})],b.prototype,"parsedUrl",null),(0,r._)([(0,h.MZ)({type:Boolean,readOnly:!0})],b.prototype,"persistenceEnabled",void 0),(0,r._)([(0,h.MZ)({type:Boolean})],b.prototype,"popupEnabled",void 0),(0,r._)([(0,h.MZ)({type:Boolean})],b.prototype,"attributionVisible",void 0),(0,r._)([(0,h.MZ)({type:m.A})],b.prototype,"spatialReference",void 0),(0,r._)([(0,h.MZ)({type:String})],b.prototype,"title",void 0),(0,r._)([(0,h.MZ)({readOnly:!0,json:{read:!1}})],b.prototype,"type",void 0),(0,r._)([(0,h.MZ)()],b.prototype,"url",void 0),(0,r._)([(0,h.MZ)({type:g.T})],b.prototype,"visibilityTimeExtent",void 0),(0,r._)([(0,h.MZ)({type:Boolean,nonNullable:!0})],b.prototype,"visible",void 0),b=(0,r._)([(0,p.$)("esri.layers.Layer")],b)},45501:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r=n(82392),i=(n(6273),n(84977)),o=n(80861),s=n(81482),a=(n(67498),n(26325)),l=n(60131),c=n(86924),u=n(77691),d=n(95617),h=n(16976),p=n(46415);let f=class extends i.A{constructor(e){super(e),this.lookup={rendererJSON:{}},this.canRenderInWebGL=!1}bind(){const{rendererJSON:e}=this;if(!e)return{success:!1};let t;switch(this.lookup={rendererJSON:{}},e.type){case"uniqueValue":t=this._updateUVRenderer(e);break;case"rasterColormap":t=this._updateColormapRenderer(e);break;case"rasterStretch":t=this._updateStretchRenderer(e);break;case"classBreaks":t=this._updateClassBreaksRenderer(e);break;case"rasterShadedRelief":t=this._updateShadedReliefRenderer(e);break;case"vectorField":t=this._updateVectorFieldRenderer();break;case"flowRenderer":t=this._updateFlowRenderer()}return t}symbolize(e){let t=e?.pixelBlock;if(!m(t))return t;if(e.simpleStretchParams&&"rasterStretch"===this.rendererJSON.type)return this.simpleStretch(t,e.simpleStretchParams);try{let n;switch(t.pixels.length>3&&(t=t.extractBands(e.bandIds??[0,1,2])),this.rendererJSON.type){case"uniqueValue":case"rasterColormap":n=this._symbolizeColormap(t);break;case"classBreaks":n=this._symbolizeClassBreaks(t);break;case"rasterStretch":n=this._symbolizeStretch(t,e.bandIds);break;case"rasterShadedRelief":{const r=e.extent,i=r.spatialReference.isGeographic,o={x:(r.xmax-r.xmin)/t.width,y:(r.ymax-r.ymin)/t.height};n=this._symbolizeShadedRelief(t,{isGCS:i,resolution:o});break}}return n}catch(e){return o.A.getLogger(this).error("symbolize",e.message),t}}simpleStretch(e,t){if(!m(e))return e;try{return e.pixels.length>3&&(e=e.extractBands([0,1,2])),(0,u._N)(e,{...t,isRenderer:!0})}catch(t){return o.A.getLogger(this).error("symbolize",t.message),e}}generateWebGLParameters(e){const{rendererJSON:t}=this;switch(t.type){case"uniqueValue":case"rasterColormap":case"classBreaks":return this._generateColormapWebGLParams("classBreaks"===t.type);case"rasterStretch":return this._generateStretchWebGLParams(e.pixelBlock,t,e.bandIds);case"rasterShadedRelief":return this._generateShadedReliefWebGLParams(t,e.isGCS,e.resolution??void 0);case"vectorField":return this._generateVectorFieldWebGLParams(t);default:return null}}_isLUTChanged(e){const t=this.lookup.rendererJSON;if(!t)return!0;const{rendererJSON:n}=this;if("colorRamp"in n&&n.colorRamp){const r=n.colorRamp;if(e)return JSON.stringify(r)!==JSON.stringify(t.colorRamp)}return JSON.stringify(n)!==JSON.stringify(t)}_symbolizeColormap(e){return this._isLUTChanged()&&!this.bind().success?e:(0,c.qL)(e,this.lookup.colormapLut)}_symbolizeClassBreaks(e){const{canUseIndexedLUT:t}=this._analyzeClassBreaks(this.rendererJSON);return this._isLUTChanged()&&!this.bind().success?e:t?(0,c.qL)(e,this.lookup.colormapLut):(0,c.Hx)(e,this.lookup.remapLut??[])}_symbolizeStretch(e,t){if(!e)return null;const{rasterInfo:n,lookup:r}=this,{pixelType:i,bandCount:o}=n,s=this.rendererJSON,a=["u8","u16","s8","s16"].includes(i);let l;const{dra:d}=s,{gamma:h}=r;if("histogramEqualization"===s.stretchType){const i=d?null:r.histogramLut,o=(0,u.DP)(s,{rasterInfo:n,pixelBlock:e,bandIds:t,returnHistogramLut:!i}),a="u8"===n.pixelType&&!d&&(0,u.zt)(n.histograms?.[0])?e:(0,u._N)(e,{...o,gamma:h,isRenderer:!0});l=(0,c.eH)(a,{lut:d?o.histogramLut:t?.length?t.map((e=>i[e])):i,offset:0})}else if(a){let a;if(d){const r=(0,u.DP)(s,{rasterInfo:n,pixelBlock:e,bandIds:t});a=(0,u.RP)({pixelType:i,...r,gamma:h,rounding:"floor"})}else{if(this._isLUTChanged()&&!this.bind().success)return e;a=r.stretchLut}if(!a)return e;o>1&&null!=t&&t.length===e?.pixels.length&&a.lut.length===o&&(a={lut:t.map((e=>a.lut[e])),offset:a.offset}),l=(0,c.eH)(e,a)}else{const r=(0,u.DP)(s,{rasterInfo:n,pixelBlock:e,bandIds:t});l=(0,u._N)(e,{...r,gamma:h,isRenderer:!0})}if(s.colorRamp){if(this._isLUTChanged(!0)&&!this.bind().success)return e;l=(0,c.qL)(l,r.colormapLut)}return l}_symbolizeShadedRelief(e,t){const n=this.rendererJSON,r={...n,...t},i=(0,d.fw)(e,r);if(!n.colorRamp)return i;if(this._isLUTChanged(!0)&&!this.bind().success)return i;const{hsvMap:o}=this.lookup;if(!o)return i;const s=this.rasterInfo.statistics?.[0]??{min:0,max:8e3};return(0,d.SC)(i,e,o,s),i}_isVectorFieldData(){const{bandCount:e,dataType:t}=this.rasterInfo;return 2===e&&("vector-magdir"===t||"vector-uv"===t)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; VectorFieldRenderer only supports "vector-magdir" and "vector-uv".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; FlowRenderer only supports "vector-magdir" and "vector-uv".`}}_updateUVRenderer(e){const{bandCount:t,attributeTable:n,pixelType:r}=this.rasterInfo,i=e.field1;if(!i)return{success:!1,error:"Unsupported renderer; missing UniqueValueRenderer.field."};const o=e.defaultSymbol,s=1===t&&["u8","s8"].includes(r);if(!(0,p.hu)(this.rasterInfo,i)&&!s)return{success:!1,error:"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table."};const a=[];if(null!=n){const t=n.fields.find((e=>"value"===e.name.toLowerCase()));if(!t)return{success:!1,error:"Unsupported data; the data's raster attribute table does not have a value field."};n.features.forEach((n=>{const r=e.uniqueValueInfos?.find((e=>String(e.value)===String(n.attributes[i]))),s=r?.symbol?.color;s?a.push([n.attributes[t.name]].concat(s)):o&&a.push([n.attributes[t.name]].concat(o.color))}))}else{if("value"!==i.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be "Value" when raster attribute table is not available.'};e.uniqueValueInfos?.forEach((e=>{const t=e?.symbol?.color;t?a.push([parseInt(""+e.value,10)].concat(t)):o&&a.push([parseInt(""+e.value,10)].concat(o?.color))}))}if(0===a.length)return{success:!1,error:"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table."};const l=(0,c.zg)({colormap:a});return this.lookup={rendererJSON:e,colormapLut:l},this.canRenderInWebGL=(0,p.WN)(l?.indexedColormap),{success:!0}}_updateColormapRenderer(e){if(!(0,p.FA)(this.rasterInfo))return{success:!1,error:"Unsupported data; the data source does not have a colormap."};const t=e.colormapInfos.map((e=>[e.value].concat(e.color))).sort(((e,t)=>e[0]-t[0]));if(!t||0===t.length)return{success:!1,error:"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos."};const n=(0,c.zg)({colormap:t});return this.lookup={rendererJSON:e,colormapLut:n},this.canRenderInWebGL=(0,p.WN)(n?.indexedColormap),{success:!0}}_updateShadedReliefRenderer(e){if(!(0,p.iL)(this.rasterInfo))return{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; ShadedReliefRenderer only supports "elevation", or single band float/s16 data.`};if(e.colorRamp){const t=(0,h.R8)(e.colorRamp,{interpolateAlpha:!0}),n=(0,c.zg)({colormap:t}),r=(0,h.S2)(n.indexedColormap);this.lookup={rendererJSON:e,colormapLut:n,hsvMap:r}}else this.lookup={rendererJSON:e};return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(e){const{attributeTable:t,pixelType:n}=this.rasterInfo,r=t?.fields.find((e=>"value"===e.name.toLowerCase())),i=t?.fields.find((t=>t.name.toLowerCase()===e.field.toLowerCase())),o=null!=r&&null!==i;return{canUseIndexedLUT:["u8","u16","s8","s16"].includes(n)||o,tableValueField:r,tableBreakField:i}}_updateClassBreaksRenderer(e){const{attributeTable:t}=this.rasterInfo,{canUseIndexedLUT:n,tableValueField:r,tableBreakField:i}=this._analyzeClassBreaks(e),o=e.classBreakInfos;if(!o?.length)return{success:!1,error:"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos."};const s=o.sort(((e,t)=>e.classMaxValue-t.classMaxValue)),a=s[s.length-1];let l=e.minValue;if(!n){const t=[];for(let e=0;e<s.length;e++)t.push({value:s[e].classMinValue??l,mappedColor:s[e].symbol.color}),l=s[e].classMaxValue;return t.push({value:a.classMaxValue,mappedColor:a.symbol.color}),this.lookup={rendererJSON:e,remapLut:t},this.canRenderInWebGL=!1,{success:!0}}const u=[];if(null!=t&&null!=r&&null!==i&&r!==i){const n=r.name,o=i.name,a=s[s.length-1],{classMaxValue:c}=a;l=e.minValue;for(const e of t.features){const t=e.attributes[n],r=e.attributes[o],i=r===c?a:r<l?null:s.find((({classMaxValue:e})=>e>r));i&&u.push([t].concat(i.symbol.color))}}else{l=Math.floor(e.minValue);for(let e=0;e<s.length;e++){const t=s[e];for(let e=l;e<t.classMaxValue;e++)u.push([e].concat(t.symbol.color));l=Math.ceil(t.classMaxValue)}a.classMaxValue===l&&u.push([a.classMaxValue].concat(a.symbol.color))}const d=(0,c.zg)({colormap:u,fillUnspecified:!1});return this.lookup={rendererJSON:e,colormapLut:d},this.canRenderInWebGL=(0,p.WN)(d?.indexedColormap),{success:!0}}_updateStretchRenderer(e){let{stretchType:t,dra:n}=e;if(!("none"===t||e.statistics?.length||function(e){return null!=e&&e.length>0&&null!=e[0].min&&null!=e[0].max}(this.rasterInfo.statistics)||n))return{success:!1,error:"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used."};const r=e.histograms||this.rasterInfo.histograms;!function(e){return"percentClip"===e||"histogramEqualization"===e}(e.stretchType)||r?.length||n||(t="minMax");const{computeGamma:i,useGamma:o,colorRamp:s}=e;let{gamma:a}=e;if(o&&i&&!a?.length){const t=e.statistics?.length?e.statistics:this.rasterInfo.statistics;a=(0,u.fP)(this.rasterInfo.pixelType,t)}const l=this.rasterInfo.pixelType,d=!n&&["u8","u16","s8","s16"].includes(l);if("histogramEqualization"===t){const t=r.map((e=>(0,u.WF)(e)));this.lookup={rendererJSON:e,histogramLut:t}}else if(d){const t=(0,u.DP)(e,{rasterInfo:this.rasterInfo}),n=(0,u.RP)({pixelType:l,...t,gamma:o?a:null,rounding:"floor"});this.lookup={rendererJSON:e,stretchLut:n}}else this.lookup={rendererJSON:e};if(s&&!function(e){return"algorithmic"===e.type&&["0,0,0,255","0,0,0"].includes(e.fromColor.join(","))&&["255,255,255,255","255,255,255"].includes(e.toColor.join(","))}(s)){const t=(0,h.R8)(s,{interpolateAlpha:!0});this.lookup.colormapLut=(0,c.zg)({colormap:t}),this.lookup.rendererJSON=e}return this.lookup.gamma=o&&a?.length?a:null,this.canRenderInWebGL="histogramEqualization"!==t,{success:!0}}_generateColormapWebGLParams(e){const{indexedColormap:t,offset:n}=this.lookup.colormapLut||{};return{colormap:t,colormapOffset:n,isClassBreaks:e,type:"lut"}}_generateStretchWebGLParams(e,t,n){const{colormapLut:r}=this.lookup,i=t.colorRamp?r?.indexedColormap:null,o=t.colorRamp?r?.offset:null;"histogramEqualization"===t.stretchType&&(t={...t,stretchType:"minMax"});const{gamma:s}=this.lookup,a=!(!t.useGamma||!s?.some((e=>1!==e))),{minCutOff:l,maxCutOff:c,minOutput:d,maxOutput:h}=(0,u.DP)(t,{rasterInfo:this.rasterInfo,pixelBlock:e,bandIds:n});let p=0;null!=e&&(p=e.getPlaneCount(),2===p&&((e=e.clone()).statistics=[e.statistics[0]],e.pixels=[e.pixels[0]]));const{bandCount:f}=this.rasterInfo,m=Math.min(3,n?.length||p||f,f),y=i||a?1:255,g=new Float32Array(m);if(a&&s)for(let e=0;e<m;e++)s[e]>1?s[e]>2?g[e]=6.5+(s[e]-2)**2.5:g[e]=6.5+100*(2-s[e])**4:g[e]=1;1===l.length&&(l[2]=l[1]=l[0]),1===c.length&&(c[2]=c[1]=c[0]);const v=a&&s?[s[0],s[1]??s[0],s[2]??s[0]]:[1,1,1],b=a?[g[0],g[1]??g[0],g[2]??g[0]]:[1,1,1],w=c.map(((e,t)=>c[t]===l[t]?0:(h-d)/(c[t]-l[t])/y));return{bandCount:m,minOutput:d/y,maxOutput:h/y,minCutOff:l,maxCutOff:c,factor:w,useGamma:a,gamma:v,gammaCorrection:b,colormap:i,colormapOffset:o,stretchType:t.stretchType,type:"stretch"}}_generateShadedReliefWebGLParams(e,t=!1,n={x:0,y:0}){const{colormapLut:r}=this.lookup,i=e.colorRamp?r?.indexedColormap:null,o=e.colorRamp?r?.offset:null,s={...e,isGCS:t,resolution:n},a=(0,d.ng)(s),l=this.rasterInfo.statistics?.[0];return{...a,minValue:l?.min??0,maxValue:l?.max??8e3,hillshadeType:"traditional"===e.hillshadeType?0:1,type:"hillshade",colormap:i,colormapOffset:o}}_generateVectorFieldWebGLParams(e){const{style:t,inputUnit:n,outputUnit:r,visualVariables:i,symbolTileSize:o,flowRepresentation:s}=e,a=this.rasterInfo.statistics?.[0].min??0,l=this.rasterInfo.statistics?.[0].max??50,c=i?.find((e=>"sizeInfo"===e.type))??{maxDataValue:l,maxSize:.8*o,minDataValue:a,minSize:.2*o},u=c.minDataValue??a,d=c.maxDataValue??l,h=null!=c.maxSize&&null!=c.minSize?[c.minSize/o,c.maxSize/o]:[.2,.8];if("wind_speed"===t){const e=(h[0]+h[1])/2;h[0]=h[1]=e}const p=null!=u&&null!=d?[u,d]:null;let f=null;if("classified_arrow"===t)if(null!=u&&null!=d&&null!=c){f=[];const e=(c.maxDataValue-c.minDataValue)/5;for(let t=0;t<6;t++)f.push(c.minDataValue+e*t)}else f=[0,1e-6,3.5,7,10.5,14];const m="flow_to"===s==("ocean_current_kn"===t||"ocean_current_m"===t)?0:Math.PI,y=i?.find((e=>"rotationInfo"===e.type));return{breakValues:f,dataRange:p,inputUnit:n,outputUnit:r,symbolTileSize:o,symbolPercentRange:h,style:t||"single_arrow",rotation:m,rotationType:this.rasterInfo.storageInfo?.tileInfo&&"vector-uv"===this.rasterInfo.dataType?"geographic":y?.rotationType||e.rotationType,type:"vectorField"}}};function m(e){return(0,c.AB)(e)&&0!==e.validPixelCount}(0,r._)([(0,s.MZ)({json:{write:!0}})],f.prototype,"rendererJSON",void 0),(0,r._)([(0,s.MZ)({type:l.A,json:{write:!0}})],f.prototype,"rasterInfo",void 0),(0,r._)([(0,s.MZ)({json:{write:!0}})],f.prototype,"lookup",void 0),(0,r._)([(0,s.MZ)()],f.prototype,"canRenderInWebGL",void 0),f=(0,r._)([(0,a.$)("esri.renderers.support.RasterSymbolizer")],f)},45749:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r,i=n(82392),o=n(62991),s=n(84977),a=n(81482),l=n(8636),c=(n(6273),n(67498),n(26325)),u=n(42268);let d=r=class extends s.A{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then((t=>{const n=t.categorySchema||[];return n.some((e=>"contentCategorySetsGroupQuery.LivingAtlas"===e.source))?this._fetchCategorySchemaSet("LivingAtlas",e):n}))}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new o.A("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new r({sourceJSON:e});return t.read(e),t}queryItems(e,t){let n=(0,l.dp)(u.A,e);const r=this.portal;return parseFloat(r.currentVersion)>5?(n=n||new u.A,r.queryPortal(`/content/groups/${this.id}/search`,n,"PortalItem",t)):(n=n?n.clone():new u.A,n.query="group:"+this.id+(n.query?" "+n.query:""),r.queryItems(n,t))}_fetchCategorySchemaSet(e,t){const n=this.portal;return n.fetchSelf(n.authMode,!0,t).then((e=>{const r=e.contentCategorySetsGroupQuery;if(r){const e=new u.A({disableExtraQuery:!0,num:1,query:r});return n.queryGroups(e,t)}throw new o.A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((n=>{if(n.total){const r=n.results[0],i=new u.A({num:1,query:`typekeywords:"${e}"`});return r.queryItems(i,t)}throw new o.A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((e=>e.total?e.results[0].fetchData("json",t).then((e=>{const t=e?.categorySchema;return t?.length?t:[]})):[]))}};(0,i._)([(0,a.MZ)()],d.prototype,"access",void 0),(0,i._)([(0,a.MZ)({type:Date})],d.prototype,"created",void 0),(0,i._)([(0,a.MZ)()],d.prototype,"description",void 0),(0,i._)([(0,a.MZ)()],d.prototype,"id",void 0),(0,i._)([(0,a.MZ)()],d.prototype,"isInvitationOnly",void 0),(0,i._)([(0,a.MZ)({type:Date})],d.prototype,"modified",void 0),(0,i._)([(0,a.MZ)()],d.prototype,"owner",void 0),(0,i._)([(0,a.MZ)()],d.prototype,"portal",void 0),(0,i._)([(0,a.MZ)()],d.prototype,"snippet",void 0),(0,i._)([(0,a.MZ)()],d.prototype,"sortField",void 0),(0,i._)([(0,a.MZ)()],d.prototype,"sortOrder",void 0),(0,i._)([(0,a.MZ)()],d.prototype,"sourceJSON",void 0),(0,i._)([(0,a.MZ)()],d.prototype,"tags",void 0),(0,i._)([(0,a.MZ)()],d.prototype,"thumbnail",void 0),(0,i._)([(0,a.MZ)({readOnly:!0})],d.prototype,"thumbnailUrl",null),(0,i._)([(0,a.MZ)()],d.prototype,"title",void 0),(0,i._)([(0,a.MZ)({readOnly:!0})],d.prototype,"url",null),d=r=(0,i._)([(0,c.$)("esri.portal.PortalGroup")],d)},45852:function(e,t,n){"use strict";function r(e,t,n=!1){let{hasM:r,hasZ:i}=e;Array.isArray(t)?4!==t.length||r||i?3===t.length&&n&&!r?(i=!0,r=!1):3===t.length&&r&&i&&(r=!1,i=!1):(r=!0,i=!0):(i=!i&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=r}n.d(t,{h:function(){return r}})},45878:function(e,t,n){"use strict";n.d(t,{h:function(){return o},k:function(){return i}});const r=new FinalizationRegistry((e=>{e.close()}));function i(e,t){r.register(e,t,t)}function o(e){r.unregister(e)}},45970:function(e,t,n){"use strict";n.d(t,{O:function(){return h},W:function(){return d}});var r=n(82541),i=n(79441),o=n(53334),s=n(80347);const a=(0,n(19913).vt)(),l=(0,i.vt)(),c=(0,i.vt)(),u=(0,i.vt)();function d(e,t,n){return(0,s.i)(a,t[0],t[1],1),(0,s.o)(a,a,(0,r.mg)(l,n)),0===a[2]?(0,o.hZ)(e,a[0],a[1]):(0,o.hZ)(e,a[0]/a[2],a[1]/a[2])}function h(e,t,n){return p(c,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),p(u,n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]),(0,r.lw)(e,(0,r.KC)(c,c),u),0!==e[8]&&(e[0]/=e[8],e[1]/=e[8],e[2]/=e[8],e[3]/=e[8],e[4]/=e[8],e[5]/=e[8],e[6]/=e[8],e[7]/=e[8],e[8]/=e[8]),e}function p(e,t,n,i,o,c,u,d,h){(0,r.hZ)(e,t,i,c,n,o,u,1,1,1),(0,s.i)(a,d,h,1),(0,r.KC)(l,e);const[p,f,m]=(0,s.o)(a,a,(0,r.mg)(l,l));return(0,r.hZ)(l,p,0,0,0,f,0,0,0,m),(0,r.lw)(e,l,e)}},46030:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}n.d(t,{W:function(){return r}})},46148:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(82392),i=n(14755),o=n(1817),s=n(84977),a=n(81482),l=(n(6273),n(80861),n(67498),n(26325));const c=new o.J({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),u=new o.J({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let d=class extends(i.A.ClonableMixin(s.A)){constructor(e){super(e),this.cardinality=null,this.catalogId=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,r._)([(0,a.MZ)({json:{read:c.read,write:c.write}})],d.prototype,"cardinality",void 0),(0,r._)([(0,a.MZ)({json:{name:"catalogID"}})],d.prototype,"catalogId",void 0),(0,r._)([(0,a.MZ)({json:{read:!0,write:!0}})],d.prototype,"composite",void 0),(0,r._)([(0,a.MZ)({json:{read:!0,write:!0}})],d.prototype,"id",void 0),(0,r._)([(0,a.MZ)({json:{read:!0,write:!0}})],d.prototype,"keyField",void 0),(0,r._)([(0,a.MZ)({json:{read:!0,write:!0}})],d.prototype,"keyFieldInRelationshipTable",void 0),(0,r._)([(0,a.MZ)({json:{read:!0,write:!0}})],d.prototype,"name",void 0),(0,r._)([(0,a.MZ)({json:{read:!0,write:!0}})],d.prototype,"relatedTableId",void 0),(0,r._)([(0,a.MZ)({json:{read:!0,write:!0}})],d.prototype,"relationshipTableId",void 0),(0,r._)([(0,a.MZ)({json:{read:u.read,write:u.write}})],d.prototype,"role",void 0),d=(0,r._)([(0,l.$)("esri.layers.support.Relationship")],d)},46190:function(e,t,n){"use strict";n.d(t,{d:function(){return R}});var r,i=n(63910),o=n(92273),s=n(82392),a=n(20879),l=n(15565),c=n(21750),u=n(23572),d=n(81482),h=n(8636),p=n(85716),f=n(25376),m=n(26325),y=n(48524),g=n(55423),v=n(9014),b=n(16948),w=n(47659),_=n(29221),S=n(44695);let x=r=class extends o.c{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=(0,u.cr)("12px"),this.fields=[],this.renderer=null}writeFields(e,t,n){const r=e.filter((e=>"avg_angle"!==e.statisticType)).map((e=>e.toJSON()));(0,c.sM)(n,r,t)}readRenderer(e,t,n){const r=t.drawingInfo?.renderer;return r?(0,_.L)(r,t,n)??void 0:(0,b.PD)(t,n)}clone(){return new r({fields:(0,l.o8)(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:(0,l.o8)(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:(0,l.o8)(this.popupTemplate),renderer:(0,l.o8)(this.renderer),binType:(0,l.o8)(this.binType),size:this.size})}};(0,s._)([(0,p.e)({binning:"binning"})],x.prototype,"type",void 0),(0,s._)([(0,p.e)({geohash:"geohash",square:"square"}),(0,d.MZ)({type:["geohash","square"]})],x.prototype,"binType",void 0),(0,s._)([(0,d.MZ)({type:Number,json:{write:!0}})],x.prototype,"fixedBinLevel",void 0),(0,s._)([(0,d.MZ)({type:[w.A],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],x.prototype,"labelingInfo",void 0),(0,s._)([(0,d.MZ)(v.kF)],x.prototype,"labelsVisible",void 0),(0,s._)([(0,d.MZ)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],x.prototype,"maxScale",void 0),(0,s._)([(0,d.MZ)(v.M6)],x.prototype,"popupEnabled",void 0),(0,s._)([(0,d.MZ)({type:a.A,json:{name:"popupInfo",write:!0}})],x.prototype,"popupTemplate",void 0),(0,s._)([(0,d.MZ)({cast:e=>"auto"===e?e:(0,h.GB)((0,u.cr)(e))})],x.prototype,"size",void 0),(0,s._)([(0,d.MZ)({type:[g.A],json:{write:!0}})],x.prototype,"fields",void 0),(0,s._)([(0,y.K)("fields")],x.prototype,"writeFields",null),(0,s._)([(0,d.MZ)({types:S.Hg,json:{write:{target:"drawingInfo.renderer"}}})],x.prototype,"renderer",void 0),(0,s._)([(0,f.w)("renderer",["drawingInfo.renderer"])],x.prototype,"readRenderer",null),x=r=(0,s._)([(0,m.$)("esri.layers.support.FeatureReductionBinning")],x);var M,A=n(84977),T=n(79645),I=n(4331);function C(e){return"simple"===e.type&&!e.visualVariables?.length}let E=M=class extends A.A{constructor(e){super(e),this.type="cluster",this.clusterRadius=(0,u.cr)("80px"),this.clusterMinSize=(0,u.cr)("12px"),this.clusterMaxSize=(0,u.cr)("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,n){const r=t.drawingInfo?.renderer;return r?.authoringInfo?.isAutoGenerated?null:r?C(r)?null:(0,_.L)(r,t,n)??void 0:(0,b.PD)(t,n)}readSymbol(e,t,n){const r=t.drawingInfo?.renderer;if(r?.authoringInfo?.isAutoGenerated)return null;if(r&&C(r)){const e=(0,_.L)(r,t,n);return e?.symbol}return null}writeSymbol(e,t,n,r){const i=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||i){const n=new T.A({symbol:e});t.drawingInfo={renderer:n.write({},r)}}}writeFields(e,t,n){const r=e.filter((e=>"avg_angle"!==e.statisticType)).map((e=>e.toJSON()));(0,c.sM)(n,r,t)}readFields(e,t,n){return e.filter((e=>!e.isAutoGenerated)).map((e=>g.A.fromJSON(e)))}clone(){return new M({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,l.o8)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,l.o8)(this.fields),maxScale:this.maxScale,renderer:(0,l.o8)(this.renderer),symbol:(0,l.o8)(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:(0,l.o8)(this.popupTemplate)})}};(0,s._)([(0,d.MZ)({type:["cluster"],readOnly:!0,json:{write:!0}})],E.prototype,"type",void 0),(0,s._)([(0,d.MZ)({cast:e=>"auto"===e?e:(0,h.GB)((0,u.cr)(e)),json:{write:!0}})],E.prototype,"clusterRadius",void 0),(0,s._)([(0,d.MZ)({type:Number,cast:u.cr,json:{write:!0}})],E.prototype,"clusterMinSize",void 0),(0,s._)([(0,d.MZ)({type:Number,cast:u.cr,json:{write:!0}})],E.prototype,"clusterMaxSize",void 0),(0,s._)([(0,d.MZ)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],E.prototype,"maxScale",void 0),(0,s._)([(0,d.MZ)(v.M6)],E.prototype,"popupEnabled",void 0),(0,s._)([(0,d.MZ)({type:a.A,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],E.prototype,"popupTemplate",void 0),(0,s._)([(0,d.MZ)({types:S.Hg,json:{write:{target:"drawingInfo.renderer"}}})],E.prototype,"renderer",void 0),(0,s._)([(0,f.w)("renderer",["drawingInfo.renderer"])],E.prototype,"readRenderer",null),(0,s._)([(0,d.MZ)({types:I.q8})],E.prototype,"symbol",void 0),(0,s._)([(0,f.w)("symbol",["drawingInfo.renderer"])],E.prototype,"readSymbol",null),(0,s._)([(0,y.K)("symbol")],E.prototype,"writeSymbol",null),(0,s._)([(0,d.MZ)({type:[w.A],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],E.prototype,"labelingInfo",void 0),(0,s._)([(0,d.MZ)(v.kF)],E.prototype,"labelsVisible",void 0),(0,s._)([(0,d.MZ)({type:[g.A],json:{write:!0}})],E.prototype,"fields",void 0),(0,s._)([(0,y.K)("fields")],E.prototype,"writeFields",null),(0,s._)([(0,f.w)("fields")],E.prototype,"readFields",null),E=M=(0,s._)([(0,m.$)("esri.layers.support.FeatureReductionCluster")],E);var k=n(42567);const P={key:"type",base:o.c,typeMap:{cluster:E,binning:x}},R={types:{key:"type",base:o.c,typeMap:{selection:k.A,cluster:E,binning:x}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:P},"portal-item":{types:P},"web-scene":{types:{key:"type",base:o.c,typeMap:{selection:k.A}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:i.K}}}}}},46227:function(e,t,n){"use strict";n.d(t,{A6:function(){return D},Ah:function(){return de},Bz:function(){return $},CJ:function(){return be},DB:function(){return w},Dn:function(){return ne},Dx:function(){return A},Im:function(){return G},JL:function(){return Ce},Kl:function(){return Ie},NO:function(){return E},OG:function(){return me},OH:function(){return he},R$:function(){return B},R3:function(){return se},RP:function(){return k},WA:function(){return ae},WX:function(){return ve},Xz:function(){return fe},YF:function(){return ye},_b:function(){return W},_w:function(){return _},d:function(){return P},eX:function(){return L},f:function(){return N},hL:function(){return x},hW:function(){return M},iM:function(){return ge},lD:function(){return H},mB:function(){return I},nw:function(){return Ee},o:function(){return O},rS:function(){return p},rq:function(){return S},sv:function(){return v},te:function(){return pe},uo:function(){return Te},vE:function(){return ce},yM:function(){return le},yp:function(){return y},zD:function(){return ue}});var r=n(62991),i=n(21750),o=n(98592),s=n(80189),a=n(14849),l=n(19478),c=n(42663),u=n(68717);const d=/^([0-9_])/,h=/[^a-z0-9_\u0080-\uffff]+/gi;function p(e){return null==e?null:e.trim().replaceAll(h,"_").replace(d,"F$1")||null}const f=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],m=["field","normalizationField"];function y(e,t){if(null!=e&&null!=t)for(const n of Array.isArray(e)?e:[e])if(g(f,n,t),"visualVariables"in n&&n.visualVariables)for(const e of n.visualVariables)g(m,e,t)}function g(e,t,n){if(e)for(const r of e){const e=(0,i.wc)(r,t),o=e&&"function"!=typeof e&&n.get(e);o&&(0,i.sM)(r,o.name,t)}}function v(e,t){if(null!=e&&t?.fields?.length)if("startField"in e){const n=t.get(e.startField),r=t.get(e.endField);e.startField=n?.name??null,e.endField=r?.name??null}else{const n=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=n?.name??null,e.endTimeField=r?.name??null}}const b=new Set;function w(e,t){return e&&t?(b.clear(),_(b,e,t),Array.from(b).sort()):[]}function _(e,t,n){if(n)if(t?.fields?.length)if(n.includes("*"))for(const{name:n}of t.fields)e.add(n);else for(const r of n)S(e,t,r);else{if(n.includes("*"))return e.clear(),void e.add("*");for(const t of n)null!=t&&e.add(t)}}function S(e,t,n){if("string"==typeof n)if(t){const r=t.get(n);r&&e.add(r.name)}else e.add(n)}function x(e,t){return null==t||null==e?[]:t.includes("*")?(e.fields??[]).map((e=>e.name)):t}function M(e,t,n=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=w(e,t);return r.length/e.fields.length>=n?["*"]:r}async function A(e,t,n){if(!n)return;let r;const i=(0,l.o)(n);if(i)r=[i];else{const{arcadeUtils:e}=await(0,u.l)();r=e.extractFieldNames(n,t?.fields?.map((e=>e.name)))}for(const n of r)S(e,t,n)}async function T(e,t,n){if(n&&"1=1"!==n){const i=await(0,s.GP)(n,t);if(!i.isStandardized)throw new r.A("fieldUtils:collectFilterFields","Where clause is not standardized",{where:n});_(e,t,i.fieldNames)}}function I({displayField:e,fields:t}){return e||(t?.length?C(t,"name-or-title")||C(t,"unique-identifier")||C(t,"type-or-category")||function(e){for(const t of e){if(!t?.name)continue;const e=t.name.toLowerCase();if(e.includes("name")||e.includes("title"))return t.name}return null}(t):null)}function C(e,t){for(const n of e)if(n?.valueType&&n.valueType===t)return n.name;return null}async function E(e,t){if(!t)return;const n=t.elevationInfo?.featureExpressionInfo;return n?n.collectRequiredFields(e,t.fieldsIndex):void 0}async function k(e,t,n){if(!t||!n||!("fields"in n))return;const r=[],i=n.popupTemplate;r.push(R(e,t,i)),n.fields&&r.push(...n.fields.map((async n=>function(e,t,n){n.onStatisticExpression?A(e,t,n.onStatisticExpression.expression):e.add(n.onStatisticField)}(e,t.fieldsIndex,n)))),await Promise.all(r)}async function P(e,t){const{fieldsIndex:n,trackInfo:r}=t;if(!t||!r||!n)return;const i=[r.latestObservations.renderer?.collectRequiredFields(e,n),r.previousObservations.renderer?.collectRequiredFields(e,n),r.trackLines.renderer?.collectRequiredFields(e,n)];r.popupTemplate&&i.push(R(e,t,r.popupTemplate));for(const t of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(t)for(const r of t)i.push(q(e,n,r));await Promise.all(i)}async function R(e,t,n){const r=[];n?.expressionInfos&&r.push(...n.expressionInfos.map((n=>A(e,t.fieldsIndex,n.expression))));const i=n?.content;if(Array.isArray(i))for(const n of i)"expression"===n.type&&n.expressionInfo&&r.push(A(e,t.fieldsIndex,n.expressionInfo.expression));await Promise.all(r)}async function O(e,t,n){t&&(t.timeInfo&&n?.timeExtent&&_(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&_(e,t.fieldsIndex,[t.floorInfo.floorField]),null!=n?.where&&await T(e,t.fieldsIndex,n.where))}async function N(e,t,n){t&&n&&await Promise.all(n.map((n=>async function(e,t,n){t&&n&&(n.valueExpression?await A(e,t.fieldsIndex,n.valueExpression):n.field&&S(e,t.fieldsIndex,n.field))}(e,t,n))))}function L(e){return e?w(e.fieldsIndex,z(e)):[]}async function D(e,t,n){if(!t||!n)return;const r=t.fieldsIndex;await Promise.all(n.filters.map((t=>T(e,r,t.where))))}const F=new Set(["oid","global-id","guid"]),j=new Set(["oid","global-id"]),Z=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function U(e){const t=new Set;V(e).forEach((e=>t.add(e))),function(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?w(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}(e).forEach((e=>t.add(e.toLowerCase())));const n=e&&"infoFor3D"in e?e.infoFor3D:void 0;return n&&(Object.values(n.assetMapFieldRoles).forEach((e=>t.add(e.toLowerCase()))),Object.values(n.transformFieldRoles).forEach((e=>t.add(e.toLowerCase())))),Array.from(t)}function z(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:n,creatorField:r,editDateField:i,editorField:o}=t;return[n,r,i,o].filter(Boolean)}function V(e){return z(e).map((e=>e.toLowerCase()))}function B(e,t){return e.editable&&!F.has(e.type)&&!V(t).includes(e.name?.toLowerCase()??"")}function $(e,t){const n=e.name?.toLowerCase()??"";return!(null!=t?.objectIdField&&n===t.objectIdField.toLowerCase()||null!=t?.globalIdField&&n===t.globalIdField.toLowerCase()||U(t).includes(n)||j.has(e.type)||Z.some((e=>e.test(n))))}async function G(e,t){const{labelingInfo:n,fieldsIndex:r}=t;n?.length&&await Promise.all(n.map((t=>q(e,r,t))))}async function q(e,t,n){if(!n)return;const r=n.getLabelExpression(),i=n.where;if("arcade"===r.type)await A(e,t,r.expression);else{const n=r.expression.match(/{[^}]*}/g);n&&n.forEach((n=>{S(e,t,n.slice(1,-1))}))}await T(e,t,i)}function H(e){const t=e.defaultValue;return void 0!==t&&Q(e,t)?t:e.nullable?null:void 0}function W(e){const t="string"==typeof e?{type:e}:e;return le(t)?255:"esriFieldTypeDate"===t.type||"date"===t.type?8:void 0}function J(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function K(e){return null===e||J(e)}function Y(e){return null===e||Number.isInteger(e)}function X(){return!0}function Q(e,t){let n;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":n=e.nullable?Y:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=e.nullable?K:J;break;case"string":case"esriFieldTypeString":n=e.nullable?c.CO:c.Kg;break;default:n=X}return 1===arguments.length?n:n(t)}const ee=["integer","small-integer","big-integer","long"],te=["single","double"],ne=[...ee,...te],re=new Set([...ee,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]),ie=new Set([...te,"esriFieldTypeSingle","esriFieldTypeDouble"]),oe=(0,o.KC)(re,ie);function se(e){return null!=e&&re.has(e.type)}function ae(e){return null!=e&&oe.has(e.type)}function le(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function ce(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}function ue(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)}function de(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)}function he(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)}function pe(e){return null!=e&&("oid"===e.type||"esriFieldTypeOID"===e.type)}function fe(e){return null!=e&&("global-id"===e.type||"esriFieldTypeGlobalID"===e.type)}function me(e,t){return null===be(e,t)}var ye,ge;function ve(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function be(e,t){return null==e||e.nullable&&null===t?null:Q(e,t)?ae(e)&&!function(e,t){const n="string"==typeof e?we(e):e;if(!n)return!1;const r=n.min,i=n.max;return n.isInteger?Number.isInteger(t)&&t>=r&&t<=i:t>=r&&t<=i}(e.type,Number(t))?ye.OUT_OF_RANGE:null:ge.INVALID_TYPE}function we(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return _e;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return Se;case"esriFieldTypeBigInteger":case"big-integer":return xe;case"esriFieldTypeSingle":case"single":return Me;case"esriFieldTypeDouble":case"double":return Ae}}(ye||(ye={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(ge||(ge={}));const _e={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Se={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},xe={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Me={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},Ae={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Te(e,t,n){switch(e){case a.Mh.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case a.Mh.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case ge.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case ye.OUT_OF_RANGE:{const{min:e,max:r}=we(t.type);return`Value ${n} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${r}`}}}function Ie(e,t){return!function(e,t,n){if(!e?.attributes||!t){if(null!=n)for(const e of t??[])n.add(e);return!0}const r=new Set(Object.keys(e.attributes));let i=!1;for(const e of t)if(!r.has(e)){if(i=!0,null==n)break;n.add(e)}return i}(e,t,null)}function Ce(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some((t=>e.toLowerCase().startsWith(t)))}function Ee(e){const t=e?.match(/{[^}]+}/g);return t?t.map((e=>e.slice(1,-1).split(":")[0].trim())):[]}},46243:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(82392),i=n(1817),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325)),l=n(726);const c=new i.J({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let u=class extends o.A{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const t=new Set;return await this.collectRequiredFields(t,e),Array.from(t).sort()}getSymbol(e,t){}async getSymbolAsync(e,t){}get symbols(){return[]}get arcadeRequired(){return!1}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,r._)([(0,s.MZ)({type:l.A,json:{write:!0}})],u.prototype,"authoringInfo",void 0),(0,r._)([(0,s.MZ)({type:c.apiValues,readOnly:!0,json:{type:c.jsonValues,read:!1,write:{writer:c.write,ignoreOrigin:!0,isRequired:!0}}})],u.prototype,"type",void 0),u=(0,r._)([(0,a.$)("esri.renderers.Renderer")],u)},46279:function(e,t,n){"use strict";n.d(t,{$I:function(){return p},Ad:function(){return f},Gj:function(){return g},QY:function(){return h},lL:function(){return v},xR:function(){return m}});var r=n(28300),i=n(62991),o=(n(6273),n(76902)),s=n(3991),a=n(56053),l=n(51387),c=n(68717),u=n(82506);const d=["geometry","scale","timeProperties"];function h(e,t){if(null!=t)for(const n of d)t.hasArcadeDependency(n)&&e.add(n);return e}function p(e,t){return y.create(e,t,null,["$feature","$view"])}function f(e,t){return y.create(e,t,null,["$feature","$view"])}function m(e,t,n){return y.create(e,t,n,["$feature","$view","$config"])}class y{static async create(e,t,n,r){const{arcade:o,Dictionary:s}=await(0,c.l)();let a;try{a=o.parseScript(e)}catch(t){throw new i.A("arcade-bad-expression","Failed to parse arcade script",{script:e,error:t})}const l=o.scriptUsesGeometryEngine(a);l&&await o.enableGeometrySupport(),await o.loadDependentModules(new Set,a,null,!1,l);const u={vars:r.reduce(((e,t)=>({...e,[t]:null})),{}),spatialReference:t,useAsync:!1},d=o.compileScript(a,u);let h=null;null!=n&&(h=new s(n),h.immutable=!0);const p=new s;return p.immutable=!1,p.setField("scale",0),new y(e,o,a,d,t,p,h,s)}constructor(e,t,n,r,i,o,s,a){this.script=e,this._arcade=t,this._syntaxTree=n,this._compiled=r,this._spatialReference=i,this._viewDict=o,this._configDict=s,this._dictionaryCtor=a,this._dependencies=new Map,this._featureReader=new g,this._dependencies.set("geometry",t.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}evaluate(e,t){const n=t.$view?.timeZone;if(t.$view){let e;if(this._viewDict.setField("scale",t.$view.scale),null!=t.$view.timeProperties){const{currentStart:i,currentEnd:o}=t.$view.timeProperties;e=new this._dictionaryCtor({currentStart:null!=i?null!=n?r.lY.epochToArcadeDate(i,n):r.lY.unknownEpochToArcadeDate(i):void 0,currentEnd:null!=o?null!=n?r.lY.epochToArcadeDate(o,n):r.lY.unknownEpochToArcadeDate(o):void 0,startIncluded:!0,endIncluded:!0})}this._viewDict.setField("timeProperties",e)}return this._compiled({vars:{$view:this._viewDict,$config:this._configDict,$feature:e},spatialReference:this._spatialReference,timeZone:n})}repurposeFeature(e,t){return this._featureReader.bind(e,t,this._spatialReference),this._featureReader}references(e){return this._dependencies.get(e)??!1}}class g{constructor(){this._boundTarget=null,this._boundSchema={fields:null,fieldsIndex:null,spatialReference:null,get geometryType(){return null},get objectIdField(){return null}},this.arcadeDeclaredClass="esri.arcade.Feature",this._contextTimeZone=null}bind(e,t,n){const r=t??new l.A(v(e.attributes));this._boundTarget=e,this._boundSchema.fields=r.fields,this._boundSchema.fieldsIndex=r,this._boundSchema.spatialReference=n}_getField(e){return this._boundSchema.fieldsIndex.get(e)}get contextTimeZone(){return this._contextTimeZone}set contextTimeZone(e){this._contextTimeZone=e}readArcadeFeature(){return this}hasField(e){return this._boundSchema.fieldsIndex.has(e)}geometry(){if("fromJSON"in this._boundTarget)return this._boundTarget.geometry;const e=(0,a.rS)(this._boundTarget.geometry);if(e){if(!this._boundSchema.spatialReference)throw new Error("InternalError: Expected spatial reference to be defined");e.spatialReference=this._boundSchema.spatialReference}return e}isUnknownDateTimeField(e){return this._boundSchema.fieldsIndex.getTimeZone(e)===u.L5}field(e,t=!0){const n=this._getField(e);if(n){const t=this._boundTarget.attributes[n.name];if(null==t)return null;switch(n.type){case"date-only":case"esriFieldTypeDateOnly":return o.n.fromReader(t);case"time-only":case"esriFieldTypeTimeOnly":return s.k.fromReader(t);case"esriFieldTypeTimestampOffset":case"timestamp-offset":return r.lY.fromReaderAsTimeStampOffset(t);case"date":case"esriFieldTypeDate":return this.isUnknownDateTimeField(e)?r.lY.unknownEpochToArcadeDate(t):r.lY.epochToArcadeDate(t,this.contextTimeZone??u.qU);default:return t}}if(t)throw new Error(`Field ${e} does not exist`);return null}setField(e,t){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this._boundSchema.fieldsIndex.fields.map((e=>e.name))}castToText(e=!1){return JSON.stringify(this._boundTarget)}gdbVersion(){return null}fullSchema(){return this._boundSchema}castAsJson(e=null){return{attributes:this._boundTarget.attributes,geometry:!0===e?.keepGeometryType?this.geometry():this.geometry()?.toJSON()??null}}castAsJsonAsync(e=null,t=null){return Promise.resolve(this.castAsJson(t))}}function v(e){const t=[];for(const n in e)t.push({name:n,alias:n,type:"string"==typeof e[n]?"esriFieldTypeString":"esriFieldTypeDouble"});return t}},46320:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(82392),i=n(14755),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325));let l=class extends(i.A.ClonableMixin(o.A)){constructor(e){super(e),this.expression=null,this.title=null,this.returnType=null}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"expression",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"title",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"returnType",void 0),l=(0,r._)([(0,a.$)("esri.layers.support.ExpressionInfo")],l)},46337:function(e,t,n){"use strict";n.d(t,{WF:function(){return s},qy:function(){return i.qy},S$:function(){return l},c0:function(){return i.c0},Ec:function(){return r.Ec},s6:function(){return i.s6},JW:function(){return i.JW}});var r=n(28760),i=n(36752);const o=globalThis;class s extends r.mN{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=(0,i.XX)(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return i.c0}}s._$litElement$=!0,s.finalized=!0,o.litElementHydrateSupport?.({LitElement:s});const a=o.litElementPolyfillSupport;a?.({LitElement:s});(o.litElementVersions??=[]).push("4.2.0");const l=!1},46373:function(e,t,n){"use strict";n.d(t,{BI:function(){return L},DC:function(){return p},ES:function(){return O},Ej:function(){return x},Hq:function(){return m},Ie:function(){return R},Jf:function(){return y},Jt:function(){return N},KG:function(){return A},Ne:function(){return E},RF:function(){return h},Rz:function(){return c},Uc:function(){return M},VL:function(){return v},_F:function(){return _},aI:function(){return j},cY:function(){return T},fA:function(){return a},fT:function(){return F},gE:function(){return u},gX:function(){return S},hZ:function(){return P},hs:function(){return I},iT:function(){return f},is:function(){return D},pg:function(){return C},qv:function(){return Z},uJ:function(){return w},vI:function(){return k},vQ:function(){return g},vY:function(){return l},v_:function(){return U},vt:function(){return s},w1:function(){return d},yr:function(){return b}});var r=n(8e3),i=n(2532),o=n(75644);function s(e=U){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function a(e,t,n,r,i,o,a=s()){return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a[4]=i,a[5]=o,a}function l(e,t=s()){return c(e,0,e.length/3,t)}function c(e,t,n,r=s()){return P(r,Z),m(r,e,t,n),r}function u(e,t=(0,o.jh)(24)){const[n,r,i,s,a,l]=e;return t[0]=n,t[1]=r,t[2]=i,t[3]=n,t[4]=r,t[5]=l,t[6]=n,t[7]=a,t[8]=i,t[9]=n,t[10]=a,t[11]=l,t[12]=s,t[13]=r,t[14]=i,t[15]=s,t[16]=r,t[17]=l,t[18]=s,t[19]=a,t[20]=i,t[21]=s,t[22]=a,t[23]=l,t}function d(e,t){const n=isFinite(e[2])||isFinite(e[5]);return new r.A(n?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function h(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function p(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function f(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function m(e,t,n=0,r=t.length/3){let i=e[0],o=e[1],s=e[2],a=e[3],l=e[4],c=e[5];for(let e=0;e<r;e++)i=Math.min(i,t[n+3*e]),o=Math.min(o,t[n+3*e+1]),s=Math.min(s,t[n+3*e+2]),a=Math.max(a,t[n+3*e]),l=Math.max(l,t[n+3*e+1]),c=Math.max(c,t[n+3*e+2]);e[0]=i,e[1]=o,e[2]=s,e[3]=a,e[4]=l,e[5]=c}function y(e,t,n){const r=t.length;let i=e[0],o=e[1],s=e[2],a=e[3],l=e[4],c=e[5];if(n)for(let e=0;e<r;e++){const n=t[e];i=Math.min(i,n[0]),o=Math.min(o,n[1]),s=Math.min(s,n[2]),a=Math.max(a,n[0]),l=Math.max(l,n[1]),c=Math.max(c,n[2])}else for(let e=0;e<r;e++){const n=t[e];i=Math.min(i,n[0]),o=Math.min(o,n[1]),a=Math.max(a,n[0]),l=Math.max(l,n[1])}e[0]=i,e[1]=o,e[2]=s,e[3]=a,e[4]=l,e[5]=c}function g(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function v(e){return e[0]>=e[3]?0:e[3]-e[0]}function b(e){return e[1]>=e[4]?0:e[4]-e[1]}function w(e){return e[2]>=e[5]?0:e[5]-e[2]}function _(e){const t=v(e),n=w(e),r=b(e);return Math.sqrt(t*t+n*n+r*r)}function S(e,t=[0,0,0]){return t[0]=e[0]+v(e)/2,t[1]=e[1]+b(e)/2,t[2]=e[2]+w(e)/2,t}function x(e,t=[0,0,0]){return t[0]=v(e),t[1]=b(e),t[2]=w(e),t}function M(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function A(e,t){return null==t||function(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}(e,t)}function T(e,t,n,r,i=e){return i[0]=e[0]+t,i[1]=e[1]+n,i[2]=e[2]+r,i[3]=e[3]+t,i[4]=e[4]+n,i[5]=e[5]+r,i}function I(e,t,n=e){const r=e[0]+v(e)/2,i=e[1]+b(e)/2,o=e[2]+w(e)/2;return n[0]=r+(e[0]-r)*t,n[1]=i+(e[1]-i)*t,n[2]=o+(e[2]-o)*t,n[3]=r+(e[3]-r)*t,n[4]=i+(e[4]-i)*t,n[5]=o+(e[5]-o)*t,n}function C(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function E(e,t,n=e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n!==e&&(n[3]=e[3],n[4]=e[4],n[5]=e[5]),n}function k(e,t,n=e){return n[3]=t[0],n[4]=t[1],n[5]=t[2],n!==e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),e}function P(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function R(e){return e?P(e,Z):s(Z)}function O(e,t){return t||(t=(0,i.vt)()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function N(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function L(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=i,e[5]=Number.POSITIVE_INFINITY,e}function D(e){return 6===e.length}function F(e){return 0===v(e)&&0===b(e)&&0===w(e)}function j(e,t,n){if(null==e||null==t)return e===t;if(!D(e)||!D(t))return!1;if(n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const Z=[1/0,1/0,1/0,-1/0,-1/0,-1/0],U=[0,0,0,0,0,0];s()},46415:function(e,t,n){"use strict";function r(e,t){const{attributeTable:n,bandCount:r}=e;return!(null!=n||!function(e){return["u8","s8"].includes(e.pixelType)&&null!=e.statistics?.[0]?.min&&null!=e.statistics[0]?.max&&1===e.bandCount}(e))||!(null==n||r>1)&&(!t||null!=n.fields.find((e=>e.name.toLowerCase()===t.toLowerCase())))}function i(e){const{bandCount:t,dataType:n,pixelType:r}=e;return"elevation"===n||"generic"===n&&1===t&&("s16"===r||"s32"===r||"f32"===r||"f64"===r)}function o(e,t=!1){const{bandCount:n,colormap:r,pixelType:i}=e;return 1===n&&(!!r?.length||!t&&"u8"===i)}function s(e,t=!1){const{attributeTable:n,bandCount:r}=e;return 1===r&&(!t||null!=n||null!=e.histograms)}function a(e){const{dataType:t}=e;return"vector-uv"===t||"vector-magdir"===t}function l(e){const{dataType:t}=e;return"vector-uv"===t||"vector-magdir"===t}function c(e){return!!e?.length&&e.length<=16384}n.d(t,{FA:function(){return o},QJ:function(){return l},WN:function(){return c},hu:function(){return r},iL:function(){return i},rd:function(){return a},xX:function(){return s}})},46495:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(82392),i=n(14755),o=n(84977),s=n(81482),a=n(8636),l=(n(6273),n(67498),n(85716)),c=n(26325),u=n(50189);let d=class extends(i.A.ClonableMixin(o.A)){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};(0,r._)([(0,l.e)(u._v)],d.prototype,"dateFormat",void 0),(0,r._)([(0,s.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"digitSeparator",void 0),(0,r._)([(0,s.MZ)({type:a.jz,json:{write:!0}})],d.prototype,"places",void 0),d=(0,r._)([(0,c.$)("esri.popup.support.FieldInfoFormat")],d);const h=d},46638:function(e,t,n){"use strict";n.d(t,{H:function(){return l}});var r,i=n(82392),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325));let l=r=class extends o.A{constructor(e){super(e),this.name=null,this.code=null}clone(){return new r({name:this.name,code:this.code})}};(0,i._)([(0,s.MZ)({type:String,json:{write:{isRequired:!0}}})],l.prototype,"name",void 0),(0,i._)([(0,s.MZ)({type:[String,Number],json:{write:{isRequired:!0}}})],l.prototype,"code",void 0),l=r=(0,i._)([(0,a.$)("esri.layers.support.CodedValue")],l)},46883:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(33262);let l=r=class extends a.A{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,i._)([(0,o.MZ)()],l.prototype,"image",void 0),(0,i._)([(0,o.MZ)()],l.prototype,"value",void 0),l=r=(0,i._)([(0,s.$)("esri.support.actions.ActionToggle")],l);const c=l},47065:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r=n(82392),i=n(23572),o=n(81482),s=n(8636),a=(n(6273),n(67498),n(26325)),l=n(999);let c=class extends l.A{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,r._)([(0,o.MZ)({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],c.prototype,"angle",void 0),(0,r._)([(0,o.MZ)({type:["simple-marker","picture-marker"],readOnly:!0})],c.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:Number,cast:i.cr,json:{write:!0}})],c.prototype,"xoffset",void 0),(0,r._)([(0,o.MZ)({type:Number,cast:i.cr,json:{write:!0}})],c.prototype,"yoffset",void 0),(0,r._)([(0,o.MZ)({cast:e=>"auto"===e?e:(0,s.GB)((0,i.cr)(e)),json:{write:!0}})],c.prototype,"size",void 0),c=(0,r._)([(0,a.$)("esri.symbols.MarkerSymbol")],c)},47096:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325));let l=r=class extends o.A{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new r({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"name",void 0),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"title",void 0),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"expression",void 0),(0,i._)([(0,s.MZ)({type:["string","number"],json:{write:!0}})],l.prototype,"returnType",void 0),l=r=(0,i._)([(0,a.$)("esri.popup.ExpressionInfo")],l);const c=l},47195:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});var r=n(5262),i=n(99263);const o={unknown:1,inches:(0,r.oU)(1,"meters","inches"),feet:(0,r.oU)(1,"meters","feet"),"us-feet":(0,r.oU)(1,"meters","us-feet"),yards:(0,r.oU)(1,"meters","yards"),miles:(0,r.oU)(1,"meters","miles"),"nautical-miles":(0,r.oU)(1,"meters","nautical-miles"),millimeters:(0,r.oU)(1,"meters","millimeters"),centimeters:(0,r.oU)(1,"meters","centimeters"),decimeters:(0,r.oU)(1,"meters","decimeters"),meters:(0,r.oU)(1,"meters","meters"),kilometers:(0,r.oU)(1,"meters","kilometers"),"decimal-degrees":1/(0,r.vl)(1,"meters",i.$O.radius)}},47273:function(e,t,n){"use strict";var r;n.d(t,{M:function(){return r}}),function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"}(r||(r={}))},47659:function(e,t,n){"use strict";n.d(t,{A:function(){return x}});var r,i=n(82392),o=(n(6273),n(1817)),s=n(84977),a=n(15565),l=n(23572),c=n(81482),u=(n(80861),n(25376)),d=n(26325),h=n(48524),p=n(77896),f=n(61845),m=n(65452),y=n(61793),g=n(4064),v=n(4331);const b=new o.J({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function w(e,t,n){return{enabled:!(0,m.TU)(n?.layer)}}function _(e){return!e||"service"!==e.origin&&!("map-image"===e.layer?.type)}function S(e){return!!function(e){return"map-image"===e?.type}(e)&&!!e.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}let x=class extends s.A{static{r=this}static evaluateWhere(e,t){const n=(e,t,n)=>{switch(t){case"=":return e==n;case"<>":return e!=n;case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n}return!1};try{if(null==e)return!0;const r=e.split(" ");if(3===r.length)return n(t[r[0]],r[1],r[2]);if(7===r.length){const e=n(t[r[0]],r[1],r[2]),i=r[3],o=n(t[r[4]],r[5],r[6]);switch(i){case"AND":return e&&o;case"OR":return e||o}}return!1}catch(e){}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=y.Hk,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const n=t.labelExpressionInfo;if(!n||!n.value&&!n.expression)return e}writeLabelExpression(e,t,n){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)e=(0,f.D3)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const t=(0,f.tH)(this.labelExpressionInfo.expression);t&&(e="["+t+"]")}null!=e&&(t[n]=e)}writeLabelExpressionInfo(e,t,n,r){if(null==e&&null!=this.labelExpression&&_(r))e=new p.A({expression:this.getLabelExpressionArcade()});else if(!e)return;const i=e.toJSON(r);i.expression&&(t[n]=i)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return(0,f.XJ)(this)}getLabelExpressionArcade(){return(0,f.BI)(this)}getLabelExpressionSingleField(){return(0,f.rU)(this)}hash(){return JSON.stringify(this)}clone(){return new r({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,a.o8)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,a.o8)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,i._)([(0,c.MZ)({type:String,json:{write:!0}})],x.prototype,"name",void 0),(0,i._)([(0,c.MZ)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:w}}}}})],x.prototype,"allowOverrun",void 0),(0,i._)([(0,c.MZ)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:w}}}}})],x.prototype,"deconflictionStrategy",void 0),(0,i._)([(0,c.MZ)({type:String,json:{write:{overridePolicy(e,t,n){return this.labelExpressionInfo&&"service"===n?.origin&&S(n.layer)?{enabled:!1}:{allowNull:!0}}}}})],x.prototype,"labelExpression",void 0),(0,i._)([(0,u.w)("labelExpression")],x.prototype,"readLabelExpression",null),(0,i._)([(0,h.K)("labelExpression")],x.prototype,"writeLabelExpression",null),(0,i._)([(0,c.MZ)({type:p.A,json:{write:{overridePolicy:(e,t,n)=>function(e){return _(e)||S(e?.layer)}(n)?{allowNull:!0}:{enabled:!1}}}})],x.prototype,"labelExpressionInfo",void 0),(0,i._)([(0,h.K)("labelExpressionInfo")],x.prototype,"writeLabelExpressionInfo",null),(0,i._)([(0,c.MZ)({type:b.apiValues,json:{type:b.jsonValues,read:b.read,write:b.write}})],x.prototype,"labelPlacement",void 0),(0,i._)([(0,c.MZ)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],x.prototype,"labelPosition",void 0),(0,i._)([(0,c.MZ)({type:Number})],x.prototype,"maxScale",void 0),(0,i._)([(0,h.K)("maxScale")],x.prototype,"writeMaxScale",null),(0,i._)([(0,c.MZ)({type:Number})],x.prototype,"minScale",void 0),(0,i._)([(0,h.K)("minScale")],x.prototype,"writeMinScale",null),(0,i._)([(0,c.MZ)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:w}}}}})],x.prototype,"repeatLabel",void 0),(0,i._)([(0,c.MZ)({type:Number,cast:l.cr,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:w}}}}})],x.prototype,"repeatLabelDistance",void 0),(0,i._)([(0,c.MZ)({types:v.em,json:{origins:{"web-scene":{types:v.Rv,write:g.oO,default:null}},write:g.oO,default:null}})],x.prototype,"symbol",void 0),(0,i._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],x.prototype,"useCodedValues",void 0),(0,i._)([(0,c.MZ)({type:String,json:{write:!0}})],x.prototype,"where",void 0),x=r=(0,i._)([(0,d.$)("esri.layers.support.LabelClass")],x)},47917:function(e,t,n){"use strict";n.d(t,{P:function(){return i}});var r=n(39744);class i extends r.A{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const t=super.acquire(...e);return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}}},47980:function(e,t,n){"use strict";function r(e){return e&&"getAtOrigin"in e&&"originOf"in e}n.d(t,{H:function(){return r}})},48015:function(e,t,n){"use strict";n.d(t,{_:function(){return p},K:function(){return y}});var r=n(36752),i=n(18504),o=n(7804);const s=(e,t)=>{const n=e._$AN;if(void 0===n)return!1;for(const e of n)e._$AO?.(t,!1),s(e,t);return!0},a=e=>{let t,n;do{if(void 0===(t=e._$AM))break;n=t._$AN,n.delete(e),e=t}while(0===n?.size)},l=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(void 0===n)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),d(t)}};function c(e){void 0!==this._$AN?(a(this),this._$AM=e,l(this)):this._$AM=e}function u(e,t=!1,n=0){const r=this._$AH,i=this._$AN;if(void 0!==i&&0!==i.size)if(t)if(Array.isArray(r))for(let e=n;e<r.length;e++)s(r[e],!1),a(r[e]);else null!=r&&(s(r,!1),a(r));else s(this,e)}const d=e=>{e.type==o.OA.CHILD&&(e._$AP??=u,e._$AQ??=c)};class h extends o.WL{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,n){super._$AT(e,t,n),l(this),this.isConnected=e._$AU}_$AO(e,t=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),t&&(s(this,e),a(this))}setValue(e){if((0,i.Rt)(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}const p=()=>new f;class f{}const m=new WeakMap,y=(0,o.u$)(class extends h{render(e){return r.s6}update(e,[t]){const n=t!==this.G;return n&&void 0!==this.G&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.G=t,this.ht=e.options?.host,this.rt(this.ct=e.element)),r.s6}rt(e){if(this.isConnected||(e=void 0),"function"==typeof this.G){const t=this.ht??globalThis;let n=m.get(t);void 0===n&&(n=new WeakMap,m.set(t,n)),void 0!==n.get(this.G)&&this.G.call(this.ht,void 0),n.set(this.G,e),void 0!==e&&this.G.call(this.ht,e)}else this.G.value=e}get lt(){return"function"==typeof this.G?m.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}})},48101:function(e,t,n){"use strict";n.d(t,{K:function(){return p},Q:function(){return s}});var r=n(65452),i=n(88426);const o=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function s(e,t){const{loadContext:n,...o}=t||{},s=n?await n.fetchServiceMetadata(e,o):await(0,i.V)(e,o),a=(0,r.G$)();h(s),c(s);const l={serviceJSON:s,preferredHost:a};if((s.currentVersion??0)<10.5)return l;const u=`${(0,r.$x)()??e}/layers`,d=n?await n.fetchServiceMetadata(u,o):await(0,i.V)(u,o);return h(d),c(d),l.layersJSON={layers:d.layers,tables:d.tables},l}function a(e){const{type:t}=e;return!!t&&o.has(t)}function l(e){return"Table"===e.type}function c(e){e.layers=e.layers?.filter(a),e.tables=e.tables?.filter(l)}function u(e){e.type||="Feature Layer"}function d(e){e.type||="Table"}function h(e){e.layers?.forEach(u),e.tables?.forEach(d)}function p(e){switch(e){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}},48156:function(e,t,n){"use strict";n.d(t,{F:function(){return s},Ti:function(){return r}});const r=-3,i=r-1;var o;!function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"}(o||(o={}));Symbol.iterator;class s{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._users=new Map,this._sizeLimits=new Map}destroy(){this.clearAll(),this._sizeLimits.clear(),this._users.clear()}register(e){this._users.set(e.id.slice(0,-1),e)}deregister(e){this.clear(e),this._sizeLimits.delete(e),this._users.delete(e.id.slice(0,-1))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,t){const n=this._db.get(e.id+t);return n?.size??0}put(e,t,n,s,l){t=e.id+t;const c=this._db.get(t);if(c&&(this._size-=c.size,e.size-=c.size,this._db.delete(t),c.entry!==n&&this._notifyRemove(t,c.entry,c.size,o.ALL)),s>this._maxSize)return void this._notifyRemove(t,n,s,o.ALL);if(void 0===n)return;if(!s||s<0)return void this._notifyRemove(t,n,0,o.ALL);const u=1+Math.max(l,i)-r;this._db.set(t,new a(n,s,u)),this._size+=s,e.size+=s,this._checkSize()}updateSize(e,t,n,r){t=e.id+t;const i=this._db.get(t);if(i&&i.entry===n){for(this._size-=i.size,e.size-=i.size;r>this._maxSize;){const e=this._notifyRemove(t,n,r,o.SOME);if(!(null!=e&&e>0))return void this._db.delete(t);r=e}i.size=r,this._size+=r,e.size+=r,this._checkSize()}}pop(e,t){t=e.id+t;const n=this._db.get(t);if(n)return this._size-=n.size,e.size-=n.size,this._db.delete(t),++this._hit,n.entry;++this._miss}get(e,t){t=e.id+t;const n=this._db.get(t);if(void 0!==n)return this._db.delete(t),n.lives=n.lifetime,this._db.set(t,n),++this._hit,n.entry;++this._miss}peek(e,t){const n=this._db.get(e.id+t);return n?++this._hit:++this._miss,n?.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},n=new Array;this._db.forEach(((e,r)=>{const i=e.lifetime;n[i]=(n[i]||0)+e.size,this._users.forEach((n=>{const{id:i,name:o}=n;if(r.startsWith(i)){const n=t[o]||0;t[o]=n+e.size}}))}));const i={};this._users.forEach((e=>{const n=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){const r=t[n]||0;t[n]=r,i[n]=Math.round(100*e.hitRate)+"%"}else i[n]="0%"}));const o=Object.keys(t);o.sort(((e,n)=>t[n]-t[e])),o.forEach((n=>e[n]=Math.round(t[n]/2**20)+"MB / "+i[n]));for(let t=n.length-1;t>=0;--t){const i=n[t];i&&(e["Priority "+(t+r-1)]=Math.round(i/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forEach((e=>e.resetHitRate()))}clear(e){const t=e.id;this._db.forEach(((e,n)=>{n.startsWith(t)&&(this._size-=e.size,this._db.delete(n),this._notifyRemove(n,e.entry,e.size,o.ALL))})),e.size=0}clearAll(){this._db.forEach(((e,t)=>this._notifyRemove(t,e.entry,e.size,o.ALL))),this._users.forEach((e=>e.size=0)),this._size=0,this._db.clear()}*values(e){for(const[t,n]of this._db)t.startsWith(e.id)&&(yield n.entry)}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,n,r){const i=this._users.get(e.split(l)[0])?.removeFunc,o=i?.(t,r,n);return"number"==typeof o?o:null}_checkSize(){this._sizeLimits.forEach(((e,t)=>this._checkSizeLimits(e,t))),this._checkSizeLimits(this.maxSize)}setMaxSize(e,t){null==t||t<=0?this._sizeLimits.delete(e):this._sizeLimits.set(e,t)}_checkSizeLimits(e,t){const n=t??this;if(n.size<=e)return;const r=t?.id;let i=!0;for(;i;){i=!1;for(const[o,s]of this._db)if(0===s.lifetime&&(!r||o.startsWith(r))){const r=t??this._users.get(o.split(l)[0]);if(this._purgeItem(o,s,r),n.size<=.9*e)return;i||=this._db.has(o)}}for(const[i,o]of this._db)if(!r||i.startsWith(r)){const r=t??this._users.get(i.split(l)[0]);if(this._purgeItem(i,o,r),n.size<=.9*e)return}}_purgeItem(e,t,n){if(this._db.delete(e),t.lives<=1){this._size-=t.size,n&&(n.size-=t.size);const r=this._notifyRemove(e,t.entry,t.size,o.SOME);null!=r&&r>0&&(this._size+=r,n&&(n.size+=r),t.lives=t.lifetime,t.size=r,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}}class a{constructor(e,t,n){this.entry=e,this.size=t,this.lifetime=n,this.lives=n}}const l=":"},48524:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(81482);function i(e,t,n){let i,o;return void 0===t?(o=e,i=[void 0]):"string"!=typeof t?(o=e,i=[void 0],n=t):(o=t,i=Array.isArray(e)?e:[e]),(e,t)=>{const s=e.constructor.prototype;for(const a of i){const i=(0,r.rM)(e,a,o);i.write&&"object"==typeof i.write||(i.write={}),n&&(i.write.target=n),i.write.writer=s[t]}}}},49095:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});const r={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128}},49112:function(e,t,n){"use strict";n.d(t,{H:function(){return s},q:function(){return o}});var r=n(44764),i=n(10709);async function o(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,n=await(0,i.ud)("esri/t9n/basemaps");return n[e]||n[t]}const s={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]}}},49173:function(e,t,n){"use strict";function r(e){const t={};for(const n in e){if("declaredClass"===n)continue;const i=e[n];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){t[n]=[];for(let e=0;e<i.length;e++)t[n][e]=r(i[e])}else"object"==typeof i?i.toJSON&&(t[n]=JSON.stringify(i)):t[n]=i}return t}n.d(t,{z:function(){return r}})},49437:function(e,t,n){"use strict";n.d(t,{Bb:function(){return C},W6:function(){return r},mj:function(){return v},nu:function(){return E}});var r,i,o=n(56802),s=(n(6273),n(80861)),a=n(57725),l=n(28335),c=n(41785),u=n(37623),d=n(61985),h=n(39369),p=n(67900),f=n(63466),m=n(65672),y=n(47273),g=n(50521);function v(){return new T.Scheduler}(i=r||(r={})).RESOURCE_CONTROLLER_IMMEDIATE="immediate",i.RESOURCE_CONTROLLER="schedule",i.SLIDE="slide",i.STREAM_DATA_LOADER="stream loader",i.ELEVATION_QUERY="elevation query",i.TERRAIN_SURFACE="terrain",i.SURFACE_GEOMETRY_UPDATES="surface geometry updates",i.LOD_RENDERER="LoD renderer",i.GRAPHICS_CORE="Graphics3D",i.I3S_CONTROLLER="I3S",i.POINT_CLOUD_LAYER="point cloud",i.FEATURE_TILE_FETCHER="feature fetcher",i.OVERLAY="overlay",i.OVERLAY_RENDERER="overlay renderer",i.STAGE="stage",i.GRAPHICS_DECONFLICTOR="graphics deconflictor",i.FILTER_VISIBILITY="Graphics3D filter visibility",i.SCALE_VISIBILITY="Graphics3D scale visibility",i.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",i.POINT_OF_INTEREST_FREQUENT="POI frequent",i.POINT_OF_INTEREST_INFREQUENT="POI infrequent",i.LABELER="labeler",i.FEATURE_QUERY_ENGINE="feature query",i.FEATURE_TILE_TREE="feature tile tree",i.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",i.ELEVATION_ALIGNMENT="elevation alignment",i.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",i.TEXT_TEXTURE_ATLAS="text texture atlas",i.TEXTURE_UNLOAD="texture unload",i.LINE_OF_SIGHT_TOOL="line of sight tool",i.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",i.ELEVATION_PROFILE="elevation profile",i.SNAPPING="snapping",i.SHADOW_ACCUMULATOR="shadow accumulator",i.CLOUDS_GENERATOR="clouds generator",i.MAPVIEW_FETCH_QUEUE="mapview fetch queue",i.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",i.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",i[i.NONE=0]="NONE",i[i.TEST_PRIO=1]="TEST_PRIO";const b=new Map([[r.RESOURCE_CONTROLLER_IMMEDIATE,0],[r.RESOURCE_CONTROLLER,4],[r.SLIDE,0],[r.STREAM_DATA_LOADER,0],[r.ELEVATION_QUERY,0],[r.TERRAIN_SURFACE,1],[r.SURFACE_GEOMETRY_UPDATES,1],[r.LOD_RENDERER,2],[r.GRAPHICS_CORE,2],[r.I3S_CONTROLLER,2],[r.POINT_CLOUD_LAYER,2],[r.FEATURE_TILE_FETCHER,2],[r.CLOUDS_GENERATOR,2],[r.OVERLAY,4],[r.OVERLAY_RENDERER,4],[r.STAGE,4],[r.GRAPHICS_DECONFLICTOR,4],[r.FILTER_VISIBILITY,4],[r.SCALE_VISIBILITY,4],[r.FRUSTUM_VISIBILITY,4],[r.POINT_OF_INTEREST_FREQUENT,6],[r.POINT_OF_INTEREST_INFREQUENT,30],[r.LABELER,8],[r.FEATURE_QUERY_ENGINE,8],[r.FEATURE_TILE_TREE,16],[r.FEATURE_TILE_TREE_ACTIVE,0],[r.ELEVATION_ALIGNMENT,12],[r.ELEVATION_ALIGNMENT_SCENE,14],[r.TEXT_TEXTURE_ATLAS,12],[r.TEXTURE_UNLOAD,12],[r.LINE_OF_SIGHT_TOOL,16],[r.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[r.SNAPPING,0],[r.SHADOW_ACCUMULATOR,30],[r.MAPVIEW_FETCH_QUEUE,0],[r.MAPVIEW_LAYERVIEW_UPDATE,2],[r.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,0]]);function w(e){return b.has(e)?b.get(e):"number"==typeof e?e:1}const _=(0,p.l5)(6.5),S=(0,p.l5)(1),x=(0,p.l5)(30),M=(0,p.l5)(1e3/30),A=(0,p.l5)(100);var T,I;!function(e){e.Scheduler=class{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some((e=>e.needsUpdate))}constructor(){this._updating=(0,h.v)(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new l.A("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new n,this._state=y.M.INTERACTING,this._tasks=new c.A,this._runQueue=new c.A,this._load=0,this._idleStateCallbacks=new c.A,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=(0,d.wB)((()=>m.A.SCHEDULER_LOG_SLOW_TASKS),(e=>this._debug=e),d.Vh);for(const e of Object.keys(r))this.performanceInfo.tasks.set(r[e],new l.A(r[e]))}destroy(){this._tasks.toArray().forEach((e=>e.remove())),this._tasks.clear(),(0,a.xt)(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(e){this._updatingChanged(),e&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask((()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())})))}registerTask(e,n){const r=new t(this,e,n);return this._tasks.push(r),this._updatingChanged(),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new l.A(e)),r}registerIdleStateCallbacks(e,t){const n={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(n),this.state===y.M.IDLE&&this._idleUpdatesStartFired&&n.idleBegin();const r=this;return{remove:()=>this._removeIdleStateCallbacks(n),set idleBegin(e){r._idleUpdatesStartFired&&(n.idleEnd(),r._state===y.M.IDLE&&e()),n.idleBegin=e},set idleEnd(e){n.idleEnd=e}}}get load(){return this._load}set state(e){this._state!==e&&(this._state=e,this.state!==y.M.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll((e=>e.idleEnd()))))}get state(){return this._state}frame(e){this._startFrameTaskTimes();const t=this._updateBudget(e);if(t){const e=this._budget.now();this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-e)}else this._recordFrameTaskTimes(0);return t}_updateBudget(e){this._test&&(this._test.usedBudget=0),++this._frameNumber;let t=_,n=e.frameDuration,r=S;switch(this.state){case y.M.IDLE:t=(0,p.l5)(0),n=(0,p.l5)(Math.max(A,e.frameDuration)),r=x;break;case y.M.INTERACTING:n=(0,p.l5)(Math.max(M,e.frameDuration));case y.M.ANIMATING:}return n=(0,p.l5)(n-e.elapsedFrameTime-t),this.state!==y.M.IDLE&&n<S&&!this._forceTask?(this._forceTask=!0,!1):(n=(0,p.l5)(Math.max(n,r)),this._budget.reset(n),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case y.M.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll((e=>e.idleBegin()))),this._runIdle();break;case y.M.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset((0,p.l5)(0)),this._budget.madeProgress()}_removeIdleStateCallbacks(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}removeTask(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e),this._updatingChanged()}_updateTask(e){this._tasks.forAll((t=>{t.name===e&&t.setPriority(e)}))}_getState(e){if(this._runQueue.some((t=>t.name===e)))return I.SCHEDULED;let t=I.IDLE;return this._tasks.forAll((n=>{n.name===e&&n.needsUpdate&&(n.schedulePriority<=1?t=I.READY:t!==I.READY&&(t=I.WAITING))})),t}_getRuntime(e){let t=0;return this._tasks.forAll((n=>{n.name===e&&(t+=n.runtime)})),t}_resetRuntimes(){this._tasks.forAll((e=>e.runtime=0))}_getRunning(){const e=new Map;if(this._tasks.forAll((t=>{t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)})),0===e.size)return null;let t="";return e.forEach(((e,n)=>{t+=e>1?` ${e}x ${n}`:` ${n}`})),t}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce(((e,t)=>t.needsUpdate?++e:e),0);this._load=.9*this._load+e*(1-.9)}_schedule(){for(this._runQueue.filterInPlace((e=>!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1))),this._tasks.forAll((e=>{0===e.basePriority&&e.needsUpdate&&!this._runQueue.includes(e)&&e.blockFrame!==this._frameNumber&&this._runQueue.unshift(e)}));0===this._runQueue.length;){let e=!1,t=0;if(this._tasks.forAll((n=>{n.needsUpdate&&0!==n.schedulePriority&&0!==n.basePriority&&n.blockFrame!==this._frameNumber&&(e=!0,t=Math.max(t,n.basePriority),1===n.schedulePriority?(n.schedulePriority=0,this._runQueue.push(n)):--n.schedulePriority)})),!e)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do{for(;this._runQueue.length>0;){const e=this._budget.now(),t=this._runQueue.pop();this._budget.resetProgress();try{t.task.runTask(this._budget)===g.G&&(t.blockFrame=this._frameNumber)}catch(e){s.A.getLogger("esri.views.support.Scheduler").error(`Exception in task "${t.name}"`,e),t.blockFrame=this._frameNumber}!this._budget.hasProgressed&&t.blockFrame!==this._frameNumber&&t.needsUpdate&&(t.name,r.I3S_CONTROLLER,t.blockFrame=this._frameNumber),t.schedulePriority=t.basePriority;const n=this._budget.now()-e;if(t.runtime+=n,this._frameTaskTimes.set(t.priority,this._frameTaskTimes.get(t.priority)+n),this._budget.remaining<=0)return void this._updatingChanged()}}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const e of Object.keys(r))this._frameTaskTimes.set(r[e],0)}_recordFrameTaskTimes(e){this._frameTaskTimes.forEach(((e,t)=>this.performanceInfo.tasks.get(t).push(e))),this.performanceInfo.total.push(e)}get test(){return this._test}};class t{get task(){return this._task.value}get updating(){return this._queue.running}constructor(e,t,n){this._scheduler=e,this.name=t,this.blockFrame=0,this.runtime=0,this._queue=new f.T,this._handles=new o.A,this._basePriority=w(t),this.schedulePriority=this._basePriority,this._task=(0,h.v)(null!=n?n:this._queue),this._handles.add((0,d.z7)((()=>this.task.running),(t=>e.taskRunningChanged(t))))}remove(){this.processQueue(C),this._scheduler.removeTask(this),this.schedule=E.schedule,this.reschedule=E.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(e){if(this.name===e)return;this.name=e;const t=w(e);0!==this._basePriority&&0===this.schedulePriority||(this.schedulePriority=t),this._basePriority=t}get priority(){return this.name}set priority(e){this.setPriority(e)}get needsUpdate(){return this.updating||this.task.running}schedule(e,t,n){return this._queue.push(e,t,n)}reschedule(e,t,n){return this._queue.unshift(e,t,n)}processQueue(e){return this._queue.runTask(e)}}class n{constructor(){this._begin=performance?.now()??0,this._budget=0,this._done=!1,this._progressed=!1,this._enabled=!0}run(e){return!this.done&&(!0===e()&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e){this._begin=this.now(),this._budget=e,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}e.Budget=n}(T||(T={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(I||(I={}));const C=new T.Budget;C.enabled=!1;const E=new class{remove(){}processQueue(){}schedule(e,t,n){try{if((0,u.G4)(t)){const e=(0,u.NK)();return n?Promise.resolve(n(e)):Promise.reject(e)}return(0,u.z7)(e(C))}catch(e){return Promise.reject(e)}}reschedule(e,t,n){return this.schedule(e,t,n)}}},49864:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=(n(80861),n(6273),n(67498),n(62991),n(85716)),s=n(26325),a=n(83311);let l=r=class extends a.A{constructor(e){super(e),this.type="solid"}clone(){return new r(this.cloneProperties())}};(0,i._)([(0,o.e)({solid:"solid"},{readOnly:!0})],l.prototype,"type",void 0),l=r=(0,i._)([(0,s.$)("esri.symbols.edges.SolidEdges3D")],l);const c=l},49926:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325));let l=r=class extends o.A{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new r({title:this.title,expression:this.expression})}};(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"title",void 0),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"expression",void 0),(0,i._)([(0,s.MZ)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],l.prototype,"returnType",void 0),l=r=(0,i._)([(0,a.$)("esri.popup.ElementExpressionInfo")],l);const c=l},49972:function(e,t,n){"use strict";n.d(t,{I6:function(){return l},ci:function(){return a},dL:function(){return o}});var r=n(62991),i=n(65452);async function o(e){const t=[];for(const n of e.allLayers)if("beforeSave"in n&&"function"==typeof n.beforeSave){const e=n.beforeSave();e&&t.push(e)}await Promise.allSettled(t)}const s=new Set(["layer:unsupported","property:unsupported","symbol:unsupported","symbol-layer:unsupported","url:unsupported"]);function a(e,t,n){let i=(e.messages??[]).filter((({type:e})=>"error"===e)).map((({name:e,message:t,details:n})=>new r.A(e,t,n)));if(e.blockedRelativeUrls&&(i=i.concat(e.blockedRelativeUrls.map((e=>new r.A("url:unsupported",`Relative url '${e}' is not supported`))))),n){const{ignoreUnsupported:e,supplementalUnsupportedErrors:t=[],requiredPropertyChecksDisabled:r}=n;e&&(i=i.filter((({name:e})=>!(s.has(e)||t.includes(e))))),r&&(i=i.filter((e=>"web-document-write:property-required"!==e.name)))}if(i.length>0)throw new r.A(t.errorName,"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:i})}function l(e){return(0,i.qd)(e).some((e=>!!e.charts?.length))}},50078:function(e,t,n){"use strict";function r(e){return(t,n)=>{t[n]=e}}n.d(t,{u:function(){return r}})},50189:function(e,t,n){"use strict";n.d(t,{Ey:function(){return P},F8:function(){return k},J2:function(){return I},Yq:function(){return C},_v:function(){return w},iS:function(){return E},wj:function(){return R}});var r=n(1817),i=n(4631),o=n(82506),s=(n(23375),n(96285));const a={year:void 0,month:void 0,day:void 0,weekday:void 0},l={hour:void 0,minute:void 0,second:void 0},c={timeZone:o.n$},u={year:"numeric",month:"numeric",day:"numeric"},d={year:"numeric",month:"long",day:"numeric"},h={year:"numeric",month:"short",day:"numeric"},p={year:"numeric",month:"long",weekday:"long",day:"numeric"},f={hour:"numeric",minute:"numeric"},m={...f,second:"numeric"},y={hourCycle:"h23"},g={...f,...y},v={...m,...y},b={"short-date":u,"short-date-short-time":{...u,...f},"short-date-short-time-24":{...u,...g},"short-date-long-time":{...u,...m},"short-date-long-time-24":{...u,...v},"short-date-le":u,"short-date-le-short-time":{...u,...f},"short-date-le-short-time-24":{...u,...g},"short-date-le-long-time":{...u,...m},"short-date-le-long-time-24":{...u,...v},"long-month-day-year":d,"long-month-day-year-short-time":{...d,...f},"long-month-day-year-short-time-24":{...d,...g},"long-month-day-year-long-time":{...d,...m},"long-month-day-year-long-time-24":{...d,...v},"day-short-month-year":h,"day-short-month-year-short-time":{...h,...f},"day-short-month-year-short-time-24":{...h,...g},"day-short-month-year-long-time":{...h,...m},"day-short-month-year-long-time-24":{...h,...v},"long-date":p,"long-date-short-time":{...p,...f},"long-date-short-time-24":{...p,...g},"long-date-long-time":{...p,...m},"long-date-long-time-24":{...p,...v},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":f,"long-time":m},w=(0,r.O)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),_={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},S=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),x=S.find((({type:e})=>"month"===e))?.value.toLowerCase();function M(){const e=(0,i.JK)(),t=(0,i.ZS)(e)?.language;return(t&&_[t])??e}"mart"!==x&&(_.bs="sr-Latn-CS");let A=new WeakMap;const T=b["short-date-short-time"];function I(e){return b[e]}function C(e,t=T){return function(e){let t=A.get(e);if(!t){const n=M(),r=R(e.timeZone??o.qU),i={...e,timeZone:r};t=new Intl.DateTimeFormat(n,i),A.set(e,t)}return t}(t).format(e)}function E(e,t=T){return C(new Date(e),{...t,...c,...l})}function k(e,t=T){return C(new Date(`1970-01-01T${e}Z`),{...t,...c,...a})}function P(e,t=T){if(t.timeZone)return C(new Date(e),t);const n=s.c9.fromISO(e,{setZone:!0}),r=0===n.offset?o.n$:t.timeZone,i={...t,timeZone:r};return n.toLocaleString(i,{locale:M()})}function R(e){switch(e){case o.qU:return o.N5;case o.L5:return o.n$;default:return e}}(0,i.Ml)((()=>{A=new WeakMap}))},50398:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(39744);function i(e){e.length=0}class o{constructor(e=50,t=50){this._pool=new r.A(Array,void 0,i,t,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return s.acquire()}static release(e){return s.release(e)}static prune(){s.prune()}}const s=new o(100)},50521:function(e,t,n){"use strict";n.d(t,{G:function(){return r}});const r=Symbol("Yield")},50831:function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e&&"declaredClass"in e&&"esri.WebMap"===e.declaredClass}n.d(t,{Y:function(){return i},r:function(){return r}});const i=new(n(266).R)(2,34)},50908:function(e,t,n){"use strict";n.d(t,{Ci:function(){return s},HQ:function(){return i},XK:function(){return o},aY:function(){return r}});const r=1,i=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],s=256},51020:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r,i=n(82392),o=n(84977),s=n(15565),a=n(81482),l=(n(6273),n(80861),n(85716)),c=n(25376),u=n(26325),d=n(16506);let h=r=class extends o.A{constructor(e){super(e),this.altitude=45,this.azimuth=315,this.colorRamp=null,this.hillshadeType="traditional",this.pixelSizePower=.664,this.pixelSizeFactor=.024,this.scalingType="none",this.type="raster-shaded-relief",this.zFactor=1}readColorRamp(e){return(0,d.r)(e)}clone(){return new r({hillshadeType:this.hillshadeType,altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,scalingType:this.scalingType,pixelSizeFactor:this.pixelSizeFactor,pixelSizePower:this.pixelSizePower,colorRamp:(0,s.o8)(this.colorRamp)})}};(0,i._)([(0,a.MZ)({type:Number,json:{write:{isRequired:!0}}})],h.prototype,"altitude",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:{isRequired:!0}}})],h.prototype,"azimuth",void 0),(0,i._)([(0,a.MZ)({types:d.g,json:{write:!0}})],h.prototype,"colorRamp",void 0),(0,i._)([(0,c.w)("colorRamp")],h.prototype,"readColorRamp",null),(0,i._)([(0,a.MZ)({type:["traditional","multi-directional"],json:{write:{isRequired:!0}}})],h.prototype,"hillshadeType",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:!0}})],h.prototype,"pixelSizePower",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:!0}})],h.prototype,"pixelSizeFactor",void 0),(0,i._)([(0,a.MZ)({type:["none","adjusted"],json:{write:{isRequired:!0}}})],h.prototype,"scalingType",void 0),(0,i._)([(0,l.e)({rasterShadedRelief:"raster-shaded-relief"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],h.prototype,"type",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:{isRequired:!0}}})],h.prototype,"zFactor",void 0),h=r=(0,i._)([(0,u.$)("esri.renderers.RasterShadedReliefRenderer")],h)},51074:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(99595),i=n(29745);class o{constructor(e){this._observable=new i.I,this._map=new Map(e)}get size(){return(0,r.gc)(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const t=this._map.delete(e);return t&&this._observable.notify(),t}entries(){return(0,r.gc)(this._observable),this._map.entries()}forEach(e,t){(0,r.gc)(this._observable),this._map.forEach(((n,r)=>e.call(t,n,r,this)),t)}get(e){return(0,r.gc)(this._observable),this._map.get(e)}has(e){return(0,r.gc)(this._observable),this._map.has(e)}keys(){return(0,r.gc)(this._observable),this._map.keys()}set(e,t){return this._map.set(e,t),this._observable.notify(),this}values(){return(0,r.gc)(this._observable),this._map.values()}[Symbol.iterator](){return(0,r.gc)(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}},51103:function(e,t,n){"use strict";n.d(t,{Cb:function(){return o},HW:function(){return u},JR:function(){return i},JZ:function(){return l},WR:function(){return a},b6:function(){return d},fT:function(){return r},nC:function(){return c},yM:function(){return s}});const r=[252,146,31,255],i=[153,153,153,255],o={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},s={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},a={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},l={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},c={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},d={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},51177:function(e,t,n){"use strict";n.d(t,{J:function(){return w}});var r=n(82392),i=(n(6273),n(80861)),o=n(37623),s=n(81482),a=n(77380),l=(n(67498),n(26325)),c=n(63910),u=n(58842),d=n(61985),h=n(89370);const p=new u.A,f=new WeakMap;function m(e){return null!=e&&"object"==typeof e&&"refreshInterval"in e&&"refresh"in e}function y(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:y(t,e%t):0}let g=0,v=0;function b(){const e=Date.now();let t=!1;for(const n of p){const r=n.deref();r?r.refreshInterval&&e-(f.get(r)??0)+5>=6e4*r.refreshInterval&&(f.set(r,e),r.refresh(e)):t=!0}if(t)for(let e=p.length-1;e>=0;e--)p.at(e).deref()||p.removeAt(e)}(0,h.fm)((()=>{const e=Date.now();let t=0;for(const n of p){const r=n.deref();r&&(t=y(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?f.get(r)||f.set(r,e):f.delete(r))}if(t!==v){if(v=t,clearInterval(g),0===v)return void(g=0);g=setInterval(b,v)}}),d.OH);const w=e=>{let t=class extends e{constructor(...e){super(...e),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,o.sg)((()=>this.hasDataChanged())),this.when().then((()=>{this.destroyed||function(e){m(e)&&p.push(new WeakRef(e))}(this)}),(()=>{}))}destroy(){!function(e){const t=p.find((t=>t.deref()===e));t&&p.remove(t)}(this)}castRefreshInterval(e){return e>=.1?e:e<=0?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(e=Date.now()){(0,o.QZ)(this._debounceHasDataChanged()).then((t=>{t&&this._set("refreshTimestamp",e),this.emit("refresh",{dataChanged:t})}),(e=>{i.A.getLogger(this).error(e),this.emit("refresh",{dataChanged:!1,error:e})}))}async hasDataChanged(){return!0}get test(){}};return(0,r._)([(0,s.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:c.K}}}}})],t.prototype,"refreshInterval",void 0),(0,r._)([(0,a.w)("refreshInterval")],t.prototype,"castRefreshInterval",null),(0,r._)([(0,s.MZ)({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),(0,r._)([(0,s.MZ)({readOnly:!0})],t.prototype,"refreshParameters",null),t=(0,r._)([(0,l.$)("esri.layers.mixins.RefreshableLayer")],t),t}},51216:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});var r,i=n(82392),o=n(1817),s=n(84977),a=n(15565),l=n(81482),c=(n(6273),n(80861),n(26325)),u=n(54483),d=n(33432),h=n(72991);const p=new o.J({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),f=new o.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let m=r=class extends s.A{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:n,spatialRelationship:r,timeExtent:i,objectIds:o,units:s,distance:l}=this;return new d.A({geometry:(0,a.o8)(n),objectIds:(0,a.o8)(o),spatialRelationship:r,timeExtent:(0,a.o8)(i),where:t,units:s,distance:l,...e})}clone(){const{where:e,geometry:t,spatialRelationship:n,timeExtent:i,objectIds:o,units:s,distance:l}=this;return new r({geometry:(0,a.o8)(t),objectIds:(0,a.o8)(o),spatialRelationship:n,timeExtent:(0,a.o8)(i),where:e,units:s,distance:l})}};(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],m.prototype,"where",void 0),(0,i._)([(0,l.MZ)({types:u.yR,json:{write:!0}})],m.prototype,"geometry",void 0),(0,i._)([(0,l.MZ)({type:p.apiValues,json:{name:"spatialRel",read:{reader:p.read},write:{allowNull:!1,writer:p.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],m.prototype,"spatialRelationship",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:{overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],m.prototype,"distance",void 0),(0,i._)([(0,l.MZ)({type:[Number],json:{write:!0}})],m.prototype,"objectIds",void 0),(0,i._)([(0,l.MZ)({type:f.apiValues,json:{read:f.read,write:{writer:f.write,overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],m.prototype,"units",void 0),(0,i._)([(0,l.MZ)({type:h.T,json:{write:!0}})],m.prototype,"timeExtent",void 0),m=r=(0,i._)([(0,c.$)("esri.layers.support.FeatureFilter")],m);const y=m},51387:function(e,t,n){"use strict";n.d(t,{A:function(){return p}});var r=n(62991),i=n(80861),o=n(80294),s=n(69967),a=n(46030),l=n(46227),c=n(82506),u=n(23375),d=n(96285);const h=new Map;class p{static fromJSON(e){return new p(e.fields,e.timeZoneByFieldName)}static fromLayer(e){return new p(e.fields??[],g(e))}static fromLayerJSON(e){return new p(e.fields??[],g(e))}constructor(e=[],t){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;const n=[];for(const e of this.fields){const t=e?.name,r=m(t);if(t&&r){const i=f(t);this._fieldsMap.set(t,e),this._fieldsMap.set(i,e),this._normalizedFieldsMap.set(r,e),n.push(`${i}:${e.type}:${this._timeZoneByFieldName?.get(t)}`),(0,l.vE)(e)?(this.dateFields.push(e),this._dateFieldsSet.add(e)):(0,l.WA)(e)&&(this._numericFieldsSet.add(e),this.numericFields.push(e)),(0,l.te)(e)||(0,l.Xz)(e)||(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable)}}n.sort(),this.uid=n.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)(0,l.te)(e)||(0,l.Xz)(e)||e.nullable||void 0!==(0,l.lD)(e)||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===e?.uid}has(e){return null!=this.get(e)}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||(t=this._fieldsMap.get(f(e))??this._normalizedFieldsMap.get(m(e)),t&&this._fieldsMap.set(e,t),t)}getTimeZone(e){const t=this.get(e&&"string"!=typeof e?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):"date"===t.type||"esriFieldTypeDate"===t.type?(i.A.getLogger("esri.layers.support.FieldsIndex").errorOnce(new r.A("getTimeZone:no-timezone-information",`no time zone information for field '${t.name}'`)),c.n$):y.has(t.type)?c.L5:null:null}getLuxonTimeZone(e){const t=this.getTimeZone(e);return t?t===c.L5?s.GB.instance:t===c.n$?d.mQ.utcInstance:(0,o.tE)(h,t,(()=>d.oh.create(t))):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return(0,l.OH)(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){return this.get(e)?.name??void 0}toJSON(){return{fields:this.fields.map((e=>(0,a.W)(e)?e.toJSON():e)),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function f(e){return e.trim().toLowerCase()}function m(e){return(0,l.rS)(e)?.toLowerCase()??""}const y=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function g(e){const t=new Map;if(!e.fields)return t;const n=!0===e.datesInUnknownTimezone,{timeInfo:r,editFieldsInfo:i}=e,o=(r?"startField"in r?r.startField:r.startTimeField:"")??"",s=(r?"endField"in r?r.endField:r.endTimeField:"")??"",a=function(e){return"dateFieldsTimeZone"in e}(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?(0,u.ZS)(e.dateFieldsTimeReference):null,l=i?function(e){return"timeZone"in e}(i)?i.timeZone??a:i.dateFieldsTimeReference?(0,u.ZS)(i.dateFieldsTimeReference):a??c.n$:null,d=r?function(e){return"timeZone"in e}(r)?r.timeZone??a:r.timeReference?(0,u.ZS)(r.timeReference):a:null,h=new Map([[f(i?.creationDateField??""),l],[f(i?.editDateField??""),l],[f(o),d],[f(s),d]]);for(const{name:r,type:i}of e.fields)if(y.has(i))t.set(r,c.L5);else if("date"!==i&&"esriFieldTypeDate"!==i)t.set(r,null);else if(n)t.set(r,c.L5);else{const e=h.get(f(r??""))??a;t.set(r,e)}return t}},51431:function(e,t,n){"use strict";n.d(t,{V:function(){return l}});var r,i=n(82392),o=n(73783),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325));let l=r=class extends o.A{constructor(){super(...arguments),this.url=""}clone(){return new r({url:this.url})}};(0,i._)([(0,s.MZ)({type:String})],l.prototype,"url",void 0),l=r=(0,i._)([(0,a.$)("esri.symbols.support.Thumbnail")],l)},51545:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!=n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,a=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}},e.exports=t.default},51707:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var r=n(82392),i=n(62991),o=n(23377),s=n(11965),a=n(80861),l=n(67214),c=n(81482),u=(n(6273),n(67498),n(25376)),d=n(26325),h=n(48524),p=n(97628),f=n(11219);let m=class extends(o.A.NumericIdentifiableMixin((0,l.P)(s.A))){constructor(e){super(e),this.georeference=null,this.opacity=1}readGeoreference(e){return p.A.fromJSON(e)}writeGeoreference(e,t,n,r){const o=r?.resources?.pendingOperations,s=()=>{const o=(0,f.Qn)(this.georeference,this.contentWidth,this.contentHeight);if(o){if("control-points"!==e.type&&a.A.getLogger(this).warn(`only georeference of type 'control-points' may be persisted. The georeference of type '${e.type}' has been automatically converted.`),4!==o.controlPoints?.length&&r?.messages)return void r.messages.push(new i.A("property:unsupported","only 'control-points' georeference with 4 control points may be persisted."));t[n]=o.write({},r)}};if("control-points"!==e.type&&!this.loaded&&o)return t[n]={},void o.push(this.load().then(s));s()}get contentWidth(){return 0}get contentHeight(){return 0}toSource(e){const{georeference:t,contentWidth:n,contentHeight:r}=this;if(null==e||null==t||0===n||0===r)return null;const i=t.toSourceNormalized(e);return null==i?null:(i.x*=n,i.y*=r,i)}};(0,r._)([(0,c.MZ)(f.Ez)],m.prototype,"georeference",void 0),(0,r._)([(0,u.w)("georeference")],m.prototype,"readGeoreference",null),(0,r._)([(0,h.K)("georeference")],m.prototype,"writeGeoreference",null),(0,r._)([(0,c.MZ)({json:{read:!1,write:!1}})],m.prototype,"opacity",void 0),m=(0,r._)([(0,d.$)("esri.layers.support.MediaElementBase")],m)},52140:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var r=n(71210);class i extends r.R{constructor(e){super(new o(e)),this._observer&&s.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&s.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}}class o{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(1===e)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=a}}const s=new FinalizationRegistry((e=>{e.deref()?.destroy()}));function a(){}},52202:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(82392),i=n(14755),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(25376)),l=n(26325),c=n(48524),u=n(55797),d=n(84700);let h=class extends(i.A.ClonableMixin(o.A)){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const n of Object.keys(e))t[n]=(0,u.rS)(e[n]);return t}writeDomains(e,t){const n={};for(const t of Object.keys(e))e[t]&&(n[t]=e[t]?.toJSON());t.domains=n}};(0,r._)([(0,s.MZ)({json:{write:!0}})],h.prototype,"id",void 0),(0,r._)([(0,s.MZ)({json:{write:!0}})],h.prototype,"name",void 0),(0,r._)([(0,s.MZ)({json:{write:!0}})],h.prototype,"domains",void 0),(0,r._)([(0,a.w)("domains")],h.prototype,"readDomains",null),(0,r._)([(0,c.K)("domains")],h.prototype,"writeDomains",null),(0,r._)([(0,s.MZ)({type:[d.A],json:{write:!0}})],h.prototype,"templates",void 0),h=(0,r._)([(0,l.$)("esri.layers.support.FeatureType")],h)},52239:function(e,t,n){"use strict";n.d(t,{A:function(){return Z}});var r=n(82392),i=(n(39553),n(28948)),o=n(57888),s=n(92840),a=(n(6273),n(15565)),l=n(80861),c=n(57725),u=n(71004),d=n(37623),h=n(61985),p=n(1874),f=n(81482),m=n(77380),y=n(26325),g=n(99595),v=n(52140),b=n(95665);n(58133);const w={handleInterceptedEvent:(e,t,n,r)=>(e.scheduleRender(),t.properties[`on${r.type}`].apply(t.properties.bind||n,[r]))},_={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,n)=>{"-"===t.charAt(0)?e.style.setProperty(t,n):e.style[t]=n}},S=(e,t,n=!1)=>{let r=e;return t.forEach(((e,i)=>{const o=r?.children?((e,t)=>e.find(t))(r.children,(t=>t.domNode===e)):void 0;n&&!o&&i!==t.length-1||(r=o)})),r};var x=n(27190),M=n(38031),A=n(59734),T=n(70214);const I=new Set;function C(e){I.add(e),e.finally((()=>I.delete(e)))}new Map;var E,k=n(58627),P=n(83946),R=n(10709),O=n(4631);let N=0;function L(e,t){const n=Object.prototype.hasOwnProperty;for(const r in t)n.call(t,r)&&n.call(e,r)&&(null!=e[r]&&null!=t[r]&&"object"==typeof e[r]&&"object"==typeof t[r]?L(e[r],t[r]):e[r]=t[r]);return e}const D=(e=>{let t;const n={...w,...e},r=(e=>({..._,...e}))(n),i=r.performanceLogger;let o,s=!0,a=!1;const l=[],c=[],u=(e,o,s)=>{let a;r.eventHandlerInterceptor=(e,r,o,s)=>function(e){let r;i("domEvent",e);const o=((e,t)=>{const n=[];for(;e&&e!==t;)n.push(e),e=e.parentNode;return n})(e.currentTarget,a.domNode),s=o.some((e=>customElements.get(e?.tagName?.toLowerCase())));if(e.eventPhase!==Event.CAPTURING_PHASE&&s){const t=e.composedPath(),n=t.slice(t.indexOf(e.currentTarget),t.indexOf(a.domNode)).reverse();r=S(a.getLastRender(),n,!0)}else o.reverse(),r=S(a.getLastRender(),o);let l;return r&&(l=n.handleInterceptedEvent(t,r,this,e)),i("domEventProcessed",e),l},n.postProcessProjectionOptions?.(r);const u=s();a=e(o,u,r),r.eventHandlerInterceptor=void 0,l.push(a),c.push(s),n.afterFirstVNodeRendered&&n.afterFirstVNodeRendered(a,u)};let d=()=>{if(o=void 0,s){s=!1,i("renderStart",void 0);for(let e=0;e<l.length;e++){const t=c[e]();i("rendered",void 0);try{l[e].update(t)}catch(e){}i("patched",void 0)}i("renderDone",void 0),s=!0}};return n.modifyDoRenderImplementation&&(d=n.modifyDoRenderImplementation(d,l,c)),t={renderNow:d,scheduleRender:()=>{o||a||(o=requestAnimationFrame(d))},stop:()=>{o&&(cancelAnimationFrame(o),o=void 0),a=!0},resume:()=>{a=!1,s=!0,t.scheduleRender()},append:(e,t)=>{u(b.t.append,e,t)},insertBefore:(e,t)=>{u(b.t.insertBefore,e,t)},merge:(e,t)=>{u(b.t.merge,e,t)},replace:(e,t)=>{u(b.t.replace,e,t)},detach:e=>{for(let t=0;t<c.length;t++)if(c[t]===e)return c.splice(t,1),l.splice(t,1)[0];throw new Error("renderFunction was not found")}},t})({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,n=/capture$/i;e.eventHandlerInterceptor=(e,r,i,o)=>{const s=t?.(e,r,i,o),a=n.test(e);if(!((e=e.replace(n,"")).toLowerCase()in i)||a){const t=e[2].toLowerCase()+e.slice(3),n=e=>s?.call(i,e);i.addEventListener(t,n,a);const r=()=>i.removeEventListener(t,n,a),l=o.afterRemoved;o.afterRemoved=e=>{l?.(e),r()}}return s}},handleInterceptedEvent(e,t,n,r){const{eventPhase:i,type:o}=r,s=i===Event.CAPTURING_PHASE;let a=`on${o}${s?"capture":""}`;const l=t.properties;(l&&a in l||(a=`on${o[0].toUpperCase()}${o.slice(1)}${s?"Capture":""}`,l&&a in l))&&((0,k.Sh)(),e.scheduleRender(),l[a].call(l.bind||n,r))}});let F=!1,j=class extends(u.A.EsriPromiseMixin(o.A.EventedAccessor)){static{this[E]=!0}constructor(e,t){super(e,t),this._attached=!1,this._projector=D,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=(0,d.sg)((async()=>{if(this._messageBundleProps?.length){const e=await Promise.allSettled(this._messageBundleProps.map((async({bundlePath:e,propertyName:t})=>{if(this.destroyed)return;let n=await(0,R.ud)(e);this.uiStrings&&Object.keys(this.uiStrings)&&(n=L((0,a.o8)(n),this.uiStrings)),this[t]=n})));if(this.destroyed)return;for(const t of e)"rejected"===t.status&&l.A.getLogger(this).error("widget-intl:locale-error",this.declaredClass,t.reason)}await this.loadLocale()})),this.addHandles((0,T.hA)()),(0,x.V)();const n="esri-widget-uid-"+(0,p.lk)(),r=this.render.bind(this);this._trackingTarget=new v.r((()=>{this.autoRenderingEnabled&&this.scheduleRender()}));const i=()=>({vnodeSelector:"div",properties:{key:`${n}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),o=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const e=r()??i(),t=e.properties??={};if(t.key??=n,(0,M.b)(e.vnodeSelector)){if(!this.visible)return i()}else this.visible?t.styles||(t.styles={}):(t.class="",t.styles={display:"none"}),t.styles.display??="";let o=0;return e.children?.forEach((e=>{(0,M.b)(e.vnodeSelector)||(e.properties??={},e.properties.key??=`${this.id}--${o++}`)})),(0,M.d)(this,e)};this.render=()=>{if(F)return o();let e=(0,k.rE)(this)??null;if(e)return e;this._trackingTarget.clear(),F=!0;try{e=(0,g.a)(this._trackingTarget,o)}catch(e){throw l.A.getLogger(this).error(e),e}finally{F=!1}return e&&(0,k.$U)(this,e),e};const s=this.beforeFirstRender();s?this._resourcesFetch=s.then((()=>{this._readyForTrueRender=!0,this._postInitialize()})):(this._resourcesFetch=Promise.resolve().then((()=>{this._postInitialize()})),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),C(this._resourcesFetch)}normalizeCtorArgs(e,t){const n={...e};return t&&(n.container=t),n}postInitialize(){}beforeFirstRender(){const e=this.loadDependencies();return this._messageBundleProps?.length||e?Promise.all([e,this._loadLocale()]).then((()=>{})).catch(d.jH):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||((0,c.pR)(this._trackingTarget),(0,c.pR)(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,(0,k.Qw)(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return(0,i.$)(e)}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+N++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(E=A.x,A.D)](){return{projector:this._projector}}static{this.vnodeSelector="div"}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||((0,k.Qw)(this),this._projector.scheduleRender())}classes(...e){return P.Ly.apply(this,e)}renderNow(){(0,k.Qw)(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles((0,h.wB)((()=>this.viewModel),((e,t)=>{t&&this.removeHandles("delegated-events"),e&&(0,s.wb)(e)&&this.addHandles(this._delegatedEventNames.map((t=>(0,s.on)(e,t,(e=>{this.emit(t,e)})))),"delegated-events")}),h.pc)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(d.jH),this.scheduleRender()};this.addHandles([(0,O.oQ)(e),(0,h.wB)((()=>this.uiStrings),e)]),this.addHandles((0,h.z7)((()=>this.container),(e=>{this.destroyed||this._attach(e)}),{initial:!0,once:!0}))}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){this._attached&&(this._projector.detach(this.render),this._attached=!1),e?.parentNode?.removeChild(e)}};(0,r._)([(0,f.MZ)()],j.prototype,"_readyForTrueRender",void 0),(0,r._)([(0,f.MZ)({value:null})],j.prototype,"container",null),(0,r._)([(0,m.w)("container")],j.prototype,"castContainer",null),(0,r._)([(0,f.MZ)()],j.prototype,"icon",null),(0,r._)([(0,f.MZ)()],j.prototype,"id",null),(0,r._)([(0,f.MZ)()],j.prototype,"label",null),(0,r._)([(0,f.MZ)()],j.prototype,"renderable",null),(0,r._)([(0,f.MZ)()],j.prototype,"uiStrings",void 0),(0,r._)([(0,f.MZ)()],j.prototype,"viewModel",void 0),(0,r._)([(0,f.MZ)({value:!0})],j.prototype,"visible",null),(0,r._)([(0,f.MZ)()],j.prototype,"key",void 0),(0,r._)([(0,f.MZ)()],j.prototype,"children",void 0),(0,r._)([(0,f.MZ)()],j.prototype,"afterCreate",void 0),(0,r._)([(0,f.MZ)()],j.prototype,"afterUpdate",void 0),(0,r._)([(0,f.MZ)()],j.prototype,"afterRemoved",void 0),j=(0,r._)([(0,y.$)("esri.widgets.Widget")],j);const Z=j},52300:function(e,t,n){"use strict";n.d(t,{BD:function(){return c},D2:function(){return r},XZ:function(){return a},fO:function(){return s},v9:function(){return l}});var r,i,o=n(1817);(i=r||(r={}))[i.RTJunctionJunctionConnectivity=1]="RTJunctionJunctionConnectivity",i[i.RTContainment=2]="RTContainment",i[i.RTAttachment=3]="RTAttachment",i[i.RTJunctionEdgeConnectivity=4]="RTJunctionEdgeConnectivity",i[i.RTEdgeJunctionEdgeConnectivity=5]="RTEdgeJunctionEdgeConnectivity";const s=new o.J({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork",subnetworkController:"subnetwork-controller",loops:"loops",isolation:"isolation",path:"path",circuit:"circuit"}),a=new o.J({junctionJunctionConnectivity:"junction-junction-connectivity",connectivity:"connectivity",attachment:"attachment",containment:"containment",junctionEdgeFromConnectivity:"junction-edge-from-connectivity",junctionEdgeMidspanConnectivity:"junction-edge-midspan-connectivity",junctionEdgeToConnectivity:"junction-edge-to-connectivity"}),l={connectivity:1,"junction-junction-connectivity":1,containment:2,attachment:3,"junction-edge-from-connectivity":4,"junction-edge-midspan-connectivity":5,"junction-edge-to-connectivity":6},c=new o.J({normal:"normal",rebuild:"rebuild",forceRebuild:"force-rebuild"})},52360:function(e,t,n){"use strict";n.d(t,{CW:function(){return p},Fm:function(){return l},Hz:function(){return f},JQ:function(){return h},JZ:function(){return S},ND:function(){return y},R_:function(){return s},U9:function(){return d},fu:function(){return i},nr:function(){return m},oF:function(){return o},rq:function(){return c},z$:function(){return u}});const r=[["binary","application/octet-stream","bin",""]];function i(e,t){return null!=v(t.name,e?.supportedFormats??[])}function o(e,t){if(!e)return!1;const n=c(t,e.supportedFormats??[]);return null!=n&&e.editFormats.includes(n)}function s(e,t){return b(function(e,t){const n=e.toLowerCase();return g(t).find((e=>w(e)===n))}(e,t))}function a(e,t){return b(v(e,t))}function l(e,t){return w(function(e,t){return g(t).find((t=>b(t)===e))}(e,t))}function c(e,t){return a(e.name,t)??s(e.type,t)}function u(e,t,n){return s(e,n)??a(t,n)}function d({supportedFormats:e}){return u("model/gltf-binary","glb",e)}function h(e){const t=d(e);return null!=t&&e.editFormats.includes(t)}function p({supportedFormats:e}){return u("model/gltf+json","gltf",e)}function f(e){if(!e)return null;const t=d(e),n=p(e);let r=null;for(const i of e.queryFormats){if(i===t)return i;i===n&&(r=i)}return r}function m({supportedFormats:e}){return u("application/esri3do-SR_world","wld",e)}function y({supportedFormats:e}){return u("application/esri3do-SR_prj","prj",e)}function g(e){return[...r,...e]}function v(e,t){const n=e.toLowerCase();return g(t).find((e=>_(e).some((e=>n.endsWith(e)))))}function b(e){return e?.[0]}function w(e){return e?.[1].toLowerCase()}function _(e){return e?.[2].split(",").map((e=>e.toLowerCase()))??[]}function S(e){return e.tables?.find((e=>"assetMaps"===e.role))}},52380:function(e,t,n){"use strict";n.d(t,{CJ:function(){return f}});var r=n(62991),i=n(15565),o=n(21750),s=n(18051),a=n(65452);const l=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),c=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","video","web-tile","wcs","wfs","wms","wmts"]),u=new Set([...c,"link-chart"]);function d(e,t){if(t.restrictedWebMapWriting){const n=function(e){switch(e.layerContainerType){case"basemap":return l;case"operational-layers":return"link-chart"===e.origin?u:c;default:return null}}(t);return null==n||n.has(e.type)&&!(0,a.Ov)(e)}return!0}function h(e,t){"maxScale"in e&&(t.maxScale=(0,s.B)(e.maxScale)??void 0),"minScale"in e&&(t.minScale=(0,s.B)(e.minScale)??void 0)}function p(e,t){if(function(e,t){if(t)if((0,a.Ov)(e)){const n=(0,o.wc)("featureCollection.layers",t),r=n?.[0]?.layerDefinition;r&&h(e,r)}else"group"!==e.type&&h(e,t)}(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=(0,s.B)(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type))if((0,a.Ov)(e)){const n=t.featureCollection;n&&(n.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function f(e,t,n){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return n?.messages&&n.messages.push(new r.A("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if((0,a.Ov)(e)&&!e.isTable)t=e.resourceInfo;else if(d(e,n)){const t={};return e.write(t,n)?t:null}return null!=t&&p(e,t=(0,i.o8)(t)),t}},52442:function(e,t,n){"use strict";n.d(t,{default:function(){return ae}});var r=n(82392),i=n(20857),o=n(80294),s=n(81482),a=(n(6273),n(80861)),l=(n(67498),n(26325)),c=n(85049),u=n(5213),d=n(38116),h=n(62991),p=n(11965),f=n(67214),m=n(37623),y=n(19759),g=n(8e3),v=n(44153),b=n(56053),w=n(88940),_=n(63457),S=n(1817),x=n(85716),M=n(57458);const A=(0,S.O)()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let T=class extends M.A{constructor(e){super(e),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(e){const t={...e,query:{f:"json"}},{data:n}=await(0,d.A)(this.statusUrl,t);return this.read(n),this.editsResolver&&this.editsResolver.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:!0,historicMoment:null}),this}async waitForJobCompletion(e={}){const{interval:t=1e3,statusCallback:n}=e;return new Promise(((e,r)=>{this._clearTimer();const i=setInterval((()=>{this._timer||r((0,m.NK)()),this.checkJobStatus().then((t=>{const{status:r}=t;switch(this.status=r,r){case"job-succeeded":this._clearTimer(),e(this);break;case"job-waiting":case"job-executing":n&&n(this)}}),(e=>{this._clearTimer(),r(e)}))}),t);this._timer=i}))}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};(0,r._)([(0,s.MZ)()],T.prototype,"editsResolver",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],T.prototype,"statusUrl",void 0),(0,r._)([(0,x.e)(A)],T.prototype,"status",void 0),(0,r._)([(0,s.MZ)({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.submissionTime=e?e.getTime():null}}}})],T.prototype,"submissionTime",void 0),(0,r._)([(0,s.MZ)({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.lastUpdatedTime=e?e.getTime():null}}}})],T.prototype,"lastUpdatedTime",void 0),T=(0,r._)([(0,l.$)("esri.networks.support.TopologyValidationJobInfo")],T);const I=T;var C=n(65452),E=n(52300),k=n(43305),P=(n(74704),n(42663));function R(e,t,n="from"){const{fromRuleElement:r,viaRuleElement:i,toRuleElement:o}=D(e),s=[];switch(e.ruleType){case E.D2.RTContainment:case E.D2.RTAttachment:"from"===n&&L(t,r,!1)?s.push(o):"to"===n&&L(t,o,!1)&&s.push(r);break;case E.D2.RTJunctionEdgeConnectivity:case E.D2.RTJunctionJunctionConnectivity:L(t,r,!0)?s.push(o):L(t,o,!0)&&s.push(r);break;case E.D2.RTEdgeJunctionEdgeConnectivity:i&&(L(t,i,!0)?(s.push(r),s.push(o)):(L(t,r,!0)||L(t,o,!0))&&s.push(i));break;default:return[]}return s}function O(e,t,n){const{fromRuleElement:r,viaRuleElement:i,toRuleElement:o}=D(e);switch(e.ruleType){case E.D2.RTContainment:case E.D2.RTAttachment:return N(t,n,r,o,!1,!1);case E.D2.RTJunctionEdgeConnectivity:case E.D2.RTJunctionJunctionConnectivity:return N(t,n,r,o,!0,!0);case E.D2.RTEdgeJunctionEdgeConnectivity:return N(t,n,r,i,!0,!0)||N(t,n,o,i,!0,!0);default:return!1}}function N(e,t,n,r,i,o){if(!n||!r)return!1;const s=L(e,n,o),a=L(t,r,o);if(i){const i=L(e,r,o),l=L(t,n,o);return s&&a||i&&l}return s&&a}function L(e,t,n){const{assetGroupCode:r,assetTypeCode:i}=e;return("layerId"in e?e.layerId===t.networkSource?.layerId:e.networkSourceId===t.networkSource?.sourceId)&&(null==r||r===t.assetGroup?.assetGroupCode)&&(null==i||i===t.assetType?.assetTypeCode)&&(!n||!("terminalId"in e)||function(e,t){const n=e.terminal?.terminalId,r=t.terminalId;return null==n&&null==r||(1===n?null==r||1===r:n===r)}(t,e))}function D(e){return{fromRuleElement:{networkSource:e.fromNetworkSource,assetGroup:e.fromAssetGroup,assetType:e.fromAssetType,terminal:e.fromTerminal},viaRuleElement:e.viaNetworkSource?{networkSource:e.viaNetworkSource,assetGroup:e.viaAssetGroup,assetType:e.viaAssetType,terminal:e.viaTerminal}:void 0,toRuleElement:{networkSource:e.toNetworkSource,assetGroup:e.toAssetGroup,assetType:e.toAssetType,terminal:e.toTerminal}}}function F(e){let t=null,n=null,r=null;if((0,P.DU)(e))t=j(e),[n,r]=function(e){const[t,n]=Z(e.sourceLayer);return[t?e.attributes[t]:null,n?e.attributes[n]:null]}(e);else if((0,C.Sv)(e)){t=e.parent?.layerId??null;const[r]=Z(e);r===e.subtypeField&&(n=e.subtypeCode)}else t=e.layerId??null;return{layerId:t,assetGroupCode:n,assetTypeCode:r}}function j(e){const{sourceLayer:t}=e;let n;return(0,C.yZ)(t)?n=t.layerId:(0,C.Sv)(t)&&(n=t.parent?.layerId),n??null}function Z(e){return e&&"fieldsIndex"in e?[e.fieldsIndex.normalizeFieldName("assetGroup")??null,e.fieldsIndex.normalizeFieldName("assetType")??null]:[null,null]}async function U(e,t){if("Utility Network Layer"===e){const{default:e}=await Promise.resolve().then(n.bind(n,52442));return new e({layerUrl:t})}return null}var z=n(6893);let V=class extends((0,f.P)(p.A)){static fromPortalItem(e){return async function(e){let t="portalItem"in e?e:{portalItem:e};!t.portalItem||t.portalItem instanceof k.default||(t={...t,portalItem:new k.default(t.portalItem)});const n=t.portalItem;if(await n.load(),"Feature Service"!==n.type)throw new h.A("portal:unknown-item-type","Unknown item type '${type}'",{type:n.type});const r=n.url,i=await(0,d.A)(r,{responseType:"json",query:{f:"json"}}),o="Network Layer";if(i.data.type?.includes(o))return U(i.data.type,r);if(i.data.layers){const e=i.data.layers.find((e=>e.type.includes(o)));if(e){const t=`${r}/${e.id}`;return U(e.type,t)}}return null}(e)}constructor(e){super(e),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null,this.gdbVersion=null,this.historicMoment=null,this._sourceIdByLayerId=new Map,this._layerIdBySourceId=new Map,this._applyEditsHandler=e=>{const{serviceUrl:t,gdbVersion:n,result:r}=e,i=t===this.featureServiceUrl,o=(0,w.gz)(t,n,this.gdbVersion);i&&o&&r.then((e=>{(0,z.w5)(t,n)&&(this.historicMoment=e.historicMoment)}))},this._updateMomentHandler=e=>{const{serviceUrl:t,gdbVersion:n,moment:r}=e,i=t===this.featureServiceUrl,o=(0,w.gz)(t,n,this.gdbVersion);i&&o&&(this.historicMoment=r)},this.when().then((()=>{this.addHandles([(0,w.Jz)(this._applyEditsHandler),(0,w.dP)(this._updateMomentHandler)])}),(()=>{}))}initialize(){this.when().catch((e=>{(0,m.zf)(e)||a.A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})}))}get datasetName(){return this.dataElement?.name??null}get owner(){return this.dataElement?.userIdentity??null}get schemaGeneration(){return this.dataElement?.schemaGeneration??null}get parsedUrl(){return(0,y.An)(this.layerUrl)}get featureServiceUrl(){return(0,_.qg)(this.parsedUrl.path).url.path}get networkServiceUrl(){return this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer")}get layerId(){return(0,_.qg)(this.parsedUrl.path).sublayer}get networkSystemLayers(){return null}async load(e){return this.addResolvingPromise(this._fetchDataElement(this.featureServiceUrl,this.layerId.toString(),e)),this.addResolvingPromise(this._fetchLayerMetaData(this.layerUrl,e)),this}getLayerIdBySourceId(e){if(!this.dataElement)return null;const t=this._layerIdBySourceId.get(e);if(null!=t)return t;const n=this.dataElement.domainNetworks,r=this._traverseNetworkSources(n,this._layerIdBySourceId,"sourceId","layerId",e);return r>=0?r:null}getSourceIdByLayerId(e){if(!this.dataElement)return null;const t=this._sourceIdByLayerId.get(e);if(null!=t)return t;const n=this.dataElement.domainNetworks,r=this._traverseNetworkSources(n,this._sourceIdByLayerId,"layerId","sourceId",e);return r>=0?r:null}getObjectIdsFromElements(e){const t=[],n=new Map;for(const t of e){const e=this.getLayerIdBySourceId(t.networkSourceId);if(null==e)continue;let r=n.get(e);void 0===r&&(r=[]),r.push(t.objectId),n.set(e,r)}const r=this.featureServiceUrl;return n.forEach(((e,n)=>t.push({layerUrl:`${r}/${n}`,objectIds:e}))),t}async queryNamedTraceConfigurations(e,t){const[{queryNamedTraceConfigurations:r},{default:i}]=await Promise.all([n.e(1939).then(n.bind(n,51939)),n.e(3067).then(n.bind(n,25448))]),o=this.networkServiceUrl,s=i.from(e);return(await r(o,s,{...t}))?.namedTraceConfigurations}async validateTopology(e,t){if(!e.validateArea)throw new h.A("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");const[{validateNetworkTopology:r},{default:i}]=await Promise.all([n.e(3343).then(n.bind(n,73343)),n.e(3083).then(n.bind(n,23083))]),o=i.from(e);(0,z.w5)(this.featureServiceUrl,this.gdbVersion||null)?(o.sessionID=z.TA,await(0,z.ZJ)(this.featureServiceUrl,this.gdbVersion,!0)):o.sessionID=null,o.gdbVersion=this.gdbVersion;const s=this.networkServiceUrl,a=this.featureServiceUrl,l=(0,w.Zk)(a,null,this.gdbVersion,!0),c=await r(s,o,{...t});if(c?.serviceEdits){const e=[];for(const t of c.serviceEdits){const{editedFeatures:n}=t,r=n?.spatialReference?new v.A(n.spatialReference):null;e.push({layerId:t.layerId,editedFeatures:{adds:n?.adds?.map((e=>B(e,r)))||[],updates:n?.updates?.map((e=>({original:B(e[0],r),current:B(e[1],r)})))||[],deletes:n?.deletes?.map((e=>B(e,r)))||[],spatialReference:r}})}l.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],editedFeatures:e,exceededTransferLimit:!1,historicMoment:c.moment})}return c}async submitTopologyValidationJob(e,t){let r=null;if(!e.validateArea)throw new h.A("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");if(!this.gdbVersion){const e=this.layerUrl.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");r=(await(0,d.A)(e,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}const[{submitValidateNetworkTopologyJob:i},{default:o}]=await Promise.all([n.e(3343).then(n.bind(n,73343)),n.e(3083).then(n.bind(n,23083))]),s=o.from(e);(0,z.w5)(this.featureServiceUrl,this.gdbVersion||null)?(s.sessionID=z.TA,await(0,z.ZJ)(this.featureServiceUrl,this.gdbVersion,!0)):s.sessionID=null,s.gdbVersion=this.gdbVersion||r;const a=this.networkServiceUrl,l=this.featureServiceUrl?(0,w.Zk)(this.featureServiceUrl,null,this.gdbVersion,!0):void 0,c=await i(a,s,{...t});return new I({statusUrl:c,editsResolver:l})}getSourceTypeById(e){if(!this.dataElement)return null;for(const t of this.dataElement.domainNetworks)for(const n of[t.edgeSources??[],t.junctionSources??[]])for(const r of n)if(r.sourceId===e)return n===t.edgeSources?"edge":"junction";return null}_traverseNetworkSources(e,t,n,r,i){for(const o of e)for(const e of[o.edgeSources??[],o.junctionSources??[]])for(const o of e)if(o[n]===i)return t.set(i,o[r]),o[r];return-1}async _fetchLayerMetaData(e,t){const n=await(0,d.A)(e,{responseType:"json",query:{f:"json"},...t});this.sourceJSON=n.data,this.read(n.data,{origin:"service"})}async _fetchDataElement(e,t,n){if(this.dataElement)return;const r=await(0,d.A)(`${e}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([t]),f:"json"},...n}).then((e=>e.data.layerDataElements?.[0]));r&&this.read(r,{origin:"service"})}};function B(e,t){return new i.A({attributes:e.attributes,geometry:(0,b.rS)({...e.geometry,spatialReference:t})})}(0,r._)([(0,s.MZ)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:!0}},read:!1}})],V.prototype,"id",void 0),(0,r._)([(0,s.MZ)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],V.prototype,"title",void 0),(0,r._)([(0,s.MZ)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],V.prototype,"layerUrl",void 0),(0,r._)([(0,s.MZ)({type:Object,json:{origins:{service:{read:!0}},read:!1}})],V.prototype,"dataElement",void 0),(0,r._)([(0,s.MZ)({type:g.A,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],V.prototype,"fullExtent",void 0),(0,r._)([(0,s.MZ)({type:v.A,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],V.prototype,"spatialReference",void 0),(0,r._)([(0,s.MZ)({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],V.prototype,"type",void 0),(0,r._)([(0,s.MZ)({readOnly:!0})],V.prototype,"datasetName",null),(0,r._)([(0,s.MZ)({readOnly:!0})],V.prototype,"owner",null),(0,r._)([(0,s.MZ)({readOnly:!0})],V.prototype,"schemaGeneration",null),(0,r._)([(0,s.MZ)({readOnly:!0})],V.prototype,"parsedUrl",null),(0,r._)([(0,s.MZ)({readOnly:!0})],V.prototype,"featureServiceUrl",null),(0,r._)([(0,s.MZ)({readOnly:!0})],V.prototype,"networkServiceUrl",null),(0,r._)([(0,s.MZ)({readOnly:!0})],V.prototype,"layerId",null),(0,r._)([(0,s.MZ)()],V.prototype,"sourceJSON",void 0),(0,r._)([(0,s.MZ)({readOnly:!0})],V.prototype,"networkSystemLayers",null),(0,r._)([(0,s.MZ)()],V.prototype,"gdbVersion",void 0),(0,r._)([(0,s.MZ)({type:Date})],V.prototype,"historicMoment",void 0),V=(0,r._)([(0,l.$)("esri.networks.Network")],V);const $=V;var G=n(84977),q=n(80189);let H=class extends(G.A.JSONSupportMixin(p.A)){constructor(e){super(e),this.rulesCategorized={attachment:[],containment:[],connectivity:[]},this.request=d.A}initialize(){}async load(e){const t=this.rulesLayer.load(e).then((()=>this._initializeRulesTable()));return this.addResolvingPromise(t),this}getFeaturesCanAssociateWithClause(e,t,n){const r=new Map,[i,o]=Z(e.sourceLayer);if(!i||!o)return"";const s=F(e),a=F(t);n.forEach((e=>{const{type:t,direction:n}=e;this._getRulesForAssociationType(t).forEach((e=>{R(e,s,n).filter((e=>e.networkSource?.layerId===a.layerId)).forEach((e=>{const t=e.assetGroup?.assetGroupCode,n=e.assetType?.assetTypeCode;if(null!=t&&null!=n){const e=r.get(t)??new Set;e.add(n),r.set(t,e)}}))}))}));let l=[];return this._mergeAssetCodes(r).forEach(((e,t)=>{const n=`${i} IN (${t})`,r=(0,q.Yp)(o,[...e]);n&&r&&l.push((0,q.mA)(n,r))})),l.length>1&&(l=l.map((e=>`(${e})`))),l.join(" OR ")}getFeaturesCanAssociateWith(e,t,n){return null==j(e)?[]:t.filter((t=>this.canAssociateFeatures(e,t,n)))}canAssociateFeatures(e,t,n){if(!this._canSupportAssociations([e,t]))return!1;const r=F(e),i=F(t);return n.some((e=>{const{type:t,direction:n}=e;return this._getRulesForAssociationType(t).some((e=>"to"===n?O(e,i,r):O(e,r,i)))}))}getLayersCanAssociateWith(e,t,n){return null==j(e)?[]:t.filter((t=>this.canAssociateFeatureToLayer(e,t,n)))}canAssociateFeatureToLayer(e,t,n){if(!this._canSupportAssociations([e,t]))return!1;const r=F(e),i=F(t);return n.some((e=>{const{type:t,direction:n}=e;return this._getRulesForAssociationType(t).some((e=>"to"===n?O(e,i,r):O(e,r,i)))}))}getFeatureSQL(e,t){const n=e.layerId.toString(),r=e.fieldsIndex?.normalizeFieldName("assetGroup"),i=e.fieldsIndex?.normalizeFieldName("assetType"),o=r?t.attributes[r]:null,s=i?t.attributes[i]:null,a=this.rulesHash[n];if(a){const e=a.assetGroupHash[o];if(e)return e.assetTypeHash[s]||null}return null}async _initializeRulesTable(){const e={};let t;!function(e){e[e.from=0]="from",e[e.to=1]="to",e[e.via=2]="via"}(t||(t={}));const n=[{networkSourceId:"fromNetworkSource",assetGroupId:"fromAssetGroup",assetTypeId:"fromAssetType"},{networkSourceId:"toNetworkSource",assetGroupId:"toAssetGroup",assetTypeId:"toAssetType"},{networkSourceId:"viaNetworkSource",assetGroupId:"viaAssetGroup",assetTypeId:"viaAssetType"}];this.rulesCategorized={attachment:[],containment:[],connectivity:[]};for(const r of this.rules){if(r.ruleType===E.D2.RTAttachment){this.rulesCategorized.attachment.push(r);continue}if(r.ruleType===E.D2.RTContainment){this.rulesCategorized.containment.push(r);continue}if(r.ruleType===E.D2.RTJunctionJunctionConnectivity){this.rulesCategorized.connectivity.push(r);continue}this.rulesCategorized.connectivity.push(r);let i=[[t.from,t.to],[t.to,t.from]];r.ruleType===E.D2.RTEdgeJunctionEdgeConnectivity&&(i=[[t.from,t.via],[t.via,t.from],[t.to,t.via],[t.via,t.to]]);for(const o of i){const i=o.shift(),s=o.shift();let a=!1;switch(r.ruleType){case E.D2.RTEdgeJunctionEdgeConnectivity:a=i===t.from||i===t.to;break;case E.D2.RTJunctionEdgeConnectivity:a=i===t.to}const l=n[i],c=r[l.networkSourceId]?.layerId.toString()??"",u=r[l.assetGroupId]?.assetGroupCode?.toString(),d=r[l.assetTypeId],h=d?.assetTypeCode?.toString(),p=n[s],f=r[p.networkSourceId]?.layerId.toString()??"",m=r[p.assetGroupId]?.assetGroupCode?.toString(),y=r[p.assetTypeId],g=y?.assetTypeCode?.toString(),v=e[c]??{assetGroupHash:{}};if(!(u&&h&&m&&g))continue;const b=v.assetGroupHash[u]??{assetTypeHash:{}},w=b.assetTypeHash[h]??{};if(w[f]=w[f]??{},a){w[c]=w[c]??{};const e=(0,q.mA)(`assetgroup = ${u}`,`assettype = ${h}`);"esriNECPEndVertex"===y?.connectivityPolicy?w[c].endVertex=w[c]?.endVertex?`${w[c].endVertex}`:`(${e})`:w[c].anyVertex=w[c].anyVertex?`${w[c].anyVertex}`:`(${e})`}const _=(0,q.mA)(`assetgroup = ${m}`,`assettype = ${g}`);"esriNECPEndVertex"===y?.connectivityPolicy?w[f].endVertex=w[f]?.endVertex?(0,q.IW)(w[f].endVertex,_):`(${_})`:w[f].anyVertex=w[f]?.anyVertex?(0,q.IW)(w[f].anyVertex,_):`(${_})`,b.assetTypeHash[h]=w,v.assetGroupHash[u]=b,e[c]=v}}this._set("rulesHash",e)}_getRulesForAssociationType(e){const{rulesCategorized:t}=this;switch(e){case"attachment":return t.attachment;case"containment":return t.containment;case"connectivity":case"junction-junction-connectivity":return t.connectivity.filter((e=>e.ruleType===E.D2.RTJunctionJunctionConnectivity));case"junction-edge-from-connectivity":case"junction-edge-midspan-connectivity":case"junction-edge-to-connectivity":return t.connectivity.filter((e=>e.ruleType===E.D2.RTJunctionEdgeConnectivity||e.ruleType===E.D2.RTEdgeJunctionEdgeConnectivity));default:return[]}}_areSetsEqual(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}_mergeAssetCodes(e){const t=new Map,n=new Set;for(const[r,i]of e){const o=new Set([r]);for(const[t,s]of e)r!==t&&!n.has(t)&&this._areSetsEqual(i,s)&&(o.add(t),n.add(t));const s=Array.from(o).sort().join(",");t.set(s,i)}return t}_canSupportAssociations(e){return e.every((e=>{const t=(0,P.DU)(e)?e.sourceLayer:e,[n,r]=Z(t);return null!=n&&null!=r}))}};(0,r._)([(0,s.MZ)({constructOnly:!0})],H.prototype,"rulesLayer",void 0),(0,r._)([(0,s.MZ)({constructOnly:!0})],H.prototype,"rules",void 0),(0,r._)([(0,s.MZ)({readOnly:!0})],H.prototype,"rulesHash",void 0),(0,r._)([(0,s.MZ)()],H.prototype,"rulesCategorized",void 0),(0,r._)([(0,s.MZ)({constructOnly:!0})],H.prototype,"request",void 0),H=(0,r._)([(0,l.$)("esri.networks.RulesTable")],H);var W=n(44097),J=n(29050),K=n(73783);let Y=class extends K.A{constructor(e){super(e),this.rulesTableId=null,this.rulesTableUrl=null,this.subnetworksTableId=null,this.subnetworksTableUrl=null,this.dirtyAreasLayerId=null,this.dirtyAreasLayerUrl=null,this.associationsTable=null,this.associationsTableId=null,this.associationsTableUrl=null}destroy(){this.associationsTable?.destroy()}async loadAssociationsTable(){if(!this.associationsTable){const{associationsTableUrl:e}=this;if(!e)throw new h.A("utility-network-system-layers:missing-associations-table-url","Unable to load the associations table, as the `associationsTableUrl` is not set.");this.associationsTable=new c.default({url:e})}return await this.associationsTable.load(),this.associationsTable}};(0,r._)([(0,s.MZ)({constructOnly:!0})],Y.prototype,"rulesTableId",void 0),(0,r._)([(0,s.MZ)({constructOnly:!0})],Y.prototype,"rulesTableUrl",void 0),(0,r._)([(0,s.MZ)({constructOnly:!0})],Y.prototype,"subnetworksTableId",void 0),(0,r._)([(0,s.MZ)({constructOnly:!0})],Y.prototype,"subnetworksTableUrl",void 0),(0,r._)([(0,s.MZ)({constructOnly:!0})],Y.prototype,"dirtyAreasLayerId",void 0),(0,r._)([(0,s.MZ)({constructOnly:!0})],Y.prototype,"dirtyAreasLayerUrl",void 0),(0,r._)([(0,s.MZ)()],Y.prototype,"associationsTable",void 0),(0,r._)([(0,s.MZ)({constructOnly:!0})],Y.prototype,"associationsTableId",void 0),(0,r._)([(0,s.MZ)({constructOnly:!0})],Y.prototype,"associationsTableUrl",void 0),Y=(0,r._)([(0,l.$)("esri.networks.support.NetworkSystemLayers")],Y);let X=class extends G.A{constructor(e){super(e),this.id=null,this.name=null}};(0,r._)([(0,s.MZ)({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],X.prototype,"id",void 0),(0,r._)([(0,s.MZ)({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],X.prototype,"name",void 0),(0,r._)([(0,s.MZ)({type:Boolean,json:{write:!0}})],X.prototype,"isUpstreamTerminal",void 0),X=(0,r._)([(0,l.$)("esri.networks.support.Terminal")],X);const Q=X,ee=new S.J({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});let te=class extends G.A{constructor(e){super(e),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],te.prototype,"defaultConfiguration",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],te.prototype,"id",void 0),(0,r._)([(0,s.MZ)({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],te.prototype,"name",void 0),(0,r._)([(0,s.MZ)({type:[Q],json:{write:!0}})],te.prototype,"terminals",void 0),(0,r._)([(0,s.MZ)({type:ee.apiValues,json:{type:ee.jsonValues,read:ee.read,write:ee.write}})],te.prototype,"traversabilityModel",void 0),te=(0,r._)([(0,l.$)("esri.networks.support.TerminalConfiguration")],te);var ne=n(20330);const re=(0,S.O)()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let ie=class extends ne.A{constructor(e){super(e),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(e){const t={...e,query:{f:"json"}},{data:n}=await(0,d.A)(this.statusUrl,t),r=n.traceResults?{...n.traceResults,...n}:n;return this.read(r),this}async waitForJobCompletion(e={}){const{interval:t=1e3,statusCallback:n}=e;return new Promise(((e,r)=>{this._clearTimer();const i=setInterval((()=>{this._timer||r((0,m.NK)()),this.checkJobStatus().then((t=>{const{status:r}=t;switch(this.status=r,r){case"job-succeeded":this._clearTimer(),e(this);break;case"job-waiting":case"job-executing":n&&n(this)}}),(e=>{this._clearTimer(),r(e)}))}),t);this._timer=i}))}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],ie.prototype,"statusUrl",void 0),(0,r._)([(0,x.e)(re)],ie.prototype,"status",void 0),(0,r._)([(0,s.MZ)({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.submissionTime=e?e.getTime():null}}}})],ie.prototype,"submissionTime",void 0),(0,r._)([(0,s.MZ)({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.lastUpdatedTime=e?e.getTime():null}}}})],ie.prototype,"lastUpdatedTime",void 0),ie=(0,r._)([(0,l.$)("esri.networks.support.TraceJobInfo")],ie);var oe=n(33432);let se=class extends ${constructor(e){super(e),this.sharedNamedTraceConfigurations=[],this.type="utility",this._terminalById=new Map,this._circuitManagerMap=new Map,this._unitIdentifierManager=null}get serviceTerritoryFeatureLayerId(){return this.dataElement?.serviceTerritoryFeatureLayerId??null}get networkSystemLayers(){return new Y({rulesTableId:this.sourceJSON?.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.rulesTableId}`:null,subnetworksTableId:this.sourceJSON?.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.subnetworksTableId}`:null,dirtyAreasLayerId:this.sourceJSON?.systemLayers.dirtyAreasLayerId,dirtyAreasLayerUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.dirtyAreasLayerId}`:null,associationsTableId:this.sourceJSON?.systemLayers.associationsTableId,associationsTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.associationsTableId}`:null})}get terminalConfigurations(){return this.dataElement?.terminalConfigurations.map((e=>te.fromJSON(e)))||[]}get domainNetworkNames(){return this.dataElement?.domainNetworks.map((e=>e.domainNetworkName))||[]}get _utilityLayerList(){const e=new Set;return this.dataElement?.domainNetworks?.map((t=>{t?.edgeSources?.map((({layerId:t,sourceId:n})=>{this._layerIdBySourceId.set(n,t),this._sourceIdByLayerId.set(t,n),e.add(t)})),t?.junctionSources?.map((({layerId:t,sourceId:n})=>{this._layerIdBySourceId.set(n,t),this._sourceIdByLayerId.set(t,n),e.add(t)}))})),e}get hasTelecomNetwork(){return this.dataElement?.domainNetworks.some((e=>e.isTelecomNetwork))??!1}async load(e){return this.addResolvingPromise(super.load(e)),this.addResolvingPromise(this._loadNamedTraceConfigurationsFromNetwork(e)),this}getTerminalConfiguration(e){let t=null,n=null;const r=e.sourceLayer;let i=null;if("feature"===r?.type){if(i=r.layerId,null===i)return null}else{if("subtype-sublayer"!==r?.type)return null;if(i=r?.parent?.layerId??null,null===i)return null}const o=e.attributes;if(null==o)return null;for(const r of Object.keys(o))"ASSETGROUP"===r.toUpperCase()&&(t=e.getAttribute(r)),"ASSETTYPE"===r.toUpperCase()&&(n=e.getAttribute(r));if(!this.dataElement)return null;let s=null;const a=this.dataElement.domainNetworks;for(const e of a){const r=e.junctionSources?.find((e=>e.layerId===i));if(r){const e=r.assetGroups?.find((e=>e.assetGroupCode===t));if(e){const t=e.assetTypes?.find((e=>e.assetTypeCode===n));if(t?.isTerminalConfigurationSupported){s=t.terminalConfigurationId;break}}}}if(null!=s){const e=this.dataElement.terminalConfigurations,t=e?.find((e=>e.terminalConfigurationId===s));return t?te.fromJSON(t):null}return null}getTierNames(e){const t=this.dataElement?.domainNetworks.find((t=>t.domainNetworkName===e));return t?.tiers?.map((e=>e.name))||[]}async getRulesTable(){return this._sharedRulesTable||(this._sharedRulesTable=this._createRulesTable()),await this._sharedRulesTable}async getCircuitManager(e){if(!this.hasTelecomNetwork)return null;const t=this.dataElement?.domainNetworks.find((t=>t.domainNetworkName===e&&t.isTelecomNetwork));if(!t)return null;const{default:r}=await n.e(1187).then(n.bind(n,41187));return(0,o.tE)(this._circuitManagerMap,e,(()=>new r({utilityNetwork:this,telecomDomainNetwork:t})))}async getUnitIdentifierManager(){if(!this.hasTelecomNetwork)return null;if(this._unitIdentifierManager)return this._unitIdentifierManager;const{default:e}=await n.e(3089).then(n.bind(n,33089));return this._unitIdentifierManager=new e({utilityNetwork:this}),this._unitIdentifierManager}getTerminalById(e){if(!this.dataElement||null==e)return null;const t=this._terminalById.get(e);return null!=t?t:(this.terminalConfigurations.forEach((e=>{e.terminals.forEach((e=>{this._terminalById.set(e.id,e)}))})),this._terminalById.get(e))}isUtilityLayer(e){return"layerId"in e?this._utilityLayerList.has(e?.layerId)&&(e.url?.startsWith(this.featureServiceUrl)??!1):!("subtype-sublayer"!==e.type||!e.parent)&&this._utilityLayerList.has(e.parent.layerId)&&(e.parent.url?.startsWith(this.featureServiceUrl)??!1)}async queryAssociations(e,t){const[{queryAssociations:r},{default:i}]=await Promise.all([n.e(5595).then(n.bind(n,45595)),n.e(2890).then(n.bind(n,2890))]),o=i.from(e);return o.gdbVersion=this.gdbVersion,o.moment=this.historicMoment,(await r(this.networkServiceUrl,o,t)).associations}async synthesizeAssociationGeometries(e){const[{synthesizeAssociationGeometries:t},{default:r}]=await Promise.all([n.e(6872).then(n.bind(n,6872)),n.e(1465).then(n.bind(n,41465))]),i=r.from(e);return i.gdbVersion=this.gdbVersion,i.moment=this.historicMoment,t(this.networkServiceUrl,i)}async trace(e){const[{trace:t},{default:r}]=await Promise.all([n.e(4515).then(n.bind(n,24515)),n.e(5324).then(n.bind(n,32943))]),i=r.from(e);return i.gdbVersion=this.gdbVersion,i.moment=this.historicMoment,t(this.networkServiceUrl,i)}async submitTraceJob(e){const[{submitTraceJob:t},{default:r}]=await Promise.all([n.e(4515).then(n.bind(n,24515)),n.e(5324).then(n.bind(n,32943))]),i=r.from(e);i.gdbVersion=this.gdbVersion,i.moment=this.historicMoment;const o=await t(this.networkServiceUrl,i);return new ie({statusUrl:o})}async canAddAssociation(e){const t=await this.getRulesTable();if(!t)return!1;const{fromNetworkElement:n,toNetworkElement:r}=e;if(!n||!r)return!1;await t.load();let i=null;switch(e.associationType){case"containment":i=t.rulesCategorized.containment;break;case"attachment":i=t.rulesCategorized.attachment;break;default:i=t.rulesCategorized.connectivity}return i.some((e=>O(e,n,r)))}generateAddAssociations(e){const{associationsTable:t}=this.networkSystemLayers,{fromNetworkSourceId:n,fromGlobalId:r,fromTerminalId:o,toNetworkSourceId:s,toGlobalId:a,toTerminalId:l,associationType:c,isContentVisible:u,percentAlong:d,globalId:h}=(0,J.E)(t);return{addFeatures:e.map((e=>new i.A({attributes:{[n]:e.fromNetworkElement?.networkSourceId,[r]:e.fromNetworkElement?.globalId,[o]:e.fromNetworkElement?.terminalId,[s]:e.toNetworkElement?.networkSourceId,[a]:e.toNetworkElement?.globalId,[l]:e.toNetworkElement?.terminalId,[c]:E.v9[e.associationType],[u]:null==e.isContentVisible?void 0:e.isContentVisible?1:0,[d]:e.percentAlong,[h]:e.globalId}}))),id:this.networkSystemLayers.associationsTableId,identifierFields:{globalIdField:t?.globalIdField??"globalid",objectIdField:t?.objectIdField??"objectid"}}}generateDeleteAssociations(e){const{associationsTable:t,associationsTableId:n}=this.networkSystemLayers;return{deleteFeatures:e.map((e=>({globalId:e.globalId}))),id:n,identifierFields:{globalIdField:t?.globalIdField??"globalid",objectIdField:t?.objectIdField??"objectid"}}}async loadAssociationsTable(){return this.networkSystemLayers.loadAssociationsTable()}async _loadNamedTraceConfigurationsFromNetwork(e){if(0===this.sharedNamedTraceConfigurations?.length)return;const t=this.sharedNamedTraceConfigurations.map((e=>e.globalId)),n=await this.queryNamedTraceConfigurations({globalIds:t},e);for(const e of this.sharedNamedTraceConfigurations){const t=n?.find((t=>t.globalId===e.globalId));if(t){const n=t.write({},{origin:"service"});e.read(n,{origin:"service"})}}}async _createRulesTable(){const e=this.networkSystemLayers.rulesTableUrl,t=new c.default({url:e});await t.load();const n=this.dataElement?.domainNetworks;if(!n)return null;const r=n.flatMap((e=>[...e.edgeSources||[],...e.junctionSources||[]])),i=(await async function(e){const t=new oe.A({where:"1=1",outFields:["*"]});return(await(0,u.SE)(e,t)).features}(t)).map((e=>this._hydrateRuleInfo(t,r,e)));return new H({rulesLayer:t,rules:i})}_hydrateRuleInfo(e,t,n){const r=e.fieldsIndex,i=r.get("RULETYPE"),o=r.get("CREATIONDATE"),s=r.get("FROMNETWORKSOURCEID"),a=r.get("FROMASSETGROUP"),l=r.get("FROMASSETTYPE"),c=r.get("FROMTERMINALID"),u=r.get("TONETWORKSOURCEID"),d=r.get("TOASSETGROUP"),h=r.get("TOASSETTYPE"),p=r.get("TOTERMINALID"),f=r.get("VIANETWORKSOURCEID"),m=r.get("VIAASSETGROUP"),y=r.get("VIAASSETTYPE"),g=r.get("VIATERMINALID"),v=n.attributes[i.name],b=new Date(n.attributes[o.name]),w=[{networkSourceId:n.attributes[s.name],assetGroupId:n.attributes[a.name],assetTypeId:n.attributes[l.name],terminalId:n.attributes[c.name]},{networkSourceId:n.attributes[u.name],assetGroupId:n.attributes[d.name],assetTypeId:n.attributes[h.name],terminalId:n.attributes[p.name]},{networkSourceId:n.attributes[f.name],assetGroupId:n.attributes[m.name],assetTypeId:n.attributes[y.name],terminalId:n.attributes[g.name]}];let _;!function(e){e[e.from=0]="from",e[e.to=1]="to",e[e.via=2]="via"}(_||(_={}));const S={ruleType:v,creationDate:b};for(const e of[_.from,_.to,_.via]){if(v!==E.D2.RTEdgeJunctionEdgeConnectivity&&e===_.via)continue;const n=w[e],r=t.find((e=>e.sourceId===n.networkSourceId)),i=r?.assetGroups.find((e=>e.assetGroupCode===n.assetGroupId)),o=i?.assetTypes.find((e=>e.assetTypeCode===n.assetTypeId)),s=this._getTerminal(o,n);let a="";switch(e){case _.from:a="from";break;case _.to:a="to";break;case _.via:a="via"}S[`${a}NetworkSource`]=r,S[`${a}AssetGroup`]=i,S[`${a}AssetType`]=o,S[`${a}Terminal`]=s?.toJSON()}return S}_getTerminal(e,t){const n=e?.terminalConfigurationId,r=this.terminalConfigurations?.find((e=>e.id===n));return r?.terminals?.find((e=>e.id===t.terminalId))??null}};(0,r._)([(0,s.MZ)({type:[W.A],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],se.prototype,"sharedNamedTraceConfigurations",void 0),(0,r._)([(0,s.MZ)({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],se.prototype,"type",void 0),(0,r._)([(0,s.MZ)({readOnly:!0})],se.prototype,"serviceTerritoryFeatureLayerId",null),(0,r._)([(0,s.MZ)({readOnly:!0})],se.prototype,"networkSystemLayers",null),(0,r._)([(0,s.MZ)({readOnly:!0})],se.prototype,"terminalConfigurations",null),(0,r._)([(0,s.MZ)({readOnly:!0})],se.prototype,"domainNetworkNames",null),(0,r._)([(0,s.MZ)({readOnly:!0})],se.prototype,"hasTelecomNetwork",null),se=(0,r._)([(0,l.$)("esri.networks.UtilityNetwork")],se);const ae=se},52567:function(e,t,n){"use strict";n.d(t,{Bk:function(){return s},eu:function(){return a},qy:function(){return u}});var r=n(36752);const i=Symbol.for(""),o=e=>{if(e?.r===i)return e?._$litStatic$},s=e=>({_$litStatic$:e,r:i}),a=(e,...t)=>({_$litStatic$:t.reduce(((t,n,r)=>t+(e=>{if(void 0!==e._$litStatic$)return e._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${e}. Use 'unsafeStatic' to pass non-literal values, but\n            take care to ensure page security.`)})(n)+e[r+1]),e[0]),r:i}),l=new Map,c=e=>(t,...n)=>{const r=n.length;let i,s;const a=[],c=[];let u,d=0,h=!1;for(;d<r;){for(u=t[d];d<r&&void 0!==(s=n[d],i=o(s));)u+=i+t[++d],h=!0;d!==r&&c.push(s),a.push(u),d++}if(d===r&&a.push(t[r]),h){const e=a.join("$$lit$$");void 0===(t=l.get(e))&&(a.raw=a,l.set(e,t=a)),n=c}return e(t,...n)},u=c(r.qy);c(r.JW),c(r.ej)},52686:function(e,t,n){"use strict";n.d(t,{L:function(){return a},g:function(){return s}});var r=n(3132),i=n(58842),o=n(11965);async function s(e,t){return await e.load(),a(e,t)}async function a(e,t){const n=[],s=(...e)=>{for(const t of e)null!=t&&(Array.isArray(t)?s(...t):i.A.isCollection(t)?t.forEach((e=>s(e))):o.A.isLoadable(t)&&n.push(t))};t(s);let a=null;if(await(0,r.Tj)(n,(async e=>{const t=await(0,r.Ke)(function(e){return"loadAll"in e&&"function"==typeof e.loadAll}(e)?e.loadAll():e.load());!1!==t.ok||a||(a=t)})),a)throw a.error;return e}},52708:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var r=n(79207);function i(e,t){if(!(this instanceof i))return new i(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this.toBBox=t:this._initFormat(t)),this.clear()}function o(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function s(e,t){a(e,0,e.children.length,t,e)}function a(e,t,n,r,i){i||(i=g(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=t;s<n;s++)o=e.children[s],l(i,e.leaf?r(o):o);return i}function l(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function c(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function d(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function f(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function m(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function y(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function g(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(e,t,n,i,o){for(var s,a=[t,n];a.length;)(n=a.pop())-(t=a.pop())<=i||(s=t+Math.ceil((n-t)/i/2)*i,(0,r.q)(e,s,t,n,o),a.push(t,s,s,n))}i.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!y(e,t))return n;for(var i,o,s,a,l=[];t;){for(i=0,o=t.children.length;i<o;i++)s=t.children[i],y(e,a=t.leaf?r(s):s)&&(t.leaf?n.push(s):m(e,a)?this._all(s,n):l.push(s));t=l.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!y(e,t))return!1;for(var r,i,o,s,a=[];t;){for(r=0,i=t.children.length;r<i;r++)if(o=t.children[r],y(e,s=t.leaf?n(o):o)){if(t.leaf||m(e,s))return!0;a.push(o)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return null!=e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(e,t){if(null==e)return this;for(var n,r,i,s,a=this.data,l=this.toBBox(e),c=[],u=[];a||c.length;){if(a||(a=c.pop(),r=c[c.length-1],n=u.pop(),s=!0),a.leaf&&-1!==(i=o(e,a.children,t)))return a.children.splice(i,1),c.push(a),this._condense(c),this;s||a.leaf||!m(a,l)?r?(n++,a=r.children[n],s=!1):a=null:(c.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(e){return e},compareMinX:c,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var i,o=n-t+1,a=this._maxEntries;if(o<=a)return s(i=g(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=g([])).leaf=!1,i.height=r;var l,c,u,d,h=Math.ceil(o/a),p=h*Math.ceil(Math.sqrt(a));for(v(e,t,n,p,this.compareMinX),l=t;l<=n;l+=p)for(v(e,l,u=Math.min(l+p-1,n),h,this.compareMinY),c=l;c<=u;c+=h)d=Math.min(c+h-1,u),i.children.push(this._build(e,c,d,r-1));return s(i,this.toBBox),i},_chooseSubtree:function(e,t,n,r){for(var i,o,s,a,l,c,u,h;r.push(t),!t.leaf&&r.length-1!==n;){for(u=h=1/0,i=0,o=t.children.length;i<o;i++)l=d(s=t.children[i]),(c=p(e,s)-l)<h?(h=c,u=l<u?l:u,a=s):c===h&&l<u&&(u=l,a=s);t=a||t.children[0]}return t},_insert:function(e,t,n){var r=this.toBBox,i=n?e:r(e),o=[],s=this._chooseSubtree(i,this.data,t,o);for(s.children.push(e),l(s,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)},_split:function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=g(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(e,t){this.data=g([e,t]),this.data.height=e.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,i,o,s,l,c,u,h;for(c=u=1/0,r=t;r<=n-t;r++)s=f(i=a(e,0,r,this.toBBox),o=a(e,r,n,this.toBBox)),l=d(i)+d(o),s<c?(c=s,h=r,u=l<u?l:u):s===c&&l<u&&(u=l,h=r);return h},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:c,i=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var i,o,s=this.toBBox,c=a(e,0,t,s),u=a(e,n-t,n,s),d=h(c)+h(u);for(i=t;i<n-t;i++)o=e.children[i],l(c,e.leaf?s(o):o),d+=h(c);for(i=n-t-1;i>=t;i--)o=e.children[i],l(u,e.leaf?s(o):o),d+=h(u);return d},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)l(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():s(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},52796:function(e,t,n){"use strict";n.d(t,{Y:function(){return c}});var r=n(82392),i=n(20857),o=(n(80861),n(8636)),s=(n(6273),n(67498),n(62991),n(50078)),a=n(26325),l=n(15909);let c=class extends l.X{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};(0,r._)([(0,s.u)({Type:i.A,ensureType:(0,o.dp)(i.A)})],c.prototype,"itemType",void 0),c=(0,r._)([(0,a.$)("esri.support.GraphicsCollection")],c)},52884:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(82392),i=n(73783),o=n(3223),s=n(3132),a=n(58842),l=n(81482),c=(n(6273),n(80861),n(26325)),u=n(46227),d=n(68717);let h=class extends i.A{constructor(e){super(e),this._featureUtils=null,this.effectivePopupTemplate=null}get _arcadeTask(){return this.expressionsUsedInTitle.length>0?this._get("_arcadeTask")||(0,s.UT)((()=>(0,d.l)())):null}get featureUtilsPromise(){return this._get("featureUtilsPromise")??n.e(9687).then(n.bind(n,79687)).then((e=>this._featureUtils=e))}get calculatedExpressions(){const e=new a.A;if(!this.expressionsUsedInTitle.length)return e;if(!this._arcadeTask?.value){for(const t of this.expressionsUsedInTitle??[])e.push({name:t.name,invalid:!0});return e}for(const t of this.expressionsUsedInTitle)try{const n=this._arcadeTask.value.arcade.parseScript(t.expression,["$layer","$map","$datastore"]);if(n.isAsync){e.push({name:t.name,invalid:!0});break}e.push({name:t.name,syntax:n,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(n,{vars:{$feature:"any"}})})}catch{e.push({name:t.name,invalid:!0});break}return e}get expressionsUsedInTitle(){let e=this.effectivePopupTemplate?.title??"";return"string"!=typeof e?[]:(e=e.toLowerCase(),this.effectivePopupTemplate?.expressionInfos?.filter((t=>e.includes(`{expression/${t.name.toLowerCase()}}`)))??[])}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some((e=>!0===e.invalid))}get requiredFields(){const e=new Set;if(this._arcadeTask?.value&&!this.hasBadExpressions)for(const t of this.calculatedExpressions?.toArray()??[])try{const n=this._arcadeTask.value.arcade.extractFieldLiterals(t.syntax);for(const t of n){const n=t.split("."),r=this.fieldsIndex.get(n.at(-1)??"");r&&e.add(r.name)}}catch{}const t=this._extractFieldNames(this.workingTitle);for(const n of t){const t=this.fieldsIndex.get(n);t&&e.add(t.name)}return null!=this.objectIdField&&e.add(this.objectIdField),e}get titleFromDisplayField(){let e="";return this.displayField&&(e=this.fieldsIndex.get(this.displayField)?.name??""),e||(e=this.fieldsIndex.get(this.objectIdField)?.name??""),e?`{${e}}`:""}get workingTitle(){const e=this.effectivePopupTemplate?this.effectivePopupTemplate.title:"";return""===e||null==e||this.hasBadExpressions||"string"!=typeof e?this.titleFromDisplayField:e}async getTitle(e,t,n){const r=t.getObjectId()??t.attributes[e.objectIdField];return(await this.getTitles(e,[t],n)).get(r)??""}async getTitles(e,t,n){const r=new Map,i=n?.timeZone??"system";try{const[{substituteFieldsInLinksAndAttributes:o}]=await Promise.all([this.featureUtilsPromise,this._arcadeTask?.promise]);n?.fetchMissingFields&&(t=await this._checkAndReQueryGraphics(e,t));const{fieldInfoMap:s,workingTitle:a}=this,l=a&&s;t.forEach((t=>{const n=t.getObjectId()??t.attributes[e.objectIdField],c=l?o({attributes:t.attributes,expressionAttributes:null,fieldInfoMap:s,globalAttributes:this._createFormattedAttributes(e,t,i).global,layer:e,text:a}):"";r.set(n,c)}))}catch{}return r}async _checkAndReQueryGraphics(e,t){const n=t.map((t=>t.getObjectId()??t.attributes[e.objectIdField])).filter(o.Ru);if(n.length!==t.length)return t;if(t.some((e=>!(0,u.Kl)(e,this.requiredFields)))){const r=e.createQuery();r.where="1=1",r.outFields=[...this.requiredFields],r.objectIds=n;const i=await e.queryFeatures(r);if(i?.features.length===t.length)return i.features}return t}_createFieldInfoMap(e){const t=new Map;if(!e)return t;for(const n of e){if(!n.fieldName)continue;const e=this.fieldsIndex.get(n.fieldName),r=e?.name??n.fieldName;n.fieldName=r,t.set(r.toLowerCase(),n)}return t}_createFormattedAttributes(e,t,n="system"){const r=this.effectivePopupTemplate?.fieldInfos??[],i={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&this.calculatedExpressions.length>0&&this._arcadeTask?.value){const n=this._arcadeTask.value.Feature.createFromGraphicLikeObject(t.geometry,t.attributes,e,null);for(const e of this.calculatedExpressions)try{i[`expression/${e.name}`]=e.func({vars:{$feature:n}})}catch{}}const o={...t.attributes,...i};return{global:this._featureUtils.formatAttributes({fieldInfos:r,attributes:o,graphic:t,timeZone:n,layer:e,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(e){return(0,u.nw)(e).filter((e=>!(0===e.indexOf("relationships/")||0===e.indexOf("expression/"))))}};(0,r._)([(0,l.MZ)({readOnly:!0})],h.prototype,"_arcadeTask",null),(0,r._)([(0,l.MZ)()],h.prototype,"_featureUtils",void 0),(0,r._)([(0,l.MZ)({readOnly:!0})],h.prototype,"featureUtilsPromise",null),(0,r._)([(0,l.MZ)({readOnly:!0})],h.prototype,"calculatedExpressions",null),(0,r._)([(0,l.MZ)()],h.prototype,"displayField",void 0),(0,r._)([(0,l.MZ)()],h.prototype,"effectivePopupTemplate",void 0),(0,r._)([(0,l.MZ)()],h.prototype,"expressionsUsedInTitle",null),(0,r._)([(0,l.MZ)()],h.prototype,"fieldsIndex",void 0),(0,r._)([(0,l.MZ)()],h.prototype,"fieldInfoMap",null),(0,r._)([(0,l.MZ)()],h.prototype,"fields",void 0),(0,r._)([(0,l.MZ)()],h.prototype,"objectIdField",void 0),(0,r._)([(0,l.MZ)()],h.prototype,"requiredFields",null),h=(0,r._)([(0,c.$)("esri.layers.support.TitleCreator")],h)},53098:function(e,t){"use strict";t.A=function(e){return null!=e&&"object"==typeof e}},53182:function(e,t,n){"use strict";n.d(t,{r:function(){return a},v:function(){return l}});var r=n(19228),i=n(31656),o=n(42126),s=n(91301);const a={types:{key:"type",base:o.A,typeMap:{style:s.A}},json:{write:!0}},l={types:{key:"type",base:r.A,typeMap:{style:i.A}},json:{write:!0}}},53244:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r=n(82392),i=n(58842),o=n(61985),s=n(81482),a=n(26325),l=n(89370);let c=class extends i.A{constructor(e){super(e),this.getCollections=null}initialize(){this.addHandles((0,l.fm)((()=>this._refresh()),o.OH))}destroy(){this.getCollections=null}_refresh(){const e=null!=this.getCollections?this.getCollections():null;if(null==e)return void this.removeAll();let t=0;for(const n of e)null!=n&&(t=this._processCollection(t,n));this.splice(t)}_createNewInstance(e){return new i.A(e)}_processCollection(e,t){if(!t)return e;const n=this.itemFilterFunction??(e=>!!e);for(const r of t)if(r){if(n(r)){const t=this.indexOf(r,e);t>=0?t!==e&&this.reorder(r,e):this.add(r,e),++e}if(this.getChildrenFunction){const t=this.getChildrenFunction(r);if(Array.isArray(t))for(const n of t)e=this._processCollection(e,n);else e=this._processCollection(e,t)}}return e}};(0,r._)([(0,s.MZ)()],c.prototype,"getCollections",void 0),(0,r._)([(0,s.MZ)()],c.prototype,"getChildrenFunction",void 0),(0,r._)([(0,s.MZ)()],c.prototype,"itemFilterFunction",void 0),c=(0,r._)([(0,a.$)("esri.core.CollectionFlattener")],c)},53334:function(e,t,n){"use strict";n.d(t,{$A:function(){return _},Bw:function(){return y},C:function(){return i},Cc:function(){return S},Io:function(){return f},Ln:function(){return p},Om:function(){return w},Re:function(){return a},S8:function(){return b},T9:function(){return d},Vj:function(){return k},WQ:function(){return s},ZF:function(){return x},aI:function(){return E},e$:function(){return T},ei:function(){return A},g7:function(){return I},hG:function(){return m},hZ:function(){return o},hs:function(){return h},jb:function(){return R},jk:function(){return u},l0:function(){return M},m3:function(){return g},t2:function(){return C},xg:function(){return L},ze:function(){return v}});var r=n(78115);function i(e,t){return e[0]=t[0],e[1]=t[1],e}function o(e,t,n){return e[0]=t,e[1]=n,e}function s(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function a(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function l(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function c(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function u(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function d(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function h(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function p(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function f(e,t){const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function m(e,t){const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function y(e){const t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function g(e){const t=e[0],n=e[1];return t*t+n*n}function v(e,t){return e[0]=-t[0],e[1]=-t[1],e}function b(e,t){const n=t[0],r=t[1];let i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function w(e,t){return e[0]*t[0]+e[1]*t[1]}function _(e,t,n){const r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function S(e,t,n,r){const i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}function x(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function M(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function A(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function T(e,t,n,r){const i=t[0]-n[0],o=t[1]-n[1],s=Math.sin(r),a=Math.cos(r);return e[0]=i*a-o*s+n[0],e[1]=i*s+o*a+n[1],e}function I(e,t){const n=e[0],r=e[1],i=t[0],o=t[1];let s=n*n+r*r;s>0&&(s=1/Math.sqrt(s));let a=i*i+o*o;a>0&&(a=1/Math.sqrt(a));const l=(n*i+r*o)*s*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function C(e,t){return e[0]===t[0]&&e[1]===t[1]}function E(e,t){const n=e[0],i=e[1],o=t[0],s=t[1],a=(0,r.FD)();return Math.abs(n-o)<=a*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=a*Math.max(1,Math.abs(i),Math.abs(s))}function k(e,t,n,r,i){let o=t[0]-n[0],s=t[1]-n[1];const a=(r[0]*o+r[1]*s)*(i-1);return o=r[0]*a,s=r[1]*a,e[0]=t[0]+o,e[1]=t[1]+s,e}const P=y,R=a,O=l,N=c,L=f,D=m,F=g;Object.freeze(Object.defineProperty({__proto__:null,add:s,angle:I,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},copy:i,cross:_,dist:L,distance:f,div:N,divide:c,dot:w,equals:E,exactEquals:C,floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},len:P,length:y,lerp:S,max:d,min:u,mul:O,multiply:l,negate:v,normalize:b,projectAndScale:k,random:function(e,t=1){const n=2*(0,r.Ov)()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},rotate:T,round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},scale:h,scaleAndAdd:p,set:o,sqrDist:D,sqrLen:F,squaredDistance:m,squaredLength:g,str:function(e){return"vec2("+e[0]+", "+e[1]+")"},sub:R,subtract:a,transformMat2:x,transformMat2d:M,transformMat3:A,transformMat4:function(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}},Symbol.toStringTag,{value:"Module"}))},53965:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(()=>{const e=new ArrayBuffer(4),t=new Uint8Array(e);return new Uint32Array(e)[0]=1,1===t[0]})()},54213:function(e,t,n){"use strict";n.d(t,{A:function(){return v}});var r,i=n(82392),o=n(15565),s=n(81482),a=(n(6273),n(80861),n(25376)),l=n(26325),c=n(48524),u=n(31859),d=n(59594),h=n(23547),p=n(80177),f=n(11178),m=n(22040),y=n(71973);let g=r=class extends h.A{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map((e=>"image"===e.type?p.A.fromJSON(e):"barchart"===e.type?u.A.fromJSON(e):"columnchart"===e.type?d.A.fromJSON(e):"linechart"===e.type?f.A.fromJSON(e):"piechart"===e.type?m.A.fromJSON(e):void 0)).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map((e=>e.toJSON()))}clone(){return new r((0,o.o8)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};(0,i._)([(0,s.MZ)()],g.prototype,"activeMediaInfoIndex",void 0),(0,i._)([(0,s.MZ)({type:Object,json:{write:!0}})],g.prototype,"attributes",void 0),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],g.prototype,"description",void 0),(0,i._)([(0,s.MZ)({types:[y.g]})],g.prototype,"mediaInfos",void 0),(0,i._)([(0,a.w)("mediaInfos")],g.prototype,"readMediaInfos",null),(0,i._)([(0,c.K)("mediaInfos")],g.prototype,"writeMediaInfos",null),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],g.prototype,"title",void 0),(0,i._)([(0,s.MZ)({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],g.prototype,"type",void 0),g=r=(0,i._)([(0,l.$)("esri.popup.content.MediaContent")],g);const v=g},54481:function(e,t,n){"use strict";function r(e){const t=[];for(e.reset();e.nextPath();){const n=[];for(;e.nextPoint();)n.push([e.x,e.y]);t.push(n)}return e.reset(),t}function i(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}n.d(t,{A:function(){return i},x:function(){return r}})},54483:function(e,t,n){"use strict";n.d(t,{Ye:function(){return d},gy:function(){return u},yR:function(){return h}});var r=n(1817),i=n(8e3),o=n(61064),s=n(67709),a=n(1912),l=n(65648),c=n(38648);const u=(0,r.O)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),d=(0,r.O)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),h={base:o.A,key:"type",typeMap:{extent:i.A,multipoint:s.A,point:a.A,polyline:c.A,polygon:l.A}}},54540:function(e){var t;t=()=>(()=>{"use strict";var e={267:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.allowedToUse=void 0,t.allowedToUse=()=>{const{hostname:e}=window.location;return!(!e.endsWith("arcgis.com")&&!e.endsWith("esri.com"))}},913:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getAPIRootURL=t.useProdService=t.setCustomAPIRootURL=void 0;const n=["https://imagery-animation.eastus2.cloudapp.azure.com","https://imagery-animation2.eastus2.cloudapp.azure.com"];let r="livingatlas.arcgis.com"===window.location.host||"livingatlasstg.arcgis.com"===window.location.host,i="";t.setCustomAPIRootURL=e=>{i=e},t.useProdService=()=>{r=!0},t.getAPIRootURL=()=>{if(i)return i;if(!r)return"https://imagery-animation-dev.westus2.cloudapp.azure.com";const e=Math.floor(Math.random()*n.length);return n[e]}},601:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_NUM_OF_FRAMES=t.ESRI_LOGO_DARK_BASE64=t.ESRI_LOGO_LIGHT_BASE64=void 0,t.ESRI_LOGO_LIGHT_BASE64="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF0AAAAmCAYAAACmlJfBAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMi8wNi8yMry7qqUAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAXOUlEQVRoge1be1RUZdf/zZUZmBnu4IgIImiASCoklzQTDVF8U7yELSwvZajpF7VMQ7M3zctnpubltTQzrMxSMwMvKJgimIoX0FAEUWiGYWYAh4EZ5nZmzvfHOYc5jFCtt/X+Ue+313rWGc55rr9nP3vvZ+8NhyRJ/D/9e8ThcDjMT7oAAMl+kj0AzP+TA4H1m915rwP+XYjGgUcXPgAuqHXb6eIA4OBwOI/h8IdBpwfh0J0zTx6677CDVUgOh0Pib7gBLMDdALgDEAEQgALbAsBMPwn6Xbe1c//IABwOhwFYAEAMQAJABkCakpISuHjx4qBly5YFjxo1yps1CSGoTeUB4HI4HC7rlPzViQMKC48lS5ZE6fX6n0iSrDt//vxSAP6gsBGBPgGu6+6V01kVmeMjBLWz/C+++CJmyJAhMWKxuA9Jkhyj0dhutVr1CoWiBEArABuoHSbo38yOOzgcjgMU4/8lOZ/GhQvALSsrq//q1au3y2SygQCQmJj4+rFjxxxTp079CtRpZ4uarvVyelo7S5Tw4eRu0blz5yZFR0dPBsDT6XSNOp3OYLFYCDc3N7FIJOIDMBMEYdBqtfVffvnlzUOHDrWAAtzKKgRYIuivBj6NjRCA57Vr15aOGDFiJfu7TqdTJiUlzauurn4AQAegE4CVJEkHU+cx8eICuAiA5Ouvv366ubn5i8TExH9WVFRcycrK2vrEE0/sDwkJSRg2bNiMoqKihz/99FOdXq/nent7D42Li5v36aef5mm12i8KCwtfiIqK6gvAC4AU1AYKQOuDv6jI4QDg6HQ6k+sHK0V8OJUr27KhiCTJrgKnghSCkkvymzdvrjYYDLX5+fn/vH379uGZM2dmAkgB8NzChQtfb2lp+bWhoeFmcHBwJoB0AM8BSMnJyZl/8eLFvY8ePbrX0dHxIC8vbwmAIQBCQMk9CT0OD/SJ+63CmnyP5T/Vtof2XFDM6J+YmBjf0NBQStJkMBj0mzdvXg9gFIDBAPxAMRmP3V838UIrzC4Or66uzunfv/8Lr7766vKvv/5af/ny5fl5eXll+/bt+3XFihWRnZ2dOHnypObChQsrCYIwr1q16pOAgAC+w+Eg8vLyfg0LC5MmJSUFJSQkhKalpU2vqakpSkpK+shkMrUCaAdghFPkPCZqWKfO1WpiiJGVzLPLUurBhubhca6zs9qxx+7JLAY9NmNUuAPwlMvl8jVr1qR6eXn5Hz9+vOqrr76qBiVWmDV20mu0d82NWSfLDBIBkJSXl78aHR29KDU19XVfX1/fJUuWTIyOjo612Wx2oVAoDAgICAYAlUpVS5KkIzAwMIIgCHNDQ8Nth8Nht9vtnODg4EE8Ho//3XffnbDZbLZ58+bNqq+vvxoVFbWcIIhmAHoW8HYGeBbYjBLng1LijF3MoYEm4NQZXcqaBRgXlCgT0oUBjdkwG5yKngGdbQqz7x/M2EwfjHEhpYsb3aeFBttAA26i52djNpcNOpduKN2xY0fcvHnzPsnNzV1nMplk27Zte18sFovZW242m011dXWVV69evX7y5Mnavn37eqxfv/7tLVu2fL569ep7t27dWhQTEzOUqd/e3t6h0WiaIiIiBt28ebNg+PDhHwBoAdBGT84GJ8eyT5wYgEdqamrA6NGjQ7y9vWVms5moqqpq3rdvXwO9KGZxZji5t1v75cuXRwQHBwcC4KnV6o6CgoJfKyoq2uh2Jnp8ZpPc6PbMKeIC4Ofk5ITGxsbK29vbOz/++OPauro6K13Xg65vp+dgAmBKTU3lFhYW6lj9U0YES2YJQCm7AS0tLVevXr36TUJCwmtGo9FAsshms9lLSkpKp0+fvhLAdACTAEwE8Py6dev+t7Gx8cGlS5cukz3QiRMnft61a9e3JEmS+/btWwtgGIB+oPQHs1A+qKPrB2Dg3r1759XV1Z1sa2urN5lMbRaKjO3t7VqFQnH9wIEDqwCMABAOIJBegxeAQLlcHnnx4sWNGo2mwmg0NlssFpPFYjEbjUZ9S0vLw+vXrx/NysqaAiAKQFhCQkJMY2NjwaNHj263trb+olKpLk+aNClj+vTpmffv3y/u6OjQ2mw2s9ls7ti1a1cOgKerqqqOarXaarVafVej0dxZvXr1qwDiL1269M/6+vo9V65ceZVeiwcYHUaDziiHwIMHD84nSZI8derUofLy8kuuwN2/f/8BgEUAXgCQCmAMgGcBpC9YsOBdvV6v7wlwkiTJjo4OU3p6+s7i4uJzbW1tTT4+PuNAKRxGsTJcExAdHR1bXV192Gaz2Xrrjyb7jRs38kUi0SgAkQD6AwgZO3ZsolKpvPg7bUmDwdD81VdfLQfwZHJy8hij0ahlfWtbu3btFo1Go3Btt3bt2lUA0jUazT32+y1btrwnEonG3L1792uFQnG0ubn5BAA5AE8aYz6XZewL4+LivJ566qmJNTU1pSNGjBgVGxsbzxYpP//8822TyWTMyMjwgVOGcqRSqXtlZWXOp59+ukYmk8nQC0kkEtHGjRvTli1bViYSibw++eSTSTTYzO1NBMBjzJgxwWfPnt09ePDg6Xw+nw9Q4qyhoeFebW3tLxqNRsXqljts2LD04uLiN+nN83V3d/ffvXt3blBQ0NPs8XU6na61tbWZ/U4oFMq4XK4MgLvRaHQ3mUxdZiBJkvyFCxe+FBAQ0M91LR0dHVwAbp2dnVb2+/b2dqHZbHa7evVqeUNDQ2VRUdEX9KcuJc4oFR4A4UsvvRRpt9uF9+7dU/r7+8sFAkHXjVWpVKonTpz4XXt7e3tmZmYk/ZofHx/vf+zYsReHDh06tjew2RQdHR0WFhbmV15efnXkyJFj4HQbMPLXc9euXW/J5fJEps0vv/xSkZWVtSEuLm5zZGTkptTU1A3btm3bZzAYDEydhISEf6xYseJpAP5Tp06NCQ0NHc98M5lM5r179/4wefLkHWlpaR+/8847O9RqtcJqtVq2b9/+4YsvvlgEgOtwOPgkSXZZRxKJxMPX19cXAFQqVWNxcfG5M2fOFNy6detCU1OTjq7W7a5DkqQbAN7LL798KSMj49isWbOuwsUHw4fTShBGRkZG+fr6Rg4dOtRKEAT4fD6sVivR0NCgfPPNN4+2tbW1FxcXV86aNevpjRs3NsycOXOMl5dXX5IkBQ6Hg+RyuX/oojNjxozos2fP1i5fvnzG6NGj5SUlJW2gNDxv7dq1ceHh4VOYuvX19Q9SUlIOaLVaRukRlZWV5pycnBKTyYRly5bN4/P5HC6Xy83IyJi4cePGBxEREWFCodCN6ePhw4fKBQsWXAGlcDvLy8sV5eXltU899ZR0w4YN5aAsDjtJko/N3+FwkIcPHy6aP39+gdFo1AHooOdBSiQSD9f6BEEw/ia7Vqs10X2zrSuSsX35AASxsbFTVCpV3eHDh8+TJEk0NjY2vvXWW19ERUVtLygoeDB48GBucnJyaHh4eEx2dvZctVqtfuedd7bn5+efcTgcruP3SmPHjh3q7u4udjgcjuTk5CA4/Tru48aNGy8UCsX0AsitW7de0Gq1AOsWS3dD5ubmVioUCiXTb//+/cMDAwP9FAqFnT1ecHBw3+3btydHRUV5gXbBFhcXN23YsKECTo9gj+6I0tLSiszMzAKj0dgMoBmAln7qBQKBmfakdhHrpJBwmqSML4oEQDKczgcg9Pf3jy8oKNjRr18/f4FAIDh69GjZzp07qwCYjhw58mxKSsqzZrO5XafTNR4/fvzY3LlziwFwsrKyxvP5/D98nSdJkjx9+nRjdna2LSQkJIAGVCAWiz369u07hFXNkZmZGZ+env6Em5ubg8/nE1wu18HhcEibzca12Wx8qVTaxW1SqdQzLi4u8MiRI8qPPvrokaenpw/93n3JkiXps2bNSmpqalIplcpfKyoq7u7Zs6e8vr7eDNZmsrndZrMRhw8fLgdldz8CdeHpAMW5blwu153L5fa0WYxvydXh1w30rkuDl5eXx927dzUAEBsbGzRt2rTAHTt2vODh4SEpKio6mZWVdfr777+flJKSMgrAWQA4e/bs1ejo6DiBQODO5/MFIpFI8Fugq1QqXU1NTYfVarUKhUIBPbbAx8fHXSQSeQOAw+EAj8fjJiYmDvmtvtgkFAoFYWFhHidOnDAdOnTo6Jw5c+a4ubl1zcXPz8/Hz8/PJyYmZkhaWtrEBQsWqE6dOnVk9uzZ+QBsDoejm9fVbDZbGhsbW0FddAw0+B00kHYej2dx5XRWDKErkMH8JkmnqQiwNGu/fv0CV65cWXnhwoXzI0eOjMvLy1uiVqvViYmJq6ZNm3bCZDJZDhw48LOXl5d8zpw5/QFw1qxZczsmJmZVamrqpsWLF+fV1dU1/RY4DQ0NLWKxmCsQCATNzc3trnMAAC73d139jxGfz+cFBQUBQHt2dvaJNWvWbLhz584Ng8HQ0VN9X1/fvllZWUtPnTo1F4CnxWIRucp1oVDIXHiMcF6kzACsHA6H6GUq7JDdY95UPvuj1WrtlEqlkqlTpwYMGDAgSCQSuRUWFpZNmDDhMAALj8cT2O12zjfffNOam5tbk52dPfHgwYMHFi1aFJaWljYsKCgohM/nu0skkl799A8ePNBotVp9RESEGAD58OHDVtCcoNFoLJ2dnYxVwCEIwn7w4MHS2tpata+vr0MgEFh5PJ6d4S6SJDkEQXBpcEiRSGQ9c+bMLVDuBdv69esvrF+//lp6enpoUlLSwMGDB4dER0cPCgsLGywQCHjMnEaPHj0lLS3tRlFRUQsbdA6HAz6fb0d32czIZzuHw3G4cvofIeaqawdgVyqVZ6RSaWh2dvYIpVKpvHPnTn1sbGzk+fPnswYNGhRiMBjaGxoafj1//nx1SUlJzezZs6fcu3evf2BgYLDBYGhVKpUPqqqqqoqLi5vS0tLi09PTx/L5/C6WtVgsBJfLRWJiYiiAts7OTv2VK1fUoGUfQRDW+vr6mtDQ0HgaSG5jY6Nu/fr1FTSQBlBKj7maM8UB5/Wb4UiS7tdeUFBwr6CgoAH0PSAnJ2f4e++997Knp6cUANzd3d2Tk5MHnTp16rETQYPaTUygF6XrQr3WYYKpBADb6dOnf/Tx8QktLCysSE5O3q/X6/VyubzfM888kyyXy/tFREREjRs3bsIHH3zwRlZW1gypVOoDwO21117bHBAQ8Pbw4cO3vvDCC4f37NlzberUqYfYlgUAlJeX102YMOGQTqdrS0pKGqTVahU3b958BKdDyJyfn3/ebDZ3MmtevHhxSkZGRiD9N7NwAoB90aJFoZ999lkCnMdfD6fM5Rw5cmTc7t27R9JrtNCbYd66deud+/fv13cDgst1A6XQezIIXL2Qf4rYEWzrpk2bbloslpYZM2YMB2CTy+XS3hrKZDIpAAiFQvHJkydbQC20E5QDqy0oKMgiEom6CeaqqqrGe/futT58+FDp4+Mju3jx4hU4TTYrAOOWLVsqr127ls+08fLyku7fv/+Vzz//PGXcuHH9BgwY4J2RkTHw+PHjMzZv3rxq/vz5S06dOjVdJpNxQXsdBQIBJz8/f/K0adPef+WVVz744YcfMgcNGuQvFArFfn5+4m3bto2MjIwMZ8awWCy2yspKbS+WSE+uX8AZeO+tPvA73C4E4A0gvLS0dLPVajXJ5fJZo0ePXnr//v3qzs5OS09+C6vVardarcS5c+eKAGSA8sMkAnhm4cKFbxqNRiO7fl5e3jkAy2tra+80NTXd9/PzSwfl9AoF0AeUjyIiMDDw2erq6p9dxzObzea2trZHFovF6vrtp59++hSU4yu6sLDwbdfver2+uaam5rZarVa6frtx48ZNAAv69OmTrVarG5n3HR0dHbNnz84F5VuKAOW4EoG6U/j5+/sPUygUFey+3n333c0AxoNyogWAumVzSVYQg+F0xrfcuXz58iNWq/XR2bNn55aUlGgiIyM/0mg0jT3tlsFgMK5cufLbmJiYmE2bNiWBlQkQEhLizefzu5mOdrudAEAEBAQEnjlz5kRLS0s7qCPPcHongA6NRqMeP3786tLS0uMEQXTdutzc3Nw8PT29aTOzi5RK5Z1Lly7dAq2b7t69W6/Vam+y68hkMr+IiIghgYGBQez31dXVv8ydO3cfgDapVNopFou7+hYIBAKZTEbQ82P76kkAdjc3N0IoFHYzGiQSCZOGwcSCH082IkmSpCP0NgCWsrKy5mPHjm188cUXt61du7ZEIBB4GY3GttOnT5dMmDBhNLuxSqXSffjhh/f69+/PmTt3bqbVajVNmjTpycDAwP5cLlfMnpDVaiX69OkjLisrm6pQKKpffvnlk6AUI+Pk7wpkAOAoFArOqFGjNufk5JRMnz59fERERIxEIvHm8XgC+pSZNRrNrxcuXLj47rvvnmlqalKDElW2N954o2LLli2vb926dcrw4cOf8/Pz6y8QCNw5HA6XJEm7xWIxqVQqRWFhYdmKFStKzGZzOwCT3W4XKxSKGxKJpI/D4QBBEJ1tbW1qOP397EiTw2KxdLa0tNwgCIIwm80kj8fjPHr0SInu0aLHRBOHJEnX5BkZAK/r16+/FRMTM+tf//rXjjfeeKMKgPTcuXMvPfvssyOZxt9++21ZZmbmyX379j05b968GQRB2G/fvn22pqbm/pkzZ5S5ubkvDRw4MKq1tfVRVlbWl3PmzAmfMmVKysyZM5f++OOPVaBueYyTn5kkI+48QHkgPQHIxGKxdPLkySFyudzTbDbbKyoqWq5cudJML5B9cbHSfYjptXgmJCTIY2Nj+7q7u4t0Op3l8uXLzdXV1Xo4rR0GJCbSL6bxcNDf9KB0FXMqSTijRl5wum1B12mHM3pkBkCw7XQ26OxojRSAT3V19ZrQ0NCxe/bs2b106dIqgUDgqdFo3vf29vZ2OBzk+fPnK728vLj+/v4eRUVFZdOmTZu4bt26nZs2baoCwF+0aNGQdevWLdywYcMRmUwmWLx48aT333//423btl0G5b9oY02MiRyxUz8Yz6M7/WRbGIxvoytSw+oHdD13Vnsm3AeXtkxGFsOVTFIVz6UeszE2Vj0RawxmXuz6FmZdbNBdI94M6N6govZPXr9+fb/VajVVVlaeDQsLW/j222/vVqlUTfQRJ3bu3HnYy8trCYB5n3/++d7Ozk795MmT/wdAJoDZpaWlxR0dHfq2tjbNunXr1gIYB2A4gAGgFJOEnjA7XYGdTeZJ1+sLSuEOBBUlCqf/7gcqYuRN9yWGMwvNC5Qy60ePFw5KITJtg+jvPvQ4MvrpS4/pR3+TgpWxxZqjG2scpr4v3Q+zEd2UKNlLNgATDBbTg8n279//3OTJkxdKJBL5iRMnTnA4HI9nnnkmUaVSNR08eLB0w4YNN2gusJeVlWUNGDAg5Msvv/xx4sSJIwcNGhSvUCiqcnNz93733Xe1oI4qY08z3EOwucElC4DXQ2GI7VhiX16A7pF7Putv5pS4ZmC5BrRdczRdL0bsLAXXQHa3+t24HHgMdFdOE4GWrd7e3t6fffbZP+Lj41N9fHwGtLe3641GozE8PDyyoqLicktLS7NEIhH5+fn5h4aGxpjNZp1Kpbpz7NixwhUrVlyD02nERMnZx9XhOrEewGcvkqEupYaebWnX9A2OS9vfageXut0SYXtJk+61frfOXd/1kP7gBhb4ACTPP/98WFpa2pD4+Pi40NDQSB8fHznTXq1W15w+ffrH/Pz8X77//vsGOG+C7MJ27DtIVspZb/R7mWA9Le7PtPtP0u/lMjLKlUlLYMJqHuiu2JgjzxxXG5wKygwKYObJdhr9IcD/btQj6MBjwDOyVABn8g6TMsGO6LBlGRtgxpHvzP3oRaT8N1CvoHdV6Bl8Prortt4UD8F6/qZy+W+i3wUd6FFpMBvAdq+yif0fGWyt/18NNkN/CPRuDR7fgN/S3n/Lf3/5s/R/TUJlSRCmKAIAAAAASUVORK5CYII=",t.ESRI_LOGO_DARK_BASE64="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAAdCAYAAAAJrioDAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABZ0RVh0Q3JlYXRpb24gVGltZQAwNC8xMC8yNOKpTFgAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAARM0lEQVRogdVZe1SU1dr/vTPDzDDMDM4Aw+WMgoAzk1CgNV7AC2mIYoQXrETLVZYnw5Pm4mjfMbNark6dNLPPTt4vfZqfRkZqtYTUQoRABRFElIuII+BwGRgZBub2fH+87ysjaafvtk5nr7XXvLPf5332fn77ue1nM/iNjYiYB71jGIZ+K59/diMiAQC+8zJ5+D5YlgcKzTHj3w9mKgBAHFO31/PvGiwOHB8AUgC+3LMHQB8AOwAHALe3DKIHMGIwAIQQgNirC7l3PDhOjrELgJuI+PHfFVicTEIAMgABAAIB+IFddyeAdgBdYOW6u27BAxjxSPsBUHHMQm7cuBFx5syZkbm5uXHbt2831tbWhgMIBhAEQA3An1uABIDw18zyn9AYsBusBKB97bXXFjEM88OoUaM2dnd368CuX4pBmNyjQV4oi8GCowSgLCkpCT1w4MCopqamYQ6HQ6FSqex2u52prKy8ZTAYGg0Gw+2pU6e2gVXTXgA9AGwA+onIxTCM5/9X9t/UGLDyyrdu3Trm0KFD8wDg0qVLoxctWvT8/v37N8jl8k4ANiJieO2/C5AXOBIACrCIBi1evHhmYWHh42FhYe2TJk1qLC0t1ZSWlkYsX748r6KiIvLAgQMJLpfLI5FI7PHx8ZfXrVt3JjAwsA2synZzEzrvB9IgDeOf76r3YBP9R/T/oPHuwufcuXORZrM5AAA8Hg9TUVEx0mKx+Mrlcm/HjXsAwoBZKQAE1dXVDX/22WdXymQyYVRUVO/x48fPCAQCwcWLF+2zZs16qKysLHr37t2nq6urr507d051/vx5bXFx8YwpU6akLlu27MslS5acBdDMTdhDRA5eYC8zFnp174jixoA/44EVDvpmMD3vO5hBnQeT33y8+uqrpefPn59YXV390JAhQyyZmZnfDx06tMcLBwEReRiGYXeEW7AYgBxASEVFhS4zM/PNkJAQ5/Hjxwvee++9UQEBAb23b9+W9PX1Cex2u3Dv3r0TJ0+eXDl27FhTcHCwY9iwYe7CwsKwlpYWSUlJScjcuXO/fe+993IBNAIwgzU596DF+oL1Wb5em+UEa6Y2sCbr5sbFg+h9OED6MRCFPLyWeIHIzyfi5pQDCGxoaIj46quvRup0utb09PRLAJq4dd7heLkAuHmARNzEQf39/cPT09NfEwqFQevXr6994403En7++eehDodD4Ha7BT4+Po7U1NTSqKio7m3btk1JS0urHjFihPOTTz4Z7Xa7BWPGjDGbTCZxU1OTYvXq1VvXrFnDg9TJCS/g5vIH69yH2O12//r6ejUAT1RUlMXX17cLrIl2cGAJOMECAASYzebApqYmpUwmc0VHR7eLxeIusBGoH4DI5XIp3W63TCQSMUKhkAEgam5u9qurq5ONHDmyJzAwEBw/CfdNBwCzw+HoFovFVq/NcYCIGCKSEFEIERnXrl37V6PRWHXmzJlDRqOxhdsl8vPz61+8ePFPJ0+e/JvVas0mor8cOXLki7lz59akpaXd5OkA0COPPGKZP39+VWRkZNPp06f/SESjOP7+RBRMRDFENO27775bNXv27HydTtcYHBzcHhoa2qbX6+sXLlx4tLa2djERJRFRHBHFE1HyiRMnslNTU3+Kjo6+qdFoOrVa7e24uLgrL7zwwoGysrLniWj6sWPH/piQkHAqPj7+UkZGxkmbzbZ21apVRyIjI5sUCoV11qxZ31ut1hWZmZnfjRo1qspoNF44duxYdklJybyEhISPkpKSVhJRGBEpiEgIIhJyf6IsFktacnLyj3FxcTdTUlJu8AKLxWJ3enr6ZSJ6h4heI6I/9ff3v/PZZ5/laTSaXm9w+L527dqKtLS0i4mJiYVElExEBiIKJ6JHiOip1atX71WpVN3ec3h/r9PpGgsKCv6NiOYQ0dwdO3Zs0Gg0HfebCwDFxsZeIKLnd+3atcHPz88OgLRabfczzzxz2ZtuwoQJFWazeX1UVFQzABIIBJ4tW7b8+6lTp142GAy5ERER/0lEQ3mARJz6SgAo8vPz9WKxWAbA58SJE8Gc7eOVV165aLFYXHV1daLo6GjGZDKpVq9ePf2LL74Ygwe0PXv2jHjzzTeLPvzwwxE5OTkxGRkZPZxpBb/11luzNm3atNDhcAjVanXvggULynU6XWdnZ6csNzf3ofLy8rBr166FL1++fPGJEyf2BAUFOTZs2PCs2WxWi0Qieuyxx1qnT59+/datW6KcnJyRdrtdnJCQcAWARKVSSaRSqdtms6G9vV1+6NChkQBIr9e32Gw2oVarbZNKpUK5XO4BALFY7HE6nfLHH3+8Kysr64BYLDaBy6gBkAheoT0/P3+U2WwOsNvtYgCQy+XORYsWVW7evLl41apV0StWrEgKCwvrrKqqGn716tWIB4EDAC0tLb5Xr14NDA0NteXk5IzLyMi4CgBXrlwx7Ny5M93hcAi1Wu2dnTt3/pSSklIH1tGKs7Kybs2fP39Kfn6+try8PConJ8f45JNPmlpaWgIBQKPR9O3bt69cp9M1A+hOT08/f+XKFWRnZ5/j/I8YXPTq6+sTaDQa21tvvZX3xBNPlFssFptcLmdcLpfC4/EIuaWSy+XyAeBctmxZPYA2sH7PBeDuwU0CwPeHH34YHx8ff1skErljYmI68vLyjm3ZsuXsjh07Ar/55puRP/300ygA4jfeeOOCTqfr/DWAPB4PCgoKQocMGeLo6uoKBOsU1fv37x93+/ZtFQBMmDChIyUlpbuysnJIWVnZkIqKCiUAJiUl5TbPp6SkJFyhUIg4E4TFYhG//fbb+tzc3JDLly8rZ86cac7Ozq4BG8EYhmHu5jIymcy1cuXKM1lZWSf1en3ZuHHjzsfGxl5zOp02j8fD50/8sakf90ZPF8CGPj7/8eno6AgaMWLE1RMnTogmT55s0uv1HVOnTn381q1bCoPBYAoICOhavnx5VUxMjGPTpk19CoXCSUSCvr4+gcvluifBIiJotVp7ZGSkpaSkhI8YvrW1tVqPx8MwDINTp06FjBgxYmZvby/j8XhIIBDAx8cHvAYDQF1dnUIikdxJSEi4dvTo0Xi73S48ePBg1Ndffx0RGBjYEx4e3paQkFC1Zs2aQn9/f5dAIOA1A2q12jZv3rxysCH8OgeCi4jsRERea+VzKQfYSOsenEkzAJj+/n6Jv7+//aWXXrq0YcOGMaWlpUGJiYl1+/fvzw8NDe2dMWNGysaNG+N3795dlJOT831OTo6hoqJi2L59+3SDAZLJZJ7Ro0e3d3Z2eoRCoRNcEudwOHx4GqvVKrbZbCKXy8UQERiGZcEwDHx9fV1ut1tgtVrR3t7euX379sNCodB29uzZWJvN5muz2cQmk8nfZDL5nz17NvrcuXPRR48ePS6Xy314PiKRyN3b29sDwAI2DXAB8CciN37ZaNAveICI+9AplUptly5dUjqdTonL5RKOHz++dd26dQ319fXBEonE+txzz93YtWvXQ9u3b9eVl5er6+rqgsRisWf48OGWmpqaALd7YF6pVOrq6+tzt7S0SLmjRx8AgVqt7mI3jZgnnniiZcmSJZcbGxvdNpvNJRAIPAzDMP7+/i6bzeYxmUzQarXXg4KCGqVSqeDIkSNf1NTUaM+cORNZU1Pzh6KiosiKiopgu90u/PHHH2P37NlzMz093SwQCDwA4Ha7Ybfb3Zx8Ltybcd+v/WJcBC/7Gzt2bGFJSUnE66+/Xu1wOCSFhYXDxo8fH+V0OoXR0dHdERERd6qqqsJqamrCHn300at6vb4hMTHRHBsbK16zZs2UY8eOhQOAv7+/a+bMmU0lJSVDenp6+pOTk4vBHmD7k5KSKg8fPjzZZrOJW1paxGlpabfBJpE93Fp4n3AHbALXwQnmV1ZW5jd69OgOg8FgB3ATQO3s2bOn5ObmhgNAQ0NDgFqtbhWJRHePNB6PBxgoiHmnBr9JgwTc5P0AelJTUwusVqsoMzOzTqfTtdfV1ambm5vlbW1tvsXFxSEHDx4cYTab/cLCwnqOHj2av2XLltPz58+vevjhh00Gg6GNZ6rX660ffPBBmVKptDqdTsfLL79czIFgXrBgQUliYuJFALhw4UJQfHx88oEDB4b39PTIa2trA1esWJGg1WqXzpkzJ9nhcPRxmoc///nPE2fMmJGdkZExy2q1KgEI6+rqfFtbWyX8vCqVqsdms3k4UMAdkF0YOM8R2NzHPWiMp/llHYtLFJVEFH3z5s3pcXFxRbNmzfqxu7v7k4kTJ95NFvkulUrdgYGBtnfffTeXiFYQ0Z/sdvs7qamp13gao9Fobm5u3h0TE1P79NNP7yWiRCKKIqJIIhpXVVW1NC4uroan9/X1dYaEhHSr1Wobv9MCgcDz4osvbiaiqdu2bcuSy+V3k0qtVtthNBobNRpNDz8WERFhbmxs/FteXt5n/v7+vQBIo9FYCgoKlnHJ6RAukzc0NzdnDh8+3ASARCKR5+233/47t8ZgIrrrI4F7TeyOVqs1z50797uNGzeuzMvLu/7OO++UvvLKK4pr166p+A8MBkN3dnb2hZ07d0apVKpOhULRW15eHl1ZWRnE0zAM49q1a1egj49P97p1646DdZJWbqdcMTExgq+//vrDlStXZhYVFY3u7OxUtra2KgHAx8fHo1KpuuLj439+7rnnigDYjEZj0/Tp048XFxc/3tbWFmQymdQmk0kNAHK5vE+v1zesXLny2/Dw8OrTp0/rJBJJj0wmY8RicXd/f38nBg69BMDucDi6RCJRl0wmCxQKhQ6n09kB1sT5YHK3MV51IF+wlcNhTz311KunT5+euX79+ryFCxfeWbp06YQvv/wyEgDmzZt349NPPy1KTU0dW1FRET5hwoTKoUOH2urr68POnj07fNq0adfHjRt3Y/v27Q+tWLHi76tXr/4ewC2wUcQNNtwPAaABEFJYWKg7fvz4I62trQFExAQFBXWkpKRUJCcnXwZwG2xuIgagKSoq0n/77bejb926Fex2u0VKpfJObGxs49KlS89xJtxfX1+vzM3NjbXb7VKlUtnx9NNPl4aEhJjA1qY8AJQOhyNkx44d49va2kJFIpEjOTn53NixY6+B9Xd279rV/codwQCGPfbYY39paGiIff/9939YsmSJNSYmZnZ1dbXaaDSaIyIi2oOCgrry8vKGT5069crWrVsvtLS0yOfNmzctPj6+uba2VhIaGnp17969OwGYwJ7Me7kFCrzmUoI91Su4MYDNRXo4QHs47fbh6HlavjTqBJvYWTn+bs4qfDnZnNy7HnC+DAMlDyX37AYbEHo4Hs771tI5X+TL2eHDRDR95syZOSqVqnPOnDnFH330Ub5Wq+2SSqWuzZs35xPR5u7u7o1JSUkXDx8+vLu6unqTXq+/LhaLHZmZmf9BRNOISE9EAUQk5qoGfBdyFQQ/7n0YEQ3jehg3JudoxF60aq4qwNP+gYg0nG+RcV3O/ffnDpy+RCTymlvE8VN40fkRkQ+xtx73NMYLIO96tAJs7SXo448/Hn/kyJHpLpdL3dbWFuh2u0VDhw7tSEhIaAgNDe3+/PPP4+rr68PCw8NvqFSqtoyMjJNZWVnFAFo5lb3D7co9JVe69+bEu9TJXyHdvUryWutgWvwKrfd7DKpmAvcW5wkA3U9zBh8PeJB8wJ68lQBUFosl+OTJk/orV65EFxQUPFxUVGR0Op1ioVDoCg4Obpo0aVJxUlJS2YIFCy5LJJJODDjlHnAh9EFXQPSAm4/70f93aP+v2i8mpIF6sQisNsnA2ixvt74Y8AF8DmUHCwYPSi8GzjX33Zl/lfbAeysvbeI1SgIWGAkGLhA9YEHg68J9GKiluP+VgeHb/+Tqmb9d+MUtBAZS+t/Vrer/pv0XWOzfuZqKjkkAAAAASUVORK5CYII=",t.MAX_NUM_OF_FRAMES=100},465:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.convertImages2Video=void 0;const i=n(267),o=n(913),s=n(601),a=n(382),l=n(255),c=n(805);t.convertImages2Video=({data:e,animationSpeed:t,outputWidth:n,outputHeight:u,authoringApp:d,abortController:h})=>r(void 0,void 0,void 0,(function*(){if(!(0,i.allowedToUse)())throw new Error("The service is only accessible to living atlas applications.");if(!(null==e?void 0:e.length))throw new Error("Array of animation frame data cannot be empty.");if((null==e?void 0:e.length)>s.MAX_NUM_OF_FRAMES)throw new Error(`exceeded maximum number (${s.MAX_NUM_OF_FRAMES}) of frames.`);if(n>1920&&u>1080||u>1920&&n>1080)throw new Error("exceeded maximum dimension (1920x1080 or 1080x1920) of the output video.");if(!(0,c.isValidOutputSize)(n,u))throw new Error("invalid dimension of the output video.");if((0,l.shouldBeRateLimited)())throw new Error("the maximum number of jobs allowed per minute has been exceeded.");const p=(0,o.getAPIRootURL)(),f="image/jpeg",m=new FormData;let y=60;t&&(y=1e3/t),m.append("framerate",y.toString());const g=e[0].image.width,v=e[0].image.height;for(let t=0;t<e.length;t++){const{image:r,imageInfo:i}=e[t],o=yield(0,a.getImageBlob)({image:r,imageInfo:i,outputContentType:f,outputHeight:u,outputWidth:n,sourceImageWidth:g,sourceImageHeight:v,authoringApp:d}),s=new File([o],(0,a.getFileName)(t,3,"jpeg"),{type:f});m.append("images",s)}const b=yield fetch(p+"/api/images-to-video",{method:"POST",body:m});if(!b.ok)throw new Error("failed to create new images-to-video task");const{jobId:w}=yield b.json();yield((e,t,n)=>r(void 0,void 0,void 0,(function*(){let i=0;const o=`${e}/api/job/${t}/status`;return new Promise(((e,t)=>{const s=()=>r(void 0,void 0,void 0,(function*(){try{if((yield fetch(o,{signal:n.signal})).ok)return e(!0);i<5?(i++,s()):t()}catch(e){t(e)}}));s()}))})))(p,w,h);const _=yield((e,t,n)=>r(void 0,void 0,void 0,(function*(){const r=`${e}/video/${t}.mp4`,i=yield fetch(r,{signal:n.signal});return yield i.blob()})))(p,w,h);return{filename:w+".mp4",fileContent:_}}))},382:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getImageBlob=t.calculateImageCrop=t.getFileName=void 0;const i=n(601);t.getFileName=(e,t,n)=>{let r=e.toString();for(;r.length<t;)r="0"+r;return r+"."+n},t.calculateImageCrop=({outputHeight:e,outputWidth:t,sourceImageWidth:n,sourceImageHeight:r})=>{const i=t/e;let o=r*i,s=r;return o>n&&(o=n,s=n*(1/i)),o=Math.floor(o),s=Math.floor(s),{sx:Math.floor(Math.abs(o-n)/2),sy:Math.floor(Math.abs(s-r)/2),sWidth:o,sHeight:s}},t.getImageBlob=({image:e,imageInfo:n,outputContentType:i,outputHeight:a,outputWidth:l,sourceImageWidth:c,sourceImageHeight:u,authoringApp:d})=>r(void 0,void 0,void 0,(function*(){const r=document.createElement("canvas"),h=r.getContext("2d");a%2!=0&&(a-=1),l%2!=0&&(l-=1),r.width=l,r.height=a;const{sx:p,sy:f,sWidth:m,sHeight:y}=(0,t.calculateImageCrop)({outputHeight:a,outputWidth:l,sourceImageHeight:u,sourceImageWidth:c});return h.drawImage(e,p,f,m,y,0,0,r.width,r.height),yield s(r),o(r,d,n),yield new Promise(((e,t)=>{r.toBlob(e,i)}))}));const o=(e,t,n)=>{if(!t||!n)return;const{width:r}=e,i=e.getContext("2d");i.fillStyle="rgba(0,0,0,.3)",i.rect(0,0,r,24),i.fill(),i.shadowColor="black",i.shadowBlur=5,i.fillStyle="rgba(255,255,255,.9)",i.font="1rem Avenir Next";const o=i.measureText(t),s=i.measureText(n);i.fillText(t,10,18);const a=Math.max(r-s.width-10,o.width+20);i.fillText(n,a,18)},s=e=>{const t=e.getContext("2d"),{width:n,height:r}=e;return new Promise((e=>{const o=new Image;o.onload=function(){const i=o.width,s=o.height;t.drawImage(o,n-(i+10),r-(s+10)),e()},o.src=i.ESRI_LOGO_DARK_BASE64}))}},255:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shouldBeRateLimited=void 0;const n=[];t.shouldBeRateLimited=()=>{const e=(new Date).getTime();for(;n.length&&e-n[0]>6e4;)n.shift();return n.length>=4||(n.push(e),!1)}},805:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isValidOutputSize=void 0;const n=[[1920,1080],[1080,720],[1080,1080],[720,720],[1080,1920],[720,1080]];t.isValidOutputSize=(e,t)=>!!n.find((n=>n[0]===e&&n[1]===t))}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}var r={};return(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.useProdService=e.setCustomAPIRootURL=e.convertImages2Video=void 0;var t=n(465);Object.defineProperty(e,"convertImages2Video",{enumerable:!0,get:function(){return t.convertImages2Video}});var i=n(913);Object.defineProperty(e,"setCustomAPIRootURL",{enumerable:!0,get:function(){return i.setCustomAPIRootURL}}),Object.defineProperty(e,"useProdService",{enumerable:!0,get:function(){return i.useProdService}})})(),r})(),e.exports=t()},54866:function(e,t,n){"use strict";n.d(t,{$d:function(){return f},GG:function(){return M},N7:function(){return m},Sx:function(){return y},UQ:function(){return x},cJ:function(){return g},di:function(){return A},dt:function(){return v},f3:function(){return T},k_:function(){return p}});var r=n(93814),i=n(3132),o=(n(6273),n(23572)),s=n(19913),a=n(77498),l=n(93611),c=n(67175),u=n(4068),d=n(4331);const h=new r.A("white");function p(e){if(!e)return 0;if((0,d.wk)(e)){const t=function(e){const t=e.symbolLayers?.at(-1);if(t&&"outline"in t)return t?.outline?.size}(e);return null!=t?t:0}return(0,o.PN)((0,c.$4)(e)?.width)}function f(e){if(null==e||!("symbolLayers"in e)||null==e.symbolLayers)return!1;switch(e.type){case"point-3d":return e.symbolLayers.some((e=>"object"===e.type));case"line-3d":return e.symbolLayers.some((e=>"path"===e.type));case"polygon-3d":return e.symbolLayers.some((e=>"object"===e.type||"extrude"===e.type));default:return!1}}function m(e){return e.resource?.href??""}function y(e,t){if(!e)return null;let n=null;return(0,d.wk)(e)?n=function(e){const t=e.symbolLayers;if(!t)return null;let n=null;return t.forEach((e=>{"object"===e.type&&e.resource?.href||(n="water"===e.type?e.color:e.material?e.material.color:null)})),n?new r.A(n):null}(e):(0,d.$y)(e)&&(n="cim"===e.type?(0,l.Nk)(e):e.color?new r.A(e.color):null),n?g(n,t):null}function g(e,t){if(null==t||null==e)return e;const n=e.toRgba();return n[3]=n[3]*t,new r.A(n)}function v(e,t,n){e&&(t||null!=n)&&(t&&(t=new r.A(t)),(0,d.wk)(e)?function(e,t,n){const r=e.symbolLayers;if(!r)return;const i=e=>g(t??e??(null!=n?h:null),n);r.forEach((e=>{if("object"!==e.type||!e.resource?.href||t)if("water"===e.type)e.color=i(e.color);else{const t=null!=e.material?e.material.color:null,r=i(t);if(null==e.material?e.material=new u.N({color:r}):e.material.color=r,null!=n&&"outline"in e&&null!=e.outline?.color&&(e.outline.color=g(e.outline.color,n)),"marker"in e&&null!=e.marker){const t=i(e.marker.color);e.marker.color=t}}}))}(e,t,n):(0,d.$y)(e)&&function(e,t,n){(t=t??e.color)&&(e.color=g(t,n)),null!=n&&"outline"in e&&e.outline?.color&&(e.outline.color=g(e.outline.color,n))}(e,t,n))}async function b(e,t){const r=e.symbolLayers;r&&await(0,i.jJ)(r,(async e=>async function(e,t){switch(e.type){case"extrude":!function(e,t){const n=t[2];"number"==typeof n&&(e.size=n)}(e,t);break;case"icon":case"line":case"text":!function(e,t){const n=w(t);null!=n&&(e.size=n)}(e,t);break;case"path":!function(e,t){const n=_(t,s.Un,[e.width,void 0,e.height]);null!=n&&(e.width=S(t[0],e.width,1,n),e.height=S(t[2],e.height,1,n))}(e,t);break;case"object":await async function(e,t){const{resourceSize:r,symbolSize:i}=await async function(e){const{computeObjectLayerResourceSize:t}=await n.e(8401).then(n.bind(n,8401)),r=await t(e,10),{width:i,height:o,depth:s}=e,a=[i,s,o];let l=1;for(let e=0;e<3;e++){const t=a[e];if(null!=t){l=t/r[e];break}}for(let e=0;e<3;e++)null==a[e]&&(a[e]=r[e]*l);return{resourceSize:r,symbolSize:a}}(e),o=_(t,r,i);null!=o&&(e.width=S(t[0],i[0],r[0],o),e.depth=S(t[1],i[1],r[1],o),e.height=S(t[2],i[2],r[2],o))}(e,t)}}(e,t)))}function w(e){for(const t of e)if("number"==typeof t)return t;return null}function _(e,t,n){for(let r=0;r<3;r++){const i=e[r];switch(i){case"symbol-value":{const e=n[r];return null!=e?e/t[r]:1}case"proportional":break;default:if(i&&t[r])return i/t[r]}}return null}function S(e,t,n,r){switch(e){case"proportional":return n*r;case"symbol-value":return null!=t?t:n;default:return e}}async function x(e,t){if(e&&t)return(0,d.wk)(e)?b(e,t):void((0,d.$y)(e)&&function(e,t){const n=w(t);if(null!=n)switch(e.type){case"simple-marker":e.size=n;break;case"picture-marker":{const t=e.width/e.height;t>1?(e.width=n,e.height=n*t):(e.width=n*t,e.height=n);break}case"simple-line":e.width=n;break;case"text":e.font.size=n}}(e,t))}function M(e,t,n){if(e&&null!=t)if((0,d.wk)(e)){const r=e.symbolLayers;r&&r.forEach((e=>{if("object"===e.type)switch(n){case"tilt":e.tilt=(e.tilt??0)+t;break;case"roll":e.roll=(e.roll??0)+t;break;default:e.heading=(e.heading??0)+t}"icon"===e.type&&(e.angle+=t)}))}else(0,d.$y)(e)&&("simple-marker"!==e.type&&"picture-marker"!==e.type&&"text"!==e.type||(e.angle+=t))}function A(e){if(!e)return null;const t=e.effects.filter((e=>"bloom"!==e.type)).map((e=>e.toJSON()));return(0,a.zu)(t)}function T(e){return null!=e&&"polygon-3d"===e.type&&e.symbolLayers.some((e=>"extrude"===e.type))}},54898:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r,i=n(82392),o=n(58842),s=n(84977),a=n(97629),l=(n(80861),n(6273),n(67498),n(62991),n(26325)),c=n(65648),u=n(34008);let d=r=class extends(s.A.JSONSupportMixin(o.A.ofType(c.A))){constructor(e){super(e)}clone(){return new r(this.items.map((e=>e.clone())))}write(e,t){return this.toJSON(t)}toJSON(e){const t=e?.layer?.spatialReference;return t?this.toArray().map((n=>{if(!t.equals(n.spatialReference)){if(!(0,u.canProjectWithoutEngine)(n.spatialReference,t))return e?.messages?.push(new a.A("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:e.layer.spatialReference,context:e})),null;const r=new c.A;(0,u.projectPolygon)(n,r,t),n=r}const r=n.toJSON(e);return delete r.spatialReference,r})).filter((e=>null!=e)):this.toArray().map((t=>t.toJSON(e)))}static fromJSON(e,t){const n=new r;return e.forEach((e=>n.add(c.A.fromJSON(e,t)))),n}};d=r=(0,i._)([(0,l.$)("esri.layers.support.PolygonCollection")],d);const h=d},55423:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r,i=n(82392),o=n(84977),s=n(15565),a=n(81482),l=(n(6273),n(80861),n(26325)),c=n(46320);let u=class extends o.A{static{r=this}constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new r({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:(0,s.o8)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};(0,i._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],u.prototype,"isAutoGenerated",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"name",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"alias",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"onStatisticField",void 0),(0,i._)([(0,a.MZ)({type:c.A,json:{write:!0}})],u.prototype,"onStatisticExpression",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"statisticType",void 0),u=r=(0,i._)([(0,l.$)("esri.layers.support.AggregateField")],u)},55714:function(e,t,n){"use strict";n.d(t,{M:function(){return v},a:function(){return y},b:function(){return w},e:function(){return f},f:function(){return s},i:function(){return h},p:function(){return p},r:function(){return l},t:function(){return a},w:function(){return c}});var r=n(6480),i=n(19759),o=n(9856);function s(e,t){const n=t?.url?.path;if(e&&n&&(e=(0,i.s2)(e,n,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=(0,i.V1)(e,t.portalItem.itemUrl);null!=n&&d.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return(e=m(e,t?.portal))&&u.test(e)?y(e):e}function a(e,t,n=v.YES){if(null==(e=e&&u.test(e)?g(e):e))return e;!(0,i.oP)(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let r=(0,i.s2)(e);if(t){const n=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(n){const o=m(n,t.portal),s=m(r,t.portal);r=(0,i.V1)(s,o,o),null!=r&&r!==s&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=f(r,t?.portal),(0,i.oP)(r)&&(r=(0,i.S8)(r)),t?.resources&&t?.portalItem&&!(0,i.oP)(r)&&!(0,i.DB)(r)&&n===v.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function l(e,t,n){return s(e,n)}function c(e,t,n,r){const i=a(e,r);void 0!==i&&(t[n]=i)}const u=/\/items\/([^/]+)\/resources\/(.*)/,d=/^\.\/resources\//;function h(e){const t=e?.match(u)??null;return t?.[1]??null}function p(e){const t=e?.match(u)??null;if(null==t)return null;const n=t[2],r=n.lastIndexOf("/");if(-1===r){const{path:e,extension:t}=(0,i.xw)(n);return{prefix:null,filename:e,extension:t}}const{path:o,extension:s}=(0,i.xw)(n.slice(r+1));return{prefix:n.slice(0,r),filename:o,extension:s}}function f(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?(0,i.T1)(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function m(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const n=`${t.urlKey}.${t.customBaseUrl}`,r=(0,i.Xq)();return(0,i.FX)(r,`${r.scheme}://${n}`)?(0,i.T1)(e,t.portalHostname,n):(0,i.T1)(e,n,t.portalHostname)}function y(e){if(!e)return e||null;let t=e;return t&&r.id&&!r.id.findCredential(t)&&(t=(0,o.qG)(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function g(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&r.id&&!r.id.findCredential(t)&&(t=(0,o.qG)(t)),t}var v,b;(b=v||(v={}))[b.YES=0]="YES",b[b.NO=1]="NO";const w=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return v},ensureMainOnlineDomain:f,fromCDNUrl:g,fromJSON:s,itemIdFromResourceUrl:h,prefixAndFilenameFromResourceUrl:p,read:l,toCDNUrl:y,toJSON:a,write:c},Symbol.toStringTag,{value:"Module"}))},55736:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r,i=n(82392),o=n(93814),s=n(1817),a=n(15565),l=n(81482),c=(n(6273),n(80861),n(85716)),u=n(26325),d=n(90818),h=n(24826);const p=new s.J({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let f=r=class extends d.A{constructor(...e){super(...e),this.color=new o.A([0,0,0,.25]),this.outline=new h.A,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,n){if(e&&"string"!=typeof e)return e;const r={};return e&&(r.style=e),t&&(r.outline=t),n&&(r.color=n),r}clone(){return new r({color:(0,a.o8)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,i._)([(0,l.MZ)()],f.prototype,"color",void 0),(0,i._)([(0,l.MZ)()],f.prototype,"outline",void 0),(0,i._)([(0,c.e)({esriSFS:"simple-fill"},{readOnly:!0})],f.prototype,"type",void 0),(0,i._)([(0,l.MZ)({type:p.apiValues,json:{read:p.read,write:p.write}})],f.prototype,"style",void 0),f=r=(0,i._)([(0,u.$)("esri.symbols.SimpleFillSymbol")],f)},55792:function(e,t,n){"use strict";n.d(t,{N:function(){return s}});var r=n(5262),i=n(34670),o=n(67488);function s(e,t,n){if(null==t||null==n||n.vcsWkid||(0,o.aI)(t,n)||(0,i.xP)(t)||(0,i.xP)(n))return null;const s=(0,r.G9)(t)/(0,r.G9)(n);if(1===s)return null;switch(e){case"point":case"esriGeometryPoint":return e=>function(e,t){null!=e?.z&&(e.z*=t)}(e,s);case"polyline":case"esriGeometryPolyline":return e=>function(e,t){if(e)for(const n of e.paths)for(const e of n)e.length>2&&(e[2]*=t)}(e,s);case"polygon":case"esriGeometryPolygon":return e=>function(e,t){if(e)for(const n of e.rings)for(const e of n)e.length>2&&(e[2]*=t)}(e,s);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}(e,s);case"extent":case"esriGeometryEnvelope":return e=>function(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}(e,s);default:return null}}},55797:function(e,t,n){"use strict";n.d(t,{gK:function(){return a},rS:function(){return l}});n(6273);var r=n(56498),i=n(1118),o=n(91234),s=n(39349);const a={key:"type",base:i.A,typeMap:{range:s.A,"coded-value":r.A,inherited:o.A}};function l(e){if(!e?.type)return null;switch(e.type){case"range":return s.A.fromJSON(e);case"codedValue":return r.A.fromJSON(e);case"inherited":return o.A.fromJSON(e)}return null}},55891:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,i.default)(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=(0,s.default)(r),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var c=(0,s.default)(l);return t.getTime()>=a.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1};var i=r(n(95039)),o=r(n(10427)),s=r(n(20695));e.exports=t.default},56053:function(e,t,n){"use strict";n.d(t,{$B:function(){return m},Bi:function(){return p},Rg:function(){return h},U9:function(){return u},ZC:function(){return c},fT:function(){return d},rS:function(){return f},xD:function(){return g}});var r=n(8e3),i=n(61064),o=n(67709),s=n(1912),a=n(65648),l=n(38648);function c(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function u(e){return void 0!==e.points}function d(e){return void 0!==e.x&&void 0!==e.y}function h(e){return void 0!==e.paths||void 0!==e.curvePaths}function p(e){return void 0!==e.rings||void 0!==e.curveRings}function f(e){return null==e?null:e instanceof i.A?e:d(e)?s.A.fromJSON(e):h(e)?l.A.fromJSON(e):p(e)?a.A.fromJSON(e):u(e)?o.A.fromJSON(e):c(e)?r.A.fromJSON(e):null}function m(e){return e?d(e)?"esriGeometryPoint":h(e)?"esriGeometryPolyline":p(e)?"esriGeometryPolygon":c(e)?"esriGeometryEnvelope":u(e)?"esriGeometryMultipoint":null:null}const y={esriGeometryPoint:s.A,esriGeometryPolyline:l.A,esriGeometryPolygon:a.A,esriGeometryEnvelope:r.A,esriGeometryMultipoint:o.A,esriGeometryMultiPatch:a.A};function g(e){return e&&y[e]||null}},56173:function(e,t,n){"use strict";n.d(t,{A:function(){return p}});var r,i=n(82392),o=n(58842),s=n(15565),a=n(81482),l=(n(6273),n(80861),n(85716)),c=n(26325),u=n(58720),d=n(62932);const h=o.A.ofType({base:null,key:"type",typeMap:{fill:u.A}});let p=r=class extends d.A{constructor(e){super(e),this.symbolLayers=new h,this.type="mesh-3d"}clone(){return new r({styleOrigin:(0,s.o8)(this.styleOrigin),symbolLayers:(0,s.o8)(this.symbolLayers),thumbnail:(0,s.o8)(this.thumbnail)})}static fromSimpleFillSymbol(e){return new r({symbolLayers:new o.A([u.A.fromSimpleFillSymbol(e)])})}};(0,i._)([(0,a.MZ)({type:h})],p.prototype,"symbolLayers",void 0),(0,i._)([(0,l.e)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],p.prototype,"type",void 0),p=r=(0,i._)([(0,c.$)("esri.symbols.MeshSymbol3D")],p)},56263:function(e,t,n){"use strict";n.d(t,{A:function(){return x}});var r=n(82392),i=n(73783),o=n(62991),s=n(6273),a=n(37623),l=n(19759),c=n(81482),u=(n(80861),n(67498),n(26325)),d=n(67488),h=n(52360),p=n(17308),f=n(36321),m=n(15830),y=n(8e3),g=n(95254),v=n(33432);var b=n(30271),w=n(500),_=n(19892),S=n(74704);let x=class extends i.A{constructor(e){super(e),this.dynamicDataSource=null,this.fieldsIndex=null,this.gdbVersion=null,this.infoFor3D=null,this.pbfSupported=!1,this.queryAttachmentsSupported=!1,this.sourceSpatialReference=null,this.uniqueIdFields=null,this.url=null}get parsedUrl(){return(0,l.An)(this.url)}async execute(e,t){const n=await this.executeJSON(e,t);return this.featureSetFromJSON(e,n,t)}async executeJSON(e,t){const n=this._normalizeQuery(e),r=null!=e.outStatistics?.[0],i=(0,s.A)("featurelayer-pbf-statistics"),o=(!r||i)&&!0!==e.returnTrueCurves;let a;if(this.pbfSupported&&o)try{a=await(0,_.S)(this.url,n,t,{uniqueIdFields:this.uniqueIdFields})}catch(e){if("query:parsing-pbf"!==e.name)throw e;this.pbfSupported=!1}return this.pbfSupported&&o||(a=await(0,w.e)(this.url,n,t,{uniqueIdFields:this.uniqueIdFields})),this._normalizeFields(a.fields),a}async featureSetFromJSON(e,t,r){if(!this._queryIs3DObjectFormat(e)||null==this.infoFor3D||!t.features)return S.A.fromJSON(t);const{meshFeatureSetFromJSON:i}=await(0,a.qr)(Promise.all([n.e(9507),n.e(1759),n.e(7401),n.e(5837)]).then(n.bind(n,78621)),r);return i(e,this.infoFor3D,t)}executeForCount(e,t){return(0,m.I)(this.url,this._normalizeQuery(e),t,{uniqueIdFields:this.uniqueIdFields})}executeForExtent(e,t){return async function(e,t,n){const r=(0,f.Dl)(e),i=await(0,g.Jf)(r,v.A.from(t),{...n}),o=i.data.extent;return!o||isNaN(o.xmin)||isNaN(o.ymin)||isNaN(o.xmax)||isNaN(o.ymax)?{count:i.data.count,extent:null}:{count:i.data.count,extent:y.A.fromJSON(o)}}(this.url,this._normalizeQuery(e),t)}executeForIds(e,t){return(0,b.V)(this.url,this._normalizeQuery(e),t,{uniqueIdFields:this.uniqueIdFields})}async executeRelationshipQuery(e,t){const[{default:r},{executeRelationshipQuery:i}]=await(0,a.qr)(Promise.all([Promise.resolve().then(n.bind(n,63498)),n.e(8028).then(n.bind(n,38028))]),t);return e=r.from(e),(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),i(this.url,e,t)}async executeRelationshipQueryForCount(e,t){const[{default:r},{executeRelationshipQueryForCount:i}]=await(0,a.qr)(Promise.all([Promise.resolve().then(n.bind(n,63498)),n.e(8028).then(n.bind(n,38028))]),t);return e=r.from(e),(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),i(this.url,e,t)}async executeAttachmentQuery(e,t){const{executeAttachmentQuery:r,fetchAttachments:i,processAttachmentQueryResult:o}=await(0,a.qr)(n.e(9810).then(n.bind(n,99810)),t),s=(0,f.Dl)(this.url);return o(s,await(this.queryAttachmentsSupported?r(s,e,t):i(s,e,t)))}async executeAttributeBinsQuery(e,t){const{executeAttributeBinsQuery:r}=await(0,a.qr)(Promise.all([n.e(4232),n.e(8480)]).then(n.bind(n,58480)),t);return r(this.parsedUrl,e,t)}async executeTopFeaturesQuery(e,t){const{executeTopFeaturesQuery:r}=await(0,a.qr)(n.e(3304).then(n.bind(n,73304)),t);return r(this.parsedUrl,e,this.sourceSpatialReference,t)}async executeForTopIds(e,t){const{executeForTopIds:r}=await(0,a.qr)(n.e(9766).then(n.bind(n,9766)),t);return r(this.parsedUrl,e,t)}async executeForTopExtents(e,t){const{executeForTopExtents:r}=await(0,a.qr)(n.e(3981).then(n.bind(n,53981)),t);return r(this.parsedUrl,e,t)}async executeForTopCount(e,t){const{executeForTopCount:r}=await(0,a.qr)(n.e(2751).then(n.bind(n,52751)),t);return r(this.parsedUrl,e,t)}_normalizeQuery(e){let t=v.A.from(e);t.sourceSpatialReference=t.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(t=t===e?t.clone():t,t.gdbVersion=e.gdbVersion||this.gdbVersion,t.dynamicDataSource=e.dynamicDataSource?p.L.from(e.dynamicDataSource):this.dynamicDataSource);const{infoFor3D:n}=this;if(null!=n&&this._queryIs3DObjectFormat(e)){if(t=t===e?t.clone():t,t.formatOf3DObjects=(0,h.Hz)(n),!t.formatOf3DObjects)throw new o.A("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(t.outSpatialReference&&!(0,d.aI)(t.outSpatialReference,this.sourceSpatialReference))throw new o.A("query:unsupported-out-spatial-reference","3D object feature services do not support projection of geometries");if(null==t.outFields||!t.outFields.includes("*")){t=t===e?t.clone():t,null==t.outFields&&(t.outFields=[]);const{originX:r,originY:i,originZ:o,translationX:s,translationY:a,translationZ:l,scaleX:c,scaleY:u,scaleZ:d,rotationX:h,rotationY:p,rotationZ:f,rotationDeg:m}=n.transformFieldRoles;t.outFields.push(r,i,o,s,a,l,c,u,d,h,p,f,m)}}return t}_normalizeFields(e){if(null!=this.fieldsIndex&&null!=e)for(const t of e){const e=this.fieldsIndex.get(t.name);e&&Object.assign(t,e.toJSON())}}_queryIs3DObjectFormat(e){return null!=this.infoFor3D&&!0===e.returnGeometry&&"xyFootprint"!==e.multipatchOption&&!e.outStatistics}};(0,r._)([(0,c.MZ)({type:p.L})],x.prototype,"dynamicDataSource",void 0),(0,r._)([(0,c.MZ)()],x.prototype,"fieldsIndex",void 0),(0,r._)([(0,c.MZ)()],x.prototype,"gdbVersion",void 0),(0,r._)([(0,c.MZ)()],x.prototype,"infoFor3D",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],x.prototype,"parsedUrl",null),(0,r._)([(0,c.MZ)()],x.prototype,"pbfSupported",void 0),(0,r._)([(0,c.MZ)()],x.prototype,"queryAttachmentsSupported",void 0),(0,r._)([(0,c.MZ)()],x.prototype,"sourceSpatialReference",void 0),(0,r._)([(0,c.MZ)()],x.prototype,"uniqueIdFields",void 0),(0,r._)([(0,c.MZ)({type:String})],x.prototype,"url",void 0),x=(0,r._)([(0,u.$)("esri.layers.graphics.sources.support.QueryTask")],x)},56328:function(e,t,n){"use strict";n.d(t,{V:function(){return s}});var r=n(36752),i=n(7804),o=n(18504);const s=(0,i.u$)(class extends i.WL{constructor(e){if(super(e),e.type!==i.OA.PROPERTY&&e.type!==i.OA.ATTRIBUTE&&e.type!==i.OA.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!(0,o.Rt)(e))throw Error("`live` bindings can only contain a single expression")}render(e){return e}update(e,[t]){if(t===r.c0||t===r.s6)return t;const n=e.element,s=e.name;if(e.type===i.OA.PROPERTY){if(t===n[s])return r.c0}else if(e.type===i.OA.BOOLEAN_ATTRIBUTE){if(!!t===n.hasAttribute(s))return r.c0}else if(e.type===i.OA.ATTRIBUTE&&n.getAttribute(s)===t+"")return r.c0;return(0,o.mY)(e),t}})},56360:function(e,t,n){"use strict";function r(e){return!!e&&e.prototype?.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}n.d(t,{P:function(){return r}})},56498:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r,i=n(82392),o=n(15565),s=n(81482),a=(n(6273),n(80861),n(85716)),l=n(26325),c=n(46638),u=n(1118);let d=class extends u.A{static{r=this}constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const n=String(e);this.codedValues.some((e=>(String(e.code)===n&&(t=e.name),!!t)))}return t}clone(){return new r({codedValues:(0,o.o8)(this.codedValues),name:this.name})}};(0,i._)([(0,s.MZ)({type:[c.H],json:{write:{isRequired:!0}}})],d.prototype,"codedValues",void 0),(0,i._)([(0,a.e)({codedValue:"coded-value"})],d.prototype,"type",void 0),d=r=(0,i._)([(0,l.$)("esri.layers.support.CodedValueDomain")],d)},56560:function(e,t,n){"use strict";function r(){return[0,0]}function i(e){return[e[0],e[1]]}function o(e,t){return[e,t]}function s(e,t=[0,0]){const n=Math.min(2,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t}function a(){return[0,0]}function l(){return o(1,1)}function c(){return o(1,0)}function u(){return o(0,1)}n.d(t,{Cw:function(){return p},JP:function(){return f},Un:function(){return h},ci:function(){return s},fA:function(){return o},o8:function(){return i},uY:function(){return d},vt:function(){return r}});const d=[0,0],h=l(),p=c(),f=u();Object.freeze(Object.defineProperty({__proto__:null,ONES:h,UNIT_X:p,UNIT_Y:f,ZEROS:d,clone:i,create:r,freeze:function(e,t){return[e,t]},fromArray:s,fromValues:o,ones:l,unitX:c,unitY:u,zeros:a},Symbol.toStringTag,{value:"Module"}))},56630:function(e,t,n){"use strict";n.d(t,{n:function(){return l}});var r=n(62991),i=n(80861),o=n(27805),s=n(51387),a=n(46279);class l{static async from(e,t,n){const s=e.dictionary_version?o.R.parse(e.dictionary_version):null,u=new Set(e.itemsNames),d={};if(t)for(const e in t)d[e]=t[e];if(e.authoringInfo.configuration)for(const t of e.authoringInfo.configuration)d.hasOwnProperty(t.name)||(d[t.name]=t.value);const h=new Set(e.authoringInfo.symbol);for(const e of Object.keys(n))h.delete(e);h.size&&i.A.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("missing-fields: fieldMap entries for the following symbol fields are missing",{symbolFields:h});const p=await(0,a.xR)(e.expression,null,d);if(!p)throw new r.A("dictionary-renderer:expression-error","Unable to create dictionary renderer expression");const f=!s||!s.greaterEqual(4,0);f&&i.A.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("Dictionary script does not support native field types. Applying fallback",{version:s});const m=new c(n,f);return new l(f,u,p,m)}constructor(e,t,n,r){this._requiresFieldCoercionToString=e,this._itemNames=t,this._compiled=n,this._reader=r}get itemNames(){return this._itemNames}evaluate(e,t,n,r){try{return this._reader.bind(e,n,r),this._compiled.evaluate(this._reader,{$view:{scale:t}})}catch(e){i.A.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("arcade: dictionary script evaluation failed",{error:e})}return null}createDictionaryFieldsIndex(e){if(!this._requiresFieldCoercionToString)return new s.A(e);const t=e.map((e=>({...e,type:"esriFieldTypeString"})));return new s.A(t)}}class c extends a.Gj{constructor(e,t){super(),this._fieldMap=e,this._requiresFieldCoercionToString=t}_getField(e){const t=this._fieldMap[e]??e;return this._boundSchema.fieldsIndex.get(t)}field(e){if(!this._requiresFieldCoercionToString)return super.field(e,!1);const t=this._getField(e);return null==t||null==this._boundTarget.attributes[t.name]?"":""+this._boundTarget.attributes[t.name]}}},56802:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(88938);class i{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach((t=>{e+=t.length})),e}add(e,t){if((0,r.xZ)(e)){const n=this._getOrCreateGroup(t);for(const t of e)a(t)&&n.push(t)}else a(e)&&this._getOrCreateGroup(t).push(e);return this}forEach(e,t){if("function"==typeof e)this._groups.forEach((t=>t.forEach(e)));else{const n=this._getGroup(e);n&&t&&n.forEach(t)}}has(e){return this._groups.has(o(e))}remove(e){if("string"!=typeof e&&(0,r.xZ)(e)){for(const t of e)this.remove(t);return this}return this.has(e)?(s(this._getGroup(e)),this._groups.delete(o(e)),this):this}removeAll(){return this._groups.forEach(s),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(o(e),t),t}_getGroup(e){return this._groups.get(o(e))}}function o(e){return e||"_default_"}function s(e){for(const t of e)t instanceof i?t.removeAll():t.remove()}function a(e){return null!=e&&(!!e.remove||e instanceof i)}},56851:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(33262);let l=r=class extends a.A{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,i._)([(0,o.MZ)()],l.prototype,"image",void 0),l=r=(0,i._)([(0,s.$)("esri.support.actions.ActionButton")],l);const c=l},57021:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(39744),i=n(39156);class o{constructor(){this.spans=[]}static{this.pool=new r.A(o)}acquire(e){this.lodInfo=e}release(){this.lodInfo=null,this.spans.length=0}*keys(){const e=this.lodInfo;for(const{row:t,colFrom:n,colTo:r}of this.spans)for(let o=n;o<=r;o++){const n=e.getWorldForColumn(o);yield new i.A(e.level,t,e.normalizeCol(o),n)}}forEach(e,t){const{spans:n,lodInfo:r}=this,{level:i}=r;if(0!==n.length)for(const{row:o,colFrom:s,colTo:a}of n)for(let n=s;n<=a;n++)e.call(t,i,o,r.normalizeCol(n),r.getWorldForColumn(n))}}},57035:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)({},e)};var i=r(n(7390));e.exports=t.default},57122:function(e,t,n){"use strict";var r,i,o,s,a,l,c,u,d;n.d(t,{Be:function(){return a},Gn:function(){return o},RI:function(){return c},S5:function(){return i},ch:function(){return u},uC:function(){return d}}),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(i||(i={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(o||(o={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(s||(s={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(a||(a={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SIMPLE=1]="SIMPLE",e[e.DOT_DENSITY=2]="DOT_DENSITY",e[e.OUTLINE_FILL=3]="OUTLINE_FILL",e[e.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",e[e.HEATMAP=5]="HEATMAP",e[e.PIE_CHART=6]="PIE_CHART"}(l||(l={})),function(e){e[e.All=0]="All",e[e.Highlight=1]="Highlight",e[e.InsideEffect=2]="InsideEffect",e[e.OutsideEffect=3]="OutsideEffect"}(c||(c={})),function(e){e[e.BATCHING=0]="BATCHING",e[e.STRICT_ORDER=1]="STRICT_ORDER",e[e.STRICT_MARKERS_AND_TEXT=2]="STRICT_MARKERS_AND_TEXT"}(u||(u={})),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT"}(d||(d={}))},57458:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325));let a=class extends i.A{constructor(e){super(e),this.moment=null,this.fullUpdate=!1,this.validateErrorsCreated=!1,this.exceededTransferLimit=null,this.serviceEdits=null,this.discoveredSubnetworks=null}};(0,r._)([(0,o.MZ)({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.moment=e?e.getTime():null}}}})],a.prototype,"moment",void 0),(0,r._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],a.prototype,"fullUpdate",void 0),(0,r._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],a.prototype,"validateErrorsCreated",void 0),(0,r._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],a.prototype,"exceededTransferLimit",void 0),(0,r._)([(0,o.MZ)({type:[Object],json:{write:!0}})],a.prototype,"serviceEdits",void 0),(0,r._)([(0,o.MZ)({type:[Object],json:{write:!0}})],a.prototype,"discoveredSubnetworks",void 0),a=(0,r._)([(0,s.$)("esri.rest.networks.support.ValidateNetworkTopologyResult")],a);const l=a},57705:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(82392),i=n(14755),o=n(81482),s=n(8636),a=(n(6273),n(67498),n(26325)),l=n(23547),c=n(10357);let u=class extends(i.A.ClonableMixin(l.A)){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],u.prototype,"description",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{type:s.jz,write:!0}})],u.prototype,"displayCount",void 0),(0,r._)([(0,o.MZ)({type:["list"],json:{write:{isRequired:!0}}})],u.prototype,"displayType",void 0),(0,r._)([(0,o.MZ)({type:[c.A],json:{write:!0}})],u.prototype,"orderByFields",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{type:s.jz,write:{isRequired:!0}}})],u.prototype,"relationshipId",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],u.prototype,"title",void 0),(0,r._)([(0,o.MZ)({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],u.prototype,"type",void 0),u=(0,r._)([(0,a.$)("esri.popup.content.RelationshipContent")],u);const d=u},57706:function(e,t,n){"use strict";n.d(t,{d:function(){return A}});var r,i=n(82392),o=n(38116),s=n(73783),a=n(20700),l=n(62991),c=n(70214),u=(n(6273),n(91700)),d=n(41785),h=n(37623),p=n(61985),f=n(9987),m=n(19759),y=n(81482),g=(n(80861),n(67498),n(26325)),v=n(10259),b=n(15565),w=n(28208),_=n(62088);class S{constructor(e){!function(e){if(!e?.location)throw new l.A("tilemap:missing-location","Location missing from tilemap response");if(!1===e.valid)throw new l.A("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new l.A("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new l.A("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new l.A("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}(e);const{location:t,data:n}=e;this.location=Object.freeze((0,b.o8)(t));const r=this.location.width,i=this.location.height;let o=!0,s=!0;const a=function(e,t=!1){return e<=_.y9?t?new Array(e).fill(0):new Array(e):new Uint32Array(e)}(Math.ceil(r*i/32));let c=0;for(let e=0;e<n.length;e++){const t=e%32;n[e]?(s=!1,a[c]|=1<<t):o=!1,31===t&&++c}s?(this._availability="unavailable",this.byteSize=40):o?(this._availability="available",this.byteSize=40):(this._availability=a,this.byteSize=40+(0,w.Qf)(a))}getAvailability(e,t){if("unavailable"===this._availability||"available"===this._availability)return this._availability;const n=(e-this.location.top)*this.location.width+(t-this.location.left),r=n%32,i=n>>5,o=this._availability;return i<0||i>o.length?"unknown":o[i]&1<<r?"available":"unavailable"}static fromDefinition(e,t){const n=e.service.request||o.A,{row:r,col:i,width:s,height:a}=e,c={query:{f:"json"}};return t=t?{...c,...t}:c,n(function(e){let t;if(e.service.tileServers?.length){const n=e.service.tileServers;t=`${n&&n.length?n[e.row%n.length]:e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}else t=`${e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`;const n=e.service.query;return n&&(t=`${t}?${n}`),t}(e),t).then((e=>e.data)).catch((e=>{if(422===e?.details?.httpStatus)return{location:{top:r,left:i,width:s,height:a},valid:!0,data:new Array(s*a).fill(0)};throw e})).then((e=>{if(e.location&&(e.location.top!==r||e.location.left!==i||e.location.width!==s||e.location.height!==a))throw new l.A("tilemap:location-mismatch","Tilemap response for different location than requested",{response:e,definition:{top:r,left:i,width:s,height:a}});return S.fromJSON(e)}))}static fromJSON(e){return Object.freeze(new S(e))}}function x(e){return`${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}function M(e,t,n){return new l.A("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:n})}let A=class extends s.A{static{r=this}constructor(e){super(e),this._pendingTilemapRequests={},this.request=o.A,this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new u.q(2*a.u.MEGABYTES),this.addHandles((0,p.wB)((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition()),p.Vh))}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}getAvailability(e,t,n){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return"unavailable";const r=this._tilemapFromCache(e,t,n,this._tmpTilemapDefinition);return r?r.getAvailability(t,n):"unknown"}fetchAvailability(e,t,n,r){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(M(e,t,n)):this._fetchTilemap(e,t,n,r).catch((e=>e)).then((r=>{if(r instanceof S){const i=r.getAvailability(t,n);if("unavailable"===i)throw M(e,t,n);return i}if((0,h.zf)(r))throw r;return"unknown"}))}fetchAvailabilityUpsample(e,t,n,r,i){r.level=e,r.row=t,r.col=n;const o=this.layer.tileInfo;o.updateTileInfo(r);const s=this.fetchAvailability(e,t,n,i).catch((e=>{if((0,h.zf)(e))throw e;if(o.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,i);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,n,i,s),s}async _fetchAvailabilityUpsamplePrefetch(e,t,n,i,o,s){if(!this._prefetchingEnabled||null==e)return;const a=`prefetch-${e}`;if(this.hasHandles(a))return;const l=new AbortController;s.then((()=>l.abort()),(()=>l.abort()));let u=!1;const d=(0,c.hA)((()=>{u||(u=!0,l.abort())}));if(this.addHandles(d,a),await(0,f.md)(10,l.signal).catch((()=>{})),u||(u=!0,this.removeHandles(a)),(0,h.G4)(l))return;const p=new v.U(e,t,n,i),m={...o,signal:l.signal},y=this.layer.tileInfo;for(let e=0;r._prefetches.length<r._maxPrefetch&&y.upsampleTile(p);++e){const e=this.fetchAvailability(p.level,p.row,p.col,m);r._prefetches.push(e);const t=()=>{r._prefetches.removeUnordered(e)};e.then(t,t)}}static{this._maxPrefetch=4}static{this._prefetches=new d.A({initialSize:r._maxPrefetch})}_fetchTilemap(e,t,n,r){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new l.A("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`));const i=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,n,i);if(o)return Promise.resolve(o);const s=r?.signal;return r={...r,signal:null},new Promise(((e,t)=>{(0,h.u7)(s,(()=>t((0,h.NK)())));const n=x(i);let o=this._pendingTilemapRequests[n];if(!o){o=S.fromDefinition(i,r).then((e=>(this._tilemapCache.put(n,e,e.byteSize),e)));const e=()=>{delete this._pendingTilemapRequests[n]};this._pendingTilemapRequests[n]=o,o.then(e,e)}o.then(e,t)}))}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:n}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:(0,m.x0)({...e.query,...n,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,n,r){r.level=e,r.row=t-t%this.size,r.col=n-n%this.size;const i=x(r);return this._tilemapCache.get(i)}get test(){}};(0,i._)([(0,y.MZ)({constructOnly:!0})],A.prototype,"layer",void 0),(0,i._)([(0,y.MZ)({constructOnly:!0})],A.prototype,"minLOD",void 0),(0,i._)([(0,y.MZ)({constructOnly:!0})],A.prototype,"maxLOD",void 0),(0,i._)([(0,y.MZ)({constructOnly:!0})],A.prototype,"request",void 0),(0,i._)([(0,y.MZ)({constructOnly:!0})],A.prototype,"size",void 0),A=r=(0,i._)([(0,g.$)("esri.layers.support.TilemapCache")],A)},57725:function(e,t,n){"use strict";function r(e,t){if(null==e)throw new Error(t??"value is None")}function i(e){return e?.destroy(),null}function o(e){return e?.dispose(),null}function s(e){return e?.remove(),null}function a(e){return e?.abort(),null}function l(e){return e?.release(),null}function c(e,t,n){return null!=e&&null!=t?null!=n?n(e,t):e.equals(t):e===t}function u(e,t){let n;return e.some(((e,r)=>(n=t(e,r),null!=n))),n??void 0}n.d(t,{CM:function(){return c},DC:function(){return a},Gz:function(){return l},Lw:function(){return r},Pb:function(){return u},WD:function(){return o},pR:function(){return i},xt:function(){return s}})},57882:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(99595),i=n(29745);class o{constructor(e=e=>e.values().next().value){this._peeker=e,this._observable=new i.I,this._items=new Set}get length(){return(0,r.gc)(this._observable),this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0===this.length)return;let e;for(e of this._items);return e}peek(){if(0!==this.length)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){return(0,r.gc)(this._observable),this._items.has(e)}pop(){if(0===this.length)return;const e=this.peek();return this._items.delete(e),this._observable.notify(),e}popLast(){if(0===this.length)return;const e=this.last();return this._items.delete(e),this._observable.notify(),e}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){const t=this.length;return this._items.forEach((t=>{e(t)||this._items.delete(t)})),t!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){(0,r.gc)(this._observable),yield*this._items}}},57888:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(82392),i=n(73783),o=n(70214),s=n(26325);class a{constructor(){this._emitter=new a.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}!function(e){class t{constructor(e=null){this._target=e,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(e,t){let n=this._listenersMap?.get(e);if(!n)return!1;const r=this._target||this;let i=!1;for(const e of n.slice()){const n="deref"in e?e.deref():e;n?n?.call(r,t):i=!0}return i&&(n=n.filter((e=>!("deref"in e)||null!=e.deref())),this._listenersMap.set(e,n)),n.length>0}on(e,t){if(Array.isArray(e)){const n=e.map((e=>this.on(e,t)));return(0,o.vE)(n)}if(e.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const n=this._listenersMap.get(e)||[];return n.push(t),this._listenersMap.set(e,n),(0,o.hA)((()=>{const n=this._listenersMap?.get(e),r=n?.indexOf(t)??-1;r>=0&&n.splice(r,1)}))}once(e,t){const n=this.on(e,(e=>{n.remove();const r="deref"in t?t.deref():t;r?.call(null,e)}));return n}hasEventListener(e){const t=this._listenersMap?.get(e);return null!=t&&t.length>0}}e.EventEmitter=t,e.EventedMixin=e=>{let n=class extends e{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};return n=(0,r._)([(0,s.$)("esri.core.Evented")],n),n};let n=class extends i.A{constructor(){super(...arguments),this._emitter=new a.EventEmitter(this)}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};n=(0,r._)([(0,s.$)("esri.core.Evented.EventedAccessor")],n),e.EventedAccessor=n}(a||(a={}));const l=a},58133:function(e,t,n){"use strict";n.d(t,{F:function(){return a}});var r=n(95665);let i;i=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let o=(e,t)=>{let n=e;return t.forEach((e=>{n=n&&n.children?i(n.children,(t=>t.domNode===e)):void 0})),n},s=(e,t,n)=>{let r=function(r){n("domEvent",r);let i=t(),s=((e,t)=>{let n=[];for(;e&&e!==t;)n.push(e),e=e.parentNode;return n})(r.currentTarget,i.domNode);s.reverse();let a,l=o(i.getLastRender(),s);return e.scheduleRender(),l&&(a=l.properties[`on${r.type}`].apply(l.properties.bind||this,arguments)),n("domEventProcessed",r),a};return(e,t,n,i)=>r},a=e=>{let t,n,i=(0,r.R)(e),o=i.performanceLogger,a=!0,l=!1,c=[],u=[],d=(e,n,r)=>{let a;i.eventHandlerInterceptor=s(t,(()=>a),o),a=e(n,r(),i),c.push(a),u.push(r)},h=()=>{if(n=void 0,a){a=!1,o("renderStart",void 0);for(let e=0;e<c.length;e++){let t=u[e]();o("rendered",void 0),c[e].update(t),o("patched",void 0)}o("renderDone",void 0),a=!0}};return t={renderNow:h,scheduleRender:()=>{n||l||(n=requestAnimationFrame(h))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0),l=!0},resume:()=>{l=!1,a=!0,t.scheduleRender()},append:(e,t)=>{d(r.t.append,e,t)},insertBefore:(e,t)=>{d(r.t.insertBefore,e,t)},merge:(e,t)=>{d(r.t.merge,e,t)},replace:(e,t)=>{d(r.t.replace,e,t)},detach:e=>{for(let t=0;t<u.length;t++)if(u[t]===e)return u.splice(t,1),c.splice(t,1)[0];throw new Error("renderFunction was not found")}},t}},58201:function(e,t,n){"use strict";n.d(t,{B:function(){return i},b:function(){return o}});var r=n(90364);function i(e){return e.toLowerCase().replaceAll(/[\s-]+/g,"")}class o{constructor(e,t){const n=new Map;for(const t of e){const e=i(t);if(n.has(e))throw new Error(`${t} already added as ${n.get(e)}`);n.set(e,t)}if(null!=t)for(const[e,r]of t){const t=i(e);if(n.has(t))throw new Error(`${e} already associated with ${n.get(t)}`);n.set(t,r)}this._enumMap=n}lookup(e){return this._enumMap.get(i(e))}get(e){const t=this.lookup(e);if(null==t)throw new r.D$(null,r.TX.InvalidParameter,null);return t}}},58627:function(e,t,n){"use strict";n.d(t,{$U:function(){return s},Qw:function(){return a},Sh:function(){return i},rE:function(){return o}});const r=new Map;function i(){r.clear()}function o(e){return r.get(e)}function s(e,t){r.set(e,t)}function a(e){r.delete(e)}},58652:function(e,t,n){"use strict";n.d(t,{EB:function(){return p},Im:function(){return y},Mj:function(){return h},Ui:function(){return m},w2:function(){return f}});var r=n(73783),i=n(58842),o=n(66361);const s=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function a(e){return e instanceof r.A}function l(e){return e instanceof i.A?Object.keys(e.items):a(e)?(0,o.oY)(e).keys():e?Object.keys(e):[]}function c(e,t){return e instanceof i.A?e.items[t]:e[t]}function u(e){return e?e.declaredClass:null}function d(e,t){const n=e.diff;if(n&&"function"==typeof n)return n(e,t);const r=l(e),i=l(t);if(0===r.length&&0===i.length)return;if(!r.length||!i.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const o=i.filter((e=>!r.includes(e))),h=r.filter((e=>!i.includes(e))),p=r.filter((n=>i.includes(n)&&c(e,n)!==c(t,n))).concat(o,h).sort(),f=u(e);if(f&&s.has(f)&&p.length)return{type:"complete",oldValue:e,newValue:t};let m;const y=a(e)&&a(t);for(const r of p){const i=c(e,r),o=c(t,r);let s;if((y||"function"!=typeof i&&"function"!=typeof o)&&i!==o&&(null!=i||null!=o)){if(n&&n[r]&&"function"==typeof n[r])s=n[r]?.(i,o);else if(i instanceof Date&&o instanceof Date){if(i.getTime()===o.getTime())continue;s={type:"complete",oldValue:i,newValue:o}}else s="object"==typeof i&&"object"==typeof o&&u(i)===u(o)?d(i,o):{type:"complete",oldValue:i,newValue:o};null!=s&&(null!=m?m.diff[r]=s:m={type:"partial",diff:{[r]:s}})}}return m}function h(e,t){return p(e,t)}function p(e,t){if(null==e)return!1;const n=t.split(".");let r=e;for(const e of n){if("complete"===r.type)return!0;if("partial"!==r.type)return!1;{const t=r.diff[e];if(!t)return!1;r=t}}return!0}function f(e,t){if(!e)return!1;if("partial"===e.type){const n=Object.keys(e.diff);return 1===n.length&&n[0]===t}return!1}function m(e,t){if("function"!=typeof e&&"function"!=typeof t&&(null!=e||null!=t))return null==e||null==t||"object"==typeof e&&"object"==typeof t&&u(e)!==u(t)?{type:"complete",oldValue:e,newValue:t}:d(e,t)}function y(e){if(null==e)return!0;switch(e.type){case"complete":return!1;case"collection":{const t=e;for(const e of t.added)if(!y(e))return!1;for(const e of t.removed)if(!y(e))return!1;for(const e of t.changed)if(!y(e))return!1;return!0}case"partial":for(const t in e.diff)if(!y(e.diff[t]))return!1;return!0}}},58720:function(e,t,n){"use strict";n.d(t,{A:function(){return M}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(85716)),a=n(26325),l=n(81327),c=n(3219),u=n(31656),d=n(91301),h=n(53182),p=n(66215),f=(n(62991),n(4068));let m=r=class extends f.N{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new r(e)}};(0,i._)([(0,s.e)({multiply:"multiply",replace:"replace",tint:"tint"})],m.prototype,"colorMixMode",void 0),m=r=(0,i._)([(0,a.$)("esri.symbols.support.Symbol3DFillMaterial")],m);var y,g=n(93814),v=n(84977),b=n(23572),w=n(30361),_=n(41394);let S=y=class extends v.A{constructor(e){super(e),this.color=new g.A([0,0,0,1]),this.size=(0,b.PN)(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new y(e)}};var x;(0,i._)([(0,o.MZ)((0,w.EW)({colorRequiredOnWrite:!0}))],S.prototype,"color",void 0),(0,i._)([(0,o.MZ)({...w.pI,json:{write:{isRequired:!0}}})],S.prototype,"size",void 0),(0,i._)([(0,o.MZ)(h.v)],S.prototype,"pattern",void 0),(0,i._)([(0,o.MZ)({type:_.M4,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],S.prototype,"patternCap",void 0),S=y=(0,i._)([(0,a.$)("esri.symbols.support.Symbol3DOutline")],S);let M=class extends l.A{static{x=this}constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new x(e)}static fromSimpleFillSymbol(e){const t=e.outline&&e.outline.style&&"solid"!==e.outline.style?new u.A({style:e.outline.style}):null,n={size:e.outline?.width??0,color:(e.outline?.color??p.ON).clone(),pattern:t};return t&&e.outline?.cap&&(n.patternCap=e.outline.cap),new x({material:new m({color:(e.color??p.u7).clone()}),pattern:e.style&&"solid"!==e.style?new d.A({style:e.style}):null,outline:n})}};(0,i._)([(0,s.e)({Fill:"fill"},{readOnly:!0})],M.prototype,"type",void 0),(0,i._)([(0,o.MZ)({type:m,json:{write:!0}})],M.prototype,"material",void 0),(0,i._)([(0,o.MZ)(h.r)],M.prototype,"pattern",void 0),(0,i._)([(0,o.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],M.prototype,"castShadows",void 0),(0,i._)([(0,o.MZ)({type:S,json:{write:!0}})],M.prototype,"outline",void 0),(0,i._)([(0,o.MZ)(c.J)],M.prototype,"edges",void 0),M=x=(0,i._)([(0,a.$)("esri.symbols.FillSymbol3DLayer")],M)},58842:function(e,t,n){"use strict";n.d(t,{A:function(){return R}});var r,i=n(82392),o=n(50398),s=n(57888),a=n(70214),l=n(15565),c=n(39744);!function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"}(r||(r={}));var u,d=n(9987),h=n(8636),p=n(99595),f=n(81482),m=n(50078),y=n(26325),g=n(29745),v=n(46030);class b{constructor(e,t,n,r,i){this.target=e,this.added=t,this.removed=n,this.start=r,this.deleteCount=i}}const w=new c.A(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}));function _(e){e&&"object"==typeof e&&"destroy"in e&&"function"==typeof e.destroy&&e.destroy()}function S(e){return e?e instanceof P?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function x(e){if(e?.length)return e[0]}function M(e,t,n,r){const i=Math.min(e.length-n,t.length-r);let o=0;for(;o<i&&e[n+o]===t[r+o];)o++;return o}function A(e,t,n,r){t&&t.forEach(((t,i,o)=>{e.push(t),A(e,n.call(r,t,i,o),n,r)}))}const T=new Set,I=new Set,C=new Set,E=new Map;let k=0,P=class extends s.A.EventedAccessor{static{u=this}static{this.ofType=e=>{if(!e)return u;if(E.has(e))return E.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const n in e.typeMap){const r=e.typeMap[n].prototype.declaredClass;t?t+=` | ${r}`:t=r}let n=class extends u{};return(0,i._)([(0,m.u)({Type:e,ensureType:"function"==typeof e?(0,h.dp)(e):(0,h.aq)(e)})],n.prototype,"itemType",void 0),n=(0,i._)([(0,y.$)(`esri.core.Collection<${t}>`)],n),E.set(e,n),n}}static isCollection(e){return null!=e&&e instanceof u}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new g.I,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:k++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof u?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return(0,p.gc)(this._observable),this._items}set items(e){this._emitBeforeChanges(r.ADD)||(this._splice(0,this.length,S(e)),this._emitAfterChanges(r.ADD))}hasEventListener(e){return!this.destroyed&&("change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return(0,a.hA)();if("change"===e){const e=this._chgListeners,n={removed:!1,callback:t};return e.push(n),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),(0,a.hA)((()=>{n.removed=!0,e.splice(e.indexOf(n),1)}))}return this._emitter.on(e,t)}once(e,t){const n="deref"in t?()=>t.deref():()=>t,r=this.on(e,(e=>{n()?.call(null,e),r.remove()}));return r}add(e,t){if((0,p.gc)(this._observable),this._emitBeforeChanges(r.ADD))return this;const n=this.getNextIndex(t??null);return this._splice(n,0,[e]),this._emitAfterChanges(r.ADD),this}addMany(e,t=this._items.length){if((0,p.gc)(this._observable),!e?.length)return this;if(this._emitBeforeChanges(r.ADD))return this;const n=this.getNextIndex(t);return this._splice(n,0,S(e)),this._emitAfterChanges(r.ADD),this}at(e){if((0,p.gc)(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if((0,p.gc)(this._observable),!this.length||this._emitBeforeChanges(r.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(r.REMOVE),e}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){return(0,p.gc)(this._observable),this._createNewInstance({items:this._items.map(l.o8)})}concat(...e){(0,p.gc)(this._observable);const t=e.map(S);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if((0,p.gc)(this._observable),!this.length||this._emitBeforeChanges(r.REMOVE))return;const n=this._splice(0,this.length),i=n.length;for(let r=0;r<i;r++)e.call(t,n[r],r,n);this._emitAfterChanges(r.REMOVE)}destroyAll(){this.drain(_)}destroyMany(e){const t=this.removeMany(e);return t.forEach(_),t}every(e,t){return(0,p.gc)(this._observable),this._items.every(e,t)}filter(e,t){(0,p.gc)(this._observable);const n=2===arguments.length?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:n})}find(e,t){return(0,p.gc)(this._observable),this._items.find(e,t)}findIndex(e,t){return(0,p.gc)(this._observable),this._items.findIndex(e,t)}flatten(e,t){(0,p.gc)(this._observable);const n=[];return A(n,this,e,t),new u(n)}forEach(e,t){return(0,p.gc)(this._observable),this._items.forEach(e,t)}getItemAt(e){return(0,p.gc)(this._observable),this._items[e]}getNextIndex(e){(0,p.gc)(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return(0,p.gc)(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return(0,p.gc)(this._observable),this._items.indexOf(e,t)}join(e=","){return(0,p.gc)(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return(0,p.gc)(this._observable),this._items.lastIndexOf(e,t)}map(e,t){(0,p.gc)(this._observable);const n=this._items.map(e,t);return new u({items:n})}reorder(e,t=this.length-1){(0,p.gc)(this._observable);const n=this.indexOf(e);if(-1!==n){if(t<0?t=0:t>=this.length&&(t=this.length-1),n!==t){if(this._emitBeforeChanges(r.MOVE))return e;this._splice(n,1),this._splice(t,0,[e]),this._emitAfterChanges(r.MOVE)}return e}}pop(){if((0,p.gc)(this._observable),!this.length||this._emitBeforeChanges(r.REMOVE))return;const e=x(this._splice(this.length-1,1));return this._emitAfterChanges(r.REMOVE),e}push(...e){return(0,p.gc)(this._observable),this._emitBeforeChanges(r.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(r.ADD)),this.length}reduce(e,t){(0,p.gc)(this._observable);const n=this._items;return 2===arguments.length?n.reduce(e,t):n.reduce(e)}reduceRight(e,t){(0,p.gc)(this._observable);const n=this._items;return 2===arguments.length?n.reduceRight(e,t):n.reduceRight(e)}remove(e){return(0,p.gc)(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if((0,p.gc)(this._observable),e<0||e>=this.length||this._emitBeforeChanges(r.REMOVE))return;const t=x(this._splice(e,1));return this._emitAfterChanges(r.REMOVE),t}removeMany(e){if((0,p.gc)(this._observable),!e?.length||this._emitBeforeChanges(r.REMOVE))return[];const t=e instanceof u?e.toArray():e,n=this._items,i=[],o=t.length;for(let e=0;e<o;e++){const r=t[e],o=n.indexOf(r);if(o>-1){const r=1+M(t,n,e+1,o+1),s=this._splice(o,r);s&&s.length>0&&i.push.apply(i,s),e+=r-1}}return this._emitAfterChanges(r.REMOVE),i}reverse(){if((0,p.gc)(this._observable),this._emitBeforeChanges(r.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(r.MOVE),this}shift(){if((0,p.gc)(this._observable),!this.length||this._emitBeforeChanges(r.REMOVE))return;const e=x(this._splice(0,1));return this._emitAfterChanges(r.REMOVE),e}slice(e=0,t=this.length){return(0,p.gc)(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return(0,p.gc)(this._observable),this._items.some(e,t)}sort(e){if((0,p.gc)(this._observable),!this.length||this._emitBeforeChanges(r.MOVE)||!this._requiresSort(e))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(r.MOVE),this}_requiresSort(e=(e,t)=>e===t?0:e<t?-1:1){const t=this.length-1;for(let n=0;n<t;n++)if(e(this.items[n],this.items[n+1])>0)return!0;return!1}splice(e,t,...n){(0,p.gc)(this._observable),1===arguments.length&&(t=this.length),t??=0;const i=(t?r.REMOVE:0)|(n.length?r.ADD:0);if(this._emitBeforeChanges(i))return[];const o=this._splice(e,t,n)||[];return this._emitAfterChanges(i),o}toArray(){return(0,p.gc)(this._observable),this._items.slice()}toJSON(e){return(0,p.gc)(this._observable),this.toArray().map((t=>(0,v.W)(t)?t.toJSON(e):t))}toLocaleString(){return(0,p.gc)(this._observable),this._items.toLocaleString()}toString(){return(0,p.gc)(this._observable),this._items.toString()}unshift(...e){return(0,p.gc)(this._observable),!e.length||this._emitBeforeChanges(r.ADD)||(this._splice(0,0,e),this._emitAfterChanges(r.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,n){const r=this._items,i=this.itemType;let o,s;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=(0,d._)((()=>this._dispatchChange()))),e<0&&(e+=this.length),t){if(s=r.splice(e,t),this.hasEventListener("before-remove")){const t=w.acquire();t.target=this,t.cancellable=!0;for(let n=0,i=s.length;n<i;n++)o=s[n],t.reset(o),this.emit("before-remove",t),t.defaultPrevented&&(s.splice(n,1),r.splice(e,0,o),e+=1,n-=1,i-=1);w.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=w.acquire();e.target=this,e.cancellable=!1;const t=s.length;for(let n=0;n<t;n++)e.reset(s[n]),this.emit("after-remove",e);w.release(e)}}if(n?.length){if(i){const e=[];for(const t of n){const n=i.ensureType(t);null==n&&null!=t||e.push(n)}n=e}const t=this.hasEventListener("before-add"),o=this.hasEventListener("after-add"),s=e===this.length;if(t||o){const i=w.acquire();i.target=this,i.cancellable=!0;const a=w.acquire();a.target=this,a.cancellable=!1;for(const l of n)t?(i.reset(l),this.emit("before-add",i),i.defaultPrevented||(s?r.push(l):r.splice(e++,0,l),this._set("length",r.length),o&&(a.reset(l),this.emit("after-add",a)))):(s?r.push(l):r.splice(e++,0,l),this._set("length",r.length),a.reset(l),this.emit("after-add",a));w.release(a),w.release(i)}else{if(s)for(const e of n)r.push(e);else r.splice(e,0,...n);this._set("length",r.length)}}if((n?.length||s?.length)&&this._notifyChangeEvent(n,s),this.hasEventListener("after-splice")){const r=new b(this,n,s,e,t);this.emit("after-splice",r)}return s}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const n=w.acquire();n.target=this,n.cancellable=!0,n.type=e,this.emit("before-changes",n),t=n.defaultPrevented,w.release(n)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=w.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),w.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;T.clear(),I.clear(),C.clear();for(const{added:t,removed:n}of e){if(t)if(0===C.size&&0===I.size)for(const e of t)T.add(e);else for(const e of t)I.has(e)?(C.add(e),I.delete(e)):C.has(e)||T.add(e);if(n)if(0===C.size&&0===T.size)for(const e of n)I.add(e);else for(const e of n)T.has(e)?T.delete(e):(C.delete(e),I.add(e))}const n=o.A.acquire();T.forEach((e=>{n.push(e)}));const r=o.A.acquire();I.forEach((e=>{r.push(e)}));const i=this._items,s=t.items,a=o.A.acquire();if(C.forEach((e=>{s.indexOf(e)!==i.indexOf(e)&&a.push(e)})),t.listeners&&(n.length||r.length||a.length)){const e={target:this,added:n,removed:r,moved:a},i=t.listeners.length;for(let n=0;n<i;n++){const r=t.listeners[n];r.removed||r.callback.call(this,e)}}o.A.release(n),o.A.release(r),o.A.release(a)}T.clear(),I.clear(),C.clear()}};(0,i._)([(0,f.MZ)()],P.prototype,"_updating",void 0),(0,i._)([(0,f.MZ)()],P.prototype,"length",void 0),(0,i._)([(0,f.MZ)()],P.prototype,"items",null),(0,i._)([(0,f.MZ)({readOnly:!0})],P.prototype,"updating",null),P=u=(0,i._)([(0,y.$)("esri.core.Collection")],P);const R=P},58963:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e<0?"-":"",r=Math.abs(e).toString();for(;r.length<t;)r="0"+r;return n+r},e.exports=t.default},59496:function(e,t,n){"use strict";n.d(t,{E9:function(){return f},Tw:function(){return h},X6:function(){return p}});var r=n(38116),i=n(8e3),o=n(1912),s=n(44153),a=n(60131),l=n(77614),c=n(36321),u=n(74704);async function d(e,t,n){const d=(0,c.Dl)(e),{rasterFunction:h,sourceJSON:p}=t||{},f=h?JSON.stringify(h.rasterFunctionDefinition||h):null,m=(0,c.lF)({...d.query,renderingRule:f,f:"json"}),y=(0,c.jV)(m,n);e=d.path;const g=p||await(0,r.A)(e,y).then((e=>e.data)),v=g.hasRasterAttributeTable?(0,r.A)(`${e}/rasterAttributeTable`,y):null,b=g.hasColormap?(0,r.A)(`${e}/colormap`,y):null,w=g.hasHistograms?(0,r.A)(`${e}/histograms`,y):null,_=g.currentVersion>=10.3?(0,r.A)(`${e}/keyProperties`,y):null,S=g.hasMultidimensions?(0,r.A)(`${e}/multidimensionalInfo`,y):null,x=await Promise.allSettled([v,b,w,_,S]);let M=null;if(g.minValues&&g.minValues.length===g.bandCount){M=[];for(let e=0;e<g.minValues.length;e++)M.push({min:g.minValues[e],max:g.maxValues[e],avg:g.meanValues[e],stddev:g.stdvValues[e]})}const A=i.A.fromJSON(g.extent),T=Math.ceil(A.width/g.pixelSizeX-.1),I=Math.ceil(A.height/g.pixelSizeY-.1),C=s.A.fromJSON(g.spatialReference||g.extent.spatialReference),E="fulfilled"===x[0].status?x[0].value?.data:null,k=E?.features?.length?u.A.fromJSON(E):null,P="fulfilled"===x[1].status?x[1].value?.data.colormap:null,R=P?.length?P:null,O="fulfilled"===x[2].status?x[2].value?.data.histograms:null,N=O?.[0]?.counts?.length?O:null,L="fulfilled"===x[3].status?x[3].value?.data??{}:{},D="fulfilled"===x[4].status?x[4].value?.data.multidimensionalInfo:null,F=D?.variables?.length?D:null;F&&F.variables.forEach((e=>{e.statistics?.length&&e.statistics.forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),e.dimensions?.forEach((e=>{"StdTime"!==e.name||e.recurring||e.unit||(e.unit="ISO8601")}))}));const{defaultVariable:j,serviceDataType:Z}=g;j&&j!==L.DefaultVariable&&(L.DefaultVariable=j),Z?.includes("esriImageServiceDataTypeVector")&&!Z.includes(L.DataType)&&(L.DataType=Z.replace("esriImageServiceDataType",""));let U=g.noDataValue;g.noDataValues?.length&&g.noDataValues.some((e=>e!==U))&&(U=g.noDataValues);const z=g.transposeInfo?new l.A({blockWidth:256,blockHeight:256,pyramidBlockWidth:256,pyramidBlockHeight:256,pyramidScalingFactor:2,compression:"lerc",origin:new o.A({x:g.extent.xmin,y:g.extent.ymax,spatialReference:C}),firstPyramidLevel:1,maximumPyramidLevel:Math.max(0,Math.round(Math.log(Math.max(T,I))/Math.LN2-8)),transposeInfo:g.transposeInfo}):void 0;return new a.A({width:T,height:I,bandCount:g.bandCount,extent:i.A.fromJSON(g.extent),spatialReference:C,pixelSize:new o.A({x:g.pixelSizeX,y:g.pixelSizeY,spatialReference:C}),pixelType:g.pixelType.toLowerCase(),statistics:M,attributeTable:k,colormap:R,histograms:N,keyProperties:L,noDataValue:U,multidimensionalInfo:F,storageInfo:z})}function h(e,t,n){return d(e,{sourceJSON:t},n)}function p(e,t,n){return d(e,{rasterFunction:t},n)}function f(e,t){e.attributeTable||(t.hasRasterAttributeTable=!1),e.histograms||(t.hasHistograms=!1),e.colormap||(t.hasColormap=!1),e.multidimensionalInfo||(t.hasMultidimensions=!1)}},59594:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(91010),l=n(1415);let c=r=class extends a.A{constructor(e){super(e),this.type="column-chart"}clone(){return new r({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,i._)([(0,o.MZ)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:l.U.write,isRequired:!0}}})],c.prototype,"type",void 0),c=r=(0,i._)([(0,s.$)("esri.popup.content.ColumnChartMediaInfo")],c);const u=c},59638:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,i.default)(e),n=(0,o.default)(t).getTime()-(0,s.default)(t).getTime();return Math.round(n/l)+1};var i=r(n(95039)),o=r(n(20695)),s=r(n(87674)),a=r(n(10427)),l=6048e5;e.exports=t.default},59734:function(e,t,n){"use strict";n.d(t,{D:function(){return i},x:function(){return r}});const r=Symbol("widget"),i=Symbol("widget-test-data")},59823:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(70214),i=n(3223);class o{constructor(e,t){this._observers=e,this._observer=t}remove(){(0,i.TF)(this._observers,this._observer)}}class s{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return a;null==this._observers&&(this._observers=[]);const t=this._observers;let n=!1,r=!1;const i=t.length;for(let o=0;o<i;++o){const i=t[o];if(i.destroyed)r=!0;else if(i===e){n=!0;break}}return n||(t.push(e),r&&this._removeDestroyedObservers()),new o(t,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||0===e.length)return;const t=e.length;let n=0;for(let r=0;r<t;++r){for(;r+n<t&&e[r+n].destroyed;)++n;if(n>0){if(!(r+n<t))break;e[r]=e[r+n]}}e.length=t-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(null!=e){for(const t of e)t.onCommitted();this._observers=null}}}const a=(0,r.hA)()},60131:function(e,t,n){"use strict";n.d(t,{A:function(){return _}});var r,i=n(82392),o=n(84977),s=n(15565),a=n(81482),l=(n(6273),n(80861),n(26325)),c=n(8e3),u=n(44153);n(67498);function d(e){return e=Number(e),isNaN(e)?void 0:e}let h=r=class extends o.A{constructor(){super(...arguments),this.name=null,this.minWavelength=void 0,this.maxWavelength=void 0,this.radianceBias=void 0,this.radianceGain=void 0,this.reflectanceBias=void 0,this.reflectanceGain=void 0,this.solarIrradiance=void 0}clone(){return new r({name:this.name,minWavelength:this.minWavelength,maxWavelength:this.maxWavelength,radianceBias:this.radianceBias,radianceGain:this.radianceGain,reflectanceBias:this.reflectanceBias,reflectanceGain:this.reflectanceGain,solarIrradiance:this.solarIrradiance})}};(0,i._)([(0,a.MZ)({json:{name:"BandName",write:!0}})],h.prototype,"name",void 0),(0,i._)([(0,a.MZ)({json:{name:"WavelengthMin",read:{reader:d},write:!0}})],h.prototype,"minWavelength",void 0),(0,i._)([(0,a.MZ)({json:{name:"WavelengthMax",read:{reader:d},write:!0}})],h.prototype,"maxWavelength",void 0),(0,i._)([(0,a.MZ)({json:{name:"RadianceBias",read:{reader:d},write:!0}})],h.prototype,"radianceBias",void 0),(0,i._)([(0,a.MZ)({json:{name:"RadianceGain",read:{reader:d},write:!0}})],h.prototype,"radianceGain",void 0),(0,i._)([(0,a.MZ)({json:{name:"ReflectanceBias",read:{reader:d},write:!0}})],h.prototype,"reflectanceBias",void 0),(0,i._)([(0,a.MZ)({json:{name:"ReflectanceGain",read:{reader:d},write:!0}})],h.prototype,"reflectanceGain",void 0),(0,i._)([(0,a.MZ)({json:{name:"SolarIrradiance",read:{reader:d},write:!0}})],h.prototype,"solarIrradiance",void 0),h=r=(0,i._)([(0,l.$)("esri.layers.support.RasterBandInfo")],h);var p,f=n(33673),m=n(25376),y=n(48524);function g(e){return e=Number(e),isNaN(e)?void 0:e}let v=p=class extends o.A{constructor(){super(...arguments),this.acquisitionDate=void 0,this.cloudCover=void 0,this.productName=void 0,this.sensorName=null,this.sensorAzimuth=void 0,this.sensorElevation=void 0,this.sunAzimuth=void 0,this.sunElevation=void 0}readAcquisitionDate(e){return new Date(e)}writeAcquisitionDate(e,t){t.AcquisitionDate=e.getTime()}clone(){return new p({acquisitionDate:this.acquisitionDate,cloudCover:this.cloudCover,productName:this.productName,sensorName:this.sensorName,sensorAzimuth:this.sensorAzimuth,sensorElevation:this.sensorElevation,sunAzimuth:this.sunAzimuth,sunElevation:this.sunElevation})}};(0,i._)([(0,a.MZ)({type:Date,json:{name:"AcquisitionDate",write:!0}})],v.prototype,"acquisitionDate",void 0),(0,i._)([(0,m.w)("acquisitionDate")],v.prototype,"readAcquisitionDate",null),(0,i._)([(0,y.K)("acquisitionDate")],v.prototype,"writeAcquisitionDate",null),(0,i._)([(0,a.MZ)({json:{name:"CloudCover",read:{reader:g},write:!0}})],v.prototype,"cloudCover",void 0),(0,i._)([(0,a.MZ)({json:{name:"ProductName",write:!0}})],v.prototype,"productName",void 0),(0,i._)([(0,a.MZ)({json:{name:"SensorName",write:!0}})],v.prototype,"sensorName",void 0),(0,i._)([(0,a.MZ)({json:{name:"SensorAzimuth",read:{reader:g},write:!0}})],v.prototype,"sensorAzimuth",void 0),(0,i._)([(0,a.MZ)({json:{name:"SensorElevation",read:{reader:g},write:!0}})],v.prototype,"sensorElevation",void 0),(0,i._)([(0,a.MZ)({json:{name:"SunAzimuth",read:{reader:g},write:!0}})],v.prototype,"sunAzimuth",void 0),(0,i._)([(0,a.MZ)({json:{name:"SunElevation",read:{reader:g},write:!0}})],v.prototype,"sunElevation",void 0),v=p=(0,i._)([(0,l.$)("esri.layers.support.RasterSensorInfo")],v);var b,w=n(77614);let _=b=class extends o.A{constructor(e){super(e),this.attributeTable=null,this.bandCount=null,this.colormap=null,this.extent=null,this.format=void 0,this.height=null,this.width=null,this.histograms=null,this.keyProperties={},this.multidimensionalInfo=null,this.noDataValue=null,this.pixelSize=null,this.pixelType=null,this.isPseudoSpatialReference=!1,this.spatialReference=null,this.statistics=null,this.storageInfo=null,this.transform=null}get bandInfos(){const e=this.keyProperties.BandProperties,{bandCount:t}=this;if(!e?.length||e.length<t){const e=[];for(let n=1;n<=t;n++)e.push(new h({name:"band_"+n}));return e}const n=e.map((e=>h.fromJSON(e)));for(let e=0;e<n.length;e++)n[e].name=n[e].name||"band_"+(e+1);return n}get dataType(){const e=this.keyProperties?.DataType?.toLowerCase()??"generic";return"stdtime"===e?"standard-time":e}get nativeExtent(){return this._get("nativeExtent")||this.extent}set nativeExtent(e){e&&this._set("nativeExtent",e)}get nativePixelSize(){if(null==this.transform||!this.transform.affectsPixelSize)return this.pixelSize;const e=this.nativeExtent;return{x:e.width/this.width,y:e.height/this.height}}get hasMultidimensionalTranspose(){return!!this.storageInfo?.transposeInfo}get sensorInfo(){if(this.keyProperties?.SensorName)return v.fromJSON(this.keyProperties)}clone(){return new b({attributeTable:(0,s.o8)(this.attributeTable),bandCount:this.bandCount,colormap:(0,s.o8)(this.colormap),extent:(0,s.o8)(this.extent),format:this.format,height:this.height,width:this.width,histograms:(0,s.o8)(this.histograms),keyProperties:(0,s.o8)(this.keyProperties),multidimensionalInfo:(0,s.o8)(this.multidimensionalInfo),noDataValue:this.noDataValue,pixelSize:(0,s.o8)(this.pixelSize),pixelType:this.pixelType,isPseudoSpatialReference:this.isPseudoSpatialReference,spatialReference:(0,s.o8)(this.spatialReference),statistics:(0,s.o8)(this.statistics),storageInfo:(0,s.o8)(this.storageInfo),transform:(0,s.o8)(this.transform)})}};(0,i._)([(0,a.MZ)({json:{write:!0}})],_.prototype,"attributeTable",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],_.prototype,"bandCount",void 0),(0,i._)([(0,a.MZ)({readOnly:!0})],_.prototype,"bandInfos",null),(0,i._)([(0,a.MZ)({json:{write:!0}})],_.prototype,"colormap",void 0),(0,i._)([(0,a.MZ)({type:String,readOnly:!0})],_.prototype,"dataType",null),(0,i._)([(0,a.MZ)({type:c.A,json:{write:!0}})],_.prototype,"extent",void 0),(0,i._)([(0,a.MZ)({type:c.A,json:{write:!0}})],_.prototype,"nativeExtent",null),(0,i._)([(0,a.MZ)({json:{write:!0}})],_.prototype,"nativePixelSize",null),(0,i._)([(0,a.MZ)({json:{write:!0}})],_.prototype,"format",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],_.prototype,"height",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],_.prototype,"width",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],_.prototype,"hasMultidimensionalTranspose",null),(0,i._)([(0,a.MZ)({json:{write:!0}})],_.prototype,"histograms",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],_.prototype,"keyProperties",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],_.prototype,"multidimensionalInfo",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],_.prototype,"noDataValue",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],_.prototype,"pixelSize",void 0),(0,i._)([(0,a.MZ)({type:f.e8.apiValues,json:{write:!0}})],_.prototype,"pixelType",void 0),(0,i._)([(0,a.MZ)()],_.prototype,"isPseudoSpatialReference",void 0),(0,i._)([(0,a.MZ)({readOnly:!0})],_.prototype,"sensorInfo",null),(0,i._)([(0,a.MZ)({type:u.A,json:{write:!0}})],_.prototype,"spatialReference",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],_.prototype,"statistics",void 0),(0,i._)([(0,a.MZ)({type:w.A,json:{write:!0}})],_.prototype,"storageInfo",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],_.prototype,"transform",void 0),_=b=(0,i._)([(0,l.$)("esri.layers.support.RasterInfo")],_)},60368:function(e,t,n){"use strict";n.d(t,{A:function(){return S}});var r=n(82392),i=n(32083),o=n(6480),s=n(38116),a=n(3132),l=n(62991),c=n(80861),u=n(57725),d=n(37623),h=n(19759),p=n(81482),f=(n(6273),n(67498),n(25376)),m=n(26325),y=n(48524),g=n(65452),v=n(83382),b=n(43305),w=n(14395),_=n(86074);const S=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,u.pR)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,n){if(t.itemId)return new b.default({id:t.itemId,portal:n?.portal})}writePortalItem(e,t){e?.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem?.id)try{const{load:r}=await n.e(9227).then(n.bind(n,29227));return(0,d.Te)(t),await r({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap,populateGroupLayer:e.populateGroupLayer},t)}catch(e){throw(0,d.zf)(e)||c.A.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${e}`),e}}async finishLoadEditablePortalLayer(e){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(e).catch((e=>((0,d.QP)(e),!0))))}async setUserPrivileges(e,t){if(!i.A.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t);if(this.url)try{const{features:{edit:n,fullEdit:r},content:{updateItem:i}}=await this._fetchUserPrivileges(e,t);this._set("userHasEditingPrivileges",n),this._set("userHasFullEditingPrivileges",r),this._set("userHasUpdateItemPrivileges",i)}catch(e){(0,d.QP)(e)}}async _fetchUserPrivileges(e,t){let n=this.portalItem;if(!e||!n||!n.loaded||n.sourceUrl)return this._fetchFallbackUserPrivileges(t);const r=!o.id?.findCredential(this.url),i=e===n.id;if(i&&n.portal.user)return this._getUserPrivileges(n,r);let s,a;if(i)s=n.portal.url;else try{s=await(0,g.wI)(this.url,t)}catch(e){(0,d.QP)(e)}if(!s||!(0,h.b8)(s,n.portal.url))return this._fetchFallbackUserPrivileges(t);try{const e=null!=t?t.signal:null;a=await(o.id?.getCredential(`${s}/sharing`,{prompt:!1,signal:e}))}catch(e){(0,d.QP)(e)}const l=!0,c=!1,u=!1;if(!a)return{features:{edit:l,fullEdit:c},content:{updateItem:u}};try{if(i?await n.reload():(n=new b.default({id:e,portal:{url:s}}),await n.load(t)),n.portal.user)return this._getUserPrivileges(n,r)}catch(e){(0,d.QP)(e)}return{features:{edit:l,fullEdit:c},content:{updateItem:u}}}_getUserPrivileges(e,t){const n=(0,_.It)(e);return t&&(n.features.edit=!0),n}async _fetchFallbackUserPrivileges(e){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(e)}catch(e){(0,d.QP)(e)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){const t=this.url?o.id?.findCredential(this.url):null;if(!t)return!0;const n=x.credential===t?x.user:await this._fetchEditingUser(e);return x.credential=t,x.user=n,null==n?.privileges||n.privileges.includes("features:user:edit")}async _fetchEditingUser(e){const t=this.portalItem?.portal?.user;if(t)return t;const n=o.id?.findServerInfo(this.url??"");if(!n?.owningSystemUrl)return null;const r=`${n.owningSystemUrl}/sharing/rest`,i=v.A.getDefault();if(i&&i.loaded&&(0,h.S8)(i.restUrl)===(0,h.S8)(r))return i.user;const l=`${r}/community/self`,c=null!=e?e.signal:null,u=await(0,a.Ke)((0,s.A)(l,{authMode:"no-prompt",query:{f:"json"},signal:c}));return u.ok?w.A.fromJSON(u.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){const n=t?.portal,r=this.portalItem?.id&&(this.portalItem.portal||v.A.getDefault());return n&&r&&!(0,h.ut)(r.restUrl,n.restUrl)?(t.messages&&t.messages.push(new l.A("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}};return(0,r._)([(0,p.MZ)({type:b.default})],t.prototype,"portalItem",null),(0,r._)([(0,f.w)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,r._)([(0,y.K)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,r._)([(0,p.MZ)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,r._)([(0,p.MZ)({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),(0,r._)([(0,p.MZ)({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),(0,r._)([(0,p.MZ)({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=(0,r._)([(0,m.$)("esri.layers.mixins.PortalLayer")],t),t},x={credential:null,user:null}},60639:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(1912);let l=class extends i.A{constructor(){super(...arguments),this.attributes=null,this.location=null,this.locationId=null,this.rasterId=null,this.resolution=null,this.pixelValue=null}};(0,r._)([(0,o.MZ)({json:{write:!0}})],l.prototype,"attributes",void 0),(0,r._)([(0,o.MZ)({type:a.A,json:{write:!0}})],l.prototype,"location",void 0),(0,r._)([(0,o.MZ)({json:{write:!0}})],l.prototype,"locationId",void 0),(0,r._)([(0,o.MZ)({json:{write:!0}})],l.prototype,"rasterId",void 0),(0,r._)([(0,o.MZ)({json:{write:!0}})],l.prototype,"resolution",void 0),(0,r._)([(0,o.MZ)({json:{write:!0}})],l.prototype,"pixelValue",void 0),l=(0,r._)([(0,s.$)("esri.rest.support.ImageSample")],l)},60663:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s,a=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(a)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(a)}));return s=e.valueCallback?e.valueCallback(c):c,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(a.length)}}},e.exports=t.default},60854:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r,i=n(82392),o=n(15565),s=n(81482),a=(n(6273),n(80861),n(26325)),l=n(23547);let c=r=class extends l.A{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new r({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,o.o8)(this.outFields):null})}};(0,i._)([(0,s.MZ)()],c.prototype,"creator",void 0),(0,i._)([(0,s.MZ)()],c.prototype,"destroyer",void 0),(0,i._)([(0,s.MZ)()],c.prototype,"outFields",void 0),(0,i._)([(0,s.MZ)({type:["custom"],readOnly:!0})],c.prototype,"type",void 0),c=r=(0,i._)([(0,a.$)("esri.popup.content.CustomContent")],c);const u=c},60861:function(e,t,n){"use strict";n.d(t,{$:function(){return w},IB:function(){return a},Iy:function(){return L},N2:function(){return _},QP:function(){return R},RH:function(){return x},Vl:function(){return P},Ws:function(){return A},ZD:function(){return S},_L:function(){return k},bJ:function(){return C},e$:function(){return E},f6:function(){return N},pW:function(){return T},pf:function(){return O}});var r=n(93814),i=n(3223),o=n(15565),s=(n(4506),n(74772),n(76982));function a(e){return"r"in e&&"g"in e&&"b"in e}function l(e){return"h"in e&&"s"in e&&"v"in e}function c(e){return"l"in e&&"a"in e&&"b"in e}function u(e){return"l"in e&&"c"in e&&"h"in e}const d=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],h=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function p(e,t){const n=[];let r,i;if(e[0].length!==t.length)throw new Error("dimensions do not match");const o=e.length,s=e[0].length;let a=0;for(r=0;r<o;r++){for(a=0,i=0;i<s;i++)a+=e[r][i]*t[i];n.push(a)}return n}function f(e){const t=[e.r/255,e.g/255,e.b/255].map((e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4)),n=p(d,t);return{x:100*n[0],y:100*n[1],z:100*n[2]}}function m(e){const t=p(h,[e.x/100,e.y/100,e.z/100]).map((e=>{const t=e<=.0031308?12.92*e:1.055*e**(1/2.4)-.055;return Math.min(1,Math.max(t,0))}));return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function y(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map((e=>e>(6/29)**3?e**(1/3):1/3*(29/6)**2*e+4/29));return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function g(e){const t=e.l,n=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map((e=>e>6/29?e**3:3*(6/29)**2*(e-4/29)));return{x:95.047*n[0],y:100*n[1],z:108.883*n[2]}}function v(e){return function(e){const t=e.l,n=e.a,r=e.b,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o=o>0?o:o+2*Math.PI,{l:t,c:i,h:o}}(y(f(e)))}function b(e){return m(g(function(e){const t=e.l,n=e.c,r=e.h;return{l:t,a:n*Math.cos(r),b:n*Math.sin(r)}}(e)))}function w(e){return a(e)?e:u(e)?b(e):c(e)?function(e){return m(g(e))}(e):function(e){return"x"in e&&"y"in e&&"z"in e}(e)?m(e):l(e)?function(e){const t=(e.h+360)%360/60,n=e.s/100,r=e.v/100*255,i=r*n,o=i*(1-Math.abs(t%2-1));let s;switch(Math.floor(t)){case 0:s={r:i,g:o,b:0};break;case 1:s={r:o,g:i,b:0};break;case 2:s={r:0,g:i,b:o};break;case 3:s={r:0,g:o,b:i};break;case 4:s={r:o,g:0,b:i};break;case 5:case 6:s={r:i,g:0,b:o};break;default:s={r:0,g:0,b:0}}return s.r=Math.round(s.r+r-i),s.g=Math.round(s.g+r-i),s.b=Math.round(s.b+r-i),s}(e):e}function _(e){return l(e)?e:function(e){const t=e.r,n=e.g,r=e.b,i=Math.max(t,n,r),o=i-Math.min(t,n,r);let s=i,a=0===o?0:i===t?(n-r)/o%6:i===n?(r-t)/o+2:(t-n)/o+4,l=0===o?0:o/s;return a<0&&(a+=6),a*=60,l*=100,s*=100/255,{h:a,s:l,v:s}}(w(e))}function S(e){return c(e)?e:function(e){return y(f(e))}(w(e))}function x(e){return u(e)?e:v(w(e))}function M(e){let{r:t,g:n,b:i,a:o}=e;return o<1&&(t=Math.round(o*t+255*(1-o)),n=Math.round(o*n+255*(1-o)),i=Math.round(o*i+255*(1-o))),new r.A({r:t,g:n,b:i})}function A(e,t){const{r:n,g:r,b:i}=t?.ignoreAlpha?e:M(e);return.2126*n+.7152*r+.0722*i}var T,I;function C(e,t=T.High){return A(e,{ignoreAlpha:!0})>t?new r.A([0,0,0,e.a]):new r.A([255,255,255,e.a])}function E(e,t){const n=S(e);n.l*=1-t;const r=w(n),i=e.clone();return i.setColor(r),i.a=e.a,i}function k(e,t){const n=e.clone();return n.a*=t,n}function P(e,t){const n=_(e);n.s*=t;const r=w(n),i=e.clone();return i.setColor(r),i.a=e.a,i}function R(e){return r.A.toUnitRGBA(e)}function O(e){return(0,s.fA)(e[0],e[1],e[2],e.length>3?e[3]:1)}function N(e,t){const n=r.A.toUnitRGBA(e);return n[3]*=t,n}function L(e,t,n={}){if(0===e.length||t<=0)return[];if(1===(e=e.map((e=>"string"==typeof e?new r.A(e):e))).length||1===t){const n=[],r=e[0];for(let e=0;e<t;e++)n.push(r.clone());return n}if(n.shuffle&&(e=(0,i.k4)((0,o.o8)(e),n.seed)),e.length>=t){const n=[],r=(e.length-1)/(t-1);for(let i=0;i<t;i++){const t=Math.round(i*r);n.push(e[t].clone())}return n}return function(e,t,n={}){const r=[],o=e.length-1,s=Math.ceil((t-e.length)/o);e:for(let i=0;i<o;i++){const o=e[i],a=e[i+1];for(let i=1;i<=s;i++){const l=i/(s+1);if(r.push(F(o,a,l,n)),r.length+e.length===t)break e}}return[...e.map((e=>e.clone())),...(0,i.k4)(r,n.seed??1)]}(e,t,n)}(I=T||(T={}))[I.Low=160]="Low",I[I.High=225]="High";const D=(e,t)=>{const n=Math.floor(10*t())-5;return Math.min(255,Math.max(0,e+n))};function F(e,t,n,o={}){const s=e.r,a=e.g,l=e.b,c=t.r,u=t.g,d=t.b,h=Math.round(s+(c-s)*n),p=Math.round(a+(u-a)*n),f=Math.round(l+(d-l)*n);if(!o.offset)return new r.A([h,p,f]);const m=(0,i.Mo)(o.seed);return new r.A([D(h,m),D(p,m),D(f,m)])}},60891:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trunc=t.capitalizeFirstLetter=void 0;t.capitalizeFirstLetter=e=>e.toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.substring(1))).join(" ");t.trunc=(e="",t=0,n=!1)=>{if(e.length<=t)return e;const r=e.slice(0,t-1);return(n?r.slice(0,r.lastIndexOf(" ")):r)+"..."}},60929:function(e,t,n){"use strict";var r;n.d(t,{_:function(){return r}}),function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"}(r||(r={}))},60936:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r,i=n(82392),o=n(15565),s=n(21332),a=n(81482),l=(n(6273),n(80861),n(85716)),c=n(25376),u=n(26325),d=n(48524),h=n(46227),p=n(999);let f=r=class extends p.A{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if("CIMSymbolReference"===this.data?.type){const n=this.data.primitiveOverrides;if(n){const r=n.map((n=>{const r=n.valueExpressionInfo;return r?(0,h.Dx)(e,t,r.expression):null}));await Promise.all(r)}}}clone(){return new r({data:(0,o.o8)(this.data)})}hash(){return(0,s.Wm)(JSON.stringify(this.data)).toString()}};(0,i._)([(0,a.MZ)({json:{write:!1}})],f.prototype,"color",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],f.prototype,"data",void 0),(0,i._)([(0,c.w)("data",["symbol"])],f.prototype,"readData",null),(0,i._)([(0,d.K)("data",{})],f.prototype,"writeData",null),(0,i._)([(0,l.e)({CIMSymbolReference:"cim"},{readOnly:!0})],f.prototype,"type",void 0),f=r=(0,i._)([(0,u.$)("esri.symbols.CIMSymbol")],f)},60939:function(e,t,n){"use strict";function r(e){return"Enter"===e||" "===e}n.d(t,{i:function(){return r},n:function(){return i}});const i=["0","1","2","3","4","5","6","7","8","9"]},60992:function(e,t,n){"use strict";n.d(t,{I:function(){return h},u:function(){return u}});var r=n(36752),i=n(62245);function o(){const{disabled:e}=this;e||HTMLElement.prototype.click.call(this)}function s(e){e.target.disabled&&e.preventDefault()}const a=["mousedown","mouseup","click"];function l(e){e.target.disabled&&(e.stopImmediatePropagation(),e.preventDefault())}const c={capture:!0};function u(e){if(e.disabled)return e.el.setAttribute("aria-disabled","true"),e.el.contains(document.activeElement)&&document.activeElement.blur(),void function(e){e.el.click=o,t=e.el,t.addEventListener("pointerdown",s,c),a.forEach((e=>t.addEventListener(e,l,c)));var t}(e);!function(e){delete e.el.click,t=e.el,t.removeEventListener("pointerdown",s,c),a.forEach((e=>t.removeEventListener(e,l,c)));var t}(e),e.el.removeAttribute("aria-disabled")}const d="interaction-container",h=({children:e,disabled:t})=>r.qy`<div class=${(0,i.CP)(d)} .inert=${t}>${e}</div>`},61064:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(25376)),a=n(26325),l=n(44153);let c=class extends i.A{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=l.A.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof l.A)return e;if(null!=e){const n=new l.A;return n.read(e,t),n}return e}clone(){return null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};(0,r._)([(0,o.MZ)()],c.prototype,"type",void 0),(0,r._)([(0,o.MZ)({readOnly:!0})],c.prototype,"cache",null),(0,r._)([(0,o.MZ)({readOnly:!0})],c.prototype,"extent",null),(0,r._)([(0,o.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c.prototype,"hasM",void 0),(0,r._)([(0,o.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c.prototype,"hasZ",void 0),(0,r._)([(0,o.MZ)({type:l.A,json:{write:!0},value:l.A.WGS84})],c.prototype,"spatialReference",void 0),(0,r._)([(0,s.w)("spatialReference")],c.prototype,"readSpatialReference",null),c=(0,r._)([(0,a.$)("esri.geometry.Geometry")],c)},61090:function(e,t,n){"use strict";n.d(t,{ED:function(){return a},Lx:function(){return d},ck:function(){return h},eF:function(){return p},eO:function(){return u},io:function(){return f},u6:function(){return l},uW:function(){return c}});var r=n(6273);const i=new WeakMap;function o(e,t,n=!1){const r=` DEPRECATED - ${t}`;if(!n)return void e.warn(r);let o=i.get(e);o||(o=new Set,i.set(e,o)),o.has(t)||(o.add(t),e.warn(r))}const s="https://www.esriurl.com/";function a(e,t,n,i={}){(0,r.A)("esri-deprecation-warnings")&&f(e,`This widget is deprecated. Use the ${t} component instead.`,{see:[`${t} component reference: ${s}${n}/`,`Esri's move to web components: ${s}components-transition-plan/`],replacement:`<${n}></${n}>`,warnOnce:!0,...i})}function l(e,t,n,i={}){(0,r.A)("esri-deprecation-warnings")&&f(e,`This view model is deprecated. Use the ${t} component directly instead.`,{see:[`${t} component reference: ${s}${n}/`,`Esri's move to web components: ${s}components-transition-plan/`],replacement:`<${n}></${n}>`,warnOnce:!0,...i})}function c(e,t,n={}){(0,r.A)("esri-deprecation-warnings")&&f(e,`Module: ${t}`,n)}function u(e,t,n={}){if((0,r.A)("esri-deprecation-warnings")){const{moduleName:r}=n;f(e,"Function: "+((r?r+"::":"")+t+"()"),n)}}function d(e,t,n={}){if((0,r.A)("esri-deprecation-warnings")){const{moduleName:r}=n;f(e,"Property: "+((r?r+"::":"")+t),n)}}function h(e,t,n,i={}){if((0,r.A)("esri-deprecation-warnings")){const{moduleName:r}=i;f(e,`'${(r?r+"::":"")+t}' value: ${n}`,i)}}function p(e,t,n={}){(0,r.A)("esri-deprecation-warnings")&&f(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...n})}function f(e,t,n={}){if((0,r.A)("esri-deprecation-warnings")){const{replacement:r,version:i,see:s,warnOnce:a}=n;let l=t;if(r&&(l+=`\n\t Replacement: ${r}`),i&&(l+=`\n\t Version: ${i}`),s)if(Array.isArray(s)){l+="\n\t See for more details:";for(const e of s)l+=`\n\t\t${e}`}else l+=`\n\t See ${s} for more details.`;o(e,l,a)}}},61574:function(e,t,n){var r,i;e.exports=(r=n(96540),i=n(9365),function(){"use strict";var e={478:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.LeftAxis=void 0,n(4694);var r=n(9155),i=n(3893);t.LeftAxis=function(e){var t=e.scale,n=e.numberOfTicks,o=void 0===n?5:n,s=e.showGridLines,a=e.shouldHide,l=e.tickFormatFunction,c=e.svgContainerData;return(0,r.useEffect)((function(){a||c&&function(){var e=c.rootGroup,n=c.dimension.width,r=(0,i.axisLeft)(t).ticks(o);s&&(r.tickSizeInner(-n),r.tickPadding(5)),l&&r.tickFormat(l);var a=(0,i.select)(e).select(".y.axis");a.size()?a.transition().call(r):(0,i.select)(e).append("g").attr("class",(function(){var e=["y","axis"];return s&&e.push("show-grid"),e.join(" ")})).call(r)}()}),[t,c,a]),null}},540:function(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},588:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AxisLeft=void 0,n(4694);var r=n(9155),i=n(3893);t.AxisLeft=function(e){var t=e.scale,n=e.tickFormatFunction,o=e.svgContainerData;return(0,r.useEffect)((function(){o&&function(){var e=o.rootGroup,r=(0,i.axisLeft)(t);n&&r.tickFormat(n);var s=(0,i.select)(e).select(".left.axis");s.size()?s.call(r):(0,i.select)(e).append("g").attr("class",(function(){return["left","axis"].join(" ")})).call(r)}()}),[t,o]),null}},785:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultipleLinesChart=void 0;var i=n(4848);n(1054);var o=n(9155),s=n(3893),a=r(n(6945)),l=n(1744),c=n(478),u=n(8096),d=n(1001),h=n(3853),p=r(n(9326)),f=n(3837),m=n(6614),y=n(7539),g=n(9777),v=n(3943);t.MultipleLinesChart=function(e){var t=e.data,n=e.showTooltip,r=e.xScaleOptions,b=void 0===r?{}:r,w=e.yScaleOptions,_=void 0===w?{}:w,S=e.bottomAxisOptions,x=void 0===S?{}:S,M=e.leftAxisOptions,A=void 0===M?{}:M,T=e.verticalReferenceLines,I=void 0===T?[]:T,C=e.horizontalReferenceLines,E=void 0===C?[]:C,k=e.referenceRectangels,P=void 0===k?[]:k,R=e.strokeWidth,O=e.width,N=e.height,L=e.margin,D=void 0===L?f.DEFAULT_MARGINS:L,F=e.onClick,j=(0,o.useState)({height:0,width:0}),Z=j[0],U=j[1],z=(0,o.useState)(),V=z[0],B=z[1],$=(0,o.useState)(),G=$[0],q=$[1],H=(0,o.useMemo)((function(){var e=Z.width,n=(null==b?void 0:b.domain)||[];if(!n.length){var r=t[0].values;n=[(0,s.min)(r,(function(e){return e.x})),(0,s.max)(r,(function(e){return e.x}))]}return(null==b?void 0:b.useTimeScale)?(0,s.scaleTime)().range([0,e]).domain(n):(0,s.scaleLinear)().range([0,e]).domain(n)}),[Z,t,b]),W=(0,o.useMemo)((function(){var e=Z.height,n=(null==_?void 0:_.domain)||[];return n.length||(n=[0,t.reduce((function(e,t){var n=t.values;return Math.max(e,(0,s.max)(n,(function(e){return e.y})))}),-1/0)]),(0,s.scaleLinear)().range([e,0]).domain(n)}),[Z,t,_]),J=(0,o.useMemo)((function(){if(!V||!n)return null;for(var e=[],r=0,i=t;r<i.length;r++){var o=i[r].values[V.index];o.tooltip&&e.push(o)}return e.sort((function(e,t){return t.y-e.y})),e.map((function(e){return e.tooltip})).join("<br/>")}),[V,t]);return(0,i.jsxs)("div",{style:{position:"relative",width:O||"100%",height:N||"100%"},onClick:function(){F&&V&&F(V.index)},children:[(0,i.jsxs)(a.default,{margin:D,dimensionOnChange:U,children:[P&&P.length?P.map((function(e){return(0,i.jsx)(v.ReferenceRectangle,{x:H(e.xMin),y:0,width:H(e.xMax)-H(e.xMin),height:Z.height},e.key)})):null,(0,i.jsx)(p.default,{xScale:H,yScale:W,width:R,data:t}),(0,i.jsx)(l.BottomAxis,{scale:H,showGridLines:null==x?void 0:x.showGridLines,numberOfTicks:null==x?void 0:x.numberOfTicks,tickFormatFunction:null==x?void 0:x.tickFormatFunction,shouldRotateTextLabels:x.shouldRotateTextLabels}),(0,i.jsx)(c.LeftAxis,{scale:W,showGridLines:A.showGridLines,numberOfTicks:A.numberOfTicks,tickFormatFunction:null==A?void 0:A.tickFormatFunction}),n?(0,i.jsx)(m.VerticalCrosshairLine,{xPosition:V?V.xPosition:null}):null,(0,i.jsx)(u.PointerEventsOverlay,{xScale:H,xDomain:t[0].values.map((function(e){return e.x})),hoveredChartItemOnChange:B}),I&&I.length?I.map((function(e){return(0,i.jsx)(y.VerticalReferenceLine,{xPosition:H(e.x),strokeColor:e.strokeColor,strokeWidth:e.strokeWidth,strokeDashArray:e.strokeDashArray,onMouseEnter:q.bind(null,e),onMouseLeave:q.bind(null,null)},e.x+"-"+Math.random().toString())})):null,E&&E.length?E.map((function(e){return(0,i.jsx)(g.HorizontalReferenceLine,{y1:W(e.y1),y2:W(e.y2),label:e.label},"".concat(e.y1,"-").concat(e.y2))})):null]}),n&&V&&(0,i.jsx)(h.Tooltip,{content:J,xPosition:V.xPosition,dimension:Z,margin:D}),G&&(0,i.jsx)(d.TooltipOnTop,{content:G.tooltip,xPosition:H(G.x),dimension:Z,margin:D})]})}},833:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GroupedBarDividerLines=void 0;var r=n(4848);n(7605);var i=n(9155),o=n(3893);t.GroupedBarDividerLines=function(e){var t=e.xScale,n=e.xScaleSubgroup,s=e.yScale,a=e.groupedData,l=e.svgContainerData,c=(0,i.useRef)(null),u=(0,i.useMemo)((function(){if(!a||!a.length)return[];var e=a[0].data.map((function(e){return e.x}));return e.push(e[e.length-1]),e.map((function(t,n){return{x:t,shoulBePlacedAtRightSide:n===e.length-1}}))}),[a]),d=(0,i.useCallback)((function(e){var t=n.step()*n.paddingInner()*.5,r=e.x;return e.shoulBePlacedAtRightSide?n(r)+n.bandwidth()+t:n(r)-t}),[n,t]);return(0,i.useEffect)((function(){l&&t&&s&&n&&(null==u?void 0:u.length)&&function(){var e=l.dimension.height,n=(0,o.select)(c.current).selectAll("text");n.size()&&n.remove();var r=(0,o.select)(c.current).selectAll("g");r.size()&&r.remove(),(0,o.select)(c.current).selectAll("g").data(a).join("g").attr("transform",(function(e){return"translate(".concat(t(e.title),", 0)")})).selectAll("line").data(u).join("line").attr("class","grouped-bar-divider-line").attr("x1",(function(e){return d(e)})).attr("y1",0).attr("x2",(function(e){return d(e)})).attr("y2",e)}()}),[t,s,u]),(0,r.jsx)("g",{ref:c,className:"grouped-bar-divider-line-group"})}},853:function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BarLineComboChart=void 0;var o=n(4848);n(1054);var s=n(9155),a=n(3893),l=i(n(6945)),c=i(n(2158)),u=n(1744),d=n(478),h=n(8096),p=n(1001),f=n(3837),m=n(6614),y=i(n(8694)),g=n(7539),v=n(9777);t.BarLineComboChart=function(e){var t,n=e.data,i=e.showTooltip,b=void 0!==i&&i,w=e.yScaleOptions,_=void 0===w?{}:w,S=e.bottomAxisOptions,x=void 0===S?{}:S,M=e.leftAxisOptions,A=void 0===M?{}:M,T=e.verticalReferenceLines,I=void 0===T?[]:T,C=e.horizontalReferenceLines,E=void 0===C?[]:C,k=e.fill,P=e.strokeColor,R=e.strokeWidth,O=e.innerPadding,N=void 0===O?.2:O,L=e.width,D=e.height,F=e.margin,j=void 0===F?f.DEFAULT_MARGINS:F,Z=(0,s.useState)({height:0,width:0}),U=Z[0],z=Z[1],V=(0,s.useState)(),B=V[0],$=V[1],G=(0,s.useState)(),q=G[0],H=G[1],W=(0,s.useMemo)((function(){return n&&n.length?n.map((function(e){return"number"==typeof e.x?e.x.toString():e.x})):[]}),[n]),J=(0,s.useMemo)((function(){var e=U.width;return(0,a.scaleBand)().paddingInner(N).range([0,e]).domain(W)}),[U,W]),K=(0,s.useMemo)((function(){var e=U.height,t=(null==_?void 0:_.domain)||[];return t.length||(t=[0,(0,a.max)(r(r([],n.map((function(e){return e.yBar})),!0),n.map((function(e){return e.yLine})),!0))]),(0,a.scaleLinear)().range([e,0]).domain(t)}),[U,n,_]);return(0,o.jsxs)("div",{style:{position:"relative",width:L||"100%",height:D||"100%"},children:[(0,o.jsxs)(l.default,{margin:j,dimensionOnChange:z,children:[(0,o.jsx)(c.default,{data:n.map((function(e){return{x:e.x,y:e.yBar}})),xScale:J,yScale:K,fill:k}),(0,o.jsx)(y.default,{xScale:J,yScale:K,data:n,stroke:P,width:R}),(0,o.jsx)(u.BottomAxis,{scale:J,showGridLines:x.showGridLines,tickValues:x.tickValues,tickFormatFunction:x.tickFormatFunction,shouldRotateTextLabels:x.shouldRotateTextLabels}),(0,o.jsx)(d.LeftAxis,{scale:K,showGridLines:A.showGridLines,numberOfTicks:A.numberOfTicks,tickFormatFunction:A.tickFormatFunction}),b?(0,o.jsx)(m.VerticalCrosshairLine,{xPosition:B?B.xPosition:null}):null,(0,o.jsx)(h.PointerEventsOverlay,{xScale:J,xDomain:W,hoveredChartItemOnChange:$}),I&&I.length?I.map((function(e){return(0,o.jsx)(g.VerticalReferenceLine,{xPosition:J(e.x)+J.bandwidth()/2,onMouseEnter:H.bind(null,e),onMouseLeave:H.bind(null,null)},e.x+"-"+Math.random().toString())})):null,E&&E.length?E.map((function(e){return(0,o.jsx)(v.HorizontalReferenceLine,{y1:K(e.y1),y2:K(e.y2),label:e.label},"".concat(e.y1,"-").concat(e.y2))})):null]}),b&&B&&(0,o.jsx)(p.TooltipOnTop,{content:null===(t=n[B.index])||void 0===t?void 0:t.tooltip,xPosition:B.xPosition,dimension:U,margin:j}),q&&(0,o.jsx)(p.TooltipOnTop,{content:q.tooltip,xPosition:J(q.x)+J.bandwidth()/2,dimension:U,margin:j})]})}},1001:function(e,t,n){var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&i(t,e,n[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipOnTop=void 0;var a=n(4848),l=s(n(9155));t.TooltipOnTop=function(e){var t=e.content,n=e.dimension,r=e.xPosition,i=e.margin,o=l.default.useRef(null),s=l.default.useState({top:0,left:0}),c=s[0],u=s[1];return(0,l.useEffect)((function(){null!==r&&null!==t&&function(){var e=o.current;if(e){var t=n.width,s=i.left,a=t+i.left,l=e.offsetWidth,c=-(e.offsetHeight-i.top),d=r+i.left-l/2;d=Math.max(d,s),d=Math.min(d,a-l),u({top:c,left:d})}}()}),[r,t]),t?(0,a.jsx)("div",{ref:o,style:{position:"absolute",left:"".concat(c.left,"px"),top:"".concat(c.top,"px"),padding:".1rem .2rem",pointerEvents:"none",boxSizing:"border-box",boxShadow:"0 0 5px 2px var(--tooltip-dropshadow-color)",maxWidth:"var(--tooltip-max-width)",zIndex:5,background:"var(--tooltip-background-color)",color:"var(--tooltip-text-color)",fontSize:"var(--tooltip-text-font-size)",border:"solid 1px var(--tooltip-border-color)"},dangerouslySetInnerHTML:{__html:t}}):null}},1009:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalBarChart=void 0;var i=n(4848);n(1054);var o=n(9155),s=n(3893),a=r(n(6945)),l=r(n(5342)),c=n(3837),u=n(588),d=n(2474);t.HorizontalBarChart=function(e){var t=e.data,n=e.xScaleOptions,r=void 0===n?{}:n,h=e.leftAxisOptions,p=void 0===h?{}:h,f=e.bottomAxisOptions,m=void 0===f?{}:f,y=e.fill,g=e.innerPadding,v=void 0===g?.2:g,b=e.width,w=e.height,_=e.margin,S=void 0===_?c.DEFAULT_MARGINS:_,x=(0,o.useState)({height:0,width:0}),M=x[0],A=x[1],T=(0,o.useMemo)((function(){return t&&t.length?t.map((function(e){return"number"==typeof e.y?e.y.toString():e.y})):[]}),[t]),I=(0,o.useMemo)((function(){var e=M.width,n=r.domain||[];return n.length||(n=[0,t&&t.length?(0,s.max)(t,(function(e){return e.x})):0]),(0,s.scaleLinear)().range([0,e]).domain(n)}),[M,t]),C=(0,o.useMemo)((function(){var e=M.height;return(0,s.scaleBand)().paddingInner(v).range([0,e]).domain(T)}),[M,T]);return(0,i.jsx)("div",{style:{position:"relative",width:b||"100%",height:w||"100%"},children:(0,i.jsxs)(a.default,{margin:S,dimensionOnChange:A,children:[(0,i.jsx)(l.default,{data:t,xScale:I,yScale:C,fill:y}),(0,i.jsx)(u.AxisLeft,{scale:C,tickFormatFunction:null==p?void 0:p.tickFormatFunction}),(0,i.jsx)(d.AxisBottom,{scale:I,showGridLines:m.showGridLines,numberOfTicks:m.numberOfTicks,tickFormatFunction:m.tickFormatFunction})]})})}},1043:function(e,t,n){n.r(t);var r=n(5072),i=n.n(r),o=n(7825),s=n.n(o),a=n(7659),l=n.n(a),c=n(5056),u=n.n(c),d=n(540),h=n.n(d),p=n(1113),f=n.n(p),m=n(2648),y={};y.styleTagTransform=f(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=h(),i()(m.A,y),t.default=m.A&&m.A.locals?m.A.locals:void 0},1054:function(e,t,n){n.r(t);var r=n(5072),i=n.n(r),o=n(7825),s=n.n(o),a=n(7659),l=n.n(a),c=n(5056),u=n.n(c),d=n(540),h=n.n(d),p=n(1113),f=n.n(p),m=n(5759),y={};y.styleTagTransform=f(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=h(),i()(m.A,y),t.default=m.A&&m.A.locals?m.A.locals:void 0},1113:function(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1150:function(e,t,n){var r=n(1601),i=n.n(r),o=n(6314),s=n.n(o)()(i());s.push([e.id,".horizontal-reference-line-group {\r\n    pointer-events: none;\r\n}\r\n\r\n.horizontal-reference-line-group line {\r\n    pointer-events: none;\r\n    stroke: var(--horizontal-reference-line-color);\r\n    /* stroke-width: var(--horizontal-reference-line-width); */\r\n    stroke-dasharray: var(--horizontal-reference-line-stroke-dasharray);\r\n}\r\n\r\n.horizontal-reference-line-group text {\r\n    font-size: var(--horizontal-reference-line-label-text-size);\r\n    fill: var(--horizontal-reference-line-label-text-color);\r\n}",""]),t.A=s},1601:function(e){e.exports=function(e){return e[1]}},1744:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BottomAxis=void 0,n(4694);var r=n(9155),i=n(3893);t.BottomAxis=function(e){var t=e.scale,n=e.showGridLines,o=e.numberOfTicks,s=e.tickValues,a=e.shouldRotateTextLabels,l=e.tickFormatFunction,c=e.svgContainerData;return(0,r.useEffect)((function(){c&&function(){var e=c.rootGroup,r=c.dimension.height,u=(0,i.axisBottom)(t);n&&(u.tickSizeInner(-r),u.tickPadding(6)),s&&u.tickValues(s),o&&u.ticks(o),l&&u.tickFormat(l);var d=(0,i.select)(e).select(".x.axis");d.size()?d.attr("transform","translate(0, ".concat(r,")")).transition().call(u):(0,i.select)(e).append("g").attr("class",(function(){var e=["x","axis"];return n&&e.push("show-grid"),e.join(" ")})).attr("transform","translate(0,".concat(r,")")).call(u),a&&(0,i.select)(e).selectAll(".x.axis text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)")}()}),[t,c]),null}},1790:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GroupedBars=void 0;var r=n(4848),i=n(9155),o=n(3893);t.GroupedBars=function(e){var t=e.xScale,n=e.xScaleSubgroup,s=e.yScale,a=e.groupedData,l=e.svgContainerData,c=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e,r;l&&t&&s&&n&&a&&(e=l.dimension.height,(r=(0,o.select)(c.current).selectAll("g")).size()&&r.remove(),(0,o.select)(c.current).selectAll("g").data(a).join("g").attr("transform",(function(e){return"translate(".concat(t(e.title),", 0)")})).selectAll("rect").data((function(e){return e.data})).join("rect").attr("x",(function(e){return n(e.x)})).attr("y",(function(e){return s(e.y)})).attr("width",n.bandwidth()).attr("height",(function(t){return e-s(t.y)})).attr("fill",(function(e){return e.fill||"steelblue"})))}),[t,n,s,a]),(0,r.jsx)("g",{ref:c,className:"grouped-bars-group"})}},1905:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AreaChart=void 0;var i=n(4848);n(1054);var o=n(9155),s=n(3893),a=r(n(6945)),l=n(1744),c=n(478),u=n(8096),d=n(1001),h=n(4405),p=n(3837),f=n(6614),m=n(7539),y=n(9777);t.AreaChart=function(e){var t,n=e.data,r=e.fill,g=e.showTooltip,v=e.xScaleOptions,b=void 0===v?{}:v,w=e.yScaleOptions,_=void 0===w?{}:w,S=e.bottomAxisOptions,x=void 0===S?{}:S,M=e.leftAxisOptions,A=void 0===M?{}:M,T=e.verticalReferenceLines,I=void 0===T?[]:T,C=e.horizontalReferenceLines,E=void 0===C?[]:C,k=e.width,P=e.height,R=e.margin,O=void 0===R?p.DEFAULT_MARGINS:R,N=(0,o.useState)({height:0,width:0}),L=N[0],D=N[1],F=(0,o.useState)(),j=F[0],Z=F[1],U=(0,o.useState)(),z=U[0],V=U[1],B=(0,o.useMemo)((function(){var e=L.width,t=[(0,s.min)(n,(function(e){return e.x})),(0,s.max)(n,(function(e){return e.x}))];return(null==b?void 0:b.useTimeScale)?(0,s.scaleTime)().range([0,e]).domain(t):(0,s.scaleLinear)().range([0,e]).domain(t)}),[L,n,b]),$=(0,o.useMemo)((function(){var e=L.height,t=(null==_?void 0:_.domain)||[];return t.length||(t=[0,n&&n.length?(0,s.max)(n,(function(e){return e.y})):0]),(0,s.scaleLinear)().range([e,0]).domain(t)}),[L,n,_]);return(0,i.jsxs)("div",{style:{position:"relative",width:k||"100%",height:P||"100%"},children:[(0,i.jsxs)(a.default,{margin:O,dimensionOnChange:D,children:[(0,i.jsx)(h.Area,{xScale:B,yScale:$,data:n,fill:r}),(0,i.jsx)(l.BottomAxis,{scale:B,showGridLines:null==x?void 0:x.showGridLines,numberOfTicks:null==x?void 0:x.numberOfTicks,tickFormatFunction:null==x?void 0:x.tickFormatFunction,shouldRotateTextLabels:x.shouldRotateTextLabels}),(0,i.jsx)(c.LeftAxis,{scale:$,showGridLines:A.showGridLines,numberOfTicks:A.numberOfTicks,tickFormatFunction:null==A?void 0:A.tickFormatFunction}),g?(0,i.jsx)(f.VerticalCrosshairLine,{xPosition:j?j.xPosition:null}):null,(0,i.jsx)(u.PointerEventsOverlay,{xScale:B,xDomain:n.map((function(e){return e.x})),hoveredChartItemOnChange:Z}),I&&I.length?I.map((function(e){return(0,i.jsx)(m.VerticalReferenceLine,{xPosition:B(e.x),onMouseEnter:V.bind(null,e),onMouseLeave:V.bind(null,null)},e.x+"-"+Math.random().toString())})):null,E&&E.length?E.map((function(e){return(0,i.jsx)(y.HorizontalReferenceLine,{y1:$(e.y1),y2:$(e.y2),label:e.label},"".concat(e.y1,"-").concat(e.y2))})):null]}),g&&j&&(0,i.jsx)(d.TooltipOnTop,{content:null===(t=n[j.index])||void 0===t?void 0:t.tooltip,xPosition:j.xPosition,dimension:L,margin:O}),z&&(0,i.jsx)(d.TooltipOnTop,{content:z.tooltip,xPosition:B(z.x),dimension:L,margin:O})]})}},2104:function(e,t,n){var r=n(1601),i=n.n(r),o=n(6314),s=n.n(o)()(i());s.push([e.id,".grouped-bar-divider-line {\r\n    stroke: var(--divider-line-color);\r\n    width: var(--divider-line-width);\r\n    pointer-events: none;\r\n}",""]),t.A=s},2158:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(4848),i=n(9155),o=n(3893);t.default=function(e){var t=e.xScale,n=e.yScale,s=e.data,a=e.svgContainerData,l=e.fill,c=void 0===l?"steelblue":l,u=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e,r;a&&t&&n&&s&&(e=a.dimension.height,(r=(0,o.select)(u.current).selectAll("rect")).size()&&r.remove(),(0,o.select)(u.current).selectAll("rect").data(s).enter().append("rect").style("fill",(function(e){return e.fill||c})).attr("x",(function(e){return"number"==typeof e.x?t(e.x.toString()):t(e.x)})).attr("width",t.bandwidth()).attr("y",(function(e){return n(e.y)})).attr("height",(function(t){return e-n(t.y)})))}),[t,n,s]),(0,r.jsx)("g",{ref:u,className:"bar-group"})}},2230:function(e,t,n){n.r(t);var r=n(5072),i=n.n(r),o=n(7825),s=n.n(o),a=n(7659),l=n.n(a),c=n(5056),u=n.n(c),d=n(540),h=n.n(d),p=n(1113),f=n.n(p),m=n(9441),y={};y.styleTagTransform=f(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=h(),i()(m.A,y),t.default=m.A&&m.A.locals?m.A.locals:void 0},2474:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AxisBottom=void 0,n(4694);var r=n(9155),i=n(3893);t.AxisBottom=function(e){var t=e.scale,n=e.numberOfTicks,o=void 0===n?5:n,s=e.showGridLines,a=e.tickFormatFunction,l=e.svgContainerData;return(0,r.useEffect)((function(){l&&function(){var e=l.rootGroup,n=l.dimension.height,r=(0,i.axisBottom)(t).ticks(o);s&&(r.tickSizeInner(-n),r.tickPadding(5)),a&&r.tickFormat(a);var c=(0,i.select)(e).select(".bottom.axis");c.size()?c.attr("transform","translate(0, ".concat(n,")")).transition().call(r):(0,i.select)(e).append("g").attr("class",(function(){var e=["bottom","axis"];return s&&e.push("show-grid"),e.join(" ")})).attr("transform","translate(0,".concat(n,")")).call(r)}()}),[t,l]),null}},2648:function(e,t,n){var r=n(1601),i=n.n(r),o=n(6314),s=n.n(o)()(i());s.push([e.id,"/* .reference-line-group {\r\n    pointer-events: none;\r\n} */\r\n\r\n.reference-rectangle-group rect {\r\n    position: relative;\r\n    pointer-events: none;\r\n    fill: var(--reference-rectangle-fill);\r\n    stroke: var(--reference-rectangle-stroke-color);\r\n    stroke-width: var(--reference-rectangle-stroke-width);\r\n}",""]),t.A=s},3029:function(e,t,n){n.r(t);var r=n(5072),i=n.n(r),o=n(7825),s=n.n(o),a=n(7659),l=n.n(a),c=n(5056),u=n.n(c),d=n(540),h=n.n(d),p=n(1113),f=n.n(p),m=n(1150),y={};y.styleTagTransform=f(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=h(),i()(m.A,y),t.default=m.A&&m.A.locals?m.A.locals:void 0},3446:function(e,t,n){n.r(t);var r=n(5072),i=n.n(r),o=n(7825),s=n.n(o),a=n(7659),l=n.n(a),c=n(5056),u=n.n(c),d=n(540),h=n.n(d),p=n(1113),f=n.n(p),m=n(8861),y={};y.styleTagTransform=f(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=h(),i()(m.A,y),t.default=m.A&&m.A.locals?m.A.locals:void 0},3837:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MARGINS=void 0,t.DEFAULT_MARGINS={top:15,right:15,bottom:30,left:30}},3853:function(e,t,n){var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&i(t,e,n[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=void 0;var a=n(4848),l=s(n(9155));t.Tooltip=function(e){var t=e.content,n=e.dimension,r=e.xPosition,i=e.margin,o=l.default.useRef(null),s=l.default.useState({top:0,left:0}),c=s[0],u=s[1];return(0,l.useEffect)((function(){null!==r&&null!==t&&function(){var e=o.current;if(e){var t=n.width,s=n.height,a=i.left,l=t+i.left,c=e.offsetWidth,d=s/2-e.offsetHeight/2,h=r+i.left,p=h+c>=l?h-(c+15):Math.max(h+15,a);u({top:d,left:p})}}()}),[r,t]),t?(0,a.jsx)("div",{ref:o,style:{position:"absolute",left:"".concat(c.left,"px"),top:"".concat(c.top,"px"),padding:".1rem .2rem",pointerEvents:"none",boxSizing:"border-box",boxShadow:"0 0 5px 2px var(--tooltip-dropshadow-color)",maxWidth:"var(--tooltip-max-width)",zIndex:5,background:"var(--tooltip-background-color)",color:"var(--tooltip-text-color)",fontSize:"var(--tooltip-text-font-size)",border:"solid 1px var(--tooltip-border-color)"},dangerouslySetInnerHTML:{__html:t}}):null}},3870:function(e,t,n){var r=n(1601),i=n.n(r),o=n(6314),s=n.n(o)()(i());s.push([e.id,".crosshair-reference-line-group {\r\n    pointer-events: none;\r\n}\r\n\r\n.crosshair-reference-line-group line {\r\n    stroke: var(--crosshair-reference-line-color);\r\n    stroke-width: var(--crosshair-reference-line-width);\r\n    stroke-dasharray: var(--crosshair-reference-line-stroke-dasharray);\r\n}",""]),t.A=s},3893:function(e){e.exports=i},3943:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ReferenceRectangle=void 0;var r=n(4848);n(1043);var i=n(9155),o=n(3893);t.ReferenceRectangle=function(e){var t=e.x,n=e.y,s=e.width,a=e.height,l=e.svgContainerData,c=(0,i.useRef)(null);return(0,i.useEffect)((function(){l&&function(){var e=l.dimension.height,r=(0,o.select)(c.current);if(r.select("rect").size()){var i=r.select("rect");i.attr("x",t),i.attr("y",n),i.attr("width",s),i.attr("height",e)}else r.append("rect").attr("x",t).attr("y",n).attr("width",s).attr("height",e)}()}),[t,n,s,a,l]),(0,r.jsx)("g",{className:"reference-rectangle-group",ref:c})}},4009:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Sparkline=void 0;var i=n(4848);n(1054);var o=n(9155),s=n(3893),a=r(n(6945)),l=r(n(4360)),c=n(3837),u=n(7539);t.Sparkline=function(e){var t=e.data,n=e.stroke,r=e.strokeWidth,d=e.width,h=e.height,p=e.margin,f=void 0===p?c.DEFAULT_MARGINS:p,m=e.verticalReferenceLines,y=(0,o.useState)({height:0,width:0}),g=y[0],v=y[1],b=(0,o.useMemo)((function(){var e=g.width;return(0,s.scaleLinear)().range([0,e]).domain([0,t.length-1])}),[g,t]),w=(0,o.useMemo)((function(){var e=g.height;return(0,s.scaleLinear)().range([e,0]).domain([(0,s.min)(t),(0,s.max)(t)])}),[g,t]);return(0,i.jsx)("div",{style:{position:"relative",width:d||"100%",height:h||"100%"},children:(0,i.jsxs)(a.default,{margin:f,dimensionOnChange:v,children:[(0,i.jsx)(l.default,{xScale:b,yScale:w,data:t,stroke:n,width:r}),m&&m.length?m.map((function(e){return(0,i.jsx)(u.VerticalReferenceLine,{xPosition:b(e.x)},e.key)})):null]})})}},4360:function(e,t,n){var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&i(t,e,n[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});var a=n(4848),l=s(n(9155)),c=n(3893);t.default=function(e){var t=e.xScale,n=e.yScale,r=e.data,i=e.svgContainerData,o=e.stroke,s=void 0===o?"steelblue":o,u=e.width,d=void 0===u?1:u,h=l.default.useRef(null),p=(0,l.useMemo)((function(){return(0,c.line)().curve(c.curveMonotoneX).x((function(e,n){return t(n)})).y((function(e){return n(e)}))}),[t,n]);return(0,l.useEffect)((function(){var e;i&&t&&n&&r&&((e=(0,c.select)(h.current).selectAll("path")).size()&&e.remove().exit(),(0,c.select)(h.current).append("path").data([r]).attr("d",p).style("fill","none").style("stroke",s).style("stroke-width",d))}),[t,n,r]),(0,a.jsx)("g",{ref:h,className:"line-group"})}},4405:function(e,t,n){var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&i(t,e,n[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.Area=void 0;var a=n(4848),l=s(n(9155)),c=n(3893);t.Area=function(e){var t=e.xScale,n=e.yScale,r=e.data,i=e.svgContainerData,o=e.fill,s=void 0===o?"skyblue":o,u=l.default.useRef(null),d=(0,l.useMemo)((function(){var e=n.domain()[0];return(0,c.area)().x((function(e){return t(e.x)})).y0(n(e)).y1((function(e){return n(e.y)}))}),[t,n]);return(0,l.useEffect)((function(){var e;i&&t&&n&&r&&((e=(0,c.select)(u.current).select("path")).size()&&e.remove().exit(),(0,c.select)(u.current).append("path").data([r]).style("fill",s).attr("d",d))}),[t,n,r]),(0,a.jsx)("g",{ref:u,className:"area-group"})}},4694:function(e,t,n){n.r(t);var r=n(5072),i=n.n(r),o=n(7825),s=n.n(o),a=n(7659),l=n.n(a),c=n(5056),u=n.n(c),d=n(540),h=n.n(d),p=n(1113),f=n.n(p),m=n(6349),y={};y.styleTagTransform=f(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=h(),i()(m.A,y),t.default=m.A&&m.A.locals?m.A.locals:void 0},4848:function(e,t,n){e.exports=n(9698)},4857:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DivergingBarChart=void 0;var o=n(4848);n(1054);var s=n(9155),a=n(3893),l=i(n(6945)),c=i(n(7911)),u=n(1744),d=n(478),h=n(8096),p=n(1001),f=n(3837),m=n(6614),y=n(6388),g=n(8226);t.DivergingBarChart=function(e){var t,n=e.data,i=e.showTooltip,v=void 0!==i&&i,b=e.showStickyLabelText,w=void 0!==b&&b,_=e.yScaleOptions,S=void 0===_?{}:_,x=e.bottomAxisOptions,M=void 0===x?{}:x,A=e.leftAxisOptions,T=void 0===A?{}:A,I=e.fill,C=e.innerPadding,E=void 0===C?.2:C,k=e.width,P=e.height,R=e.margin,O=void 0===R?f.DEFAULT_MARGINS:R,N=e.onBarClick,L=e.onBarMouseEnter,D=e.onBarMouseLeave,F=(0,s.useState)({height:0,width:0}),j=F[0],Z=F[1],U=(0,s.useState)(),z=U[0],V=U[1],B=(0,s.useMemo)((function(){return n&&n.length?n.map((function(e){return"number"==typeof e.x?e.x.toString():e.x})):[]}),[n]),$=(0,s.useMemo)((function(){var e=j.width;return(0,a.scaleBand)().paddingInner(E).range([0,e]).domain(B)}),[j,B]),G=(0,s.useMemo)((function(){var e=j.height,t=(null==S?void 0:S.domain)||[];if(!t.length){var r=n&&n.length?(0,a.max)(n,(function(e){return Math.abs(e.y)})):0;t=[0-r,r]}return(0,a.scaleLinear)().range([e,0]).domain(t)}),[j,n,S]);return(0,s.useEffect)((function(){(L||D)&&(z?L(z):D())}),[null==z?void 0:z.index]),(0,o.jsxs)("div",{style:{position:"relative",width:k||"100%",height:P||"100%"},children:[(0,o.jsxs)(l.default,{margin:O,dimensionOnChange:Z,children:[(0,o.jsx)(c.default,{data:n,xScale:$,yScale:G,fill:I}),(0,o.jsx)(y.HorizontalDividerLine,{xScale:$,yScale:G}),(0,o.jsx)(u.BottomAxis,{scale:$,showGridLines:M.showGridLines,tickValues:M.tickValues,tickFormatFunction:M.tickFormatFunction,shouldRotateTextLabels:M.shouldRotateTextLabels}),(0,o.jsx)(d.LeftAxis,r({},T,{scale:G,tickFormatFunction:T.tickFormatFunction})),w?(0,o.jsx)(g.BarLabelText,{data:n,xScale:$,yScale:G,isSticky:!0}):null,v?(0,o.jsx)(m.VerticalCrosshairLine,{xPosition:z?z.xPosition:null}):null,(0,o.jsx)(h.PointerEventsOverlay,{xScale:$,xDomain:B,hoveredChartItemOnChange:V,onClick:N})]}),v&&z&&(0,o.jsx)(p.TooltipOnTop,{content:null===(t=n[z.index])||void 0===t?void 0:t.tooltip,xPosition:z.xPosition,dimension:j,margin:O})]})}},4860:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=void 0;var i=n(4848),o=r(n(9155));t.Tooltip=function(e){var t=e.content,n=e.position,r=o.default.useRef(null);return t&&n?(0,i.jsx)("div",{ref:r,style:{position:"absolute",left:"".concat(n.x+15||0,"px"),top:"".concat(n.y+15||0,"px"),padding:".1rem .2rem",pointerEvents:"none",boxSizing:"border-box",boxShadow:"0 0 5px 2px var(--tooltip-dropshadow-color)",maxWidth:"var(--tooltip-max-width)",zIndex:5,background:"var(--tooltip-background-color)",color:"var(--tooltip-text-color)",fontSize:"var(--tooltip-text-font-size)",border:"solid 1px var(--tooltip-border-color)",whiteSpace:"nowrap"},dangerouslySetInnerHTML:{__html:t}}):null}},5056:function(e,t,n){e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},5072:function(e){var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},s=[],a=0;a<e.length;a++){var l=e[a],c=r.base?l[0]+r.base:l[0],u=o[c]||0,d="".concat(c," ").concat(u);o[c]=u+1;var h=n(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var f=i(p,r);r.byIndex=a,t.splice(a,0,{identifier:d,updater:f,references:1})}s.push(d)}return s}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=n(o[s]);t[a].references--}for(var l=r(e,i),c=0;c<o.length;c++){var u=n(o[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=l}}},5342:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(4848),i=n(9155),o=n(3893);t.default=function(e){var t=e.xScale,n=e.yScale,s=e.data,a=e.svgContainerData,l=e.fill,c=void 0===l?"steelblue":l,u=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e;a&&t&&n&&s&&((e=(0,o.select)(u.current).selectAll("rect")).size()&&e.remove(),(0,o.select)(u.current).selectAll("rect").data(s).enter().append("rect").style("fill",(function(e){return e.fill||c})).attr("x",(function(){return 0})).attr("width",(function(e){return t(e.x)})).attr("y",(function(e){return"number"==typeof e.y?n(e.y.toString()):n(e.y)})).attr("height",(function(){return n.bandwidth()})))}),[t,n,s]),(0,r.jsx)("g",{ref:u,className:"bar-group"})}},5485:function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GroupedBarChart=void 0;var o=n(4848);n(1054);var s=n(9155),a=n(3893),l=i(n(6945)),c=n(1744),u=n(478),d=n(3837),h=n(9777),p=n(1790),f=n(7074),m=n(833);t.GroupedBarChart=function(e){var t=e.groupedData,n=e.yScaleOptions,i=void 0===n?{}:n,y=e.showLabelText,g=void 0!==y&&y,v=e.showStickyLabelText,b=void 0!==v&&v,w=e.showDividerLines,_=void 0!==w&&w,S=e.leftAxisOptions,x=void 0===S?{}:S,M=e.horizontalReferenceLines,A=void 0===M?[]:M,T=e.groupPadding,I=void 0===T?.15:T,C=e.innerPadding,E=void 0===C?.05:C,k=e.width,P=e.height,R=e.margin,O=void 0===R?d.DEFAULT_MARGINS:R,N=(0,s.useState)({height:0,width:0}),L=N[0],D=N[1],F=(0,s.useMemo)((function(){return t.map((function(e){return e.title}))}),[t]),j=(0,s.useMemo)((function(){return t[0].data.map((function(e){return e.x}))}),[t]),Z=(0,s.useMemo)((function(){var e=L.width;return(0,a.scaleBand)().padding(I).range([0,e]).domain(F)}),[L,F]),U=(0,s.useMemo)((function(){return(0,a.scaleBand)().paddingInner(E).range([0,Z.bandwidth()]).domain(j)}),[L,Z,j]),z=(0,s.useMemo)((function(){var e=L.height,n=(null==i?void 0:i.domain)||[];return n.length||(n=[0,t.reduce((function(e,t){var n=t.data.map((function(e){return e.y}));return Math.max.apply(Math,r([e],n,!1))}),0)]),(0,a.scaleLinear)().range([e,0]).domain(n)}),[L,t,i]);return(0,o.jsx)("div",{style:{position:"relative",width:k||"100%",height:P||"100%"},children:(0,o.jsxs)(l.default,{margin:O,dimensionOnChange:D,children:[(0,o.jsx)(p.GroupedBars,{groupedData:t,xScale:Z,xScaleSubgroup:U,yScale:z}),(0,o.jsx)(c.BottomAxis,{scale:Z}),(0,o.jsx)(u.LeftAxis,{scale:z,showGridLines:x.showGridLines,numberOfTicks:x.numberOfTicks,shouldHide:x.shouldHide,tickFormatFunction:x.tickFormatFunction}),_?(0,o.jsx)(m.GroupedBarDividerLines,{groupedData:t,xScale:Z,xScaleSubgroup:U,yScale:z}):null,g?(0,o.jsx)(f.GroupedBarLabelText,{groupedData:t,xScale:Z,yScale:z,xScaleSubgroup:U}):null,b?(0,o.jsx)(f.GroupedBarLabelText,{groupedData:t,xScale:Z,yScale:z,xScaleSubgroup:U,isSticky:!0}):null,A&&A.length?A.map((function(e){return(0,o.jsx)(h.HorizontalReferenceLine,{y1:z(e.y1),y2:z(e.y2),label:e.label},"".concat(e.y1,"-").concat(e.y2))})):null]})})}},5685:function(e,t,n){var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&i(t,e,n[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});var a=n(4848),l=s(n(9155)),c=n(3893);t.default=function(e){var t=e.xScale,n=e.yScale,r=e.data,i=e.svgContainerData,o=e.stroke,s=void 0===o?"steelblue":o,u=e.width,d=void 0===u?1:u,h=l.default.useRef(null),p=(0,l.useMemo)((function(){return(0,c.line)().curve(c.curveMonotoneX).x((function(e){return t(e.x)})).y((function(e){return n(e.y)}))}),[t,n]);return(0,l.useEffect)((function(){var e;i&&t&&n&&r&&((e=(0,c.select)(h.current).selectAll("path")).size()&&e.remove().exit(),(0,c.select)(h.current).append("path").data([r]).attr("d",p).style("fill","none").style("stroke",s).style("stroke-width",d))}),[t,n,r]),(0,a.jsx)("g",{ref:h,className:"line-group"})}},5759:function(e,t,n){var r=n(1601),i=n.n(r),o=n(6314),s=n.n(o)()(i());s.push([e.id,":root {\r\n    /*\r\n     * variables that control the style of the axis tick line and text\r\n     */\r\n    --axis-tick-line-color: rgba(0,0,0,.5);\r\n    --axis-tick-text-color: #303030;\r\n    --axis-tick-text-font-size: 10px;\r\n\r\n    /*\r\n     * variables that control the style of the bar label text\r\n     */\r\n    --bar-label-text-color: #303030;\r\n    --bar-label-text-font-size: 10px;\r\n    /*\r\n     * this variable will be used to adjust the position of \r\n     * bar-label-text-group text element along the y axis.\r\n     */\r\n    --bar-label-text-translate-y-position: -8px;\r\n    --bar-label-text-translate-y-position-sticky: -8px;\r\n\r\n    /*\r\n     * variables that control the style of the chart tooltip\r\n     */\r\n    --tooltip-background-color: rgba(255,255,255,1);\r\n    --tooltip-text-color: #303030;\r\n    --tooltip-text-font-size: .8rem;\r\n    --tooltip-max-width: 200px;\r\n    --tooltip-border-color: transparent;\r\n    --tooltip-dropshadow-color: rgba(0,0,0,.2);\r\n\r\n    /*\r\n     * variables that control the style of crosshair reference line\r\n     */\r\n    --crosshair-reference-line-color: rgba(0,0,0,.5);\r\n    --crosshair-reference-line-width: 1px;\r\n    --crosshair-reference-line-stroke-dasharray: 1 1;\r\n\r\n    /*\r\n     * variables that control the style of user provided vertical reference line\r\n     */\r\n    --vertical-reference-line-color: rgba(50, 50, 50, .5);\r\n    --vertical-reference-line-width: 1px;\r\n    --vertical-reference-line-stroke-dasharray: none;\r\n\r\n    /*\r\n     * variables that control the style of user provided reference rectangle box\r\n     */\r\n    --reference-rectangle-fill: rgba(255,0,0,.05);\r\n    --reference-rectangle-stroke-color: rgba(0,0,0, .25);\r\n    --reference-rectangle-stroke-width: 1px;\r\n\r\n    /*\r\n     * variables that control the style of user provided horizontal reference line\r\n     */\r\n    --horizontal-reference-line-color: rgba(50, 50, 50, .5);\r\n    --horizontal-reference-line-width: 1px;\r\n    --horizontal-reference-line-stroke-dasharray: none;\r\n    --horizontal-reference-line-label-text-color: rgba(30, 30, 30, .9);\r\n    --horizontal-reference-line-label-text-size: .8rem;\r\n\r\n    /*\r\n     * variables that control the style of divider line that is used in Diverging Bar Chart and similar\r\n     */\r\n    --divider-line-color: rgba(0,0,0,.5);\r\n    --divider-line-width: 1px;\r\n}",""]),t.A=s},6314:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&s[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},6349:function(e,t,n){var r=n(1601),i=n.n(r),o=n(6314),s=n.n(o)()(i());s.push([e.id,".axis .tick text {\r\n    fill: var(--axis-tick-text-color);\r\n    font-size: var(--axis-tick-text-font-size);\r\n}\r\n\r\n.axis .tick line {\r\n    stroke: var(--axis-tick-line-color);\r\n    pointer-events: none;\r\n}\r\n\r\n.axis .domain {\r\n    stroke: var(--axis-tick-line-color);\r\n}\r\n\r\n.axis.show-grid .tick line {\r\n    stroke-dasharray: 1 1;\r\n    pointer-events: none;\r\n}",""]),t.A=s},6388:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalDividerLine=void 0;var r=n(4848),i=n(9155),o=n(3893);t.HorizontalDividerLine=function(e){var t=e.yScale,n=e.svgContainerData,s=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e,r,i;n&&(e=n.dimension.width,(i=(r=(0,o.select)(s.current)).select("line")).size()?i.attr("x1",0).attr("x2",e):r.append("line").attr("x1",0).attr("y1",t(0)).attr("x2",e).attr("y2",t(0)).attr("stroke-width","var(--divider-line-width)").attr("stroke","var(--divider-line-color)").style("fill","none"))}),[n]),(0,r.jsx)("g",{className:"divider-line-group",ref:s})}},6614:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalCrosshairLine=void 0;var r=n(4848);n(8609);var i=n(9155),o=n(3893);t.VerticalCrosshairLine=function(e){var t=e.xPosition,n=e.svgContainerData,s=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e,t;n&&(e=n.dimension.height,(t=(0,o.select)(s.current)).select("line").size()||t.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",e).style("opacity",0).attr("fill","none"))}),[n]),(0,i.useEffect)((function(){var e,n,r;s.current&&(e=(0,o.select)(s.current).select("line"),n=null!==t?1:0,r=0|t,e.attr("x1",r).attr("x2",r).style("opacity",n))}),[t]),(0,r.jsx)("g",{className:"crosshair-reference-line-group",ref:s})}},6624:function(e,t,n){var r=n(1601),i=n.n(r),o=n(6314),s=n.n(o)()(i());s.push([e.id,"/* .reference-line-group {\r\n    pointer-events: none;\r\n} */\r\n\r\n.vertical-reference-line-group line {\r\n    pointer-events: none;\r\n    stroke: var(--vertical-reference-line-color);\r\n    stroke-width: var(--vertical-reference-line-width);\r\n    stroke-dasharray: var(--vertical-reference-line-stroke-dasharray);\r\n}",""]),t.A=s},6639:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PieChart=void 0;var r=n(4848),i=n(9155),o=n(3893),s=n(4860);n(1054);var a=o.schemeSet2;t.PieChart=function(e){var t=e.data,n=e.showTooltip,l=e.isDonut,c=e.isHalfPie,u=e.width,d=e.height,h=e.onClick,p=e.onMouseEnter,f=e.onMouseLeave,m=(0,i.useRef)(null),y=(0,i.useRef)(null),g=(0,i.useRef)(null),v=(0,i.useState)(),b=v[0],w=v[1],_=(0,i.useState)(),S=_[0],x=_[1];return(0,i.useEffect)((function(){!function(){var e=m.current,r=e.offsetWidth,i=e.offsetHeight,s=(0,o.select)(g.current),u=c?r/2:Math.min(r,i)/2,d=(0,o.arc)().innerRadius(!0===l?.65*u:0).outerRadius(u),y=(0,o.pie)().value((function(e){return e.value})).sort(null);if(c){var v=.5*Math.PI;y.startAngle(-1*v).endAngle(v)}s.selectAll(".".concat("arc")).remove().exit().data(y(t)).enter().append("g").attr("class","arc").append("path").attr("d",d).attr("fill",(function(e,t){return e.data.color||a[t]})).on("click",(function(){var e=(0,o.select)(this).data()[0];h&&h(e.data)})).on("mouseenter",(function(){var e=(0,o.select)(this).data()[0];p&&p(e.data),w(e.data)})).on("mouseleave",(function(){f&&f(),w(null),x(null)})).on("mousemove",(function(e){n&&x({x:e.offsetX,y:e.offsetY})}))}()}),[t]),(0,r.jsxs)("div",{ref:m,style:{position:"relative",width:u||"100%",height:d||"100%"},children:[(0,r.jsx)("svg",{ref:y,style:{position:"relative",width:"100%",height:"100%"},children:(0,r.jsx)("g",{className:"arc-group",ref:g,style:{transform:"translate(50%, ".concat(c?"100%":"50%",")")}})}),n&&b?(0,r.jsx)(s.Tooltip,{content:null==b?void 0:b.tooltip,position:S}):null]})}},6655:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BarChartBasic=void 0;var i=n(4848);n(1054);var o=n(9155),s=n(3893),a=r(n(6945)),l=r(n(2158)),c=n(1744),u=n(478),d=n(8096),h=n(1001),p=n(3837),f=n(6614),m=n(7539),y=n(9777),g=n(8226);t.BarChartBasic=function(e){var t,n=e.data,r=e.showTooltip,v=void 0!==r&&r,b=e.yScaleOptions,w=void 0===b?{}:b,_=e.bottomAxisOptions,S=void 0===_?{}:_,x=e.leftAxisOptions,M=void 0===x?{}:x,A=e.verticalReferenceLines,T=void 0===A?[]:A,I=e.horizontalReferenceLines,C=void 0===I?[]:I,E=e.showLabelText,k=void 0!==E&&E,P=e.showStickyLabelText,R=void 0!==P&&P,O=e.fill,N=e.innerPadding,L=void 0===N?.2:N,D=e.width,F=e.height,j=e.margin,Z=void 0===j?p.DEFAULT_MARGINS:j,U=e.onBarClick,z=e.onBarMouseEnter,V=e.onBarMouseLeave,B=(0,o.useState)({height:0,width:0}),$=B[0],G=B[1],q=(0,o.useState)(),H=q[0],W=q[1],J=(0,o.useState)(),K=J[0],Y=J[1],X=(0,o.useMemo)((function(){return n&&n.length?n.map((function(e){return"number"==typeof e.x?e.x.toString():e.x})):[]}),[n]),Q=(0,o.useMemo)((function(){var e=$.width;return(0,s.scaleBand)().paddingInner(L).range([0,e]).domain(X)}),[$,X]),ee=(0,o.useMemo)((function(){var e=$.height,t=(null==w?void 0:w.domain)||[];return t.length||(t=[0,n&&n.length?(0,s.max)(n,(function(e){return e.y})):0]),(0,s.scaleLinear)().range([e,0]).domain(t)}),[$,n,w]);return(0,o.useEffect)((function(){(z||V)&&(H?z(H):V())}),[null==H?void 0:H.index]),(0,i.jsxs)("div",{style:{position:"relative",width:D||"100%",height:F||"100%"},children:[(0,i.jsxs)(a.default,{margin:Z,dimensionOnChange:G,children:[(0,i.jsx)(l.default,{data:n,xScale:Q,yScale:ee,fill:O}),(0,i.jsx)(c.BottomAxis,{scale:Q,showGridLines:S.showGridLines,tickValues:S.tickValues,tickFormatFunction:S.tickFormatFunction,shouldRotateTextLabels:S.shouldRotateTextLabels}),(0,i.jsx)(u.LeftAxis,{scale:ee,showGridLines:M.showGridLines,numberOfTicks:M.numberOfTicks,shouldHide:M.shouldHide,tickFormatFunction:M.tickFormatFunction}),k?(0,i.jsx)(g.BarLabelText,{data:n,xScale:Q,yScale:ee}):null,R?(0,i.jsx)(g.BarLabelText,{data:n,xScale:Q,yScale:ee,isSticky:!0}):null,v?(0,i.jsx)(f.VerticalCrosshairLine,{xPosition:H?H.xPosition:null}):null,(0,i.jsx)(d.PointerEventsOverlay,{xScale:Q,xDomain:X,hoveredChartItemOnChange:W,onClick:U}),T&&T.length?T.map((function(e){return(0,i.jsx)(m.VerticalReferenceLine,{xPosition:Q(e.x)+Q.bandwidth()/2,onMouseEnter:Y.bind(null,e),onMouseLeave:Y.bind(null,null)},e.x+"-"+Math.random().toString())})):null,C&&C.length?C.map((function(e){return(0,i.jsx)(y.HorizontalReferenceLine,{y1:ee(e.y1),y2:ee(e.y2),label:e.label},"".concat(e.y1,"-").concat(e.y2))})):null]}),v&&H&&(0,i.jsx)(h.TooltipOnTop,{content:null===(t=n[H.index])||void 0===t?void 0:t.tooltip,xPosition:H.xPosition,dimension:$,margin:Z}),K&&(0,i.jsx)(h.TooltipOnTop,{content:K.tooltip,xPosition:Q(K.x)+Q.bandwidth()/2,dimension:$,margin:Z})]})}},6945:function(e,t,n){var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&i(t,e,n[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});var a=n(4848),l=s(n(9155)),c=n(3893),u=n(3837);t.default=function(e){var t=e.margin,n=void 0===t?u.DEFAULT_MARGINS:t,r=e.children,i=e.dimensionOnChange,o=(0,l.useRef)(null),s=(0,l.useRef)(null),d=(0,l.useRef)(null),h=l.default.useState(),p=h[0],f=h[1],m=function(){if(o.current){var e=(0,c.select)(s.current).node(),t=(0,c.select)(d.current).node(),r=o.current,a=r.offsetWidth-n.left-n.right,l={height:r.offsetHeight-n.top-n.bottom,width:a};i&&i(l),f({svg:e,rootGroup:t,margin:n,dimension:l})}};return(0,l.useEffect)((function(){m();var e=new ResizeObserver((function(e){e[0]&&m()}));return o.current&&e.observe(o.current),function(){o.current&&e.unobserve(o.current),e.disconnect()}}),[]),(0,a.jsx)("div",{ref:o,style:{position:"relative",width:"100%",height:"100%"},children:(0,a.jsx)("svg",{ref:s,style:{position:"relative",width:"100%",height:"100%"},children:(0,a.jsx)("g",{ref:d,style:{transform:"translate(".concat(n.left,"px, ").concat(n.top,"px)")},children:p?l.default.Children.map(r,(function(e){return e?l.default.cloneElement(e,{svgContainerData:p}):null})):null})})})}},7074:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GroupedBarLabelText=void 0;var r=n(4848);n(2230);var i=n(9155),o=n(3893);t.GroupedBarLabelText=function(e){var t=e.xScale,n=e.xScaleSubgroup,s=e.yScale,a=e.groupedData,l=e.svgContainerData,c=e.isSticky,u=(0,i.useRef)(null);return(0,i.useEffect)((function(){l&&t&&s&&n&&a&&function(){var e=(0,o.select)(u.current).selectAll("text");e.size()&&e.remove();var r=(0,o.select)(u.current).selectAll("g");r.size()&&r.remove(),(0,o.select)(u.current).selectAll("g").data(a).join("g").attr("transform",(function(e){return"translate(".concat(t(e.title),", 0)")})).selectAll("text").data((function(e){return e.data})).join("text").attr("class",(function(){return c?"is-sticky":""})).text((function(e){return c?e.labelOnTop||e.label:e.label||""})).attr("x",(function(e){return n(e.x)+n.bandwidth()/2})).attr("y",(function(e){return c?0:s(e.y)})).attr("text-anchor","middle")}()}),[t,s,a]),(0,r.jsx)("g",{ref:u,className:"grouped-bar-label-text-group"})}},7539:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalReferenceLine=void 0;var r=n(4848);n(9463);var i=n(9155),o=n(3893);t.VerticalReferenceLine=function(e){var t=e.xPosition,n=e.strokeColor,s=e.strokeWidth,a=e.strokeDashArray,l=e.svgContainerData,c=e.onMouseEnter,u=e.onMouseLeave,d=(0,i.useRef)(null),h=(0,i.useMemo)((function(){var e={};return n&&(e["--vertical-reference-line-color"]=n),s&&(e["--vertical-reference-line-width"]=s),a&&(e["--vertical-reference-line-stroke-dasharray"]=a),e}),[n,s,a]);return(0,i.useEffect)((function(){var e,n,r,i;l&&(e=l.dimension.height,r=(n=(0,o.select)(d.current)).select("line"),i=0|t,r.size()?(n.select("line").attr("x1",i).attr("x2",i),n.select("rect").attr("x",i-8)):(n.append("line").attr("x1",i).attr("y1",0).attr("x2",i).attr("y2",e).attr("fill","none"),c&&u&&n.append("rect").attr("x",i-8).attr("y",0).attr("width",16).attr("height",e).attr("fill","transparent").on("mouseenter",(function(){c()})).on("mouseleave",(function(){u()}))))}),[t,l]),(0,r.jsx)("g",{className:"vertical-reference-line-group",style:h,ref:d})}},7563:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LineChartBasic=void 0;var i=n(4848);n(1054);var o=n(9155),s=n(3893),a=r(n(6945)),l=n(1744),c=n(478),u=n(8096),d=n(1001),h=r(n(5685)),p=n(3837),f=n(6614),m=n(7539),y=n(9777);t.LineChartBasic=function(e){var t,n=e.data,r=e.stroke,g=e.strokeWidth,v=e.showTooltip,b=e.xScaleOptions,w=void 0===b?{}:b,_=e.yScaleOptions,S=void 0===_?{}:_,x=e.bottomAxisOptions,M=void 0===x?{}:x,A=e.leftAxisOptions,T=void 0===A?{}:A,I=e.verticalReferenceLines,C=void 0===I?[]:I,E=e.horizontalReferenceLines,k=void 0===E?[]:E,P=e.width,R=e.height,O=e.margin,N=void 0===O?p.DEFAULT_MARGINS:O,L=e.onClick,D=(0,o.useState)({height:0,width:0}),F=D[0],j=D[1],Z=(0,o.useState)(),U=Z[0],z=Z[1],V=(0,o.useState)(),B=V[0],$=V[1],G=(0,o.useMemo)((function(){var e=F.width,t=(null==w?void 0:w.domain)||[];return t.length||(t=[(0,s.min)(n,(function(e){return e.x})),(0,s.max)(n,(function(e){return e.x}))]),(null==w?void 0:w.useTimeScale)?(0,s.scaleTime)().range([0,e]).domain(t):(0,s.scaleLinear)().range([0,e]).domain(t)}),[F,n,w]),q=(0,o.useMemo)((function(){var e=F.height,t=(null==S?void 0:S.domain)||[];return t.length||(t=[0,n&&n.length?(0,s.max)(n,(function(e){return e.y})):0]),(0,s.scaleLinear)().range([e,0]).domain(t)}),[F,n,S]);return(0,i.jsxs)("div",{style:{position:"relative",width:P||"100%",height:R||"100%"},onClick:function(){L&&U&&L(U.index)},children:[(0,i.jsxs)(a.default,{margin:N,dimensionOnChange:j,children:[(0,i.jsx)(h.default,{xScale:G,yScale:q,data:n,stroke:r,width:g}),(0,i.jsx)(l.BottomAxis,{scale:G,showGridLines:null==M?void 0:M.showGridLines,numberOfTicks:null==M?void 0:M.numberOfTicks,tickFormatFunction:null==M?void 0:M.tickFormatFunction,shouldRotateTextLabels:M.shouldRotateTextLabels}),(0,i.jsx)(c.LeftAxis,{scale:q,showGridLines:T.showGridLines,numberOfTicks:T.numberOfTicks,tickFormatFunction:null==T?void 0:T.tickFormatFunction}),v?(0,i.jsx)(f.VerticalCrosshairLine,{xPosition:U?U.xPosition:null}):null,(0,i.jsx)(u.PointerEventsOverlay,{xScale:G,xDomain:n.map((function(e){return e.x})),hoveredChartItemOnChange:z}),C&&C.length?C.map((function(e){return(0,i.jsx)(m.VerticalReferenceLine,{xPosition:G(e.x),onMouseEnter:$.bind(null,e),onMouseLeave:$.bind(null,null)},e.x+"-"+Math.random().toString())})):null,k&&k.length?k.map((function(e){return(0,i.jsx)(y.HorizontalReferenceLine,{y1:q(e.y1),y2:q(e.y2),label:e.label},"".concat(e.y1,"-").concat(e.y2))})):null]}),v&&U&&(0,i.jsx)(d.TooltipOnTop,{content:null===(t=n[U.index])||void 0===t?void 0:t.tooltip,xPosition:U.xPosition,dimension:F,margin:N}),B&&(0,i.jsx)(d.TooltipOnTop,{content:B.tooltip,xPosition:G(B.x),dimension:F,margin:N})]})}},7605:function(e,t,n){n.r(t);var r=n(5072),i=n.n(r),o=n(7825),s=n.n(o),a=n(7659),l=n.n(a),c=n(5056),u=n.n(c),d=n(540),h=n.n(d),p=n(1113),f=n.n(p),m=n(2104),y={};y.styleTagTransform=f(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=h(),i()(m.A,y),t.default=m.A&&m.A.locals?m.A.locals:void 0},7659:function(e){var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},7825:function(e){e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},7911:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(4848),i=n(9155),o=n(3893);t.default=function(e){var t=e.xScale,n=e.yScale,s=e.data,a=e.svgContainerData,l=e.fill,c=void 0===l?"steelblue":l,u=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e;a&&t&&n&&s&&((e=(0,o.select)(u.current).selectAll("rect")).size()&&e.remove(),(0,o.select)(u.current).selectAll("rect").data(s).enter().append("rect").style("fill",(function(e){return e.fill||c})).attr("x",(function(e){return"number"==typeof e.x?t(e.x.toString()):t(e.x)})).attr("width",t.bandwidth()).attr("y",(function(e){return n(Math.max(0,e.y))})).attr("height",(function(e){return Math.abs(n(e.y)-n(0))})))}),[t,n,s]),(0,r.jsx)("g",{ref:u,className:"bar-group"})}},8096:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PointerEventsOverlay=void 0;var r=n(4848),i=n(9155),o=n(3893);t.PointerEventsOverlay=function(e){var t=e.xScale,n=e.xDomain,s=e.svgContainerData,a=e.hoveredChartItemOnChange,l=e.onClick,c=(0,i.useRef)(null),u=(0,i.useRef)(null),d=(0,i.useRef)(null),h=function(e){var t=f(e);a(t)},p=function(e){var t=u.current,n="bandwidth"in t?t.bandwidth()/2:0;return"bandwidth"in t?t(e)+n:t(+e)},f=function(e){if(!e)return null;var t=s.margin,n=d.current;e-=t.left;for(var r=0,i=n.length-1;r<i;){if(i-r<=1){var o=n[r],a=n[i];Math.abs(e-p(o))<=Math.abs(e-p(a))?i--:r++}var l=Math.floor((i-r)/2)+r;e<=p(n[l])?i=l:r=l}return{index:r,xPosition:p(n[r])}};return(0,i.useEffect)((function(){var e,t,n,r;s&&(t=(e=s.dimension).height,n=e.width,(r=(0,o.select)(c.current)).select("rect").remove(),r.append("rect").attr("width",n).attr("height",t).attr("fill","rgba(0,0,0,0)").on("mouseleave",(function(){h(null)})).on("mousemove",(function(e){h(e.offsetX)})).on("click",(function(e){if(l){var t=f(e.offsetX);l(t)}})))}),[s]),(0,i.useEffect)((function(){t&&(u.current=t),n&&(d.current=n)}),[t,n]),(0,r.jsx)("g",{className:"pointer-event-overlay-group",ref:c})}},8226:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BarLabelText=void 0;var r=n(4848);n(3446);var i=n(9155),o=n(3893);t.BarLabelText=function(e){var t=e.xScale,n=e.yScale,s=e.data,a=e.svgContainerData,l=e.isSticky,c=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e;a&&t&&n&&s&&((e=(0,o.select)(c.current).selectAll("text")).size()&&e.remove(),(0,o.select)(c.current).selectAll("text").data(s).enter().append("text").attr("class",(function(){return l?"is-sticky":""})).text((function(e){return l?e.labelOnTop||e.label:e.label||""})).attr("x",(function(e){return t(e.x)+t.bandwidth()/2})).attr("y",(function(e){return l?0:n(e.y)})).attr("text-anchor","middle"))}),[t,n,s]),(0,r.jsx)("g",{ref:c,className:"bar-label-text-group"})}},8609:function(e,t,n){n.r(t);var r=n(5072),i=n.n(r),o=n(7825),s=n.n(o),a=n(7659),l=n.n(a),c=n(5056),u=n.n(c),d=n(540),h=n.n(d),p=n(1113),f=n.n(p),m=n(3870),y={};y.styleTagTransform=f(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=h(),i()(m.A,y),t.default=m.A&&m.A.locals?m.A.locals:void 0},8694:function(e,t,n){var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&i(t,e,n[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});var a=n(4848),l=s(n(9155)),c=n(3893);t.default=function(e){var t=e.xScale,n=e.yScale,r=e.data,i=e.svgContainerData,o=e.stroke,s=void 0===o?"orange":o,u=e.width,d=void 0===u?1:u,h=l.default.useRef(null),p=(0,l.useMemo)((function(){return t.bandwidth()/2}),[t]),f=(0,l.useMemo)((function(){return(0,c.line)().curve(c.curveMonotoneX).x((function(e){return"number"==typeof e.x?t(e.x.toString())+p:t(e.x)+p})).y((function(e){return n(e.yLine)}))}),[t,n]);return(0,l.useEffect)((function(){var e;i&&t&&n&&r&&((e=(0,c.select)(h.current).selectAll("path")).size()&&e.remove().exit(),(0,c.select)(h.current).append("path").data([r]).attr("d",f).style("fill","none").style("stroke",s).style("stroke-width",d))}),[t,n,r]),(0,a.jsx)("g",{ref:h,className:"line-group"})}},8861:function(e,t,n){var r=n(1601),i=n.n(r),o=n(6314),s=n.n(o)()(i());s.push([e.id,".bar-label-text-group text{\r\n    fill: var(--bar-label-text-color);\r\n    font-size: var(--bar-label-text-font-size);\r\n    transform: translateY(var(--bar-label-text-translate-y-position))\r\n}\r\n\r\n.bar-label-text-group text.is-sticky {\r\n    transform: translateY(var(--bar-label-text-translate-y-position-sticky))\r\n}",""]),t.A=s},9155:function(e){e.exports=r},9326:function(e,t,n){var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&i(t,e,n[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});var a=n(4848),l=s(n(9155)),c=n(3893);t.default=function(e){var t=e.xScale,n=e.yScale,r=e.data,i=e.svgContainerData,o=e.width,s=void 0===o?1:o,u=l.default.useRef(null),d=(0,l.useMemo)((function(){return(0,c.line)().curve(c.curveMonotoneX).x((function(e){return t(e.x)})).y((function(e){return n(e.y)}))}),[t,n]);return(0,l.useEffect)((function(){var e;i&&t&&n&&r&&((e=(0,c.select)(u.current).selectAll("path")).size()&&e.remove().exit(),(0,c.select)(u.current).selectAll(".line").data(r).enter().append("path").attr("fill","none").attr("stroke",(function(e){return e.fill})).attr("stroke-width",s).style("stroke-dasharray",(function(e){return e.dashPattern||"none"})).attr("d",(function(e){return d(e.values)})))}),[t,n,r,i]),(0,a.jsx)("g",{ref:u,className:"multiple-lines-group"})}},9441:function(e,t,n){var r=n(1601),i=n.n(r),o=n(6314),s=n.n(o)()(i());s.push([e.id,".grouped-bar-label-text-group text{\r\n    fill: var(--bar-label-text-color);\r\n    font-size: var(--bar-label-text-font-size);\r\n    transform: translateY(var(--bar-label-text-translate-y-position))\r\n}\r\n\r\n.grouped-bar-label-text-group text.is-sticky {\r\n    transform: translateY(var(--bar-label-text-translate-y-position-sticky))\r\n}",""]),t.A=s},9463:function(e,t,n){n.r(t);var r=n(5072),i=n.n(r),o=n(7825),s=n.n(o),a=n(7659),l=n.n(a),c=n(5056),u=n.n(c),d=n(540),h=n.n(d),p=n(1113),f=n.n(p),m=n(6624),y={};y.styleTagTransform=f(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=h(),i()(m.A,y),t.default=m.A&&m.A.locals?m.A.locals:void 0},9698:function(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},9777:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalReferenceLine=void 0;var r=n(4848);n(3029);var i=n(9155),o=n(3893);t.HorizontalReferenceLine=function(e){var t=e.y1,n=e.y2,s=e.label,a=e.svgContainerData,l=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e,r,i,c;a&&(e=a.dimension.width,i=(r=(0,o.select)(l.current)).select("line"),c=n||0,i.size()?(r.select("line").attr("y1",t).attr("y2",n),s&&r.select("text").attr("y",c-5).text(s)):(r.append("line").attr("x1",0).attr("y1",t).attr("x2",e).attr("y2",n).attr("fill","none"),s&&r.append("text").attr("x",e-5).attr("y",c-5).attr("text-anchor","end").text(s)))}),[t,n,s,a]),(0,r.jsx)("g",{className:"horizontal-reference-line-group",ref:l})}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var o={};return function(){var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.GroupedBarChart=e.Sparkline=e.PieChart=e.MultipleLinesChart=e.LineChartBasic=e.HorizontalBarChart=e.DivergingBarChart=e.BarLineComboChart=e.BarChartBasic=e.AreaChart=void 0;var t=n(6655);Object.defineProperty(e,"BarChartBasic",{enumerable:!0,get:function(){return t.BarChartBasic}});var r=n(853);Object.defineProperty(e,"BarLineComboChart",{enumerable:!0,get:function(){return r.BarLineComboChart}});var i=n(4857);Object.defineProperty(e,"DivergingBarChart",{enumerable:!0,get:function(){return i.DivergingBarChart}});var s=n(7563);Object.defineProperty(e,"LineChartBasic",{enumerable:!0,get:function(){return s.LineChartBasic}});var a=n(4009);Object.defineProperty(e,"Sparkline",{enumerable:!0,get:function(){return a.Sparkline}});var l=n(1009);Object.defineProperty(e,"HorizontalBarChart",{enumerable:!0,get:function(){return l.HorizontalBarChart}});var c=n(6639);Object.defineProperty(e,"PieChart",{enumerable:!0,get:function(){return c.PieChart}});var u=n(1905);Object.defineProperty(e,"AreaChart",{enumerable:!0,get:function(){return u.AreaChart}});var d=n(785);Object.defineProperty(e,"MultipleLinesChart",{enumerable:!0,get:function(){return d.MultipleLinesChart}});var h=n(5485);Object.defineProperty(e,"GroupedBarChart",{enumerable:!0,get:function(){return h.GroupedBarChart}})}(),o}())},61793:function(e,t,n){"use strict";n.d(t,{A7:function(){return c},Cx:function(){return u},Hk:function(){return d},JJ:function(){return m},SF:function(){return h},UK:function(){return l},jM:function(){return p},x3:function(){return f}});n(6273);var r=n(55736),i=n(24826),o=n(68231),s=n(31864),a=n(51103);const l=o.A.fromJSON(a.Cb),c=i.A.fromJSON(a.yM),u=r.A.fromJSON(a.WR),d=s.A.fromJSON(a.JZ);function h(e){if(null==e)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return l;case"polyline":return c;case"polygon":case"extent":return u}return null}const p=o.A.fromJSON(a.nC),f=i.A.fromJSON(a.HW),m=r.A.fromJSON(a.b6)},61842:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(85716)),a=n(25376),l=n(26325),c=n(81327),u=n(4068),d=n(41394);let h=class extends c.A{static{r=this}constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return null!=e?e:null==t.height&&null!=t.size?t.size:void 0}readHeight(e,t){return null!=e?e:null==t.width&&null!=t.size?t.size:void 0}clone(){return new r({enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,i._)([(0,o.MZ)({type:u.N,json:{write:!0}})],h.prototype,"material",void 0),(0,i._)([(0,o.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],h.prototype,"castShadows",void 0),(0,i._)([(0,s.e)({Path:"path"},{readOnly:!0})],h.prototype,"type",void 0),(0,i._)([(0,o.MZ)({type:["circle","quad"],json:{write:!0,default:"circle"}})],h.prototype,"profile",void 0),(0,i._)([(0,o.MZ)({type:d.e,json:{write:!0,default:"miter"}})],h.prototype,"join",void 0),(0,i._)([(0,o.MZ)({type:d.Nv,json:{write:!0,default:"butt"}})],h.prototype,"cap",void 0),(0,i._)([(0,o.MZ)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],h.prototype,"width",void 0),(0,i._)([(0,a.w)("width",["width","size","height"])],h.prototype,"readWidth",null),(0,i._)([(0,o.MZ)({type:Number,json:{write:!0}})],h.prototype,"height",void 0),(0,i._)([(0,a.w)("height",["height","size","width"])],h.prototype,"readHeight",null),(0,i._)([(0,o.MZ)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],h.prototype,"anchor",void 0),(0,i._)([(0,o.MZ)({type:["heading","all"],json:{write:!0,default:"all"}})],h.prototype,"profileRotation",void 0),h=r=(0,i._)([(0,l.$)("esri.symbols.PathSymbol3DLayer")],h)},61845:function(e,t,n){"use strict";n.d(t,{BI:function(){return y},D3:function(){return f},XJ:function(){return m},lc:function(){return p},mX:function(){return v},rU:function(){return g},tH:function(){return x}});var r=n(21332);const i="__begin__",o="__end__",s=new RegExp(i,"ig"),a=new RegExp(o,"ig"),l=new RegExp("^"+i,"i"),c=new RegExp(o+"$","i"),u='"',d=u+" + ",h=" + "+u;function p(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function f(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function m(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=p(e.labelExpression),t.type="conventional"),t}function y(e){const t=m(e);if(!t)return null;switch(t.type){case"conventional":return v(t.expression);case"arcade":return t.expression}return null}function g(e){const t=m(e);if(!t)return null;switch(t.type){case"conventional":return function(e){const t=e?.match(b);return t?.[1].trim()||null}(t.expression);case"arcade":return x(t.expression)}return null}function v(e){let t;return e?(t=(0,r.HC)(e,(e=>i+'$feature["'+e+'"]'+o)),t=l.test(t)?t.replace(l,""):u+t,t=c.test(t)?t.replace(c,""):t+u,t=t.replaceAll(s,d).replaceAll(a,h)):t='""',t}const b=/^\s*\{([^}]+)\}\s*$/i;const w=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,_=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,S=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function x(e){if(!e)return null;let t=w.exec(e)||_.exec(e);return t?t[1]||t[3]:(t=S.exec(e),t?t[2]:null)}},61882:function(e,t,n){"use strict";var r=n(2383),i=n(53098);t.A=function(e){return"symbol"==typeof e||(0,i.A)(e)&&"[object Symbol]"==(0,r.A)(e)}},61985:function(e,t,n){"use strict";n.d(t,{C1:function(){return g},C_:function(){return p},OH:function(){return v},Oo:function(){return h},Vh:function(){return b},on:function(){return d},pc:function(){return w},wB:function(){return l},z7:function(){return c}});var r=n(92840),i=n(70214),o=n(57725),s=n(37623),a=n(10319);n(89370);function l(e,t,n={}){return u(e,t,n,m)}function c(e,t,n={}){return u(e,t,n,y)}function u(e,t,n={},r){let i=null;const s=n.once?(e,n)=>{r(e)&&((0,o.xt)(i),t(e,n))}:(e,n)=>{r(e)&&t(e,n)};if(i=(0,a.Cn)(e,s,n.sync,n.equals),n.initial){const t=e();s(t,t)}return i}function d(e,t,n,s={}){let a=null,c=null,u=null;function d(){a&&c&&(c.remove(),s.onListenerRemove?.(a),a=null,c=null)}function h(e){s.once&&s.once&&(0,o.xt)(u),n(e)}const p=l(e,((e,n)=>{d(),(0,r.wb)(e)&&(a=e,c=(0,r.on)(e,t,h),s.onListenerAdd?.(e))}),{sync:s.sync,initial:!0});return u=(0,i.hA)((()=>{p.remove(),d()})),u}function h(e,t){return f(e,null,t)}function p(e,t){return f(e,y,t)}function f(e,t,n){if((0,s.G4)(n))return Promise.reject((0,s.NK)());const r=e();if(t?.(r))return Promise.resolve(r);let a=null;function l(){a=(0,o.xt)(a)}return new Promise(((r,o)=>{a=(0,i.vE)([(0,s.u7)(n,(()=>{l(),o((0,s.NK)())})),u(e,(e=>{l(),r(e)}),{sync:!1,once:!0},t??m)])}))}function m(e){return!0}function y(e){return!!e}function g(e,t,n={}){let r=!1;const i=l(e,((e,n)=>{r||t(e,n)}),n);return{remove(){i.remove()},pause(){r=!0},resume(){r=!1}}}const v={sync:!0},b={initial:!0},w={sync:!0,initial:!0}},62073:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r,i=n(82392),o=n(15565),s=n(81482),a=(n(6273),n(80861),n(26325)),l=n(25758),c=n(77023);let u=r=class extends c.A{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new r({colorRamps:(0,o.o8)(this.colorRamps)})}};(0,i._)([(0,s.MZ)({type:[l.A],json:{write:!0}})],u.prototype,"colorRamps",void 0),(0,i._)([(0,s.MZ)({type:["multipart"]})],u.prototype,"type",void 0),u=r=(0,i._)([(0,a.$)("esri.rest.support.MultipartColorRamp")],u)},62088:function(e,t,n){"use strict";n.d(t,{IY:function(){return a},JI:function(){return y},LW:function(){return d},PI:function(){return b},UR:function(){return s},XJ:function(){return u},_G:function(){return c},a3:function(){return v},aI:function(){return p},dk:function(){return g},dz:function(){return i},h2:function(){return w},iu:function(){return f},jq:function(){return l},mg:function(){return o},mw:function(){return r},vZ:function(){return h},y9:function(){return m}});n(6273);function r(e){return e instanceof ArrayBuffer}function i(e){return"Int8Array"===e?.constructor?.name}function o(e){return"Uint8Array"===e?.constructor?.name}function s(e){return"Uint8ClampedArray"===e?.constructor?.name}function a(e){return"Int16Array"===e?.constructor?.name}function l(e){return"Uint16Array"===e?.constructor?.name}function c(e){return"Int32Array"===e?.constructor?.name}function u(e){return"Uint32Array"===e?.constructor?.name}function d(e){return"Float16Array"===e?.constructor?.name}function h(e){return"Float32Array"===e?.constructor?.name}function p(e){return"Float64Array"===e?.constructor?.name}function f(e){return"buffer"in e}const m=1024;function y(e){return p(e)||h(e)||c(e)||a(e)||i(e)}function g(e){return p(e)||h(e)}function v(e){return p(e)?179769e303:d(e)?65504:h(e)?3402823e32:u(e)?4294967295:l(e)?65535:o(e)||s(e)?255:c(e)?2147483647:a(e)?32767:i(e)?127:256}const b=-32768,w=-2147483648},62245:function(e,t,n){"use strict";n.d(t,{WF:function(){return A},lh:function(){return r.b},br:function(){return N},to:function(){return O},le:function(){return T},s6:function(){return E},CP:function(){return I},zl:function(){return C},Bq:function(){return k},pf:function(){return P}});Event;Event;var r=n(2799),i=n(28760);i.W3,i.Ec;var o=n(98015);const s=e=>{let t=e;for(;t=t.parentNode??t.host;)if(t?.constructor?.lumina){const n=t;return n.manager?.loadedCalled||(n.J??n._offspring).push(e),(n.I??n._postLoad).promise}return!1};const a={};function l(){}const c=Object.defineProperty,u=globalThis.HTMLElement??l;class d extends u{constructor(){super(),this.#g={},this.#v=[],this.I=new o.cY,this.H=new o.cY,this.J=[];const e=this,t=e.constructor;e._offspring=e.J,e._postLoad=e.I,t.C?.forEach((t=>{Object.hasOwn(e,t)&&(e.#g[t]=e[t],delete e[t])})),t.A?e.#b({a:t.A}):t.B.then((async n=>{await t.K.p,e.#b(await(n.default?.then((e=>"function"==typeof e?{a:e}:e))??n))})).catch((t=>{e.H.reject(t),setTimeout((()=>{throw t}))}))}static{this.lumina=!0}static F(){for(const e of this.C??[])c(this.prototype,e,{configurable:!0,enumerable:!0,get(){return this.#g[e]},set(t){this.#g[e]=t}});for(const e of this.E??[])c(this.prototype,e,{async value(...t){this.#w||await this.H.promise;const n=this.#w;return await n[e](...t)},configurable:!0});for(const e of this.D??[])c(this.prototype,e,{value(...t){return this.#w[e](...t)},configurable:!0})}#w;#g;#v;get manager(){return this.#w?.manager}attributeChangedCallback(e,t,n){this.#w?.attributeChangedCallback(e,t,n),this.#w||this.#v.push(e)}connectedCallback(){this.#w?this.#w.connectedCallback?.():queueMicrotask((()=>this.G=s(this)))}disconnectedCallback(){this.#w?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}#b(e){const t=this.constructor,n=t.L,r=this.#g,i=Object.values(e).find((e=>e.L===n));const o=`${n}--lazy`;let s=i;for(;s&&!Object.hasOwn(s,"lumina");)s=Object.getPrototypeOf(s);p(s);!t.A&&(t.A=i,customElements.define(o,i)),i.N=this;const a=document.createElement(o);i.N=void 0,this.#w=a,this.#g=a,this.#v.forEach((e=>a.attributeChangedCallback(e,null,this.getAttribute(e)))),Object.entries(r).forEach(h,a);const l=this.isConnected;(l||this.G)&&(a.connectedCallback?.(),l||a.disconnectedCallback())}addController(){}requestUpdate(){this.#w?.requestUpdate()}}function h([e,t]){this[e]=t}const p=e=>{const t=e.prototype,n=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(e,t){n.setAttribute.call(this.el,e,t)},t.removeAttribute=function(e){n.removeAttribute.call(this.el,e)},c(t,"isConnected",{get(){return Reflect.get(n,"isConnected",this.el)}}))};var f=n(46337),m=n(36752),y=n(7804);const g=(0,y.u$)(class extends y.WL{constructor(e){if(super(e),e.type!==y.OA.ATTRIBUTE||"class"!==e.name||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,[t]){if(void 0===this.st){this.st=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e))));for(const e in t)t[e]&&!this.nt?.has(e)&&this.st.add(e);return this.render(t)}const n=e.element.classList;for(const e of this.st)e in t||(n.remove(e),this.st.delete(e));for(const e in t){const r=!!t[e];r===this.st.has(e)||this.nt?.has(e)||(r?(n.add(e),this.st.add(e)):(n.remove(e),this.st.delete(e)))}return m.c0}}),v="important",b=" !"+v,w=(0,y.u$)(class extends y.WL{constructor(e){if(super(e),e.type!==y.OA.ATTRIBUTE||"style"!==e.name||e.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return null==r?t:t+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`}),"")}update(e,[t]){const{style:n}=e.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(t)),this.render(t);for(const e of this.ft)null==t[e]&&(this.ft.delete(e),e.includes("-")?n.removeProperty(e):n[e]=null);for(const e in t){const r=t[e];if(null!=r){this.ft.add(e);const t="string"==typeof r&&r.endsWith(b);e.includes("-")||t?n.setProperty(e,t?r.slice(0,-11):r,t?v:""):n[e]=r}}return m.c0}});var _=n(56328);class S extends r.G{constructor(e){super(e),this.destroyed=!1,this.R=!1,this.V=f.s6,this.T=[],this.#_=new WeakMap,this.#d=e,this.exports=void 0,this.hasDestroy=M in e&&"function"==typeof e.destroy,f.WF.prototype.addController.call(e,{hostConnected:()=>{if(this.destroyed){const t=e.el.localName;throw e.el.remove(),new Error(`The ${t} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${M} prop.`)}void 0!==this.#S&&clearTimeout(this.#S),(0,r.k)();for(const t of e.M)"triggerConnected"in t?t.triggerConnected():(0,o.UF)(t.hostConnected,t)},hostDisconnected:()=>{for(const t of e.M)"triggerDisconnected"in t?t.triggerDisconnected():(0,o.UF)(t.hostDisconnected,t);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const t of e.M)"triggerUpdate"in t?t.triggerUpdate(this.Q):(0,o.UF)(t.hostUpdate,t,this.Q)},hostUpdated:()=>{for(const t of e.M)"triggerUpdated"in t?t.triggerUpdated(this.Q):(0,o.UF)(t.hostUpdated,t,this.Q);this.Q=void 0}}),queueMicrotask((()=>this.R=!0)),(0,r.s)(e)}#S;#d;async destroy(){if(!this.destroyed){this.#d.el.isConnected&&(this.hasDestroy=!1,this.#d.el.remove()),this.#S=void 0,this.destroyed=!0;for(const e of this.#d.M)"triggerDestroy"in e?e.triggerDestroy():(0,o.UF)(e.hostDestroy,e);this.#d.M.splice(0)}}U(){if(void 0!==this.#S&&clearTimeout(this.#S),!this.#d.el.isConnected&&!this.#d.autoDestroyDisabled){const e=()=>{this.#d.destroy()};this.#S=(0,o.oK)(e,x)}}S(e,t){const n=this.T;this.V=f.s6,this.T=[],n.forEach((n=>n(e,t)))}#_;W(e,t){("object"==typeof t&&null!==t||"function"==typeof t)&&this.#_.set(t,e)}X(e){return"object"==typeof e&&null!==e||"function"==typeof e?this.#_.get(e):void 0}}let x=1e3;const M="autoDestroyDisabled";class A extends f.WF{constructor(){super(),this.M=[],this.manager=new S(this);const e=this,t=e.constructor,n=t.N,r=t.K.o,i=A.prototype.shouldUpdate;e.#x=n?.H??new o.cY,e.I=n?.I??new o.cY,e.J=n?.J??[],e._offspring=e.J,e._postLoad=e.I,e.el=n??e,e.#M=e.enableUpdating,e.enableUpdating=l,e.shouldUpdate!==i&&(e.#A=e.shouldUpdate,e.shouldUpdate=i),r&&(e.#T=new Map,t.elementProperties.forEach(((t,n)=>e.#T.set(n,r())))),f.S$&&e.el.setAttribute(t.K.hydratedAttribute,"")}static finalizeStyles(e){const t=super.finalizeStyles(e),n=this.shadowRootOptions===a;return void 0===this.K?.commonStyles||n?t:[this.K.commonStyles,...t]}static createProperty(e,t){const n="number"==typeof t?t:Array.isArray(t)?t[0]:0,r=Array.isArray(t)?t[1]:void 0,i=r?.hasChanged??f.Ec,s={attribute:!!(1&n&&"string"==typeof e)&&(0,o.j1)(e),reflect:!!(2&n),type:4&n?Boolean:8&n?Number:void 0,state:!!(16&n),readOnly:!!(32&n),noAccessor:!!(64&n),c:!1,...r,hasChanged(e,t){const n=i(e,t);return s.c=n,n}};super.createProperty(e,s)}static getPropertyDescriptor(e,t,n){const i=this.K,o=super.getPropertyDescriptor(e,t,n);return n.d=o,{...o,get(){return i.t?.(this.#T.get(e)),o.get?.call(this)},set(t){const i=this.manager;if(n.readOnly&&!r.a&&(i.R||i.connectedCalled))throw Error(`Cannot assign to read-only property "${e}" of ${this.el.localName}. Trying to assign "${t}"`);o.set.call(this,t??void 0),n.c&&this.#T?.get(e)?.notify(),i.T.length>0&&i?.S(e,t)}}}static{this.lumina=!0}#T;#A;#M;#x;#I;connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const e=this.constructor.K.c?.((()=>this.requestUpdate()));this.#I=e;const t=!this.manager.connectedCalled;super.connectedCallback(),t?queueMicrotask((()=>this.#C().catch((e=>{this.#x.reject(e),setTimeout((()=>{throw e}))})))):e&&this.requestUpdate()}#E(e){try{this.#I.clear(),this.constructor.K.r(this.#I,(()=>super.update(e)))}catch(e){throw this.#I.clear(),e}}disconnectedCallback(){super.disconnectedCallback(),this.#I?.destroy(),this.#I=void 0}createRenderRoot(){const e=this.el.shadowRoot,t=this.constructor,n=t.shadowRootOptions,r=e??(n===a?this.el:this.el.attachShadow(n));if(e)return f.WF.prototype.createRenderRoot.call(this),e;if(this.isConnected){const e=r.getRootNode();0,e.adoptedStyleSheets=[...e.adoptedStyleSheets,...t.elementStyles.map((e=>"styleSheet"in e?e.styleSheet:e))]}return r}async#C(){const e=this.el.G??s(this.el);e&&await e;const t=[];for(const e of this.M)"triggerLoad"in e?t.push(e.triggerLoad()):t.push((0,o.ao)(e.hostLoad,e));await Promise.all(t),await(this.load?.()),this.manager.hasDestroy&&this.manager.onUpdate((e=>e.has(M)&&this.manager.U())),this.#M(!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const n=this.J.filter((e=>!e.manager?.loadedCalled));n.length&&await Promise.allSettled(n.map((async e=>await e.componentOnReady()))),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const e of this.M)"triggerLoaded"in e?e.triggerLoaded():(0,o.UF)(e.hostLoaded,e);this.loaded?.(),this.#x.resolve()}shouldUpdate(e){return this.manager.Q=e,this.#A?.(e)??!0}update(e){this.#I?this.#E(e):super.update(e)}listen(e,t,n){const r=t?.bind(this)??t;this.manager.onLifecycle((()=>(this.el.addEventListener(e,r,n),()=>this.el.removeEventListener(e,r,n))))}listenOn(e,t,n,r){const i=n?.bind(this)??n;this.manager.onLifecycle((()=>(e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r))))}async componentOnReady(){return await this.#x.promise,this}addController(e){this.M.push(e),!(r.c in e)&&this.renderRoot&&this.el.isConnected&&e.hostConnected?.()}removeController(e){this.M.splice(this.M.indexOf(e),1),e.controllerRemoved?.()}}const T=e=>{let t;const n=e=>{t=new URL(e,globalThis.location?.href||void 0).href},r={...e,getAssetPath(e){const n=new URL(e,t);return n.origin!==globalThis.location?.origin?n.href:n.pathname},setAssetPath:n,customElement(e,t){t.K=r,t.L=e,customElements.get(e)||customElements.define(e,t)}};return n(e.defaultAssetPath),r},I=e=>"object"==typeof e&&null!=e?g(e):e,C=e=>"object"==typeof e&&null!=e?w(e):e;y.WL;y.u$,_.V;const E=m.s6;m.c0;function k(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}const P={toAttribute:e=>!0===e?"":!1===e?null:e},R={},O=(e,t)=>n=>{const r=n.tagName;let i=R;const o={name:r,get prototype(){if(void 0===i){const e=customElements.get(r);if(!e)throw new Error(`Custom element "${r}" not found`);e.F?.(),e.F=l,i=e.prototype,Object.defineProperty(o,"prototype",{value:i})}return i}},s=t({...n,react:e,elementClass:o});return i=void 0,s},N=(e,t)=>({tagName:e,events:t})},62436:function(e,t,n){"use strict";n.d(t,{J2:function(){return a},O9:function(){return o},dw:function(){return s},mj:function(){return i}});var r=n(5856);function i(e,t){const n=e.length>t.length?e:t;return(e.length>t.length?t:e).every(((e,t)=>e.type===n[t].type))}function o(e,t){const n=e.length>t.length?e:t,i=e.length>t.length?t:e;for(let e=i.length;e<n.length;e++)i.push((0,r.sK)(n[e]))}function s(e){const t=e[0];return!!t&&"type"in t}function a(e,t){return JSON.stringify(e??null)===JSON.stringify(t??null)}},62489:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(82392),i=n(14755),o=n(81482),s=n(8636),a=(n(6273),n(67498),n(85716)),l=n(26325),c=n(23547),u=n(45441);let d=class extends(i.A.ClonableMixin(c.A)){constructor(e){super(e),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],d.prototype,"description",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{type:s.jz,write:!0}})],d.prototype,"displayCount",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],d.prototype,"title",void 0),(0,r._)([(0,o.MZ)({type:[u.A],json:{write:!0}})],d.prototype,"associationTypes",void 0),(0,r._)([(0,a.e)({utilityNetworkAssociations:"utility-network-associations"})],d.prototype,"type",void 0),d=(0,r._)([(0,l.$)("esri.popup.content.UtilityNetworkAssociationsContent")],d);const h=d},62516:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r=n(67488),i=n(39156);function o(e,t){return[e,t]}function s(e,t,n){return e[0]=t,e[1]=n,e}const a=new i.A("0/0/0/0");class l{static create(e,t,n=null){const i=(0,r.Vp)(e.spatialReference),a=t.origin||o(e.origin.x,e.origin.y),c=o(e.size[0]*t.resolution,e.size[1]*t.resolution),u=o(-1/0,-1/0),d=o(1/0,1/0),h=o(1/0,1/0);null!=n&&(s(u,Math.max(0,Math.floor((n.xmin-a[0])/c[0])),Math.max(0,Math.floor((a[1]-n.ymax)/c[1]))),s(d,Math.max(0,Math.floor((n.xmax-a[0])/c[0])),Math.max(0,Math.floor((a[1]-n.ymin)/c[1]))),s(h,d[0]-u[0]+1,d[1]-u[1]+1));const{cols:p,rows:f}=t;let m,y,g,v;return!n&&p&&f&&(s(u,p[0],f[0]),s(d,p[1],f[1]),s(h,p[1]-p[0]+1,f[1]-f[0]+1)),e.isWrappable?(m=o(Math.ceil(Math.round((i.valid[1]-i.valid[0])/t.resolution)/e.size[0]),h[1]),y=!0,g=i.origin,v=i.valid):(m=h,y=!1),new l(t.level,t.resolution,t.scale,a,u,d,h,c,m,y,g,v)}constructor(e,t,n,r,i,o,s,a,l,c,u,d){this.level=e,this.resolution=t,this.scale=n,this.origin=r,this.first=i,this.last=o,this.size=s,this.norm=a,this.worldSize=l,this.wrap=c,this._spatialReferenceOrigin=u,this._spatialReferenceValid=d}normalizeCol(e){if(!this.wrap)return e;const t=this.worldSize[0];return e<0?t-1-Math.abs((e+1)%t):e%t}normalizeKey(e){if(!this.wrap)return;const t=this.worldSize[0],n=e.col;n<0?(e.col=n+t,e.world-=1):n>=t&&(e.col=n-t,e.world+=1)}denormalizeCol(e,t){return this.wrap?this.worldSize[0]*t+e:e}getWorldForColumn(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}getFirstColumnForWorld(e){return e*this.worldSize[0]+this.first[0]}getLastColumnForWorld(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(e){return(e-this.origin[0])/this.norm[0]}getXForColumn(e){const t=this.origin[0]+e*this.norm[0],n=this._spatialReferenceOrigin,r=this._spatialReferenceValid;return this.wrap&&n&&r?t===n[0]?r[0]:this.origin[0]===n[0]&&e===this.worldSize[0]?r[1]:t:t}getRowForY(e){return(this.origin[1]-e)/this.norm[1]}getYForRow(e){return this.origin[1]-e*this.norm[1]}getTileBounds(e,t,n=!1){a.set(t);const r=n?a.col:this.denormalizeCol(a.col,a.world),i=a.row;return function(e,t,n,r,i){e[0]=t,e[1]=n,e[2]=r,e[3]=i}(e,this.getXForColumn(r),this.getYForRow(i+1),this.getXForColumn(r+1),this.getYForRow(i)),e}getTileCoords(e,t,n=!1){a.set(t);const r=n?a.col:this.denormalizeCol(a.col,a.world);return Array.isArray(e)?s(e,this.getXForColumn(r),this.getYForRow(a.row)):(e.x=this.getXForColumn(r),e.y=this.getYForRow(a.row)),e}}var c=n(57021);class u{constructor(e,t,n){this.row=e,this.colFrom=t,this.colTo=n}}const d=new i.A("0/0/0/0");class h{static create(e,t){e[1]>t[1]&&([e,t]=[t,e]);const[n,r]=e,[i,o]=t,s=i-n,a=o-r,l=0!==a?s/a:0,c=(Math.ceil(r)-r)*l,u=(Math.floor(r)-r)*l;return new h(n,Math.floor(r),Math.ceil(o),l,s<0?c:u,s<0?u:c,s<0?i:n,s<0?n:i)}constructor(e,t,n,r,i,o,s,a){this.x=e,this.ymin=t,this.ymax=n,this.invM=r,this.leftAdjust=i,this.rightAdjust=o,this.leftBound=s,this.rightBound=a}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const p=[[0,0],[0,0],[0,0],[0,0]];class f{constructor(e,t=null,n=e.lods[0].level,r=e.lods[e.lods.length-1].level){this.tileInfo=e,this.fullExtent=t,this.scales=[],this._infoByScale={},this._infoByLevel={};const i=e.lods.filter((e=>e.level>=n&&e.level<=r));this.minScale=i[0].scale,this.maxScale=i[i.length-1].scale;const o=this._lodInfos=i.map((n=>l.create(e,n,t)));i.forEach(((e,t)=>{this._infoByLevel[e.level]=o[t],this._infoByScale[e.scale]=o[t],this.scales[t]=e.scale}),this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel["number"==typeof e?e:e.level]}getTileBounds(e,t,n=!1){d.set(t);const r=this._infoByLevel[d.level];return r?r.getTileBounds(e,d,n):e}getTileCoords(e,t,n=!1){d.set(t);const r=this._infoByLevel[d.level];return r?r.getTileCoords(e,d,n):e}getTileCoverage(e,t=192,n=!0,r="closest"){if(!n&&(e.scale>this.minScale||e.scale<this.maxScale))return null;const i="closest"===r?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),o=c.A.pool.acquire(i),s=this._wrap;let a,l,d,f=1/0,m=-1/0;const y=o.spans;p[0][0]=p[0][1]=p[1][1]=p[3][0]=-t,p[1][0]=p[2][0]=e.size[0]+t,p[2][1]=p[3][1]=e.size[1]+t;for(const t of p)e.toMap(t,t),t[0]=i.getColumnForX(t[0]),t[1]=i.getRowForY(t[1]);const g=[];let v=3;for(let e=0;e<4;e++){if(p[e][1]===p[v][1]){v=e;continue}const t=h.create(p[e],p[v]);f=Math.min(t.ymin,f),m=Math.max(t.ymax,m),void 0===g[t.ymin]&&(g[t.ymin]=[]),g[t.ymin].push(t),v=e}if(null==f||null==m||m-f>100)return null;let b=[];for(a=f;a<m;){null!=g[a]&&(b=b.concat(g[a])),l=1/0,d=-1/0;for(let e=b.length-1;e>=0;e--){const t=b[e];l=Math.min(l,t.getLeftCol()),d=Math.max(d,t.getRightCol())}if(l=Math.floor(l),d=Math.floor(d),a>=i.first[1]&&a<=i.last[1])if(s)if(i.size[0]<i.worldSize[0]){const e=Math.floor(d/i.worldSize[0]);for(let t=Math.floor(l/i.worldSize[0]);t<=e;t++)y.push(new u(a,Math.max(i.getFirstColumnForWorld(t),l),Math.min(i.getLastColumnForWorld(t),d)))}else y.push(new u(a,l,d));else l>i.last[0]||d<i.first[0]||(l=Math.max(l,i.first[0]),d=Math.min(d,i.last[0]),y.push(new u(a,l,d)));a+=1;for(let e=b.length-1;e>=0;e--){const t=b[e];t.ymax>=a?t.incrRow():b.splice(e,1)}}return o}getTileParentId(e){d.set(e);const t=this._infoByLevel[d.level],n=this._lodInfos.indexOf(t)-1;return n<0?null:(this._getTileIdAtLOD(d,this._lodInfos[n],d),d.id)}getTileResolution(e){const t=this._infoByLevel["object"==typeof e?e.level:e];return t?t.resolution:-1}getTileScale(e){const t=this._infoByLevel[e.level];return t?t.scale:-1}intersects(e,t){d.set(t);const n=this._infoByLevel[d.level],r=e.lodInfo;if(r.resolution>n.resolution){this._getTileIdAtLOD(d,r,d);const t=r.denormalizeCol(d.col,d.world);for(const n of e.spans)if(n.row===d.row&&n.colFrom<=t&&n.colTo>=t)return!0}if(r.resolution<n.resolution){const[t,i,o,s]=e.spans.reduce(((e,t)=>(e[0]=Math.min(e[0],t.row),e[1]=Math.max(e[1],t.row),e[2]=Math.min(e[2],t.colFrom),e[3]=Math.max(e[3],t.colTo),e)),[1/0,-1/0,1/0,-1/0]),a=n.denormalizeCol(d.col,d.world),l=r.getColumnForX(n.getXForColumn(a)),c=r.getRowForY(n.getYForRow(d.row)),u=r.getColumnForX(n.getXForColumn(a+1))-1,h=r.getRowForY(n.getYForRow(d.row+1))-1;return!(l>s||u<o||c>i||h<t)}const i=r.denormalizeCol(d.col,d.world);return e.spans.some((e=>e.row===d.row&&e.colFrom<=i&&e.colTo>=i))}normalizeBounds(e,t,n){if(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this._wrap){const t=(0,r.Vp)(this.tileInfo.spatialReference),i=-n*(t.valid[1]-t.valid[0]);e[0]+=i,e[2]+=i}return e}getSmallestInfoForScale(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>t[0])return this._infoByScale[t[0]];for(let n=1;n<t.length-1;n++)if(e>t[n]+1e-6)return this._infoByScale[t[n-1]];return this._infoByScale[t[t.length-1]]}getClosestInfoForScale(e){const t=this.scales;return this._infoByScale[e]||(e=t.reduce(((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t),t[0])),this._infoByScale[e]}scaleToLevel(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let n=t.length-1;n>=0;n--)if(e<t[n])return n===t.length-1?this._infoByScale[t[t.length-1]].level:this._infoByScale[t[n]].level+(t[n]-e)/(t[n]-t[n+1]);return this._infoByScale[t[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}zoomToScale(e){return this.tileInfo.zoomToScale(e)}_getTileIdAtLOD(e,t,n){const r=this._infoByLevel[n.level];return e.set(n),t.resolution<r.resolution?null:(t.resolution===r.resolution||(e.level=t.level,e.col=Math.floor(n.col*r.resolution/t.resolution+.01),e.row=Math.floor(n.row*r.resolution/t.resolution+.01)),e)}}},62932:function(e,t,n){"use strict";n.d(t,{A:function(){return k}});var r=n(82392),i=n(58842),o=n(48),s=n(80861),a=n(19759),l=n(97629),c=n(81482),u=n(77380),d=(n(6273),n(67498),n(25376)),h=n(26325),p=n(48524),f=n(83382),m=n(55714),y=n(12508),g=n(58720),v=n(65076),b=n(28107),w=n(34450),_=n(61842),S=n(999),x=n(81327),M=n(31873),A=n(70538),T=n(14176),I=n(51431);const C={icon:v.A,object:w.A,line:b.A,path:_.A,fill:g.A,extrude:y.A,text:M.A,water:A.A},E=i.A.ofType({base:x.A,key:"type",typeMap:C,errorContext:"symbol-layer"});let k=class extends S.A{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,n=t?.type,r=n||i.A;this._set("symbolLayers",new r)}get color(){return null}set color(e){this.constructed&&s.A.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){(0,o.V)(e,this._get("symbolLayers"))}readStyleOrigin(e,t,n){if(e.styleUrl&&e.name){const t=(0,m.f)(e.styleUrl,n);return new T.A({styleUrl:t,name:e.name})}if(e.styleName&&e.name)return new T.A({portal:n?.portal||f.A.getDefault(),styleName:e.styleName,name:e.name});n?.messages&&n.messages.push(new l.A("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:e}))}writeStyleOrigin(e,t,n,r){if(e.styleUrl&&e.name){let n=(0,m.t)(e.styleUrl,r);(0,a.oP)(n)&&(n=(0,a.S8)(n)),t.styleOrigin={styleUrl:n,name:e.name}}else e.styleName&&e.name&&(e.portal&&r?.portal&&!(0,a.ut)(e.portal.restUrl,r.portal.restUrl)?r?.messages&&r.messages.push(new l.A("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof x.A||e&&C[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};(0,r._)([(0,c.MZ)({json:{read:!1,write:!1}})],k.prototype,"color",null),(0,r._)([(0,c.MZ)({type:E,nonNullable:!0,json:{write:!0}}),(0,u.w)(o.H)],k.prototype,"symbolLayers",null),(0,r._)([(0,c.MZ)({type:T.A})],k.prototype,"styleOrigin",void 0),(0,r._)([(0,d.w)("styleOrigin")],k.prototype,"readStyleOrigin",null),(0,r._)([(0,p.K)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],k.prototype,"writeStyleOrigin",null),(0,r._)([(0,c.MZ)({type:I.V,json:{read:!1}})],k.prototype,"thumbnail",void 0),(0,r._)([(0,c.MZ)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],k.prototype,"type",void 0),k=(0,r._)([(0,h.$)("esri.symbols.Symbol3D")],k)},62942:function(e,t,n){"use strict";function r(e,t){switch(t.type){case"object-id":case"unique-id-simple":return e.attributes[t.fieldName];case"unique-id-composite":{const n=[];for(const r of t.fieldNames)n.push(e.attributes[r]??null);return JSON.stringify(n)}}}function i(e,t){if("uniqueIdFields"in t&&t.uniqueIdFields?.length){if(1===t.uniqueIdFields.length)return e.attributes?.[t.uniqueIdFields[0]];const n=t.uniqueIdFields.map((t=>e.attributes?.[t]));return JSON.stringify(n)}return"objectIdField"in t&&t.objectIdField?e.attributes?.[t.objectIdField]:null}n.d(t,{W:function(){return r},r:function(){return i}})},62991:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(15565),i=n(80861),o=n(89894);class s extends o.A{constructor(e,t,n){super(e,t,n)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return(0,r.o8)(t)}catch(e){return"[object]"}})))}}catch(e){throw i.A.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new s(e.name,e.message,e.details)}}s.prototype.type="error"},63103:function(e,t,n){"use strict";n.d(t,{Xc:function(){return u},Y2:function(){return d},en:function(){return c}});var r=n(62991),i=n(6273),o=n(80861),s=n(68716);const a=()=>o.A.getLogger("esri.views.webgl.checkWebGLError");const l=!!(0,i.A)("enable-feature:webgl-debug");function c(){return l}function u(){return l}function d(e,t=c()){if(t){const t=e.getError();if(t){const e=function(e){switch(e){case s.bh.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case s.bh.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case s.bh.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case s.bh.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case s.bh.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case s.bh.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}(t),n=(new Error).stack;a().error(new r.A("webgl-error","WebGL error occurred",{message:e,stack:n}))}}}},63279:function(e,t,n){"use strict";n.d(t,{A:function(){return A}});var r=n(82392),i=n(62991),o=n(1817),s=n(80861),a=n(81482),l=n(77380),c=n(25376),u=n(26325),d=n(48524),h=n(75906),p=n(23572);var f=n(30347),m=(n(6273),n(67498),n(5785));let y=class extends m.A{constructor(){super(...arguments),this.customValues=null}};(0,r._)([(0,a.MZ)({type:[Number],json:{write:!0}})],y.prototype,"customValues",void 0),y=(0,r._)([(0,u.$)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],y);const g=y;var v,b=n(2818),w=n(37525);const _=new o.J({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),S=new o.J({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});function x(e){if(null!=e)return"string"==typeof e||"number"==typeof e?function(e){return(0,p.cr)(e)}(e):"size"===e.type?(0,b.of)(e)?e:(delete(e={...e}).type,new A(e)):void 0}function M(e,t,n){if("object"!=typeof e)return e;const r=new A;return r.read(e,n),r}let A=v=class extends h.A{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=this.valueExpression&&w.viewScaleRE.test(this.valueExpression)}}set index(e){(0,b.of)(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),(0,b.of)(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return(0,b.eh)(this)}set maxDataValue(e){e&&this.stops&&(s.A.getLogger(this).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(s.A.getLogger(this).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return x(e)}readMaxSize(e,t,n){return M(e,0,n)}set minDataValue(e){e&&this.stops&&(s.A.getLogger(this).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(s.A.getLogger(this).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return x(e)}readMinSize(e,t,n){return M(e,0,n)}get arcadeRequired(){return!!this.valueExpression||null!=this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(e){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)):e&&(s.A.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return(0,b.KZ)(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,n,r){if("$view.scale"===e){if(r?.messages){const e=this.index,t="string"==typeof e?e:`visualVariables[${e}]`;r.messages.push(new i.A("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:t+".valueExpression",context:r}))}}else t[n]=e}readValueUnit(e){return e?S.read(e):null}clone(){return new v({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,b.of)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,b.of)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map((e=>e.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===b._w.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===b._w.Stops){const e=this.stops;if(!e)return this;const t=e.map((e=>e.size)).reverse(),n=e.length;for(let r=0;r<n;r++)e[r].size=t[r];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map((e=>e.value||0))}};(0,r._)([(0,a.MZ)({readOnly:!0})],A.prototype,"cache",null),(0,r._)([(0,a.MZ)({type:_.apiValues,json:{type:_.jsonValues,origins:{"web-map":{read:!1}},read:_.read,write:_.write}})],A.prototype,"axis",void 0),(0,r._)([(0,a.MZ)()],A.prototype,"index",null),(0,r._)([(0,a.MZ)({type:String,readOnly:!0})],A.prototype,"inputValueType",null),(0,r._)([(0,a.MZ)({type:g,json:{write:!0}})],A.prototype,"legendOptions",void 0),(0,r._)([(0,a.MZ)({type:Number,value:null,json:{write:!0}})],A.prototype,"maxDataValue",null),(0,r._)([(0,a.MZ)({type:Number,value:null,json:{write:!0}})],A.prototype,"maxSize",null),(0,r._)([(0,l.w)("maxSize")],A.prototype,"castMaxSize",null),(0,r._)([(0,c.w)("maxSize")],A.prototype,"readMaxSize",null),(0,r._)([(0,a.MZ)({type:Number,value:null,json:{write:!0}})],A.prototype,"minDataValue",null),(0,r._)([(0,a.MZ)({type:Number,value:null,json:{write:!0}})],A.prototype,"minSize",null),(0,r._)([(0,l.w)("minSize")],A.prototype,"castMinSize",null),(0,r._)([(0,c.w)("minSize")],A.prototype,"readMinSize",null),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],A.prototype,"normalizationField",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],A.prototype,"arcadeRequired",null),(0,r._)([(0,a.MZ)({type:String})],A.prototype,"scaleBy",void 0),(0,r._)([(0,a.MZ)({type:[f.A],value:null,json:{write:!0}})],A.prototype,"stops",null),(0,r._)([(0,a.MZ)({type:["outline"],json:{write:!0}})],A.prototype,"target",void 0),(0,r._)([(0,a.MZ)({type:String,readOnly:!0})],A.prototype,"transformationType",null),(0,r._)([(0,a.MZ)({type:["size"],json:{type:["sizeInfo"]}})],A.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],A.prototype,"useSymbolValue",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],A.prototype,"valueExpression",void 0),(0,r._)([(0,c.w)("valueExpression",["valueExpression","expression"])],A.prototype,"readValueExpression",null),(0,r._)([(0,d.K)("web-scene","valueExpression")],A.prototype,"writeValueExpressionWebScene",null),(0,r._)([(0,a.MZ)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],A.prototype,"valueRepresentation",void 0),(0,r._)([(0,a.MZ)({type:S.apiValues,json:{write:S.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],A.prototype,"valueUnit",void 0),(0,r._)([(0,c.w)("valueUnit")],A.prototype,"readValueUnit",null),A=v=(0,r._)([(0,u.$)("esri.renderers.visualVariables.SizeVariable")],A)},63457:function(e,t,n){"use strict";n.d(t,{Fi:function(){return u},HZ:function(){return g},Jf:function(){return y},LS:function(){return v},Wo:function(){return m},bd:function(){return b},cr:function(){return p},iz:function(){return h},qg:function(){return d},tK:function(){return w},yG:function(){return f}});var r=n(19759),i=n(55714);const o={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},s=Object.values(o),a=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),c=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function u(e){return a.test(e)}function d(e){if(null==e)return null;const t=(0,r.An)(e),n=t?.path.match(a)||t?.path.match(l);if(!n)return null;const[,i,s,c,u]=n,d=s.indexOf("/");return{title:p(-1!==d?s.slice(d+1):s),serverType:o[c.toLowerCase()],sublayer:null!=u&&""!==u?parseInt(u,10):null,url:{path:i}}}function h(e){const t=(0,r.An)(e).path.match(c);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function p(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function f(e,t){const n=[];if(e){const t=d(e);null!=t&&t.title&&n.push(t.title)}if(t){const e=p(t);n.push(e)}if(2===n.length){if(n[0].toLowerCase().includes(n[1].toLowerCase()))return n[0];if(n[1].toLowerCase().includes(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function m(e){let t=(0,r.$z)(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(t)))}function y(e,t){return e?(0,r.UC)((0,r.zi)(e,t)):e}function g(e){let{url:t}=e;if(!t)return{url:t};t=(0,r.zi)(t,e.logger);const n=(0,r.An)(t),i=d(n.path);let o;if(null!=i)null!=i.sublayer&&null==e.layer.layerId&&(o=i.sublayer),t=i.url.path;else if(e.nonStandardUrlAllowed){const e=h(n.path);null!=e&&(t=e.serviceUrl,o=e.sublayerId)}return{url:(0,r.UC)(t),layerId:o}}function v(e,t,n,o,s){(0,i.w)(t,o,"url",s),o.url&&null!=e.layerId&&(o.url=(0,r.fj)(o.url,n,e.layerId.toString()))}function b(e){if(!e)return!1;const t=e.toLowerCase(),n=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),o=t.includes("/wmsserver");return n&&(r||i||o)}function w(e){if(!e)return!1;const t=new r.s0((0,r.s2)(e)),n=t.authority?.toLowerCase();return"server.arcgisonline.com"===n||"services.arcgisonline.com"===n}},63466:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(37623),i=n(39369),o=n(50521);class s{constructor(){this._tasks=new Array,this._numPendingTasks=(0,i.v)(0),this._running=(0,i.v)(!1)}get length(){return this._tasks.length}get updating(){return this._numPendingTasks.value>0}get running(){return this._running.value}_updateRunning(){this._running.value=this._tasks.length>0}destroy(){this.cancelAll()}runTask(e){if(0===this.length)return o.G;for(;!e.done&&this._process(e);)e.madeProgress()}push(e,t,n){return new Promise(((r,i)=>{this._tasks.push(new a(r,i,e,t,n)),++this._numPendingTasks.value,this._updateRunning()})).finally((()=>--this._numPendingTasks.value))}unshift(e,t,n){return new Promise(((r,i)=>{this._tasks.unshift(new a(r,i,e,t,n)),++this._numPendingTasks.value,this._updateRunning()})).finally((()=>--this._numPendingTasks.value))}_process(e){if(0===this._tasks.length)return!1;const t=this._tasks.shift();this._updateRunning();try{const n=(0,r.G4)(t.signal);if(n&&!t.abortCallback)t.reject((0,r.NK)());else{const i=n?t.abortCallback?.((0,r.NK)()):t.callback(e);(0,r.$X)(i)?i.then(t.resolve,t.reject):t.resolve(i)}}catch(e){t.reject(e)}return!0}cancelAll(){const e=(0,r.NK)();for(const t of this._tasks)if(t.abortCallback){const n=t.abortCallback(e);t.resolve(n)}else t.reject(e);this._tasks.length=0,this._updateRunning()}}class a{constructor(e,t,n,r=void 0,i=void 0){this.resolve=e,this.reject=t,this.callback=n,this.signal=r,this.abortCallback=i}}},63486:function(e,t,n){"use strict";function r(e,t,n,r){const i=3*e,o=3*(n-e)-i,s=1-i-o,a=3*t,l=3*(r-t)-a,c=1-a-l;function u(e){return((s*e+o)*e+i)*e}function d(e){return(3*s*e+2*o)*e+i}return function(e,t=1e-6){return function(e){return((c*e+l)*e+a)*e}(function(e,t){let n,r,i,o,s,a;for(i=e,a=0;a<8;a++){if(o=u(i)-e,Math.abs(o)<t)return i;if(s=d(i),Math.abs(s)<1e-6)break;i-=o/s}if(n=0,r=1,i=e,i<n)return n;if(i>r)return r;for(;n<r;){if(o=u(i),Math.abs(o-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i}(e,t))}}n.d(t,{Z0:function(){return i},gb:function(){return r}});const i={};i.ease=r(.25,.1,.25,1),i.linear=r(0,0,1,1),i.easeIn=i["ease-in"]=r(.42,0,1,1),i.easeOut=i["ease-out"]=r(0,0,.58,1),i.easeInOut=i["ease-in-out"]=r(.42,0,.58,1)},63498:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r,i=n(82392),o=n(84977),s=n(15565),a=n(81482),l=n(8636),c=n(26325),u=n(48524),d=n(44153),h=n(17308);let p=class extends o.A{static{r=this}constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(t.definitionExpression="1=1")}clone(){return new r((0,s.o8)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,i._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],p.prototype,"cacheHint",void 0),(0,i._)([(0,a.MZ)({type:h.L,json:{write:!0}})],p.prototype,"dynamicDataSource",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],p.prototype,"gdbVersion",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:!0}})],p.prototype,"geometryPrecision",void 0),(0,i._)([(0,a.MZ)({type:Date})],p.prototype,"historicMoment",void 0),(0,i._)([(0,u.K)("historicMoment")],p.prototype,"_writeHistoricMoment",null),(0,i._)([(0,a.MZ)({type:Number,json:{write:!0}})],p.prototype,"maxAllowableOffset",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],p.prototype,"objectIds",void 0),(0,i._)([(0,a.MZ)({type:[String],json:{write:!0}})],p.prototype,"orderByFields",void 0),(0,i._)([(0,a.MZ)({type:[String],json:{write:!0}})],p.prototype,"outFields",void 0),(0,i._)([(0,a.MZ)({type:d.A,json:{read:{source:"outSR"},write:{target:"outSR"}}})],p.prototype,"outSpatialReference",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],p.prototype,"relationshipId",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],p.prototype,"start",void 0),(0,i._)([(0,u.K)("start"),(0,u.K)("num")],p.prototype,"writeStart",null),(0,i._)([(0,a.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],p.prototype,"num",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],p.prototype,"returnGeometry",void 0),(0,i._)([(0,a.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],p.prototype,"returnM",void 0),(0,i._)([(0,a.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],p.prototype,"returnZ",void 0),(0,i._)([(0,a.MZ)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],p.prototype,"where",void 0),p=r=(0,i._)([(0,c.$)("esri.rest.support.RelationshipQuery")],p),p.from=(0,l.dp)(p)},63910:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});const r=["operational-layers","basemap","ground"]},64209:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(82392),i=n(57725),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325));const a=e=>{let t=class extends e{constructor(...e){super(...e),this.goToOverride=null,this.view=null}callGoTo(e){const{view:t}=this;return(0,i.Lw)(t),this.goToOverride?this.goToOverride(t,e):function(e,t,n){return e.goTo(t,n)}(t,e.target,e.options)}};return(0,r._)([(0,o.MZ)()],t.prototype,"goToOverride",void 0),(0,r._)([(0,o.MZ)()],t.prototype,"view",void 0),t=(0,r._)([(0,s.$)("esri.widgets.support.GoTo")],t),t}},64326:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var r=n(82392),i=n(53244),o=n(52686),s=n(80861),a=n(67214),l=n(37623),c=n(61985),u=n(81482),d=(n(6273),n(67498),n(66361)),h=n(25376),p=n(26325),f=n(48524),m=n(91101),y=n(45449),g=n(20923),v=n(4648),b=n(60368),w=n(22111),_=n(12387),S=n(97364),x=n(43305),M=n(80652),A=n(18598),T=n(16115),I=n(33376),C=n(29759),E=n(49972),k=n(52380);let P=class extends((0,g.dM)((0,w.j)((0,v.q)((0,b.A)((0,T.l)((0,A.Q)((0,a.P)(y.A)))))))){constructor(e){super(e),this.allLayers=new i.A({getCollections:()=>[this.layers],getChildrenFunction:e=>"layers"in e?e.layers:null}),this.allTables=(0,M.Z)(this),this.fullExtent=void 0,this.operationalLayerType="GroupLayer",this.spatialReference=void 0,this.type="group",this._debouncedSaveOperations=(0,l.sg)((async(e,t,r)=>{const{save:i,saveAs:o}=await n.e(2521).then(n.bind(n,42521));switch(e){case C.X.SAVE:return i(this,t);case C.X.SAVE_AS:return o(this,r,t)}}))}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.addHandles([(0,c.wB)((()=>{let e=this.parent;for(;e&&"parent"in e&&e.parent;)e=e.parent;return e&&I.X in e}),(e=>{const t="prevent-adding-tables";this.removeHandles(t),e&&(this.tables.removeAll(),this.addHandles((0,c.on)((()=>this.tables),"before-add",(e=>{e.preventDefault(),s.A.getLogger(this).errorOnce("tables","tables in group layers in a webscene are not supported. Please move the tables from the group layer to the webscene if you want to persist them.")})),t))}),c.pc),(0,c.wB)((()=>this.visible),this._onVisibilityChange.bind(this),c.OH)])}destroy(){this.allLayers.destroy(),this.allTables.destroy()}get sourceIsPortalItem(){return this.portalItem&&this.originIdOf("portalItem")===m.Gr.USER}_writeLayers(e,t,n,r){const i=[];if(!e)return i;e.forEach((e=>{const t=(0,k.CJ)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);t?.layerType&&i.push(t)})),t.layers=i}set portalItem(e){this._set("portalItem",e)}readPortalItem(e,t,n){const{itemId:r,layerType:i}=t;if("GroupLayer"===i&&r)return new x.default({id:r,portal:n?.portal})}writePortalItem(e,t){e?.id&&(t.itemId=e.id)}set visibilityMode(e){const t=this._get("visibilityMode")!==e;this._set("visibilityMode",e),t&&this._enforceVisibility(e,this.visible)}async beforeSave(){return(0,E.dL)(this)}load(e){const t=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Group Layer","Scene Service","Video Service"],layerModuleTypeMap:S.S,populateGroupLayer:_.populateGroupLayer},e).catch((e=>{if((0,l.QP)(e),this.sourceIsPortalItem)throw e}));return this.addResolvingPromise(t),Promise.resolve(this)}async loadAll(){return(0,o.g)(this,(e=>{e(this.layers,this.tables)}))}async save(e){return this._debouncedSaveOperations(C.X.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(C.X.SAVE_AS,t,e)}layerAdded(e){e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this.hasHandles(e.uid)||this.addHandles((0,c.wB)((()=>e.visible),(t=>this._onChildVisibilityChange(e,t)),c.OH),e.uid)}layerRemoved(e){this.removeHandles(e.uid),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(e){this.layers.forEach((t=>{t!==e&&(t.visible=!1)}))}_enforceVisibility(e,t){if(!(0,d.oY)(this).initialized)return;const n=this.layers;let r=n.find((e=>e.visible));switch(e){case"exclusive":n.length&&!r&&(r=n.at(0),r.visible=!0),this._turnOffOtherLayers(r);break;case"inherited":n.forEach((e=>{e.visible=t}))}}_onVisibilityChange(e){"inherited"===this.visibilityMode&&this.layers.forEach((t=>{t.visible=e}))}_onChildVisibilityChange(e,t){switch(this.visibilityMode){case"exclusive":t?this._turnOffOtherLayers(e):this._isAnyLayerVisible()||(e.visible=!0);break;case"inherited":e.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((e=>e.visible))}};(0,r._)([(0,u.MZ)({readOnly:!0,dependsOn:[]})],P.prototype,"allLayers",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],P.prototype,"allTables",void 0),(0,r._)([(0,u.MZ)({json:{read:!0,write:!0}})],P.prototype,"blendMode",void 0),(0,r._)([(0,u.MZ)()],P.prototype,"fullExtent",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],P.prototype,"sourceIsPortalItem",null),(0,r._)([(0,u.MZ)({json:{read:!1,write:{ignoreOrigin:!0}}})],P.prototype,"layers",void 0),(0,r._)([(0,f.K)("layers")],P.prototype,"_writeLayers",null),(0,r._)([(0,u.MZ)({type:["GroupLayer"]})],P.prototype,"operationalLayerType",void 0),(0,r._)([(0,u.MZ)({json:{origins:{"web-map":{read:!1,write:{overridePolicy(e,t,n){return{enabled:"Group Layer"===e?.type&&n?.initiator!==this}}}},"web-scene":{read:!1,write:!1}}}})],P.prototype,"portalItem",null),(0,r._)([(0,h.w)("web-map","portalItem",["itemId"])],P.prototype,"readPortalItem",null),(0,r._)([(0,f.K)("web-map","portalItem",{itemId:{type:String}})],P.prototype,"writePortalItem",null),(0,r._)([(0,u.MZ)()],P.prototype,"spatialReference",void 0),(0,r._)([(0,u.MZ)({json:{read:!1},readOnly:!0,value:"group"})],P.prototype,"type",void 0),(0,r._)([(0,u.MZ)({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{type:["independent","exclusive"],write:(e,t,n)=>{"inherited"!==e&&(t[n]=e)}}}}})],P.prototype,"visibilityMode",null),P=(0,r._)([(0,p.$)("esri.layers.GroupLayer")],P);const R=P},64354:function(e,t,n){"use strict";n.d(t,{af:function(){return w},al:function(){return b},dX:function(){return _}});var r=n(93814),i=n(58842),o=(n(6273),n(23572)),s=n(58720),a=n(85498),l=n(28107),c=n(56173),u=n(12862),d=n(7998),h=n(49864),p=n(61793),f=n(51103);const m=u.A.fromSimpleMarkerSymbol(p.UK),y=a.A.fromSimpleLineSymbol(p.A7),g=d.A.fromSimpleFillSymbol(p.Cx),v=new c.A({symbolLayers:new i.A([new s.A({material:{color:f.fT},edges:new h.A({size:(0,o.PN)(1),color:new r.A(f.JR)})})])}),b=new a.A({symbolLayers:new i.A([new l.A({material:{color:new r.A([0,0,0])},size:(0,o.PN)(1)})])}),w=new d.A({symbolLayers:new i.A([new s.A({outline:{color:new r.A([0,0,0]),size:(0,o.PN)(1)}})])});function _(e){if(null==e)return null;switch(e.type){case"mesh":return v;case"point":case"multipoint":return m;case"polyline":return y;case"polygon":case"extent":return g}return null}},64411:function(e,t,n){"use strict";n.d(t,{F:function(){return l}});var r=n(6273),i=n(21120),o=n(2532);const s={minX:0,minY:0,maxX:0,maxY:0};function a(e,t,n){(function(e){s.minX=e[0],s.minY=e[1],s.maxX=e[2],s.maxY=e[3]})(t),e.search(s,n)}class l{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new i.w(9,(0,r.A)("esri-csp-restrictions")?e=>({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const e=new Array(this._idByBounds.size);let t=0;this._idByBounds.forEach(((n,r)=>{e[t++]=r})),this._indexInvalid=!1,this._index.clear(),this._index.load(e)}else this._boundsToLoad.length&&(this._index.load(Array.from(new Set(this._boundsToLoad.filter((e=>this._idByBounds.has(e)))))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const e=(0,o.Ie)();for(const t of this._boundsById.values())t&&(e[0]=Math.min(t[0],e[0]),e[1]=Math.min(t[1],e[1]),e[2]=Math.max(t[2],e[2]),e[3]=Math.max(t[3],e[3]));return e}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(e){const t=this._boundsById.get(e);this._boundsById.delete(e),t&&(this._idByBounds.delete(t),this._indexInvalid||this._index.remove(t))}forEachInBounds(e,t){this._loadIndex(),a(this._index,e,(e=>t(this._idByBounds.get(e))))}get(e){return this._boundsById.get(e)}has(e){return this._boundsById.has(e)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(e,t){if(!this._indexInvalid){const t=this._boundsById.get(e);t&&(this._index.remove(t),this._idByBounds.delete(t))}this._boundsById.set(e,t),t&&(this._idByBounds.set(t,e),this._indexInvalid||(this._boundsToLoad.push(t),this._boundsToLoad.length>5e4&&this._loadIndex()))}}},64672:function(e,t,n){"use strict";n.d(t,{Cv:function(){return g},Gh:function(){return w},ci:function(){return _},je:function(){return v},jg:function(){return h},tD:function(){return b},y7:function(){return y}});var r=n(15565),i=n(5829),o=n(44153),s=n(99263),a=n(67488);const l=57.29577951308232,c=.017453292519943;function u(e){return e*l}function d(e){return e*c}function h(e){return Math.PI/2-2*Math.atan(Math.exp(-e/s.$O.radius))}function p(e){return null!=e.wkid||null!=e.wkt}const f=[0,0];function m(e,t,n,r,i){const o=e,s=i;if(s.spatialReference=n,"x"in o&&"x"in s)[s.x,s.y]=t(o.x,o.y,f,r);else if("xmin"in o&&"xmin"in s)[s.xmin,s.ymin]=t(o.xmin,o.ymin,f,r),[s.xmax,s.ymax]=t(o.xmax,o.ymax,f,r);else if("paths"in o&&"paths"in s||"rings"in o&&"rings"in s){const e="paths"in o?o.paths:o.rings,n=[];let i;for(let o=0;o<e.length;o++){const s=e[o];i=[],n.push(i);for(let e=0;e<s.length;e++)i.push(t(s[e][0],s[e][1],[0,0],r)),s[e].length>2&&i[e].push(s[e][2]),s[e].length>3&&i[e].push(s[e][3])}"paths"in s?s.paths=n:s.rings=n}else if("points"in o&&"points"in s){const e=o.points,n=[];for(let i=0;i<e.length;i++)n[i]=t(e[i][0],e[i][1],[0,0],r),e[i].length>2&&n[i].push(e[i][2]),e[i].length>3&&n[i].push(e[i][3]);s.points=n}return i}function y(e,t){const n=e&&(p(e)?e:e.spatialReference),r=t&&(p(t)?t:t.spatialReference);return!(e&&"type"in e&&"mesh"===e.type||t&&"type"in t&&"mesh"===t.type||!n||!r)&&(!!(0,a.aI)(r,n)||(0,a.K8)(r)&&(0,a.oT)(n)||(0,a.K8)(n)&&(0,a.oT)(r))}function g(e,t){if(null==e)return null;const n=e.spatialReference,i=t&&(p(t)?t:t.spatialReference);return y(n,i)?(0,a.aI)(n,i)?(0,r.o8)(e):(0,a.K8)(i)?m(e,v,o.A.WebMercator,!1,(0,r.o8)(e)):(0,a.oT)(i)?m(e,b,o.A.WGS84,!1,(0,r.o8)(e)):null:null}function v(e,t,n=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=d(t);return n[0]=d(e)*s.$O.radius,n[1]=s.$O.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),n}function b(e,t,n=[0,0],r=!1){if(e===a.Mc[0])n[0]=-180;else if(e===a.Mc[1])n[0]=180;else{const t=u(e/s.$O.radius);n[0]=r?t:t-360*Math.floor((t+180)/360)}return n[1]=u(Math.PI/2-2*Math.atan(Math.exp(-t/s.$O.radius))),n}function w(e,t=!1,n=(0,r.o8)(e)){return(0,i.f)(e),(0,i.f)(n),m(e,v,o.A.WebMercator,t,n)}function _(e,t=!1,n=(0,r.o8)(e)){return(0,i.f)(e),(0,i.f)(n),m(e,b,o.A.WGS84,t,n)}},64898:function(e,t,n){"use strict";n.d(t,{A:function(){return C}});var r,i=n(82392),o=n(84977),s=n(15565),a=n(98592),l=n(81482),c=n(77380),u=n(25376),d=n(26325),h=n(48524);n(6273),n(80861),n(67498);let p=r=class extends o.A{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new r({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],p.prototype,"expression",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],p.prototype,"name",void 0),(0,i._)([(0,l.MZ)({type:["boolean","date","number","string"],json:{write:!0}})],p.prototype,"returnType",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],p.prototype,"title",void 0),p=r=(0,i._)([(0,d.$)("esri.form.ExpressionInfo")],p);const f=p;n(38760),n(98477);var m,y=n(72396),g=n(67771);n(70926),n(86833),n(44774);let v=m=class extends y.A{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return(0,g.dp)(e,b,!1)}readElements(e,t){return(0,g.rS)(t.formElements,b,!1)}writeElements(e,t){t.formElements=(0,g.U2)(e,b,!1)}clone(){return new m({description:this.description,elements:(0,s.o8)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,i._)([(0,l.MZ)({json:{write:!0}})],v.prototype,"elements",void 0),(0,i._)([(0,c.w)("elements")],v.prototype,"castElements",null),(0,i._)([(0,u.w)("elements",["formElements"])],v.prototype,"readElements",null),(0,i._)([(0,h.K)("elements")],v.prototype,"writeElements",null),(0,i._)([(0,l.MZ)({type:["collapsed","expanded"],json:{write:!0}})],v.prototype,"initialState",void 0),(0,i._)([(0,l.MZ)({type:String,json:{read:!1,write:!0}})],v.prototype,"type",void 0),v=m=(0,i._)([(0,d.$)("esri.form.elements.GroupElement")],v);const b=(0,g.sb)(v),w=v;var _,S=n(46227);const x=(0,g.sb)(w);let M=_=class extends o.A{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return(0,g.dp)(e,x)}readElements(e,t){return(0,g.rS)(t.formElements,x)}writeElements(e,t){t.formElements=(0,g.U2)(e,x)}clone(){return new _({description:this.description,expressionInfos:(0,s.o8)(this.expressionInfos),elements:(0,s.o8)(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(e,t){const n=new Set,{description:r,elements:i,expressionInfos:o,title:s}=this;if(I(n,e,r),I(n,e,s),!i)return[];const a=function(e,t){if(!t||0===t.length)return[];const n=T(e),r=[];for(const e of t)n.has(e.name)&&r.push(e.expression);return r}(i,o).map((t=>(0,S.Dx)(n,e,t)));await Promise.all(a);for(const r of i)A(n,{fieldsIndex:e,relationships:t},r);return Array.from(n).sort()}};function A(e,t,n){const{fieldsIndex:r}=t;if(!r||r.fields.length!==e.size)switch(I(e,r,n.label),I(e,r,n.description),n.type){case"field":(0,S.rq)(e,r,n.fieldName);break;case"group":n.elements.forEach((n=>A(e,t,n)));break;case"relationship":if(t.relationships){const i=t.relationships.find((e=>e.id===n.relationshipId));i&&(0,S.rq)(e,r,i.keyField)}(0,S._w)(e,r,n.orderByFields?.map((e=>e.field)));break;case"text":I(e,r,n.text)}}function T(e){const t=new Set;for(const n of e)if((0,a.kb)(t,n.visibilityExpression),!(0,g.oo)(n))if((0,g.CG)(n))(0,a.FB)(t,T(n.elements));else if((0,a.kb)(t,n.editableExpression),(0,g.jt)(n)){const{requiredExpression:e,valueExpression:r}=n;(0,a.FB)(t,[e,r])}return t}function I(e,t,n){(0,S._w)(e,t,(0,S.nw)(n))}(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],M.prototype,"description",void 0),(0,i._)([(0,l.MZ)({json:{write:!0}})],M.prototype,"elements",void 0),(0,i._)([(0,c.w)("elements")],M.prototype,"castElements",null),(0,i._)([(0,u.w)("elements",["formElements"])],M.prototype,"readElements",null),(0,i._)([(0,h.K)("elements")],M.prototype,"writeElements",null),(0,i._)([(0,l.MZ)({type:[f],json:{write:!0}})],M.prototype,"expressionInfos",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{default:!1,write:!0}})],M.prototype,"preserveFieldValuesWhenHidden",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],M.prototype,"title",void 0),M=_=(0,i._)([(0,d.$)("esri.form.FormTemplate")],M);const C=M},65076:function(e,t,n){"use strict";n.d(t,{A:function(){return S}});var r,i=n(82392),o=n(15565),s=n(80861),a=n(19759),l=n(81482),c=(n(6273),n(85716)),u=n(26325),d=n(81327),h=n(66215),p=n(36788),f=n(30361),m=n(98540),y=n(93814),g=n(84977),v=n(23572);n(67498);let b=r=class extends g.A{constructor(e){super(e),this.color=new y.A([0,0,0,1]),this.size=(0,v.PN)(1)}clone(){const e={color:null!=this.color?this.color.clone():null,size:this.size};return new r(e)}};(0,i._)([(0,l.MZ)((0,f.EW)({colorRequiredOnWrite:!0}))],b.prototype,"color",void 0),(0,i._)([(0,l.MZ)({...f.pI,json:{write:{isRequired:!0}}})],b.prototype,"size",void 0),b=r=(0,i._)([(0,u.$)("esri.symbols.support.Symbol3DIconOutline")],b);var w,_=n(4068);let S=class extends d.A{static{w=this}constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new w({anchor:this.anchor,anchorPosition:(0,o.o8)(this.anchorPosition),enabled:this.enabled,material:(0,o.o8)(this.material),outline:(0,o.o8)(this.outline),resource:(0,o.o8)(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||h.ON,n=x(e),r=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||h.ON).clone()}:null;return new w({size:e.size,angle:e.angle,resource:{primitive:T((()=>s.A.getLogger(this.prototype)),e.style)},material:{color:t},outline:r,anchor:n?"relative":void 0,anchorPosition:n})}static fromPictureMarkerSymbol(e){const t=!e.color||(0,h.U9)(e.color)?h.ON:e.color,n=x(e);return new w({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:n?"relative":void 0,anchorPosition:n})}static fromCIMSymbol(e){return new w({resource:{href:(0,a.Hg)({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function x(e){const t="width"in e?e.width:e.size,n="height"in e?e.height:e.size,r=M(e.xoffset),i=M(e.yoffset);return(r||i)&&t&&n?{x:-r/t,y:i/n}:null}function M(e){return isFinite(e)?e:0}(0,i._)([(0,l.MZ)({type:_.N,json:{write:!0}})],S.prototype,"material",void 0),(0,i._)([(0,l.MZ)({type:p.i,json:{write:!0}})],S.prototype,"resource",void 0),(0,i._)([(0,c.e)({Icon:"icon"},{readOnly:!0})],S.prototype,"type",void 0),(0,i._)([(0,l.MZ)({...f.pI,json:{write:{isRequired:!0}}})],S.prototype,"size",void 0),(0,i._)([(0,c.e)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],S.prototype,"anchor",void 0),(0,i._)([(0,l.MZ)({type:m.Q,json:{type:[Number],read:{reader:e=>new m.Q({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],S.prototype,"anchorPosition",void 0),(0,i._)([(0,l.MZ)({type:b,json:{write:!0}})],S.prototype,"outline",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:!0,default:0}})],S.prototype,"angle",void 0),S=w=(0,i._)([(0,u.$)("esri.symbols.IconSymbol3DLayer")],S);const A={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function T(e,t){return A[t]||(e().warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}},65452:function(e,t,n){"use strict";n.d(t,{$x:function(){return A},BR:function(){return _},CF:function(){return w},Eq:function(){return y},F2:function(){return h},G$:function(){return T},Gh:function(){return C},OP:function(){return I},Ov:function(){return g},Sv:function(){return p},TU:function(){return m},UC:function(){return d},V0:function(){return l},W_:function(){return v},XX:function(){return f},cM:function(){return u},fV:function(){return x},pJ:function(){return c},qd:function(){return M},tk:function(){return S},wI:function(){return b},yZ:function(){return a}});var r=n(6480),i=n(38116),o=n(58842),s=(n(19759),n(75994));function a(e){return null!=e&&"object"==typeof e&&"type"in e&&"feature"===e.type}function l(e){return null!=e&&"object"==typeof e&&"type"in e&&"graphics"===e.type}function c(e){return null!=e&&"object"==typeof e&&"type"in e&&"map-image"===e.type}function u(e){return null!=e&&"object"==typeof e&&"type"in e&&"knowledge-graph"===e.type&&"layers"in e}function d(e){return null!=e&&"object"==typeof e&&"type"in e&&"knowledge-graph-sublayer"===e.type}function h(e){return null!=e&&"object"==typeof e&&"type"in e&&"subtype-group"===e.type&&"sublayers"in e}function p(e){return"subtype-sublayer"===e?.type}const f={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function m(e){const t=e?.type;return"building-scene"===t||"integrated-mesh"===t||"point-cloud"===t||"scene"===t}function y(e){return"integrated-mesh"===e||"integrated-mesh-3dtiles"===e}function g(e){return"feature"===e?.type&&!e.url&&"memory"===e.source?.type}function v(e){const t=e?.type;return("feature"===t||"subtype-group"===t||"oriented-imagery"===t)&&"feature-layer"===e?.source?.type}async function b(e,t){const n=r.id?.findServerInfo(e);if(null!=n?.currentVersion)return n.owningSystemUrl||null;const o=e.toLowerCase().indexOf("/rest/services");if(-1===o)return null;const s=`${e.slice(0,o)}/rest/info`,a=null!=t?t.signal:null,{data:l}=await(0,i.A)(s,{query:{f:"json"},responseType:"json",signal:a});return l?.owningSystemUrl||null}function w(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function _(e){return w(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function S(e){return!!function(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}function x(e){return e?("subtypes"in e?e.subtypes:h(e.parent)?e.parent.subtypes:[])??[]:[]}function M(e){const t=new o.A;for(const n of e.allLayers.concat(e.allTables))"csv"===n.type||(0,s.hc)(n)||("charts"in n&&t.push(n),"subtype-group"===n.type&&t.push(...n.sublayers));return t}function A(e,t){return null}function T(e){return null}function I(e){return!e||"Feature Service"===e.type&&!e.sourceUrl}function C(e,t){if(!t||!I(e))return;const n=(e.url,null);n&&(e.url=n)}},65648:function(e,t,n){"use strict";n.d(t,{A:function(){return M}});var r,i=n(82392),o=n(3223),s=n(61090),a=n(15565),l=n(80861),c=n(81482),u=(n(6273),n(26325)),d=n(48524),h=n(8e3),p=n(61064),f=n(1912),m=n(44153),y=n(23064),g=n(10805),v=n(11021),b=n(34475),w=n(19387),_=n(64672),S=n(45852);function x(e){return!Array.isArray(e[0])}let M=r=class extends p.A{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:n}=e;let i=!1,o=!1;for(const e of t)e.hasZ&&(i=!0),e.hasM&&(o=!0);const s={rings:t.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(i&&e.hasZ){const n=e.zmin+.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(n)}if(o&&e.hasM){const n=e.mmin+.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(n)}return t})),spatialReference:n};return i&&(s.hasZ=!0),o&&(s.hasM=!0),new r(s)}constructor(e){super(function(e){if(!e)return;let{rings:t,hasM:n,hasZ:r,spatialReference:i}=e;switch(t??=[],function(e){return"number"==typeof e[0]?.[0]}(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,n??=!0;break;case 3:r??=!0!==n,n??=!r;break;default:r??=!1,n??=!1}return i??=m.A.WGS84,{...e,hasM:n,hasZ:r,rings:t,spatialReference:i}}(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=(0,y.l8)(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new f.A;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=(0,a.o8)(e)}get extent(){const e=(0,b.v)(this),{spatialReference:t}=this;return e?new h.A({...e,spatialReference:t}):null}get isSelfIntersecting(){return(0,s.Lx)(l.A.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),(0,w.A3)(this.rings)}writeRings(e,t){t.rings=(0,a.o8)(this.rings)}addRing(e){if(!e)return;const t=this.rings,n=t.length;if(x(e)){const r=[];for(let t=0,n=e.length;t<n;t++)r[t]=e[t].toArray();t[n]=r}else t[n]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new r;return e.spatialReference=this.spatialReference,e.rings=(0,a.o8)(this.rings),e.curveRings=(0,a.o8)(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(null==e)return!1;const t=this.spatialReference,n=e.spatialReference;if(null!=t!=(null!=n))return!1;if(null!=t&&null!=n&&!t.equals(n))return!1;if(this.rings.length!==e.rings.length)return!1;const r=([e,t,n,r],[i,o,s,a])=>e===i&&t===o&&(null==n&&null==s||n===s)&&(null==r&&null==a||r===a);for(let t=0;t<this.rings.length;t++){const n=this.rings[t],i=e.rings[t];if(!(0,o.aI)(n,i,r))return!1}return!0}contains(e){if(!e)return!1;const t=(0,_.Cv)(e,this.spatialReference);return(0,g.m3)(this,null!=t?t:e)}isClockwise(e){const t=x(e)?e.map((e=>this.hasZ?this.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y])):e;return(0,v.$3)(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const n=this.rings[e][t],r=this.hasZ,i=this.hasM;return r&&!i?new f.A(n[0],n[1],n[2],void 0,this.spatialReference):i&&!r?new f.A(n[0],n[1],void 0,n[2],this.spatialReference):r&&i?new f.A(n[0],n[1],n[2],n[3],this.spatialReference):new f.A(n[0],n[1],this.spatialReference)}insertPoint(e,t,n){return this._validateInputs(e,t,!0)?((0,S.h)(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e].splice(t,0,n),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const n=new f.A(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),n}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],n=this.spatialReference,r=t.map((e=>new f.A(e,n)));return this.notifyChange("rings"),r}setPoint(e,t,n){return this._validateInputs(e,t)?((0,S.h)(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e][t]=n,this.notifyChange("rings"),this):this}_validateInputs(e,t,n=!1){if(null==e||e<0||e>=this.rings.length)return!1;if(null!=t){const r=this.rings[e];if(n&&(t<0||t>r.length))return!1;if(!n&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};(0,i._)([(0,c.MZ)({readOnly:!0})],M.prototype,"cache",null),(0,i._)([(0,c.MZ)({readOnly:!0})],M.prototype,"centroid",null),(0,i._)([(0,c.MZ)({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],M.prototype,"curveRings",void 0),(0,i._)([(0,d.K)("curveRings")],M.prototype,"writeCurveRings",null),(0,i._)([(0,c.MZ)({readOnly:!0})],M.prototype,"extent",null),(0,i._)([(0,c.MZ)({readOnly:!0})],M.prototype,"isSelfIntersecting",null),(0,i._)([(0,c.MZ)({type:[[[Number]]],json:{write:{isRequired:!0}}})],M.prototype,"rings",void 0),(0,i._)([(0,d.K)("rings")],M.prototype,"writeRings",null),M=r=(0,i._)([(0,u.$)("esri.geometry.Polygon")],M),M.prototype.toJSON.isDefaultToJSON=!0},65672:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(82392),i=n(73783),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325));let a=class extends i.A{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};(0,r._)([(0,o.MZ)()],a.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),(0,r._)([(0,o.MZ)()],a.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),a=(0,r._)([(0,s.$)("esri.views.support.debugFlags")],a);const l=new a},65681:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r,i=n(82392),o=n(1817),s=n(84977),a=n(81482),l=(n(6273),n(80861),n(67498),n(26325));const c=new o.J({asc:"ascending",desc:"descending"});let u=class extends s.A{static{r=this}constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new r({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"field",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],u.prototype,"valueExpression",void 0),(0,i._)([(0,a.MZ)({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],u.prototype,"order",void 0),u=r=(0,i._)([(0,l.$)("esri.layers.support.OrderByInfo")],u)},65977:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var r,i=n(82392),o=n(38116),s=n(62991),a=n(52686),l=n(67214),c=n(37623),u=n(19759),d=n(81482),h=n(77380),p=(n(6273),n(67498),n(25376)),f=n(26325),m=n(48524),y=n(44153),g=n(45449),v=n(94763),b=n(6249),w=n(69543),_=n(30179),S=n(20923),x=n(27303),M=n(4648),A=n(60368),T=n(51177),I=n(22111),C=n(89856),E=n(63457),k=n(9014),P=n(15089),R=n(93221),O=n(44223);const N=["Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Elevation/World_Hillshade","Elevation/World_Hillshade_Dark","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Ocean_Basemap","Reference/World_Boundaries_and_Places","Reference/World_Boundaries_and_Places_Alternate","Reference/World_Transportation","World_Imagery","World_Street_Map","World_Topo_Map"];let L=r=class extends((0,S.dM)((0,I.j)((0,C.I)((0,b.f)((0,w.V)((0,M.q)((0,A.A)((0,_.b)((0,l.P)((0,T.J)((0,v.p)((0,x.d)(g.A))))))))))))){constructor(...e){super(...e),this.listMode="show",this.elevationInfo=new O.A({mode:"on-the-ground"}),this.isReference=null,this.operationalLayerType="ArcGISTiledMapServiceLayer",this.resampling=!0,this.sourceJSON=null,this.spatialReference=null,this.path=null,this.sublayers=null,this.type="tile",this.url=null}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).catch(c.QP).then((()=>this._fetchService(t)))),Promise.resolve(this)}get attributionDataUrl(){const e=this.parsedUrl?.path.toLowerCase();return e?this._getDefaultAttribution(this._getMapName(e)):null}readSpatialReference(e,t){return(e=e||t.tileInfo?.spatialReference)&&y.A.fromJSON(e)}writeSublayers(e,t,n,r){if(!this.loaded||!e)return;const i=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray(),o=[],s={writeSublayerStructure:!1,...r};i.forEach((e=>{const t=e.write({},s);o.push(t)})),o.some((e=>Object.keys(e).length>1))&&(t.layers=o)}get tileServers(){return this._getDefaultTileServers(this.parsedUrl?.path)}castTileServers(e){return Array.isArray(e)?e.map((e=>(0,u.An)(e).path)):null}fetchTile(e,t,n,r={}){const{signal:i}=r,s=this.getTileUrl(e,t,n),a={responseType:"image",signal:i,query:{...this.refreshParameters}};return(0,o.A)(s,a).then((e=>e.data))}async fetchImageBitmapTile(e,t,n,i={}){const{signal:s}=i;if(this.fetchTile!==r.prototype.fetchTile){const r=await this.fetchTile(e,t,n,i);return(0,P.C)(r,e,t,n,s)}const a=this.getTileUrl(e,t,n),l={responseType:"blob",signal:s,query:{...this.refreshParameters}},{data:c}=await(0,o.A)(a,l);return(0,P.C)(c,e,t,n,s)}getTileUrl(e,t,n){const r=!this.capabilities.operations.supportsTileMap&&this.supportsBlankTile,i=(0,u.x0)({...this.parsedUrl?.query,blankTile:!r&&null,...this.customParameters,token:this.apiKey}),o=this.tileServers;return`${o&&o.length?o[t%o.length]:this.parsedUrl?.path}/tile/${e}/${t}/${n}${i?"?"+i:""}`}loadAll(){return(0,a.g)(this,(e=>{e(this.allSublayers)}))}_fetchService(e){return new Promise(((t,n)=>{if(this.sourceJSON){if(null!=this.sourceJSON.bandCount&&null!=this.sourceJSON.pixelSizeX)throw new s.A("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");return void t({data:this.sourceJSON})}if(!this.parsedUrl)throw new s.A("tile-layer:undefined-url","layer's url is not defined");const r=(0,E.qg)(this.parsedUrl.path);if(null!=r&&"ImageServer"===r.serverType)throw new s.A("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");(0,o.A)(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t,n)})).then((t=>{let n=this.url;if(t.ssl&&(n=this.url=n.replace(/^http:/i,"https:")),this.sourceJSON=t.data,this.read(t.data,{origin:"service",url:this.parsedUrl}),10.1===this.version&&!(0,E.Wo)(n))return this._fetchServerVersion(n,e).then((e=>{this.read({currentVersion:e})})).catch((()=>{}))}))}_fetchServerVersion(e,t){if(!(0,E.Fi)(e))return Promise.reject();const n=e.replace(/(.*\/rest)\/.*/i,"$1")+"/info";return(0,o.A)(n,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:t}).then((e=>{if(e.data?.currentVersion)return e.data.currentVersion;throw new s.A("tile-layer:version-not-available","Server did not provide a version")}))}_getMapName(e){const t=e.match(/^(?:https?:)?\/\/(server\.arcgisonline\.com|services\.arcgisonline\.com|ibasemaps-api\.arcgis\.com)\/arcgis\/rest\/services\/([^/]+(\/[^/]+)*)\/mapserver/i);return t?t[2]:void 0}_getDefaultAttribution(e){if(null==e)return null;let t;e=e.toLowerCase();for(let n=0,r=N.length;n<r;n++)if(t=N[n],t.toLowerCase().includes(e))return(0,u.s2)("//static.arcgis.com/attribution/"+t);return null}_getDefaultTileServers(e){if(null==e)return[];const t=-1!==e.search(/^(?:https?:)?\/\/server\.arcgisonline\.com/i),n=-1!==e.search(/^(?:https?:)?\/\/services\.arcgisonline\.com/i);return t||n?[e,e.replace(t?/server\.arcgisonline/i:/services\.arcgisonline/i,t?"services.arcgisonline":"server.arcgisonline")]:[]}get hasOverriddenFetchTile(){return!this.fetchTile[D]}};(0,i._)([(0,d.MZ)({readOnly:!0})],L.prototype,"attributionDataUrl",null),(0,i._)([(0,d.MZ)({type:["show","hide","hide-children"]})],L.prototype,"listMode",void 0),(0,i._)([(0,d.MZ)({json:{read:!0,write:!0}})],L.prototype,"blendMode",void 0),(0,i._)([(0,d.MZ)()],L.prototype,"elevationInfo",void 0),(0,i._)([(0,d.MZ)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],L.prototype,"isReference",void 0),(0,i._)([(0,d.MZ)({readOnly:!0,type:["ArcGISTiledMapServiceLayer"]})],L.prototype,"operationalLayerType",void 0),(0,i._)([(0,d.MZ)({type:Boolean})],L.prototype,"resampling",void 0),(0,i._)([(0,d.MZ)()],L.prototype,"sourceJSON",void 0),(0,i._)([(0,d.MZ)({type:y.A})],L.prototype,"spatialReference",void 0),(0,i._)([(0,p.w)("spatialReference",["spatialReference","tileInfo"])],L.prototype,"readSpatialReference",null),(0,i._)([(0,d.MZ)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],L.prototype,"path",void 0),(0,i._)([(0,d.MZ)({readOnly:!0})],L.prototype,"sublayers",void 0),(0,i._)([(0,m.K)("sublayers",{layers:{type:[R.A]}})],L.prototype,"writeSublayers",null),(0,i._)([(0,d.MZ)({json:{read:!1,write:!1}})],L.prototype,"popupEnabled",void 0),(0,i._)([(0,d.MZ)()],L.prototype,"tileServers",null),(0,i._)([(0,h.w)("tileServers")],L.prototype,"castTileServers",null),(0,i._)([(0,d.MZ)({readOnly:!0,json:{read:!1}})],L.prototype,"type",void 0),(0,i._)([(0,d.MZ)(k.OZ)],L.prototype,"url",void 0),L=r=(0,i._)([(0,f.$)("esri.layers.TileLayer")],L);const D=Symbol("default-fetch-tile");L.prototype.fetchTile[D]=!0;const F=L},66215:function(e,t,n){"use strict";n.d(t,{ON:function(){return i},U9:function(){return s},u7:function(){return o}});var r=n(93814);const i=new r.A("white"),o=new r.A([255,255,255,0]);function s(e){return 0===e.r&&0===e.g&&0===e.b}},66353:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r,w,_,S,x,M,A,T,I,C,E,k,P,R,O,N,L,D;(0,h.default)(2,arguments);var F=String(t),j=(0,p.getDefaultOptions)(),Z=null!==(r=null!==(w=null==n?void 0:n.locale)&&void 0!==w?w:j.locale)&&void 0!==r?r:f.default,U=(0,d.default)(null!==(_=null!==(S=null!==(x=null!==(M=null==n?void 0:n.firstWeekContainsDate)&&void 0!==M?M:null==n||null===(A=n.locale)||void 0===A||null===(T=A.options)||void 0===T?void 0:T.firstWeekContainsDate)&&void 0!==x?x:j.firstWeekContainsDate)&&void 0!==S?S:null===(I=j.locale)||void 0===I||null===(C=I.options)||void 0===C?void 0:C.firstWeekContainsDate)&&void 0!==_?_:1);if(!(U>=1&&U<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var z=(0,d.default)(null!==(E=null!==(k=null!==(P=null!==(R=null==n?void 0:n.weekStartsOn)&&void 0!==R?R:null==n||null===(O=n.locale)||void 0===O||null===(N=O.options)||void 0===N?void 0:N.weekStartsOn)&&void 0!==P?P:j.weekStartsOn)&&void 0!==k?k:null===(L=j.locale)||void 0===L||null===(D=L.options)||void 0===D?void 0:D.weekStartsOn)&&void 0!==E?E:0);if(!(z>=0&&z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!Z.localize)throw new RangeError("locale must contain localize property");if(!Z.formatLong)throw new RangeError("locale must contain formatLong property");var V=(0,s.default)(e);if(!(0,i.default)(V))throw new RangeError("Invalid time value");var B=(0,c.default)(V),$=(0,o.default)(V,B),G={firstWeekContainsDate:U,weekStartsOn:z,locale:Z,_originalDate:V};return F.match(y).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,l.default[t])(e,Z.formatLong):e})).join("").match(m).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(g);if(!t)return e;return t[1].replace(v,"'")}(r);var o=a.default[i];if(o)return null!=n&&n.useAdditionalWeekYearTokens||!(0,u.isProtectedWeekYearToken)(r)||(0,u.throwProtectedError)(r,t,String(e)),null!=n&&n.useAdditionalDayOfYearTokens||!(0,u.isProtectedDayOfYearToken)(r)||(0,u.throwProtectedError)(r,t,String(e)),o($,r,Z.localize,G);if(i.match(b))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("")};var i=r(n(85816)),o=r(n(13786)),s=r(n(95039)),a=r(n(5042)),l=r(n(66680)),c=r(n(9720)),u=n(79417),d=r(n(9784)),h=r(n(10427)),p=n(35886),f=r(n(12466)),m=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g=/^'([^]*?)'?$/,v=/''/g,b=/[a-zA-Z]/;e.exports=t.default},66361:function(e,t,n){"use strict";n.d(t,{AH:function(){return c},h1:function(){return a},oY:function(){return o},qg:function(){return d},yh:function(){return s}});var r=n(70214),i=n(15565);function o(e){return e.__accessor__??null}function s(e,t){return null!=e?.metadata?.[t]}function a(e,t,n){return l(e,t,n?{policy:n,path:""}:null)}function l(e,t,n){return t?Object.keys(t).reduce(((e,r)=>{const o=r;if("__proto__"===o)return e;let s=null,a="merge";if(n&&(s=n.path?`${n.path}.${r}`:r,a=n.policy(s)),"replace"===a)return e[o]=t[o],e;if("replace-arrays"===a&&Array.isArray(e[o]))return e[o]=t[o],e;if(void 0===e[o])return e[o]=(0,i.o8)(t[o]),e;let c=e[o],u=t[o];if(c===u)return e;if(Array.isArray(u)||Array.isArray(e))c=c?Array.isArray(c)?e[o]=c.slice():e[o]=[c]:e[o]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach((e=>{c.includes(e)||c.push(e)})));else if(u&&"object"==typeof u)if(n){const t=n.path;n.path=s,e[o]=l(c,u,n),n.path=t}else e[o]=l(c,u,null);else e.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(e[o]=u);return e}),e||{}):e}function c(e){return Array.isArray(e)?e:e.split(".")}function u(e){return e.includes(",")?e.split(",").map((e=>e.trim())):[e.trim()]}function d(e,t,n,i){const o=function(e){if(Array.isArray(e)){const t=[];for(const n of e)t.push(...u(n));return t}return u(e)}(t);if(1!==o.length){const t=o.map((t=>i(e,t,n)));return(0,r.vE)(t)}return i(e,o[0],n)}},66385:function(e,t,n){"use strict";function r(e,t){return(e+t)%t}n.d(t,{g:function(){return r}})},66680:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},r=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},i={p:r,P:function(e,t){var i,o=e.match(/(P+)(p+)?/)||[],s=o[1],a=o[2];if(!a)return n(e,t);switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",n(s,t)).replace("{{time}}",r(a,t))}};t.default=i,e.exports=t.default},66801:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(82392),i=n(32083),o=n(38116),s=n(58842),a=n(48),l=n(84977),c=n(15565),u=n(11965),d=n(52686),h=n(80861),p=n(57725),f=n(37623),m=n(19759),y=n(81482),g=(n(6273),n(26325)),v=n(48524),b=n(44153),w=n(83382),_=n(43305),S=n(49112),x=(n(39553),n(73783)),M=(n(67498),n(4631)),A=n(10709);let T=class extends x.A{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const e=this.language;let t="local"===e||"global"===e?e:(0,A.xO)(e??(0,M.JK)())??"global";return t="no"===t?"nb":t,t}};(0,r._)([(0,y.MZ)()],T.prototype,"apiKey",void 0),(0,r._)([(0,y.MZ)()],T.prototype,"id",void 0),(0,r._)([(0,y.MZ)()],T.prototype,"language",void 0),(0,r._)([(0,y.MZ)()],T.prototype,"places",void 0),(0,r._)([(0,y.MZ)()],T.prototype,"serviceUrl",void 0),(0,r._)([(0,y.MZ)()],T.prototype,"worldview",void 0),T=(0,r._)([(0,g.$)("esri.support.BasemapStyle")],T);const I=T;var C,E=n(52380);let k=0,P=C=class extends(l.A.JSONSupportMixin(u.A)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+k++,this.baseLayers=new s.A,this.referenceLayers=new s.A;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&h.A.getLogger(this).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},n=e=>{e.parent=null};this.addHandles([this.baseLayers.on("after-add",(e=>t(e.item))),this.referenceLayers.on("after-add",(e=>t(e.item))),this.baseLayers.on("after-remove",(e=>n(e.item))),this.referenceLayers.on("after-remove",(e=>n(e.item)))])}initialize(){this.when().catch((e=>{h.A.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const t of e)t.destroy();const t=this.referenceLayers.toArray();for(const e of t)e.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=(0,p.pR)(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",(0,a.V)(e,this._get("baseLayers")))}_writeBaseLayers(e,t,n){const r=[];e?(n={...n,layerContainerType:"basemap"},this.baseLayers.forEach((e=>{const t=(0,E.CJ)(e,n.webmap?n.webmap.getLayerJSONFromResourceInfo(e):null,n);null!=t&&r.push(t)})),this.referenceLayers.forEach((e=>{const t=(0,E.CJ)(e,n.webmap?n.webmap.getLayerJSONFromResourceInfo(e):null,n);null!=t&&("scene"!==e.type&&(t.isReference=!0),r.push(t))})),t.baseMapLayers=r):t.baseMapLayers=r}set referenceLayers(e){this._set("referenceLayers",(0,a.V)(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return(0,d.g)(this,(e=>{e(this.baseLayers,this.referenceLayers)}))}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map((e=>(0,c.Nb)(e)?e.clone():e)),referenceLayers:this.referenceLayers.map((e=>(0,c.Nb)(e)?e.clone():e))};return this.loaded&&(e.loadStatus="loaded"),new C({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t?.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((e=>{const t=(0,c.o8)(e);return t.url&&(0,m.BQ)(t.url)&&(t.url=`https:${t.url}`),t.templateUrl&&(0,m.BQ)(t.templateUrl)&&(t.templateUrl=`https:${t.templateUrl}`),t}))),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:n,style:r}=this;(0,f.Te)(e);const i=[];if(t){const n=t.context?t.context.url:null;if(i.push(this._loadLayersFromJSON(t.data,n,e)),t.data.id&&!t.data.title){const e=t.data.id;i.push((0,S.q)(e).then((e=>{e&&this.read({title:e},t.context)})))}}else n?i.push(this._loadFromItem(n,e)):r&&i.push(this._loadFromStylesService(r,e));await Promise.all(i)}async _loadLayersFromJSON(e,t,r){const i=this.resourceInfo?.context,o=this.portalItem?.portal||i?.portal||null,s=O[i?.origin||""]??"web-map",{populateOperationalLayers:a}=await Promise.resolve().then(n.bind(n,12387)),l=[];if((0,f.Te)(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const n={context:{...i,origin:s,url:t,portal:o,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},r=e=>"web-scene"===s&&"ArcGISSceneServiceLayer"===e.layerType||e.isReference,c=a(this.baseLayers,e.baseMapLayers.filter((e=>!r(e))),n);l.push(c);const u=a(this.referenceLayers,e.baseMapLayers.filter(r),n);l.push(u)}await Promise.allSettled(l)}async _loadFromItem(e,t){const n=await e.load(t),r=await n.fetchData("json",t),i=(0,m.An)(e.itemUrl??"");return this._set("resourceInfo",{data:r.baseMap??{},context:{origin:R[e.type||""]??"web-map",portal:e.portal||w.A.getDefault(),url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||w.A.getDefault(),url:i}),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}async _loadFromStylesService(e,t){const n=e.serviceUrl.endsWith("/webmaps")?e.serviceUrl.slice(0,-8):e.serviceUrl,r=`${n}/styles/${e.id}/self`,s=`${n}/webmaps/${e.id}`,a=e.apiKey??i.A.apiKeys.basemapStyles,[l,c]=await Promise.all([(await(0,o.A)(r,{query:{token:a},signal:t?.signal})).data,(await(0,o.A)(s,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:a},signal:t?.signal})).data]);this.thumbnailUrl??=l.thumbnailUrl;const u=(0,m.An)(s);if(this._set("resourceInfo",{data:c.baseMap??{},context:{origin:"web-map",url:u}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:c.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,u,t),a)for(const e of[...this.baseLayers,...this.referenceLayers])"apiKey"in e&&(e.apiKey=a)}static fromId(e){const t=S.H[e];return t?t.itemId?new C({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):C.fromJSON(t,t.is3d?{origin:"web-scene",portal:new w.A({url:"https://www.arcgis.com"})}:{origin:"web-map"}):null}};(0,r._)([(0,y.MZ)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,n,r){this._writeBaseLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:s.A}},writer(e,t,n,r){this._writeBaseLayers(e,t,r)}}}}}})],P.prototype,"baseLayers",null),(0,r._)([(0,y.MZ)({type:String,json:{origins:{"web-scene":{write:!0}}}})],P.prototype,"id",void 0),(0,r._)([(0,y.MZ)({type:_.default})],P.prototype,"portalItem",void 0),(0,r._)([(0,y.MZ)()],P.prototype,"referenceLayers",null),(0,r._)([(0,y.MZ)({readOnly:!0})],P.prototype,"resourceInfo",void 0),(0,r._)([(0,y.MZ)({type:b.A})],P.prototype,"spatialReference",void 0),(0,r._)([(0,y.MZ)({type:I})],P.prototype,"style",void 0),(0,r._)([(0,y.MZ)()],P.prototype,"thumbnailUrl",void 0),(0,r._)([(0,y.MZ)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],P.prototype,"title",void 0),(0,r._)([(0,v.K)("title")],P.prototype,"writeTitle",null),P=C=(0,r._)([(0,g.$)("esri.Basemap")],P);const R={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},O={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},N=P},67175:function(e,t,n){"use strict";n.d(t,{$4:function(){return b},O0:function(){return w},O1:function(){return _},Sw:function(){return S},eH:function(){return g},rc:function(){return v}});var r=n(44764),i=n(93814),o=n(38116),s=n(91700),a=n(23572),l=n(93611);const c="picture-fill",u="simple-fill",d="simple-line",h="simple-marker",p="text",f="cim",m=new Map([["dash",[4,3]],["dashdot",[4,3,1,3]],["dot",[1,3]],["longdash",[8,3]],["longdashdot",[8,3,1,3]],["longdashdotdot",[8,3,1,3,1,3]],["shortdash",[4,1]],["shortdashdot",[4,1,1,1]],["shortdashdotdot",[4,1,1,1,1,1]],["shortdot",[1,1]],["solid",[]]]),y=new s.q(1e3);function g(e){const t=e.style;let n=null;if(e)switch(e.type){case h:"cross"!==t&&"x"!==t&&(n=e.color);break;case u:t&&"solid"!==t?"none"!==t&&(n={type:"pattern",x:0,y:0,src:(0,r.s)(`esri/symbols/patterns/${t}.png`),width:5,height:5}):n=e.color;break;case c:n={type:"pattern",src:e.url,width:(0,a.Lz)(e.width)*e.xscale,height:(0,a.Lz)(e.height)*e.yscale,x:(0,a.Lz)(e.xoffset),y:(0,a.Lz)(e.yoffset)};break;case p:n=e.color;break;case f:n=(0,l.Nk)(e)}return n}function v(e,t){const n=e+"-"+t;return void 0!==y.get(n)?Promise.resolve(y.get(n)):(0,o.A)(e,{responseType:"image"}).then((e=>{const r=e.data,i=r.naturalWidth,o=r.naturalHeight,s=document.createElement("canvas");s.width=i,s.height=o;const a=s.getContext("2d");a.fillStyle=t,a.fillRect(0,0,i,o),a.globalCompositeOperation="destination-in",a.drawImage(r,0,0);const l=s.toDataURL();return y.put(n,l),l}))}function b(e){if(!e)return null;let t=null;switch(e.type){case u:case c:case h:t=b(e.outline);break;case d:{const n=(0,a.Lz)(e.width);null!=e.style&&"none"!==e.style&&0!==n&&(t={color:e.color,style:_(e.style),width:n,cap:e.cap,join:"miter"===e.join?(0,a.Lz)(e.miterLimit):e.join},t.dashArray=w(t).join(",")||"none");break}default:t=null}return t}function w(e){if(!e?.style)return[];const{dashArray:t,style:n,width:r}=e;if("string"==typeof t&&"none"!==t)return t.split(",").map((e=>Number(e)));const i=r??0,o=m.has(n)?m.get(n).map((e=>e*i)):[];if("butt"!==e.cap)for(const[e,t]of o.entries())o[e]=e%2==1?t+i:Math.max(t-i,1);return o}const _=(()=>{const e={};return t=>{if(e[t])return e[t];const n=t.replaceAll("-","");return e[t]=n,n}})(),S=new i.A([128,128,128])},67214:function(e,t,n){"use strict";n.d(t,{P:function(){return b},L:function(){return w}});var r=n(82392),i=n(73783),o=n(44062),s=n(15565),a=n(91101);class l{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(a.AU),this._values=new Map,this.multipleOriginsSupported=!0}clone(e){const t=new l,n=this._originStores[a.Gr.DEFAULTS];n&&n.forEach(((e,n)=>{t.set(n,(0,s.o8)(e),a.Gr.DEFAULTS)}));for(let n=a.Gr.SERVICE;n<a.AU;n++){const r=this._originStores[n];r&&r.forEach(((r,i)=>{e&&e.has(i)||t.set(i,(0,s.o8)(r),n)}))}return t}get(e,t){const n=void 0===t?this._values:this._originStores[t];return n?n.get(e):void 0}keys(e){const t=null==e?this._values:this._originStores[e];return t?[...t.keys()]:[]}set(e,t,n=a.Gr.USER){let r=this._originStores[n];if(r||(r=new Map,this._originStores[n]=r),r.set(e,t),!this._values.has(e)||this._propertyOriginMap.get(e)<=n){const r=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,n),r!==t}return!1}delete(e,t=a.Gr.USER){const n=this._originStores[t];if(!n)return;const r=n.get(e);if(n.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(let n=t-1;n>=0;n--){const t=this._originStores[n];if(t&&t.has(e)){this._values.set(e,t.get(e)),this._propertyOriginMap.set(e,n);break}}}return r}has(e,t){const n=void 0===t?this._values:this._originStores[t];return!!n&&n.has(e)}revert(e,t){for(;t>0&&!this.has(e,t);)--t;const n=this._originStores[t],r=n?.get(e),i=this._values.get(e);return this._values.set(e,r),this._propertyOriginMap.set(e,t),i!==r}originOf(e){return this._propertyOriginMap.get(e)||a.Gr.DEFAULTS}isAtOrigin(e,t){return this.has(e,t)&&this.originOf(e)===t}isBelowOrigin(e,t){return!this.has(e)||this.originOf(e)<t}forEach(e){this._values.forEach(e)}}var c=n(41446),u=n(66361),d=n(26325);const h=e=>{let t=class extends e{constructor(...e){super(...e);const t=(0,u.oY)(this),n=t.store,r=new l;t.store=r,(0,o.k)(t,n,r)}read(e,t){(0,c.L)(this,e,t)}getAtOrigin(e,t){const n=p(this),r=(0,a.aB)(t);if("string"==typeof e)return n.get(e,r);const i={};return e.forEach((e=>{i[e]=n.get(e,r)})),i}originOf(e){return(0,a.OL)(this.originIdOf(e))}originIdOf(e){return p(this).originOf(e)}revert(e,t){const n=p(this),r=(0,a.aB)(t),i=(0,u.oY)(this);let o;o="string"==typeof e?"*"===e?n.keys(r):[e]:e,o.forEach((e=>{i.invalidate(e),n.revert(e,r),i.commit(e)}))}};return t=(0,r._)([(0,d.$)("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function p(e){return(0,u.oY)(e).store}let f=class extends(h(i.A)){};f=(0,r._)([(0,d.$)("esri.core.ReadOnlyMultiOriginJSONSupport")],f);var m=n(44212),y=n(34467);const g=e=>{let t=class extends e{constructor(...e){super(...e)}clear(e,t="user"){(0,u.oY)(this).clearOrigin(e,(0,a.aB)(t))}write(e,t){return(0,y.M)(this,e=e||{},t),e}setAtOrigin(e,t,n){(0,u.oY)(this).setAtOrigin(e,t,(0,a.aB)(n))}removeOrigin(e){const t=v(this),n=(0,a.aB)(e),r=t.keys(n);for(const e of r)t.originOf(e)===n&&t.set(e,t.get(e,n),a.Gr.USER)}updateOrigin(e,t){const n=v(this),r=(0,a.aB)(t),i=(0,m.Jt)(this,e);for(let t=r+1;t<a.AU;++t)n.delete(e,t);n.set(e,i,r)}toJSON(e){return this.write({},e)}};return t=(0,r._)([(0,d.$)("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function v(e){return(0,u.oY)(e).store}const b=e=>{let t=class extends(g(h(e))){constructor(...e){super(...e)}};return t=(0,r._)([(0,d.$)("esri.core.MultiOriginJSONSupport")],t),t};let w=class extends(b(i.A)){};w=(0,r._)([(0,d.$)("esri.core.MultiOriginJSONSupport")],w)},67488:function(e,t,n){"use strict";n.d(t,{B3:function(){return y},EA:function(){return m},K8:function(){return w},KK:function(){return C},KQ:function(){return A},Mc:function(){return l},Vp:function(){return p},YX:function(){return f},ZL:function(){return M},aI:function(){return h},ch:function(){return E},d9:function(){return T},fn:function(){return I},jp:function(){return v},oT:function(){return g},q8:function(){return x},r1:function(){return _},tQ:function(){return k},tl:function(){return S},x1:function(){return b}});var r=n(21332),i=(n(89349),n(79509)),o=n(40969);const s=[102100,102113,3857,3785,900913],a=[4326,...s,104905,104971],l=[-20037508.342788905,20037508.342788905],c=[-20037508.342787,20037508.342787],u={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:l,origin:c,dx:1e-5},d={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:l,origin:c,dx:1e-5},102100:u,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:l,origin:c,dx:1e-5},3857:u,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:u};function h(e,t){if(e===t)return!0;if(null==e||null==t)return!1;const n=e.wkid,r=t.wkid;if(null!=n||null!=r){if(n===r)return!0;if(w(e)&&w(t))return!0;const i=e.latestWkid;if(null!=i&&r===i)return!0;const o=t.latestWkid;return null!=o&&n===o}let i,o;return e.wkt2&&t.wkt2?(i=e.wkt2,o=t.wkt2):e.wkt&&t.wkt&&(i=e.wkt,o=t.wkt),!(!i||!o)&&i.toUpperCase()===o.toUpperCase()}function p(e){const t=e?.wkid;return null!=t&&t>=2e3&&d[t]||null}function f(e){if(!e)return;const{wkid:t,vcsWkid:n}=e;if(t)return n?JSON.stringify({wkid:t,vcsWkid:n}):String(t);const r=e.wkt||e.wkt2;return JSON.stringify(r?n?{wkt:r,vcsWkid:n}:{wkt:r}:{})}function m(e){if(!I(e))return!1;const{wkid:t}=e;if(t)return null==o.A[t];const n=e.wkt2||e.wkt;return!!n&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(n)}function y(e){return!(x(e)||A(e))}function g(e){return 4326===e?.wkid}function v(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function b(e){return e?.wkid===i.Y.CGCS2000}function w(e){const t=e?.wkid;return null!=t&&t>=2e3&&s.includes(t)}function _(e){return 32662===e?.wkid}function S(e){return e===i.Y.GCSMARS2000||e===i.Y.GCSMARS2000_SPHERE}function x(e){return S(e?.wkid)}function M(e){return e===i.Y.GCSMOON2000}function A(e){return M(e?.wkid)}function T(e){const t=e?.wkid;return null!=t&&t>=2e3&&a.includes(t)}function I(e){if(null==e)return!1;const t=e.wkid;return null!=t&&t>=2e3||null!=e.wkt2||null!=e.wkt}const C={wkid:4326,wkt:(0,r.HC)(d[4326].wkTemplate,{Central_Meridian:"0.0"})},E={wkid:102100,latestWkid:3857},k={wkid:32662}},67498:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});class r{static{this._m=2147483647}static{this._a=48271}static{this._c=0}constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*r._m}getInt(){return this._seed=(r._a*this._seed+r._c)%r._m,this._seed}getFloat(){return this.getInt()/(r._m-1)}getIntRange(e,t){return Math.round(this.getFloatRange(e,t))}getFloatRange(e,t){const n=t-e;return e+this.getInt()/r._m*n}}},67601:function(e,t,n){"use strict";function r(e,{timeZone:t,timeExtent:n}){return{$view:{scale:e,timeZone:t,timeProperties:{currentStart:n?.start,currentEnd:n?.end}}}}n.d(t,{N:function(){return r}})},67709:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r,i=n(82392),o=n(15565),s=n(81482),a=(n(6273),n(80861),n(26325)),l=n(48524),c=n(8e3),u=n(61064),d=n(1912),h=n(45852);function p(e){return(t,n)=>null==t?n:null==n?t:e(t,n)}let f=r=class extends u.A{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const n={};Array.isArray(e)?(n.points=e,n.spatialReference=t):function(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}(e)?n.spatialReference=e:(e.points&&(n.points=e.points),e.spatialReference&&(n.spatialReference=e.spatialReference),e.hasZ&&(n.hasZ=e.hasZ),e.hasM&&(n.hasM=e.hasM));const r=n.points?.[0];return r&&(void 0===n.hasZ&&void 0===n.hasM?(n.hasZ=r.length>2,n.hasM=!1):void 0===n.hasZ?n.hasZ=r.length>3:void 0===n.hasM&&(n.hasM=r.length>3)),n}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new c.A,n=this.hasZ,r=this.hasM,i=n?3:2,o=e[0],s=p(Math.min),a=p(Math.max);let l,u,d,h,[f,m]=o,[y,g]=o;for(let t=0,o=e.length;t<o;t++){const o=e[t],[c,p]=o;if(f=s(f,c),m=s(m,p),y=a(y,c),g=a(g,p),n&&o.length>2){const e=o[2];l=s(l,e),d=a(d,e)}if(r&&o.length>i){const e=o[i];u=s(u,e),h=a(h,e)}}return t.xmin=f,t.ymin=m,t.xmax=y,t.ymax=g,t.spatialReference=this.spatialReference,n?(t.zmin=l,t.zmax=d):(t.zmin=void 0,t.zmax=void 0),r?(t.mmin=u,t.mmax=h):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=(0,o.o8)(this.points)}addPoint(e){return(0,h.h)(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:(0,o.o8)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new r(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],n={x:t[0],y:t[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(n.z=t[2],r=3),this.hasM&&(n.m=t[r]),new d.A(n)}removePoint(e){if(!this._validateInputs(e))return null;const t=new d.A(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?((0,h.h)(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return null!=e&&e>=0&&e<this.points.length}};(0,i._)([(0,s.MZ)({readOnly:!0})],f.prototype,"cache",null),(0,i._)([(0,s.MZ)()],f.prototype,"extent",null),(0,i._)([(0,s.MZ)({type:[[Number]],json:{write:{isRequired:!0}}})],f.prototype,"points",void 0),(0,i._)([(0,l.K)("points")],f.prototype,"writePoints",null),f=r=(0,i._)([(0,a.$)("esri.geometry.Multipoint")],f),f.prototype.toJSON.isDefaultToJSON=!0},67771:function(e,t,n){"use strict";n.d(t,{AI:function(){return p},CG:function(){return d},U2:function(){return y},dp:function(){return g},jt:function(){return u},oo:function(){return h},rS:function(){return m},sb:function(){return f}});var r=n(8636),i=n(38760),o=n(72396),s=n(98477),a=n(70926),l=n(86833),c=n(44774);const u=e=>"field"===e.type,d=e=>"group"===e.type,h=e=>"text"===e.type;function p(e){return function(e){return"text-area"===e.type}(e)||function(e){return"text-box"===e.type}(e)}function f(e){return{typesWithGroup:{base:o.A,key:"type",typeMap:{attachment:i.A,field:s.A,group:e,relationship:a.A,text:l.A,utilityNetworkAssociations:c.A}},typesWithoutGroup:{base:o.A,key:"type",typeMap:{attachment:i.A,field:s.A,relationship:a.A,text:l.A,utilityNetworkAssociations:c.A}}}}function m(e,t,n=!0){if(!e)return null;const r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((e=>r[e.type])).map((e=>r[e.type].fromJSON(e)))}function y(e,t,n=!0){if(!e)return null;const r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((e=>r[e.type])).map((e=>e.toJSON()))}function g(e,t,n=!0){return e?e.map((e=>(0,r.aq)(n?t.typesWithGroup:t.typesWithoutGroup,e))):null}},67900:function(e,t,n){"use strict";function r(e){return e}function i(e){return 1e3*e}function o(e){return e}function s(e){return.001*e}n.d(t,{Kp:function(){return o},gr:function(){return i},l5:function(){return r},y:function(){return s}})},68231:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});var r,i=n(82392),o=n(93814),s=n(1817),a=n(15565),l=n(23572),c=n(81482),u=(n(6273),n(80861),n(85716)),d=n(26325),h=n(48524),p=n(47065),f=n(24826);const m=new s.J({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let y=r=class extends p.A{constructor(...e){super(...e),this.color=new o.A([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new f.A}normalizeCtorArgs(e,t,n,r){if(e&&"string"!=typeof e)return e;const i={};return e&&(i.style=e),null!=t&&(i.size=(0,l.cr)(t)),n&&(i.outline=n),r&&(i.color=r),i}writeColor(e,t){e&&"x"!==this.style&&"cross"!==this.style&&(t.color=e.toJSON()),null===e&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new r({angle:this.angle,color:(0,a.o8)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};(0,i._)([(0,c.MZ)()],y.prototype,"color",void 0),(0,i._)([(0,h.K)("color")],y.prototype,"writeColor",null),(0,i._)([(0,u.e)({esriSMS:"simple-marker"},{readOnly:!0})],y.prototype,"type",void 0),(0,i._)([(0,c.MZ)()],y.prototype,"size",void 0),(0,i._)([(0,c.MZ)({type:m.apiValues,json:{read:m.read,write:m.write}})],y.prototype,"style",void 0),(0,i._)([(0,c.MZ)({type:String,json:{write:!0}})],y.prototype,"path",null),(0,i._)([(0,c.MZ)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":f.A}},json:{default:null,write:!0}})],y.prototype,"outline",void 0),y=r=(0,i._)([(0,d.$)("esri.symbols.SimpleMarkerSymbol")],y)},68642:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(73783),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325));let l=r=class extends o.A{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new r({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};(0,i._)([(0,s.MZ)()],l.prototype,"color",void 0),(0,i._)([(0,s.MZ)()],l.prototype,"fieldName",void 0),(0,i._)([(0,s.MZ)()],l.prototype,"tooltip",void 0),(0,i._)([(0,s.MZ)()],l.prototype,"value",void 0),l=r=(0,i._)([(0,a.$)("esri.popup.content.support.ChartMediaInfoValueSeries")],l);const c=l},68660:function(e,t,n){"use strict";n.d(t,{U:function(){return u}});var r=n(82392),i=n(73783),o=n(70214),s=n(61985),a=n(9987),l=n(81482),c=n(26325);let u=class extends i.A{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(e,t,n={}){return this._installWatch(e,t,n,s.wB)}addWhen(e,t,n={}){return this._installWatch(e,t,n,s.z7)}addOnCollectionChange(e,t,{initial:n=!1,final:r=!1}={}){const i=++this._handleId;return this.addHandles([(0,s.on)(e,"after-changes",this._createSyncUpdatingCallback(),s.OH),(0,s.on)(e,"change",t,{onListenerAdd:n?e=>t({added:e.toArray(),removed:[]}):void 0,onListenerRemove:r?e=>t({added:[],removed:e.toArray()}):void 0})],i),(0,o.hA)((()=>this.removeHandles(i)))}addPromise(e){if(null==e)return e;const t=++this._handleId;this.addHandles((0,o.hA)((()=>{this._pendingPromises.delete(e)&&(0!==this._pendingPromises.size||this.hasHandles(d)||this._set("updating",!1))})),t),this._pendingPromises.add(e),this._set("updating",!0);const n=()=>this.removeHandles(t);return e.then(n,n),e}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(e,t,n={},r){const i=++this._handleId;n.sync||this._installSyncUpdatingWatch(e,i);const s=r(e,t,n);return this.addHandles(s,i),(0,o.hA)((()=>this.removeHandles(i)))}_installSyncUpdatingWatch(e,t){const n=this._createSyncUpdatingCallback(),r=(0,s.wB)(e,n,{sync:!0,equals:()=>!1});return this.addHandles(r,t),r}_createSyncUpdatingCallback(){return()=>{this.removeHandles(d),++this._scheduleHandleId;const e=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles((0,a._)((()=>{e===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(d))})),d)}}};(0,r._)([(0,l.MZ)({readOnly:!0})],u.prototype,"updating",void 0),u=(0,r._)([(0,c.$)("esri.core.support.UpdatingHandles")],u);const d=-42},68716:function(e,t,n){"use strict";var r,i,o,s,a,l,c,u,d,h,p,f,m,y,g,v,b,w,_,S,x,M,A,T,I;n.d(t,{Ab:function(){return v},Ac:function(){return u},Ap:function(){return y},CQ:function(){return F},Cj:function(){return f},Co:function(){return T},Fq:function(){return O},H0:function(){return b},H3:function(){return g},Hr:function(){return k},MT:function(){return h},NV:function(){return r},NZ:function(){return l},R:function(){return I},SB:function(){return S},Tb:function(){return a},WR:function(){return o},Xo:function(){return x},Y7:function(){return c},YY:function(){return G},_U:function(){return A},bh:function(){return $},dn:function(){return s},eA:function(){return p},iE:function(){return _},j7:function(){return w},ld:function(){return M},nI:function(){return N},pF:function(){return m},pe:function(){return d},r6:function(){return P},sS:function(){return z},tx:function(){return V},uH:function(){return D},ui:function(){return i},vt:function(){return E},xL:function(){return L},xM:function(){return C},yI:function(){return R}}),function(e){e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e[e.COLOR=16384]="COLOR"}(r||(r={})),function(e){e[e.COLOR=6144]="COLOR",e[e.DEPTH=6145]="DEPTH",e[e.STENCIL=6146]="STENCIL",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(i||(i={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(o||(o={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(s||(s={})),function(e){e[e.ADD=32774]="ADD",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX",e[e.SUBTRACT=32778]="SUBTRACT",e[e.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(a||(a={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",e[e.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(l||(l={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(c||(c={})),function(e){e[e.CW=2304]="CW",e[e.CCW=2305]="CCW"}(u||(u={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=5131]="HALF_FLOAT"}(d||(d={})),function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"}(h||(h={})),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP"}(p||(p={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(f||(f={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(m||(m={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(y||(y={})),function(e){e[e.MIN_LOD=33082]="MIN_LOD",e[e.MAX_LOD=33083]="MAX_LOD",e[e.BASE_LEVEL=33084]="BASE_LEVEL",e[e.MAX_LEVEL=33085]="MAX_LEVEL",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE"}(g||(g={})),function(e){e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.RG=33319]="RG",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER"}(v||(v={})),function(e){e[e.RGBA4=32854]="RGBA4",e[e.R16F=33325]="R16F",e[e.RG16F=33327]="RG16F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.R32F=33326]="R32F",e[e.RG32F=33328]="RG32F",e[e.RGBA32F=34836]="RGBA32F",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB5_A1=32855]="RGB5_A1",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.RGB16F=34843]="RGB16F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGB565=36194]="RGB565",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2=32857]="RGB10_A2",e[e.RGB10_A2UI=36975]="RGB10_A2UI"}(b||(b={})),function(e){e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(w||(w={})),function(e){e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(_||(_={})),function(e){e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F"}(S||(S={})),function(e){e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8"}(x||(x={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.INT=5124]="INT",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(M||(M={})),function(e){e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_READ=35045]="STATIC_READ",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.STREAM_COPY=35042]="STREAM_COPY"}(A||(A={})),function(e){e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER"}(T||(T={})),function(e){e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(I||(I={}));const C=33984;var E,k;!function(e){e[e.Texture=0]="Texture",e[e.TileTexture=1]="TileTexture",e[e.BufferObject=2]="BufferObject",e[e.VertexArrayObject=3]="VertexArrayObject",e[e.Shader=4]="Shader",e[e.Program=5]="Program",e[e.FramebufferObject=6]="FramebufferObject",e[e.Renderbuffer=7]="Renderbuffer",e[e.TransformFeedback=8]="TransformFeedback",e[e.Sync=9]="Sync",e[e.UNCOUNTED=10]="UNCOUNTED",e[e.LinesOfCode=10]="LinesOfCode",e[e.Uniform=11]="Uniform",e[e.COUNT=12]="COUNT"}(E||(E={})),function(e){e[e.NONE=0]="NONE",e[e.BACK=1029]="BACK"}(k||(k={}));const P=36064,R=36065,O=36066,N=33306,L=36096,D=36128;var F,j,Z,U,z,V,B,$,G;!function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"}(F||(F={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT=5124]="INT",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(j||(j={})),function(e){e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS"}(Z||(Z={})),function(e){e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED"}(U||(U={})),function(e){e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED"}(z||(z={})),function(e){e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(V||(V={})),function(e){e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(B||(B={})),function(e){e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL"}($||($={})),function(e){e[e.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR"}(G||(G={}))},68717:function(e,t,n){"use strict";let r;function i(){return r||(r=(async()=>{const[e,t,r]=await Promise.all([Promise.all([n.e(3859),n.e(7636),n.e(3542),n.e(4805)]).then(n.bind(n,85682)),n.e(7919).then(n.bind(n,47919)),Promise.all([n.e(7636),n.e(9065)]).then(n.bind(n,96924))]);return{arcade:e.arcade,arcadeUtils:e,batchExec:t,aiServices:r,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel}})()),r}n.d(t,{l:function(){return i}})},68749:function(e,t,n){"use strict";function r(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function i(e,t,n,r){const i=t[r],o=t[r+1];e[r]=n[0]*i+n[2]*o+n[4],e[r+1]=n[1]*i+n[3]*o+n[5]}function o(e,t,n,r=0,o=0,s=2){const a=o||t.length/s;for(let o=r;o<a;o++)i(e,t,n,o*s)}n.d(t,{gb:function(){return o},vt:function(){return r}});Object.freeze(Object.defineProperty({__proto__:null,clone:function(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},create:r,fromValues:function(e,t,n,r,i,o){const s=new Float32Array(6);return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=i,s[5]=o,s},transform:i,transformMany:o},Symbol.toStringTag,{value:"Module"}))},69045:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(26325)),s=n(698);let a=class extends s.A{constructor(e){super(e),this.type="telecomNetworkElement",this.firstUnit=null,this.numUnits=null}};(0,r._)([(0,i.MZ)({json:{write:!1}})],a.prototype,"type",void 0),(0,r._)([(0,i.MZ)({json:{write:!0}})],a.prototype,"firstUnit",void 0),(0,r._)([(0,i.MZ)({json:{write:!0}})],a.prototype,"numUnits",void 0),a=(0,r._)([(0,o.$)("esri.rest.networks.support.TelecomNetworkElement")],a)},69172:function(e,t,n){"use strict";n.d(t,{Ao:function(){return s},KQ:function(){return a},Tg:function(){return o}});var r=n(3223),i=n(47195);function o(e){return!!e&&null!=i.j[e]}function s(e){return 1/(i.j[e]||1)}const a=function(){const e=Object.keys(i.j);return(0,r.TF)(e,"decimal-degrees"),e.sort(),e}()},69543:function(e,t,n){"use strict";n.d(t,{V:function(){return v}});var r=n(82392),i=n(38116),o=n(80294),s=n(37623),a=n(19759),l=n(27805),c=n(81482),u=(n(6273),n(80861),n(67498),n(25376)),d=n(26325),h=n(91101),p=n(8e3),f=n(44153),m=n(63457),y=n(9014),g=n(86074);const v=e=>{let t=class extends e{constructor(){super(...arguments),this.capabilities=void 0,this.copyright=null,this.fullExtent=null,this.legendEnabled=!0,this.spatialReference=null,this.version=void 0,this._allLayersAndTablesMap=null}readCapabilities(e,t){const n=t.capabilities&&t.capabilities.split(",").map((e=>e.toLowerCase().trim()));if(!n)return{operations:{supportsExportMap:!1,supportsExportTiles:!1,supportsIdentify:!1,supportsQuery:!1,supportsTileMap:!1},exportMap:null,exportTiles:null};const r=this.type,i="tile"!==r&&!!t.supportsDynamicLayers,o=n.includes("query"),s=n.includes("map"),a=!!t.exportTilesAllowed,c=n.includes("tilemap"),u=n.includes("data"),d="tile"!==r&&(!t.tileInfo||i),h="tile"!==r&&(!t.tileInfo||i),p="tile"!==r,f="tile"!==r&&i&&t.currentVersion>=11.1,m=t.cimVersion?l.R.parse(t.cimVersion):null,y=m?.greaterEqual(1,4)??!1,g=m?.greaterEqual(2,0)??!1;return{operations:{supportsExportMap:s,supportsExportTiles:a,supportsIdentify:o,supportsQuery:u,supportsTileMap:c},exportMap:s?{supportsArcadeExpressionForLabeling:y,supportsCIMSymbols:g,supportsDynamicLayers:i,supportsSublayerOrderBy:f,supportsSublayerDefinitionExpression:h,supportsSublayerVisibility:d,supportsSublayersChanges:p}:null,exportTiles:a?{maxExportTilesCount:+t.maxExportTilesCount}:null}}readVersion(e,t){let n=t.currentVersion;return n||(n=t.hasOwnProperty("capabilities")||t.hasOwnProperty("tables")?10:t.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3),n}async fetchRelatedService(e){const t=this.portalItem;if(!t||!(0,g.bK)(t))return null;this._relatedFeatureServicePromise||(this._relatedFeatureServicePromise=t.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},e).then((e=>e.find((e=>"Feature Service"===e.type))??null),(()=>null)));const n=await this._relatedFeatureServicePromise;return(0,s.Te)(e),n?{itemId:n.id,url:n.url}:null}async fetchSublayerInfo(e,t){const{source:n}=e;if(this?.portalItem&&"tile"===this.type&&"map-layer"===n?.type&&(0,g.bK)(this.portalItem)&&e.originIdOf("url")<h.Gr.SERVICE){const r=await this.fetchRelatedService(t);r&&(e.url=(0,a.fj)(r.url,n.mapLayerId.toString()),e.layerItemId=r.itemId)}const{url:r}=e;let o;if("data-layer"===n.type)o=(await(0,i.A)(r,{responseType:"json",query:{f:"json",...this.customParameters,token:this.apiKey},...t})).data;else if(r&&e.originIdOf("url")>h.Gr.SERVICE)try{const e=await this._fetchAllLayersAndTablesFromService(r),t=(0,m.qg)(r)?.sublayer??n.mapLayerId;o=e.get(t)}catch{}else{let r=e.id;"map-layer"===n?.type&&(r=n.mapLayerId);try{o=(await this.fetchAllLayersAndTables(t)).get(r)}catch{}}return o}async fetchAllLayersAndTables(e){return this._fetchAllLayersAndTablesFromService(this.parsedUrl?.path,e)}async _fetchAllLayersAndTablesFromService(e,t){await this.load(t),this._allLayersAndTablesMap||=new Map;const n=(0,m.qg)(e),r=(0,o.tE)(this._allLayersAndTablesMap,n?.url.path,(()=>(0,i.A)((0,a.fj)(n?.url.path,"/layers"),{responseType:"json",query:{f:"json",...this.customParameters,token:this.apiKey}}).then((e=>{const t=new Map,{layers:n,tables:r}=e.data,i=[...n??[],...r??[]];for(const e of i)t.set(e.id,e);return{result:t}}),(e=>({error:e}))))),l=await r;if((0,s.Te)(t),"result"in l)return l.result;throw l.error}};return(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"capabilities",void 0),(0,r._)([(0,u.w)("service","capabilities",["capabilities","cimVersion","currentVersion","exportTilesAllowed","maxExportTilesCount","supportsDynamicLayers","tileInfo"])],t.prototype,"readCapabilities",null),(0,r._)([(0,c.MZ)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),(0,r._)([(0,c.MZ)({type:p.A})],t.prototype,"fullExtent",void 0),(0,r._)([(0,c.MZ)(y.id)],t.prototype,"id",void 0),(0,r._)([(0,c.MZ)({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}})],t.prototype,"legendEnabled",void 0),(0,r._)([(0,c.MZ)(y.M6)],t.prototype,"popupEnabled",void 0),(0,r._)([(0,c.MZ)({type:f.A})],t.prototype,"spatialReference",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"version",void 0),(0,r._)([(0,u.w)("service","version",["currentVersion","capabilities","tables","supportedImageFormatTypes"])],t.prototype,"readVersion",null),t=(0,r._)([(0,d.$)("esri.layers.mixins.ArcGISMapService")],t),t}},69799:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r,c,u,d,h,p,f;(0,o.default)(1,arguments);var m=(0,l.getDefaultOptions)(),y=(0,a.default)(null!==(n=null!==(r=null!==(c=null!==(u=null==t?void 0:t.firstWeekContainsDate)&&void 0!==u?u:null==t||null===(d=t.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==c?c:m.firstWeekContainsDate)&&void 0!==r?r:null===(p=m.locale)||void 0===p||null===(f=p.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==n?n:1),g=(0,i.default)(e,t),v=new Date(0);return v.setUTCFullYear(g,0,y),v.setUTCHours(0,0,0,0),(0,s.default)(v,t)};var i=r(n(22036)),o=r(n(10427)),s=r(n(20930)),a=r(n(9784)),l=n(35886);e.exports=t.default},69967:function(e,t,n){"use strict";n.d(t,{GB:function(){return i},Qo:function(){return s},Y4:function(){return o}});var r=n(96285);class i{static{this.instance=new r.oh("Etc/UTC")}}function o(e){return e instanceof r.bo?e===i.instance:"unknown"===e?.toString().toLowerCase()}function s(e){return o(e)?i.instance:e}},69982:function(e,t,n){"use strict";e.exports=n(4477)},70040:function(e,t,n){"use strict";n.d(t,{B$:function(){return f},LJ:function(){return m},Pj:function(){return v},Rg:function(){return h},Yz:function(){return y},z8:function(){return p}});var r=n(2532);function i(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function o(e){return void 0!==e.points}function s(e){return void 0!==e.x&&void 0!==e.y}function a(e){return void 0!==e.paths}function l(e){return void 0!==e.rings}function c(e){return function(t,n){return null==t?n:null==n?t:e(t,n)}}const u=c(Math.min),d=c(Math.max);function h(e,t){return a(t)?y(e,t.paths,!1,!1):l(t)?y(e,t.rings,!1,!1):o(t)?v(e,t.points,!1,!1,!1,!1):i(t)?g(e,t):(s(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function p(e){let t,n,i,o;for(e.reset(),t=i=1/0,n=o=-1/0;e.nextPath();){const r=f(e);t=Math.min(r[0],t),i=Math.min(r[1],i),n=Math.max(r[2],n),o=Math.max(r[3],o)}return(0,r.vt)([t,i,n,o])}function f(e){let t,n,i,o;for(t=i=1/0,n=o=-1/0;e.nextPoint();)t=Math.min(e.x,t),i=Math.min(e.y,i),n=Math.max(e.x,n),o=Math.max(e.y,o);return(0,r.vt)([t,i,n,o])}function m(e,t){return a(t)?y(e,t.paths,!0,!1):l(t)?y(e,t.rings,!0,!1):o(t)?v(e,t.points,!0,!1,!0,!1):i(t)?g(e,t,!0,!1,!0,!1):(s(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function y(e,t,n,r){const i=n?3:2;if(!t.length||!t[0].length)return null;let o,s,a,l,[c,h]=t[0][0],[p,f]=t[0][0];for(let e=0;e<t.length;e++){const m=t[e];for(let e=0;e<m.length;e++){const t=m[e],[y,g]=t;if(c=u(c,y),h=u(h,g),p=d(p,y),f=d(f,g),n&&t.length>2){const e=t[2];o=u(o,e),s=d(s,e)}if(r&&t.length>i){const e=t[i];a=u(o,e),l=d(s,e)}}}return n?r?(e[0]=c,e[1]=h,e[2]=o,e[3]=a,e[4]=p,e[5]=f,e[6]=s,e[7]=l,e.length=8,e):(e[0]=c,e[1]=h,e[2]=o,e[3]=p,e[4]=f,e[5]=s,e.length=6,e):r?(e[0]=c,e[1]=h,e[2]=a,e[3]=p,e[4]=f,e[5]=l,e.length=6,e):(e[0]=c,e[1]=h,e[2]=p,e[3]=f,e.length=4,e)}function g(e,t,n,r,i,o){const s=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let u=t.zmin,d=t.zmax,h=t.mmin,p=t.mmax;return i?(u=u||0,d=d||0,o?(h=h||0,p=p||0,e[0]=s,e[1]=l,e[2]=u,e[3]=h,e[4]=a,e[5]=c,e[6]=d,e[7]=p,e):(e[0]=s,e[1]=l,e[2]=u,e[3]=a,e[4]=c,e[5]=d,e)):o?(h=h||0,p=p||0,e[0]=s,e[1]=l,e[2]=h,e[3]=a,e[4]=c,e[5]=p,e):(e[0]=s,e[1]=l,e[2]=a,e[3]=c,e)}function v(e,t,n,r,i,o){const s=n?3:2,a=r&&o,l=n&&i;if(!t.length||!t[0].length)return null;let c,h,p,f,[m,y]=t[0],[g,v]=t[0];for(let e=0;e<t.length;e++){const n=t[e],[r,i]=n;if(m=u(m,r),y=u(y,i),g=d(g,r),v=d(v,i),l&&n.length>2){const e=n[2];c=u(c,e),h=d(h,e)}if(a&&n.length>s){const e=n[s];p=u(c,e),f=d(h,e)}}return i?(c=c||0,h=h||0,o?(p=p||0,f=f||0,e[0]=m,e[1]=y,e[2]=c,e[3]=p,e[4]=g,e[5]=v,e[6]=h,e[7]=f,e):(e[0]=m,e[1]=y,e[2]=c,e[3]=g,e[4]=v,e[5]=h,e)):o?(p=p||0,f=f||0,e[0]=m,e[1]=y,e[2]=p,e[3]=g,e[4]=v,e[5]=f,e):(e[0]=m,e[1]=y,e[2]=g,e[3]=v,e)}},70214:function(e,t,n){"use strict";n.d(t,{Bf:function(){return h},DQ:function(){return u},a0:function(){return o},a2:function(){return l},ei:function(){return s},hA:function(){return i},rE:function(){return c},vE:function(){return a},wt:function(){return d}});const r={remove:()=>{}};function i(e){return e?{remove(){e&&(e(),e=void 0)}}:r}function o(e){e.forEach((e=>e?.remove()))}function s(e){o(e),e.length=0}function a(e){return i((()=>o(e)))}function l(e){return i((()=>e()?.remove()))}function c(e){return i((()=>e?.abort()))}function u(e){return i(null!=e?()=>e.destroy():void 0)}function d(e){(function(e){return"object"==typeof e&&!!e&&"remove"in e&&"function"==typeof e.remove})(e)&&e.remove()}function h(e){return{[Symbol.dispose](){e.remove()}}}},70227:function(e,t,n){"use strict";n.d(t,{NM:function(){return a},Tb:function(){return l},_R:function(){return s},h9:function(){return o},rM:function(){return c},x0:function(){return u},y7:function(){return d}});var r=n(4506),i=n(8636);const o=["none","underline","line-through"],s=["normal","italic","oblique"],a=["normal","lighter","bold","bolder"],l={type:Number,cast:e=>{const t=(0,i.GB)(e);return 0===t?1:(0,r.qE)(t,.1,4)},nonNullable:!0},c={type:["left","right","center"],nonNullable:!0},u={type:["baseline","top","middle","bottom"],nonNullable:!0},d=8},70261:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(49926),l=n(23547);let c=r=class extends l.A{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new r({expressionInfo:this.expressionInfo?.clone()})}};(0,i._)([(0,o.MZ)({type:a.A,json:{write:!0}})],c.prototype,"expressionInfo",void 0),(0,i._)([(0,o.MZ)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0),c=r=(0,i._)([(0,s.$)("esri.popup.content.ExpressionContent")],c);const u=c},70427:function(e,t,n){"use strict";n.d(t,{A:function(){return g}});var r,i=n(82392),o=n(84977),s=n(15565),a=n(81482),l=(n(6273),n(80861),n(26325)),c=n(48524),u=n(67709),d=n(1912),h=n(56053),p=n(54483),f=n(10576),m=n(33673),y=n(72991);let g=r=class extends o.A{constructor(){super(...arguments),this.geometry=null,this.interpolation="nearest",this.mosaicRule=null,this.outFields=null,this.pixelSize=null,this.raster=void 0,this.returnFirstValueOnly=!0,this.sampleDistance=null,this.sampleCount=null,this.sliceId=null,this.timeExtent=null}writeGeometry(e,t,n){null!=e&&(t.geometryType=(0,h.$B)(e),t[n]=e.toJSON())}set locations(e){if(e?.length){const t=new u.A({spatialReference:e[0].spatialReference,points:e.map((({x:e,y:t})=>[e,t]))});this._set("locations",e),this.geometry=t}}clone(){return new r((0,s.o8)({geometry:this.geometry,locations:this.locations,interpolation:this.interpolation,mosaicRule:this.mosaicRule,outFields:this.outFields,raster:this.raster,returnFirstValueOnly:this.returnFirstValueOnly,sampleDistance:this.sampleDistance,sampleCount:this.sampleCount,sliceId:this.sliceId,pixelSize:this.pixelSize,timeExtent:this.timeExtent}))}};(0,i._)([(0,a.MZ)({types:p.yR,json:{read:h.rS}})],g.prototype,"geometry",void 0),(0,i._)([(0,c.K)("geometry")],g.prototype,"writeGeometry",null),(0,i._)([(0,a.MZ)({type:[d.A]})],g.prototype,"locations",null),(0,i._)([(0,a.MZ)({type:String,json:{type:m.SZ.jsonValues,read:m.SZ.read,write:m.SZ.write}})],g.prototype,"interpolation",void 0),(0,i._)([(0,a.MZ)({type:f.A,json:{write:!0}})],g.prototype,"mosaicRule",void 0),(0,i._)([(0,a.MZ)({type:[String],json:{write:!0}})],g.prototype,"outFields",void 0),(0,i._)([(0,a.MZ)({type:d.A,json:{write:!0}})],g.prototype,"pixelSize",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],g.prototype,"raster",void 0),(0,i._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],g.prototype,"returnFirstValueOnly",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:!0}})],g.prototype,"sampleDistance",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:!0}})],g.prototype,"sampleCount",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:!0}})],g.prototype,"sliceId",void 0),(0,i._)([(0,a.MZ)({type:y.T,json:{read:{source:"time"},write:{target:"time"}}})],g.prototype,"timeExtent",void 0),g=r=(0,i._)([(0,l.$)("esri.rest.support.ImageSampleParameters")],g)},70538:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r,i=n(82392),o=n(93814),s=n(15565),a=n(81482),l=n(8636),c=n(85716),u=n(26325),d=n(81327);let h=class extends d.A{static{r=this}constructor(e){super(e),this.color=p.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new r({color:(0,s.o8)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,i._)([(0,a.MZ)({type:o.A,nonNullable:!0,json:{type:[l.jz],write:(e,t,n)=>t[n]=e.toArray(o.A.AlphaMode.UNLESS_OPAQUE),default:()=>p.clone(),defaultEquals:e=>e.toCss(!0)===p.toCss(!0)}})],h.prototype,"color",void 0),(0,i._)([(0,c.e)({Water:"water"},{readOnly:!0})],h.prototype,"type",void 0),(0,i._)([(0,a.MZ)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],h.prototype,"waterbodySize",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:!0,default:null}})],h.prototype,"waveDirection",void 0),(0,i._)([(0,a.MZ)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],h.prototype,"waveStrength",void 0),h=r=(0,i._)([(0,u.$)("esri.symbols.WaterSymbol3DLayer")],h);const p=new o.A([0,119,190])},70842:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r,i=n(82392),o=n(84977),s=n(23572),a=n(81482),l=n(77380),c=(n(6273),n(67498),n(26325)),u=n(70227);let d=r=class extends o.A{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return(0,s.cr)(e)}clone(){return new r({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};(0,i._)([(0,a.MZ)({type:u.h9,json:{default:"none",write:!0}})],d.prototype,"decoration",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"family",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:{overridePolicy:(e,t,n)=>({enabled:!n||!n.textSymbol3D})}}})],d.prototype,"size",void 0),(0,i._)([(0,l.w)("size")],d.prototype,"castSize",null),(0,i._)([(0,a.MZ)({type:u._R,json:{default:"normal",write:!0}})],d.prototype,"style",void 0),(0,i._)([(0,a.MZ)({type:u.NM,json:{default:"normal",write:!0}})],d.prototype,"weight",void 0),d=r=(0,i._)([(0,c.$)("esri.symbols.Font")],d)},70926:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r,i=n(82392),o=n(15565),s=n(81482),a=(n(6273),n(80861),n(26325)),l=n(72396),c=n(10357);let u=r=class extends l.A{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new r({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:(0,o.o8)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};(0,i._)([(0,s.MZ)({type:Number,json:{write:!0}})],u.prototype,"displayCount",void 0),(0,i._)([(0,s.MZ)({type:["list"],json:{write:!0}})],u.prototype,"displayType",void 0),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],u.prototype,"editableExpression",void 0),(0,i._)([(0,s.MZ)({type:[c.A],json:{write:!0}})],u.prototype,"orderByFields",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{write:!0}})],u.prototype,"relationshipId",void 0),(0,i._)([(0,s.MZ)({type:["relationship"],json:{read:!1,write:!0}})],u.prototype,"type",void 0),u=r=(0,i._)([(0,a.$)("esri.form.elements.RelationshipElement")],u);const d=u},71004:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r,i,o=n(82392),s=n(73783),a=n(37623),l=n(26325);(i=r||(r={}))[i.PENDING=0]="PENDING",i[i.RESOLVED=1]="RESOLVED",i[i.REJECTED=2]="REJECTED";class c{constructor(){this._resolver=(0,a.Tw)(),this._status=r.PENDING,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=r.RESOLVED,this._cleanUp()}),(()=>{this._status=r.REJECTED,this._cleanUp()})),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===r.RESOLVED}isRejected(){return this._status===r.REJECTED}isFulfilled(){return this._status!==r.PENDING}abort(){this._resolver.reject((0,a.NK)())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=(0,a.Tw)(),t=[...this._resolvingPromises,e.promise],n=this._allPromise=Promise.all(t);n.then((()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()}),(e=>{this.isFulfilled()||this._allPromise!==n||(0,a.zf)(e)||this._resolver.reject(e)})),e.resolve()}}const u=e=>{let t=class extends e{constructor(...e){super(...e),this._promiseProps=new c,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(e,t){return this._promiseProps.promise.then((()=>this)).then(e,t)}catch(e){return this.when(null,e)}addResolvingPromise(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}};return t=(0,o._)([(0,l.$)("esri.core.Promise")],t),t};let d=class extends(u(s.A)){};d=(0,o._)([(0,l.$)("esri.core.Promise")],d),function(e){e.EsriPromiseMixin=u}(d||(d={}))},71207:function(e,t,n){"use strict";n.d(t,{j:function(){return N}});var r=n(82392),i=n(58842),o=n(15565),s=n(80861),a=n(19759),l=n(81482),c=(n(6273),n(25376)),u=n(26325),d=n(48524),h=n(63910),p=n(91101),f=n(8e3),m=n(21570),y=n(44153),g=n(63457),v=n(9014),b=n(14755),w=n(84977),_=(n(67498),n(23375));let S=class extends(b.A.ClonableMixin(w.A)){constructor(e){super(e),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};(0,r._)([(0,l.MZ)()],S.prototype,"creatorField",void 0),(0,r._)([(0,l.MZ)()],S.prototype,"creationDateField",void 0),(0,r._)([(0,l.MZ)()],S.prototype,"editorField",void 0),(0,r._)([(0,l.MZ)()],S.prototype,"editDateField",void 0),(0,r._)([(0,l.MZ)()],S.prototype,"realm",void 0),(0,r._)([(0,l.MZ)((0,_.P6)("dateFieldsTimeReference",!0))],S.prototype,"timeZone",void 0),S=(0,r._)([(0,u.$)("esri.layers.support.EditFieldsInfo")],S);let x=class extends(b.A.ClonableMixin(w.A)){constructor(e){super(e)}};(0,r._)([(0,l.MZ)({constructOnly:!0,json:{write:!0}})],x.prototype,"name",void 0),(0,r._)([(0,l.MZ)({constructOnly:!0,json:{write:!0}})],x.prototype,"fields",void 0),(0,r._)([(0,l.MZ)({constructOnly:!0,json:{write:!0}})],x.prototype,"isAscending",void 0),(0,r._)([(0,l.MZ)({constructOnly:!0,json:{write:!0}})],x.prototype,"indexType",void 0),(0,r._)([(0,l.MZ)({constructOnly:!0,json:{write:!0}})],x.prototype,"isUnique",void 0),(0,r._)([(0,l.MZ)({constructOnly:!0,json:{write:!0}})],x.prototype,"description",void 0),x=(0,r._)([(0,u.$)("esri.layers.support.FeatureIndex")],x);var M=n(16948),A=n(5262);let T=class extends(b.A.ClonableMixin(w.A)){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};(0,r._)([(0,l.MZ)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],T.prototype,"shapeAreaField",void 0),(0,r._)([(0,l.MZ)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],T.prototype,"shapeLengthField",void 0),(0,r._)([(0,l.MZ)({type:String,json:{read:e=>A.dk.read(e)||A.Sk.read(e)}})],T.prototype,"units",void 0),T=(0,r._)([(0,u.$)("esri.layers.support.GeometryFieldsInfo")],T);var I=n(76591),C=n(65452),E=n(46148),k=n(76456),P=n(55797);let R=class extends(b.A.ClonableMixin(w.A)){constructor(e){super(e),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(e){if(!e)return null;const t={};for(const n of Object.keys(e))t[n]=(0,P.rS)(e[n]);return t}writeDomains(e,t){if(!e)return;const n={};for(const t of Object.keys(e))e[t]&&(n[t]=e[t]?.toJSON());t.domains=n}};(0,r._)([(0,l.MZ)({type:Number,json:{write:!0}})],R.prototype,"code",void 0),(0,r._)([(0,l.MZ)({type:Object,json:{write:!0}})],R.prototype,"defaultValues",void 0),(0,r._)([(0,l.MZ)({json:{write:!0}})],R.prototype,"domains",void 0),(0,r._)([(0,c.w)("domains")],R.prototype,"readDomains",null),(0,r._)([(0,d.K)("domains")],R.prototype,"writeDomains",null),(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],R.prototype,"name",void 0),R=(0,r._)([(0,u.$)("esri.layers.support.Subtype")],R);var O=n(86074);const N=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.fieldsIndex=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(i.A.ofType(x)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=y.A.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.uniqueIdFields=null,this.version=void 0,this._isUrlHostModified=!1,this._isUrlHostModificationEnabled=!1}getFieldDomain(){throw new Error("Not implemented")}getField(e){return this.fieldsIndex.get(e)}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:e}=this;if(e){const{query:t,operations:n,editing:r}=e;if(!t.supportsQueryByOthers||!t.supportsQueryByAnonymous)return"load";if(n.supportsEditing&&!(r.supportsUpdateByOthers&&r.supportsUpdateByAnonymous&&r.supportsDeleteByOthers&&r.supportsDeleteByAnonymous))return"load"}if((0,M.rQ)(this.serviceDefinitionExpression)||(0,M.rQ)(this.definitionExpression))return"load";if(this.userHasUpdateItemPrivileges){if((0,M.tG)(this))return"load";if(this.hasUpdateItemRestrictions)return e.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const t=this.editFieldsInfo;return(t?.creatorField||t?.editorField)&&e?.operations.supportsEditing?"editing":null}readCapabilitiesFromService(e,t){return(0,k.S)(t,this.url)}readEditingInfo(e,t){const{editingInfo:n}=t;return n?{lastEditDate:null!=n.lastEditDate?new Date(n.lastEditDate):null}:null}get effectiveCapabilities(){const e=this.capabilities;if(!e)return null;const t=(0,o.o8)(e),{operations:n,editing:r}=t;return(0,M.Pt)(this)?(this.userHasUpdateItemPrivileges&&(n.supportsQuery=!0),t):this.userHasUpdateItemPrivileges?(n.supportsAdd=n.supportsDelete=n.supportsEditing=n.supportsQuery=n.supportsUpdate=r.supportsDeleteByOthers=r.supportsGeometryUpdate=r.supportsUpdateByOthers=!0,t):(this.userHasFullEditingPrivileges&&n.supportsEditing&&(n.supportsAdd=n.supportsDelete=n.supportsUpdate=r.supportsGeometryUpdate=!0),t)}get effectiveEditingEnabled(){return!1}readGlobalIdFieldFromService(e,t){return(0,M.jD)(t)}get hasFullEditingRestrictions(){const e=this.capabilities;if(!e||(0,M.Pt)(this))return!1;const{operations:t,editing:n}=e;return t.supportsEditing&&!(t.supportsAdd&&t.supportsDelete&&t.supportsUpdate&&n.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const e=this.capabilities;if(!e)return!1;const{operations:t,editing:n}=e;return(0,M.Pt)(this)?!t.supportsQuery:!(t.supportsAdd&&t.supportsDelete&&t.supportsEditing&&t.supportsQuery&&t.supportsUpdate&&n.supportsDeleteByOthers&&n.supportsGeometryUpdate&&n.supportsUpdateByOthers)}readIsTableFromService(e,t){return"Table"===t.type}readMaxScale(e,t){return t.effectiveMaxScale||e||0}readMinScale(e,t){return t.effectiveMinScale||e||0}readObjectIdFieldFromService(e,t){return(0,M.Zm)(t)}readServiceDefinitionExpression(e,t){return t.definitionQuery||t.definitionExpression}readUniqueIdFields(e,t){return t.uniqueIdInfo?.OIDFieldContainsHashValue?t.uniqueIdInfo.fields:null}set url(e){if(null==e)return void this._set("url",e);const t=(0,g.HZ)({layer:this,url:e,nonStandardUrlAllowed:!0,logger:s.A.getLogger(this)});this._set("url",t.url),null!=t.layerId&&this._set("layerId",t.layerId)}writeUrl(e,t,n,r){(0,g.LS)(this,e,null,t,r)}readVersion(e,t){return(0,M.$4)(t)}get isUrlHostModified(){const{loaded:e,url:t,_isUrlHostModified:n}=this;if(n)return!0;if(!e||!t)return!1;if(this.originIdOf("url")<p.Gr.USER)return!1;const r=this.sourceJSON?.preferredHost;if(!r)return!1;if(!(0,a.FX)(t,`https://${r}`,!0))return!1;for(let e=p.Gr.USER-1;e>=p.Gr.PORTAL_ITEM;e--){const n=this.getAtOrigin("url",(0,p.OL)(e));if(n)return!(0,a.FX)(t,n,!0)}return!1}applyPreferredHost(e){const{url:t,portalItem:n}=this;if(!t||!(0,C.OP)(n))return;const r=(0,C.$x)();r&&this._isUrlHostModificationEnabled&&(this._set("url",r),this._isUrlHostModified=!0,n&&(0,C.Gh)(n,(0,C.G$)()))}applyHostFromPortalItem(){const{url:e,portalItem:t}=this;if(!e||this.originIdOf("url")===p.Gr.USER||!t?.url||!(0,C.OP)(t)||!(0,O.Y)(t,O.mm.HOSTED_SERVICE)||(0,a.FX)(e,t.url,!0)||!this._isUrlHostModificationEnabled)return;const n=(0,a.Ln)(t.url);this._set("url",(0,a.hf)(e,n)),this._isUrlHostModified=!0}};return(0,r._)([(0,l.MZ)({readOnly:!0})],t.prototype,"authenticationTriggerEvent",null),(0,r._)([(0,l.MZ)({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),(0,r._)([(0,l.MZ)({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","isDataBranchVersioned","isDataVersioned","maxRecordCount","maxRecordCountFactor","maxUniqueIDCount","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),(0,r._)([(0,c.w)("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),(0,r._)([(0,l.MZ)((0,_.P6)("dateFieldsTimeReference"))],t.prototype,"dateFieldsTimeZone",void 0),(0,r._)([(0,l.MZ)({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),(0,r._)([(0,l.MZ)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),(0,r._)([(0,l.MZ)({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),(0,r._)([(0,l.MZ)({readOnly:!0,type:S})],t.prototype,"editFieldsInfo",void 0),(0,r._)([(0,l.MZ)({readOnly:!0})],t.prototype,"editingInfo",void 0),(0,r._)([(0,c.w)("editingInfo")],t.prototype,"readEditingInfo",null),(0,r._)([(0,l.MZ)({readOnly:!0})],t.prototype,"effectiveCapabilities",null),(0,r._)([(0,l.MZ)()],t.prototype,"effectiveEditingEnabled",null),(0,r._)([(0,l.MZ)((()=>{const e=(0,o.o8)(v.Yj),t=e.json.origins;return t["web-map"]={read:!1,write:!1},t["portal-item"]={read:!1,write:!1},e})())],t.prototype,"elevationInfo",void 0),(0,r._)([(0,l.MZ)()],t.prototype,"fieldsIndex",void 0),(0,r._)([(0,l.MZ)({type:I.A,json:{name:"layerDefinition.floorInfo",write:{layerContainerTypes:h.K}}})],t.prototype,"floorInfo",void 0),(0,r._)([(0,l.MZ)({type:f.A,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),(0,r._)([(0,l.MZ)()],t.prototype,"gdbVersion",void 0),(0,r._)([(0,l.MZ)({readOnly:!0,type:T,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),(0,r._)([(0,l.MZ)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:M.iX.read}}}})],t.prototype,"geometryType",void 0),(0,r._)([(0,l.MZ)({type:String})],t.prototype,"globalIdField",void 0),(0,r._)([(0,c.w)("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),(0,r._)([(0,l.MZ)({readOnly:!0})],t.prototype,"hasFullEditingRestrictions",null),(0,r._)([(0,l.MZ)({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),(0,r._)([(0,l.MZ)({readOnly:!0})],t.prototype,"hasUpdateItemRestrictions",null),(0,r._)([(0,l.MZ)({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),(0,r._)([(0,l.MZ)({readOnly:!0,type:m.A})],t.prototype,"heightModelInfo",void 0),(0,r._)([(0,l.MZ)({type:Date})],t.prototype,"historicMoment",void 0),(0,r._)([(0,l.MZ)({type:i.A.ofType(x),readOnly:!0})],t.prototype,"indexes",void 0),(0,r._)([(0,l.MZ)({readOnly:!0})],t.prototype,"isTable",void 0),(0,r._)([(0,c.w)("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),(0,r._)([(0,l.MZ)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),(0,r._)([(0,l.MZ)(v.hG)],t.prototype,"maxScale",void 0),(0,r._)([(0,c.w)("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),(0,r._)([(0,l.MZ)(v.hn)],t.prototype,"minScale",void 0),(0,r._)([(0,c.w)("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),(0,r._)([(0,l.MZ)({type:String})],t.prototype,"objectIdField",void 0),(0,r._)([(0,c.w)("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),(0,r._)([(0,l.MZ)((0,_.P6)("preferredTimeReference"))],t.prototype,"preferredTimeZone",void 0),(0,r._)([(0,l.MZ)({type:[E.A],readOnly:!0})],t.prototype,"relationships",void 0),(0,r._)([(0,l.MZ)({type:Boolean})],t.prototype,"returnM",void 0),(0,r._)([(0,l.MZ)({type:Boolean})],t.prototype,"returnZ",void 0),(0,r._)([(0,l.MZ)({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),(0,r._)([(0,l.MZ)({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),(0,r._)([(0,c.w)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),(0,r._)([(0,l.MZ)({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),(0,r._)([(0,l.MZ)()],t.prototype,"sourceJSON",void 0),(0,r._)([(0,l.MZ)({type:y.A,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),(0,r._)([(0,l.MZ)({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),(0,r._)([(0,l.MZ)({type:[R],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"subtypes",void 0),(0,r._)([(0,l.MZ)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),(0,r._)([(0,l.MZ)({type:[String],readOnly:!0})],t.prototype,"uniqueIdFields",void 0),(0,r._)([(0,c.w)("service","uniqueIdFields",["uniqueIdInfo.OIDFieldContainsHashValue","uniqueIdInfo.fields"])],t.prototype,"readUniqueIdFields",null),(0,r._)([(0,l.MZ)(v.OZ)],t.prototype,"url",null),(0,r._)([(0,d.K)("url")],t.prototype,"writeUrl",null),(0,r._)([(0,l.MZ)({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),(0,r._)([(0,c.w)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),(0,r._)([(0,l.MZ)({readOnly:!0})],t.prototype,"isUrlHostModified",null),t=(0,r._)([(0,u.$)("esri.layers.mixins.FeatureLayerBase")],t),t}},71210:function(e,t,n){"use strict";n.d(t,{R:function(){return r}});class r{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){this.accessed?.clear(),this.clear()}onAccessed(e){null!=this._observer&&e!==this._observer&&(null==this.accessed&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){null!=this._observer&&(this.clear(),null!=this.accessed&&(null==this._handles&&(this._handles=[]),this.accessed.forEach((e=>{this._handles.push(e.observe(this._observer))})),this.accessed.clear()))}clear(){if(null!=this._handles){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}}},71276:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325));let a=class extends i.A{constructor(e){super(e),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};(0,r._)([(0,o.MZ)({type:[Object],json:{write:!0}})],a.prototype,"conditionBarriers",void 0),(0,r._)([(0,o.MZ)({type:[Object],json:{write:!0}})],a.prototype,"outputConditions",void 0),(0,r._)([(0,o.MZ)({type:[Object],json:{write:!0}})],a.prototype,"functions",void 0),(0,r._)([(0,o.MZ)({type:[Object],json:{write:!0}})],a.prototype,"functionBarriers",void 0),(0,r._)([(0,o.MZ)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],a.prototype,"traversabilityScope",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],a.prototype,"shortestPathNetworkAttributeName",void 0),(0,r._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],a.prototype,"includeBarriers",void 0),(0,r._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],a.prototype,"validateConsistency",void 0),(0,r._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],a.prototype,"ignoreBarriersAtStartingPoints",void 0),a=(0,r._)([(0,s.$)("esri.networks.support.TraceConfiguration")],a);const l=a},71519:function(e,t,n){"use strict";n.d(t,{J:function(){return A}});var r=n(82392),i=n(61985),o=n(81482),s=n(6273),a=n(80861),l=(n(67498),n(26325)),c=n(55423),u=n(46190),d=n(79645),h=n(63279),p=n(30347),f=n(62991),m=n(89809),y=n(46320),g=n(726),v=n(68231);s.A.add("esri-cluster-arcade-enabled",!0);const b=(0,s.A)("esri-cluster-arcade-enabled"),w=new Set(["simple-line","simple-fill","picture-fill"]);function _(e,t){let n=t.clone();if(!S(n))return n;if(t.symbols.some((e=>w.has(e.type)))&&(n=new d.A({symbol:new v.A})),n.authoringInfo||(n.authoringInfo=new g.A),n.authoringInfo.isAutoGenerated=!0,"visualVariables"in n){const t=(n.visualVariables||[]).filter((e=>"$view.scale"!==e.valueExpression));t.forEach((t=>{"rotation"===t.type?t.field?t.field=M(e,t.field,"avg_angle","number"):t.valueExpression&&(t.field=x(e,t.valueExpression,"avg_angle","number"),t.valueExpression=null):t.normalizationField?(t.field=M(e,t.field,"avg_norm","number",t.normalizationField),t.normalizationField=null):t.field?t.field=M(e,t.field,"avg","number"):t.valueExpression&&(t.field=x(e,t.valueExpression,"avg","number"),t.valueExpression=null)})),n.visualVariables=t}switch(n.type){case"simple":break;case"pie-chart":for(const t of n.attributes)t.field?t.field=M(e,t.field,"sum","number"):t.valueExpression&&(t.field=x(e,t.valueExpression,"sum","number"),t.valueExpression=null);break;case"unique-value":n.field?n.field=M(e,n.field,"mode","string"):n.valueExpression&&(n.field=x(e,n.valueExpression,"mode","string"),n.valueExpression=null);break;case"class-breaks":n.normalizationField?(n.field=M(e,n.field,"avg_norm","number",n.normalizationField),n.normalizationField=null):n.field?n.field=M(e,n.field,"avg","number"):n.valueExpression&&(n.field=x(e,n.valueExpression,"avg","number"),n.valueExpression=null)}return n}const S=e=>{const t=t=>a.A.getLogger("esri.views.2d.layers.support.clusterUtils").error(new f.A("Unsupported-renderer",t,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const n=e.normalizationType;if("field"!==n)return t(`FeatureReductionCluster does not support a normalizationType of ${n}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!b){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some((e=>!(!("valueExpression"in e)||!e.valueExpression))))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function x(e,t,n,r){const i=(0,m.d)(t),o="mode"===n?`cluster_type_${i}`:"sum"===n?`cluster_sum_${i}`:`cluster_avg_${i}`;return e.some((e=>e.name===o))||e.push(new c.A({name:o,isAutoGenerated:!0,onStatisticExpression:new y.A({expression:t,returnType:r}),statisticType:n})),o}function M(e,t,n,r,i){if("cluster_count"===t||e.some((e=>e.name===t)))return t;const o=function(e,t,n){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const e=n,r="field",i=t.toLowerCase()+",norm:"+r+","+e.toLowerCase();return"cluster_avg_"+(0,m.d)(i)}}}(n,t,i);return e.some((e=>e.name===o))||("avg_norm"===n?e.push(new c.A({name:o,isAutoGenerated:!0,onStatisticExpression:new y.A({expression:`$feature.${t} / $feature.${i}`,returnType:r}),statisticType:"avg"})):e.push(new c.A({name:o,isAutoGenerated:!0,onStatisticField:t,statisticType:n}))),o}const A=e=>{let t=class extends e{constructor(...e){super(...e),this.addHandles((0,i.wB)((()=>this.renderer),(()=>{if(this.featureReduction){const e=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",e)}}),i.OH))}set featureReduction(e){const t=this._normalizeFeatureReduction(e);this._set("featureReduction",t)}set renderer(e){}_withClusterVariable(e,t,n){const r=e.clone();return"visualVariables"in r&&(r.visualVariables||(r.visualVariables=[]),r.visualVariables.some((e=>"size"===e.type))||r.visualVariables.push(new h.A({field:"cluster_count",stops:[new p.A({value:1}),new p.A({useMinValue:!0,size:t}),new p.A({useMaxValue:!0,size:n})]}))),r}_normalizeFeatureReduction(e){if("cluster"!==e?.type)return e;const t=e.clone(),n=[new c.A({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],r=(t.fields??[]).filter((e=>!e.isAutoGenerated)),i=e.renderer&&!e.renderer.authoringInfo?.isAutoGenerated,{clusterMinSize:o,clusterMaxSize:s}=t;if(i){t.fields=[...n,...r];const e=this._withClusterVariable(t.renderer,o,s);return t.effectiveFeatureRenderer=e,t.effectiveClusterRenderer=e,t}if(e.symbol){if(t.fields=[...n,...r],t.renderer=null,!this.renderer)return t.effectiveFeatureRenderer=null,t.effectiveClusterRenderer=null,t;const i=_(n,this.renderer),a=this._withClusterVariable(i,o,s),l="visualVariables"in a&&a.visualVariables?a.visualVariables:[],c=new d.A({symbol:e.symbol,visualVariables:l});return t.fields=[...n,...r],t.effectiveFeatureRenderer=a,t.effectiveClusterRenderer=c,t}if(!this.renderer)return e;const a=_(n,this.renderer);t.fields=[...n,...r],t.renderer=a;const l=this._withClusterVariable(a,o,s);return t.effectiveFeatureRenderer=l,t.effectiveClusterRenderer=l,t}};return(0,r._)([(0,o.MZ)(u.d)],t.prototype,"featureReduction",null),t=(0,r._)([(0,l.$)("esri.layers.mixins.FeatureReductionLayer")],t),t}},71709:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});const r=[];function i(e){r.push(e),1===r.length&&queueMicrotask((()=>{const e=r.slice();r.length=0;for(const t of e)t()}))}},71973:function(e,t,n){"use strict";n.d(t,{g:function(){return l}});var r=n(31859),i=n(59594),o=n(80177),s=n(11178),a=n(22040);const l={base:n(74525).A,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":r.A,"column-chart":i.A,"line-chart":s.A,"pie-chart":a.A,image:o.A}}},72136:function(e,t){"use strict";var n="object"==typeof global&&global&&global.Object===Object&&global;t.A=n},72396:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(82392),i=n(84977),o=n(81482),s=n(26325);let a=class extends i.A{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],a.prototype,"description",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],a.prototype,"label",void 0),(0,r._)([(0,o.MZ)()],a.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],a.prototype,"visibilityExpression",void 0),a=(0,r._)([(0,s.$)("esri.form.elements.Element")],a);const l=a},72523:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r=n(82392),i=n(14755),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(25376)),l=n(26325),c=n(48524),u=n(72991),d=n(38946),h=n(23375);function p(e,t){return d.T.fromJSON({value:e,unit:t})}let f=class extends(i.A.ClonableMixin(o.A)){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(e,t){return t.timeExtent&&Array.isArray(t.timeExtent)&&2===t.timeExtent.length?u.T.fromArray(t.timeExtent):null}writeFullTimeExtent(e,t){null!=e?.start&&null!=e.end?t.timeExtent=e.toArray():t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?p(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?p(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}writeInterval(e,t){t.timeInterval=e?.toJSON().value??null,t.timeIntervalUnits=e?.toJSON().unit??null}};(0,r._)([(0,s.MZ)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],f.prototype,"cumulative",void 0),(0,r._)([(0,s.MZ)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],f.prototype,"endField",void 0),(0,r._)([(0,s.MZ)({type:u.T,json:{write:{enabled:!0,allowNull:!0}}})],f.prototype,"fullTimeExtent",void 0),(0,r._)([(0,a.w)("fullTimeExtent",["timeExtent"])],f.prototype,"readFullTimeExtent",null),(0,r._)([(0,c.K)("fullTimeExtent")],f.prototype,"writeFullTimeExtent",null),(0,r._)([(0,s.MZ)({type:Boolean,json:{write:!0}})],f.prototype,"hasLiveData",void 0),(0,r._)([(0,s.MZ)({type:d.T,json:{write:{enabled:!0,allowNull:!0}}})],f.prototype,"interval",void 0),(0,r._)([(0,a.w)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],f.prototype,"readInterval",null),(0,r._)([(0,c.K)("interval")],f.prototype,"writeInterval",null),(0,r._)([(0,s.MZ)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],f.prototype,"startField",void 0),(0,r._)([(0,s.MZ)((0,h.P6)("timeReference",!0))],f.prototype,"timeZone",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],f.prototype,"trackIdField",void 0),(0,r._)([(0,s.MZ)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],f.prototype,"useTime",void 0),(0,r._)([(0,s.MZ)({type:[Date],json:{read:!1}})],f.prototype,"stops",void 0),f=(0,r._)([(0,l.$)("esri.layers.support.TimeInfo")],f)},72557:function(e,t,n){"use strict";n.d(t,{Bj:function(){return u},Tu:function(){return d},ud:function(){return c}});const r="calcite-mode-",i="dark",o="light",s=/\W/g,a="--esri-calcite-mode-name";function l(){return getComputedStyle(document.body).getPropertyValue(a).replaceAll(s,"").toLowerCase()}function c(){return l()===i}function u(){const e=l();switch(e){case i:case o:return`${r}${e}`;default:return null}}function d(e){const t=u();t&&(h(e),e.classList.add(t))}function h(e){Array.from(e.classList).forEach((t=>{t.startsWith(r)&&e.classList.remove(t)}))}},72991:function(e,t,n){"use strict";n.d(t,{T:function(){return h}});var r,i=n(82392),o=n(84977),s=n(11895),a=n(81482),l=(n(6273),n(80861),n(67498),n(25376)),c=n(26325),u=n(48524),d=n(82506);let h=class extends o.A{static{r=this}static get allTime(){return p}static get empty(){return f}static fromArray(e){return new r({start:null!=e[0]?new Date(e[0]):e[0],end:null!=e[1]?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?.getTime()??null}get isAllTime(){return this.equals(r.allTime)}get isEmpty(){return this.equals(r.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?.getTime()??null}clone(){return new r({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,r=e.start?.getTime()??e.start,i=e.end?.getTime()??e.end;return t===r&&n===i}expandTo(e,t=d.qU){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=(0,s.lL)(n,e,t));let i=this.end;if(i){const n=(0,s.lL)(i,e,t);i=i.getTime()===n.getTime()?n:(0,s.S1)(n,1,e,t)}return new r({start:n,end:i})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return r.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,i=e.start?.getTime()??-1/0,o=e.end?.getTime()??1/0;let s,a;return i>=t&&i<=n?s=i:t>=i&&t<=o&&(s=t),n>=i&&n<=o?a=n:o>=t&&o<=n&&(a=o),null==s||null==a||isNaN(s)||isNaN(a)?r.empty:new r({start:s===-1/0?null:new Date(s),end:a===1/0?null:new Date(a)})}offset(e,t,n=d.qU){if(this.isEmpty||this.isAllTime)return this.clone();const i=new r,{start:o,end:a}=this;return null!=o&&(i.start=(0,s.S1)(o,e,t,n)),null!=a&&(i.end=(0,s.S1)(a,e,t,n)),i}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return p.clone();const t=null!=this.start&&null!=e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,n=null!=this.end&&null!=e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new r({start:t,end:n})}};(0,i._)([(0,a.MZ)({type:Date,json:{write:{allowNull:!0}}})],h.prototype,"end",void 0),(0,i._)([(0,l.w)("end")],h.prototype,"readEnd",null),(0,i._)([(0,u.K)("end")],h.prototype,"writeEnd",null),(0,i._)([(0,a.MZ)({readOnly:!0,json:{read:!1}})],h.prototype,"isAllTime",null),(0,i._)([(0,a.MZ)({readOnly:!0,json:{read:!1}})],h.prototype,"isEmpty",null),(0,i._)([(0,a.MZ)({type:Date,json:{write:{allowNull:!0}}})],h.prototype,"start",void 0),(0,i._)([(0,l.w)("start")],h.prototype,"readStart",null),(0,i._)([(0,u.K)("start")],h.prototype,"writeStart",null),h=r=(0,i._)([(0,c.$)("esri.time.TimeExtent")],h);const p=new h,f=new h({start:void 0,end:void 0})},73027:function(e,t,n){"use strict";n.d(t,{M5:function(){return p},eV:function(){return d},xR:function(){return u}});var r=n(38116),i=n(62991),o=n(37623),s=n(19759),a=n(98593);let l=null,c=!0;function u(e,t,n){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(c)try{return new ImageData(e,t)}catch(e){c=!1}return h(e,t,n)}function d(e,t,n,r){if(!t||!n)throw new Error("Cannot construct image data without dimensions");if(c)try{return new ImageData(e,t,n)}catch(e){c=!1}const i=h(t,n,r);return i.data.set(e,0),i}function h(e,t,n){return n||(l||(l=document.createElement("canvas"),l.width=1,l.height=1),n=l),n.getContext("2d").createImageData(e,t)}async function p(e,t){const{arrayBuffer:l,mediaType:c}=await async function(e,t){const n=(0,s.r$)(e);if(n?.isBase64)return{arrayBuffer:(0,a.M)(n.data),mediaType:n.mediaType};const i=await(0,r.A)(e,{responseType:"array-buffer",...t});return{arrayBuffer:i.data,mediaType:i.getHeader?.("Content-Type")??""}}(e,t),u="image/png"===c;if("image/gif"===c){const{isAnimatedGIF:e,parseGif:r}=await n.e(4989).then(n.bind(n,4989));if(e(l))return r(l,t)}if(u){const{isAnimatedPNG:e,parseApng:r}=await n.e(3034).then(n.bind(n,23034));if(e(l))return r(l,t)}return async function(e,t){const n=window.URL.createObjectURL(e);try{const{data:e}=await(0,r.A)(n,{...t,responseType:"image"});return e}catch(e){if(!(0,o.zf)(e))throw new i.A("invalid-image",`Could not fetch requested image at ${n}`);throw e}finally{window.URL.revokeObjectURL(n)}}(new Blob([l],{type:c}),t)}},73360:function(e,t,n){"use strict";n.d(t,{Hi:function(){return l},IB:function(){return c},WH:function(){return s},yu:function(){return a}});n(6273);var r=n(63103),i=n(68716),o=n(18039);function s(e){const t=e.gl;switch(t.getError()){case t.NO_ERROR:return null;case t.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case t.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case t.INVALID_OPERATION:return"The specified command is not allowed for the current state";case t.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case t.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case t.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function a(e,t,n,i,a=0){const l=e.gl;e.bindBuffer(n);for(const n of i){const i=t.get(n.name);if(null==i)continue;const c=a*n.stride;if(n.count<=4)l.vertexAttribPointer(i,n.count,n.type,n.normalized,n.stride,n.offset+c),l.enableVertexAttribArray(i),n.divisor>0&&e.gl.vertexAttribDivisor(i,n.divisor);else if(9===n.count)for(let t=0;t<3;t++)l.vertexAttribPointer(i+t,3,n.type,n.normalized,n.stride,n.offset+12*t+c),l.enableVertexAttribArray(i+t),n.divisor>0&&e.gl.vertexAttribDivisor(i+t,n.divisor);else if(16===n.count)for(let t=0;t<4;t++)l.vertexAttribPointer(i+t,4,n.type,n.normalized,n.stride,n.offset+16*t+c),l.enableVertexAttribArray(i+t),n.divisor>0&&e.gl?.vertexAttribDivisor(i+t,n.divisor);if((0,r.en)()){s(e);const t=(0,o._)(n.type),r=n.offset;Math.round(t/r)}}}function l(e,t,n,r){const o=e.gl;e.bindBuffer(n);for(const n of r){const r=t.get(n.name);if(n.count<=4)o.disableVertexAttribArray(r),n.divisor&&n.divisor>0&&e.gl?.vertexAttribDivisor(r,0);else if(9===n.count)for(let t=0;t<3;t++)o.disableVertexAttribArray(r+t),n.divisor&&n.divisor>0&&e.gl?.vertexAttribDivisor(r+t,0);else if(16===n.count)for(let t=0;t<4;t++)o.disableVertexAttribArray(r+t),n.divisor&&n.divisor>0&&e.gl?.vertexAttribDivisor(r+t,0)}e.unbindBuffer(i.NZ.ARRAY_BUFFER)}function c(e){switch(e){case i.Ab.ALPHA:case i.Ab.LUMINANCE:case i.Ab.RED:case i.Ab.RED_INTEGER:case i.H0.R8:case i.H0.R8I:case i.H0.R8UI:case i.H0.R8_SNORM:case i.Xo.STENCIL_INDEX8:return 1;case i.Ab.LUMINANCE_ALPHA:case i.Ab.RG:case i.Ab.RG_INTEGER:case i.H0.RGBA4:case i.H0.R16F:case i.H0.R16I:case i.H0.R16UI:case i.H0.RG8:case i.H0.RG8I:case i.H0.RG8UI:case i.H0.RG8_SNORM:case i.H0.RGB565:case i.H0.RGB5_A1:case i.SB.DEPTH_COMPONENT16:return 2;case i.Ab.RGB:case i.Ab.RGB_INTEGER:case i.H0.RGB8:case i.H0.RGB8I:case i.H0.RGB8UI:case i.H0.RGB8_SNORM:case i.H0.SRGB8:case i.SB.DEPTH_COMPONENT24:return 3;case i.Ab.RGBA:case i.Ab.RGBA_INTEGER:case i.H0.RGBA8:case i.H0.R32F:case i.H0.R11F_G11F_B10F:case i.H0.RG16F:case i.H0.R32I:case i.H0.R32UI:case i.H0.RG16I:case i.H0.RG16UI:case i.H0.RGBA8I:case i.H0.RGBA8UI:case i.H0.RGBA8_SNORM:case i.H0.SRGB8_ALPHA8:case i.H0.RGB9_E5:case i.H0.RGB10_A2UI:case i.H0.RGB10_A2:case i.SB.DEPTH_COMPONENT32F:case i.iE.DEPTH24_STENCIL8:return 4;case i.iE.DEPTH32F_STENCIL8:return 5;case i.H0.RGB16F:case i.H0.RGB16I:case i.H0.RGB16UI:return 6;case i.H0.RG32F:case i.H0.RG32I:case i.H0.RG32UI:case i.H0.RGBA16F:case i.H0.RGBA16I:case i.H0.RGBA16UI:return 8;case i.H0.RGB32F:case i.H0.RGB32I:case i.H0.RGB32UI:return 12;case i.H0.RGBA32F:case i.H0.RGBA32I:case i.H0.RGBA32UI:return 16;case i.CQ.COMPRESSED_RGB_S3TC_DXT1_EXT:case i.CQ.COMPRESSED_RGBA_S3TC_DXT1_EXT:return.5;case i.CQ.COMPRESSED_RGBA_S3TC_DXT3_EXT:case i.CQ.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case i.CQ.COMPRESSED_R11_EAC:case i.CQ.COMPRESSED_SIGNED_R11_EAC:case i.CQ.COMPRESSED_RGB8_ETC2:case i.CQ.COMPRESSED_SRGB8_ETC2:case i.CQ.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case i.CQ.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return.5;case i.CQ.COMPRESSED_RG11_EAC:case i.CQ.COMPRESSED_SIGNED_RG11_EAC:case i.CQ.COMPRESSED_RGBA8_ETC2_EAC:case i.CQ.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}},73462:function(e,t,n){"use strict";n.d(t,{n_:function(){return V},ho:function(){return $}});var r=n(62991),i=n(6273),o=n(37623),s=n(32809),a=n(45878),l=n(15331),c=n(80861),u=n(57725),d=n(38116),h=n(19759);const p={async request(e,t){const n=e.options,r=n.responseType;n.signal=t?.signal,n.responseType="native"===r||"native-request-init"===r?"native-request-init":r&&["blob","json","text"].includes(r)&&(0,h.sC)(e.url)?.after?r:"array-buffer";const i=await(0,d.A)(e.url,n),o={data:i.data,httpStatus:i.httpStatus,ssl:i.ssl};switch(i.requestOptions?.responseType){case"native-request-init":return delete o.data.signal,o;case"blob":o.data=await o.data.arrayBuffer();break;case"json":o.data=(new TextEncoder).encode(JSON.stringify(o.data)).buffer;break;case"text":o.data=(new TextEncoder).encode(o.data).buffer}return{result:o,transferList:[o.data]}}};var f=n(2236),m=n(44764),y=n(32083),g=(n(39553),n(6480));const v={};var b=n(71709);class w{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach((t=>{this[t]=(...n)=>e[t](...n)}))}}class _{constructor(){this._dispatcher=new w,this._workerPostMessage({type:f.Go.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}postMessage(e){(0,b.d)((()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))}))}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,t,n){this._dispatcher.addEventListener(e,t,n)}removeEventListener(e,t,n){this._dispatcher.removeEventListener(e,t,n)}_workerPostMessage(e){(0,b.d)((()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))}))}async _workerMessageHandler(e){const t=(0,f.VI)(e);if(t&&t.type===f.Go.OPEN){const{modulePath:e,jobId:n}=t;let r=await l.A.loadWorker(e);r||(r=await import(e));const i=l.A.connect(r);this._workerPostMessage({type:f.Go.OPENED,jobId:n,data:i})}}}var S=n(4631),x=n(74872);const M=()=>c.A.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:A}=f.Go;let T,I;const C="Failed to create Worker. Fallback to execute module in main thread";async function E(){if(!(0,i.A)("esri-workers"))return k(new _);if(!T&&!I)try{const e='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'.split("{CONFIGURATION}").join(function(){let e;if(null!=y.A.default){const t={...y.A};delete t.default,e=JSON.parse(JSON.stringify(t))}else e=JSON.parse(JSON.stringify(y.A));e.assetsPath=(0,h.s2)(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?(0,h.s2)(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=(0,S.JK)(),e.has={"esri-csp-restrictions":(0,i.A)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,i.A)("esri-2d-update-debug"),"esri-2d-log-updating":(0,i.A)("esri-2d-log-updating"),"featurelayer-pbf":(0,i.A)("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":(0,i.A)("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":(0,i.A)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,i.A)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,i.A)("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":(0,i.A)("featurelayer-query-max-depth"),"featurelayer-query-tile-max-features":(0,i.A)("featurelayer-query-tile-max-features"),"featurelayer-query-tile-concurrency":(0,i.A)("featurelayer-query-tile-concurrency"),"featurelayer-query-pausing-enabled":(0,i.A)("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-concurrency":(0,i.A)("featurelayer-snapshot-concurrency"),"featurelayer-snapshot-enabled":(0,i.A)("featurelayer-snapshot-enabled"),"esri-atomics":(0,i.A)("esri-atomics"),"esri-shared-array-buffer":(0,i.A)("esri-shared-array-buffer"),"esri-tiles-debug":(0,i.A)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,i.A)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,i.A)("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=(0,h.s2)(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=(0,h.s2)(e.workers.workerPath):e.workers.workerPath=(0,h.s2)((0,m.s)("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=y.A.workers.loaderConfig,n=function(e){const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages?.slice()||[],paths:{...v.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=v.baseUrl),t}({baseUrl:t?.baseUrl,locale:(0,S.JK)(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t?.has},map:{...t?.map},paths:{...t?.paths},packages:t?.packages||[]}),r={buildDate:x.$,fullVersion:g.ol,revision:x.u};return JSON.stringify({esriConfig:e,loaderConfig:n,kernelInfo:r})}());T=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}catch(e){I=e||{}}let e;if(T)try{e=new Worker(T,{name:"esri-worker-"+P++})}catch(t){M().warn(C,I),e=new _}else M().warn(C,I),e=new _;return k(e)}async function k(e){return new Promise((t=>{function n(i){const o=(0,f.VI)(i);o&&o.type===A&&(e.removeEventListener("message",n),e.removeEventListener("error",r),t(e))}function r(t){t.preventDefault(),e.removeEventListener("message",n),e.removeEventListener("error",r),M().warn("Failed to create Worker. Fallback to execute module in main thread",t),(e=new _).addEventListener("message",n),e.addEventListener("error",r)}e.addEventListener("message",n),e.addEventListener("error",r)}))}let P=0;const{ABORT:R,INVOKE:O,OPEN:N,OPENED:L,RESPONSE:D}=f.Go;class F{static async create(e){const t=await E();return new F(t,e)}constructor(e,t){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=t,e.addEventListener("message",this._onMessage.bind(this)),e.addEventListener("error",(e=>{e.preventDefault(),c.A.getLogger("esri.core.workers.WorkerOwner").error(e)}))}terminate(){this.worker.terminate()}async open(e,t={}){const{signal:n}=t,r=(0,f.Jc)();return new Promise(((t,i)=>{const s={resolve:t,reject:i,abortHandle:(0,o.NY)(n,(()=>{this._outJobs.delete(r),this._post({type:R,jobId:r})}))};this._outJobs.set(r,s),this._post({type:N,jobId:r,modulePath:e})}))}_onMessage(e){const t=(0,f.VI)(e);if(t)switch(t.type){case L:this._onOpenedMessage(t);break;case D:this._onResponseMessage(t);break;case R:this._onAbortMessage(t);break;case O:this._onInvokeMessage(t)}}_onAbortMessage(e){const t=this._inJobs,n=e.jobId,r=t.get(n);r&&(r.controller&&r.controller.abort(),t.delete(n))}_onInvokeMessage(e){const{methodName:t,jobId:n,data:r,abortable:i}=e,s=i?new AbortController:null,a=this._inJobs,l=p[t];let c;try{if("function"!=typeof l)throw new TypeError(`${t} is not a function`);c=l.call(null,r,{signal:s?s.signal:null})}catch(e){return void this._post({type:D,jobId:n,error:(0,f.mF)(e)})}(0,o.$X)(c)?(a.set(n,{controller:s,promise:c}),c.then((e=>{a.has(n)&&(a.delete(n),this._post({type:D,jobId:n},e))}),(e=>{a.has(n)&&(a.delete(n),e||(e={message:"Error encountered at method"+t}),(0,o.zf)(e)||this._post({type:D,jobId:n,error:(0,f.mF)(e||{message:`Error encountered at method ${t}`})}))}))):this._post({type:D,jobId:n},c)}_onOpenedMessage(e){const{jobId:t,data:n}=e,r=this._outJobs.get(t);r&&(this._outJobs.delete(t),(0,u.xt)(r.abortHandle),r.resolve(n))}_onResponseMessage(e){const{jobId:t,error:n,data:i}=e,o=this._outJobs.get(t);o&&(this._outJobs.delete(t),(0,u.xt)(o.abortHandle),n?o.reject(r.A.fromJSON(JSON.parse(n))):o.resolve(i))}_post(e,t,n){return(0,f.u1)(this.worker,e,t,n)}}const j=(0,i.A)("host-browser")?Math.min(navigator.hardwareConcurrency-1,(0,i.A)("workers-pool-size")??8):0;let Z=(0,i.A)("esri-mobile")?Math.min(j,3):j;Z||(Z=(0,i.A)("safari")&&(0,i.A)("mac")?7:2);let U=0;const z=[];function V(){H()}async function B(e,t){const n=new s.A,{registryTarget:r,...i}=t;return await n.open(e,i),r&&(0,a.k)(r,n),n}async function $(e,t={}){if("string"!=typeof e)throw new r.A("workers:undefined-module","modulePath is missing");let n=t.strategy||"distributed";if((0,i.A)("host-webworker")&&!(0,i.A)("esri-workers")&&(n="local"),"local"===n){let n=await l.A.loadWorker(e);n||(n=await import(e)),(0,o.Te)(t.signal);const r=t.client||n;return B([l.A.connect(n,t.schedule)],{...t,client:r})}if(await H(),(0,o.Te)(t.signal),"dedicated"===n){const n=U++%Z;return B([await z[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const n=Math.min(t.maxNumWorkers,Z);if(n<Z){const r=new Array(n);for(let i=0;i<n;++i){const n=U++%Z;r[i]=z[n].open(e,t)}return B(r,t)}}return B(z.map((n=>n.open(e,t))),t)}let G,q=null;async function H(){if(q)return q;G=new AbortController;const e=[];for(let t=0;t<Z;t++){const n=F.create(t).then((e=>(z[t]=e,e)));e.push(n)}return q=Promise.all(e),q}},73738:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},73783:function(e,t,n){"use strict";n.d(t,{A:function(){return D}});var r=n(61090),i=n(56802),o=n(80861),s=n(57725),a=n(90199),l=n(44212),c=n(44),u=n(88135),d=(n(6273),n(15565)),h=n(39744),p=n(59823),f=n(91101),m=n(99595),y=n(49095),g=n(71210);class v extends p.T{constructor(e,t){super(),this.propertyName=e,this.metadata=t,this.trackingTarget=new g.R(this),this.flags=0,this.flags=y.i.Dirty|(t.nonNullable?y.i.NonNullable:0)|(t.hasOwnProperty("value")?y.i.HasDefaultValue:0)|(void 0===t.get?y.i.DepTrackingInitialized:0)|(void 0===t.dependsOn?y.i.AutoTracked:0)}destroy(){this.flags&y.i.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&(0,m.gc)(this);const t=e.store,n=this.propertyName,r=this.flags,i=t.get(n);if(r&y.i.Computing)return i;if(~r&y.i.Dirty&&t.has(n))return i;this.flags|=y.i.Computing;const o=e.host;let s;r&y.i.AutoTracked?s=(0,m.a)(this.trackingTarget,this.metadata.get,o):((0,m.Xr)(o,this),s=this.metadata.get.call(o)),this.flags|=y.i.DepTrackingInitialized,t.set(n,s,f.Gr.COMPUTED);const a=t.get(n);return a===i?this.flags&=~y.i.Dirty:(0,m.F_)(this.commit,this),this.flags&=~y.i.Computing,a}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~y.i.Dirty,this.onCommitted()}onInvalidated(){~this.flags&y.i.Overridden&&(this.flags|=y.i.Dirty);const e=this._observers;if(e&&e.length>0)for(const t of e)t.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const e of t)e.onCommitted()}}}class b{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const t=new b;return this._values.forEach(((n,r)=>{e&&e.has(r)||t.set(r,(0,d.o8)(n))})),t}get(e){return this._values.get(e)}originOf(){return f.Gr.USER}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,t){return this.has(e)}isBelowOrigin(e,t){return!this.has(e)}forEach(e){this._values.forEach(e)}}function w(e,t,n){return void 0!==e}function _(e,t,n,r){return!(void 0===e||null==n&&e.flags&y.i.NonNullable&&(r.lifecycle,c.v.INITIALIZING,1))}class S{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=c.v.INITIALIZING,this.store=new b,this.mutable=!0,this._origin=f.Gr.USER;const t=this.host.constructor.__accessorMetadata__;for(const e in t){const n=new v(e,t[e]);this.propertiesByName.set(e,n)}this.metadata=t}initialize(){this.lifecycle=c.v.CONSTRUCTING}constructed(){this.lifecycle=c.v.CONSTRUCTED}destroy(){this.lifecycle=c.v.DESTROYED,this.propertiesByName.forEach((e=>e.destroy()))}get initialized(){return this.lifecycle!==c.v.INITIALIZING}get(e){const t=this.propertiesByName.get(e);if(!w(t))return;if(t.metadata.get)return t.getComputed(this);this.mutable&&(0,m.gc)(t);const n=this.store;return n.has(e)?n.get(e):t.metadata.value}originOf(e){const t=this.store.originOf(e);if(void 0===t){const t=this.propertiesByName.get(e);if(void 0!==t&&t.flags&y.i.HasDefaultValue)return"defaults"}return(0,f.OL)(t)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const t=this.propertiesByName.get(e);if(w(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){const n=this.propertiesByName.get(e);w(n)&&this._internalSet(n,t)}getDependsInfo(e,t,n){const r=this.propertiesByName.get(t);if(!w(r))return"";const i=new g.R,o=(0,m.a)(i,(()=>r.metadata.get?.call(e)));let s=`${n}${e.declaredClass.split(".").pop()}.${t}: ${o}\n`;const a=i.accessed??new Set;if(0===a.size)return s;n+="  ";for(const e of a)e instanceof v&&(s+=`${n}${e.propertyName}: undefined\n`);return s}setAtOrigin(e,t,n){const r=this.propertiesByName.get(e);if(w(r))return this._setAtOrigin(r,t,n)}isOverridden(e){const t=this.propertiesByName.get(e);return void 0!==t&&!!(t.flags&y.i.Overridden)}clearOrigin(e,t){const n=this.store,r=this.propertiesByName.get(e);if(!w(r))return;const i=n.isAtOrigin(e,t)&&!(r.flags&y.i.Overridden);n.delete(e,t),i&&r.notifyChange()}clearOverride(e){const t=this.propertiesByName.get(e);t&&t.flags&y.i.Overridden&&(t.flags&=~y.i.Overridden,t.notifyChange())}override(e,t){const n=this.propertiesByName.get(e);if(!_(n,0,t,this))return;const r=n.metadata.cast;if(r){const e=this._cast(r,t),{valid:n,value:i}=e;if(x.release(e),!n)return;t=i}n.flags|=y.i.Overridden,this._internalSet(n,t)}set(e,t){const n=this.propertiesByName.get(e);if(!_(n,0,t,this))return;const r=n.metadata.cast;if(r){const e=this._cast(r,t),{valid:n,value:i}=e;if(x.release(e),!n)return;t=i}const i=n.metadata.set;i?i.call(this.host,t):this._internalSet(n,t)}setDefaultOrigin(e){this._origin=(0,f.aB)(e)}getDefaultOrigin(){return(0,f.OL)(this._origin)}notifyChange(e){const t=this.propertiesByName.get(e);void 0!==t&&t.notifyChange()}invalidate(e){const t=this.propertiesByName.get(e);void 0!==t&&t.invalidate()}commit(e){const t=this.propertiesByName.get(e);void 0!==t&&t.commit()}_internalSet(e,t){const n=this.lifecycle!==c.v.INITIALIZING?this._origin:f.Gr.DEFAULTS;this._setAtOrigin(e,t,n)}_setAtOrigin(e,t,n){const r=this.store,i=e.propertyName;if(r.isAtOrigin(i,n)&&(0,d.aI)(t,r.get(i))&&~e.flags&y.i.Overridden)return;const o=r.isBelowOrigin(i,n)||r.isAtOrigin(i,n);o&&e.invalidate(),r.set(i,t,n),o&&e.commit(),(0,m.fE)(this.host,e)}_cast(e,t){const n=x.acquire();return n.valid=!0,n.value=t,e&&(n.value=e.call(this.host,t,n)),n}}const x=new h.A(class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var M=n(6864);let A;function T(){return A}var I;!function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"}(I||(I={}));var C,E,k=n(10319),P=n(81482),R=n(26325);function O(e){if(null==e)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const N=Symbol("Accessor-Handles"),L=Symbol("Accessor-Initialized");class D{static{C=N,E=L}static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:t,declaredClass:n,constructor:r}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const i=this;class o extends i{constructor(...e){super(...e),this.inherited=null,r&&r.apply(this,e)}}(0,u.tD)(o.prototype);for(const t in e){const n=e[t];o.prototype[t]="function"==typeof n?function(...e){const r=this.inherited;let o;this.inherited=function(...e){if(i.prototype[t])return i.prototype[t].apply(this,e)};try{o=n.apply(this,e)}catch(e){throw this.inherited=r,e}return this.inherited=r,o}:e[t]}for(const e in t){const n=O(t[e]);(0,P.MZ)(n)(o.prototype,e)}return(0,R.$)(n)(o)}static freeze(e){return e instanceof D?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof D?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){if(this[C]=null,this[E]=!1,this.constructor===D)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const t=new S(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:t}),e.length>0&&(t.ctorArgs=this.normalizeCtorArgs?.apply(this,e)??e[0]),T()?.onInstanceConstruct(this)}postscript(){const e=this.__accessor__,t=e.ctorArgs;e.initialize(),t&&(this.set(t),e.ctorArgs=null),e.constructed(),this.initialize(),this[L]=!0}initialize(){}[a.G](){this[N]=(0,s.pR)(this[N])}destroy(){this.destroyed||((0,k.iS)(this),this.__accessor__.destroy(),T()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[L]}get destroyed(){return this.__accessor__?.lifecycle===c.v.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===c.v.DESTROYING||!1}commitProperty(e){(0,l.Jt)(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return(0,M.h)(this,e,t),this}watch(e,t,n){return(0,r.eO)(o.A.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),(0,k.wB)(this,e,t,n)}addHandles(e,t){if(this.destroyed){const t=Array.isArray(e)?e:[e];for(const e of t)e.remove()}else(this[N]??=new i.A).add(e,t)}removeHandles(e){this[N]?.remove(e)}removeAllHandles(){this[N]?.removeAll()}removeHandlesReference(e){this[N]?.removeReference(e)}hasHandles(e){return!0===this[N]?.has(e)}_override(e,t){void 0===t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,t){null==t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}}},73962:function(e,t,n){"use strict";n.d(t,{E:function(){return h},r:function(){return p}});var r,i=n(82392),o=n(1817),s=n(84977),a=n(81482),l=(n(6273),n(80861),n(67498),n(85716)),c=n(26325),u=n(55714);const d=(0,o.O)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let h=r=class extends s.A{clone(){return new r({href:this.href,primitive:this.primitive})}};(0,i._)([(0,a.MZ)({type:String,json:{read:u.r,write:u.w}})],h.prototype,"href",void 0),(0,i._)([(0,l.e)(d)],h.prototype,"primitive",void 0),h=r=(0,i._)([(0,c.$)("esri.symbols.support.ObjectSymbol3DLayerResource")],h);const p="sphere"},74088:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r,i=n(82392),o=n(84977),s=n(15565),a=n(81482),l=n(8636),c=n(26325);let u=r=class extends o.A{constructor(e){super(e),this.variableName=null,this.dimensionName=null,this.values=[],this.isSlice=!1}clone(){return new r({variableName:this.variableName,dimensionName:this.dimensionName,values:(0,s.o8)(this.values),isSlice:this.isSlice})}};(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"variableName",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"dimensionName",void 0),(0,i._)([(0,a.MZ)({type:l.gK.array(l.gK.oneOf([l.gK.native(Number),l.gK.array(l.gK.native(Number))])),json:{write:!0}})],u.prototype,"values",void 0),(0,i._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],u.prototype,"isSlice",void 0),u=r=(0,i._)([(0,c.$)("esri.layers.support.DimensionalDefinition")],u)},74525:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325));let a=class extends i.A{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],a.prototype,"altText",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],a.prototype,"caption",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],a.prototype,"title",void 0),(0,r._)([(0,o.MZ)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=(0,r._)([(0,s.$)("esri.popup.content.mixins.MediaInfo")],a);const l=a},74637:function(e,t,n){"use strict";n.d(t,{A:function(){return T}});var r=n(82392),i=n(84977),o=n(15565),s=n(81482),a=(n(6273),n(80861),n(26325)),l=n(14755);n(67498);let c=class extends i.A{constructor(e){super(e),this.description=null,this.label=null,this.type=null}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"label",void 0),(0,r._)([(0,s.MZ)()],c.prototype,"type",void 0),c=(0,r._)([(0,a.$)("esri.tables.elements.AttributeTableElement")],c);const u=c;let d=class extends(l.A.ClonableMixin(u)){constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return super.clone()}};(0,r._)([(0,s.MZ)({type:["auto"],json:{write:!0}})],d.prototype,"displayType",void 0),(0,r._)([(0,s.MZ)({type:["attachment"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],d.prototype,"type",void 0),d=(0,r._)([(0,a.$)("esri.tables.elements.AttributeTableAttachmentElement")],d);const h=d;let p=class extends(l.A.ClonableMixin(u)){constructor(e){super(e),this.description=null,this.fieldName=null,this.label=null,this.type="field"}clone(){return super.clone()}};(0,r._)([(0,s.MZ)({type:String,json:{read:!1,write:!1}})],p.prototype,"description",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],p.prototype,"fieldName",void 0),(0,r._)([(0,s.MZ)({type:String,json:{read:!1,write:!1}})],p.prototype,"label",void 0),(0,r._)([(0,s.MZ)({type:["field"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],p.prototype,"type",void 0),p=(0,r._)([(0,a.$)("esri.tables.elements.AttributeTableFieldElement")],p);const f=p;var m=n(8636);let y=class extends(l.A.ClonableMixin(u)){constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return super.clone()}};(0,r._)([(0,s.MZ)({type:Number,json:{type:m.jz,write:{enabled:!0,isRequired:!0}}})],y.prototype,"relationshipId",void 0),(0,r._)([(0,s.MZ)({type:["relationship"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],y.prototype,"type",void 0),y=(0,r._)([(0,a.$)("esri.tables.elements.AttributeTableRelationshipElement")],y);const g=y,v={base:u,key:"type",typeMap:{attachment:h,field:f,relationship:g}};let b=class extends(l.A.ClonableMixin(u)){constructor(e){super(e),this.elements=null,this.type="group"}clone(){return super.clone()}};(0,r._)([(0,s.MZ)({types:[v],json:{name:"attributeTableElements",write:!0}})],b.prototype,"elements",void 0),(0,r._)([(0,s.MZ)({type:["group"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],b.prototype,"type",void 0),b=(0,r._)([(0,a.$)("esri.tables.elements.AttributeTableGroupElement")],b);const w=b;let _=class extends(l.A.ClonableMixin(i.A)){constructor(e){super(e),this.field=null,this.order=null}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],_.prototype,"field",void 0),(0,r._)([(0,s.MZ)({type:["asc","desc"],json:{write:!0}})],_.prototype,"order",void 0),_=(0,r._)([(0,a.$)("esri.tables.support.FieldOrder")],_);const S=_;var x;const M={typesWithGroup:{base:u,key:"type",typeMap:{attachment:h,field:f,group:w,relationship:g}},typesWithoutGroup:v};let A=x=class extends i.A{constructor(e){super(e),this.elements=null,this.orderByFields=null}clone(){return new x({elements:(0,o.o8)(this.elements),orderByFields:(0,o.o8)(this.orderByFields)})}};(0,r._)([(0,s.MZ)({types:[M.typesWithGroup],json:{name:"attributeTableElements",write:!0}})],A.prototype,"elements",void 0),(0,r._)([(0,s.MZ)({type:[S],json:{write:!0}})],A.prototype,"orderByFields",void 0),A=x=(0,r._)([(0,a.$)("esri.tables.AttributeTableTemplate")],A);const T=A},74704:function(e,t,n){"use strict";n.d(t,{A:function(){return v}});var r,i=n(82392),o=n(20857),s=n(1817),a=n(84977),l=n(15565),c=n(81482),u=(n(6273),n(80861),n(25376)),d=n(26325),h=n(48524),p=n(44153),f=n(56053),m=n(54483),y=n(45352);const g=new s.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let v=r=class extends a.A{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){return this.readFeaturesWithClass(e,t,o.A)}writeGeometryType(e,t,n,r){if(e)return void g.write(e,t,n,r);const{features:i}=this;if(i)for(const e of i)if(null!=e?.geometry)return void g.write(e.geometry.type,t,n,r)}readQueryGeometry(e,t){if(!e)return null;const n=!!e.spatialReference,r=(0,f.rS)(e);return r&&!n&&t.spatialReference&&(r.spatialReference=p.A.fromJSON(t.spatialReference)),r}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:n}=this;if(n)for(const e of n)if(e&&null!=e.geometry&&e.geometry.spatialReference)return void(t.spatialReference=e.geometry.spatialReference.toJSON())}clone(){return new r(this.cloneProperties())}cloneProperties(){return(0,l.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let n=0;n<t.features.length;n++){const r=t.features[n];if(r.geometry){const t=e?.[n];r.geometry=t?.toJSON()||r.geometry}}return t}quantize(e){const{scale:[t,n],translate:[r,i]}=e,o=this.features,s=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-r)/t)),(e=>Math.round((i-e)/n)));for(let e=0,t=o.length;e<t;e++)s?.(o[e].geometry)||(o.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:n}=this;if(!n)return this;const{translate:[r,i],scale:[o,s]}=n;let a=null,l=null;if(this.hasZ&&null!=n?.scale?.[2]){const{translate:[,,e],scale:[,,t]}=n;a=n=>n*t+e}if(this.hasM&&null!=n?.scale?.[3]){const{translate:[,,,e],scale:[,,,t]}=n;l=n=>null==n?n:n*t+e}const c=this._getHydrationFunction(e,(e=>e*o+r),(e=>i-e*s),a,l);for(const{geometry:e}of t)null!=e&&c&&c(e);return this.transform=null,this}readFeaturesWithClass(e,t,n){const r=p.A.fromJSON(t.spatialReference),i=[];for(let t=0;t<e.length;t++){const o=e[t],s=n.fromJSON(o),a=o.geometry?.spatialReference;null==s.geometry||a||(s.geometry.spatialReference=r);const l=o.aggregateGeometries,c=s.aggregateGeometries;if(l&&null!=c)for(const e in c){const t=c[e],n=l[e],i=n?.spatialReference;null==t||i||(t.spatialReference=r)}i.push(s)}return i}_quantizePoints(e,t,n){let r,i;const o=[];for(let s=0,a=e.length;s<a;s++){const a=e[s];if(s>0){const e=t(a[0]),s=n(a[1]);e===r&&s===i||(o.push([e-r,s-i]),r=e,i=s)}else r=t(a[0]),i=n(a[1]),o.push([r,i])}return o.length>0?o:null}_getQuantizationFunction(e,t,n){return"point"===e?e=>(e.x=t(e.x),e.y=n(e.y),e):"polyline"===e||"polygon"===e?e=>{const r=(0,f.Bi)(e)?e.rings:e.paths,i=[];for(let e=0,o=r.length;e<o;e++){const o=r[e],s=this._quantizePoints(o,t,n);s&&i.push(s)}return i.length>0?((0,f.Bi)(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?e=>{const r=this._quantizePoints(e.points,t,n);return r&&r.length>0?(e.points=r,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,n,r,i){return"point"===e?e=>{e.x=t(e.x),e.y=n(e.y),r&&(e.z=r(e.z))}:"polyline"===e||"polygon"===e?e=>{const o=(0,f.Bi)(e)?e.rings:e.paths;let s,a;for(let e=0,r=o.length;e<r;e++){const r=o[e];for(let e=0,i=r.length;e<i;e++){const i=r[e];e>0?(s+=i[0],a+=i[1]):(s=i[0],a=i[1]),i[0]=t(s),i[1]=n(a)}}if(r&&i)for(let e=0,t=o.length;e<t;e++){const t=o[e];for(let e=0,n=t.length;e<n;e++){const n=t[e];n[2]=r(n[2]),n[3]=i(n[3])}}else if(r)for(let e=0,t=o.length;e<t;e++){const t=o[e];for(let e=0,n=t.length;e<n;e++){const n=t[e];n[2]=r(n[2])}}else if(i)for(let e=0,t=o.length;e<t;e++){const t=o[e];for(let e=0,n=t.length;e<n;e++){const n=t[e];n[2]=i(n[2])}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=n(e.ymin),e.xmax=t(e.xmax),e.ymax=n(e.ymax),r&&null!=e.zmax&&null!=e.zmin&&(e.zmax=r(e.zmax),e.zmin=r(e.zmin)),i&&null!=e.mmax&&null!=e.mmin&&(e.mmax=i(e.mmax),e.mmin=i(e.mmin))}:"multipoint"===e?e=>{const o=e.points;let s,a;for(let e=0,r=o.length;e<r;e++){const r=o[e];e>0?(s+=r[0],a+=r[1]):(s=r[0],a=r[1]),r[0]=t(s),r[1]=n(a)}if(r&&i)for(let e=0,t=o.length;e<t;e++){const t=o[e];t[2]=r(t[2]),t[3]=i(t[3])}else if(r)for(let e=0,t=o.length;e<t;e++){const t=o[e];t[2]=r(t[2])}else if(i)for(let e=0,t=o.length;e<t;e++){const t=o[e];t[2]=i(t[2])}}:null}};(0,i._)([(0,c.MZ)({type:String,json:{write:!0}})],v.prototype,"displayFieldName",void 0),(0,i._)([(0,c.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],v.prototype,"exceededTransferLimit",void 0),(0,i._)([(0,c.MZ)({type:[o.A],json:{write:!0}})],v.prototype,"features",void 0),(0,i._)([(0,u.w)("features")],v.prototype,"readFeatures",null),(0,i._)([(0,c.MZ)({type:[y.A],json:{write:!0}})],v.prototype,"fields",void 0),(0,i._)([(0,c.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:g.read}}})],v.prototype,"geometryType",void 0),(0,i._)([(0,h.K)("geometryType")],v.prototype,"writeGeometryType",null),(0,i._)([(0,c.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],v.prototype,"hasM",void 0),(0,i._)([(0,c.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],v.prototype,"hasZ",void 0),(0,i._)([(0,c.MZ)({types:m.yR,json:{write:!0}})],v.prototype,"queryGeometry",void 0),(0,i._)([(0,u.w)("queryGeometry")],v.prototype,"readQueryGeometry",null),(0,i._)([(0,c.MZ)({type:p.A,json:{write:!0}})],v.prototype,"spatialReference",void 0),(0,i._)([(0,h.K)("spatialReference")],v.prototype,"writeSpatialReference",null),(0,i._)([(0,c.MZ)({json:{write:!0}})],v.prototype,"transform",void 0),v=r=(0,i._)([(0,d.$)("esri.rest.support.FeatureSet")],v),v.prototype.toJSON.isDefaultToJSON=!0},74772:function(e,t,n){"use strict";n.d(t,{a:function(){return b},b:function(){return f},c:function(){return i},d:function(){return u},e:function(){return w},f:function(){return h},g:function(){return s},h:function(){return y},j:function(){return p},l:function(){return g},n:function(){return m},s:function(){return o},t:function(){return v}});var r=n(78115);function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function s(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function a(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function l(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function c(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function u(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function d(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+o*o)}function h(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+i*i+o*o}function p(e){const t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)}function f(e){const t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function m(e,t){const n=t[0],r=t[1],i=t[2],o=t[3];let s=n*n+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s),e[0]=n*s,e[1]=r*s,e[2]=i*s,e[3]=o*s),e}function y(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function g(e,t,n,r){const i=t[0],o=t[1],s=t[2],a=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=s+r*(n[2]-s),e[3]=a+r*(n[3]-a),e}function v(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*s,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*s,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*s,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*s,e}function b(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function w(e,t){const n=e[0],i=e[1],o=e[2],s=e[3],a=t[0],l=t[1],c=t[2],u=t[3],d=(0,r.FD)();return Math.abs(n-a)<=d*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=d*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-c)<=d*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(s-u)<=d*Math.max(1,Math.abs(s),Math.abs(u))}const _=a,S=l,x=c,M=d,A=h,T=p,I=f;Object.freeze(Object.defineProperty({__proto__:null,add:s,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},copy:i,copyVec3:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},dist:M,distance:d,div:x,divide:c,dot:y,equals:w,exactEquals:b,floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},len:T,length:p,lerp:g,max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},mul:S,multiply:l,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},normalize:m,random:function(e,t=1){const n=r.Ov;let i,o,s,a,l,c;do{i=2*n()-1,o=2*n()-1,l=i*i+o*o}while(l>=1);do{s=2*n()-1,a=2*n()-1,c=s*s+a*a}while(c>=1);const u=Math.sqrt((1-l)/c);return e[0]=t*i,e[1]=t*o,e[2]=t*s*u,e[3]=t*a*u,e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:u,scaleAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},set:o,sqrDist:A,sqrLen:I,squaredDistance:h,squaredLength:f,str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},sub:_,subtract:a,transformMat4:v,transformQuat:function(e,t,n){const r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],l=n[2],c=n[3],u=c*r+a*o-l*i,d=c*i+l*r-s*o,h=c*o+s*i-a*r,p=-s*r-a*i-l*o;return e[0]=u*c+p*-s+d*-l-h*-a,e[1]=d*c+p*-a+h*-s-u*-l,e[2]=h*c+p*-l+u*-a-d*-s,e[3]=t[3],e}},Symbol.toStringTag,{value:"Module"}))},74872:function(e,t,n){"use strict";n.d(t,{$:function(){return r},u:function(){return i}});const r="20250702",i="94d082bf6e1ec315689770a80189b9b091d2852e"},74994:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(19059)),o={date:(0,i.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,i.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,i.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};t.default=o,e.exports=t.default},75102:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(1,arguments),e instanceof Date||"object"===(0,i.default)(e)&&"[object Date]"===Object.prototype.toString.call(e)};var i=r(n(73738)),o=r(n(10427));e.exports=t.default},75190:function(e,t,n){"use strict";n.d(t,{x:function(){return r},z:function(){return i}});const r=["begin","end","begin-end"],i=["arrow","circle","square","diamond","cross","x"]},75572:function(e,t,n){"use strict";n.d(t,{u:function(){return o}});var r=n(45007),i=n(34088);const o=(0,r.yr)(i.g)},75644:function(e,t,n){"use strict";n.d(t,{jh:function(){return i},l5:function(){return s},xm:function(){return o}});var r=n(62088);function i(e,t=!1){return e<=r.y9?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function o(e){return((0,r.iu)(e)?e.byteLength/8:e.length)<=r.y9?Array.from(e):new Float64Array(e)}function s(e,t,n){return Array.isArray(e)?e.slice(t,t+n):e.subarray(t,t+n)}},75809:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(82392),i=n(1817),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(85716)),l=n(26325);const c=new i.J({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),u=new i.J({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let d=class extends o.A{constructor(e){super(e),this.type="class-breaks-definition",this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null}set standardDeviationInterval(e){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",e)}set definedInterval(e){"defined-interval"===this.classificationMethod&&this._set("definedInterval",e)}};(0,r._)([(0,a.e)({classBreaksDef:"class-breaks-definition"})],d.prototype,"type",void 0),(0,r._)([(0,s.MZ)({json:{write:!0}})],d.prototype,"breakCount",void 0),(0,r._)([(0,s.MZ)({json:{write:!0}})],d.prototype,"classificationField",void 0),(0,r._)([(0,s.MZ)({type:String,json:{read:c.read,write:c.write}})],d.prototype,"classificationMethod",void 0),(0,r._)([(0,s.MZ)({json:{write:!0}})],d.prototype,"normalizationField",void 0),(0,r._)([(0,s.MZ)({json:{read:u.read,write:u.write}})],d.prototype,"normalizationType",void 0),(0,r._)([(0,s.MZ)({value:null,json:{write:!0}})],d.prototype,"standardDeviationInterval",null),(0,r._)([(0,s.MZ)({value:null,json:{write:!0}})],d.prototype,"definedInterval",null),d=(0,r._)([(0,l.$)("esri.rest.support.ClassBreaksDefinition")],d)},75906:function(e,t,n){"use strict";n.d(t,{A:function(){return p}});var r=n(82392),i=n(1817),o=n(84977),s=n(80861),a=n(81482),l=n(77380),c=n(26325),u=n(8636),d=n(5785);const h=new i.J({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let p=class extends o.A{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return null==e?e:"function"==typeof e?(s.A.getLogger(this).error(".field: field must be a string value"),null):(0,u.GX)(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,r._)([(0,a.MZ)()],p.prototype,"index",void 0),(0,r._)([(0,a.MZ)({type:h.apiValues,readOnly:!0,json:{read:h.read,write:{writer:h.write,isRequired:!0}}})],p.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],p.prototype,"field",void 0),(0,r._)([(0,l.w)("field")],p.prototype,"castField",null),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],p.prototype,"valueExpression",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],p.prototype,"valueExpressionTitle",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],p.prototype,"arcadeRequired",null),(0,r._)([(0,a.MZ)({type:d.A,json:{write:!0}})],p.prototype,"legendOptions",void 0),p=(0,r._)([(0,c.$)("esri.renderers.visualVariables.VisualVariable")],p)},75951:function(e,t,n){"use strict";n.d(t,{u:function(){return r},x:function(){return i}});const r=new(n(1817).J)({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"}),i={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"}},75981:function(e,t,n){"use strict";n.d(t,{j7:function(){return s},kS:function(){return l},kd:function(){return a},r8:function(){return c}});var r=n(38648),i=n(44153),o=n(56053);const s={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new r.A({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:i.A.WebMercator}),minus180Line:new r.A({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:i.A.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new r.A({paths:[[[180,-180],[180,180]]],spatialReference:i.A.WGS84}),minus180Line:new r.A({paths:[[[-180,-180],[-180,180]]],spatialReference:i.A.WGS84})}};function a(e,t){return Math.ceil((e-t)/(2*t))}function l(e,t){const n=c(e);for(const e of n)for(const n of e)n[0]+=t;return e}function c(e){return(0,o.Bi)(e)?e.rings:e.paths}},75994:function(e,t,n){"use strict";n.d(t,{hc:function(){return s}});var r=n(70214),i=n(61985);const o=new WeakMap;function s(e){return!e.destroyed&&(o.has(e)||e.addHandles([(0,i.wB)((()=>{const t=e.parent;return!(!t||!("type"in t))&&("catalog-dynamic-group"===t.type||s(t))}),(t=>o.set(e,t)),i.pc),(0,r.hA)((()=>o.delete(e)))]),o.get(e))}},76456:function(e,t,n){"use strict";n.d(t,{S:function(){return f},d:function(){return A}});var r=n(6273),i=n(63457),o=n(52360);function s(e,t,n){return!!l(e,t,n)}function a(e,t,n){return l(e,t,n)}function l(e,t,n){return e&&e.hasOwnProperty(t)?e[t]:n}const c={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function u(e){const t=e?.supportedSpatialAggregationStatistics?.map((e=>e.toLowerCase()));return{envelope:!!t?.includes("envelopeaggregate"),centroid:!!t?.includes("centroidaggregate"),convexHull:!!t?.includes("convexhullaggregate")}}function d(e,t){const n=e?.supportedOperationsWithCacheHint?.map((e=>e.toLowerCase()));return!!n?.includes(t.toLowerCase())}function h(e){const t=e?.supportedStatisticTypes?.map((e=>e.toLowerCase()));return{count:!!t?.includes("count"),sum:!!t?.includes("sum"),min:!!t?.includes("min"),max:!!t?.includes("max"),avg:!!t?.includes("avg"),var:!!t?.includes("var"),stddev:!!t?.includes("stddev"),percentileContinuous:!!t?.includes("percentile_cont"),percentileDiscrete:!!t?.includes("percentile_disc"),envelope:!!t?.includes("envelopeaggregate"),centroid:!!t?.includes("centroidaggregate"),convexHull:!!t?.includes("convexhullaggregate")}}function p(e){const t=e?.supportedNormalizationTypes?.map((e=>e.toLowerCase()));return{field:!!t?.includes("field"),log:!!t?.includes("log"),naturalLog:!!t?.includes("naturallog"),percentOfTotal:!!t?.includes("percentoftotal"),squareRoot:!!t?.includes("squareroot")}}function f(e,t){return{analytics:m(e),attachment:y(e),data:g(e),metadata:v(e),operations:b(e.capabilities,e,t),query:w(e,t),queryAttributeBins:x(e),queryRelated:_(e),queryTopFeatures:S(e),editing:M(e)}}function m(e){return{supportsCacheHint:d(e.advancedQueryCapabilities,"queryAnalytics")}}function y(e){const t=e.attachmentProperties,n={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:d(e.advancedQueryCapabilities,"queryAttachments"),supportsOrderByFields:s(e.advancedQueryCapabilities,"supportsQueryAttachmentOrderByFields",!1),supportsResize:s(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach((e=>{const t=c[e.name];t&&(n[t]=!!e.isEnabled)})),n}function g(e){return{isVersioned:s(e,"isDataVersioned",!1),isBranchVersioned:s(e,"isDataBranchVersioned",!1),supportsAttachment:s(e,"hasAttachments",!1),supportsM:s(e,"hasM",!1),supportsZ:s(e,"hasZ",!1)}}function v(e){return{supportsAdvancedFieldProperties:s(e,"supportsFieldDescriptionProperty",!1)}}function b(e,t,n){const r=e?.toLowerCase().split(",").map((e=>e.trim()))??[],o=n?(0,i.qg)(n):null,a=r.includes("MapServer"===o?.serverType?"data":"query"),l=r.includes("editing")&&!t.datesInUnknownTimezone&&!(!0===t.uniqueIdInfo?.OIDFieldContainsHashValue);let c=l&&r.includes("create"),u=l&&r.includes("delete"),d=l&&r.includes("update");const h=r.includes("changetracking"),p=t.advancedQueryCapabilities;return l&&!(c||u||d)&&(c=u=d=!0),{supportsCalculate:s(t,"supportsCalculate",!1),supportsTruncate:s(t,"supportsTruncate",!1),supportsValidateSql:s(t,"supportsValidateSql",!1),supportsAdd:c,supportsDelete:u,supportsEditing:l,supportsChangeTracking:h,supportsQuery:a,supportsQueryAnalytics:s(p,"supportsQueryAnalytic",!1),supportsQueryAttachments:s(p,"supportsQueryAttachments",!1),supportsQueryBins:s(p,"supportsQueryBins",!1)||!!t.queryBinsCapabilities,supportsQueryTopFeatures:s(p,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:s(t,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:d,supportsExceedsLimitStatistics:s(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:s(t,"supportsAsyncConvert3D",!1)}}function w(e,t){const n=e.advancedQueryCapabilities,l=e.ownershipBasedAccessControlForFeatures,c=e.archivingInfo,h=e.currentVersion,p=t?.includes("MapServer"),f=!p||h>=(0,r.A)("mapserver-pbf-version-support"),m=(0,i.Wo)(t),y=new Set((e.supportedQueryFormats??"").split(",").map((e=>e.toLowerCase().trim())));return{maxRecordCount:a(e,"maxRecordCount",void 0),maxRecordCountFactor:a(e,"maxRecordCountFactor",void 0),maxUniqueIDCount:a(e,"maxUniqueIDCount",void 0),standardMaxRecordCount:a(e,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:u(n),supportsCacheHint:s(n,"supportsQueryWithCacheHint",!1)||d(n,"query"),supportsCentroid:s(n,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:m,supportsCurrentUser:s(n,"supportsCurrentUserQueries",!1),supportsDefaultSpatialReference:s(n,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:s(n,"supportsDisjointSpatialRel",!1),supportsDistance:s(n,"supportsQueryWithDistance",!1),supportsDistinct:s(n,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:s(n,"supportsReturningQueryExtent",!1),supportsFormatPBF:f&&y.has("pbf"),supportsFullTextSearch:s(n,"supportsFullTextSearch",!1),supportsGeometryProperties:s(n,"supportsReturningGeometryProperties",!1),supportsHavingClause:s(n,"supportsHavingClause",!1),supportsHistoricMoment:s(c,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:s(n,"supportsMaxRecordCountFactor",!1),supportsOrderBy:s(n,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:s(n,"supportsPagination",!1),supportsPaginationOnAggregatedQueries:s(n,"supportsPaginationOnAggregatedQueries",!1),supportsPercentileStatistics:s(n,"supportsPercentileStatistics",!1),supportsQuantization:s(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:s(e,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:s(l,"allowAnonymousToQuery",!0),supportsQueryByOthers:s(l,"allowOthersToQuery",!0),supportsQueryGeometry:s(e,"supportsReturningQueryGeometry",!1),supportsResultType:s(n,"supportsQueryWithResultType",!1),supportsReturnMesh:!!(0,o.Hz)(e.infoFor3D),supportsSpatialAggregationStatistics:s(n,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:s(n,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:s(e,"useStandardizedQueries",!1),supportsStatistics:s(n,"supportsStatistics",e.supportsStatistics),supportsTopFeaturesQuery:s(n,"supportsTopFeaturesQuery",!1),supportsTrueCurve:s(n,"supportsTrueCurve",!1),tileMaxRecordCount:a(e,"tileMaxRecordCount",void 0)}}function _(e){const t=e.advancedQueryCapabilities,n=s(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:s(t,"supportsQueryRelatedPagination",!1),supportsCount:n,supportsOrderBy:n,supportsCacheHint:d(t,"queryRelated")}}function S(e){return{supportsCacheHint:d(e.advancedQueryCapabilities,"queryTopFilter")}}function x(e){const t=e?e.queryBinsCapabilities:void 0;return{supportsDate:s(t,"supportsDateBin",!1),supportsFixedInterval:s(t,"supportsFixedIntervalBin",!1),supportsAutoInterval:s(t,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:s(t,"supportsFixedBoundariesBin",!1),supportsStackBy:s(t,"supportsStackBy",!1),supportsSplitBy:s(t,"supportsSplitBy",!1),supportsSnapToData:s(t,"supportsSnapToData",!1),supportsReturnFullIntervalBin:s(t,"supportsReturnFullIntervalBin",!1),supportsFirstDayOfWeek:s(t,"supportsFirstDayOfWeek",!1),supportsNormalization:s(t,"supportsNormalization",!1),supportedStatistics:h(t),supportedNormalizationTypes:p(t)}}function M(e){const t=e.ownershipBasedAccessControlForFeatures,n=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:s(e,"allowGeometryUpdates",!0),supportsGlobalId:s(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:s(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:s(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:s(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:s(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:s(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:s(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:s(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:s(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:s(n,"supportsAsyncApplyEdits",!1),zDefault:a(e,"zDefault",void 0)}}function A(e){return{operations:{supportsAppend:s(e,"supportsAppend",!1),supportsCoverageQuery:e?.playbackInfo?.klv["0601"]??!1,supportsExportClip:s(e,"supportsExportClip",!1),supportsExportFrameset:s(e,"supportsExportFrameset",!1),supportsMensuration:s(e,"supportsMensuration",!1),supportsPreviews:s(e,"supportsPreviews",!1),supportsUpdate:s(e,"supportsUpdate",!1)}}}},76591:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(58842),s=n(84977),a=n(81482),l=(n(6273),n(80861),n(67498),n(26325));let c=r=class extends s.A{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new o.A}clone(){return new r({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,i._)([(0,a.MZ)({type:String,json:{write:{isRequired:!0}}})],c.prototype,"floorField",void 0),(0,i._)([(0,a.MZ)({json:{read:!1,write:!1}})],c.prototype,"viewAllMode",void 0),(0,i._)([(0,a.MZ)({json:{read:!1,write:!1}})],c.prototype,"viewAllLevelIds",void 0),c=r=(0,i._)([(0,l.$)("esri.layers.support.LayerFloorInfo")],c)},76736:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325));let a=class extends i.A{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};(0,r._)([(0,o.MZ)({readOnly:!0})],a.prototype,"version",null),a=(0,r._)([(0,s.$)("esri.views.layers.support.ClipArea")],a)},76902:function(e,t,n){"use strict";n.d(t,{n:function(){return l}});var r=n(28300),i=n(4631),o=n(96285);function s(e){e=e.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let t="";const n=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const r of e.match(n)||[])switch(r){case"D":t+="d";break;case"DD":t+="dd";break;case"DDD":t+="o";break;case"d":t+="c";break;case"ddd":t+="ccc";break;case"dddd":t+="cccc";break;case"M":t+="L";break;case"MM":t+="LL";break;case"MMM":t+="LLL";break;case"MMMM":t+="LLLL";break;case"YY":t+="yy";break;case"Y":case"YYYY":t+="yyyy";break;case"Q":t+="q";break;case"X":case"x":t+=r;break;default:r.length>=2&&"["===r.slice(0,1)&&"]"===r.slice(-1)?t+=`'${r.slice(1,-1)}'`:t+=`'${r}'`}return t}const a="esri.core.sql.dateonly";class l{constructor(e,t,n){this._year=e,this._month=t,this._day=n,this.declaredRootClass=a}static isDateOnly(e){return"object"==typeof e&&null!=e&&"declaredRootClass"in e&&e.declaredRootClass===a}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(e){return l.isDateOnly(e)&&e.day===this.day&&e.month===this.month&&e.year===this.year}clone(){return new l(this._year,this._month,this._day)}toDateTime(e){return o.c9.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,r.mT)(e)})}toDateTimeLuxon(e){return o.c9.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,r.mT)(e)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(e=null,t=!0){if(null===e||""===e)return this.toString();if(t&&(e=s(e)),!e)return"";const n=this.toDateTime("unknown");return r.lY.dateTimeToArcadeDate(n).toFormat(e,{locale:(0,i.JK)(),numberingSystem:"latn"})}toArcadeDate(){const e=this.toDateTime("unknown");return r.lY.dateTimeToArcadeDate(e)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(e,t){return l.fromDateTime(this.toUTCDateTime().plus({[e]:t}))}toUTCDateTime(){return o.c9.utc(this.year,this.month,this.day,0,0,0,0)}difference(e,t){switch(t.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===t?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}static fromMilliseconds(e){const t=o.c9.fromMillis(e,{zone:o.mQ.utcInstance});return t.isValid?l.fromParts(t.year,t.month,t.day):null}static fromSeconds(e){const t=o.c9.fromSeconds(e,{zone:o.mQ.utcInstance});return t.isValid?l.fromParts(t.year,t.month,t.day):null}static fromReader(e){if(!e)return null;const t=e.split("-");return 3!==t.length?null:new l(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10))}static fromParts(e,t,n){const r=new l(e,t,n);return!1===r.isValid?null:r}static fromDateJS(e){return l.fromParts(e.getFullYear(),e.getMonth()+1,e.getDay())}static fromDateTime(e){return l.fromParts(e.year,e.month,e.day)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,t=null){if(""===e)return null;if(null===e)return null;const n=[];if(t)(t=s(t))&&n.push(t);else if(null===t||""===t){const t=o.c9.fromISO(e,{setZone:!0});return t.isValid?l.fromParts(t.year,t.month,t.day):null}for(const r of n){const n=o.c9.fromFormat(e,t??r);if(n.isValid)return new l(n.year,n.month,n.day)}return null}static fromNow(e="system"){const t=o.c9.fromJSDate(new Date).setZone((0,r.mT)(e));return new l(t.year,t.month,t.day)}}},76982:function(e,t,n){"use strict";function r(){return[0,0,0,0]}function i(e){return[e[0],e[1],e[2],e[3]]}function o(e,t,n,r){return[e,t,n,r]}function s(e,t,n,r){return[e,t,n,r]}function a(e,t=[0,0,0,0]){const n=Math.min(4,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t}function l(){return[0,0,0,0]}function c(){return o(1,1,1,1)}function u(){return o(1,0,0,0)}function d(){return o(0,1,0,0)}function h(){return o(0,0,1,0)}function p(){return o(0,0,0,1)}n.d(t,{CN:function(){return s},S:function(){return c},Un:function(){return m},ci:function(){return a},fA:function(){return o},o8:function(){return i},uY:function(){return f},vt:function(){return r}});const f=[0,0,0,0],m=c(),y=u(),g=d(),v=h(),b=p();Object.freeze(Object.defineProperty({__proto__:null,ONES:m,UNIT_W:b,UNIT_X:y,UNIT_Y:g,UNIT_Z:v,ZEROS:f,clone:i,create:r,freeze:s,fromArray:a,fromValues:o,ones:c,unitW:p,unitX:u,unitY:d,unitZ:h,zeros:l},Symbol.toStringTag,{value:"Module"}))},77023:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325));let a=class extends i.A{constructor(e){super(e),this.type=null}};(0,r._)([(0,o.MZ)({readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=(0,r._)([(0,s.$)("esri.rest.support.ColorRamp")],a)},77234:function(e,t,n){"use strict";n.d(t,{$w:function(){return b},Bu:function(){return O},DW:function(){return C},FH:function(){return B},FM:function(){return u},G9:function(){return o},GV:function(){return _},Go:function(){return h},Je:function(){return Q},K3:function(){return V},Ke:function(){return P},Kn:function(){return T},MM:function(){return m},Nl:function(){return N},Ny:function(){return S},O2:function(){return L},UE:function(){return D},YC:function(){return G},YF:function(){return j},ZO:function(){return U},_1:function(){return k},_H:function(){return M},_W:function(){return w},_d:function(){return I},_h:function(){return c},bs:function(){return $},dI:function(){return X},e6:function(){return p},gQ:function(){return l},iA:function(){return z},jn:function(){return g},lW:function(){return f},mA:function(){return y},n5:function(){return F},pM:function(){return E},pV:function(){return A},pk:function(){return H},rB:function(){return W},s4:function(){return i},xo:function(){return R},yH:function(){return x},yX:function(){return ee},zb:function(){return Z},zr:function(){return v}});var r=n(25001);function i(e,t,n,r){return function(e){return"function"==typeof e}(e)?e(t,n,r):e}function o(e){return[e.r,e.g,e.b,e.a]}const s=" /-,\n";function a(e){let t=e.length;for(;t--;)if(!s.includes(e.charAt(t)))return!1;return!0}function l(e,t){const n=[];let r=0,i=-1;do{if(i=e.indexOf("[",r),i>=r){if(i>r){const t=e.slice(r,i);n.push([t,null,a(t)])}if(r=i+1,i=e.indexOf("]",r),i>=r){if(i>r){const o=t[e.slice(r,i)];o&&n.push([null,o,!1])}r=i+1}}}while(-1!==i);if(r<e.length){const t=e.slice(r);n.push([t,null,a(t)])}return n}function c(e,t,n){let r="",i=null;for(const n of t){const[t,o,s]=n;if(null!=t&&""!==t)s?i=t:(null!=i&&(r+=i,i=null),r+=t);else{const t=e.readAttribute(o);null!=t&&""!==t&&(null!==i&&(r+=i,i=null),r+=t)}}return d(r,n)}function u(e,t,n,r){let i="",o=null;for(const r of t){const[t,s,a]=r;if(null!=t&&""!==t)a?o=t:(null!=o&&(i+=o,o=null),i+=t);else{let t=s;null!=n&&(t=q(s,n));const r=e.attributes[t];null!=r&&""!==r&&(null!=o&&(i+=o,o=null),i+=r)}}return d(i,r)}function d(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function h(e,t,n,r,i,o,s=!0){const a=t/i,l=n/o,c=Math.ceil(a/2),u=Math.ceil(l/2);for(let n=0;n<o;n++)for(let d=0;d<i;d++){const h=4*(d+(s?o-n-1:n)*i);let p=0,f=0,m=0,y=0,g=0,v=0,b=0;const w=(n+.5)*l;for(let r=Math.floor(n*l);r<(n+1)*l;r++){const n=Math.abs(w-(r+.5))/u,i=(d+.5)*a,o=n*n;for(let n=Math.floor(d*a);n<(d+1)*a;n++){let s=Math.abs(i-(n+.5))/c;const a=Math.sqrt(o+s*s);a>=-1&&a<=1&&(p=2*a*a*a-3*a*a+1,p>0&&(s=4*(n+r*t),b+=p*e[s+3],m+=p,e[s+3]<255&&(p=p*e[s+3]/250),y+=p*e[s],g+=p*e[s+1],v+=p*e[s+2],f+=p))}}r[h]=y/f,r[h+1]=g/f,r[h+2]=v/f,r[h+3]=b/m}}function p(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function f(e){return e.data?.symbol??null}function m(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function y(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function g(e){return null!=e&&("CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type)}function v(e){return null!=e&&("CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type)}const b=(e,t=0)=>null==e||isNaN(e)?t:e,w=(e,t)=>null!=e?e:t,_=(e,t)=>e??t,S=e=>e.tintColor?p(e.tintColor):[255,255,255,1],x=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectDonut":case"CIMGeometricEffectOffset":case"CIMGeometricEffectTaperedPolygon":case"CIMGeometricEffectEnclosingPolygon":return!0}return!1};function M(){return Promise.all([n.e(7313),n.e(7963)]).then(n.bind(n,30344))}function A(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function T(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function I(e){let t="normal",n="normal";if(e){const r=e.toLowerCase();r.includes("italic")?t="italic":r.includes("oblique")&&(t="oblique"),r.includes("bold")?n="bold":r.includes("light")&&(n="lighter")}return{style:t,weight:n}}function C(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function E(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=E(t);if(null!=e)return e}break;case"CIMTextSymbol":return E(e.symbol);case"CIMSolidFill":return e.color}return null}function k(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const e of t){const t=k(e);if(null!=t)return t}break}case"CIMTextSymbol":return k(e.symbol);case"CIMSolidStroke":return e.color}}function P(e){for(const t of e)if(t.enable)switch(t.type){case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return!0}return!1}function R(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=R(t);if(void 0!==e)return e}break;case"CIMTextSymbol":return R(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function O(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function N(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function L(e){return(e?Object.keys(e):[]).map((t=>({name:t,alias:t,type:"string"==typeof e[t]?"esriFieldTypeString":"esriFieldTypeDouble"})))}const D=e=>e.includes("data:image/svg+xml");function F(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function j(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}function Z(e,t,n,r,i,o,s=!0){const{infos:a}=o;let l=1,c=0,u=0,d=0,h=1;for(const{absoluteAnchorPoint:e,offsetX:t,offsetY:n,rotation:r,size:i,frameHeight:o,rotateClockWise:p,scaleSymbolsProportionally:f}of a)h=e?1:l,u=K(t,n,c,h,u),d=J(t,n,c,h,d),o&&(f||s)&&(l*=i/o),c=Y(r,p,c);const p=K(r,i,c,h,u),f=J(r,i,c,h,d);return{size:e*l,rotation:Y(t,n,c),offsetX:p,offsetY:f}}function U(e){if(null==e)return!1;if(Array.isArray(e))return e.every((e=>U(e)));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function z(e,t){if("color"===t||"outlinecolor"===t||"backgroundcolor"===t||"borderlinecolor"===t||"tintcolor"===t)return[...r.K[t]];const n=r.D[e];if(!n)throw new Error(`InternalError: default value for type ${e}.`);return n[t]}function V(e){return"string"==typeof e?function(e){return e.split(" ").map((e=>Number(e)))}(e):e}function B(e){return e?.dashTemplate&&(e.dashTemplate=V(e.dashTemplate)),e}function $(e){if(null==e)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const e of t)if("CIMVectorMarker"===e.type)return $(e)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const e of t)if(e.symbol)return $(e.symbol)}}return"Normal"}function G(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers)for(const n of e.symbolLayers)if(n)switch(n.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const e=n.size??r.D.CIMVectorMarker.size;e>t&&(t=e);break}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers)for(const n of e.symbolLayers)if(n)switch(n.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const e=n.width;null!=e&&e>t&&(t=e);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(n.markerPlacement&&v(n.markerPlacement)){const e=n.size??r.D.CIMVectorMarker.size;e>t&&(t=e)}break;case"CIMPictureFill":{const e=n.height;null!=e&&e>t&&(t=e)}}return t}}}function q(e,t){if(null!==t){const n=t.get(e);return n?n.name:e}return e}function H(e){return e.map((e=>({...e,propertyName:j(e.propertyName)})))}function W(e){const t={};for(const n in e){const r=e[n];t[j(n)]=r}return t}function J(e,t,n,r,i){const o=n*Math.PI/180;if(o){const n=Math.cos(o);return(Math.sin(o)*e+n*t)*r+i}return t*r+i}function K(e,t,n,r,i){const o=n*Math.PI/180;return o?(Math.cos(o)*e-Math.sin(o)*t)*r+i:e*r+i}function Y(e,t,n){return t?n-e:n+e}function X(e,t,n){const r="Color"===n||"TintColor"===n||"ToColor"===n,i="Rotation"===n||"Angle"===n||"ToRotation"===n;let o=t[j(n)];if(null!=o&&(r?o=[o[0]/255,o[1]/255,o[2]/255,o[3]/255]:i&&(o*=Math.PI/180)),null==o&&(o=z(t.type,n.toLowerCase()),null!=o&&(r?o=[o[0]/255,o[1]/255,o[2]/255,o[3]]:i&&(o*=Math.PI/180))),null!=t.primitiveName){const s=e[t.primitiveName];if(null!=s){const e=s[n];null==e||("string"==typeof e||"number"==typeof e||Array.isArray(e)?(o=e,null!=o&&(r?o=[o[0]/255,o[1]/255,o[2]/255,o[3]/255]:i&&(o*=Math.PI/180))):(o={valueExpressionInfo:e,defaultValue:o},null!=o&&(r?o={type:"Process",op:"ArcadeColor",value:o}:i&&(o={type:"Process",op:"Divide",left:o,right:180/Math.PI}))))}}if(null==o)throw new Error(`Failed to derive a value or an expression for "${n}".`);return o}function Q(e,t,n){if(null!=t[j(n)])return!0;if(null!=t.primitiveName){const r=e[t.primitiveName];if(null!=r&&null!=r[n])return!0}return!1}function ee(e,t){return Math.max(Math.min((e??t)/100,1),0)}},77324:function(e,t,n){"use strict";n.d(t,{s:function(){return o}});var r=n(6273),i=n(67900);function o(){const e=(0,r.A)("mapview-essential-goto-duration");return null==e?e:(0,i.l5)(e)}},77379:function(e,t,n){"use strict";n.d(t,{W:function(){return u}});var r=n(57888),i=n(92840),o=n(70214),s=n(6273),a=n(4506),l=n(94464),c=n(92374);class u{constructor(e,t={}){this.events=new r.A,this._hasMajorPerformanceCaveat=!1,this._lastRenderFrameCounter=0,null!=e?(this._canvas=document.createElement("canvas"),this._canvas.setAttribute("style","width: 100%; height:100%; display:block; willChange:transform"),e.contains(this._canvas)||e.appendChild(this._canvas)):null!=t.canvas&&(this._canvas=t.canvas);const n={failIfMajorPerformanceCaveat:!0,alpha:!0,antialias:!1,depth:!0,stencil:!0,powerPreference:"high-performance"};let s=this._canvas.getContext("webgl2",n);s||(s=this._canvas.getContext("webgl2",{...n,failIfMajorPerformanceCaveat:!1}),this._hasMajorPerformanceCaveat=!0),this._gl=s,this._handles=(0,o.vE)([(0,i.on)(this._canvas,"webglcontextlost",(e=>this.events.emit("webgl-context-lost",e)))])}destroy(){this._canvas.remove(),this._canvas=null,this._handles.remove(),this._gl=null}get gl(){return this._gl}get canvas(){return this._canvas}render(e,t){if(this._hasMajorPerformanceCaveat||(0,s.A)("esri-force-performance-mode")){if(++this._lastRenderFrameCounter>=(0,s.A)("esri-performance-mode-frames-between-render")&&(t(),this._lastRenderViewState=e.state.clone(),this._lastRenderFrameCounter=0),this._lastRenderViewState){const[t,n,r,i,o,s]=this._computeViewTransform(this._lastRenderViewState,e.state);this._canvas.style.transform=`matrix(${t}, ${n}, ${r}, ${i}, ${o}, ${s})`}}else t()}resize(e){const t=this._canvas,n=t.style,{state:{size:r},pixelRatio:i}=e,o=r[0],s=r[1],a=Math.round(o*i),l=Math.round(s*i);t.width===a&&t.height===l||(t.width=a,t.height=l),n.width=o+"px",n.height=s+"px"}_computeViewTransform(e,t){const[n,r]=e.center,[i,o]=t.center,[s,u]=e.toScreen([0,0],i,o),[d,h]=e.toScreen([0,0],n,r),p=d-s,f=h-u,m=e.scale/t.scale,y=t.rotation-e.rotation,g=(0,c.vt)();return(0,l.D_)(g),(0,l.hs)(g,g,[m,m]),(0,l.e$)(g,g,(0,a.kU)(y)),(0,l.Tl)(g,g,[p,f]),g}}},77380:function(e,t,n){"use strict";n.d(t,{w:function(){return l}});var r=n(8636),i=n(88135);const o=Object.prototype.toString;function s(e){const t="__accessorMetadata__"in e?(0,r.dp)(e):e;return function(...e){if(e.push(t),"number"==typeof e[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return a.apply(this,e)}}function a(e,t,n,r){(0,i.z4)(e,t).cast=r}function l(...e){if(3!==e.length||"string"!=typeof e[1])return 1===e.length&&"[object Function]"===o.call(e[0])?s(e[0]):1===e.length&&"string"==typeof e[0]?function(e){return(t,n)=>{(0,i.z4)(t,e).cast=t[n]}}(e[0]):void 0}},77498:function(e,t,n){"use strict";n.d(t,{LF:function(){return a},M9:function(){return l},zu:function(){return c}});var r=n(62991),i=n(21750),o=n(78598),s=n(62436);function a(e,t,n){try{return function(e){if(!e||0===e.length)return null;if(function(e){const t=e[0];return!!t&&"scale"in t}(e)){const t=[];for(const n of e)t.push({scale:n.scale,value:c(n.value)});return t}return c(e)}(e)}catch(e){n?.messages?.push(e)}return null}function l(e,t,n,r){try{const r=function(e){const t=(0,o.q)(e);return t?(0,s.dw)(t)?t.map((e=>e.toJSON())):t.map((({scale:e,effects:t})=>({scale:e,value:t.map((e=>e.toJSON()))}))):null}(e);(0,i.sM)(n,r,t)}catch(e){r.messages&&r.messages.push(e)}}function c(e){if(!e?.length)return"";const t=[];for(const n of e){let e=[];switch(n.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":e=[u(n,"amount")];break;case"blur":e=[u(n,"radius","pt")];break;case"hue-rotate":e=[u(n,"angle","deg")];break;case"drop-shadow":e=[u(n,"xoffset","pt"),u(n,"yoffset","pt"),u(n,"blurRadius","pt"),d(n,"color")];break;case"bloom":e=[u(n,"strength"),u(n,"radius","pt"),u(n,"threshold")]}const r=`${n.type}(${e.filter(Boolean).join(" ")})`;(0,o.q)(r),t.push(r)}return t.join(" ")}function u(e,t,n){if(null==e[t])throw new r.A("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return n?e[t]+n:""+e[t]}function d(e,t){if(null==e[t])throw new r.A("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const n=e[t];return`rgba(${n[0]||0}, ${n[1]||0}, ${n[2]||0}, ${n[3]/255||0})`}},77614:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r,i=n(82392),o=n(84977),s=n(15565),a=n(81482),l=(n(6273),n(80861),n(26325)),c=n(1912);let u=r=class extends o.A{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isBsqTile=!1,this.isVirtualTileInfo=!1,this.tileInfo=null,this.transposeInfo=null,this.blockBoundary=null}clone(){return new r({blockWidth:this.blockWidth,blockHeight:this.blockHeight,compression:this.compression,origin:(0,s.o8)(this.origin),firstPyramidLevel:this.firstPyramidLevel,maximumPyramidLevel:this.maximumPyramidLevel,pyramidResolutions:(0,s.o8)(this.pyramidResolutions),pyramidScalingFactor:this.pyramidScalingFactor,pyramidBlockWidth:this.pyramidBlockWidth,pyramidBlockHeight:this.pyramidBlockHeight,isVirtualTileInfo:this.isVirtualTileInfo,tileInfo:(0,s.o8)(this.tileInfo),transposeInfo:(0,s.o8)(this.transposeInfo),blockBoundary:(0,s.o8)(this.blockBoundary)})}};(0,i._)([(0,a.MZ)({type:Number,json:{write:!0}})],u.prototype,"blockWidth",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:!0}})],u.prototype,"blockHeight",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"compression",void 0),(0,i._)([(0,a.MZ)({type:c.A,json:{write:!0}})],u.prototype,"origin",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:!0}})],u.prototype,"firstPyramidLevel",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:!0}})],u.prototype,"maximumPyramidLevel",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],u.prototype,"pyramidResolutions",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:!0}})],u.prototype,"pyramidScalingFactor",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:!0}})],u.prototype,"pyramidBlockWidth",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{write:!0}})],u.prototype,"pyramidBlockHeight",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],u.prototype,"isBsqTile",void 0),(0,i._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],u.prototype,"isVirtualTileInfo",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],u.prototype,"tileInfo",void 0),(0,i._)([(0,a.MZ)()],u.prototype,"transposeInfo",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],u.prototype,"blockBoundary",void 0),u=r=(0,i._)([(0,l.$)("esri.layers.support.RasterStorageInfo")],u)},77691:function(e,t,n){"use strict";n.d(t,{DP:function(){return v},Nh:function(){return b},Pg:function(){return g},RP:function(){return d},WF:function(){return u},_N:function(){return w},eH:function(){return m},f4:function(){return y},fP:function(){return p},zj:function(){return h},zt:function(){return c}});var r=n(57725),i=n(83371),o=n(6246),s=n(75951);const a=1,l=[.299,.587,.114];function c(e){if(null==e)return!1;const{max:t,min:n,size:r}=e;return(t-n)/r==1&&n>=-.5&&.5===Math.abs(n%1)&&t<=255.5}function u(e,t=256){t=Math.min(t,256);const{size:n,counts:r}=e,i=new Float64Array(n);i[0]=r[0]/t;for(let e=1;e<n;e++)i[e]=i[e-1]+r[e]/t;const o=new Uint8Array(t),s=t/i[i.length-1];if(n<=t){const r=c(e)?Math.max(0,Math.round(e.min+.5)):0;for(let e=r;e<t;e++)o[e]=e>=n+r?255:Math.min(255,Math.trunc(i[e-r]*s))}else{const e=i.map((e=>Math.min(255,Math.trunc(e*s))));for(let r=0;r<t;r++)o[r]=e[Math.round(n/t)];o[t-1]=255}return o}function d(e){const{minCutOff:t,maxCutOff:n,gamma:r,pixelType:i,rounding:o}=e;if(!["u8","u16","s8","s16"].includes(i))return null;const s=t.length,a="s8"===i?-127:"s16"===i?-32767:0,l=["u16","s16"].includes(i)?65536:256,c=[],u=[],{minOutput:d=0,maxOutput:p=255}=e,f=p-d;for(let e=0;e<s;e++)u[e]=n[e]-t[e],c[e]=0===u[e]?0:f/u[e];const m=[];if(r&&r.length>=s){const e=b(s,r);for(let i=0;i<s;i++){const s=[];for(let c=0;c<l;c++){if(0===u[i]){s[c]=d;continue}const l=c+a,h=(l-t[i])/u[i];let m=1;if(r[i]>1&&(m-=(1/f)**(h*e[i])),l<n[i]&&l>t[i]){const e=m*f*h**(1/r[i])+d;s[c]="floor"===o?Math.floor(e):"round"===o?Math.round(e):e}else l>=n[i]?s[c]=p:s[c]=d}m[i]=s}}else for(let e=0;e<s;e++){const r=[];for(let i=0;i<l;i++){const s=i+a;if(s<=t[e])r[i]=d;else if(s>=n[e])r[i]=p;else{const n=(s-t[e])*c[e]+d;r[i]="floor"===o?Math.floor(n):"round"===o?Math.round(n):n}}m[e]=r}if(null!=e.contrastOffset){const t=h(e.contrastOffset,e.brightnessOffset);for(let e=0;e<s;e++){const n=m[e];for(let e=0;e<l;e++)n[e]=t[n[e]]}}return{lut:m,offset:a}}function h(e,t){const n=Math.min(Math.max(e,-100),100),r=Math.min(Math.max(t??0,-100),100),i=255,o=new Uint8Array(256);for(let e=0;e<256;e++){let t=0;n>0&&n<100?t=(200*e-25500+510*r)/(2*(100-n))+128:n<=0&&n>-100?t=(200*e-25500+510*r)*(100+n)/2e4+128:100===n?(t=200*e-25500+256*(100-n)+510*r,t=t>0?i:0):-100===n&&(t=128),o[e]=t>i?i:t<0?0:t}return o}function p(e,t,n){const r=[];for(let i=0;i<t.length;i++){let o=0,s=0,a=0;"min"in t[i]?({min:o,max:s,avg:a}=t[i]):[o,s,a]=t[i];let c=a??0;"u8"!==e&&(c=255*(c-o)/(s-o)),n&&(c*=l[i]),r.push(f(c))}return r}function f(e){if(e<=0||e>=255)return a;const t=e+(150===e?0:e<150?45*Math.cos(.01047*e):17*Math.sin(.021*e)),n=Math.log(e/255),r=Math.log(t/255);if(0===r)return a;const i=n/r;return isNaN(i)?a:Math.min(9.9,Math.max(.01,i))}function m(e){const{pixels:t,mask:n,pixelType:r,bandMasks:i}=e,o=t.map(((e,t)=>function(e,t,n){let r=1/0,i=-1/0,o=0,s=0,a=0,l=0;const c=e.length,u=new Map,d=[];for(let n=0;n<c;n++){const c=e[n];if(!t||t[n]){d.push(c);const e=(u.get(c)??0)+1;u.set(c,e),e>l&&(l=e,a=c),r=c<r?c:r,i=c>i?c:i,o+=c,s++}}if(0===s)return{statistics:{min:0,max:0,avg:0,stddev:0,mode:0,median:0},histogram:null};const h=o/s;let p=0;for(let n=0;n<c;n++)t&&!t[n]||(p+=(e[n]-h)**2);const f=t?t.filter((e=>e)).length:c,m=f<=1?0:Math.sqrt(p/(f-1));d.sort(((e,t)=>e-t));const y=s>>>1,g={min:r,max:i,avg:h,stddev:m,mode:a,median:s%2?d[Math.floor(y)]:(d[y-1]+d[y])/2};if(["u8","s8","u4","u2","u1"].includes(n)){const n=i-r+1,o=new Uint32Array(n);for(let n=0;n<c;n++)t&&!t[n]||o[e[n]-r]++;return{statistics:g,histogram:{min:r-.5,max:i+.5,size:n,counts:o}}}const v=256,b=new Uint32Array(v),w=(i-r)/v;if(0===w)return{statistics:g,histogram:{min:r,max:i,size:1,counts:new Uint32Array(1).fill(s)}};const _=new Uint32Array(257);for(let n=0;n<c;n++)t&&!t[n]||_[Math.floor((e[n]-r)/w)]++;for(let e=0;e<255;e++)b[e]=_[e];return b[255]=_[255]+_[v],{statistics:g,histogram:{min:r,max:i,size:v,counts:b}}}(e,i?.[t]??n,r)));return{statistics:o.map((({statistics:e})=>e)),histograms:o.map((({histogram:e})=>e))}}function y(e){if(!e?.pixels?.length)return null;const{pixels:t,mask:n,bandMasks:r,pixelType:i}=e,o=e.width*e.height,s=t.length,a=[],l=[],c=256;let u,d;for(let h=0;h<s;h++){let s=new Uint32Array(c);const p=t[h],f=r?.[h]??n;if("u8"===i){if(u=255,d=0,f){for(let e=0;e<o;e++)if(f[e]){const t=p[e];u=t<u?t:u,d=t>d?t:d,s[t]++}}else for(let e=0;e<o;e++){const t=p[e];u=t<u?t:u,d=t>d?t:d,s[t]++}s=s.slice(u,d+1)}else{let t=!1;e.statistics||(e.updateStatistics(),t=!0);const n=e.statistics;u=n[h].minValue,d=n[h].maxValue;const r=(d-u)/c;if(0===r){!n||e.validPixelCount||t||e.updateStatistics();const r=(e.validPixelCount||e.width*e.height)/c;for(let e=0;e<c;e++)s[e]=Math.round(r*(e+1))-Math.round(r*e)}else{const e=new Uint32Array(257);for(let t=0;t<o;t++)f&&!f[t]||e[Math.floor((p[t]-u)/r)]++;for(let t=0;t<255;t++)s[t]=e[t];s[255]=e[255]+e[c]}}const m="u8"===i?u-.5:u,y="u8"===i?d+.5:d;a.push({min:m,max:y,size:s.length,counts:s});let g=0,v=0,b=0;for(let e=0;e<s.length;e++)g+=s[e],v+=e*s[e];const w=v/g;for(let e=0;e<s.length;e++)b+=s[e]*(e-w)**2;const _=Math.sqrt(b/(g-1)),S=(y-m)/s.length,x=(w+("u8"===i?0:.5))*S+u,M=_*S;l.push({min:u,max:d,avg:x,stddev:M})}return{statistics:l,histograms:a}}function g(e){const t=[];for(let n=0;n<e.length;n++){const{min:r,max:i,size:o,counts:s}=e[n];let a=0,l=0;for(let e=0;e<o;e++)a+=s[e],l+=e*s[e];const c=l/a;let u=0;for(let e=0;e<o;e++)u+=s[e]*(e-c)**2;const d=(i-r)/o,h=(c+.5)*d+r,p=Math.sqrt(u/(a-1))*d;t.push({min:r,max:i,avg:h,stddev:p})}return t}function v(e,t){const{pixelBlock:n,bandIds:i,returnHistogramLut:a,rasterInfo:l}=t;let c=null,d=null,h=e.stretchType;if("number"==typeof h&&(h=s.x[h]),e.dra)if("minMax"===h&&n?.statistics)c=n.statistics.map((e=>[e.minValue,e.maxValue,0,0]));else{const e=y(n);c=null!=e?e.statistics:null,d=null!=e?e.histograms:null}else c=e.statistics?.length?e.statistics:l.statistics,d="histograms"in e?e.histograms:void 0,d||(d=l.histograms);"percentClip"!==h&&"histogramEqualization"!==h||d?.length||(h="minMax");const p=c?.length||d?.length||l.bandCount,f=[],m=[];c&&!Array.isArray(c[0])&&(c=c.map((e=>[e.min,e.max,e.avg,e.stddev])));const[g,v]=(0,o.hP)(l.pixelType);if(!c?.length){c=[];for(let e=0;e<p;e++)c.push([g,v,1,1]);"standardDeviation"===h&&(h="minMax")}switch(h){case"none":for(let e=0;e<p;e++)f[e]=g,m[e]=v;break;case"minMax":for(let e=0;e<p;e++){const t=c[e];f[e]=t[0],m[e]=t[1]}break;case"standardDeviation":{const{numberOfStandardDeviations:t=2}=e;for(let e=0;e<p;e++){const n=c[e];f[e]=n[2]-t*n[3],m[e]=n[2]+t*n[3],f[e]<n[0]&&(f[e]=n[0]),m[e]>n[1]&&(m[e]=n[1])}}break;case"histogramEqualization":(0,r.Lw)(d);for(let e=0;e<p;e++)f[e]=d[e].min,m[e]=d[e].max;break;case"percentClip":(0,r.Lw)(d);for(let t=0;t<d.length;t++){const n=d[t],r=new Uint32Array(n.size),i=[...n.counts];i.length>=20&&(i[0]=i[1]=i[2]=i[i.length-1]=i[i.length-2]=0);let o=0;const s=(n.max-n.min)/n.size,a=-.5===n.min&&1===s?.5:0;for(let e=0;e<n.size;e++)o+=i[e],r[e]=o;let l=(e.minPercent||0)*o/100;f[t]=n.min+a;for(let e=0;e<n.size;e++)if(r[e]>l){f[t]=n.min+s*(e+a);break}l=(1-(e.maxPercent||0)/100)*o,m[t]=n.max+a;for(let e=n.size-2;e>=0;e--)if(r[e]<l){m[t]=n.min+s*(e+2-a);break}if(m[t]<f[t]){const e=f[t];f[t]=m[t],m[t]=e}}break;default:for(let e=0;e<p;e++){const t=c[e];f[e]=t[0],m[e]=t[1]}}let b,w,_;return"histogramEqualization"===h?((0,r.Lw)(d),w=d[0].size||256,b=0,a&&(_=d.map((e=>u(e))))):(w=e.max||255,b=e.min||0),function(e,t){if(null==t||0===t.length)return e;const n=Math.max.apply(null,t),{minCutOff:r,maxCutOff:i,minOutput:o,maxOutput:s,histogramLut:a}=e;return r.length===t.length||r.length<=n?e:{minCutOff:t.map((e=>r[e])),maxCutOff:t.map((e=>i[e])),histogramLut:a?t.map((e=>a[e])):null,minOutput:o,maxOutput:s}}({minCutOff:f,maxCutOff:m,maxOutput:w,minOutput:b,histogramLut:_},i)}function b(e,t){const n=new Float32Array(e);for(let r=0;r<e;r++)t[r]>1?t[r]>2?n[r]=6.5+(t[r]-2)**2.5:n[r]=6.5+100*(2-t[r])**4:n[r]=1;return n}function w(e,t){if(!e?.pixels?.length)return e;const{mask:n,bandMasks:r,width:o,height:s,pixels:a}=e,{minCutOff:l,maxCutOff:c,minOutput:u,maxOutput:d,gamma:h}=t,p=o*s,f=t.outputPixelType||"u8",m=e.pixels.map((()=>i.A.createEmptyBand(f,p))),y=m.length,g=d-u,v=[],w=[];for(let e=0;e<y;e++)w[e]=c[e]-l[e],v[e]=0===w[e]?0:g/w[e];const _=f.startsWith("u")||f.startsWith("s"),S=h&&h.length>=y,x=!!t.isRenderer;if(S){const e=b(y,h);for(let t=0;t<y;t++){const i=r?.[t]??n;for(let n=0;n<p;n++)if(null==i||i[n]){if(0===w[t]){m[t][n]=u;continue}const r=a[t][n],i=(r-l[t])/w[t];let o=1;if(h[t]>1&&(o-=(1/g)**(i*e[t])),r<c[t]&&r>l[t]){const e=o*g*i**(1/h[t])+u;m[t][n]=x?Math.floor(e):_?Math.round(e):e}else r>=c[t]?m[t][n]=d:m[t][n]=u}}}else for(let e=0;e<y;e++){const t=r?.[e]??n;for(let n=0;n<p;n++)if(null==t||t[n]){const t=a[e][n];if(t<c[e]&&t>l[e]){const r=(t-l[e])*v[e]+u;m[e][n]=x?Math.floor(r):_?Math.round(r):r}else t>=c[e]?m[e][n]=d:m[e][n]=u}}const M=new i.A({width:o,height:s,mask:n,bandMasks:r,pixels:m,pixelType:f});return M.updateStatistics(),M}},77896:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r,i=n(82392),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(25376)),l=n(26325),c=n(48524),u=n(61845);let d=class extends o.A{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}static{r=this}readExpression(e,t){return t.value?(0,u.mX)(t.value):e}writeExpression(e,t,n){null!=this.value&&(e=(0,u.mX)(this.value)),null!=e&&(t[n]=e)}clone(){return new r({expression:this.expression,title:this.title,value:this.value})}};(0,i._)([(0,s.MZ)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],d.prototype,"expression",void 0),(0,i._)([(0,a.w)("expression",["expression","value"])],d.prototype,"readExpression",null),(0,i._)([(0,c.K)("expression")],d.prototype,"writeExpression",null),(0,i._)([(0,s.MZ)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],d.prototype,"title",void 0),(0,i._)([(0,s.MZ)({json:{read:!1,write:!1}})],d.prototype,"value",void 0),d=r=(0,i._)([(0,l.$)("esri.layers.support.LabelExpressionInfo")],d)},78115:function(e,t,n){"use strict";n.d(t,{DF:function(){return l},FD:function(){return i},Ov:function(){return o},ct:function(){return c}});let r=1e-6;function i(){return r}const o=Math.random,s=Math.PI/180,a=180/Math.PI;function l(e){return e*s}function c(e){return e*a}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:o,equals:function(e,t){return Math.abs(e-t)<=r*Math.max(1,Math.abs(e),Math.abs(t))},getEpsilon:i,setEpsilon:function(e){r=e},toDegree:c,toRadian:l},Symbol.toStringTag,{value:"Module"}))},78418:function(e,t,n){"use strict";e.exports=n(85160)},78598:function(e,t,n){"use strict";n.d(t,{q:function(){return c}});var r=n(36137),i=n(62991),o=n(5856),s=n(62436);class a extends SyntaxError{constructor(e,t,n,r){super(e),this.expected=t,this.found=n,this.location=r,this.name="SyntaxError"}format(e){let t="Error: "+this.message;if(this.location){let n=null;const r=e.find((e=>e.source===this.location.source));r&&(n=r.text.split(/\r\n|\n|\r/g));const i=this.location.start,o=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,s=this.location.source+":"+o.line+":"+o.column;if(n){const e=this.location.end,r="".padEnd(o.line.toString().length," "),a=n[i.line-1],l=(i.line===e.line?e.column:a.length+1)-i.column||1;t+="\n --\x3e "+s+"\n"+r+" |\n"+o.line+" | "+a+"\n"+r+" | "+"".padEnd(i.column-1," ")+"".padEnd(l,"^")}else t+="\n at "+s}return t}static buildMessage(e,t){function n(e){return e.codePointAt(0).toString(16).toUpperCase()}const r=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function i(e){return r?e.replace(r,(e=>"\\u{"+n(e)+"}")):e}function o(e){return i(e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(e=>"\\x0"+n(e))).replace(/[\x10-\x1F\x7F-\x9F]/g,(e=>"\\x"+n(e))))}function s(e){return i(e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(e=>"\\x0"+n(e))).replace(/[\x10-\x1F\x7F-\x9F]/g,(e=>"\\x"+n(e))))}const a={literal:e=>'"'+o(e.text)+'"',class(e){const t=e.parts.map((e=>Array.isArray(e)?s(e[0])+"-"+s(e[1]):s(e)));return"["+(e.inverted?"^":"")+t.join("")+"]"+(e.unicode?"u":"")},any:()=>"any character",end:()=>"end of input",other:e=>e.description};function l(e){return a[e.type](e)}return"Expected "+function(e){const t=e.map(l);if(t.sort(),t.length>0){let e=1;for(let n=1;n<t.length;n++)t[n-1]!==t[n]&&(t[e]=t[n],e++);t.length=e}switch(t.length){case 1:return t[0];case 2:return t[0]+" or "+t[1];default:return t.slice(0,-1).join(", ")+", or "+t[t.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."}}function l(e,t){const n={},r=(t=void 0!==t?t:{}).grammarSource,i={start:Se};let o=Se;const s="none",l=")",c=",",u="(",d="%",h="px",p="cm",f="mm",m="in",y="pt",g="pc",v="deg",b="rad",w="grad",_="turn",S="#",x=".",M="e",A=/^[ \t\n\r]/,T=/^[a-z\-]/,I=/^[0-9a-fA-F]/,C=/^[+\-]/,E=/^[0-9]/,k=ve("none"),P=ye("none",!1),R=ye(")",!1),O=ye(",",!1),N=ge([" ","\t","\n","\r"],!1,!1,!1),L=ve("function"),D=ye("(",!1),F=ve("identifier"),j=ge([["a","z"],"-"],!1,!1,!1),Z=ve("percentage"),U=ye("%",!1),z=ve("length"),V=ye("px",!1),B=ye("cm",!1),$=ye("mm",!1),G=ye("in",!1),q=ye("pt",!1),H=ye("pc",!1),W=ve("angle"),J=ye("deg",!1),K=ye("rad",!1),Y=ye("grad",!1),X=ye("turn",!1),Q=ve("number"),ee=ve("color"),te=ye("#",!1),ne=ge([["0","9"],["a","f"],["A","F"]],!1,!1,!1),re=ge(["+","-"],!1,!1,!1),ie=ge([["0","9"]],!1,!1,!1),oe=ye(".",!1),se=ye("e",!1);function ae(e,t){return t.length>0?function(e,t,n){return[e].concat(function(e,t){return e.map((function(e){return e[t]}))}(t,n))}(e,t,3):[e]}let le=0|t.peg$currPos,ce=le;const ue=[{line:1,column:1}];let de,he=le,pe=t.peg$maxFailExpected||[],fe=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');o=i[t.startRule]}function me(){return e.substring(ce,le)}function ye(e,t){return{type:"literal",text:e,ignoreCase:t}}function ge(e,t,n,r){return{type:"class",parts:e,inverted:t,ignoreCase:n,unicode:r}}function ve(e){return{type:"other",description:e}}function be(t){let n,r=ue[t];if(r)return r;if(t>=ue.length)n=ue.length-1;else for(n=t;!ue[--n];);for(r=ue[n],r={line:r.line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return ue[t]=r,r}function we(e,t,n){const i=be(e),o=be(t);return{source:r,start:{offset:e,line:i.line,column:i.column},end:{offset:t,line:o.line,column:o.column}}}function _e(e){le<he||(le>he&&(he=le,pe=[]),pe.push(e))}function Se(){let e;return e=xe(),e===n&&(e=function(){let e,t;if(e=[],t=Me(),t!==n)for(;t!==n;)e.push(t),t=Me();else e=n;return e}()),e}function xe(){let t,r;return fe++,t=le,Te(),e.substr(le,4)===s?(r=s,le+=4):(r=n,0===fe&&_e(P)),r!==n?(Te(),ce=t,t=[]):(le=t,t=n),fe--,t===n&&0===fe&&_e(k),t}function Me(){let t,r,i,o;return t=le,Te(),r=function(){let t,r,i;return fe++,t=le,r=Ie(),r!==n?(40===e.charCodeAt(le)?(i=u,le++):(i=n,0===fe&&_e(D)),i!==n?(ce=t,t=r):(le=t,t=n)):(le=t,t=n),fe--,t===n&&(r=n,0===fe&&_e(L)),t}(),r!==n?(Te(),i=function(){let t,r,i,o,s,a,l,u;if(t=le,r=Ae(),r!==n){for(i=[],o=le,s=Te(),44===e.charCodeAt(le)?(a=c,le++):(a=n,0===fe&&_e(O)),a===n&&(a=null),l=Te(),u=Ae(),u!==n?(s=[s,a,l,u],o=s):(le=o,o=n);o!==n;)i.push(o),o=le,s=Te(),44===e.charCodeAt(le)?(a=c,le++):(a=n,0===fe&&_e(O)),a===n&&(a=null),l=Te(),u=Ae(),u!==n?(s=[s,a,l,u],o=s):(le=o,o=n);ce=t,t=ae(r,i)}else le=t,t=n;return t}(),i===n&&(i=null),Te(),41===e.charCodeAt(le)?(o=l,le++):(o=n,0===fe&&_e(R)),o!==n?(Te(),ce=t,t=function(e,t){return{type:"function",name:e,parameters:t||[]}}(r,i)):(le=t,t=n)):(le=t,t=n),t}function Ae(){let e,t;return e=le,t=Ce(),t===n&&(t=Ee(),t===n&&(t=ke(),t===n&&(t=function(){let e,t;return fe++,e=le,Te(),t=Re(),t!==n?(ce=e,e=function(e){return{value:e,unit:null}}(t)):(le=e,e=n),fe--,e===n&&0===fe&&_e(Q),e}()))),t!==n&&(ce=e,t=function(e){return{type:"quantity",value:e.value,unit:e.unit}}(t)),e=t,e===n&&(e=le,t=Pe(),t!==n&&(ce=e,t=function(e){return{type:"color",colorType:e.type,value:e.value}}(t)),e=t),e}function Te(){let t,r;for(fe++,t=[],r=e.charAt(le),A.test(r)?le++:(r=n,0===fe&&_e(N));r!==n;)t.push(r),r=e.charAt(le),A.test(r)?le++:(r=n,0===fe&&_e(N));return fe--,t}function Ie(){let t,r,i;if(fe++,t=le,r=[],i=e.charAt(le),T.test(i)?le++:(i=n,0===fe&&_e(j)),i!==n)for(;i!==n;)r.push(i),i=e.charAt(le),T.test(i)?le++:(i=n,0===fe&&_e(j));else r=n;return r!==n&&(ce=t,r=me()),t=r,fe--,t===n&&(r=n,0===fe&&_e(F)),t}function Ce(){let t,r,i;return fe++,t=le,Te(),r=Re(),r!==n?(37===e.charCodeAt(le)?(i=d,le++):(i=n,0===fe&&_e(U)),i!==n?(ce=t,t=function(e){return{value:e,unit:"%"}}(r)):(le=t,t=n)):(le=t,t=n),fe--,t===n&&0===fe&&_e(Z),t}function Ee(){let t,r,i;return fe++,t=le,Te(),r=Re(),r!==n?(e.substr(le,2)===h?(i=h,le+=2):(i=n,0===fe&&_e(V)),i!==n?(ce=t,t=function(e){return{value:e,unit:"px"}}(r)):(le=t,t=n)):(le=t,t=n),t===n&&(t=le,Te(),r=Re(),r!==n?(e.substr(le,2)===p?(i=p,le+=2):(i=n,0===fe&&_e(B)),i!==n?(ce=t,t=function(e){return{value:e,unit:"cm"}}(r)):(le=t,t=n)):(le=t,t=n),t===n&&(t=le,Te(),r=Re(),r!==n?(e.substr(le,2)===f?(i=f,le+=2):(i=n,0===fe&&_e($)),i!==n?(ce=t,t=function(e){return{value:e,unit:"mm"}}(r)):(le=t,t=n)):(le=t,t=n),t===n&&(t=le,Te(),r=Re(),r!==n?(e.substr(le,2)===m?(i=m,le+=2):(i=n,0===fe&&_e(G)),i!==n?(ce=t,t=function(e){return{value:e,unit:"in"}}(r)):(le=t,t=n)):(le=t,t=n),t===n&&(t=le,Te(),r=Re(),r!==n?(e.substr(le,2)===y?(i=y,le+=2):(i=n,0===fe&&_e(q)),i!==n?(ce=t,t=function(e){return{value:e,unit:"pt"}}(r)):(le=t,t=n)):(le=t,t=n),t===n&&(t=le,Te(),r=Re(),r!==n?(e.substr(le,2)===g?(i=g,le+=2):(i=n,0===fe&&_e(H)),i!==n?(ce=t,t=function(e){return{value:e,unit:"pc"}}(r)):(le=t,t=n)):(le=t,t=n)))))),fe--,t===n&&0===fe&&_e(z),t}function ke(){let t,r,i;return fe++,t=le,r=Re(),r!==n?(e.substr(le,3)===v?(i=v,le+=3):(i=n,0===fe&&_e(J)),i!==n?(ce=t,t=function(e){return{value:e,unit:"deg"}}(r)):(le=t,t=n)):(le=t,t=n),t===n&&(t=le,r=Re(),r!==n?(e.substr(le,3)===b?(i=b,le+=3):(i=n,0===fe&&_e(K)),i!==n?(ce=t,t=function(e){return{value:e,unit:"rad"}}(r)):(le=t,t=n)):(le=t,t=n),t===n&&(t=le,r=Re(),r!==n?(e.substr(le,4)===w?(i=w,le+=4):(i=n,0===fe&&_e(Y)),i!==n?(ce=t,t=function(e){return{value:e,unit:"grad"}}(r)):(le=t,t=n)):(le=t,t=n),t===n&&(t=le,r=Re(),r!==n?(e.substr(le,4)===_?(i=_,le+=4):(i=n,0===fe&&_e(X)),i!==n?(ce=t,t=function(e){return{value:e,unit:"turn"}}(r)):(le=t,t=n)):(le=t,t=n)))),fe--,t===n&&(r=n,0===fe&&_e(W)),t}function Pe(){let t,r,i,o;if(fe++,t=le,35===e.charCodeAt(le)?(r=S,le++):(r=n,0===fe&&_e(te)),r!==n){if(i=[],o=e.charAt(le),I.test(o)?le++:(o=n,0===fe&&_e(ne)),o!==n)for(;o!==n;)i.push(o),o=e.charAt(le),I.test(o)?le++:(o=n,0===fe&&_e(ne));else i=n;i!==n?(ce=t,t={type:"hex",value:me()}):(le=t,t=n)}else le=t,t=n;return t===n&&(t=le,r=Me(),r!==n&&(ce=t,r=function(e){return{type:"function",value:e}}(r)),t=r,t===n&&(t=le,r=Ie(),r!==n&&(ce=t,r={type:"named",value:me()}),t=r)),fe--,t===n&&(r=n,0===fe&&_e(ee)),t}function Re(){let t,r,i,o,s,a,l,c;for(t=le,r=e.charAt(le),C.test(r)?le++:(r=n,0===fe&&_e(re)),r===n&&(r=null),i=le,o=[],s=e.charAt(le),E.test(s)?le++:(s=n,0===fe&&_e(ie));s!==n;)o.push(s),s=e.charAt(le),E.test(s)?le++:(s=n,0===fe&&_e(ie));if(46===e.charCodeAt(le)?(s=x,le++):(s=n,0===fe&&_e(oe)),s!==n){if(a=[],l=e.charAt(le),E.test(l)?le++:(l=n,0===fe&&_e(ie)),l!==n)for(;l!==n;)a.push(l),l=e.charAt(le),E.test(l)?le++:(l=n,0===fe&&_e(ie));else a=n;a!==n?(o=[o,s,a],i=o):(le=i,i=n)}else le=i,i=n;if(i===n)if(i=[],o=e.charAt(le),E.test(o)?le++:(o=n,0===fe&&_e(ie)),o!==n)for(;o!==n;)i.push(o),o=e.charAt(le),E.test(o)?le++:(o=n,0===fe&&_e(ie));else i=n;if(i!==n){if(o=le,101===e.charCodeAt(le)?(s=M,le++):(s=n,0===fe&&_e(se)),s!==n){if(a=e.charAt(le),C.test(a)?le++:(a=n,0===fe&&_e(re)),a===n&&(a=null),l=[],c=e.charAt(le),E.test(c)?le++:(c=n,0===fe&&_e(ie)),c!==n)for(;c!==n;)l.push(c),c=e.charAt(le),E.test(c)?le++:(c=n,0===fe&&_e(ie));else l=n;l!==n?(s=[s,a,l],o=s):(le=o,o=n)}else le=o,o=n;o===n&&(o=null),ce=t,t=parseFloat(me())}else le=t,t=n;return t}de=o();const Oe=de!==n&&le===e.length;function Ne(){throw de!==n&&le<e.length&&_e({type:"end"}),function(e,t,n){return new a(a.buildMessage(e,t),e,t,n)}(pe,he<e.length?function(t=le){const n=e.codePointAt(t);return void 0===n?"":String.fromCodePoint(n)}(he):null,he<e.length?we(he,he+1):we(he,he))}return t.peg$library?{peg$result:de,peg$currPos:le,peg$FAILED:n,peg$maxFailExpected:pe,peg$maxFailPos:he,peg$success:Oe,peg$throw:Oe?void 0:Ne}:Oe?de:void Ne()}function c(e){if(!e||0===e.length)return null;if("string"==typeof e){const t=u(e);return t&&0!==t.length?t:null}const t=e.map((e=>{if(!Number.isFinite(e.scale)||e.scale<=0)throw new i.A("effect:invalid-scale","scale must be finite and greater than 0",{stop:e});return{scale:e.scale,effects:u(e.value)}}));t.sort(((e,t)=>t.effects.length-e.effects.length));for(let e=0;e<t.length-1;e++){if(!(0,s.mj)(t[e].effects,t[e+1].effects))throw new i.A("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[e].effects,b:t[e+1].effects});(0,s.O9)(t[e].effects,t[e+1].effects)}return t.sort(((e,t)=>t.scale-e.scale)),t}function u(e){let t;if(!e)return[];try{t=l(e)}catch(t){throw new i.A("effect:invalid-syntax","Invalid effect syntax",{value:e,error:t})}return t.map((e=>function(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function(e){let t=1;return d(e.parameters,1),1===e.parameters.length&&(t=y(e.parameters[0])),new o.yG(e.name,t)}(e);case"opacity":return function(e){let t=1;return d(e.parameters,1),1===e.parameters.length&&(t=y(e.parameters[0])),new o.jm(t)}(e);case"hue-rotate":return function(e){let t=0;return d(e.parameters,1),1===e.parameters.length&&(t=function(e){return function(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=f[e.unit]))throw new i.A("effect:type-error",`Expected <angle>, Actual: ${h(e)}`,{term:e})}(e),e.value*f[e.unit]||0}(e.parameters[0])),new o.Nd(t)}(e);case"blur":return function(e){let t=0;return d(e.parameters,1),1===e.parameters.length&&(t=v(e.parameters[0]),p(t,e.parameters[0])),new o.Fk(t)}(e);case"drop-shadow":return function(e){const t=[];let n=null;for(const r of e.parameters)if("color"===r.type){if(t.length&&Object.freeze(t),n)throw new i.A("effect:type-error","Accepts only one color",{});n=b(r)}else{const e=v(r);if(Object.isFrozen(t))throw new i.A("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(e),3===t.length&&p(e,r)}if(t.length<2||t.length>3)throw new i.A("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new o.$b(t[0],t[1],t[2]||0,n||w("black"))}(e);case"bloom":return function(e){let t=1,n=0,r=0;return d(e.parameters,3),e.parameters[0]&&(t=y(e.parameters[0])),e.parameters[1]&&(n=v(e.parameters[1]),p(n,e.parameters[1])),e.parameters[2]&&(r=y(e.parameters[2])),new o.bv(t,n,r)}(e)}}catch(t){throw t.details.filter=e,t}throw new i.A("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}(e)))}function d(e,t){if(e.length>t)throw new i.A("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function h(e){if("color"===e.type)return"<color>";if(e.unit){if(e.unit in m)return"<length>";if(e.unit in f)return"<angle>";if("%"===e.unit)return"<percentage>"}return"<double>"}function p(e,t){if(e<0)throw new i.A("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}const f={deg:1,grad:.9,rad:180/Math.PI,turn:360};const m={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function y(e){!function(e){if("quantity"!==e.type||null!==e.unit&&"%"!==e.unit)throw new i.A("effect:type-error",`Expected <double> or <percentage>, Actual: ${h(e)}`,{term:e})}(e);const t=e.value;return p(t,e),"%"===e.unit?.01*t:t}function g(e){return function(e){if("quantity"!==e.type||null!==e.unit)throw new i.A("effect:type-error",`Expected <double>, Actual: ${h(e)}`,{term:e})}(e),p(e.value,e),e.value}function v(e){return function(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=m[e.unit]))throw new i.A("effect:type-error",`Expected <length>, Actual: ${h(e)}`,{term:e})}(e),e.value*m[e.unit]||0}function b(e){switch(e.colorType){case"hex":return(0,r.j5)(e.value);case"named":return w(e.value);case"function":return function(e){if(d(e.parameters,4),_.test(e.name))return[y(e.parameters[0]),y(e.parameters[1]),y(e.parameters[2]),e.parameters[3]?y(e.parameters[3]):1];if(S.test(e.name))return(0,r.ay)(g(e.parameters[0]),y(e.parameters[1]),y(e.parameters[2]),e.parameters[3]?y(e.parameters[3]):1);throw new i.A("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}(e.value)}}function w(e){if(!(0,r.V6)(e))throw new i.A("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return(0,r.c4)(e)}const _=/^rgba?/i,S=/^hsla?/i},78851:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});let r=0;function i(){return++r}},79e3:function(e,t,n){"use strict";n.d(t,{C:function(){return M},D:function(){return j},a:function(){return Z},b:function(){return P},c:function(){return I},d:function(){return $},e:function(){return z},f:function(){return N},g:function(){return A},h:function(){return O},i:function(){return V},k:function(){return Y},l:function(){return k},m:function(){return G},n:function(){return x},p:function(){return S},q:function(){return E},r:function(){return F},s:function(){return U},t:function(){return D},u:function(){return B},v:function(){return L},w:function(){return H},x:function(){return R},y:function(){return T},z:function(){return q}});n(18883);var r=n(34088),i=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),o="undefined"==typeof Element,s=o?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,a=!o&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},l=function e(t,n){var r;void 0===n&&(n=!0);var i=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},c=function e(t,n,r){for(var o=[],a=Array.from(t);a.length;){var c=a.shift();if(!l(c,!1))if("SLOT"===c.tagName){var u=c.assignedElements(),d=e(u.length?u:c.children,!0,r);r.flatten?o.push.apply(o,d):o.push({scopeParent:c,candidates:d})}else{s.call(c,i)&&r.filter(c)&&(n||!t.includes(c))&&o.push(c);var h=c.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(c),p=!l(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(c));if(h&&p){var f=e(!0===h?c.children:h.children,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:c,candidates:f})}else a.unshift.apply(a,c.children)}}return o},u=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},d=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!u(e)?0:e.tabIndex},h=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},p=function(e){return"INPUT"===e.tagName},f=function(e){return function(e){return p(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||a(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},m=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},y=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=s.call(e,"details>summary:first-of-type")?e.parentElement:e;if(s.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return m(e)}else{if("function"==typeof r){for(var o=e;e;){var l=e.parentElement,c=a(e);if(l&&!l.shadowRoot&&!0===r(l))return m(e);e=e.assignedSlot?e.assignedSlot:l||c===e.ownerDocument?l:c.host}e=o}if(function(e){var t,n,r,i,o=e&&a(e),s=null===(t=o)||void 0===t?void 0:t.host,l=!1;if(o&&o!==e)for(l=!!(null!==(n=s)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(s)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!l&&s;){var c,u,d;l=!(null===(u=s=null===(c=o=a(s))||void 0===c?void 0:c.host)||void 0===u||null===(d=u.ownerDocument)||void 0===d||!d.contains(s))}return l}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},g=function(e,t){return!(t.disabled||l(t)||function(e){return p(e)&&"hidden"===e.type}(t)||y(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!s.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},v=function(e,t){return!(f(t)||d(t)<0||!g(e,t))},b=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},w=function e(t){var n=[],r=[];return t.forEach((function(t,i){var o=!!t.scopeParent,s=o?t.scopeParent:t,a=function(e,t){var n=d(e);return n<0&&t&&!u(e)?0:n}(s,o),l=o?e(t.candidates):s;0===a?o?n.push.apply(n,l):n.push(s):r.push({documentOrder:i,tabIndex:a,item:t,isScope:o,content:l})})),r.sort(h).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},_=function(e,t){var n;return n=(t=t||{}).getShadowRoot?c([e],t.includeContainer,{filter:v.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:b}):function(e,t,n){if(l(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(i));return t&&s.call(e,i)&&r.unshift(e),r.filter(n)}(e,t.includeContainer,v.bind(null,t)),w(n)};const S={getShadowRoot:!0};function x(e){return Array.isArray(e)?e:Array.from(e)}function M(e){const t=k(e,`.${r.C.darkMode}, .${r.C.lightMode}, .${r.C.autoMode}`);return t?.classList.contains("calcite-mode-dark")||t?.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function A(e){const t=k(e,"[dir]");return t?t.getAttribute("dir"):"ltr"}function T(e){return e.getRootNode()}function I(e){const t=T(e);return"host"in t?t:null}function C(e){return e.host||null}function E(e,{selector:t,id:n}){if(!e)return null;e.assignedSlot&&(e=e.assignedSlot);const r=T(e);return(n?"getElementById"in r?r.getElementById(n):null:t?r.querySelector(t):null)||E(C(r),{selector:t,id:n})}function k(e,t){return e?e.closest(t)||k(C(T(e)),t):null}async function P(e){if(e)return function(e){return"function"==typeof e?.setFocus}(e)?e.setFocus():e.focus()}function R(e){if(e)return _(e,S)[0]??e}function O(e){R(e)?.focus()}function N(e,t){return Array.from(e.children).filter((e=>e.matches(t)))}function L(e,t,n){return"string"==typeof t&&""!==t?t:""===t||!0===t?e[n]:void 0}function D(e){return Boolean(e).toString()}function F(e){return Z(e)||function(e){return!!function(e){return function(e){return e.currentTarget.assignedNodes({flatten:!0})}(e).filter((e=>e.nodeType===Node.TEXT_NODE)).map((e=>e.textContent)).join("").trim()}(e)}(e)}function j(e){for(const t of e.childNodes)if(t.nodeType===Node.TEXT_NODE&&""!==t.textContent?.trim()||t.nodeType===Node.ELEMENT_NODE)return!0;return!1}function Z(e){return!!U(e).length}function U(e,t){return z(e.target,t)}function z(e,t){const n=e.assignedElements({flatten:!0});return t?function(e,t){return e.filter((e=>e.matches(t)))}(n,t):n}function V(e){return!(!e.isPrimary||0!==e.button)}function B(e){return 0===e.detail}const $=(e,t,n,r=!0)=>{const i=e.indexOf(t),o=0===i,s=i===e.length-1;let a;return r&&(n="previous"===n&&o?"last":"next"===n&&s?"first":n),a="previous"===n?e[i-1]||e[r?e.length-1:i]:"next"===n?e[i+1]||e[r?0:i]:"last"===n?e[e.length-1]:e[0],P(a),a};function G(e,t){if(e.parentNode!==t.parentNode)return!1;const n=Array.from(e.parentNode.children);return n.indexOf(e)<n.indexOf(t)}async function q(e,t,n,r){return J(e,t,"animation",n,r)}async function H(e,t,n,r){return J(e,t,"transition",n,r)}function W(e,t,n){const r="transition"===t?"transitionProperty":"animationName";return e.getAnimations().find((e=>e[r]===n))}async function J(e,t,n,r,i){let o=W(e,n,t);if(o||(await K(),o=W(e,n,t)),!o)return async function(e,t){await K(),e?.(),await K(),t?.()}(r,i);r?.();try{await o.finished}catch{}finally{i?.()}}function K(){return new Promise((e=>requestAnimationFrame((()=>e()))))}function Y(e){switch(!0){case e.endsWith("px"):return parseFloat(e);case e.endsWith("vw"):return window.innerWidth/100*parseFloat(e);case e.endsWith("vh"):return window.innerHeight/100*parseFloat(e);default:return 0}}},79083:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(84977),s=n(81482),a=n(8636),l=(n(6273),n(67498),n(26325));let c=class extends o.A{static{r=this}constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new r({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,i._)([(0,s.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"cols",void 0),(0,i._)([(0,s.MZ)({type:a.jz,json:{write:!0}})],c.prototype,"level",void 0),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"levelValue",void 0),(0,i._)([(0,s.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"origin",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"resolution",void 0),(0,i._)([(0,s.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"rows",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"scale",void 0),c=r=(0,i._)([(0,l.$)("esri.layers.support.LOD")],c)},79207:function(e,t,n){"use strict";function r(e,t,n,r,o){i(e,t,n||0,r||e.length-1,o||s)}function i(e,t,n,r,s){for(;r>n;){if(r-n>600){var a=r-n+1,l=t-n+1,c=Math.log(a),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1);i(e,t,Math.max(n,Math.floor(t-l*u/a+d)),Math.min(r,Math.floor(t+(a-l)*u/a+d)),s)}var h=e[t],p=n,f=r;for(o(e,n,t),s(e[r],h)>0&&o(e,n,r);p<f;){for(o(e,p,f),p++,f--;s(e[p],h)<0;)p++;for(;s(e[f],h)>0;)f--}0===s(e[n],h)?o(e,n,f):o(e,++f,r),f<=t&&(n=f+1),t<=f&&(r=f-1)}}function o(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function s(e,t){return e<t?-1:e>t?1:0}n.d(t,{q:function(){return r}})},79303:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r,i=n(90618),o={exports:{}};const s=(0,i.g)(function(){return r||(r=1,t=o,void 0!==(e=function(){function e(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return e.prototype={ensureBuffer:function(e){var t=this.buffer,n=t?t.byteLength:0;if(e<n)return t;for(var r=512;r<e;)r<<=1;for(var i=new Uint8Array(r),o=0;o<n;++o)i[o]=t[o];return this.buffer=i},getByte:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(e){var t=this.pos;if(e){this.ensureBuffer(t+e);for(var n=t+e;!this.eof&&this.bufferLength<n;)this.readBlock();var r=this.bufferLength;n>r&&(n=r)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}return this.pos=n,this.buffer.subarray(t,n)},lookChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(e,t,n){for(var r=e+t;this.bufferLength<=r&&!this.eof;)this.readBlock();return new Stream(this.buffer,e,t,n)},skip:function(e){e||(e=1),this.pos+=e},reset:function(){this.pos=0}},e}(),n=function(){if(!self||!self.Uint32Array)return null;var t=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),n=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),r=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),i=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],o=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function s(e){throw new Error(e)}function a(t){var n=0,r=t[n++],i=t[n++];-1!=r&&-1!=i||s("Invalid header in flate stream"),8!=(15&r)&&s("Unknown compression method in flate stream"),((r<<8)+i)%31!=0&&s("Bad FCHECK in flate stream"),32&i&&s("FDICT bit set in flate stream"),this.bytes=t,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,e.call(this)}return a.prototype=Object.create(e.prototype),a.prototype.getBits=function(e){for(var t,n=this.codeSize,r=this.codeBuf,i=this.bytes,o=this.bytesPos;n<e;)void 0===(t=i[o++])&&s("Bad encoding in flate stream"),r|=t<<n,n+=8;return t=r&(1<<e)-1,this.codeBuf=r>>e,this.codeSize=n-=e,this.bytesPos=o,t},a.prototype.getCode=function(e){for(var t=e[0],n=e[1],r=this.codeSize,i=this.codeBuf,o=this.bytes,a=this.bytesPos;r<n;){var l;void 0===(l=o[a++])&&s("Bad encoding in flate stream"),i|=l<<r,r+=8}var c=t[i&(1<<n)-1],u=c>>16,d=65535&c;return(0==r||r<u||0==u)&&s("Bad encoding in flate stream"),this.codeBuf=i>>u,this.codeSize=r-u,this.bytesPos=a,d},a.prototype.generateHuffmanTable=function(e){for(var t=e.length,n=0,r=0;r<t;++r)e[r]>n&&(n=e[r]);for(var i=1<<n,o=new Uint32Array(i),s=1,a=0,l=2;s<=n;++s,a<<=1,l<<=1)for(var c=0;c<t;++c)if(e[c]==s){var u=0,d=a;for(r=0;r<s;++r)u=u<<1|1&d,d>>=1;for(r=u;r<i;r+=l)o[r]=s<<16|c;++a}return[o,n]},a.prototype.readBlock=function(){function e(e,t,n,r,i){for(var o=e.getBits(n)+r;o-- >0;)t[f++]=i}var a=this.getBits(3);if(1&a&&(this.eof=!0),0!=(a>>=1)){var l,c;if(1==a)l=i,c=o;else if(2==a){for(var u=this.getBits(5)+257,d=this.getBits(5)+1,h=this.getBits(4)+4,p=Array(t.length),f=0;f<h;)p[t[f++]]=this.getBits(3);for(var m=this.generateHuffmanTable(p),y=0,g=(f=0,u+d),v=new Array(g);f<g;){var b=this.getCode(m);16==b?e(this,v,2,3,y):17==b?e(this,v,3,3,y=0):18==b?e(this,v,7,11,y=0):v[f++]=y=b}l=this.generateHuffmanTable(v.slice(0,u)),c=this.generateHuffmanTable(v.slice(u,g))}else s("Unknown block type in flate stream");for(var w=(R=this.buffer)?R.length:0,_=this.bufferLength;;){var S=this.getCode(l);if(S<256)_+1>=w&&(w=(R=this.ensureBuffer(_+1)).length),R[_++]=S;else{if(256==S)return void(this.bufferLength=_);var x=(S=n[S-=257])>>16;x>0&&(x=this.getBits(x)),y=(65535&S)+x,S=this.getCode(c),(x=(S=r[S])>>16)>0&&(x=this.getBits(x));var M=(65535&S)+x;_+y>=w&&(w=(R=this.ensureBuffer(_+y)).length);for(var A=0;A<y;++A,++_)R[_]=R[_-M]}}}else{var T,I=this.bytes,C=this.bytesPos;void 0===(T=I[C++])&&s("Bad block header in flate stream");var E=T;void 0===(T=I[C++])&&s("Bad block header in flate stream"),E|=T<<8,void 0===(T=I[C++])&&s("Bad block header in flate stream");var k=T;void 0===(T=I[C++])&&s("Bad block header in flate stream"),(k|=T<<8)!=(65535&~E)&&s("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var P=this.bufferLength,R=this.ensureBuffer(P+E),O=P+E;this.bufferLength=O;for(var N=P;N<O;++N){if(void 0===(T=I[C++])){this.eof=!0;break}R[N]=T}this.bytesPos=C}},a}())&&(t.exports=n)),o.exports;var e,t,n}())},79417:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isProtectedDayOfYearToken=function(e){return-1!==n.indexOf(e)},t.isProtectedWeekYearToken=function(e){return-1!==r.indexOf(e)},t.throwProtectedError=function(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))};var n=["D","DD"],r=["YY","YYYY"]},79441:function(e,t,n){"use strict";function r(){return[1,0,0,0,1,0,0,0,1]}function i(e,t,n,r,i,o,s,a,l){return[e,t,n,r,i,o,s,a,l]}n.d(t,{fA:function(){return i},vt:function(){return r},zK:function(){return o}});const o=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},create:r,fromValues:i},Symbol.toStringTag,{value:"Module"}))},79509:function(e,t,n){"use strict";var r;n.d(t,{Y:function(){return r}}),function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"}(r||(r={}))},79640:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r,i=n(82392),o=n(15565),s=n(81482),a=(n(6273),n(80861),n(26325)),l=n(48524),c=n(22980),u=n(23547);let d=r=class extends u.A{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map((e=>e.toJSON()))}clone(){return new r((0,o.o8)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};(0,i._)([(0,s.MZ)({type:Object,json:{write:!0}})],d.prototype,"attributes",void 0),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],d.prototype,"description",void 0),(0,i._)([(0,s.MZ)({type:[c.A]})],d.prototype,"fieldInfos",void 0),(0,i._)([(0,l.K)("fieldInfos")],d.prototype,"writeFieldInfos",null),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],d.prototype,"title",void 0),(0,i._)([(0,s.MZ)({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],d.prototype,"type",void 0),d=r=(0,i._)([(0,a.$)("esri.popup.content.FieldsContent")],d);const h=d},79645:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r,i=n(82392),o=n(15565),s=n(81482),a=(n(6273),n(80861),n(85716)),l=n(26325),c=n(46243),u=n(13005),d=n(19900);let h=r=class extends((0,u.h)(c.A)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.symbols.map((n=>n.collectRequiredFields(e,t))))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){return this.symbols.reduce(((e,t)=>e+JSON.stringify(t)),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new r({description:this.description,label:this.label,symbol:(0,o.o8)(this.symbol),visualVariables:(0,o.o8)(this.visualVariables),authoringInfo:(0,o.o8)(this.authoringInfo)})}};(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],h.prototype,"description",void 0),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],h.prototype,"label",void 0),(0,i._)([(0,s.MZ)(d.Wp)],h.prototype,"symbol",void 0),(0,i._)([(0,a.e)({simple:"simple"})],h.prototype,"type",void 0),h=r=(0,i._)([(0,l.$)("esri.renderers.SimpleRenderer")],h)},80177:function(e,t,n){"use strict";n.d(t,{A:function(){return p}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(74525),l=n(84977);let c=r=class extends l.A{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new r({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,i._)([(0,o.MZ)({type:String,json:{write:!0}})],c.prototype,"linkURL",void 0),(0,i._)([(0,o.MZ)({type:String,json:{write:{isRequired:!0}}})],c.prototype,"sourceURL",void 0),c=r=(0,i._)([(0,s.$)("esri.popup.content.support.ImageMediaInfoValue")],c);const u=c;var d;let h=d=class extends a.A{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new d({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};(0,i._)([(0,o.MZ)({type:Number,json:{write:!0}})],h.prototype,"refreshInterval",void 0),(0,i._)([(0,o.MZ)({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],h.prototype,"type",void 0),(0,i._)([(0,o.MZ)({type:u,json:{write:{isRequired:!0}}})],h.prototype,"value",void 0),h=d=(0,i._)([(0,s.$)("esri.popup.content.ImageMediaInfo")],h);const p=h},80189:function(e,t,n){"use strict";let r;async function i(){return null==r&&(r=Promise.all([n.e(3859),n.e(4084)]).then(n.bind(n,84084)).then((e=>new e.WhereClauseCache(500,500)))),r}async function o(e,t){const n=await i(),r=n.get(e,t);if(null==r)throw n.getError(e,t);return r}function s(e,t){return e||=null,t||=null,"1=1"===e?t??e:"1=1"===t?e??t:e&&t?`(${e}) AND (${t})`:e??t}function a(e,t){return e||=null,t||=null,"1=1"===e||"1=1"===t||e===t?"1=1"===e?e:t:e&&t?`(${e}) OR (${t})`:e??t}function l(e,t){return 0===t.length?null:`${e} IN (${function(e){return e.map((e=>"string"==typeof e?function(e){return`'${e.replaceAll("'","''")}'`}(e):e)).join(",")}(t)})`}n.d(t,{GP:function(){return o},IW:function(){return a},Yp:function(){return l},mA:function(){return s}})},80294:function(e,t,n){"use strict";function r(e,t){for(const n of e.values())if(t(n))return!0;return!1}function i(e,t){for(const n of e.values())if(t(n))return n;return null}function o(e,t,n){const r=e.get(t);if(void 0!==r)return r;const i=n();return e.set(t,i),i}function s(e){const t=new Map;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}n.d(t,{$n:function(){return i},Bj:function(){return s},Bs:function(){return r},tE:function(){return o}})},80347:function(e,t,n){"use strict";n.d(t,{A:function(){return f},B:function(){return p},C:function(){return u},D:function(){return d},E:function(){return D},F:function(){return U},G:function(){return L},H:function(){return V},K:function(){return k},a:function(){return F},b:function(){return g},c:function(){return s},d:function(){return c},e:function(){return M},f:function(){return l},g:function(){return y},h:function(){return A},i:function(){return a},j:function(){return v},k:function(){return w},l:function(){return o},m:function(){return T},n:function(){return x},o:function(){return C},p:function(){return P},q:function(){return N},r:function(){return S},s:function(){return b},t:function(){return I},u:function(){return _},v:function(){return E},w:function(){return h},x:function(){return z},y:function(){return B},z:function(){return m}});var r=n(19913),i=n(78115);function o(e){const t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function l(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function c(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function u(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function d(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function h(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function p(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function f(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function m(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function y(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function g(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function v(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}function b(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function w(e){const t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function _(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function S(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function x(e,t){const n=t[0],r=t[1],i=t[2];let o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function M(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function A(e,t,n){const r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],l=n[2];return e[0]=i*l-o*a,e[1]=o*s-r*l,e[2]=r*a-i*s,e}function T(e,t,n,r){const i=t[0],o=t[1],s=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=s+r*(n[2]-s),e}function I(e,t,n){const r=t[0],i=t[1],o=t[2];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12],e[1]=n[1]*r+n[5]*i+n[9]*o+n[13],e[2]=n[2]*r+n[6]*i+n[10]*o+n[14],e}function C(e,t,n){const r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function E(e,t,n){const r=n[0],i=n[1],o=n[2],s=n[3],a=t[0],l=t[1],c=t[2],u=i*c-o*l,d=o*a-r*c,h=r*l-i*a,p=i*h-o*d,f=o*u-r*h,m=r*d-i*u,y=2*s;return e[0]=a+u*y+2*p,e[1]=l+d*y+2*f,e[2]=c+h*y+2*m,e}function k(e,t,n,r){const i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function P(e,t){x(R,e),x(O,t);const n=M(R,O);return n>1?0:n<-1?Math.PI:Math.acos(n)}const R=(0,r.vt)(),O=(0,r.vt)();function N(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function L(e,t){if(e===t)return!0;const n=e[0],r=e[1],o=e[2],s=t[0],a=t[1],l=t[2],c=(0,i.FD)();return Math.abs(n-s)<=c*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-a)<=c*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-l)<=c*Math.max(1,Math.abs(o),Math.abs(l))}function D(e,t,n){const r=n[0]-t[0],i=n[1]-t[1],o=n[2]-t[2];let s=r*r+i*i+o*o;return s>0?(s=1/Math.sqrt(s),e[0]=r*s,e[1]=i*s,e[2]=o*s,e):(e[0]=0,e[1]=0,e[2]=0,e)}const F=c,j=u,Z=d,U=v,z=b,V=o,B=w;Object.freeze(Object.defineProperty({__proto__:null,abs:h,add:l,angle:P,bezier:function(e,t,n,r,i,o){const s=1-o,a=s*s,l=o*o,c=a*s,u=3*o*a,d=3*l*s,h=l*o;return e[0]=t[0]*c+n[0]*u+r[0]*d+i[0]*h,e[1]=t[1]*c+n[1]*u+r[1]*d+i[1]*h,e[2]=t[2]*c+n[2]*u+r[2]*d+i[2]*h,e},ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},clamp:function(e,t=0,n=1){return e[0]=Math.min(Math.max(e[0],t),n),e[1]=Math.min(Math.max(e[1],t),n),e[2]=Math.min(Math.max(e[2],t),n),e},copy:s,cross:A,crossAndNormalize:function(e,t,n){const r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],l=n[2],c=i*l-o*a,u=o*s-r*l,d=r*a-i*s,h=Math.sqrt(c*c+u*u+d*d);return e[0]=c/h,e[1]=u/h,e[2]=d/h,e},direction:D,dist:U,distance:v,div:Z,divide:d,dot:M,equals:L,exactEquals:N,floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},hermite:function(e,t,n,r,i,o){const s=o*o,a=s*(2*o-3)+1,l=s*(o-2)+o,c=s*(o-1),u=s*(3-2*o);return e[0]=t[0]*a+n[0]*l+r[0]*c+i[0]*u,e[1]=t[1]*a+n[1]*l+r[1]*c+i[1]*u,e[2]=t[2]*a+n[2]*l+r[2]*c+i[2]*u,e},inverse:S,len:V,length:o,lerp:T,max:m,min:f,mul:j,multiply:u,negate:_,normalize:x,random:function(e,t=1){const n=i.Ov,r=2*n()*Math.PI,o=2*n()-1,s=Math.sqrt(1-o*o)*t;return e[0]=Math.cos(r)*s,e[1]=Math.sin(r)*s,e[2]=o*t,e},rotateX:function(e,t,n,r){const i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},rotateY:function(e,t,n,r){const i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},rotateZ:k,round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:y,scaleAndAdd:g,set:a,sign:p,sqrDist:z,sqrLen:B,squaredDistance:b,squaredLength:w,str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},sub:F,subtract:c,transformMat3:C,transformMat4:I,transformQuat:E},Symbol.toStringTag,{value:"Module"}))},80521:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,i.default)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=n-r;return Math.floor(a/s)+1};var i=r(n(95039)),o=r(n(10427)),s=864e5;e.exports=t.default},80575:function(e,t,n){"use strict";n.d(t,{hr:function(){return i},ie:function(){return c},uC:function(){return a},wf:function(){return l}});var r=n(4506);class i{constructor(e,t){this.min=e,this.max=t,this.range=t-e}normalize(e,t=0,n=!1){return o(this.range,this.min,this.max,e,t,n)}clamp(e,t=0){return(0,r.qE)(e-t,this.min,this.max)+t}monotonic(e,t,n){return e<t?t:t+s(this.range,e-t,n)}minimalMonotonic(e,t,n){return o(this.range,e,e+this.range,t,n)}center(e,t,n){return t=this.monotonic(e,t,n),this.normalize((e+t)/2,n)}diff(e,t,n){return this.monotonic(e,t,n)-e}shortestSignedDiff(e,t){e=this.normalize(e);const n=(t=this.normalize(t))-e,r=t<e?this.minimalMonotonic(e,t)-e:t-this.minimalMonotonic(t,e);return Math.abs(n)<Math.abs(r)?n:r}contains(e,t,n){return t=this.minimalMonotonic(e,t),(n=this.minimalMonotonic(e,n))>e&&n<t}}function o(e,t,n,r,i=0,o=!1){return(r-=i)<t?r+=s(e,t-r):r>n&&(r-=s(e,r-n)),o&&r===n&&(r=t),r+i}function s(e,t,n=0){return Math.ceil((t-n)/e)*e+n}const a=new i(0,2*Math.PI),l=new i(-Math.PI,Math.PI),c=new i(0,360)},80652:function(e,t,n){"use strict";n.d(t,{X:function(){return o},Z:function(){return i}});var r=n(53244);function i(e){return new r.A({getCollections:()=>[e.tables,e.layers],getChildrenFunction:e=>{const t=[];return"tables"in e&&t.push(e.tables),"layers"in e&&t.push(e.layers),t},itemFilterFunction:e=>{const t=e.parent;return!!t&&"tables"in t&&t.tables.includes(e)}})}function o(e){for(const t of e.values())t?.destroy();e.clear()}},80861:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(32083),i=(n(6273),n(21332));const o={info:0,warn:1,error:2,none:3};class s{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,s._loggers.set(this.module,this);const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=s.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e="string"!=typeof e?e.declaredClass:e,s._loggers.get(e)||new s({module:e})}static{this._loggers=new Map}static{this._tickCounter=0}static{this._tickCounterScheduled=!1}static{this._throttlingDisabled=!1}_log(e,t,...n){if(this._matchLevel(e)){if("always"!==t&&!s._throttlingDisabled){const r=function(...e){const t=(e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]";return(0,i.Wm)(JSON.stringify(e,t))}(n),o=this._loggedMessages[e].get(r);if("once"===t&&null!=o||"oncePerTick"===t&&o&&o>=s._tickCounter)return;this._loggedMessages[e].set(r,s._tickCounter),s._scheduleTickCounterIncrement()}for(const t of r.A.log.interceptors)if(t(e,this.module,...n))return;this._inheritedWriter()(e,this.module,...n)}}_parentWithMember(e,t){let n=this;for(;null!=n;){const t=n[e];if(null!=t)return t;n=n.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",a)}_matchLevel(e){const t=r.A.log.level||"warn";return o[this._parentWithMember("level",t)]<=o[e]}static _scheduleTickCounterIncrement(){s._tickCounterScheduled||(s._tickCounterScheduled=!0,Promise.resolve().then((()=>{s._tickCounter++,s._tickCounterScheduled=!1})))}}function a(e,t,...n){}},80925:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});var r=n(19759);function i(e){return o[function(e){return"json"===e.type?"application/json":"blob"===e.type?e.blob.type:function(e){const t=(0,r.Zo)(e);return l[t]||s}(e.url)}(e)]||a}const o={},s="text/plain",a=o[s],l={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const e in l)o[l[e]]=e},81327:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(48524);let l=class extends i.A{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,t,n){e||(t[n]=e)}};(0,r._)([(0,o.MZ)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],l.prototype,"enabled",void 0),(0,r._)([(0,a.K)("enabled")],l.prototype,"writeEnabled",null),(0,r._)([(0,o.MZ)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],l.prototype,"type",void 0),l=(0,r._)([(0,s.$)("esri.symbols.Symbol3DLayer")],l)},81482:function(e,t,n){"use strict";n.d(t,{MZ:function(){return l},rM:function(){return c}});var r=n(80861),i=n(8636),o=n(44212),s=n(88135),a=n(6864);function l(e={}){return(t,n)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${n}. Accessor does not support static properties.`);const l=Object.getOwnPropertyDescriptor(t,n),c=(0,s.z4)(t,n);l&&(l.get||l.set?(c.get=l.get||c.get,c.set=l.set||c.set):"value"in l&&("value"in e&&r.A.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${n}" on "${t.constructor.name}" already defined in the metadata`,e),c.value=e.value=l.value)),null!=e.readOnly&&(c.readOnly=e.readOnly);const u=e.aliasOf;if(u){const e="string"==typeof u?u:u.source,t="string"==typeof u?null:!0===u.overridable;let r;c.dependsOn=[e],c.get=function(){let t=(0,o.Jt)(this,e);if("function"==typeof t){r||(r=e.split(".").slice(0,-1).join("."));const n=(0,o.Jt)(this,r);n&&(t=t.bind(n))}return t},c.readOnly||(c.set=t?function(e){this._override(n,e)}:function(t){(0,a.h)(this,e,t)})}const d=e.type,h=e.types;if(!c.cast){let t;d?t=function(e){let t=0,n=e;if((0,i.Zu)(e))return(0,i.Nd)(e);for(;Array.isArray(n)&&1===n.length&&"string"!=typeof n[0]&&"number"!=typeof n[0];)n=n[0],t++;const r=n;if((0,i.EK)(r))return 0===t?(0,i.MB)(r):(0,i._e)((0,i.MB)(r),t);if(1===t)return(0,i.eC)(r);if(t>1)return(0,i.e6)(r,t);const o=e;return o.from?o.from:(0,i.dp)(o)}(d):h&&(t=Array.isArray(h)?(0,i.wB)((0,i.aq)(h[0])):(0,i.aq)(h)),e.cast=function(e,t){if(e||t)return e?t?(n,r)=>t(e(n,r),r):e:t}(e.cast,t)}(0,s.CX)(c,e),e.range&&(c.cast=(0,i.Qp)(c.cast,e.range))}}function c(e,t,n){const r=(0,s.z4)(e,n);r.json||(r.json={});let i=r.json;return void 0!==t&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}},82040:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(68716),i=n(88416);class o extends i.R{constructor(e,t){switch(super(),this.context=e,Object.assign(this,t),this.internalFormat){case r.H0.R16F:case r.H0.R32F:case r.H0.R8_SNORM:case r.H0.R8:this.pixelFormat=r.Ab.RED;break;case r.H0.R8I:case r.H0.R8UI:case r.H0.R16I:case r.H0.R16UI:case r.H0.R32I:case r.H0.R32UI:this.pixelFormat=r.Ab.RED_INTEGER}}static validate(e,t){return new o(e,t)}}},82392:function(e,t,n){"use strict";function r(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function i(e,t){return function(n,r){t(n,r,e)}}function o(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?n(e.value):i(e.value).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function s(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}n.d(t,{_:function(){return r},a:function(){return i},b:function(){return s},c:function(){return l},d:function(){return o}});var a="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function l(e){function t(t){e.error=e.hasError?new a(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,r=0;return function i(){for(;n=e.stack.pop();)try{if(!n.async&&1===r)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,(function(e){return t(e),i()}))}else r|=1}catch(e){t(e)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}},82506:function(e,t,n){"use strict";n.d(t,{L5:function(){return i},N5:function(){return s},n$:function(){return o},qU:function(){return r}});const r="system",i="unknown",o="UTC",s=Intl.DateTimeFormat().resolvedOptions().timeZone},82541:function(e,t,n){"use strict";n.d(t,{$0:function(){return g},B8:function(){return l},D_:function(){return s},Ge:function(){return w},I0:function(){return v},KC:function(){return c},Oe:function(){return m},Tl:function(){return h},a4:function(){return u},dR:function(){return b},e$:function(){return p},hZ:function(){return o},hs:function(){return f},kN:function(){return y},lw:function(){return d},mg:function(){return a},z0:function(){return i}});var r=n(78115);function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function o(e,t,n,r,i,o,s,a,l,c){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=c,e}function s(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function a(e,t){if(e===t){const n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function l(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=u*s-a*c,h=-u*o+a*l,p=c*o-s*l;let f=n*d+r*h+i*p;return f?(f=1/f,e[0]=d*f,e[1]=(-u*r+i*c)*f,e[2]=(a*r-i*s)*f,e[3]=h*f,e[4]=(u*n-i*l)*f,e[5]=(-a*n+i*o)*f,e[6]=p*f,e[7]=(-c*n+r*l)*f,e[8]=(s*n-r*o)*f,e):null}function c(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8];return e[0]=s*u-a*c,e[1]=i*c-r*u,e[2]=r*a-i*s,e[3]=a*l-o*u,e[4]=n*u-i*l,e[5]=i*o-n*a,e[6]=o*c-s*l,e[7]=r*l-n*c,e[8]=n*s-r*o,e}function u(e){const t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8];return t*(c*o-s*l)+n*(-c*i+s*a)+r*(l*i-o*a)}function d(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=n[0],p=n[1],f=n[2],m=n[3],y=n[4],g=n[5],v=n[6],b=n[7],w=n[8];return e[0]=h*r+p*s+f*c,e[1]=h*i+p*a+f*u,e[2]=h*o+p*l+f*d,e[3]=m*r+y*s+g*c,e[4]=m*i+y*a+g*u,e[5]=m*o+y*l+g*d,e[6]=v*r+b*s+w*c,e[7]=v*i+b*a+w*u,e[8]=v*o+b*l+w*d,e}function h(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=n[0],p=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=s,e[4]=a,e[5]=l,e[6]=h*r+p*s+c,e[7]=h*i+p*a+u,e[8]=h*o+p*l+d,e}function p(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=Math.sin(n),p=Math.cos(n);return e[0]=p*r+h*s,e[1]=p*i+h*a,e[2]=p*o+h*l,e[3]=p*s-h*r,e[4]=p*a-h*i,e[5]=p*l-h*o,e[6]=c,e[7]=u,e[8]=d,e}function f(e,t,n){const r=n[0],i=n[1],o=n[2];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=o*t[6],e[7]=o*t[7],e[8]=o*t[8],e}function m(e,t,n){const r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e}function y(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function g(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function v(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=n+n,a=r+r,l=i+i,c=n*s,u=r*s,d=r*a,h=i*s,p=i*a,f=i*l,m=o*s,y=o*a,g=o*l;return e[0]=1-d-f,e[3]=u-g,e[6]=h+y,e[1]=u+g,e[4]=1-c-f,e[7]=p-m,e[2]=h-y,e[5]=p+m,e[8]=1-c-d,e}function b(e,t){const n=t[0],r=t[1],i=t[2],o=t[4],s=t[5],a=t[6],l=t[8],c=t[9],u=t[10],d=u*s-a*c,h=-u*o+a*l,p=c*o-s*l,f=n*d+r*h+i*p;if(!f)return null;const m=1/f;return e[0]=d*m,e[1]=(-u*r+i*c)*m,e[2]=(a*r-i*s)*m,e[3]=h*m,e[4]=(u*n-i*l)*m,e[5]=(-a*n+i*o)*m,e[6]=p*m,e[7]=(-c*n+r*l)*m,e[8]=(s*n-r*o)*m,e}function w(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],p=t[11],f=t[12],m=t[13],y=t[14],g=t[15],v=n*a-r*s,b=n*l-i*s,w=n*c-o*s,_=r*l-i*a,S=r*c-o*a,x=i*c-o*l,M=u*m-d*f,A=u*y-h*f,T=u*g-p*f,I=d*y-h*m,C=d*g-p*m,E=h*g-p*y;let k=v*E-b*C+w*I+_*T-S*A+x*M;return k?(k=1/k,e[0]=(a*E-l*C+c*I)*k,e[1]=(l*T-s*E-c*A)*k,e[2]=(s*C-a*T+c*M)*k,e[3]=(i*C-r*E-o*I)*k,e[4]=(n*E-i*T+o*A)*k,e[5]=(r*T-n*C-o*M)*k,e[6]=(m*x-y*S+g*_)*k,e[7]=(y*w-f*x-g*b)*k,e[8]=(f*S-m*w+g*v)*k,e):null}function _(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}const S=d,x=_;Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e},adjoint:c,copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},determinant:u,equals:function(e,t){const n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=t[0],p=t[1],f=t[2],m=t[3],y=t[4],g=t[5],v=t[6],b=t[7],w=t[8],_=(0,r.FD)();return Math.abs(n-h)<=_*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-p)<=_*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-f)<=_*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-m)<=_*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(a-y)<=_*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(l-g)<=_*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(c-v)<=_*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(u-b)<=_*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(d-w)<=_*Math.max(1,Math.abs(d),Math.abs(w))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)},fromMat2d:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},fromMat4:i,fromQuat:v,fromRotation:g,fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromTranslation:y,identity:s,invert:l,isOrthoNormal:function(e){const t=(0,r.FD)(),n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8];return Math.abs(1-(n*n+s*s+c*c))<=t&&Math.abs(1-(i*i+a*a+u*u))<=t&&Math.abs(1-(o*o+l*l+d*d))<=t},mul:S,multiply:d,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e},normalFromMat4:w,normalFromMat4Legacy:b,projection:function(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},rotate:p,scale:f,scaleByVec2:m,set:o,str:function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},sub:x,subtract:_,translate:h,transpose:a},Symbol.toStringTag,{value:"Module"}))},82795:function(e,t,n){"use strict";n.d(t,{e:function(){return m},o:function(){return b}});var r=n(82392),i=n(73783),o=(n(6273),n(80861)),s=n(57882),a=n(81482),l=(n(67498),n(26325)),c=n(26463),u=n(85368);class d extends u.l{constructor(e){super(!0),this._onChange=e,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",(e=>this._update(e.data)))}_update(e){const t="touch"===e.native.pointerType?"touch":"mouse",{x:n,y:r}=e;t===this._value&&this._x===n&&this._y===r||(this._value=t,this._x=n,this._y=r,this._onChange(t,n,r))}}var h=n(39369);class p extends u.l{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=(0,h.v)(!1),this._onPointerAdd=({data:e})=>{"touch"===e.pointerType&&(this._activeTouchPointerIds.add(e.native.pointerId),this._update())},this._onPointerRemove=({data:e})=>{"touch"===e.pointerType&&(this._activeTouchPointerIds.delete(e.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}}var f=n(94925);let m=class extends i.A{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=c.i,this._latestPointerType="mouse",this._propertiesPool=new f.M({latestPointerLocation:w},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const t of e)this.uninstallHandlers(t);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some((e=>e.handler.hasPendingInputs))}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(e,t,n=b.INTERNAL){if(this._nameToGroup[e])return;if(0===t.length)return;const r={name:e,handlers:t.map((e=>({handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:n,eventCallback:null,uninstallCallback:null})))};this._nameToGroup[e]=r;for(let e=r.handlers.length-1;e>=0;e--){const t=r.handlers[e];this._handlers.push(t),t.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(e,n,r,i,o)=>{this._emitInputEvent(t.priorityIndex+1,e,n,r,o,i)},setPointerCapture:(e,n)=>{this._setPointerCapture(r,t,e,n)},setEventCallback:e=>{t.eventCallback=e},setUninstallCallback:e=>{t.uninstallCallback=e},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const t=this._nameToGroup[e];t?(t.handlers.forEach((e=>{e.removed=!0,e.uninstallCallback?.()})),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):o.A.getLogger(this).error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return void 0!==this._nameToGroup[e]}isModifierKeyDown(e){return this._activeKeyModifiers.has(e)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,t=new Set;this._handlersPriority=[];for(let e=this._handlers.length-1;e>=0;e--){const t=this._handlers[e];t.priorityIndex=e,this._handlersPriority.push(t)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let n=this._handlersPriority.length-1;n>=0;n--){const r=this._handlersPriority[n];r.priorityIndex=n;let i=r.handler.hasSideEffects;if(!i)for(const t of r.handler.outgoingEventTypes)if(e.has(t)){i=!0;break}if(i)for(const n of r.handler.incomingEventMatches){e.add(n.eventType);for(const e of n.keyModifiers)(0,c.p)(e)||t.add(e)}r.active=i}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,t,n){this._latestPointerType=e;const r=this._get("latestPointerLocation");if(null==r||r.x!==t||r.y!==n){const e=this._propertiesPool.get("latestPointerLocation");e.x=t,e.y=n,this._set("latestPointerLocation",e)}}_onEventReceived(e,t){if("pointer-capture-lost"===e){const e=t;this._pointerCaptures.delete(e.native.pointerId)}this._updateKeyModifiers(e,t);const n=null!=this.test.timestamp?this.test.timestamp:t.native?t.native.timestamp:void 0,r=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,n,r)}_updateKeyModifiers(e,t){if(!t)return;let n=!1;const r=()=>{n||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),n=!0)},i=(e,t)=>{t&&!this._activeKeyModifiers.has(e)?(r(),this._activeKeyModifiers.add(e)):!t&&this._activeKeyModifiers.has(e)&&(r(),this._activeKeyModifiers.delete(e))};if("key-down"===e||"key-up"===e){const n=t.key;this._keyModifiers.has(n)&&i(n,"key-down"===e)}const o=t.native;i("Alt",!!o?.altKey),i("Control",!!o?.ctrlKey),i("Ctrl",!!o?.ctrlKey),i("Shift",!!o?.shiftKey),i("Meta",!!o?.metaKey),i("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new d(((e,t,n)=>this._setLatestPointer(e,t,n))),this._multiTouchHandler=new p,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],b.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,b.INTERNAL)}_setPointerCapture(e,t,n,r){const i=e.name+"-"+t.priorityIndex,o=this._pointerCaptures.get(n.pointerId)||new Set;this._pointerCaptures.set(n.pointerId,o),r?(o.add(i),1===o.size&&this.eventSource&&this.eventSource.setPointerCapture(n,!0)):o.has(i)&&(o.delete(i),0===o.size&&(this._pointerCaptures.delete(n.pointerId),this.eventSource&&this.eventSource.setPointerCapture(n,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter((e=>!e.removed)),this.updateDependencies()}_emitInputEventFromSource(e,t,n,r){this._emitInputEvent(0,e,t,n,r)}_emitInputEvent(e,t,n,r,i,o){const s=void 0!==r?r:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),a=void 0!==i&&i,l={event:new y(t,n,s,o||this._activeKeyModifiers,a),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(l):this._doNewPropagation(l)}_doNewPropagation(e){this._currentPropagation={events:new s.A,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){this._paused=!1;const e=this._currentPropagation;if(e){for(;e.events.length>0;){const{event:t,priorityIndex:n}=e.events.pop(),r=t.data?.eventId;if(null==r||!this._stoppedPropagationEventIds.has(r))for(e.currentHandler=this._handlersPriority[n];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!t.shouldStopPropagation()&&e.currentHandler.eventCallback?.(t),t.shouldStopPropagation()){null!=r&&this._stoppedPropagationEventIds.add(r);break}if(t.shouldPausePropagation((()=>this._continuePropagation())))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const t=new s.A;t.push(e);const n=this._currentPropagation;if(n){for(;n.events.length;)t.push(n.events.pop());n.events=t,n.currentHandler=null,this._paused=!0}}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(const n of e.handler.incomingEventMatches)for(const e of t.handler.incomingEventMatches){if(n.eventType!==e.eventType)continue;const t=n.keyModifiers.filter((t=>e.keyModifiers.includes(t)));if(t.length===n.keyModifiers.length!=(t.length===e.keyModifiers.length))return n.keyModifiers.length>e.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[];for(const n of e){let e=0;for(;e<t.length&&this._compareHandlerPriority(n,t[e])>=0;)e++;t.splice(e,0,n)}return t}get debug(){const e=e=>{const t=this._setPointerCapture;this._setPointerCapture=()=>{},e(),this._setPointerCapture=t};return{injectEvent:(t,n)=>{e((()=>this._onEventReceived(t,n)))},disablePointerCapture:e}}};(0,r._)([(0,a.MZ)({readOnly:!0})],m.prototype,"hasPendingInputs",null),(0,r._)([(0,a.MZ)({constructOnly:!0})],m.prototype,"eventSource",void 0),(0,r._)([(0,a.MZ)({constructOnly:!0})],m.prototype,"recognizers",void 0),(0,r._)([(0,a.MZ)()],m.prototype,"_latestPointerType",void 0),(0,r._)([(0,a.MZ)()],m.prototype,"latestPointerType",null),(0,r._)([(0,a.MZ)()],m.prototype,"multiTouchActive",null),(0,r._)([(0,a.MZ)({readOnly:!0})],m.prototype,"latestPointerLocation",void 0),(0,r._)([(0,a.MZ)()],m.prototype,"_paused",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],m.prototype,"updating",null),m=(0,r._)([(0,l.$)("esri.views.input.InputManager")],m);class y{constructor(e,t,n,r,i){this.type=e,this.data=t,this.timestamp=n,this.modifiers=r,this.cancelable=i,this._propagationState=g.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=g.STOPPED}shouldStopPropagation(){return!!(this._propagationState&g.STOPPED)}defer(e){this._propagationState|=g.PAUSED;const t=(e,t)=>{this._propagationState&=~g.PAUSED;const n=this._resumeCallback;if(this._resumeCallback=null,n&&n(),t)throw e;return e};return("function"==typeof e?e():e).then((e=>t(e,!1)),(e=>t(e,!0)))}shouldPausePropagation(e){return!!(this._propagationState&g.PAUSED)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}}var g,v;(v=g||(g={}))[v.NONE=0]="NONE",v[v.STOPPED=1]="STOPPED",v[v.PAUSED=2]="PAUSED";const b={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};const w=class{}},83188:function(e,t,n){"use strict";n.r(t),n.d(t,{InputMessage:function(){return u}});n(32239);var r=n(34088),i=n(46337),o=n(62245),s=n(79e3),a=n(33826);const l={valid:"check-circle",invalid:"exclamation-mark-triangle",idle:"information"},c=a.AH`:host{box-sizing:border-box;display:flex;block-size:auto;inline-size:100%;align-items:center;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1);opacity:1;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;margin-block-start:var(--calcite-input-message-spacing, var(--calcite-input-message-spacing-value, var(--calcite-spacing-xxs)))}.calcite-input-message-icon{pointer-events:none;display:inline-flex;flex-shrink:0;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;margin-inline-end:var(--calcite-spacing-sm)}:host([status=invalid]) .calcite-input-message-icon{color:var(--calcite-input-message-icon-color, var(--calcite-icon-color, var(--calcite-color-status-danger)))}:host([status=warning]) .calcite-input-message-icon{color:var(--calcite-input-message-icon-color, var(--calcite-icon-color, var(--calcite-color-status-warning)))}:host([status=valid]) .calcite-input-message-icon{color:var(--calcite-input-message-icon-color, var(--calcite-icon-color, var(--calcite-color-status-success)))}:host([status=idle]) .calcite-input-message-icon{color:var(--calcite-input-message-icon-color, var(--calcite-icon-color, var(--calcite-color-brand)))}:host([scale=s]){font-size:var(--calcite-font-size--3);line-height:.75rem}:host([scale=m]){font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=l]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([hidden]){display:none}[hidden]{display:none}`;class u extends o.WF{constructor(){super(...arguments),this.iconFlipRtl=!1,this.scale="m",this.status="idle"}static{this.properties={icon:[3,{converter:o.pf},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],status:[3,{},{reflect:!0}]}}static{this.styles=c}connectedCallback(){super.connectedCallback(),this.requestedIcon=(0,s.v)(l,this.icon,this.status)}willUpdate(e){(e.has("status")&&(this.hasUpdated||"idle"!==this.status)||e.has("icon"))&&(this.requestedIcon=(0,s.v)(l,this.icon,this.status))}render(){const e=this.el.hidden;return(0,o.Bq)(this.el,"calcite-hydrated-hidden",e),i.qy`${this.renderIcon(this.requestedIcon)}<slot></slot>`}renderIcon(e){if(e)return i.qy`<calcite-icon class="calcite-input-message-icon" .flipRtl=${this.iconFlipRtl} .icon=${e} scale=s></calcite-icon>`}}(0,r.c)("calcite-input-message",u)},83311:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(82392),i=n(93814),o=n(84977),s=n(15565),a=n(23572),l=n(81482),c=(n(6273),n(80861),n(26325)),u=n(30361);let d=class extends o.A{constructor(e){super(e),this.color=new i.A([0,0,0,1]),this.extensionLength=0,this.size=(0,a.PN)(1)}clone(){}cloneProperties(){return{color:(0,s.o8)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,r._)([(0,l.MZ)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],d.prototype,"type",void 0),(0,r._)([(0,l.MZ)((0,u.EW)({colorRequiredOnWrite:!0}))],d.prototype,"color",void 0),(0,r._)([(0,l.MZ)({...u.pI,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],d.prototype,"extensionLength",void 0),(0,r._)([(0,l.MZ)(u.pI)],d.prototype,"size",void 0),d=(0,r._)([(0,c.$)("esri.symbols.edges.Edges3D")],d);const h=d},83371:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r,i=n(82392),o=n(62991),s=n(84977),a=n(15565),l=n(80861),c=n(81482),u=n(77380),d=n(26325),h=n(11012),p=n(6246);let f=r=class extends s.A{static createEmptyBand(e,t){return new(r.getPixelArrayConstructor(e))(t)}static combineBandMasks(e){if(e.length<2)return e[0];const t=e[0].length,n=new Uint8Array(t).fill(255);for(let r=0;r<e.length;r++){const i=e[r];for(let e=0;e<t;e++)i[e]||(n[e]=0)}return n}static getPixelArrayConstructor(e){let t;switch(e){case"u1":case"u2":case"u4":case"u8":t=Uint8Array;break;case"u16":t=Uint16Array;break;case"u32":t=Uint32Array;break;case"s8":t=Int8Array;break;case"s16":t=Int16Array;break;case"s32":t=Int32Array;break;case"f32":case"c64":case"c128":case"unknown":t=Float32Array;break;case"f64":t=Float64Array}return t}constructor(e){super(e),this.width=null,this.height=null,this.pixelType="f32",this.validPixelCount=null,this.mask=null,this.maskIsAlpha=!1,this.premultiplyAlpha=!1,this.statistics=null,this.depthCount=1}castPixelType(e){if(!e)return"f32";let t=e.toLowerCase();return["u1","u2","u4"].includes(t)?t="u8":["unknown","u8","s8","u16","s16","u32","s32","f32","f64"].includes(t)||(t="f32"),t}getPlaneCount(){return this.pixels?.length}addData(e){if(!e.pixels||e.pixels.length!==this.width*this.height)throw new o.A("pixelblock:invalid-or-missing-pixels","add data requires valid pixels array that has same length defined by pixel block width * height");this.pixels||(this.pixels=[]),this.statistics||(this.statistics=[]),this.pixels.push(e.pixels),this.statistics.push(e.statistics??new h.z)}getAsRGBA(){const e=new ArrayBuffer(this.width*this.height*4);switch(this.pixelType){case"s8":case"s16":case"u16":case"s32":case"u32":case"f32":case"f64":this._fillFromNon8Bit(e);break;default:this._fillFrom8Bit(e)}return new Uint8ClampedArray(e)}getAsRGBAFloat(){const e=new Float32Array(this.width*this.height*4);return this._fillFrom32Bit(e),e}updateStatistics(){if(!this.pixels)return;this.statistics=this.pixels.map((e=>function(e,t){let n=1/0,r=-1/0;const i=e.length;let o,s=0;if(null!=t)for(o=0;o<i;o++)t[o]&&(s=e[o],n=s<n?s:n,r=s>r?s:r);else for(o=0;o<i;o++)s=e[o],n=s<n?s:n,r=s>r?s:r;return new h.z(n,r)}(e,this.mask)));const e=this.mask;let t=0;if(null!=e)for(let n=0;n<e.length;n++)e[n]&&t++;else t=this.width*this.height;this.validPixelCount=t}clamp(e){if(!e||"f64"===e||"f32"===e||!this.pixels)return;const[t,n]=(0,p.hP)(e),i=this.pixels,o=this.width*this.height,s=i.length;let a,l,c;const u=[];for(let d=0;d<s;d++){c=r.createEmptyBand(e,o),a=i[d];for(let e=0;e<o;e++)l=a[e],c[e]=l>n?n:l<t?t:l;u.push(c)}this.pixels=u,this.pixelType=e}extractBands(e){const{pixels:t,statistics:n}=this;if(null==e||0===e.length||!t||0===t.length)return this;const i=t.length,o=e.some((e=>e>=t.length)),s=i===e.length&&!e.some(((e,t)=>e!==t));if(o||s)return this;const a=this.bandMasks?.length===i?e.map((e=>this.bandMasks[e])):void 0;let{mask:l,validPixelCount:c}=this;const{width:u,height:d}=this;return a?.length&&(l=r.combineBandMasks(a),c=l.filter((e=>!!e)).length),new r({pixelType:this.pixelType,width:u,height:d,mask:l,bandMasks:a,validPixelCount:c,maskIsAlpha:this.maskIsAlpha,pixels:e.map((e=>t[e])),statistics:n&&e.map((e=>n[e]))})}clone(){const e=new r({width:this.width,height:this.height,pixelType:this.pixelType,maskIsAlpha:this.maskIsAlpha,validPixelCount:this.validPixelCount});let t;null!=this.mask&&(e.mask=new Uint8Array(this.mask)),this.bandMasks&&(e.bandMasks=this.bandMasks.map((e=>new Uint8Array(e))));const n=r.getPixelArrayConstructor(this.pixelType);if(this.pixels&&this.pixels.length>0){e.pixels=[];const r=!!this.pixels[0].slice;for(t=0;t<this.pixels.length;t++)e.pixels[t]=r?this.pixels[t].slice():new n(this.pixels[t])}if(this.statistics)for(e.statistics=[],t=0;t<this.statistics.length;t++)e.statistics[t]=(0,a.o8)(this.statistics[t]);return e.premultiplyAlpha=this.premultiplyAlpha,e}_fillFrom8Bit(e){const{mask:t,maskIsAlpha:n,premultiplyAlpha:r,pixels:i}=this;if(!e||!i?.length)return void l.A.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");let o,s,a,c;o=s=a=i[0],i.length>=3?(s=i[1],a=i[2]):2===i.length&&(s=i[1]);const u=new Uint32Array(e),d=this.width*this.height;if(o.length===d)if(null!=t&&t.length===d)if(n)for(c=0;c<d;c++){const e=t[c];if(e){const t=e/255;u[c]=r?e<<24|a[c]*t<<16|s[c]*t<<8|o[c]*t:e<<24|a[c]<<16|s[c]<<8|o[c]}}else for(c=0;c<d;c++)t[c]&&(u[c]=255<<24|a[c]<<16|s[c]<<8|o[c]);else for(c=0;c<d;c++)u[c]=255<<24|a[c]<<16|s[c]<<8|o[c];else l.A.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.")}_fillFromNon8Bit(e){const{pixels:t,mask:n,statistics:r}=this;if(!e||!t?.length)return void l.A.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");const i=this.pixelType;let o=1,s=0,a=1;if(r&&r.length>0){for(const e of r)if(null!=e.minValue&&(s=Math.min(s,e.minValue)),null!=e.maxValue&&null!=e.minValue){const t=e.maxValue-e.minValue;a=Math.max(a,t)}o=255/a}else{let e=255;"s8"===i?(s=-128,e=127):"u16"===i?e=65535:"s16"===i?(s=-32768,e=32767):"u32"===i?e=4294967295:"s32"===i?(s=-2147483648,e=2147483647):"f32"===i?(s=-34e38,e=34e38):"f64"===i&&(s=-Number.MAX_VALUE,e=Number.MAX_VALUE),o=255/(e-s)}const c=new Uint32Array(e),u=this.width*this.height;let d,h,p,f,m;if(d=h=p=t[0],d.length!==u)return l.A.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");if(t.length>=2)if(h=t[1],t.length>=3&&(p=t[2]),null!=n&&n.length===u)for(f=0;f<u;f++)n[f]&&(c[f]=255<<24|(p[f]-s)*o<<16|(h[f]-s)*o<<8|(d[f]-s)*o);else for(f=0;f<u;f++)c[f]=255<<24|(p[f]-s)*o<<16|(h[f]-s)*o<<8|(d[f]-s)*o;else if(null!=n&&n.length===u)for(f=0;f<u;f++)m=(d[f]-s)*o,n[f]&&(c[f]=255<<24|m<<16|m<<8|m);else for(f=0;f<u;f++)m=(d[f]-s)*o,c[f]=255<<24|m<<16|m<<8|m}_fillFrom32Bit(e){const{pixels:t,mask:n}=this;if(!e||!t?.length)return l.A.getLogger(this).error("getAsRGBAFloat()","Unable to convert to RGBA. The input pixel block is empty.");let r,i,o,s;r=i=o=t[0],t.length>=3?(i=t[1],o=t[2]):2===t.length&&(i=t[1]);const a=this.width*this.height;if(r.length!==a)return l.A.getLogger(this).error("getAsRGBAFloat()","Unable to convert to RGBA. The pixelblock is invalid.");let c=0;if(null!=n&&n.length===a)for(s=0;s<a;s++)e[c++]=r[s],e[c++]=i[s],e[c++]=o[s],e[c++]=1&n[s];else for(s=0;s<a;s++)e[c++]=r[s],e[c++]=i[s],e[c++]=o[s],e[c++]=1}};(0,i._)([(0,c.MZ)({json:{write:!0}})],f.prototype,"width",void 0),(0,i._)([(0,c.MZ)({json:{write:!0}})],f.prototype,"height",void 0),(0,i._)([(0,c.MZ)({json:{write:!0}})],f.prototype,"pixelType",void 0),(0,i._)([(0,u.w)("pixelType")],f.prototype,"castPixelType",null),(0,i._)([(0,c.MZ)({json:{write:!0}})],f.prototype,"validPixelCount",void 0),(0,i._)([(0,c.MZ)({json:{write:!0}})],f.prototype,"mask",void 0),(0,i._)([(0,c.MZ)({json:{write:!0}})],f.prototype,"maskIsAlpha",void 0),(0,i._)([(0,c.MZ)({json:{write:!0}})],f.prototype,"pixels",void 0),(0,i._)([(0,c.MZ)()],f.prototype,"premultiplyAlpha",void 0),(0,i._)([(0,c.MZ)({json:{write:!0}})],f.prototype,"statistics",void 0),(0,i._)([(0,c.MZ)({json:{write:!0}})],f.prototype,"depthCount",void 0),(0,i._)([(0,c.MZ)({json:{write:!0}})],f.prototype,"noDataValues",void 0),(0,i._)([(0,c.MZ)({json:{write:!0}})],f.prototype,"bandMasks",void 0),f=r=(0,i._)([(0,d.$)("esri.layers.support.PixelBlock")],f)},83382:function(e,t,n){"use strict";n.d(t,{A:function(){return C}});var r=n(82392),i=n(32083),o=n(6480),s=n(38116),a=n(62991),l=n(84977),c=n(11965),u=n(57725),d=n(37623),h=n(81482),p=n(8636),f=(n(6273),n(67498),n(25376)),m=n(26325),y=n(8e3),g=n(4631);let v;var b=n(45749),w=n(42268),_=n(73783);n(80861);let S=class extends _.A{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,r._)([(0,h.MZ)()],S.prototype,"nextQueryParams",void 0),(0,r._)([(0,h.MZ)()],S.prototype,"queryParams",void 0),(0,r._)([(0,h.MZ)()],S.prototype,"results",void 0),(0,r._)([(0,h.MZ)()],S.prototype,"total",void 0),S=(0,r._)([(0,m.$)("esri.portal.PortalQueryResult")],S);var x,M=n(14395),A=n(44945);let T;const I={PortalGroup:()=>Promise.resolve({default:b.A}),PortalItem:()=>Promise.resolve().then(n.bind(n,43305)),PortalUser:()=>Promise.resolve({default:M.A})};let C=class extends(l.A.JSONSupportMixin(c.A)){static{x=this}static{this.AUTH_MODE_ANONYMOUS="anonymous"}static{this.AUTH_MODE_AUTO="auto"}static{this.AUTH_MODE_IMMEDIATE="immediate"}static{this.AUTH_MODE_NO_PROMPT="no-prompt"}constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=i.A.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return"string"==typeof e?{url:e}:e}destroy(){E.unregister(this),this.defaultBasemap=(0,u.pR)(this.defaultBasemap),this.defaultDevBasemap=(0,u.pR)(this.defaultDevBasemap),this.defaultVectorBasemap=(0,u.pR)(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=(0,u.xt)(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)i.A.request.trustedServers.includes(t)||i.A.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return(0,A.Jn)(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e?e.toLowerCase():e}readUser(e){let t=null;return e&&(t=M.A.fromJSON(e),t.portal=this),t}load(e){const t=Promise.resolve().then(n.bind(n,66801)).then((({default:t})=>{(0,d.Te)(e),T=t})).then((()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e))).then((e=>{if(!this.hasAPIKey&&o.id){const e=o.id;this.credential=e.findCredential(this.restUrl),this.credential||this.authMode!==x.AUTH_MODE_AUTO&&this.authMode!==x.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=e.on("credential-create",function(e){const t=o.id;return()=>{const n=e.deref();n&&t.findCredential(n.restUrl)&&n.signIn().catch((()=>{}))}}(new WeakRef(this))),E.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await n.e(6658).then(n.bind(n,6658))).default;return e?e.map((e=>new t({id:e.id,url:e.url}))):[]}async fetchBasemaps(e,t){const n=await this._fetchBasemaps(e,t);if(!0===t?.include3d&&!1!==this.use3dBasemaps){const r=await this._fetchBasemaps3D(e,t);n.unshift(...r)}return n}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||"none"===this.default3DBasemapQuery)return null;const t=new w.A;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const n=(await this.queryItems(t,e)).results.find((e=>"Web Scene"===e.type));return n?new T({portalItem:n}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then((e=>e.categorySchema)):(0,d.G4)(e)?Promise.reject((0,d.NK)()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then((e=>e.classificationSchema)):null}fetchFeaturedGroups(e){const t=this.featuredGroups,n=new w.A({num:100,sortField:"title"});if(t?.length){const r=[];for(const e of t)r.push(`(title:"${e.title}" AND owner:${e.owner})`);return n.query=r.join(" OR "),this.queryGroups(n,e).then((e=>e.results))}return(0,d.G4)(e)?Promise.reject((0,d.NK)()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||(0,g.JK)();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||(0,g.JK)();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return function(e){return v&&!v.destroyed||(v=e()),v}((()=>new x))}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,n){const r=this.restUrl+"/portals/self",i={authMode:e,query:{culture:(0,g.JK)().toLowerCase()},withCredentials:!0,...n};return"auto"===i.authMode&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this.request(r,i)}queryPortal(e,t,n,r){const i=(0,p.dp)(w.A,t),o=t=>this.request(this.restUrl+e,{...i.toRequestOptions(this),...r}).then((e=>{const n=i.clone();return n.start=e.nextStart,new S({nextQueryParams:n,queryParams:i,total:e.total,results:x._resultsToTypedArray(t,{portal:this},e,r)})})).then((e=>Promise.all(e.results.map((t=>"function"==typeof t.when?t.when():e))).then((()=>e),(t=>((0,d.QP)(t),e)))));return n&&I[n]?I[n]().then((({default:e})=>((0,d.Te)(r),o(e)))):o()}signIn(){if(this.hasAPIKey)return this.load().then((()=>{if(!this.user)throw new a.A("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")}));if(this.authMode===x.AUTH_MODE_ANONYMOUS||this.authMode===x.AUTH_MODE_NO_PROMPT&&!o.id)return Promise.reject(new a.A("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const e=e=>Promise.resolve().then((()=>"not-loaded"===this.loadStatus?(e||(this.authMode="immediate"),this.load().then((()=>null))):"loading"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=e,this.fetchSelf("immediate")))):this.user&&this.credential===e?null:(this.credential=e,this.fetchSelf("immediate")))).then((e=>{e&&(this.sourceJSON=e,this.read(e))}));return o.id?o.id.getCredential(this.restUrl,{prompt:this.authMode!==x.AUTH_MODE_NO_PROMPT}).then((t=>e(t))):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,n){return this.request(e,t).then((e=>{const t=x._resultsToTypedArray(n,{portal:this},e);return Promise.all(t.map((t=>"function"==typeof t.when?t.when():e))).then((()=>t),(()=>t))}))}request(e,t={}){const n={f:"json",...t.query},{authMode:r=(this.authMode===x.AUTH_MODE_ANONYMOUS||this.authMode===x.AUTH_MODE_NO_PROMPT?this.authMode:"auto"),body:i=null,cacheBust:o=!1,method:a="auto",responseType:l="json",signal:c}=t,u={authMode:r,body:i,cacheBust:o,method:a,query:n,responseType:l,timeout:0,signal:c};return t.withCredentials&&(u.withCredentials=!0),(0,s.A)(this._normalizeSSL(e),u).then((e=>e.data))}toJSON(){throw new a.A("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new x({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new a.A("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const n=new w.A;n.query=e||((0,A.Dd)()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),n.disableExtraQuery=!0;const r=await this.queryGroups(n,t);if(!r.total)return[];const i=r.results[0];n.num=100,n.query='type:"Web Map" -type:"Web Application"',n.sortField=i.sortField||"name",n.sortOrder=i.sortOrder||"desc";const o=await i.queryItems(n,t);return o.total?o.results.filter((e=>"Web Map"===e.type)).map((e=>new T({portalItem:e}))):[]}async _fetchBasemaps3D(e,t){const n=e||this.basemapGalleryGroupQuery3D;if(!n)return[];if((0,A.Dd)())return[];const r=new w.A({query:n,disableExtraQuery:!0}),i=await this.queryGroups(r,t);if(!i.total)return[];const o=i.results[0];r.num=100,r.query='type:"Web Scene"',r.sortField=o.sortField||"name",r.sortOrder=o.sortOrder||"desc";const s=await o.queryItems(r,t);return s.total?s.results.filter((e=>"Web Scene"===e.type)).map((e=>new T({portalItem:e}))):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=T.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,n,r){let i;if(n){const o=null!=r?r.signal:null;i=n.listings||n.notifications||n.userInvitations||n.tags||n.items||n.groups||n.comments||n.provisions||n.results||n.relatedItems||n,(e||t)&&(i=i.map((n=>{const r=Object.assign(e?e.fromJSON(n):n,t);return"function"==typeof r.load&&r.load(o),r})))}else i=[];return i}};(0,r._)([(0,h.MZ)()],C.prototype,"access",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"allSSL",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"authMode",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"authorizedCrossOriginDomains",void 0),(0,r._)([(0,f.w)("authorizedCrossOriginDomains")],C.prototype,"readAuthorizedCrossOriginDomains",null),(0,r._)([(0,h.MZ)()],C.prototype,"basemapGalleryGroupQuery",void 0),(0,r._)([(0,h.MZ)({json:{name:"3DBasemapGalleryGroupQuery"}})],C.prototype,"basemapGalleryGroupQuery3D",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"bingKey",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"canListApps",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"canListData",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"canListPreProvisionedItems",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"canProvisionDirectPurchase",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"canSearchPublic",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"canShareBingPublic",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"canSharePublic",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"canSignInArcGIS",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"canSignInIDP",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"colorSetsGroupQuery",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"commentsEnabled",void 0),(0,r._)([(0,h.MZ)({type:Date})],C.prototype,"created",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"credential",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"culture",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"currentVersion",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"customBaseUrl",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"default3DBasemapQuery",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"defaultBasemap",void 0),(0,r._)([(0,f.w)("defaultBasemap")],C.prototype,"readDefaultBasemap",null),(0,r._)([(0,h.MZ)()],C.prototype,"defaultDevBasemap",void 0),(0,r._)([(0,f.w)("defaultDevBasemap")],C.prototype,"readDefaultDevBasemap",null),(0,r._)([(0,h.MZ)({type:y.A})],C.prototype,"defaultExtent",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"defaultVectorBasemap",void 0),(0,r._)([(0,f.w)("defaultVectorBasemap")],C.prototype,"readDefaultVectorBasemap",null),(0,r._)([(0,h.MZ)()],C.prototype,"description",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"devBasemapGalleryGroupQuery",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"eueiEnabled",void 0),(0,r._)([(0,h.MZ)({readOnly:!0})],C.prototype,"extraQuery",null),(0,r._)([(0,h.MZ)()],C.prototype,"featuredGroups",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"featuredItemsGroupQuery",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"galleryTemplatesGroupQuery",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"layoutGroupQuery",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"livingAtlasGroupQuery",void 0),(0,r._)([(0,h.MZ)({readOnly:!0})],C.prototype,"hasAPIKey",null),(0,r._)([(0,h.MZ)()],C.prototype,"hasCategorySchema",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"hasClassificationSchema",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"helpBase",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"helperServices",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"helpMap",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"homePageFeaturedContent",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"homePageFeaturedContentCount",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"httpPort",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"httpsPort",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"id",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"ipCntryCode",void 0),(0,r._)([(0,h.MZ)({readOnly:!0})],C.prototype,"isOrganization",null),(0,r._)([(0,h.MZ)()],C.prototype,"isPortal",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"isReadOnly",void 0),(0,r._)([(0,h.MZ)({readOnly:!0})],C.prototype,"itemPageUrl",null),(0,r._)([(0,h.MZ)()],C.prototype,"layerTemplatesGroupQuery",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"maxTokenExpirationMinutes",void 0),(0,r._)([(0,h.MZ)({type:Date})],C.prototype,"modified",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"name",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"portalHostname",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"portalMode",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"portalProperties",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"region",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"recycleBinEnabled",void 0),(0,r._)([(0,h.MZ)({readOnly:!0})],C.prototype,"restUrl",null),(0,r._)([(0,h.MZ)()],C.prototype,"rotatorPanels",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"showHomePageDescription",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"sourceJSON",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"staticImagesUrl",void 0),(0,r._)([(0,h.MZ)({json:{name:"2DStylesGroupQuery"}})],C.prototype,"stylesGroupQuery2d",void 0),(0,r._)([(0,h.MZ)({json:{name:"stylesGroupQuery"}})],C.prototype,"stylesGroupQuery3d",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"supportsHostedServices",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"symbolSetsGroupQuery",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"templatesGroupQuery",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"thumbnail",void 0),(0,r._)([(0,h.MZ)({readOnly:!0})],C.prototype,"thumbnailUrl",null),(0,r._)([(0,h.MZ)()],C.prototype,"units",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"url",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"urlKey",void 0),(0,r._)([(0,f.w)("urlKey")],C.prototype,"readUrlKey",null),(0,r._)([(0,h.MZ)()],C.prototype,"user",void 0),(0,r._)([(0,f.w)("user")],C.prototype,"readUser",null),(0,r._)([(0,h.MZ)()],C.prototype,"use3dBasemaps",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"useDefault3dBasemap",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"useStandardizedQuery",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"useVectorBasemaps",void 0),(0,r._)([(0,h.MZ)()],C.prototype,"vectorBasemapGalleryGroupQuery",void 0),C=x=(0,r._)([(0,m.$)("esri.portal.Portal")],C);const E=new FinalizationRegistry((e=>{e.remove()}))},83510:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var r=n(6480),i=n(82392),o=n(32083),s=n(38116),a=n(62991),l=n(57888),c=n(92840),u=n(15565),d=n(21750),h=n(37623),p=n(19759),f=n(81482),m=(n(6273),n(80861),n(26325)),y=(n(39553),n(67498),n(52239)),g=n(27190),v=n(83946),b=n(2153),w=n(2110),_=n(72557),S=n(13033);const x="esri-identity-modal",M={base:x,info:`${x}__info`,notice:`${x}__notice`};let A=class extends y.A{constructor(e,t){super(e,t),this.container=document.createElement("div"),this.error=null,this.oAuthPrompt=!1,this.open=!1,this.signingIn=!1,this.server=null,this.resource=null,this._usernameInputNode=null,this._passwordInputNode=null,document.body.appendChild(this.container)}loadDependencies(){return(0,g.W)({button:()=>Promise.resolve().then(n.bind(n,37836)),dialog:()=>Promise.all([n.e(3252),n.e(2497),n.e(9272),n.e(594)]).then(n.bind(n,50594)),input:()=>n.e(330).then(n.bind(n,50330)),label:()=>Promise.resolve().then(n.bind(n,10224)),notice:()=>n.e(8098).then(n.bind(n,48098))})}get title(){return this.commonMessages?.auth.signIn}render(){const{open:e,title:t,messages:n,signingIn:r,oAuthPrompt:i,server:o,resource:s,error:a}=this,{info:l,oAuthInfo:c,lblItem:u,invalidUser:d,noAuthService:h,lblUser:p,lblPwd:f,lblCancel:m,lblSigning:y,lblOk:g}=n;return(0,w.K)("div",{class:this.classes(M.base,(0,_.Bj)())},(0,w.K)("form",{bind:this,onsubmit:this._submit},(0,w.K)("calcite-dialog",{bind:this,heading:t,modal:!0,open:e,outsideCloseDisabled:!0,scale:"s",widthScale:"s",onCalciteDialogClose:this._cancel,onCalciteDialogOpen:this._focusUsernameInput},(0,w.K)("div",{class:M.info},(0,S.V)(i?c:l,{server:o&&/\.arcgis\.com/i.test(o)?"ArcGIS Online":o,resource:`(${s||u})`})),a?(0,w.K)("calcite-notice",{class:M.notice,icon:"exclamation-mark-triangle",kind:"danger",open:!0},(0,w.K)("div",{slot:"message"},a.details?.httpStatus?d:h)):null,i?null:[(0,w.K)("calcite-label",null,p,(0,w.K)("calcite-input",{afterCreate:e=>this._usernameInputNode=e,autocomplete:"off",bind:this,name:"username",required:!0,spellcheck:!1,type:"text",value:""})),(0,w.K)("calcite-label",null,f,(0,w.K)("calcite-input",{afterCreate:e=>this._passwordInputNode=e,bind:this,name:"password",required:!0,type:"password",value:""}))],(0,w.K)("calcite-button",{appearance:"outline",bind:this,onclick:this._cancel,slot:"footer-end",type:"button"},m),(0,w.K)("calcite-button",{loading:!!r,slot:"footer-end",type:"submit"},r?y:g))))}_focusUsernameInput(){return(0,v.Z6)((()=>this._usernameInputNode))}_cancel(){this._set("signingIn",!1),this.open=!1,this._usernameInputNode&&(this._usernameInputNode.value=""),this._passwordInputNode&&(this._passwordInputNode.value=""),this.emit("cancel")}_submit(e){e.preventDefault(),this._set("signingIn",!0);const t=this.oAuthPrompt?{}:{username:this._usernameInputNode?.value,password:this._passwordInputNode?.value};this.emit("submit",t)}};(0,i._)([(0,f.MZ)({readOnly:!0})],A.prototype,"container",void 0),(0,i._)([(0,f.MZ)(),(0,b.G)("esri/t9n/common")],A.prototype,"commonMessages",void 0),(0,i._)([(0,f.MZ)()],A.prototype,"error",void 0),(0,i._)([(0,f.MZ)(),(0,b.G)("esri/identity/t9n/identity")],A.prototype,"messages",void 0),(0,i._)([(0,f.MZ)()],A.prototype,"oAuthPrompt",void 0),(0,i._)([(0,f.MZ)()],A.prototype,"open",void 0),(0,i._)([(0,f.MZ)()],A.prototype,"signingIn",void 0),(0,i._)([(0,f.MZ)()],A.prototype,"server",void 0),(0,i._)([(0,f.MZ)({readOnly:!0})],A.prototype,"title",null),(0,i._)([(0,f.MZ)()],A.prototype,"resource",void 0),A=(0,i._)([(0,m.$)("esri.identity.IdentityModal")],A);const T=A,I="esriJSAPIOAuth";class C{constructor(e,t){this.oAuthInfo=null,this.storage=null,this.appId=null,this.codeVerifier=null,this.expires=null,this.refreshToken=null,this.ssl=null,this.stateUID=null,this.token=null,this.userId=null,this.oAuthInfo=e,this.storage=t,this._init()}isValid(){let e=!1;if(this.oAuthInfo&&this.userId&&(this.refreshToken||this.token))if(null==this.expires&&this.refreshToken)e=!0;else if(this.expires){const t=Date.now();this.expires>t&&(this.expires-t)/1e3>60*this.oAuthInfo.minTimeUntilExpiration&&(e=!0)}return e}save(){if(!this.storage)return!1;const e=this._load(),t=this.oAuthInfo;if(t?.authNamespace&&t.portalUrl){let n=e[t.authNamespace];n||(n=e[t.authNamespace]={}),this.appId||(this.appId=t.appId),n[t.portalUrl]={appId:this.appId,codeVerifier:this.codeVerifier,expires:this.expires,refreshToken:this.refreshToken,ssl:this.ssl,stateUID:this.stateUID,token:this.token,userId:this.userId};try{this.storage.setItem(I,JSON.stringify(e))}catch(e){return!1}return!0}return!1}destroy(){const e=this._load(),t=this.oAuthInfo;if(t?.appId&&t?.portalUrl&&(null==this.expires||this.expires>Date.now())&&(this.refreshToken||this.token)){const e=t.portalUrl.replace(/^http:/i,"https:")+"/sharing/rest/oauth2/revokeToken",n=new FormData;if(n.append("f","json"),n.append("auth_token",this.refreshToken||this.token),n.append("client_id",t.appId),n.append("token_type_hint",this.refreshToken?"refresh_token":"access_token"),"function"==typeof navigator.sendBeacon)navigator.sendBeacon(e,n);else{const t=new XMLHttpRequest;t.open("POST",e),t.send(n)}}if(t?.authNamespace&&t.portalUrl&&this.storage){const n=e[t.authNamespace];if(n){delete n[t.portalUrl];try{this.storage.setItem(I,JSON.stringify(e))}catch(e){}}}t&&(t._oAuthCred=null,this.oAuthInfo=null)}_init(){const e=this._load(),t=this.oAuthInfo;if(t?.authNamespace&&t.portalUrl){let n=e[t.authNamespace];n&&(n=n[t.portalUrl],n&&(this.appId=n.appId,this.codeVerifier=n.codeVerifier,this.expires=n.expires,this.refreshToken=n.refreshToken,this.ssl=n.ssl,this.stateUID=n.stateUID,this.token=n.token,this.userId=n.userId))}}_load(){let e={};if(this.storage){const t=this.storage.getItem(I);if(t)try{e=JSON.parse(t)}catch(e){}}return e}}C.prototype.declaredClass="esri.identity.OAuthCredential";var E=n(96295),k=n(84977);let P=class extends k.A{constructor(e){super(e),this.adminTokenServiceUrl=null,this.currentVersion=null,this.hasPortal=null,this.hasServer=null,this.owningSystemUrl=null,this.owningTenant=null,this.server=null,this.shortLivedTokenValidity=null,this.tokenServiceUrl=null,this.webTierAuth=null}};(0,i._)([(0,f.MZ)({json:{write:!0}})],P.prototype,"adminTokenServiceUrl",void 0),(0,i._)([(0,f.MZ)({json:{write:!0}})],P.prototype,"currentVersion",void 0),(0,i._)([(0,f.MZ)({json:{write:!0}})],P.prototype,"hasPortal",void 0),(0,i._)([(0,f.MZ)({json:{write:!0}})],P.prototype,"hasServer",void 0),(0,i._)([(0,f.MZ)({json:{write:!0}})],P.prototype,"owningSystemUrl",void 0),(0,i._)([(0,f.MZ)({json:{write:!0}})],P.prototype,"owningTenant",void 0),(0,i._)([(0,f.MZ)({json:{write:!0}})],P.prototype,"server",void 0),(0,i._)([(0,f.MZ)({json:{write:!0}})],P.prototype,"shortLivedTokenValidity",void 0),(0,i._)([(0,f.MZ)({json:{write:!0}})],P.prototype,"tokenServiceUrl",void 0),(0,i._)([(0,f.MZ)({json:{write:!0}})],P.prototype,"webTierAuth",void 0),P=(0,i._)([(0,m.$)("esri.identity.ServerInfo")],P);const R=P;var O=n(9856);const N={},L=e=>{const t=new p.s0(e.owningSystemUrl).host,n=new p.s0(e.server).host,r=/.+\.arcgis\.com$/i;return r.test(t)&&r.test(n)},D=(e,t)=>!!(L(e)&&t&&t.some((t=>t.test(e.server))));let F=null,j=null;try{F=window.localStorage,j=window.sessionStorage}catch{}class Z extends l.A{constructor(){super(),this._portalConfig=globalThis.esriGeowConfig,this.serverInfos=[],this.oAuthInfos=[],this.credentials=[],this._soReqs=[],this._xoReqs=[],this._portals=[],this._defaultOAuthInfo=null,this._defaultTokenValidity=60,this.dialog=null,this.tokenValidity=null,this.normalizeWebTierAuth=!1,this._appOrigin="null"!==window.origin?window.origin:window.location.origin,this._appUrlObj=(0,p.An)(window.location.href),this._busy=null,this._rejectOnPersistedPageShow=!1,this._oAuthLocationParams=null,this._gwTokenUrl="/sharing/rest/generateToken",this._agsRest="/rest/services",this._agsPortal=/\/sharing(\/|$)/i,this._agsAdmin=/(https?:\/\/[^/]+\/[^/]+)\/admin\/?(\/.*)?$/i,this._adminSvcs=/\/rest\/admin\/services(\/|$)/i,this._gwDomains=[{regex:/^https?:\/\/www\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:dev|[a-z\d-]+\.mapsdev)\.arcgis\.com/i,customBaseUrl:"mapsdev.arcgis.com",tokenServiceUrl:"https://dev.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:devext|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,customBaseUrl:"mapsdevext.arcgis.com",tokenServiceUrl:"https://devext.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:qaext|[a-z\d-]+\.mapsqa)\.arcgis\.com/i,customBaseUrl:"mapsqa.arcgis.com",tokenServiceUrl:"https://qaext.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/[a-z\d-]+\.maps\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/rest/generateToken"}],this._legacyFed=[],this._regexSDirUrl=/http.+\/rest\/services\/?/gi,this._regexServerType=/(\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|KnowledgeGraphServer|MapServer|MissionServer|MobileServer|NAServer|NetworkDiagramServer|OGCFeatureServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer|VideoServer)).*/gi,this._gwUser=/http.+\/users\/([^/]+).*/i,this._gwItem=/http.+\/items\/([^/]+).*/i,this._gwGroup=/http.+\/groups\/([^/]+).*/i,this._rePortalTokenSvc=/\/sharing(\/rest)?\/generatetoken/i,this._createDefaultOAuthInfo=!0,this._hasTestedIfAppIsOnPortal=!1,this._getPlatformSelfError=null,this._getOAuthLocationParams(),window.addEventListener("pageshow",(e=>{this._pageShowHandler(e)}))}registerServers(e){const t=this.serverInfos;t?(e=e.filter((e=>!this.findServerInfo(e.server))),this.serverInfos=t.concat(e)):this.serverInfos=e,e.forEach((e=>{e.owningSystemUrl&&this._portals.push(e.owningSystemUrl),e.hasPortal&&this._portals.push(e.server)}))}registerOAuthInfos(e){const t=this.oAuthInfos;if(t){for(const n of e){const e=this.findOAuthInfo(n.portalUrl);e&&t.splice(t.indexOf(e),1)}this.oAuthInfos=t.concat(e)}else this.oAuthInfos=e}registerToken(e){e={...e};const t=this._sanitizeUrl(e.server),n=this._isServerRsrc(t);let r,i=this.findServerInfo(t),o=!0;i||(i=new R,i.server=this._getServerInstanceRoot(t),n?i.hasServer=!0:(i.tokenServiceUrl=this._getTokenSvcUrl(t),i.hasPortal=!0),this.registerServers([i])),r=this._findCredential(t),r?(delete e.server,Object.assign(r,e),o=!1):(r=new U({userId:e.userId,server:i.server??void 0,token:e.token,expires:e.expires,ssl:e.ssl,scope:n?"server":"portal"}),r.resources=[t],this.credentials.push(r)),r.emitTokenChange(!1),o||r.refreshServerTokens()}toJSON(){return(0,u.oy)({serverInfos:this.serverInfos.map((e=>e.toJSON())),oAuthInfos:this.oAuthInfos.map((e=>e.toJSON())),credentials:this.credentials.map((e=>e.toJSON()))})}initialize(e){if(!e)return;"string"==typeof e&&(e=JSON.parse(e));const t=e.serverInfos,n=e.oAuthInfos,r=e.credentials;if(t){const e=[];t.forEach((t=>{t.server&&t.tokenServiceUrl&&e.push(t.declaredClass?t:new R(t))})),e.length&&this.registerServers(e)}if(n){const e=[];n.forEach((t=>{t.appId&&e.push(t.declaredClass?t:new E.A(t))})),e.length&&this.registerOAuthInfos(e)}r&&r.forEach((e=>{e.server&&e.token&&e.expires&&e.expires>Date.now()&&((e=e.declaredClass?e:new U(e)).emitTokenChange(),this.credentials.push(e))}))}findServerInfo(e){let t;e=this._sanitizeUrl(e);for(const n of this.serverInfos)if(this._hasSameServerInstance(n.server,e)){t=n;break}return t}findOAuthInfo(e){let t;e=this._sanitizeUrl(e);for(const n of this.oAuthInfos)if(this._hasSameServerInstance(n.portalUrl,e)){t=n;break}return t}findCredential(e,t){if(!e)return;let n;e=this._sanitizeUrl(e);const r=this._isServerRsrc(e)?"server":"portal";if(t){for(const i of this.credentials)if(this._hasSameServerInstance(i.server,e)&&t===i.userId&&i.scope===r){n=i;break}}else for(const t of this.credentials)if(this._hasSameServerInstance(t.server,e)&&-1!==this._getIdenticalSvcIdx(e,t)&&t.scope===r){n=t;break}return n}getCredential(e,t){let n,r=!1,i=!0;t&&(r=!(!t.token&&!t.credential),n=t.error,i=!1!==t.prompt),t={...t},e=this._sanitizeUrl(e);const o=new AbortController,s=(0,h.Tw)();if(t.signal&&(0,h.u7)(t.signal,(()=>{o.abort()})),(0,h.u7)(o,(()=>{s.reject(new a.A("identity-manager:user-aborted","ABORTED"))})),(0,h.G4)(o))return s.promise;t.signal=o.signal;const l=this._isAdminResource(e),c=r?this.findCredential(e):null;let u;if(c&&498===n?.details?.httpStatus)c.destroy();else if(c)return u=new a.A("identity-manager:not-authorized","You are currently signed in as: '"+c.userId+"'. You do not have access to this resource: "+e,{error:n}),s.reject(u),s.promise;const d=this._findCredential(e,t);if(d)return s.resolve(d),s.promise;let f=this.findServerInfo(e);if(f)!f.hasPortal&&f.server&&f.owningSystemUrl&&this._hasSameServerInstance(f.server,f.owningSystemUrl)&&(f.hasPortal=!0),!f.hasServer&&this._isServerRsrc(e)&&(f._restInfoPms=this._getTokenSvcUrl(e),f.hasServer=!0);else{const t=this._getTokenSvcUrl(e);if(!t)return u=new a.A("identity-manager:unknown-resource","Unknown resource - could not find token service endpoint."),s.reject(u),s.promise;f=new R,f.server=this._getServerInstanceRoot(e),"string"==typeof t?(f.tokenServiceUrl=t,f.hasPortal=!0):(f._restInfoPms=t,f.hasServer=!0),this.registerServers([f])}return f.hasPortal&&void 0===f._selfReq&&(i||(0,p.FX)(f.tokenServiceUrl,this._appOrigin)||this._gwDomains.some((e=>e.tokenServiceUrl===f.tokenServiceUrl)))&&(f._selfReq={owningTenant:t?.owningTenant,selfDfd:this._getPortalSelf(f.tokenServiceUrl.replace(this._rePortalTokenSvc,"/sharing/rest/portals/self"),e)}),this._enqueue(e,f,t,s,l)}getResourceName(e){return this._isRESTService(e)?e.replace(this._regexSDirUrl,"").replace(this._regexServerType,"")||"":this._gwUser.test(e)&&e.replace(this._gwUser,"$1")||this._gwItem.test(e)&&e.replace(this._gwItem,"$1")||this._gwGroup.test(e)&&e.replace(this._gwGroup,"$1")||""}generateToken(e,t,n){const r=this._rePortalTokenSvc.test(e.tokenServiceUrl),i=new p.s0(this._appOrigin),o=e.shortLivedTokenValidity;let l,c,u,d,h,f,m,y;t&&(y=this.tokenValidity||o||this._defaultTokenValidity,y>o&&o>0&&(y=o)),n&&(l=n.isAdmin,c=n.serverUrl,u=n.token,f=n.signal,m=n.ssl,e.customParameters=n.customParameters),l?d=e.adminTokenServiceUrl:(d=e.tokenServiceUrl,h=new p.s0(d.toLowerCase()),e.webTierAuth&&n?.serverUrl&&!m&&"http"===i.scheme&&((0,p.FX)(i.uri,d,!0)||"https"===h.scheme&&i.host===h.host&&"7080"===i.port&&"7443"===h.port)&&(d=d.replace(/^https:/i,"http:").replace(/:7443/i,":7080")));const g={query:{request:"getToken",username:t?.username,password:t?.password,serverUrl:c,token:u,expiration:y,referer:l||r?this._appOrigin:null,client:l?"referer":null,f:"json",...e.customParameters},method:"post",authMode:"anonymous",useProxy:this._useProxy(e,n),signal:f,...n?.ioArgs};return r||(g.withCredentials=!1),(0,s.A)(d,g).then((n=>{const r=n.data;if(!r?.token)return new a.A("identity-manager:authentication-failed","Unable to generate token");const i=e.server;return N[i]||(N[i]={}),t&&(N[i][t.username]=t.password),r.validity=y,r}))}isBusy(){return!!this._busy}async checkSignInStatus(e){return(await this.checkAppAccess(e,"")).credential}checkAppAccess(e,t,n){let r=!1;return this.getCredential(e,{prompt:!1}).then((i=>{let o;const l={f:"json"};if("portal"===i.scope)if(t&&(this._doPortalSignIn(e)||n?.force))o=i.server+"/sharing/rest/oauth2/validateAppAccess",l.client_id=t;else{if(!i.token)return{credential:i};o=i.server+"/sharing/rest"}else{if(!i.token)return{credential:i};o=i.server+"/rest/services"}return i.token&&(l.token=i.token),(0,s.A)(o,{query:l,authMode:"anonymous"}).then((e=>{if(!1===e.data.valid)throw new a.A("identity-manager:not-authorized",`You are currently signed in as: '${i.userId}'.`,e.data);return r=!!e.data.viewOnlyUserTypeApp,{credential:i}})).catch((e=>{if("identity-manager:not-authorized"===e.name)throw e;const t=e.details?.httpStatus;if(498===t)throw i.destroy(),new a.A("identity-manager:not-authenticated","User is not signed in.");if(400===t)throw new a.A("identity-manager:invalid-request","Bad request");return{credential:i}}))})).then((e=>({credential:e.credential,viewOnly:r})))}setOAuthResponseHash(e){e&&("#"===e.charAt(0)&&(e=e.slice(1)),this._processOAuthPopupParams((0,p.zf)(e)))}setOAuthRedirectionHandler(e){this._oAuthRedirectFunc=e}setProtocolErrorHandler(e){this._protocolFunc=e}signIn(e,t,n={}){const r=(0,h.Tw)(),i=()=>{l?.remove(),c?.remove(),this.dialog?.destroy(),this.dialog=l=c=null},o=()=>{i(),this._oAuthDfd=null,r.reject(new a.A("identity-manager:user-aborted","ABORTED"))};n.signal&&(0,h.u7)(n.signal,(()=>{o()}));const s=new T({open:!0,resource:this.getResourceName(e),server:t.server});this.dialog=s,this.emit("dialog-create");let l=s.on("cancel",o),c=s.on("submit",(e=>{this.generateToken(t,e,{isAdmin:n.isAdmin,signal:n.signal}).then((o=>{i();const s=new U({userId:e.username,server:t.server??void 0,token:o.token,expires:null!=o.expires?Number(o.expires):null,ssl:!!o.ssl,isAdmin:n.isAdmin,validity:o.validity});r.resolve(s)})).catch((e=>{s.error=e,s.signingIn=!1}))}));return r.promise}oAuthSignIn(e,t,n,r){this._oAuthDfd=(0,h.Tw)();const i=this._oAuthDfd;let o;r?.signal&&(0,h.u7)(r.signal,(()=>{const e=this._oAuthDfd&&this._oAuthDfd.oAuthWin_;e&&!e.closed?e.close():this.dialog&&u()})),i.resUrl_=e,i.sinfo_=t,i.oinfo_=n;const s=n._oAuthCred;if(s.storage&&("authorization-code"===n.flowType||"auto"===n.flowType&&t.currentVersion>=8.4)){let e=crypto.getRandomValues(new Uint8Array(32));o=(0,p.$1)(e),s.codeVerifier=o,e=crypto.getRandomValues(new Uint8Array(32)),s.stateUID=(0,p.$1)(e),s.save()||(s.codeVerifier=o=null)}else s.codeVerifier=null;let l,c;this._getCodeChallenge(o).then((i=>{const o=!r||!1!==r.oAuthPopupConfirmation;if(!n.popup||!o)return void this._doOAuthSignIn(e,t,n,i);const s=new T({oAuthPrompt:!0,server:t.server,open:!0});this.dialog=s,this.emit("dialog-create"),l=s.on("cancel",u),c=s.on("submit",(()=>{d(),this._doOAuthSignIn(e,t,n,i)}))}));const u=()=>{d(),this._oAuthDfd=null,i.reject(new a.A("identity-manager:user-aborted","ABORTED"))},d=()=>{l?.remove(),c?.remove(),this.dialog?.destroy(),this.dialog=null};return i.promise}destroyCredentials(){this.credentials&&this.credentials.slice().forEach((e=>{e.destroy()})),this.emit("credentials-destroy")}enablePostMessageAuth(e="https://www.arcgis.com/sharing/rest"){this._postMessageAuthHandle&&this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=(0,c.on)(window,"message",(t=>{if((t.origin===this._appOrigin||t.origin.endsWith(".arcgis.com"))&&"arcgis:auth:requestCredential"===t.data?.type){const n=t.source;this.getCredential(e).then((e=>{n.postMessage({type:"arcgis:auth:credential",credential:{expires:e.expires,server:e.server,ssl:e.ssl,token:e.token,userId:e.userId}},t.origin)})).catch((e=>{n.postMessage({type:"arcgis:auth:error",error:{name:e.name,message:e.message}},t.origin)}))}}))}disablePostMessageAuth(){this._postMessageAuthHandle&&(this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=null)}_getOAuthLocationParams(){let e=window.location.hash;if(e){"#"===e.charAt(0)&&(e=e.slice(1));const t=(0,p.zf)(e);let n=!1;if(t.access_token&&t.expires_in&&t.state&&t.hasOwnProperty("username"))try{t.state=JSON.parse(t.state),t.state.portalUrl&&(this._oAuthLocationParams=t,n=!0)}catch{}else if(t.error&&t.error_description&&"access_denied"===t.error&&(n=!0,t.state))try{t.state=JSON.parse(t.state)}catch{}n&&(window.location.hash=t.state?.hash||"")}let t=window.location.search;if(t){"?"===t.charAt(0)&&(t=t.slice(1));const e=(0,p.zf)(t);let n=!1;if(e.code&&e.state)try{e.state=JSON.parse(e.state),e.state.portalUrl&&e.state.uid&&(this._oAuthLocationParams=e,n=!0)}catch{}else if(e.error&&e.error_description&&"access_denied"===e.error&&(n=!0,e.state))try{e.state=JSON.parse(e.state)}catch{}if(n){const t={...e};["code","error","error_description","message_code","persist","state"].forEach((e=>{delete t[e]}));const n=(0,p.x0)(t),r=window.location.pathname+(n?`?${n}`:"")+(e.state?.hash||"");window.history.replaceState(window.history.state,"",r)}}}_getOAuthToken(e,t,n,r,i){return e=e.replace(/^http:/i,"https:"),(0,s.A)(`${e}/sharing/rest/oauth2/token`,{authMode:"anonymous",method:"post",query:r&&i?{grant_type:"authorization_code",code:t,redirect_uri:r,client_id:n,code_verifier:i}:{grant_type:"refresh_token",refresh_token:t,client_id:n}}).then((e=>e.data))}async _getCodeChallenge(e){if(e&&globalThis.isSecureContext){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return(0,p.$1)(new Uint8Array(n))}return null}_pageShowHandler(e){if(e.persisted&&this.isBusy()&&this._rejectOnPersistedPageShow){const e=new a.A("identity-manager:user-aborted","ABORTED");this._errbackFunc(e)}}_findCredential(e,t){let n,r,i,o,s=-1;const a=t?.token,l=t?.resource,c=this._isServerRsrc(e)?"server":"portal",u=this.credentials.filter((t=>this._hasSameServerInstance(t.server,e)&&t.scope===c));if(e=l||e,u.length)if(1===u.length){if(n=u[0],i=this.findServerInfo(n.server),r=i?.owningSystemUrl,o=r?this.findCredential(r,n.userId):void 0,s=this._getIdenticalSvcIdx(e,n),!a)return-1===s&&n.resources.push(e),this._addResource(e,o),n;-1!==s&&(n.resources.splice(s,1),this._removeResource(e,o))}else{let t,n;if(u.some((a=>(n=this._getIdenticalSvcIdx(e,a),-1!==n&&(t=a,i=this.findServerInfo(t.server),r=i?.owningSystemUrl,o=r?this.findCredential(r,t.userId):void 0,s=n,!0)))),a)t&&(t.resources.splice(s,1),this._removeResource(e,o));else if(t)return this._addResource(e,o),t}}_findOAuthInfo(e){let t=this.findOAuthInfo(e);if(!t)for(const n of this.oAuthInfos)if(this._isIdProvider(n.portalUrl,e)){t=n;break}return t}_addResource(e,t){t&&-1===this._getIdenticalSvcIdx(e,t)&&t.resources.push(e)}_removeResource(e,t){let n=-1;t&&(n=this._getIdenticalSvcIdx(e,t),n>-1&&t.resources.splice(n,1))}_useProxy(e,t){return t?.isAdmin&&!(0,p.FX)(e.adminTokenServiceUrl,this._appOrigin)||!this._isPortalDomain(e.tokenServiceUrl)&&"10.1"===String(e.currentVersion)&&!(0,p.FX)(e.tokenServiceUrl,this._appOrigin)}_getOrigin(e){const t=new p.s0(e);return t.scheme+"://"+t.host+(null!=t.port?":"+t.port:"")}_getServerInstanceRoot(e){const t=e.toLowerCase();let n=t.indexOf(this._agsRest);return-1===n&&this._isAdminResource(e)&&(n=this._agsAdmin.test(e)?e.replace(this._agsAdmin,"$1").length:e.search(this._adminSvcs)),-1!==n||(0,O.$E)(t)||(n=t.indexOf("/sharing")),-1===n&&t.endsWith("/")&&(n=t.length-1),n>-1?e.slice(0,n):e}_hasSameServerInstance(e,t){return e.endsWith("/")&&(e=e.slice(0,-1)),e=e.toLowerCase(),t=this._getServerInstanceRoot(t).toLowerCase(),e=(0,O.qG)(e),t=(0,O.qG)(t),(e=e.slice(Math.max(0,e.indexOf(":"))))===t.slice(Math.max(0,t.indexOf(":")))}_sanitizeUrl(e){const t=(o.A.request.proxyUrl||"").toLowerCase(),n=t?e.toLowerCase().indexOf(t+"?"):-1;return-1!==n&&(e=e.slice(n+t.length+1)),e=(0,p.S8)(e),(0,p.An)(e).path}_isRESTService(e){return e.includes(this._agsRest)}_isAdminResource(e){return this._agsAdmin.test(e)||this._adminSvcs.test(e)}_isServerRsrc(e){return this._isRESTService(e)||this._isAdminResource(e)}_isIdenticalService(e,t){let n=!1;if(this._isRESTService(e)&&this._isRESTService(t)){const r=this._getSuffix(e).toLowerCase(),i=this._getSuffix(t).toLowerCase();if(n=r===i,!n){const e=/(.*)\/(MapServer|FeatureServer|UtilityNetworkServer).*/gi;n=r.replaceAll(e,"$1")===i.replaceAll(e,"$1")}}else this._isAdminResource(e)&&this._isAdminResource(t)?n=!0:this._isServerRsrc(e)||this._isServerRsrc(t)||!this._isPortalDomain(e)||(n=!0);return n}_isPortalDomain(e){const t=new p.s0(e.toLowerCase()),n=this._portalConfig;let r=this._gwDomains.some((e=>e.regex.test(t.uri)));return!r&&n&&(r=this._hasSameServerInstance(this._getServerInstanceRoot(n.restBaseUrl),t.uri)),r||o.A.portalUrl&&(r=(0,p.FX)(t,o.A.portalUrl,!0)),r||(r=this._portals.some((e=>this._hasSameServerInstance(e,t.uri)))),r=r||this._agsPortal.test(t.path),r}_isIdProvider(e,t){let n=-1,r=-1;this._gwDomains.forEach(((i,o)=>{-1===n&&i.regex.test(e)&&(n=o),-1===r&&i.regex.test(t)&&(r=o)}));let i=!1;if(n>-1&&r>-1&&(0===n||4===n?0!==r&&4!==r||(i=!0):1===n?1!==r&&2!==r||(i=!0):2===n?2===r&&(i=!0):3===n&&3===r&&(i=!0)),!i){const n=this.findServerInfo(t),r=n?.owningSystemUrl;r&&L(n)&&this._isPortalDomain(r)&&this._isIdProvider(e,r)&&(i=!0)}return i}_getIdenticalSvcIdx(e,t){let n=-1;for(let r=0;r<t.resources.length;r++){const i=t.resources[r];if(this._isIdenticalService(e,i)){n=r;break}}return n}_getSuffix(e){return e.replace(this._regexSDirUrl,"").replace(this._regexServerType,"$1")}_getTokenSvcUrl(e){let t,n,r;if(this._isRESTService(e)||this._isAdminResource(e)){const r=this._getServerInstanceRoot(e);return t=r+"/admin/generateToken",n=(0,s.A)(e=r+"/rest/info",{query:{f:"json"}}).then((e=>e.data)),{adminUrl:t,promise:n}}if(this._isPortalDomain(e)){let t="";if(this._gwDomains.some((n=>(n.regex.test(e)&&(t=n.tokenServiceUrl),!!t))),t||this._portals.some((n=>(this._hasSameServerInstance(n,e)&&(t=n+this._gwTokenUrl),!!t))),t||(r=e.toLowerCase().indexOf("/sharing"),-1!==r&&(t=e.slice(0,r)+this._gwTokenUrl)),t||(t=this._getOrigin(e)+this._gwTokenUrl),t){const n=new p.s0(e).port;/^http:\/\//i.test(e)&&"7080"===n&&(t=t.replace(/:7080/i,":7443")),t=t.replace(/http:/i,"https:")}return t}}_processOAuthResponseParams(e,t,n){const r=t._oAuthCred;if(e.code){const i=r.codeVerifier;return r.codeVerifier=null,r.stateUID=null,r.save(),this._getOAuthToken(n.server,e.code,t.appId,this._getRedirectURI(t,!0),i).then((i=>{const o=new U({userId:i.username,server:n.server??void 0,token:i.access_token,expires:Date.now()+1e3*i.expires_in,ssl:i.ssl,oAuthState:e.state,_oAuthCred:r});return t.userId=o.userId,r.storage=i.persist?F:j,r.refreshToken=i.refresh_token,r.token=null,r.expires=i.refresh_token_expires_in?Date.now()+1e3*i.refresh_token_expires_in:null,r.userId=o.userId,r.ssl=o.ssl,r.save(),o}))}const i=new U({userId:e.username,server:n.server??void 0,token:e.access_token,expires:Date.now()+1e3*Number(e.expires_in),ssl:"true"===e.ssl,oAuthState:e.state,_oAuthCred:r});return t.userId=i.userId,r.storage=e.persist?F:j,r.refreshToken=null,r.token=i.token,r.expires=i.expires,r.userId=i.userId,r.ssl=i.ssl,r.save(),Promise.resolve(i)}_processOAuthPopupParams(e){const t=this._oAuthDfd;if(this._oAuthDfd=null,t)if(clearInterval(this._oAuthIntervalId),this._oAuthOnPopupHandle?.remove(),e.error){const n="access_denied"===e.error,r=new a.A(n?"identity-manager:user-aborted":"identity-manager:authentication-failed",n?"ABORTED":"OAuth: "+e.error+" - "+e.error_description);t.reject(r)}else this._processOAuthResponseParams(e,t.oinfo_,t.sinfo_).then((e=>{t.resolve(e)})).catch((e=>{t.reject(e)}))}_setOAuthResponseQueryString(e){e&&("?"===e.charAt(0)&&(e=e.slice(1)),this._processOAuthPopupParams((0,p.zf)(e)))}async _exchangeToken(e,t,n){return(await(0,s.A)(`${e}/sharing/rest/oauth2/exchangeToken`,{authMode:"anonymous",method:"post",query:{f:"json",client_id:t,token:n}})).data.token}async _getPlatformSelf(e,t){if(this._getPlatformSelfError&&Date.now()-this._getPlatformSelfError[1]<1e3)throw this._getPlatformSelfError[0];e=e.replace(/^http:/i,"https:");try{const n=await(0,s.A)(`${e}/sharing/rest/oauth2/platformSelf`,{authMode:"anonymous",headers:{"X-Esri-Auth-Client-Id":t,"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")},method:"post",query:{f:"json",expiration:30},withCredentials:!0});return this._getPlatformSelfError=null,n.data}catch(e){throw"OAUTH_0066"===e.details?.messageCode&&(this._getPlatformSelfError=[e,Date.now()]),e}}_getPortalSelf(e,t){let n;return this._gwDomains.some((t=>(t.regex.test(e)&&(n=t.customBaseUrl),!!n))),n?Promise.resolve({allSSL:!0,currentVersion:"8.4",customBaseUrl:n,portalMode:"multitenant",supportsOAuth:!0}):(this._appOrigin.startsWith("https:")?e=e.replace(/^http:/i,"https:").replace(/:7080/i,":7443"):/^http:/i.test(t)&&(e=e.replace(/^https:/i,"http:").replace(/:7443/i,":7080")),(0,s.A)(e,{query:{f:"json"},authMode:"anonymous",withCredentials:!0}).then((e=>e.data)))}_doPortalSignIn(e){const t=this._portalConfig,n=window.location.href,r=this.findServerInfo(e);return!(!t&&!this._isPortalDomain(n)||!(r?r.hasPortal||r.owningSystemUrl&&this._isPortalDomain(r.owningSystemUrl):this._isPortalDomain(e))||!(this._isIdProvider(n,e)||t&&(this._hasSameServerInstance(this._getServerInstanceRoot(t.restBaseUrl),e)||this._isIdProvider(t.restBaseUrl,e))||(0,p.FX)(n,e,!0)))}_checkProtocol(e,t,n,r){let i=!0;const o=r?t.adminTokenServiceUrl:t.tokenServiceUrl;return o.trim().toLowerCase().startsWith("https:")&&!this._appOrigin.startsWith("https:")&&(0,p.zs)(o)&&(i=!!this._protocolFunc&&!!this._protocolFunc({resourceUrl:e,serverInfo:t}),!i)&&n(new a.A("identity-manager:aborted","Aborted the Sign-In process to avoid sending password over insecure connection.")),i}_enqueue(e,t,n,r,i,o){return r||(r=(0,h.Tw)()),r.resUrl_=e,r.sinfo_=t,r.options_=n,r.admin_=i,r.refresh_=o,this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(e),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(r)):this._xoReqs.push(r):this._doSignIn(r),r.promise}_doSignIn(e){this._busy=e,this._rejectOnPersistedPageShow=!1;const t=t=>{const n=e.options_?.resource,r=e.resUrl_,i=e.refresh_;let o=!1;this.credentials.includes(t)||(i&&this.credentials.includes(i)?(i.userId=t.userId,i.token=t.token,i.expires=t.expires,i.validity=t.validity,i.ssl=t.ssl,i.creationTime=t.creationTime,o=!0,t=i):this.credentials.push(t)),t.resources||(t.resources=[]),t.resources.includes(n||r)||t.resources.push(n||r),t.scope=this._isServerRsrc(r)?"server":"portal",t.emitTokenChange();const s=this._soReqs,a={};this._soReqs=[],s.forEach((e=>{if(!this._isIdenticalService(r,e.resUrl_)){const n=this._getSuffix(e.resUrl_);a[n]||(a[n]=!0,t.resources.push(e.resUrl_))}})),e.resolve(t),s.forEach((e=>{this._hasSameServerInstance(this._getServerInstanceRoot(r),e.resUrl_)?e.resolve(t):this._soReqs.push(e)})),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,o||this.emit("credential-create",{credential:t}),this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},n=t=>{e.reject(t),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},r=(i,o,s,l)=>{const u=e.sinfo_,d=!e.options_||!1!==e.options_.prompt,f=u.hasPortal&&this._findOAuthInfo(e.resUrl_);let m,y;if(i)t(new U({userId:i,server:u.server??void 0,token:s??void 0,expires:null!=l?Number(l):null,ssl:!!o}));else if(window!==window.parent&&this._appUrlObj.query?.["arcgis-auth-origin"]&&this._appUrlObj.query?.["arcgis-auth-portal"]&&this._hasSameServerInstance(this._getServerInstanceRoot(this._appUrlObj.query["arcgis-auth-portal"]),e.resUrl_)){window.parent.postMessage({type:"arcgis:auth:requestCredential"},this._appUrlObj.query["arcgis-auth-origin"]);const r=(0,c.on)(window,"message",(e=>{e.source===window.parent&&e.data&&("arcgis:auth:credential"===e.data.type?(r.remove(),e.data.credential.expires<Date.now()?n(new a.A("identity-manager:credential-request-failed","Parent application's token has expired.")):t(new U(e.data.credential))):"arcgis:auth:error"===e.data.type&&(r.remove(),"tokenExpiredError"===e.data.error.name?n(new a.A("identity-manager:credential-request-failed","Parent application's token has expired.")):n(a.A.fromJSON(e.data.error))))}));(0,h.u7)(e.options_?.signal,(()=>{r.remove()}))}else if(f){let i=f._oAuthCred;if(!i){const e=new C(f,F),t=new C(f,j);e.isValid()&&t.isValid()?e.expires>t.expires?(i=e,t.destroy()):(i=t,e.destroy()):i=e.isValid()?e:t,f._oAuthCred=i}if(i.isValid()){m=new U({userId:i.userId??void 0,server:u.server??void 0,token:i.token??void 0,expires:i.expires,ssl:i.ssl??void 0,_oAuthCred:i});const o=f.appId!==i.appId&&this._doPortalSignIn(e.resUrl_);o||i.refreshToken?(e._pendingDfd=i.refreshToken?this._getOAuthToken(u.server,i.refreshToken,i.appId).then((e=>(m.expires=Date.now()+1e3*e.expires_in,m.token=e.access_token,m))):Promise.resolve(m),e._pendingDfd.then((e=>o?this._exchangeToken(e.server,f.appId,e.token).then((t=>(e.token=t,e))).catch((()=>e)):e)).then((e=>{t(e)})).catch((e=>{const t=e.details?.httpStatus;t>0&&404!==t?(i.destroy(),r()):n(e)}))):t(m)}else if(this._oAuthLocationParams&&this._hasSameServerInstance(f.portalUrl,this._oAuthLocationParams.state.portalUrl)&&(this._oAuthLocationParams.access_token||this._oAuthLocationParams.code&&this._oAuthLocationParams.state.uid===i.stateUID&&i.codeVerifier)){const r=this._oAuthLocationParams;this._oAuthLocationParams=null,e._pendingDfd=this._processOAuthResponseParams(r,f,u).then((e=>{t(e)})).catch(n)}else{const r=()=>{d?e._pendingDfd=this.oAuthSignIn(e.resUrl_,u,f,e.options_).then(t,n):(y=new a.A("identity-manager:not-authenticated","User is not signed in."),n(y))};this._doPortalSignIn(e.resUrl_)?e._pendingDfd=this._getPlatformSelf(u.server,f.appId).then((e=>{(0,p.FX)(e.portalUrl,this._appOrigin,!0)?(m=new U({userId:e.username,server:u.server??void 0,expires:Date.now()+1e3*e.expires_in,token:e.token}),t(m)):r()})).catch(r):r()}}else if(d){if(this._checkProtocol(e.resUrl_,u,n,e.admin_)){let r=e.options_;e.admin_&&(r=r||{},r.isAdmin=!0),e._pendingDfd=this.signIn(e.resUrl_,u,r).then(t,n)}}else y=new a.A("identity-manager:not-authenticated","User is not signed in."),n(y)},i=()=>{const r=e.sinfo_,i=r.owningSystemUrl,o=e.options_;let s,a,l,c;if(o&&(s=o.token,a=o.error,l=o.prompt),c=this._findCredential(i,{token:s,resource:e.resUrl_}),!c)for(const e of this.credentials)if(this._isIdProvider(i,e.server)){c=e;break}if(c){const i=this.findCredential(e.resUrl_,c.userId);if(i)t(i);else if(D(r,this._legacyFed)){const e=c.toJSON();e.server=r.server,e.resources=null,t(new U(e))}else(e._pendingDfd=this.generateToken(this.findServerInfo(c.server),null,{serverUrl:e.resUrl_,token:c.token,signal:e.options_.signal,ssl:c.ssl})).then((n=>{t(new U({userId:c?.userId,server:r.server??void 0,token:n.token,expires:null!=n.expires?Number(n.expires):null,ssl:!!n.ssl,isAdmin:e.admin_,validity:n.validity}))}),n)}else this._busy=null,s&&(e.options_.token=null),(e._pendingDfd=this.getCredential(i.replace(/\/?$/,"/sharing"),{resource:e.resUrl_,owningTenant:r.owningTenant,signal:e.options_.signal,token:s,error:a,prompt:l})).then((()=>{this._enqueue(e.resUrl_,e.sinfo_,e.options_,e,e.admin_)}),(t=>{e.resUrl_=e.sinfo_=e.refresh_=null,e.reject(t)}))};this._errbackFunc=n;const o=e.sinfo_.owningSystemUrl,s=this._isServerRsrc(e.resUrl_),l=e.sinfo_._restInfoPms;l?l.promise.then((t=>{const n=e.sinfo_;if(n._restInfoPms){n.adminTokenServiceUrl=n._restInfoPms.adminUrl,n._restInfoPms=null,n.tokenServiceUrl=((0,d.wc)("authInfo.tokenServicesUrl",t)||(0,d.wc)("authInfo.tokenServiceUrl",t)||(0,d.wc)("tokenServiceUrl",t))??null,n.shortLivedTokenValidity=(0,d.wc)("authInfo.shortLivedTokenValidity",t)??null,n.currentVersion=t.currentVersion,n.owningTenant=t.owningTenant;const e=n.owningSystemUrl=t.owningSystemUrl;e&&this._portals.push(e)}s&&n.owningSystemUrl?i():r()}),(()=>{e.sinfo_._restInfoPms=null;const t=new a.A("identity-manager:server-identification-failed","Unknown resource - could not find token service endpoint.");n(t)})):s&&o?i():e.sinfo_._selfReq?e.sinfo_._selfReq.selfDfd.then((t=>{const n={};let r,i,o,s;return t&&(r=t.user?.username,n.username=r,n.allSSL=t.allSSL,i=t.supportsOAuth,s=parseFloat(t.currentVersion),"multitenant"===t.portalMode&&(o=t.customBaseUrl),e.sinfo_.currentVersion=s),e.sinfo_.webTierAuth=!!r,r&&this.normalizeWebTierAuth?this.generateToken(e.sinfo_,null,{ssl:n.allSSL}).catch((()=>null)).then((e=>(n.portalToken=e?.token,n.tokenExpiration=e?.expires,n))):!r&&i&&s>=4.4&&!this._findOAuthInfo(e.resUrl_)?this._generateOAuthInfo({portalUrl:e.sinfo_.server,customBaseUrl:o,owningTenant:e.sinfo_._selfReq.owningTenant}).catch((()=>null)).then((()=>n)):n})).catch((()=>null)).then((t=>{e.sinfo_._selfReq=null,t?r(t.username,t.allSSL,t.portalToken,t.tokenExpiration):r()})):r()}_generateOAuthInfo(e){let t,n=null,r=e.portalUrl;const i=e.customBaseUrl,o=e.owningTenant,a=!this._defaultOAuthInfo&&this._createDefaultOAuthInfo&&!this._hasTestedIfAppIsOnPortal;if(a){n=this._appUrlObj.path;const e=n.search(/\/(apps|home)\//);n=e>-1?n.slice(0,e):null}return a&&n?(this._hasTestedIfAppIsOnPortal=!0,t=(0,s.A)(n+"/sharing/rest",{query:{f:"json"}}).then((()=>{this._defaultOAuthInfo=new E.A({appId:"arcgisonline",popupCallbackUrl:n+"/home/oauth-callback.html"})}))):t=Promise.resolve(),t.then((()=>{if(this._defaultOAuthInfo)return r=r.replace(/^http:/i,"https:"),(0,s.A)(r+"/sharing/rest/oauth2/validateRedirectUri",{query:{accountId:o,client_id:this._defaultOAuthInfo.appId,redirect_uri:(0,p.s2)(this._defaultOAuthInfo.popupCallbackUrl),f:"json"}}).then((e=>{if(e.data.valid){const t=this._defaultOAuthInfo.clone();e.data.urlKey&&i?t.portalUrl="https://"+e.data.urlKey.toLowerCase()+"."+i:t.portalUrl=r,t.popup=window!==window.top||!((0,p.FX)(r,this._appOrigin)||this._gwDomains.some((e=>e.regex.test(r)&&e.regex.test(this._appOrigin)))),this.oAuthInfos.push(t)}}))}))}_doOAuthSignIn(e,t,n,r){const i=n._oAuthCred,o={portalUrl:n.portalUrl};!n.popup&&n.preserveUrlHash&&window.location.hash&&(o.hash=window.location.hash),i.stateUID&&(o.uid=i.stateUID);const s={client_id:n.appId,response_type:i.codeVerifier?"code":"token",state:JSON.stringify(o),expiration:n.expiration,locale:n.locale,redirect_uri:this._getRedirectURI(n,!!i.codeVerifier)};n.forceLogin&&(s.force_login=!0),n.forceUserId&&n.userId&&(s.prepopulatedusername=n.userId),!n.popup&&this._doPortalSignIn(e)&&(s.redirectToUserOrgUrl=!0),i.codeVerifier&&(s.code_challenge=r||i.codeVerifier,s.code_challenge_method=r?"S256":"plain");const l=n.portalUrl.replace(/^http:/i,"https:")+"/sharing/oauth2/authorize",u=l+"?"+(0,p.x0)(s);if(n.popup){const e=window.open(u,"esriJSAPIOAuth",n.popupWindowFeatures);if(e)e.focus(),this._oAuthDfd.oAuthWin_=e,this._oAuthIntervalId=setInterval((()=>{if(e.closed){clearInterval(this._oAuthIntervalId),this._oAuthOnPopupHandle.remove();const e=this._oAuthDfd;if(e){const t=new a.A("identity-manager:user-aborted","ABORTED");e.reject(t)}}}),500),this._oAuthOnPopupHandle=(0,c.on)(window,["arcgis:auth:hash","arcgis:auth:location:search"],(e=>{"arcgis:auth:hash"===e.type?this.setOAuthResponseHash(e.detail):this._setOAuthResponseQueryString(e.detail)}));else{const e=new a.A("identity-manager:popup-blocked","ABORTED");this._oAuthDfd.reject(e)}}else this._rejectOnPersistedPageShow=!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:s,authorizeUrl:l,resourceUrl:e,serverInfo:t,oAuthInfo:n}):window.location.href=u}_getRedirectURI(e,t){const n=window.location.href.replace(/#.*$/,"");if(e.popup)return(0,p.s2)(e.popupCallbackUrl);if(t){const e=(0,p.An)(n);return e.query&&["code","error","error_description","message_code","persist","state"].forEach((t=>{delete e.query[t]})),(0,p.a6)(e.path,e.query)}return n}}Z.prototype.declaredClass="esri.identity.IdentityManagerBase";let U=class extends l.A.EventedAccessor{constructor(e){super(e),this._oAuthCred=null,this.tokenRefreshBuffer=2,e?._oAuthCred&&(this._oAuthCred=e._oAuthCred)}initialize(){this.resources=this.resources||[],null==this.creationTime&&(this.creationTime=Date.now())}refreshToken(){const e=r.id,t=e.findServerInfo(this.server),n=t?.owningSystemUrl,i=!!n&&"server"===this.scope,o=i&&D(t,e._legacyFed),s=t.webTierAuth,a=s&&e.normalizeWebTierAuth,l=N[this.server],c=l?.[this.userId];let u,d=this.resources&&this.resources[0],h=i?e.findServerInfo(n):null,p={username:this.userId,password:c};if(s&&!a)return;i&&!h&&e.serverInfos.some((t=>(e._isIdProvider(n,t.server)&&(h=t),!!h)));const f=h?e.findCredential(h.server,this.userId):null;if(!i||f){if(!o){if(i)u={serverUrl:d,token:f?.token,ssl:f?.ssl};else if(a)p=null,u={ssl:this.ssl};else{if(!c){let n;return d&&(d=e._sanitizeUrl(d),this._enqueued=1,n=e._enqueue(d,t,null,null,this.isAdmin,this),n.then((()=>{this._enqueued=0,this.refreshServerTokens()})).catch((()=>{this._enqueued=0}))),n}this.isAdmin&&(u={isAdmin:!0})}return e.generateToken(i?h:t,i?null:p,u).then((e=>{this.token=e.token,this.expires=null!=e.expires?Number(e.expires):null,this.creationTime=Date.now(),this.validity=e.validity,this.emitTokenChange(),this.refreshServerTokens()})).catch((()=>{}))}f?.refreshToken()}}refreshServerTokens(){if("portal"===this.scope){const e=r.id;e.credentials.forEach((t=>{const n=e.findServerInfo(t.server),r=n?.owningSystemUrl;t!==this&&t.userId===this.userId&&r&&"server"===t.scope&&(e._hasSameServerInstance(this.server,r)||e._isIdProvider(r,this.server))&&(D(n,e._legacyFed)?(t.token=this.token,t.expires=this.expires,t.creationTime=this.creationTime,t.validity=this.validity,t.emitTokenChange()):t.refreshToken())}))}}emitTokenChange(e){clearTimeout(this._refreshTimer);const t=r.id,n=this.server?t.findServerInfo(this.server):null,i=n?.owningSystemUrl,o=i?t.findServerInfo(i):null;!1===e||i&&"portal"!==this.scope&&(!o?.webTierAuth||t.normalizeWebTierAuth)||null==this.expires&&null==this.validity||this._startRefreshTimer(),this.emit("token-change")}destroy(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null,this._oAuthCred&&(this._oAuthCred.destroy(),this._oAuthCred=null);const e=r.id,t=e.credentials.indexOf(this);t>-1&&e.credentials.splice(t,1),this.emitTokenChange(),this.emit("destroy")}toJSON(){const e=(0,u.oy)({userId:this.userId,server:this.server,token:this.token,expires:this.expires,validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),t=this.resources;return t&&t.length>0&&(e.resources=t.slice()),e}_startRefreshTimer(){clearTimeout(this._refreshTimer);const e=6e4*this.tokenRefreshBuffer,t=2**31-1;let n=(this.validity?this.creationTime+6e4*this.validity:this.expires)-Date.now();n<0?n=0:n>t&&(n=t),this._refreshTimer=setTimeout(this.refreshToken.bind(this),n>e?n-e:n)}};(0,i._)([(0,f.MZ)()],U.prototype,"creationTime",void 0),(0,i._)([(0,f.MZ)()],U.prototype,"expires",void 0),(0,i._)([(0,f.MZ)()],U.prototype,"isAdmin",void 0),(0,i._)([(0,f.MZ)()],U.prototype,"oAuthState",void 0),(0,i._)([(0,f.MZ)()],U.prototype,"resources",void 0),(0,i._)([(0,f.MZ)()],U.prototype,"scope",void 0),(0,i._)([(0,f.MZ)()],U.prototype,"server",void 0),(0,i._)([(0,f.MZ)()],U.prototype,"ssl",void 0),(0,i._)([(0,f.MZ)()],U.prototype,"token",void 0),(0,i._)([(0,f.MZ)()],U.prototype,"tokenRefreshBuffer",void 0),(0,i._)([(0,f.MZ)()],U.prototype,"userId",void 0),(0,i._)([(0,f.MZ)()],U.prototype,"validity",void 0),U=(0,i._)([(0,m.$)("esri.identity.Credential")],U);class z extends Z{}z.prototype.declaredClass="esri.identity.IdentityManager";const V=new z;(0,r.Aq)(V)},83623:function(e,t,n){"use strict";n.d(t,{c:function(){return i},g:function(){return r}});n(6518);function r(e){return"l"===e?"m":"s"}async function i(e){await e.componentOnReady(),await e.updateComplete}},83693:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var r=n(6273),i=n(80861),o=n(45352),s=n(51387),a=n(46227);function l(){return{fields:{type:[o.A],value:null,set:function(e){if(e&&(0,r.A)("big-integer-warning-enabled")){const t=e.filter((e=>"big-integer"===e.type||"oid"===e.type&&(e.length||0)>=8));if(t.length){const e=t.map((e=>`'${e.name}'`)).join(", ");i.A.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${e}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return s.A.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e?.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e){const n=this.fieldsIndex?.has(t);n||i.A.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e})}return(0,a.DB)(this.fieldsIndex,e)}}}}},83882:function(e,t,n){"use strict";n.d(t,{Ps:function(){return l},Tv:function(){return d},Zs:function(){return o},cD:function(){return u},d2:function(){return c},fT:function(){return i},lH:function(){return p},mA:function(){return s},n4:function(){return h},xc:function(){return a}});var r=n(93814);const i=new r.A("cyan"),o=1,s=.25,a=new r.A("black"),l=.4,c=.2,u=.25,d="default",h="temporary",p=new r.A("yellow")},83946:function(e,t,n){"use strict";n.d(t,{EV:function(){return u},Ly:function(){return c},N_:function(){return h},OU:function(){return f},V8:function(){return d},Z6:function(){return m},cA:function(){return p}});var r=n(50398),i=n(70214),o=(n(6273),n(80861),n(37623)),s=n(61985),a=n(9987),l=n(58627);function c(...e){const t=r.A.acquire();for(let n=0;n<e.length;n++){const r=e[n],i=typeof r;if("string"===i)t.push(r);else if(Array.isArray(r))t.push.apply(t,r);else if("object"===i)for(const e in r)r[e]&&t.push(e)}const n=t.join(" ");return r.A.release(t),n}const u=(()=>{const e=new Map,t=new ResizeObserver((t=>{(0,l.Sh)();for(const n of t)e.get(n.target)?.(n)})),n=(n,r,o)=>(e.set(n,r),t.observe(n,o),(0,i.hA)((()=>{t.unobserve(n),e.delete(n)})));return(e,t,r)=>{let o=null;return(0,i.vE)([(0,s.wB)((()=>"function"==typeof e?e():e),(e=>{o?.remove(),e&&(o=n(e,t,r))}),s.pc),(0,i.hA)((()=>o?.remove()))])}})();function d(e){const t=e?.closest("[dir]");return null!==t&&t instanceof HTMLElement&&"rtl"===t.dir||"rtl"===document.dir}function h(e){this[e.getAttribute("data-node-ref")]=null}function p(e){this[e.getAttribute("data-node-ref")]=e}function f(e){return"Enter"===e||" "===e}async function m(e,t){await(0,a.$m)((0,o.Mq)(t));const n="function"==typeof e?e():e;n&&("setFocus"in n&&"function"==typeof n.setFocus?await n.setFocus():n instanceof HTMLElement&&n.focus())}},84214:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(62991),i=n(37623);class o{constructor(e,t=0,n=e.lods[e.lods.length-1].level){this.tileInfo=e,this.minLOD=t,this.maxLOD=n,e.lodAt(t)||(this.minLOD=e.lods[0].level),e.lodAt(n)||(this.maxLOD=e.lods[e.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(e,t,n){const r=this.tileInfo?.lodAt(e);return!r||e<this.minLOD||e>this.maxLOD?"unavailable":r.cols&&r.rows?n>=r.cols[0]&&n<=r.cols[1]&&t>=r.rows[0]&&t<=r.rows[1]?"unknown":"unavailable":"unknown"}async fetchAvailability(e,t,n,o){await(0,i.NO)(o);const s=this.getAvailability(e,t,n);if("unavailable"===s)throw new r.A("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:n});return s}async fetchAvailabilityUpsample(e,t,n,r,o){await(0,i.NO)(o),r.level=e,r.row=t,r.col=n;const s=this.tileInfo;return s.updateTileInfo(r),this.fetchAvailability(e,t,n,o).catch((e=>{if((0,i.zf)(e))throw e;if(s.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,o);throw e}))}}},84348:function(e,t,n){"use strict";n.d(t,{Gj:function(){return h},LF:function(){return f},uy:function(){return d}});var r=n(97629),i=n(42957),o=n(41903),s=n(1889),a=n(51020),l=n(89847),c=n(1851),u=n(86248);const d={key:"type",base:null,typeMap:{"unique-value":c.A,"class-breaks":i.A,"raster-colormap":s.A,"raster-stretch":l.A,"vector-field":u.A,"raster-shaded-relief":a.A,flow:o.A}},h={...d,typeMap:{...d.typeMap}};delete h.typeMap["vector-field"],delete h.typeMap.flow;const p={uniqueValue:c.A,classBreaks:i.A,rasterStretch:l.A,rasterColormap:s.A,vectorField:u.A,rasterShadedRelief:a.A,flowRenderer:o.A};function f(e,t){if(!e)return null;if("classBreaks"===e.type&&e.classificationMethod){const t=e.authoringInfo||{classificationMethod:""};t.classificationMethod=e.classificationMethod,e.authoringInfo=t}"vectorField"===e.type&&e.visualVariables&&!Array.isArray(e.visualVariables)&&(e.visualVariables=[e.visualVariables]);const n=(i=e)&&p[i.type]||null;var i;if(n){const r=new n;return r.read(e,t),r}return t?.messages&&e&&t.messages.push(new r.A("renderer:unsupported","Renderers of type '"+(e.type||"unknown")+"' are not supported",{definition:e,context:t})),null}},84456:function(e,t,n){"use strict";var r;n.d(t,{RT:function(){return r}}),function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"}(r||(r={}))},84459:function(e,t,n){"use strict";n.d(t,{X_:function(){return s},eU:function(){return l},i1:function(){return a},oW:function(){return u},zx:function(){return c}});var r=n(4506),i=n(5262);const o=96;function s(e,t){const n=t||e.extent,r=e.width,s=(0,i.GA)(n?.spatialReference);return n&&r?n.width/r*s*i.dy*o:0}function a(e,t){return e/((0,i.GA)(t)*i.dy*o)}function l(e,t){const n=e.extent,r=e.width-(e.padding?e.padding.left+e.padding.right:0),i=a(t,n.spatialReference);return n.clone().expand(i*r/n.width)}function c(e,t,n){return function(e,t){return 0===t||(0,r.Sp)(e,t)||e<t}(e,t)&&function(e,t){return 0===t||(0,r.Sp)(e,t)||e>t}(e,n)}function u(e,t){return(0,r.Sp)(e,t)?0:(e||Number.POSITIVE_INFINITY)>(t||Number.POSITIVE_INFINITY)?1:-1}},84700:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(82392),i=n(14755),o=n(1817),s=n(84977),a=n(81482),l=(n(6273),n(80861),n(67498),n(26325));const c=new o.J({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let u=class extends(i.A.ClonableMixin(s.A)){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,r._)([(0,a.MZ)({json:{write:!0}})],u.prototype,"name",void 0),(0,r._)([(0,a.MZ)({json:{write:!0}})],u.prototype,"description",void 0),(0,r._)([(0,a.MZ)({json:{read:c.read,write:c.write}})],u.prototype,"drawingTool",void 0),(0,r._)([(0,a.MZ)({json:{write:!0}})],u.prototype,"prototype",void 0),(0,r._)([(0,a.MZ)({json:{write:!0}})],u.prototype,"thumbnail",void 0),u=(0,r._)([(0,l.$)("esri.layers.support.FeatureTemplate")],u)},84807:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});var r=n(70214);const i=function(e){return{setTimeout:(t,n)=>{const i=e.setTimeout(t,n);return(0,r.hA)((()=>e.clearTimeout(i)))}}}(globalThis)},84977:function(e,t,n){"use strict";n.d(t,{A:function(){return g}});var r=n(82392),i=n(73783),o=n(15565),s=n(91101);class a{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const t=new a;return this._values.forEach(((n,r)=>{e&&e.has(r)||t.set(r,(0,o.o8)(n.value),n.origin)})),t}get(e,t){t=this._normalizeOrigin(t);const n=this._values.get(e);return null==t||n?.origin===t?n?.value:void 0}originOf(e){return this._values.get(e)?.origin??s.Gr.USER}keys(e){e=this._normalizeOrigin(e);const t=[...this._values.keys()];return null==e?t:t.filter((t=>this._values.get(t)?.origin===e))}set(e,t,n){if((n=this._normalizeOrigin(n))===s.Gr.DEFAULTS){const t=this._values.get(e);if(null!=t?.origin&&t.origin>n)return}this._values.set(e,new l(t,n))}delete(e,t){null!=(t=this._normalizeOrigin(t))&&this._values.get(e)?.origin!==t||this._values.delete(e)}has(e,t){return null!=(t=this._normalizeOrigin(t))?this._values.get(e)?.origin===t:this._values.has(e)}isAtOrigin(e,t){return t=this._normalizeOrigin(t),this.has(e,t)&&this.originOf(e)===t}isBelowOrigin(e,t){return t=this._normalizeOrigin(t),!this.has(e)||this.originOf(e)<t}forEach(e){this._values.forEach((({value:t},n)=>e(t,n)))}_normalizeOrigin(e){if(null!=e)return e===s.Gr.DEFAULTS?e:s.Gr.USER}}class l{constructor(e,t){this.value=e,this.origin=t}}var c=n(44062),u=n(41446),d=n(66361),h=n(34467),p=n(26325);const f=e=>{let t=class extends e{constructor(...e){super(...e);const t=(0,d.oY)(this),n=t.store,r=new a;t.store=r,(0,c.k)(t,n,r)}read(e,t){(0,u.L)(this,e,t)}write(e,t){return(0,h.M)(this,e??{},t)}toJSON(e){return this.write({},e)}static fromJSON(e,t){return m.call(this,e,t)}};return t=(0,r._)([(0,p.$)("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function m(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const n=new this;return n.read(e,t),n}let y=class extends(f(i.A)){};y=(0,r._)([(0,p.$)("esri.core.JSONSupport")],y),(y||(y={})).JSONSupportMixin=f;const g=y},85024:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(60663)),o={ordinalNumber:(0,r(n(311)).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,i.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,i.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,i.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,i.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,i.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};t.default=o,e.exports=t.default},85049:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Le}});var r=n(82392),i=n(20879),o=n(38116),s=n(14755),a=n(58842),l=n(62991),c=n(15565),u=n(80861),d=n(57725),h=n(67214),p=n(21750),f=n(37623),m=n(80189),y=n(19759),g=n(81482),v=n(77380),b=n(25376),w=n(26325),_=n(48524),S=n(63910),x=n(64898),M=n(44153),A=n(45449),T=n(20857),I=n(6273),C=n(11965),E=n(71004),k=n(73462),P=n(8636),R=(n(67498),n(50078)),O=n(8e3),N=n(65648),L=n(54483),D=n(29323),F=n(11378),j=n(74704);let Z=0,U=class extends(C.A.LoadableMixin(E.A.EsriPromiseMixin(a.A))){constructor(e){super(e),this._idToClientGeometry=null,this.type="memory"}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){const e=this.layer?.geometryType;return e?this._geometryTypeRequiresClientGraphicMapping(e)?"polygon":e:null}applyEdits(e){return this.load().then((()=>this._applyEdits(e)))}openPorts(){return this.load().then((()=>this._connection.openPorts()))}async queryFeatures(e,t={}){await this.load(t);const n=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);(0,F.q)(e,this.layer.spatialReference,n);const r=j.A.fromJSON(n);if(!this._requiresClientGraphicMapping()||!this._idToClientGeometry)return r;const i=this.layer.objectIdField;for(const e of r.features){const t=e.attributes[i],n=this._idToClientGeometry.get(t);void 0!==n&&(e.geometry=n)}return r.geometryType=this.layer.geometryType,r}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new l.A("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(t);const n=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);return(0,F.q)(e,this.layer.spatialReference,n),n}queryFeatureCount(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t)))}queryObjectIds(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t)))}queryExtent(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t))).then((e=>({count:e.count,extent:O.A.fromJSON(e.extent)})))}querySnapping(e,t={}){return this.load(t).then((()=>this._connection.invoke("querySnapping",e,t)))}async queryAttributeBins(e,t={}){return await this.load(),this._connection.invoke("queryAttributeBins",e?.toJSON(),t)}async _applyEdits(e){if(!this._connection)throw new l.A("feature-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField;let n=null;const r=[],i=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const o=e=>"objectId"in e&&null!=e.objectId?e.objectId:"attributes"in e&&null!=e.attributes[t]?e.attributes[t]:null;if(e.addFeatures&&(n=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const t of e.deleteFeatures){const e=o(t);null!=e&&r.push(e)}const s=e.updateFeatures&&this._idToClientGeometry?new Map:null;if(e.updateFeatures)for(const t of e.updateFeatures)if(i.push(this._serializeFeature(t)),s&&null!=t.geometry){const e=o(t);null!=e&&s.set(e,t)}(0,D.u)(n?n.features:null,i,this.layer.spatialReference);const{fullExtent:a,featureEditResults:c}=await this._connection.invoke("applyEdits",{adds:n?n.features:[],updates:i,deletes:r});return this.fullExtent=a,n&&n.finish(c.uidToObjectId),this._updateIdToClientGeometries(s,c),this._createEditsResult(c)}async _prepareClientMapping(e,t){if("mesh"!==this._layerOrSourceGeometryType||null==e)return;const n=[];for(const{geometry:r}of e)null==r||"mesh"!==r.type||r.hasExtent||r.loaded||n.push(r.load({signal:t}));n.length&&await Promise.all(n)}_updateIdToClientGeometries(e,t){if(this._idToClientGeometry){if(e)for(const n of t.updateResults){if(!n.success)continue;const t=e.get(n.objectId);null!=t&&this._addIdToClientGeometry(t)}for(const e of t.deleteResults)e.success&&this._idToClientGeometry.delete(e.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:""};return{objectId:e.objectId,globalId:e.globalId,error:t?new l.A("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}_prepareAddFeatures(e){const t=new Map,n=new Array(e.length);let r=null;for(let i=0;i<e.length;i++){const o=e[i],s=this._serializeFeature(o);r||null==o.geometry||(r=o.geometry.type),n[i]=s,t.set(`${s.uid}`,o)}const i=this;return{features:n,inferredGeometryType:r,finish(e){const n=i.sourceJSON.objectIdField;for(const r in e){const o=e[r],s=t.get(r);s&&(s.attributes||(s.attributes={}),-1===o?delete s.attributes[n]:s.attributes[n]=o,i._addIdToClientGeometry(s))}}}}_addIdToClientGeometry(e){if(!this._idToClientGeometry)return;const t=this.sourceJSON.objectIdField,n=e.attributes?.[t];null!=n&&this._idToClientGeometry.set(n,e.geometry??null)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return"mesh"===e||"multipatch"===e||"extent"===e}_serializeFeature(e){const{attributes:t}=e,n=this._geometryForSerialization(e),r=(Z++).toString();return n?{uid:r,geometry:n.toJSON(),attributes:t}:{uid:r,attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return null==t?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?N.A.fromExtent(t.extent):null:t}async _startWorker(e){this._connection=await(0,k.ho)("MemorySourceWorker",{strategy:(0,I.A)("feature-layers-workers")?"dedicated":"local",signal:e,registryTarget:this});const{fields:t,spatialReference:n,objectIdField:r,hasM:i,hasZ:o,timeInfo:s,dateFieldsTimeZone:a}=this.layer,l="defaults"===this.layer.originOf("spatialReference");await this._prepareClientMapping(this.items,e);const c=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",(e=>{u.A.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),e.preventDefault()})));const d={features:c.features,fields:t?.map((e=>e.toJSON())),geometryType:L.Ye.toJSON(this._workerGeometryType),hasM:"mesh"!==this._layerOrSourceGeometryType&&i,hasZ:"mesh"===this._layerOrSourceGeometryType||o,objectIdField:r,spatialReference:l?null:n&&n.toJSON(),timeInfo:s?.toJSON()??null,dateFieldsTimeZone:a},h=await this._connection.invoke("load",d,{signal:e});for(const e of h.warnings)u.A.getLogger(this.layer).warn("#load()",`${e.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:e});h.featureErrors.length&&u.A.getLogger(this.layer).warn("#load()",`Encountered ${h.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:h.featureErrors});const p=h.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(c.inferredGeometryType)&&(p.geometryType=L.Ye.toJSON(c.inferredGeometryType)),this.sourceJSON=p,this._requiresClientGraphicMapping()&&(this._idToClientGeometry=new Map),c.finish(h.assignedObjectIds)}};(0,r._)([(0,R.u)({Type:T.A,ensureType:(0,P.dp)(T.A)})],U.prototype,"itemType",void 0),(0,r._)([(0,g.MZ)()],U.prototype,"type",void 0),(0,r._)([(0,g.MZ)({constructOnly:!0})],U.prototype,"layer",void 0),(0,r._)([(0,g.MZ)({readOnly:!0})],U.prototype,"_workerGeometryType",null),(0,r._)([(0,g.MZ)()],U.prototype,"sourceJSON",void 0),U=(0,r._)([(0,w.$)("esri.layers.graphics.sources.MemorySource")],U);var z=n(94763),V=n(30179),B=n(20923),$=n(27303),G=n(92008),q=n(88940),H=n(23091),W=n(71207),J=n(71519),K=n(4648),Y=n(87917),X=n(60368),Q=n(73783);let ee=class extends Q.A{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};(0,r._)([(0,g.MZ)()],ee.prototype,"updating",void 0),(0,r._)([(0,g.MZ)()],ee.prototype,"status",void 0),ee=(0,r._)([(0,w.$)("esri.layers.support.PublishingInfo")],ee);const te=Symbol();const ne=e=>{var t;let n=class extends e{constructor(){super(...arguments),this[t]=!0}static{t=te}get publishingInfo(){if(this.destroyed)return null;const e=this._get("publishingInfo");if(e)return e;const t=new ee;return this._checkPublishingStatus(t),t}_checkPublishingStatus(e){let t=0;const n=async i=>{let o;e.updating=!0;try{o=await this.fetchPublishingStatus()}catch(e){o="unavailable"}"published"!==o&&"unavailable"!==o||("publishing"===e.status&&this.refresh(),r.remove()),e.status=o,e.updating=!1,r.removed||(t=setTimeout(n,i,i+125))},r={removed:!1,remove(){this.removed=!0,clearTimeout(t)}};this.when().catch((()=>r.remove())),n(250),this.addHandles(r)}};return(0,r._)([(0,g.MZ)({readOnly:!0,clonable:!1})],n.prototype,"publishingInfo",null),n=(0,r._)([(0,w.$)("esri.layers.mixins.PublishableLayer")],n),n};var re=n(51177),ie=n(22111),oe=n(2960),se=n(44034),ae=n(63457),le=n(9014),ce=n(16948),ue=n(84700),de=n(52202),he=n(83693),pe=n(46227),fe=n(47659),me=n(6488),ye=n(76456),ge=n(72523),ve=n(52884),be=n(23123),we=n(17308),_e=n(29221),Se=n(99650),xe=n(44695),Me=n(33432),Ae=n(42663),Te=n(95610),Ie=n(4331),Ce=n(29759),Ee=n(93802);const ke="FeatureLayer";function Pe(e,t){return new l.A("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function Re(e){return e&&e instanceof a.A}const Oe=(0,he.p)();function Ne(e,t,n){const r=!!n?.writeLayerSchema;return{enabled:r,ignoreOrigin:r}}let Le=class extends((0,W.j)((0,J.J)((0,H.F)(ne((0,q.w6)((0,G.FJ)((0,B.dM)((0,Y.fY)((0,oe.e)((0,se.d)((0,ie.j)((0,re.J)((0,V.b)((0,K.q)((0,X.A)((0,h.P)((0,$.d)((0,z.p)(s.A.ClonableMixin(A.A)))))))))))))))))))){constructor(...e){super(...e),this.attributeTableTemplate=null,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="ArcGISFeatureLayer",this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=M.A.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=(0,f.sg)((async(e,t,r)=>{const{save:i,saveAs:o}=await n.e(900).then(n.bind(n,10900));switch(e){case Ce.X.SAVE:return i(this,t);case Ce.X.SAVE_AS:return o(this,r,t)}}))}destroy(){this.source?.destroy()}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(t).then((e=>this.initLayerProperties(e)))),Promise.resolve(this);const n=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e).catch(f.QP).then((async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){const e=await this._fetchFirstValidLayerId(t);null!=e&&(this.layerId=e)}if(!this.url&&!this._hasMemorySource())throw new l.A("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(t))})).then((()=>(0,ce.VA)(this,"load",e)));return this.addResolvingPromise(n),Promise.resolve(this)}get _titleCreator(){const e=this._get("_titleCreator");return(0,d.pR)(e),new ve.A({fieldsIndex:this.fieldsIndex,objectIdField:this.objectIdField,fields:this.fields,displayField:this.displayField,effectivePopupTemplate:this.popupTemplate??this.defaultPopupTemplate})}readCapabilities(e,t){return t=t.layerDefinition||t,(0,ye.S)(t,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome("editingEnabled",e)}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,n){return this._readEditingEnabled(t,!0,n)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,n,r){this._writeEditingEnabled(e,t,!0,r)}get effectiveEditingEnabled(){return(0,ce.C$)(this)}get featureTitleFields(){return[...this._titleCreator.requiredFields]}readIsTable(e,t){return"Table"===(t=t?.layerDefinition??t).type||!t.geometryType}writeIsTable(e,t,n,r){r?.writeLayerSchema&&(0,p.sM)(n,e?"Table":"Feature Layer",t)}readGlobalIdField(e,t){return(0,ce.jD)(t.layerDefinition||t)}readObjectIdField(e,t){return(0,ce.Zm)(t.layerDefinition||t)}get parsedUrl(){const e=(0,y.An)(this.url);return null!=e&&(null!=this.dynamicDataSource?e.path=(0,y.fj)(e.path,"dynamicLayer"):null!=this.layerId&&(e.path=(0,y.fj)(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){(0,pe.yp)(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,n){t=t.layerDefinition||t;const r=t.drawingInfo?.renderer;if(r){const e=(0,_e.L)(r,t,n)??void 0;return e||u.A.getLogger(this).error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:n}),e}return(0,ce.PD)(t,n)}set source(e){const t=this._get("source");t!==e&&(Re(t)&&this._resetMemorySource(t),Re(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof a.A?new U({layer:this,items:e}):e:null}readSource(e,t){const n=j.A.fromJSON(t.featureSet);return new U({layer:this,items:n?.features??[]})}readTemplates(e,t){const n=t.editFieldsInfo,r=n?.creatorField,i=n?.editorField;return e=e?.map((e=>ue.A.fromJSON(e))),this._fixTemplates(e,r),this._fixTemplates(e,i),e}readTitle(e,t){const n=t.layerDefinition?.name??t.name,r=t.title||t.layerDefinition?.title;if(n){const e=this.portalItem?.title;if("item-title"===this.sublayerTitleMode)return this.url?(0,ae.yG)(this.url,n):n;let t=n;if(!t&&this.url){const e=(0,ae.qg)(this.url);null!=e&&(t=e.title)}if(!t)return;return"item-title-and-service-name"===this.sublayerTitleMode&&e&&e!==t&&(t=e+" - "+t),(0,ae.cr)(t)}if("item-title"===this.sublayerTitleMode&&r)return r}readTitleFromWebMap(e,t){return t.title||t.layerDefinition?.name}readTypeIdField(e,t){let n=(t=t.layerDefinition||t).typeIdField;if(n&&t.fields){n=n.toLowerCase();const e=t.fields.find((e=>e.name.toLowerCase()===n));e&&(n=e.name)}return n}readTypes(e,t){e=(t=t.layerDefinition||t).types;const n=t.editFieldsInfo,r=n?.creatorField,i=n?.editorField;return e?.map((e=>(e=de.A.fromJSON(e),this._fixTemplates(e.templates,r),this._fixTemplates(e.templates,i),e)))}readVisible(e,t){return null!=t.layerDefinition?.defaultVisibility?!!t.layerDefinition.defaultVisibility:null!=t.visibility?!!t.visibility:void 0}async addAttachment(e,t){const n=await(0,ce.Xl)(this,e,t,ke);return this.lastEditsEventDate=new Date,n}async updateAttachment(e,t,n){const r=await(0,ce.bt)(this,e,t,n,ke);return this.lastEditsEventDate=new Date,r}async applyEdits(e,t){return(0,ce.ct)(this,e,t)}async uploadAssets(e,t){return(0,ce.rn)(this,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return(0,Te.tn)(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e});const{default:t}=await(0,f.qr)(Promise.all([n.e(2662),n.e(7439)]).then(n.bind(n,47439)),e);return new t({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:e})}createQuery(){const e=(0,ce.VZ)(this);e.dynamicDataSource=this.dynamicDataSource;const t=null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:null,n=(0,m.mA)(this.definitionExpression,t);return e.where=n||"1=1",e}async deleteAttachments(e,t){const n=await(0,ce.mm)(this,e,t,ke);return this.lastEditsEventDate=new Date,n}async fetchRecomputedExtents(e){return(0,ce.WP)(this,e,ke)}async getFeatureTitle(e,t){return this._titleCreator.getTitle(this,e,t)}async getFeatureTitles(e,t){return this._titleCreator.getTitles(this,e,t)}getFeatureType(e){return(0,ce.xd)(this.types,this.typeIdField,e)}getFieldDomain(e,t){return(0,ce.Vq)(this,e,t,this.getField(e)?.domain??null)}async queryAttachments(e,t){return(0,ce.lV)(this,e,t,ke)}async queryFeatures(e,t){const n=await this.load(),r=await n.source.queryFeatures(Me.A.from(e)??n.createQuery(),t);if(r?.features)for(const e of r.features)e.layer=e.sourceLayer=n;return r}async queryObjectIds(e,t){return await(0,ce.sg)(this,e,t,ke)}async queryFeatureCount(e,t){return(0,ce.Ye)(this,e,t,ke)}async queryExtent(e,t){return(0,ce.B5)(this,e,t,ke)}async queryRelatedFeatures(e,t){return(0,ce.hM)(this,e,t,ke)}async queryRelatedFeaturesCount(e,t){return(0,ce.S2)(this,e,t,ke)}async queryTopFeatures(e,t){const{source:r,capabilities:i}=await this.load();if(!r.queryTopFeatures||!i?.query?.supportsTopFeaturesQuery)throw new l.A(ke,"Layer source does not support queryTopFeatures capability");const o=await n.e(3856).then(n.bind(n,83856)),s=await r.queryTopFeatures(o.default.from(e),t);if(s?.features)for(const e of s.features)e.layer=e.sourceLayer=this;return s}async queryAttributeBins(e,t){const{source:r,capabilities:i}=await this.load();if(!r.queryAttributeBins)throw new l.A(ke,"Layer source does not support queryAttributeBins capability");(0,ce.ZJ)(e,i,ke);const o=await n.e(4232).then(n.bind(n,14232)),s=await r.queryAttributeBins(o.default.from(e),t);if(s.features)for(const e of s.features)e.layer=e.sourceLayer=this;return s}async queryTopObjectIds(e,t){const{source:r,capabilities:i}=await this.load();if(!r.queryTopObjectIds||!i?.query.supportsTopFeaturesQuery)throw new l.A(ke,"Layer source does not support queryTopObjectIds capability");const o=await n.e(3856).then(n.bind(n,83856));return(await r.queryTopObjectIds(o.default.from(e),t)).filter(Ae.Et)}async queryTopFeaturesExtent(e,t){const{source:r,capabilities:i}=await this.load();if(!r.queryTopExtents||!i?.query?.supportsTopFeaturesQuery)throw new l.A(ke,"Layer source does not support queryTopExtents capability");const o=await n.e(3856).then(n.bind(n,83856));return r.queryTopExtents(o.default.from(e),t)}async queryTopFeatureCount(e,t){const{source:r,capabilities:i}=await this.load();if(!r.queryTopCount||!i?.query?.supportsTopFeaturesQuery)throw new l.A(ke,"Layer source does not support queryFeatureCount capability");const o=await n.e(3856).then(n.bind(n,83856));return r.queryTopCount(o.default.from(e),t)}read(e,t){const n=e.featureCollection;if((n||"Feature Collection"===e.type)&&(this.resourceInfo=e),n){const{layers:e,showLegend:r}=n;1===e?.length&&(super.read(e[0],t),null!=r&&super.read({showLegend:r},t))}super.read(e,t),t&&"service"===t.origin&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(e,t){t={...t,origin:t?.origin??void 0,writeLayerSchema:t?.writeLayerSchema??this._hasMemorySource()};const{origin:n,layerContainerType:r,messages:i}=t;if(this.dynamicDataSource)return i?.push(Pe(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if(("web-map"===n||"web-scene"===n)&&"tables"!==r)return i?.push(Pe(this,`a table source can only be written to tables, not ${r}`)),null;if(this._hasMemorySource())return i?.push(Pe(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&("web-map"===n||"web-scene"===n)&&"tables"===r)return i?.push(Pe(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new l.A(ke,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&("memory"===this.source?.type||(0,be.D)(this,e))}async save(e){return this._debouncedSaveOperations(Ce.X.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(Ce.X.SAVE_AS,t,e)}_readEditingEnabled(e,t,n){let r=e.layerDefinition?.capabilities;return r?this._hasEditingCapability(r):(r=e.capabilities,t&&"web-map"===n?.origin&&!this._hasMemorySource()&&r?this._hasEditingCapability(r):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map((e=>e.trim())).includes("editing")}_writeEditingEnabled(e,t,n,r){if(!e){const e=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query";(0,p.sM)("layerDefinition.capabilities",e,t),n&&!r?.writeLayerSchema&&(t.capabilities=e)}}_fetchFirstValidLayerId(e){return(0,o.A)(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then((e=>{const t=e.data;if(t)return this.applyPreferredHost(t),this.findFirstValidLayerId(t)}))}async initLayerProperties(e){return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),(0,pe.yp)(this.renderer,this.fieldsIndex),(0,pe.sv)(this.timeInfo,this.fieldsIndex),this._hasMemorySource()&&"mesh"===this.geometryType&&(this.capabilities.query.supportsReturnMesh=!0),(0,Se.L)(this,{origin:"service"})}async hasDataChanged(){return(0,ce.jp)(this)}async fetchPublishingStatus(){const e=this.source;return e?.fetchPublishingStatus?e.fetchPublishingStatus():"unavailable"}_verifyFields(){const e=this.parsedUrl?.path??"undefined";this.objectIdField,this.isTable||this._hasMemorySource()||-1!==e.search(/\/FeatureServer\//i)||this.fields?.some((e=>"geometry"===e.type))}_fixTemplates(e,t){e&&e.forEach((e=>{const n=e.prototype?.attributes;n&&t&&delete n[t]}))}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new l.A("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new l.A("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach((e=>{e.layer=this,e.sourceLayer=this})),this.addHandles([e.on("after-add",(e=>{e.item.layer=this,e.item.sourceLayer=this})),e.on("after-remove",(e=>{e.item.layer=null,e.item.sourceLayer=null}))],"fl-source")}_resetMemorySource(e){e.forEach((e=>{e.layer=null,e.sourceLayer=null})),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(e){return Array.isArray(e.layers)&&e.layers.length>0?e.layers[0].id:Array.isArray(e.tables)&&e.tables.length>0?e.tables[0].id:void 0}};(0,r._)([(0,g.MZ)({clonable:!1,readOnly:!0})],Le.prototype,"_titleCreator",null),(0,r._)([(0,g.MZ)(le.zQ)],Le.prototype,"attributeTableTemplate",void 0),(0,r._)([(0,b.w)("service","capabilities")],Le.prototype,"readCapabilities",null),(0,r._)([(0,g.MZ)({json:{origins:{"web-scene":{write:!1}},write:!0}})],Le.prototype,"charts",void 0),(0,r._)([(0,g.MZ)({readOnly:!0})],Le.prototype,"createQueryVersion",null),(0,r._)([(0,g.MZ)({json:{read:{source:"layerDefinition.copyrightText"}}})],Le.prototype,"copyright",void 0),(0,r._)([(0,g.MZ)({json:{read:{source:"layerDefinition.displayField"}}})],Le.prototype,"displayField",void 0),(0,r._)([(0,g.MZ)({types:Ie.Es,readOnly:!0})],Le.prototype,"defaultSymbol",void 0),(0,r._)([(0,g.MZ)({type:we.L})],Le.prototype,"dynamicDataSource",void 0),(0,r._)([(0,g.MZ)({type:Boolean})],Le.prototype,"editingEnabled",null),(0,r._)([(0,b.w)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],Le.prototype,"readEditingEnabled",null),(0,r._)([(0,b.w)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],Le.prototype,"readEditingEnabledFromWebMap",null),(0,r._)([(0,_.K)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],Le.prototype,"writeEditingEnabled",null),(0,r._)([(0,_.K)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],Le.prototype,"writeEditingEnabledToWebMap",null),(0,r._)([(0,g.MZ)({readOnly:!0})],Le.prototype,"effectiveEditingEnabled",null),(0,r._)([(0,g.MZ)({clonable:!1,readOnly:!0})],Le.prototype,"featureTitleFields",null),(0,r._)([(0,g.MZ)({...Oe.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Ne}}}}})],Le.prototype,"fields",void 0),(0,r._)([(0,g.MZ)(Oe.fieldsIndex)],Le.prototype,"fieldsIndex",void 0),(0,r._)([(0,g.MZ)({type:x.A,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Le.prototype,"formTemplate",void 0),(0,r._)([(0,g.MZ)({json:{read:{source:"layerDefinition.extent"}}})],Le.prototype,"fullExtent",void 0),(0,r._)([(0,g.MZ)({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Ne,writer(e,t,n){const r=e?ce.iX.toJSON(e):null;r&&(0,p.sM)(n,r,t)}}}},read:{source:"layerDefinition.geometryType",reader:ce.iX.read}}})],Le.prototype,"geometryType",void 0),(0,r._)([(0,g.MZ)({json:{read:{source:"layerDefinition.hasM"}}})],Le.prototype,"hasM",void 0),(0,r._)([(0,g.MZ)({json:{read:{source:"layerDefinition.hasZ"}}})],Le.prototype,"hasZ",void 0),(0,r._)([(0,g.MZ)(le.id)],Le.prototype,"id",void 0),(0,r._)([(0,g.MZ)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Le.prototype,"infoFor3D",void 0),(0,r._)([(0,g.MZ)({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],Le.prototype,"isTable",void 0),(0,r._)([(0,b.w)("service","isTable",["type","geometryType"]),(0,b.w)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],Le.prototype,"readIsTable",null),(0,r._)([(0,_.K)("web-map","isTable")],Le.prototype,"writeIsTable",null),(0,r._)([(0,g.MZ)(le.kF)],Le.prototype,"labelsVisible",void 0),(0,r._)([(0,g.MZ)({type:[fe.A],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:me.w,write:!1}},name:"layerDefinition.drawingInfo.labelingInfo",read:me.w,write:{layerContainerTypes:S.K}}})],Le.prototype,"labelingInfo",void 0),(0,r._)([(0,g.MZ)((()=>{const e=(0,c.o8)(le.Ih);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(e,t,n){(0,p.sM)(n,(0,Ee.p)(e),t)}}},e})())],Le.prototype,"opacity",void 0),(0,r._)([(0,g.MZ)(le.fV)],Le.prototype,"legendEnabled",void 0),(0,r._)([(0,g.MZ)({type:["show","hide"],json:(()=>{const e=(0,c.o8)(le.C1.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],Le.prototype,"listMode",void 0),(0,r._)([(0,b.w)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],Le.prototype,"readGlobalIdField",null),(0,r._)([(0,g.MZ)({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Ne}}}}})],Le.prototype,"objectIdField",void 0),(0,r._)([(0,b.w)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],Le.prototype,"readObjectIdField",null),(0,r._)([(0,g.MZ)({type:["ArcGISFeatureLayer"],json:{write:{target:"layerType",ignoreOrigin:!0,layerContainerTypes:S.K}}})],Le.prototype,"operationalLayerType",void 0),(0,r._)([(0,g.MZ)(Oe.outFields)],Le.prototype,"outFields",void 0),(0,r._)([(0,g.MZ)({readOnly:!0})],Le.prototype,"parsedUrl",null),(0,r._)([(0,g.MZ)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Le.prototype,"path",void 0),(0,r._)([(0,g.MZ)(le.M6)],Le.prototype,"popupEnabled",void 0),(0,r._)([(0,g.MZ)({type:i.A,json:{name:"popupInfo",write:!0}})],Le.prototype,"popupTemplate",void 0),(0,r._)([(0,g.MZ)({readOnly:!0})],Le.prototype,"defaultPopupTemplate",null),(0,r._)([(0,g.MZ)({types:xe.Hg,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:xe.XJ,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:S.K,overridePolicy:(e,t,n)=>({ignoreOrigin:n?.writeLayerSchema,layerContainerTypes:S.K})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,n)=>({ignoreOrigin:n?.writeLayerSchema,layerContainerTypes:S.K})}}})],Le.prototype,"renderer",null),(0,r._)([(0,b.w)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),(0,b.w)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],Le.prototype,"readRenderer",null),(0,r._)([(0,g.MZ)()],Le.prototype,"resourceInfo",void 0),(0,r._)([(0,g.MZ)((()=>{const e=(0,c.o8)(le.PY);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],Le.prototype,"screenSizePerspectiveEnabled",void 0),(0,r._)([(0,g.MZ)({clonable:!1})],Le.prototype,"source",null),(0,r._)([(0,v.w)("source")],Le.prototype,"castSource",null),(0,r._)([(0,b.w)("portal-item","source",["featureSet"]),(0,b.w)("web-map","source",["featureSet"])],Le.prototype,"readSource",null),(0,r._)([(0,g.MZ)({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],Le.prototype,"spatialReference",void 0),(0,r._)([(0,g.MZ)({type:Number})],Le.prototype,"subtypeCode",void 0),(0,r._)([(0,g.MZ)({type:[ue.A]})],Le.prototype,"templates",void 0),(0,r._)([(0,b.w)("templates",["editFieldsInfo","creatorField","editorField","templates"])],Le.prototype,"readTemplates",null),(0,r._)([(0,g.MZ)({type:ge.A})],Le.prototype,"timeInfo",void 0),(0,r._)([(0,g.MZ)()],Le.prototype,"title",void 0),(0,r._)([(0,b.w)("service","title",["name"]),(0,b.w)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],Le.prototype,"readTitle",null),(0,r._)([(0,b.w)("web-map","title",["layerDefinition.name","title"])],Le.prototype,"readTitleFromWebMap",null),(0,r._)([(0,g.MZ)({type:String})],Le.prototype,"sublayerTitleMode",void 0),(0,r._)([(0,g.MZ)({json:{read:!1}})],Le.prototype,"type",void 0),(0,r._)([(0,g.MZ)({type:String})],Le.prototype,"typeIdField",void 0),(0,r._)([(0,b.w)("service","typeIdField"),(0,b.w)("typeIdField",["layerDefinition.typeIdField"])],Le.prototype,"readTypeIdField",null),(0,r._)([(0,g.MZ)({type:[de.A]})],Le.prototype,"types",void 0),(0,r._)([(0,b.w)("service","types",["types"]),(0,b.w)("types",["layerDefinition.types"])],Le.prototype,"readTypes",null),(0,r._)([(0,g.MZ)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility",layerContainerTypes:S.K}}}}})],Le.prototype,"visible",void 0),(0,r._)([(0,b.w)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],Le.prototype,"readVisible",null),Le=(0,r._)([(0,w.$)("esri.layers.FeatureLayer")],Le)},85160:function(e,t,n){"use strict";var r=n(96540);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useSyncExternalStore,s=r.useRef,a=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=l((function(){function e(e){if(!a){if(a=!0,o=e,e=r(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var n=r(e);return void 0!==u&&u(t,n)?(o=e,t):(o=e,s=n)}var o,s,a=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,u]);var p=o(e,d[0],d[1]);return a((function(){h.hasValue=!0,h.value=p}),[p]),c(p),p}},85202:function(e,t,n){"use strict";n.d(t,{H_:function(){return v},u4:function(){return b},lB:function(){return w},eh:function(){return g}});var r=n(1817),i=n(80861),o=n(6538),s=n(50908),a=n(4728),l=n(68716),c=n(22497),u=n(88416);const d=()=>i.A.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");const h=[0,0,0,0];class p{constructor(){this.type="single",this._highlightOptions=new a.A,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*s.Ci),this._minMaxDistance=[0,0]}setHighlightOptions(e){this._highlightOptions=e}applyHighlightOptions(e,t){this._updateGradientTexture(e),e.bindTexture(this._shadeTex,o.CR),t.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){this._shadeTex?.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<o.U5)-1,activeGradient:this}]}_updateGradientTexture(e){const t=function(e){return`${e.color};${e.haloColor};${e.haloOpacity};${e.fillOpacity};${e.haloWidth};${e.haloBlur}`}(this._highlightOptions);if(t===this._optionsShadeTexKey)return;this._optionsShadeTexKey=t,function(e,t){t.fillColor[0]=e.color.r/255,t.fillColor[1]=e.color.g/255,t.fillColor[2]=e.color.b/255,t.fillColor[3]=e.color.a,e.haloColor?(t.outlineColor[0]=e.haloColor.r/255,t.outlineColor[1]=e.haloColor.g/255,t.outlineColor[2]=e.haloColor.b/255,t.outlineColor[3]=e.haloColor.a):(t.outlineColor[0]=t.fillColor[0],t.outlineColor[1]=t.fillColor[1],t.outlineColor[2]=t.fillColor[2],t.outlineColor[3]=t.fillColor[3]),t.fillColor[3]*=e.fillOpacity,t.outlineColor[3]*=e.haloOpacity,t.fillColor[0]*=t.fillColor[3],t.fillColor[1]*=t.fillColor[3],t.fillColor[2]*=t.fillColor[3],t.outlineColor[0]*=t.outlineColor[3],t.outlineColor[1]*=t.outlineColor[3],t.outlineColor[2]*=t.outlineColor[3],t.outlineWidth=(1-e.haloBlur)*e.haloWidth,t.outerHaloWidth=e.haloBlur*e.haloWidth/2,t.innerHaloWidth=e.haloBlur*e.haloWidth/2,t.outlinePosition=0}(this._highlightOptions,this._convertedHighlightOptions);const n=this._convertedHighlightOptions,r=n.outlinePosition-n.outlineWidth/2-n.outerHaloWidth,i=n.outlinePosition-n.outlineWidth/2,o=n.outlinePosition+n.outlineWidth/2,a=n.outlinePosition+n.outlineWidth/2+n.innerHaloWidth,p=Math.sqrt(Math.PI/2)*s.aY,f=Math.abs(r)>p?Math.round(10*(Math.abs(r)-p))/10:0,m=Math.abs(a)>p?Math.round(10*(Math.abs(a)-p))/10:0;let y;f&&!m?d().error("The outer rim of the highlight is "+f+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!f&&m?d().error("The inner rim of the highlight is "+m+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):f&&m&&d().error("The highlight is "+Math.max(f,m)+"px away from the edge of the feature; consider reducing some width values.");const g=[void 0,void 0,void 0,void 0];function v(e,t,n){g[0]=(1-n)*e[0]+n*t[0],g[1]=(1-n)*e[1]+n*t[1],g[2]=(1-n)*e[2]+n*t[2],g[3]=(1-n)*e[3]+n*t[3]}const{_texelData:b}=this;for(let e=0;e<s.Ci;++e)y=r+e/(s.Ci-1)*(a-r),y<r?(g[0]=0,g[1]=0,g[2]=0,g[3]=0):y<i?v(h,n.outlineColor,(y-r)/(i-r)):y<o?[g[0],g[1],g[2],g[3]]=n.outlineColor:y<a?v(n.outlineColor,n.fillColor,(y-o)/(a-o)):[g[0],g[1],g[2],g[3]]=n.fillColor,b[4*e]=255*g[0],b[4*e+1]=255*g[1],b[4*e+2]=255*g[2],b[4*e+3]=255*g[3];if(this._minMaxDistance[0]=r,this._minMaxDistance[1]=a,!this._shadeTex){const t=new u.R;t.wrapMode=l.pF.CLAMP_TO_EDGE,t.width=s.Ci,t.height=1,this._shadeTex=new c.g(e,t)}this._shadeTex.updateData(0,0,0,s.Ci,1,this._texelData)}}class f{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(e){for(let t=0;t<e.length;t++)this.gradients[t]||(this.gradients[t]=new p),this.gradients[t].setHighlightOptions(e[t]);for(let t=e.length+1;t<this.gradients.length;t++)this.gradients[t].destroy();this.gradients.length=e.length}destroy(){for(const e of this.gradients)e.destroy()}getReasonsWithGradients(){let e=1;const t=[];for(let n=0;n<this.gradients.length;n++){const r=this.gradients[n];t.push({activeReasons:e,activeGradient:r}),e<<=1}return t}}var m=n(2379);const y=new r.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function g(e){return y.toJSON(e)}function v(e){const{bandCount:t,attributeTable:n,colormap:r,pixelType:i}=e.raster.rasterInfo;return 1===t&&(null!=n||null!=r||"u8"===i||"s8"===i)}function b(e,t){return null==t?(e?.destroy(),null):("single"===e?.type&&Array.isArray(t)&&(e.destroy(),e=null),"multi"!==e?.type||Array.isArray(t)||(e.destroy(),e=null),e||(e=Array.isArray(t)?new f:new p),Array.isArray(t)?"multi"===e.type&&e.setHighlightOptions(t):"single"===e.type&&e.setHighlightOptions(t),e)}function w(e,t,n,r){const{painter:i,highlightGradient:o}=e,{highlight:s}=i.effects;if(!o)return;const a=e.passOptions,l=o.getReasonsWithGradients();for(let o=0;o<l.length;o++){const a={...e,passOptions:{type:"highlight",activeGradient:null!=r?l[r].activeGradient:l[o].activeGradient,activeReasons:l[o].activeReasons,stepType:"burn",highlightAll:t}};if(s.bind(a),n(a),o<l.length-1){let i=0;for(let e=o+1;e<l.length;e++)i|=l[e].activeReasons;n({...e,passOptions:{type:"highlight",activeGradient:null!=r?l[r].activeGradient:l[o].activeGradient,activeReasons:i,stepType:"clear",highlightAll:t}})}const c={...e,passOptions:{type:"highlight",activeGradient:null!=r?l[r].activeGradient:l[o].activeGradient,activeReasons:l[o].activeReasons,stepType:"draw",highlightAll:t}};i.setPipelineState((0,m.Qu)(e)),i.updatePipelineState(e.context),s.draw(c),s.unbind()}e.passOptions=a}},85368:function(e,t,n){"use strict";n.d(t,{l:function(){return i}});n(6273),n(80861);class r{constructor(e,t=[]){this.eventType=e,this.keyModifiers=t}matches(e){if(e.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const t=e.modifiers;for(const e of this.keyModifiers)if(!t.has(e))return!1;return!0}}class i{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const t=this._incoming[e];for(const e of t)this._incomingEventMatches.push(e.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map((e=>e.eventType))),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager||(e.setEventCallback((e=>this._handleEvent(e))),e.setUninstallCallback((()=>this._onUninstall())),this._manager=e)}onUninstall(){}registerIncoming(e,t,n){let i;"function"==typeof t?(n=t,i=[]):i=t||[];const s="string"==typeof e?new r(e,i):e,a=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},l=e=>{const t=this._incoming[e.match.eventType];if(t){const n=t.indexOf(e);t.splice(n,1),a(),this._manager&&this._manager.updateDependencies()}},c=new o(s,n,{onPause:l,onRemove:l,onResume:e=>{const t=this._incoming[e.match.eventType];t&&!t.includes(e)&&(t.push(e),a(),this._manager&&this._manager.updateDependencies())}});let u=this._incoming[s.eventType];return u||(u=[],this._incoming[s.eventType]=u),u.push(c),a(),this._manager&&this._manager.updateDependencies(),c}registerOutgoing(e){if(this._outgoing[e])throw new Error("There is already a callback registered for this outgoing InputEvent: "+e);const t=new s(e,{onEmit:(e,t,n,r)=>{this._manager?.emit(e.eventType,t,n,r)},onRemove:e=>{delete this._outgoing[e.eventType],this._manager?.updateDependencies()}});return this._outgoing[e]=t,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),t}startCapturingPointer(e){this._manager?.setPointerCapture(e,!0)}stopCapturingPointer(e){this._manager?.setPointerCapture(e,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(e){const t=this._incoming[e.type];if(t)for(const n of t)if(n.match.matches(e)&&(n.callback?.(e),e.shouldStopPropagation()))break}}class o{constructor(e,t,n){this.match=e,this._callback=t,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class s{constructor(e,t){this.eventType=e,this._removed=!1,this._handler=t}emit(e,t,n){this._removed||this._handler.onEmit(this,e,t,n)}remove(){this._removed=!0,this._handler.onRemove(this)}}},85498:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var r,i=n(82392),o=n(58842),s=n(15565),a=n(81482),l=(n(6273),n(80861),n(85716)),c=n(26325),u=n(28107),d=n(61842),h=n(62932);const p=o.A.ofType({base:null,key:"type",typeMap:{line:u.A,path:d.A}}),f=o.A.ofType({base:null,key:"type",typeMap:{line:u.A,path:d.A}});let m=r=class extends h.A{constructor(e){super(e),this.symbolLayers=new p,this.type="line-3d"}clone(){return new r({styleOrigin:(0,s.o8)(this.styleOrigin),symbolLayers:(0,s.o8)(this.symbolLayers),thumbnail:(0,s.o8)(this.thumbnail)})}static fromSimpleLineSymbol(e){return new r({symbolLayers:new o.A([u.A.fromSimpleLineSymbol(e)])})}};(0,i._)([(0,a.MZ)({type:p,json:{type:f}})],m.prototype,"symbolLayers",void 0),(0,i._)([(0,l.e)({LineSymbol3D:"line-3d"},{readOnly:!0})],m.prototype,"type",void 0),m=r=(0,i._)([(0,c.$)("esri.symbols.LineSymbol3D")],m)},85716:function(e,t,n){"use strict";n.d(t,{e:function(){return o}});var r=n(1817),i=n(81482);function o(e,t={}){const n=e instanceof r.J?e:new r.J(e,t),{alwaysWriteDefaults:o,default:s,ignoreUnknown:a=!0,name:l,nonNullable:c,readOnly:u=!1}=t;return(0,i.MZ)({type:a?n.apiValues:String,json:{type:n.jsonValues,default:s,name:l,read:!u&&{reader:n.read},write:{writer:n.write,alwaysWriteDefaults:o}},nonNullable:c,readOnly:u})}},85747:function(e,t,n){"use strict";n.d(t,{N3:function(){return a},Om:function(){return s}});var r=n(28208),i=n(91658),o=n(88358);class s{constructor(e=null,t={},n,r,i=0){this.geometry=e,this.attributes=t,this.centroid=n,this.objectId=r,this.displayId=i}static fromJSON(e){const t=e.geometry?o.A.fromJSON(e.geometry):null,n=e.centroid?o.A.fromJSON(e.centroid):null,r=e.objectId;return new s(t,e.attributes,n,r)}weakClone(){const e=new s(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e}clone(){const e=this.geometry?.clone(),t=new s(e,{...this.attributes},this.centroid?.clone(),this.objectId);return t.displayId=this.displayId,t}ensureCentroid(e){return this.centroid??=(0,i.Q)(new o.A,this.geometry,e.hasZ,e.hasM),this.centroid}get usedMemory(){return 128+(0,r.lM)(this.attributes)+(this.geometry?.usedMemory??0)}}function a(e){return!!e.geometry?.coords?.length}},85785:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var r=n(82392),i=n(4506),o=n(23572),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325)),l=n(78115),c=n(8e3),u=n(65648),d=n(34008),h=n(5585);let p=class extends h.A{constructor(e){super(e),this.extent=null,this.rotation=0,this.type="extent-and-rotation"}get coords(){if(null==this.extent)return null;const{xmin:e,ymin:t,xmax:n,ymax:r,spatialReference:i}=this.extent;let o;if(this.rotation){const{x:i,y:s}=this.extent.center,a=f(i,s,this.rotation);o=[a(e,t),a(e,r),a(n,r),a(n,t)],o.push(o[0])}else o=[[e,t],[e,r],[n,r],[n,t],[e,t]];return new u.A({rings:[o],spatialReference:i})}set coords(e){if(null==e||null==this.extent)return;const t=this.extent.spatialReference;if(e=this.projectOrWarn(e,t),null==e?.extent)return;const{rings:[[n,r,o]],extent:{center:{x:s,y:a}}}=e,l=(0,i.KJ)(Math.PI/2-Math.atan2(r[1]-n[1],r[0]-n[0])),u=f(s,a,-l),[d,h]=u(n[0],n[1]),[p,m]=u(o[0],o[1]);this.extent=new c.A({xmin:d,ymin:h,xmax:p,ymax:m,spatialReference:t}),this.rotation=l}toSourceNormalized(e){const{extent:t,rotation:n}=this;if(null==e||null==t)return null;const{xmin:r,ymin:s,xmax:a,ymax:l,center:c,spatialReference:u}=t;e=e.normalize();const h=(0,d.projectOrLoad)(e,u).geometry;if(null==h)return null;let p=h.x,m=h.y;return n&&([p,m]=f(c.x,c.y,-n)(p,m)),(0,o.tc)((0,i.hs)(p,r,a,0,1),(0,i.hs)(m,l,s,0,1))}};function f(e,t,n){const r=(0,l.DF)(n),i=Math.cos(r),o=Math.sin(r);return(n,r)=>[i*(n-e)+o*(r-t)+e,i*(r-t)-o*(n-e)+t]}(0,r._)([(0,s.MZ)({clonable:!1})],p.prototype,"coords",null),(0,r._)([(0,s.MZ)({type:c.A})],p.prototype,"extent",void 0),(0,r._)([(0,s.MZ)({type:Number})],p.prototype,"rotation",void 0),p=(0,r._)([(0,a.$)("esri.layers.support.ExtentAndRotationGeoreference")],p);const m=p},85816:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,s.default)(1,arguments),!(0,i.default)(e)&&"number"!=typeof e)return!1;var t=(0,o.default)(e);return!isNaN(Number(t))};var i=r(n(75102)),o=r(n(95039)),s=r(n(10427));e.exports=t.default},85953:function(e,t,n){"use strict";var r,i,o,s,a,l,c,u,d,h,p,f,m,y,g,v,b,w,_,S,x,M,A,T,I,C,E,k,P,R,O,N,L,D,F,j,Z,U,z,V,B,$,G,q,H,W,J,K,Y,X,Q,ee,te,ne,re,ie,oe,se,ae,le,ce,ue,de;n.d(t,{$2:function(){return a},Ao:function(){return T},C1:function(){return o},Hz:function(){return f},JO:function(){return i},M1:function(){return A},O$:function(){return ae},OW:function(){return ie},Q1:function(){return K},TZ:function(){return b},WE:function(){return P},Y:function(){return c},YI:function(){return X},bj:function(){return u},e_:function(){return J},f0:function(){return se},fu:function(){return p},g7:function(){return d},h5:function(){return ne},ip:function(){return Y},mU:function(){return R},oF:function(){return x},uQ:function(){return M},uT:function(){return U},vG:function(){return ce},wd:function(){return $},xR:function(){return r},xn:function(){return w},xw:function(){return C},yS:function(){return z}}),function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"}(r||(r={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(i||(i={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(o||(o={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(s||(s={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(a||(a={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(l||(l={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(c||(c={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(u||(u={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(d||(d={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(h||(h={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(p||(p={})),function(e){e.Linear="Linear",e.EaseIn="EaseIn",e.EaseOut="EaseOut",e.EaseInOut="EaseInOut"}(f||(f={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(m||(m={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(y||(y={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(g||(g={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(v||(v={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(b||(b={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(w||(w={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(_||(_={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(S||(S={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(x||(x={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees",e.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",e.ConcentricCircles="ConcentricCircles",e.DoubleJogArrow="DoubleJogArrow",e.LinkedChevrons="LinkedChevrons",e.SegmentThenHalfCircle="SegmentThenHalfCircle",e.LineWithStraightTicks="LineWithStraightTicks",e.DoubleCurve="DoubleCurve",e.ParallelWithTicksByWidth="ParallelWithTicksByWidth",e.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(M||(M={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(A||(A={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(T||(T={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(I||(I={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(C||(C={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(E||(E={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(k||(k={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(P||(P={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(R||(R={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(O||(O={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(N||(N={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(L||(L={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AlongLine=1]="AlongLine"}(D||(D={})),function(e){e[e.Auto=0]="Auto",e[e.Clockwise=1]="Clockwise",e[e.Counterclockwise=2]="Counterclockwise"}(F||(F={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(j||(j={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(Z||(Z={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(U||(U={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(z||(z={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(V||(V={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(B||(B={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}($||($={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(G||(G={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(q||(q={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(H||(H={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(W||(W={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(J||(J={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(K||(K={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(Y||(Y={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(X||(X={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(Q||(Q={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(ee||(ee={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(te||(te={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(ne||(ne={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(re||(re={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(ie||(ie={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(oe||(oe={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(se||(se={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(ae||(ae={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(le||(le={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(ce||(ce={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(ue||(ue={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(de||(de={}))},86074:function(e,t,n){"use strict";n.d(t,{It:function(){return p},LG:function(){return s},OM:function(){return c},Sm:function(){return u},Y:function(){return a},bK:function(){return l},mm:function(){return h},sQ:function(){return d}});var r=n(34008),i=n(44153),o=n(64672);function s(e,t){if(!a(e,t)){const n=e.typeKeywords;n?n.push(t):e.typeKeywords=[t]}}function a(e,t){return!!e.typeKeywords?.includes(t)}function l(e){return a(e,h.HOSTED_SERVICE)}function c(e,t){const n=e.typeKeywords;if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}function u(e,t,n){n?s(e,t):c(e,t)}async function d(e){const t=e.clone().normalize();let n;if(t.length>1)for(const e of t)n?e.width>n.width&&(n=e):n=e;else n=t[0];return async function(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return(0,o.ci)(e);const n=i.A.WGS84;return await(0,r.initializeProjection)(t,n),(0,r.project)(e,n)}(n)}const h={CHARTS:"Charts",DYNAMIC:"Dynamic",DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",LOCAL_SCENE:"ViewingMode-Local",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function p(e){const{portal:t,isOrgItem:n,itemControl:r}=e,i=t.user?.privileges;let o=!i||i.includes("features:user:edit"),s=!!n&&!!i?.includes("features:user:fullEdit");const a="update"===r||"admin"===r;return a?s=o=!0:s&&(o=!0),{features:{edit:o,fullEdit:s},content:{updateItem:a}}}},86169:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(75906),l=n(84977),c=n(8636),u=n(25376),d=n(48524),h=n(93802);let p=r=class extends l.A{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return(0,h.D)(t.transparency)}writeOpacity(e,t,n){t[n]=(0,h.p)(e)}clone(){return new r({label:this.label,opacity:this.opacity,value:this.value})}};(0,i._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,i._)([(0,o.MZ)({type:Number,json:{type:c.jz,write:{target:"transparency",isRequired:!0}}})],p.prototype,"opacity",void 0),(0,i._)([(0,u.w)("opacity",["transparency"])],p.prototype,"readOpacity",null),(0,i._)([(0,d.K)("opacity")],p.prototype,"writeOpacity",null),(0,i._)([(0,o.MZ)({type:Number,json:{write:{isRequired:!0}}})],p.prototype,"value",void 0),p=r=(0,i._)([(0,s.$)("esri.renderers.visualVariables.support.OpacityStop")],p);const f=p;var m;let y=m=class extends a.A{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)),this._set("stops",e)}clone(){return new m({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((e=>e.clone())),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};(0,i._)([(0,o.MZ)({readOnly:!0})],y.prototype,"cache",null),(0,i._)([(0,o.MZ)({type:["opacity"],json:{type:["transparencyInfo"]}})],y.prototype,"type",void 0),(0,i._)([(0,o.MZ)({type:String,json:{write:!0}})],y.prototype,"normalizationField",void 0),(0,i._)([(0,o.MZ)({type:[f],json:{write:!0}})],y.prototype,"stops",null),y=m=(0,i._)([(0,s.$)("esri.renderers.visualVariables.OpacityVariable")],y)},86248:function(e,t,n){"use strict";n.d(t,{A:function(){return k}});var r,i=n(82392),o=n(93814),s=n(20857),a=n(1817),l=n(84977),c=n(15565),u=n(81482),d=(n(6273),n(80861),n(85716)),h=n(25376),p=n(26325),f=n(1912),m=n(87249),y=n(20503),g=n(42957),v=n(13005),b=n(89179),w=n(8112),_=n(63279),S=n(37525),x=n(11455),M=n(24826),A=n(68231),T=n(54866);const I=new Set(["esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour"]),C=new a.J({beaufort_ft:"beaufort-ft",beaufort_km:"beaufort-km",beaufort_kn:"beaufort-kn",beaufort_m:"beaufort-m",beaufort_mi:"beaufort-mi",classified_arrow:"classified-arrow",ocean_current_kn:"ocean-current-kn",ocean_current_m:"ocean-current-m",simple_scalar:"simple-scalar",single_arrow:"single-arrow",wind_speed:"wind-barb"}),E=new a.J({flow_from:"flow-from",flow_to:"flow-to"});let k=r=class extends((0,v.h)(l.A)){constructor(e){super(e),this.attributeField="Magnitude",this.flowRepresentation="flow-from",this.rotationType="arithmetic",this.style="single-arrow",this.symbolTileSize=50,this.type="vector-field"}readInputUnit(e,t){return I.has(e)?y.MD.fromJSON(e):null}readOutputUnit(e,t){return I.has(e)?y.MD.fromJSON(e):null}get styleRenderer(){const e=this.style,t=this.attributeField,n=this._createStyleRenderer(e);return n.field=t,n}get sizeVariables(){const e=[];if(this.visualVariables)for(const t of this.visualVariables)"size"===t.type&&e.push(t);if(0===e.length){const t=new _.A({field:"Magnitude",minSize:.2*this.symbolTileSize,maxSize:.8*this.symbolTileSize});this.visualVariables?this.visualVariables.push(t):this._set("visualVariables",[t]),e.push(t)}return e}get rotationVariables(){const e=[];if(this.visualVariables)for(const t of this.visualVariables)"rotation"===t.type&&e.push(t);if(0===e.length){const t=new w.A({field:"Direction",rotationType:this.rotationType});this.visualVariables?this.visualVariables.push(t):this._set("visualVariables",[t]),e.push(t)}return e}clone(){return new r({attributeField:this.attributeField,flowRepresentation:this.flowRepresentation,rotationType:this.rotationType,symbolTileSize:this.symbolTileSize,style:this.style,visualVariables:(0,c.o8)(this.visualVariables),inputUnit:this.inputUnit,outputUnit:this.outputUnit})}async getGraphicsFromPixelData(e,t=!1,n=[]){const r=new Array,i=(0,y.KL)(this.inputUnit,this.outputUnit),o=this.rotationVariables[0]?.rotationType||this.rotationType,a=t?(0,y.FI)(e.pixelBlock,"vector-uv",o,i):(0,y.Rn)(e.pixelBlock,"vector-magdir",i);if(null==a)return r;const l=e.extent,c=null!=a.mask&&a.mask.length>0;let u=0;const d=(l.xmax-l.xmin)/a.width,h=(l.ymax-l.ymin)/a.height;for(let e=0;e<a.height;e++)for(let t=0;t<a.width;t++,u++){let i=new f.A({x:l.xmin+t*d+d/2,y:l.ymax-e*h-h/2,spatialReference:l.spatialReference});i=(await(0,m.el)(i))[0];const o=n.some((e=>e.intersects(i)));if((!c||a.mask[u])&&!o){const e={Magnitude:a.pixels[0][u],Direction:a.pixels[1][u]},t=new s.A({geometry:new f.A({x:i.x,y:i.y,spatialReference:l.spatialReference}),attributes:e});t.symbol=this._getVisualVariablesAppliedSymbol(t),r.push(t)}}return r}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getClassBreakInfos(){return this.styleRenderer?.classBreakInfos}getDefaultSymbol(){return this.styleRenderer?.defaultSymbol}_getDefaultSymbol(e){return new A.A({path:"M14,32 14,18 9,23 16,3 22,23 17,18 17,32 z",outline:new M.A({width:0}),size:20,color:e||new o.A([0,92,230])})}_getVisualVariablesAppliedSymbol(e){if(!e)return;const t=this.styleRenderer?.getSymbol(e)?.clone(),n=this.sizeVariables,r=this.rotationVariables;if(n&&n.length&&this.sizeVariables.forEach((n=>(0,T.UQ)(t,(0,S.getAllSizes)([n],e)))),r&&r.length){const n="flow-to"===this.flowRepresentation==("ocean-current-kn"===this.style||"ocean-current-m"===this.style)?0:180;e.attributes.Direction=e.attributes.Direction+n,this.rotationVariables.forEach((n=>(0,T.GG)(t,(0,S.getRotationAngle)(n,e),n.axis)))}return t}_createStyleRenderer(e){let t={defaultSymbol:this._getDefaultSymbol(),classBreakInfos:[]};switch(e){case"single-arrow":t=this._createSingleArrowRenderer();break;case"beaufort-kn":t=this._createBeaufortKnotsRenderer();break;case"beaufort-m":t=this._createBeaufortMeterRenderer();break;case"beaufort-ft":t=this._createBeaufortFeetRenderer();break;case"beaufort-mi":t=this._createBeaufortMilesRenderer();break;case"beaufort-km":t=this._createBeaufortKilometersRenderer();break;case"ocean-current-m":t=this._createCurrentMeterRenderer();break;case"ocean-current-kn":t=this._createCurrentKnotsRenderer();break;case"simple-scalar":t=this._createSimpleScalarRenderer();break;case"wind-barb":t=this._createWindBarbsRenderer();break;case"classified-arrow":t=this._createClassifiedArrowRenderer()}return new g.A(t)}_createSingleArrowRenderer(){return{defaultSymbol:this._getDefaultSymbol()}}_createBeaufortKnotsRenderer(){return{defaultSymbol:this._getDefaultSymbol(new o.A([214,47,39])),classBreakInfos:this._getClassBreaks([0,1,3,6,10,16,21,27,33,40,47,55,63],[[40,146,199],[89,162,186],[129,179,171],[160,194,155],[191,212,138],[218,230,119],[250,250,100],[252,213,83],[252,179,102],[250,141,52],[247,110,42],[240,71,29]])}}_createBeaufortMeterRenderer(){return{defaultSymbol:this._getDefaultSymbol(new o.A([214,47,39])),classBreakInfos:this._getClassBreaks([0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createBeaufortFeetRenderer(){const e=this._getDefaultSymbol(new o.A([214,47,39]));let t=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];return t=t.map((e=>3.28084*e)),{defaultSymbol:e,classBreakInfos:this._getClassBreaks(t,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createBeaufortMilesRenderer(){const e=this._getDefaultSymbol(new o.A([214,47,39]));let t=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];return t=t.map((e=>2.23694*e)),{defaultSymbol:e,classBreakInfos:this._getClassBreaks(t,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createBeaufortKilometersRenderer(){const e=this._getDefaultSymbol(new o.A([214,47,39]));let t=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];return t=t.map((e=>3.6*e)),{defaultSymbol:e,classBreakInfos:this._getClassBreaks(t,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createCurrentMeterRenderer(){return{defaultSymbol:this._getDefaultSymbol(new o.A([177,177,177])),classBreakInfos:this._getClassBreaks([0,.5,1,1.5,2],[[78,26,153],[179,27,26],[202,128,26],[177,177,177]])}}_createCurrentKnotsRenderer(){return{defaultSymbol:this._getDefaultSymbol(new o.A([177,177,177])),classBreakInfos:this._getClassBreaks([0,.25,.5,1,1.5,2,2.5,3,3.5,4],[[0,0,0],[0,37,100],[78,26,153],[151,0,100],[179,27,26],[177,78,26],[202,128,26],[177,179,52],[177,177,177]])}}_createClassifiedArrowRenderer(){const e=this._getDefaultSymbol(new o.A([56,168,0]));let t=[0,1e-6,3.5,7,10.5,14];if(this.sizeVariables?.length){const e=this.sizeVariables[0].minDataValue,n=this.sizeVariables[0].maxDataValue;if(e&&n){const r=(n-e)/5;t=Array.from(Array(6).keys()).map((t=>e+r*t))}}return{defaultSymbol:e,classBreakInfos:this._getClassBreaks(t,[[56,168,0],[139,309,0],[255,255,0],[255,128,0],[255,0,0]])}}_createSimpleScalarRenderer(){return{defaultSymbol:x.A.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAQAAABLVLlLAAAABGdBTUEAAYagMeiWXwAAAAJiS0dEAACqjSMyAAAACXBIWXMAAABIAAAASABGyWs+AAAC3ElEQVRIx9XXvW4cVRQH8N982btpsIREJECyiCXsxX4DKh6AliqGKCBBE2SlwlHgAbBD/AKmyEYUeQ1KahPZSZQvBCkQLTHZ7KGY8Xodz4w3a1NwbzVzz/znfJ//zbStVC5q3icKak9GAs2QIdDx3PtW/S011NW3p+M5Eomh11ipTIKe6+4LQzHaQ+G+63pIZNJJQXMpljwTwj1brpgx5w1zZlyx5Z4QnllEIm2xeeSUHBf0hV0bejo1Uh09G3aFvgXk7cCJFBc9EdaRVuHJJaOdKyTV2TVhYLMduNR0Q9gxL5GaaTDw8GzejrDRBpxWoGsySRW0dttKuattwNkIlFw2YXgzOdYq4Ox49PlM+JrKd5OusjTWhBuVxUfMX/KXXZ3WEmkuqa67wspR4BTbwtKr/5u4fFgStse/T7EifFPnnYl9zPq4vmUOPrRndgoHjDti1gOPqlyXoifcRNGQzUd31lDyfHmob1Gp35vSr+P6vilcQ5Egtyd8YF/ySg9NhPM+9M/IOaHwp5+PSZayXTvCogEUwlatC3J8LLwYtcWB8EuDXQVuCkV5/B4eNHb7wGBs87LBDS+xjdVSn09wq1G8dFM+9tSUhIGneLvUdniKxKpTYljCpu3j7rVWlHj/P23v4NPGUEyeCQnexe9lJjzEQqMjJs+EzNAX6B98dBZVRmroJx95x/A/6gln18EyfCUsl+qdXb/tjvfbw+mwforpUOBz4XLVoBwAn3aWnfeH246NyBXhrq7TTN5lNSP9RkU+puUJm3W2Tsdq0nZWM07srk7MwQrZSRysjjGWBLRJNsNbfj2JMR4AbxpU1XLAb9Mxfpsq5EjMuuiR8L0JiHOOBX3hiUvOmavN0nMueSzcceFk0BK4pMqLo7vDD1Z0qrtDx7Itt4Xwm9UqbMmk8S0Dtuzb2pvOU99Z1nLTOfleNmvfZfP2pYZmPfajwosKdDBNpacNpVGGsWX9CyDI8Xq/Sj6QAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE0LTExLTEwVDAzOjE3OjU4LTA1OjAwF+tHyQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNC0xMS0xMFQwMzoxNzo1OC0wNTowMGa2/3UAAAAASUVORK5CYII=",height:20,width:20,type:"esriPMS",angle:0})}}_createWindBarbsRenderer(){const e=Array.from(Array(31).keys()).map((e=>5*e)),t=[{range:"0-5",path:"M20 20 M5 20 A15 15 0 1 0 35 20 A15 15 0 1 0 5 20 M20 20 M10 20 A10 10 0 1 0 30 20 A10 10 0 1 0 10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTIwIDIwIE01IDIwIEExNSAxNSAwIDEgMCAzNSAyMCBBMTUgMTUgMCAxIDAgNSAyMCBNMjAgMjAgTTEwIDIwIEExMCAxMCAwIDEgMCAzMCAyMCBBMTAgMTAgMCAxIDAgMTAgMjAiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"5-10",path:"M25 0 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"10-15",path:"M25 0 L25 40 L10 45 L25 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"15-20",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjEyIDAgMTUgNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"20-25",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"25-30",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIEwyNSAzNSBNMjUgMzAgTDE3LjUgMzIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"30-35",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"35-40",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"40-45",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"45-50",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"50-55",path:"M25 0 L25 40 L10 40 L25 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"55-60",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxNy41IDMyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"60-65",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"65-70",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"70-75",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"75-80",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"80-85",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"85-90",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxNy41IDE3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"90-95",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"95-100",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20 L25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCBMMjUgMTUgTTI1IDEwIEwxNy41IDEyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"100-105",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"105-110",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDE3LjUgMjcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"110-115",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"115-120",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDE3LjUgMjIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"120-125",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"125-130",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDE3LjUgMTcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"130-135",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"135-140",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDE3LjUgMTIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"140-145",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"145-150",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IE0yNSAxMCBNMjUgNSBMMTcuNSA3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="}],n=x.A.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAQAAADtq6NDAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEY0lEQVRIx5XXWWxWRRQH8N+d+31tUdGAVjGglYJABFEBY91jfDAg7piYaFTccA++uMQEFRcSXlATtxiXqMQt4G4iisYl0ai4sIQYtVFZ1KIFKdTS0l4f7vRCS5fPebozc+bM/2z/Mzcx0AgSiUxXnKfIdMn875FIhX53U2n/B/s+kKM4UINTjTBZImixxnrv+9a2iL6zEoUBXcoudrWj/OtHm3wt02lfU9Qao9OnHvIhgmww84MEl1qnxfNmGrqHxAizLdPpC6chGcAxKGGcL+30gOERf1BSpUqVslQSV8d5ReZFe8VQ9avufJn31cWwlJV7iafKStGOE/1qvfH9qUxxu8ydUdmuSKbGO8YUdT2inKLG69pM70tliktl5qIkCAJGmusDG7Vqsc0WjZa4UBlBiA5YZIcjYzB7qDtH5kaUJFLs7RGZTZ42W4PRRmtwvbdt1+wGiaS4drEtDttdZYIDNVuAclR3vA3+dI3qHqmVSy7U6Tv1MScCPvPR7nIpFlsdCy3FdTLPGhK92e2CUITjMJ9ocwKxnsZqc3O3JwMma3d6UVLnyVxB4aXemZqvPqLdpJhW3KVVbY4yYImPo6M5Urv50fj+0z/FG9YaEiENs8UtMfXUaTeTePNHlhXfA1UU+2lyD1Il3Gtt9+adfpNG7dNlpg2U/T3KYLZ2dUWFdTgp3/rQ4sK973qnInV5TIf40x3dhvrJPBiqyWUo4wAtLqhQYS71qK+QKOFRywmGK/kpikzV6WMKhh58vGWs4TIJNjiEYLIuP8Tt4/zmLyqk+AyrJSbF+Qq1DgqRUPMxyl+9q3IQhX/rMCJ6tEunriDs1oSyQZKlr9AkhT2ZIARbJfaJS1vtVbHB+Rgi0RK/y1q1BWsEEyLoz40xtGKcARPVWB1BTPO7f4LNtpkUl1aoMbViLyZo0GRjPD3BxnxjqXeLYlvhqYrzMMG3HoyJXa3JjfnGlbYYFlP7Jh3qKsKY4hQ7TY0nG+xwRL61n63mxHtqNHosigyMLmClNwvuecFnOZB88nNBDzNkzhxEZaKMBVoKapggMzvHHXBEpNSSFAvtcFRsVn0bW8LlMmcXs+c0Kne3gRR32+zg4uXwjC6zit6Wt4a8LXVfcp/MtQXHn2ynGbuCmb8GvvFeJLEE82ReU9/n6+dkq2x3buG9Wn94smcgAw631RPR7BTH+kbmHReZoEpOdEe7zWqZl40s0JWs9Hmv7hjBHqPDwsjGKVJnWWqjbdZp1KhJi0aPmxYZsIRhlttgeF+Jlke41QcOQKoqilSb6HJzSvNG3G/UoWnxwsmt+sVaYwd63dRbqdnMyCPVeyRPvpYgdavM22oGKoMUVRbJfOWMwidJ8Zzb1UvmWK/VVUXzHaTjjrVYh1897HT7xxYEVUaa5SWb/WO+YUWa9SrwvigzM8YlzlYv2GSdVCYxxlBtVnnFq5olwp5/BEk/OLsf5LUmG2+inRJdVvjZ97ZH9/zP34ug1O91pf4p+D+JYBpvrKxfbwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNC0xMS0xMFQwMzoxMjowOS0wNTowMB9ViV0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTQtMTEtMTBUMDM6MTI6MDktMDU6MDBuCDHhAAAAAElFTkSuQmCC",height:20,width:20,type:"esriPMS",angle:0}),r=e.map(((r,i)=>{let o;if(i!==e.length-1)if(0===i)o={minValue:r,maxValue:e[i+1],symbol:n};else{const n=x.A.fromJSON({type:"esriPMS",imageData:t[i].imageData,contentType:"image/svg+xml",height:32,width:32,angle:0});o={minValue:r,maxValue:e[i+1],symbol:n}}return new b.A(o)}));return{defaultSymbol:n,classBreakInfos:r}}_getClassBreaks(e,t){return t.map(((t,n)=>new b.A({minValue:e[n],maxValue:e[n+1],symbol:this._getDefaultSymbol(new o.A(t))})))}};(0,i._)([(0,u.MZ)({type:["Magnitude"],json:{write:!0}})],k.prototype,"attributeField",void 0),(0,i._)([(0,u.MZ)({type:E.apiValues,json:{type:E.jsonValues,read:{reader:E.read},write:{writer:E.write}}})],k.prototype,"flowRepresentation",void 0),(0,i._)([(0,u.MZ)({type:["geographic","arithmetic"],json:{write:!0}})],k.prototype,"rotationType",void 0),(0,i._)([(0,u.MZ)({type:C.apiValues,json:{type:C.jsonValues,read:{reader:C.read},write:{writer:C.write}}})],k.prototype,"style",void 0),(0,i._)([(0,u.MZ)({json:{write:!0}})],k.prototype,"symbolTileSize",void 0),(0,i._)([(0,u.MZ)({type:y.MD.apiValues,json:{type:y.MD.jsonValues,write:{writer:y.MD.write}}})],k.prototype,"inputUnit",void 0),(0,i._)([(0,h.w)("inputUnit")],k.prototype,"readInputUnit",null),(0,i._)([(0,u.MZ)({type:y.MD.apiValues,json:{type:y.MD.jsonValues,read:{reader:y.MD.read},write:{writer:y.MD.write}}})],k.prototype,"outputUnit",void 0),(0,i._)([(0,h.w)("outputUnit")],k.prototype,"readOutputUnit",null),(0,i._)([(0,d.e)({vectorField:"vector-field"})],k.prototype,"type",void 0),(0,i._)([(0,u.MZ)({type:g.A})],k.prototype,"styleRenderer",null),(0,i._)([(0,u.MZ)({type:_.A})],k.prototype,"sizeVariables",null),(0,i._)([(0,u.MZ)({type:w.A})],k.prototype,"rotationVariables",null),k=r=(0,i._)([(0,p.$)("esri.renderers.VectorFieldRenderer")],k)},86270:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=n(88426);class i{constructor(){this._serviceMetadatas=new Map,this._itemDatas=new Map}async fetchServiceMetadata(e,t){const n=this._serviceMetadatas.get(e);if(n)return n;const i=await(0,r.V)(e,t);return this._serviceMetadatas.set(e,i),i}async fetchItemData(e){const{id:t}=e;if(!t)return null;const{_itemDatas:n}=this;if(n.has(t))return n.get(t);const r=await e.fetchData();return n.set(t,r),r}async fetchCustomParameters(e,t){const n=await this.fetchItemData(e);return n&&"object"==typeof n&&(t?t(n):n.customParameters)||null}}},86466:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(60639);let l=class extends i.A{constructor(){super(...arguments),this.samples=[]}};(0,r._)([(0,o.MZ)({type:[a.A],json:{write:!0}})],l.prototype,"samples",void 0),l=(0,r._)([(0,s.$)("esri.rest.support.ImageSampleResult")],l)},86757:function(e,t,n){"use strict";n.d(t,{$0:function(){return W},AU:function(){return A},C:function(){return E},FT:function(){return z},GL:function(){return j},Hn:function(){return L},Ji:function(){return G},RG:function(){return Z},UR:function(){return K},WK:function(){return Y},XR:function(){return q},Z7:function(){return P},aA:function(){return te},b:function(){return R},b8:function(){return O},cp:function(){return U},hV:function(){return V},iB:function(){return k},nr:function(){return $},qV:function(){return X},ri:function(){return D},s5:function(){return B},tj:function(){return H},vt:function(){return C}});var r=n(39702),i=n(58842),o=n(4506),s=n(5262),a=n(78115),l=n(94464),c=n(92374),u=n(53334),d=n(56560),h=n(8e3),p=n(61064),f=n(1912),m=n(34008),y=n(44153),g=n(87249),v=n(67488);const b=96,w=39.37,_=180/Math.PI;function S(e){return e.wkid?e:e.spatialReference||y.A.WGS84}function x(e,t){return t.type?(0,u.hZ)(e,t.x,t.y):(0,u.C)(e,t)}function M(e){return(0,s.GA)(e)}function A(e,t,n=0){let r=e.width,i=e.height;if(0!==n){const t=(0,o.kU)(n),s=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t));r=e.width*s+e.height*a,i=e.width*a+e.height*s}const s=Math.max(1,t[0]),a=Math.max(1,t[1]);return Math.max(r/s,i/a)*function(e){return(0,v.fn)(e)?M(e)*w*b:1}(e.spatialReference)}async function T(e,t,n,r){let o,s;if(!e)return null;if(Array.isArray(e)&&!e.length)return null;if(i.A.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&"object"==typeof e[0]){const i=e.every((e=>"attributes"in e)),o=e.some((e=>!e.geometry));let s=e;if(i&&o&&t&&t.allLayerViews){const n=new Map;for(const t of e){const e=t.layer,r=n.get(e)||[],i=t.attributes[e.objectIdField];null!=i&&r.push(i),n.set(e,r)}const r=[];n.forEach(((e,n)=>{const i=t.allLayerViews?.find((e=>e.layer.id===n.id));if(i&&"queryFeatures"in i){const t=n.createQuery();t.objectIds=e,t.returnGeometry=!0,r.push(i.queryFeatures(t))}}));const i=await Promise.all(r),o=[];for(const e of i)if(e&&e.features&&e.features.length)for(const t of e.features)null!=t.geometry&&o.push(t.geometry);s=o}for(const e of s)r=await T(e,t,n,r);return r}if(Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1])o=new f.A(e);else if(e instanceof p.A)o=e;else if("geometry"in e)if(e.geometry)o=e.geometry;else if(e.layer){const n=e.layer,r=t.allLayerViews?.find((e=>e.layer.id===n.id));if(r&&"queryFeatures"in r){const t=n.createQuery();t.objectIds=[e.attributes[n.objectIdField]],t.returnGeometry=!0;const i=await r.queryFeatures(t);o=i?.features?.[0]?.geometry}}if(null==o)return null;switch(o.type){case"point":s=new h.A({xmin:o.x,ymin:o.y,xmax:o.x,ymax:o.y,spatialReference:o.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":s=(0,g.Hr)(o);break;default:s=o.extent}if(!s)return null;(0,m.isLoaded)()||(0,m.canProjectWithoutEngine)(s.spatialReference,n)||await(0,m.load)();const a=(0,m.project)(s,n);if(!a)return null;if(r){const e=a.center,t=e.clone();t.x=(0,g.O7)(e.x,r.center.x,n),t.x!==e.x&&a.centerAt(t),r=r.union(a)}else r=a;return r}function I(e,t){const n=S(e);return(0,v.aI)(n,t)||n.imageCoordinateSystem||t.imageCoordinateSystem?e:(0,m.project)(e,t)}async function C(e,t){if(!e||!t)return new r.A({targetGeometry:new f.A,scale:0,rotation:0});let n=t.spatialReference;const{constraints:i,padding:o,viewpoint:s,size:a}=t,l=[o?a[0]-o.left-o.right:a[0],o?a[1]-o.top-o.bottom:a[1]];let c=null;e instanceof r.A?c=e:e.viewpoint?c=e.viewpoint:e.target&&"esri.Viewpoint"===e.target.declaredClass&&(c=e.target);let u=null;c?.targetGeometry?u=c.targetGeometry:e instanceof h.A?u=e:e instanceof p.A?u=await T(e,t,n):e&&(u=await T(e.center,t,n)||await T(e.target,t,n)||await T(e,t,n)),!u&&s?.targetGeometry?u=s.targetGeometry:!u&&t.extent&&(u=t.extent),n||(n=S(t.spatialReference||t.extent||u)),(0,m.isLoaded)()||(0,v.aI)(u.spatialReference,n)||(0,m.canProjectWithoutEngine)(u.spatialReference,n)||await(0,m.load)();const d=I(u,n),y="center"in d?d.center:d;!1!==t.pickClosestTarget&&"point"===y.type&&"point"===s.targetGeometry?.type&&(y.x=(0,g.O7)(y.x,s.targetGeometry.x,y.spatialReference));let b=0;c?b=c.rotation:e.hasOwnProperty("rotation")?b=e.rotation:s&&(b=s.rotation);let w=0;w=null!=c?.targetGeometry&&"point"===c.targetGeometry.type?c.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&-1!==e.zoom&&i&&i.effectiveLODs?i.zoomToScale(e.zoom):Array.isArray(u)||"point"===u.type||"extent"===u.type&&0===u.width&&0===u.height?s.scale:A(I(u.extent,n),l,b);const _=function(e){if(e&&(!Array.isArray(e)||"number"!=typeof e[0])&&("object"==typeof e||Array.isArray(e)&&"object"==typeof e[0])){if("layer"in e&&null!=e.layer?.minScale&&null!=e.layer.maxScale){const t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every((e=>"layer"in e))){let t=0,n=0;for(const r of e){const e=r.layer;e?.minScale&&e.maxScale&&(t=e.minScale<t?e.minScale:t,n=e.maxScale>n?e.maxScale:n)}return t&&n?{min:t,max:n}:null}}}(e.target??e);_&&(_.min&&_.min<w?w=_.min:_.max&&_.max>w&&(w=_.max));let x=new r.A({targetGeometry:y,scale:w,rotation:b});return i&&(x=i.fit(x),i.constrainByGeometry(x),i.rotationEnabled||(x.rotation=s.rotation)),x}function E(e,t){const n=e.targetGeometry,r=t.targetGeometry;return n.x=r.x,n.y=r.y,n.spatialReference=r.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function k(e,t,n){return n?(0,u.hZ)(e,.5*(t[0]-n.right+n.left),.5*(t[1]-n.bottom+n.top)):(0,u.hs)(e,t,.5)}const P=function(){const e=(0,d.vt)();return function(t,n,r){const i=n.targetGeometry;x(e,i);const o=.5*L(n);return t.xmin=e[0]-o*r[0],t.ymin=e[1]-o*r[1],t.xmax=e[0]+o*r[0],t.ymax=e[1]+o*r[1],t.spatialReference=i.spatialReference,t}}();function R(e,t,n,r,i){return G(e,t,n.center),e.scale=A(n,r),i?.constraints?.constrain(e),e}const O=function(){const e=(0,d.vt)();return function(t,n,r){return(0,u.jb)(t,function(e,t){return(0,u.hs)(e,t,.5)}(t,n),k(e,n,r))}}(),N=function(){const e=(0,c.vt)(),t=(0,d.vt)();return function(n,r,i,o){const s=L(r),a=F(r);return(0,u.hZ)(t,s,s),(0,l.CV)(e,t),(0,l.e$)(e,e,a),(0,l.Tl)(e,e,O(t,i,o)),(0,l.Tl)(e,e,[0,o.top-o.bottom]),(0,u.hZ)(n,e[4],e[5])}}();function L(e){return e.scale*D(e.targetGeometry?.spatialReference)}function D(e){return(0,v.fn)(e)?1/(M(e)*w*b):1}function F(e){return(0,a.DF)(e.rotation)||0}const j=function(){const e=(0,d.vt)(),t=(0,d.vt)(),n=(0,d.vt)();return function(r,i,o,s,a,c){return(0,u.ze)(e,i),(0,u.hs)(t,o,.5*c),(0,u.hZ)(n,1/s*c,-1/s*c),(0,l.kN)(r,t),a&&(0,l.e$)(r,r,a),(0,l.hs)(r,r,n),(0,l.Tl)(r,r,e),r}}(),Z=function(){const e=(0,d.vt)();return function(t,n,r,i){const o=L(n),s=F(n);return x(e,n.targetGeometry),j(t,e,r,o,s,i)}}(),U=function(){const e=(0,d.vt)();return function(t,n,r,i){const o=L(n);return x(e,n.targetGeometry),j(t,e,r,o,0,i)}}();function z(e){const t=(0,v.Vp)(e);return t?t.valid[1]-t.valid[0]:0}function V(e,t){return Math.round(z(e)/t)}const B=function(){const e=(0,d.vt)(),t=(0,d.vt)(),n=[0,0,0];return function(r,i,o){(0,u.Re)(e,r,i),(0,u.S8)(e,e),(0,u.Re)(t,r,o),(0,u.S8)(t,t),(0,u.$A)(n,e,t);let s=Math.acos((0,u.Om)(e,t)/((0,u.Bw)(e)*(0,u.Bw)(t)))*_;return n[2]<0&&(s=-s),isNaN(s)&&(s=0),s}}(),$=function(){const e=(0,d.vt)();return function(t,n,r,i){const o=t.targetGeometry;return E(t,n),N(e,n,r,i),o.x+=e[0],o.y+=e[1],t}}(),G=function(e,t,n){E(e,t);const r=e.targetGeometry;return r.x=n.x,r.y=n.y,r.spatialReference=n.spatialReference,e},q=function(){const e=(0,d.vt)();return function(t,n,r,i,o){o||(o="center"),(0,u.jb)(e,r,i),(0,u.hs)(e,e,.5);const s=e[0],a=e[1];switch(o){case"center":(0,u.hZ)(e,0,0);break;case"left":(0,u.hZ)(e,-s,0);break;case"top":(0,u.hZ)(e,0,a);break;case"right":(0,u.hZ)(e,s,0);break;case"bottom":(0,u.hZ)(e,0,-a);break;case"top-left":(0,u.hZ)(e,-s,a);break;case"bottom-left":(0,u.hZ)(e,-s,-a);break;case"top-right":(0,u.hZ)(e,s,a);break;case"bottom-right":(0,u.hZ)(e,s,-a)}return te(t,n,e),t}}();function H(e,t,n){return E(e,t),e.rotation+=n,e}function W(e,t,n){return E(e,t),e.rotation=n,e}const J=function(){const e=(0,d.vt)();return function(t,n,r,i,o){return E(t,n),isNaN(r)||0===r||(Q(e,i,n,o),t.scale=n.scale*r,ee(e,e,t,o),te(t,t,(0,u.hZ)(e,e[0]-i[0],i[1]-e[1]))),t}}();function K(e,t,n){return E(e,t),e.scale=n,e}const Y=function(){const e=(0,d.vt)();return function(t,n,r,i,o,s){return E(t,n),isNaN(r)||0===r||(Q(e,o,n,s),t.scale=n.scale*r,t.rotation+=i,ee(e,e,t,s),te(t,t,(0,u.hZ)(e,e[0]-o[0],o[1]-e[1]))),t}}(),X=function(){const e=(0,d.vt)(),t=(0,d.vt)();return function(n,r,i,o,s,a,l){return O(t,a,l),(0,u.WQ)(e,s,t),o?Y(n,r,i,o,e,a):J(n,r,i,e,a)}}(),Q=function(){const e=(0,c.vt)();return function(t,n,r,i){return(0,u.l0)(t,n,function(e,t,n,r){return Z(e,t,n,r),(0,l.B8)(e,e)}(e,r,i,1))}}(),ee=function(){const e=(0,c.vt)();return function(t,n,r,i){return(0,u.l0)(t,n,Z(e,r,i,1))}}(),te=function(){const e=(0,d.vt)(),t=(0,c.vt)();return function(n,r,i){E(n,r);const o=L(r),s=n.targetGeometry;return(0,l.$0)(t,F(r)),(0,l.hs)(t,t,(0,d.fA)(o,o)),(0,u.l0)(e,i,t),s.x+=e[0],s.y+=e[1],n}}()},86833:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(72396);let l=r=class extends a.A{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new r({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};(0,i._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"text",void 0),(0,i._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"textFormat",void 0),(0,i._)([(0,o.MZ)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],l.prototype,"type",void 0),l=r=(0,i._)([(0,s.$)("esri.form.elements.TextElement")],l);const c=l},86924:function(e,t,n){"use strict";n.d(t,{$Q:function(){return O},$i:function(){return Z},AB:function(){return u},Ew:function(){return v},Hx:function(){return y},IB:function(){return r},J$:function(){return D},LY:function(){return A},QF:function(){return j},UK:function(){return m},Wb:function(){return i},Wt:function(){return M},Wy:function(){return d},XU:function(){return x},bL:function(){return g},dK:function(){return S},eH:function(){return f},et:function(){return c},lD:function(){return L},qL:function(){return p},z$:function(){return C},z7:function(){return I},zg:function(){return h}});var r,i,o,s=n(4506),a=n(83371),l=n(6246);(o=r||(r={}))[o.matchAny=0]="matchAny",o[o.matchAll=1]="matchAll",function(e){e[e.bestMatch=0]="bestMatch",e[e.fail=1]="fail"}(i||(i={}));const c=9;function u(e){return null!=e&&e.pixels?.length>0}function d(e){if(!e?.length||e.some((e=>!u(e))))return null;if(1===e.length)return e[0]?.clone()??null;const t=e,{width:n,height:r,pixelType:i}=t[0];if(t.some((e=>e.width!==n||e.height!==r)))return null;const o=t.map((({mask:e})=>e)).filter((e=>null!=e));let s=null;o.length&&(s=new Uint8Array(n*r),s.set(o[0]),o.length>1&&_(o.slice(1),s));const l=[];t.forEach((({pixels:e})=>l.push(...e)));const c=t.map((({statistics:e})=>e)).filter((e=>e?.length)),d=[];return c.forEach((e=>d.push(...e))),new a.A({pixelType:i,width:n,height:r,mask:s,pixels:l,statistics:d.length?d:null})}function h(e){if(!e)return;const t=e.colormap;if(!t||0===t.length)return;const n=t.sort(((e,t)=>e[0]-t[0])),r=n[0][0]<0?n[0][0]:0,i=Math.max(256,n[n.length-1][0]-r+1),o=new Uint8Array(4*i),s=[],a=5===n[0].length;if(i>65536)return n.forEach((e=>{s[e[0]-r]=a?e.slice(1):e.slice(1).concat([255])})),{indexed2DColormap:s,offset:r,alphaSpecified:a};if(e.fillUnspecified){let e=n[0];for(let t=e[0]-r,s=0;t<i;t++)o[4*t]=e[1],o[4*t+1]=e[2],o[4*t+2]=e[3],o[4*t+3]=a?e[4]:255,t===e[0]-r&&(e=s===n.length-1?e:n[++s])}else for(let e=0;e<n.length;e++){const t=n[e],i=4*(t[0]-r);o[i]=t[1],o[i+1]=t[2],o[i+2]=t[3],o[i+3]=a?t[4]:255}return{indexedColormap:o,offset:r,alphaSpecified:a}}function p(e,t){if(!u(e))return e;if(!t||!t.indexedColormap&&!t.indexed2DColormap)return e;const n=e.clone(),r=n.pixels;let i=n.mask;const o=n.width*n.height;if(1!==r.length)return e;const{indexedColormap:s,indexed2DColormap:a,offset:l,alphaSpecified:c}=t,d=r[0],h=new Uint8Array(d.length),p=new Uint8Array(d.length),f=new Uint8Array(d.length);let m,y=0;if(s){const e=s.length-1;if(null!=i)for(let t=0;t<o;t++)i[t]&&(y=4*(d[t]-l),y<l||y>e?i[t]=0:(h[t]=s[y],p[t]=s[y+1],f[t]=s[y+2],i[t]=s[y+3]));else{i=new Uint8Array(o);for(let t=0;t<o;t++)y=4*(d[t]-l),y<l||y>e?i[t]=0:(h[t]=s[y],p[t]=s[y+1],f[t]=s[y+2],i[t]=s[y+3]);n.mask=i}}else if(a)if(null!=i)for(let e=0;e<o;e++)i[e]&&(m=a[d[e]],h[e]=m[0],p[e]=m[1],f[e]=m[2],i[e]=m[3]);else{i=new Uint8Array(o);for(let e=0;e<o;e++)m=a[d[e]],h[e]=m[0],p[e]=m[1],f[e]=m[2],i[e]=m[3];n.mask=i}return n.pixels=[h,p,f],n.statistics=null,n.pixelType="u8",n.maskIsAlpha=c,n}function f(e,t){if(!u(e))return null;const{pixels:n,mask:r}=e,i=n.length;let o=t.lut;const{offset:s}=t;o&&1===o[0].length&&(o=n.map((()=>o)));const l=[],c=t.outputPixelType||"u8";for(let e=0;e<i;e++){const t=m(n[e],r,o[e],s||0,c);l.push(t)}const d=new a.A({width:e.width,height:e.height,pixels:l,mask:r,pixelType:c});return d.updateStatistics(),d}function m(e,t,n,r,i){const o=e.length,s=a.A.createEmptyBand(i,o);if(t)for(let i=0;i<o;i++)t[i]&&(s[i]=n[e[i]-r]);else for(let t=0;t<o;t++)s[t]=n[e[t]-r];return s}function y(e,t){if(!u(e))return null;const n=e.clone(),{pixels:r}=n,i=n.width*n.height,o=t.length,s=Math.floor(o/2),a=t[Math.floor(s)],l=r[0],c=new Uint8Array(i),d=new Uint8Array(i),h=new Uint8Array(i);let p=n.mask;const f=4===t[0].mappedColor.length;p||(p=new Uint8Array(i),p.fill(f?255:1),n.mask=p);for(let e=0;e<i;e++)if(p[e]){const n=l[e];let r=!1,i=s,u=a,f=0,m=o-1;for(;m-f>1;){if(n===u.value){r=!0;break}n>u.value?f=i:m=i,i=Math.floor((f+m)/2),u=t[Math.floor(i)]}r||(n===t[f].value?(u=t[f],r=!0):n===t[m].value?(u=t[m],r=!0):n<t[f].value?r=!1:n>t[f].value&&(n<t[m].value?(u=t[f],r=!0):m===o-1?r=!1:(u=t[m],r=!0))),r?(c[e]=u.mappedColor[0],d[e]=u.mappedColor[1],h[e]=u.mappedColor[2],p[e]=u.mappedColor[3]):c[e]=d[e]=h[e]=p[e]=0}return n.pixels=[c,d,h],n.mask=p,n.pixelType="u8",n.maskIsAlpha=f,n}function g(e,t,n=!1){const r=1e-5,i=new Float32Array(3*c),o=t.length;for(let a=0;a<c;a++)i[3*a]=e[2*a]??s.pq-1,i[3*a+1]=e[2*a+1]??s.pq,i[3*a+2]=t[a]??0,a<o&&(a>0&&(i[3*a]-=r),e[2*a+1]!==e[2*a]&&(a<o-1||!n)&&(i[3*a+1]-=r));return i}function v(e,t){if(!u(e))return null;const{width:n,height:r}=e,{inputRanges:i,outputValues:o,outputPixelType:s,noDataRanges:c,allowUnmatched:d,replacementValue:h,isLastInputRangeInclusive:p}=t,f=e.pixels[0],m=a.A.createEmptyBand(s,f.length),y=e.mask,g=new Uint8Array(n*r);y?g.set(y):g.fill(255);const v=e.pixelType.startsWith("f")?1e-6:0,b=i.map((e=>e-v));b[0]=i[0],b[b.length-1]=i[i.length-1]+(p?1e-6:0);const w=i.length/2,[_,S]=(0,l.hP)(s);for(let e=0;e<r;e++)for(let t=0;t<n;t++){const r=e*n+t;if(g[r]){const e=f[r];let t=!1;for(let n=w-1;n>=0;n--)if(e===i[2*n]||e>b[2*n]&&e<b[2*n+1]){m[r]=o[n],t=!0;break}t||(d?m[r]=e>S?S:e<_?_:h??e:g[r]=0)}}const x=c?.length;if(x)for(let e=0;e<r;e++)for(let t=0;t<n;t++){const r=e*n+t;if(!y||y[r]){const e=f[r];for(let t=0;t<x;t+=2)if(e>=c[t]&&e<=c[t+1]){m[r]=0,g[r]=0;break}}}return new a.A({width:n,height:r,pixelType:s,pixels:[m],mask:g})}function b(e,t,n,r){const i=null!=n&&n.length>=2?new Set(n):null,o=1===n?.length?n[0]:null,s=!!t?.length;for(let n=0;n<e.length;n++)if(r[n]){const a=e[n];if(s){let e=!1;for(let n=0;n<t.length;n+=2)if(a>=t[n]&&a<=t[n+1]){e=!0;break}e||(r[n]=0)}r[n]&&(a===o||i?.has(a))&&(r[n]=0)}}function w(e,t){const n=e[0].length;for(let r=0;r<n;r++)if(t[r]){let n=!1;for(let t=0;t<e.length;t++)if(e[t][r]){n=!0;break}n||(t[r]=0)}}function _(e,t){const n=e[0].length;for(let r=0;r<n;r++)if(t[r]){let n=!1;for(let t=0;t<e.length;t++)if(0===e[t][r]){n=!0;break}n&&(t[r]=0)}}function S(e,t){if(!u(e))return null;const{width:n,height:r,pixels:i}=e,o=n*r,s=new Uint8Array(o);e.mask?s.set(e.mask):s.fill(255);const l=i.length,{includedRanges:c,noDataValues:d,outputPixelType:h,matchAll:p,lookups:f}=t;if(f){const e=[];for(let t=0;t<l;t++){const n=f[t],r=m(i[t],s,n.lut,n.offset||0,"u8");e.push(r)}1===e.length?s.set(e[0]):p?w(e,s):_(e,s)}else if(p){const e=[];for(let t=0;t<l;t++){const n=new Uint8Array(o);n.set(s),b(i[t],c?.slice(2*t,2*t+2),d?.[t],n),e.push(n)}1===e.length?s.set(e[0]):w(e,s)}else for(let e=0;e<l;e++)b(i[e],c?.slice(2*e,2*e+2),d?.[e],s);return new a.A({width:n,height:r,pixelType:h,pixels:i,mask:s})}function x(e){const{srcPixelType:t,inputRanges:n,outputValues:r,allowUnmatched:i,noDataRanges:o,isLastInputRangeInclusive:s,outputPixelType:c}=e;if("u8"!==t&&"s8"!==t&&"u16"!==t&&"s16"!==t)return null;const u=t.includes("16")?65536:256,d=t.includes("s")?-u/2:0,h=a.A.createEmptyBand(c,u),p=new Uint8Array(u);i&&p.fill(255);const[f,m]=(0,l.hP)(c);if(n?.length&&r?.length){const e=1e-6,t=n.map((t=>t-e));t[0]=n[0],s&&(t[t.length-1]=n[n.length-1]);for(let e=0;e<t.length;e++){const i=r[e]>m?m:r[e]<f?f:r[e],o=Math.ceil(t[2*e]-d),s=n[2*e+1]===n[2*e]?o:Math.floor(t[2*e+1]-d);for(let e=o;e<=s;e++)h[e]=i,p[e]=255}}if(o?.length)for(let e=0;e<o.length;e++){const t=Math.ceil(o[2*e]-d),n=Math.floor(o[2*e+1]-d);for(let e=t;e<=n;e++)p[e]=0}return{lut:h,offset:d,mask:p}}function M(e,t,n){if("u8"!==e&&"s8"!==e&&"u16"!==e&&"s16"!==e)return null;const r=e.includes("16")?65536:256,i=e.includes("s")?-r/2:0,o=new Uint8Array(r);if(t)for(let e=0;e<t.length;e++){const n=Math.ceil(t[2*e]-i),r=Math.floor(t[2*e+1]-i);for(let e=n;e<=r;e++)o[e]=255}else o.fill(255);if(n)for(let e=0;e<n.length;e++)o[n[e]-i]=0;return{lut:o,offset:i}}function A(e,t){if(!e||0===e.length)return null;const n=e.find((e=>e.pixelBlock));if(null==n?.pixelBlock)return null;const r=(n.extent.xmax-n.extent.xmin)/n.pixelBlock.width,i=(n.extent.ymax-n.extent.ymin)/n.pixelBlock.height,o=.01*Math.min(r,i),s=e.sort(((e,t)=>Math.abs(e.extent.ymax-t.extent.ymax)>o?t.extent.ymax-e.extent.ymax:Math.abs(e.extent.xmin-t.extent.xmin)>o?e.extent.xmin-t.extent.xmin:0)),a=Math.min.apply(null,s.map((e=>e.extent.xmin))),l=Math.min.apply(null,s.map((e=>e.extent.ymin))),c=Math.max.apply(null,s.map((e=>e.extent.xmax))),u=Math.max.apply(null,s.map((e=>e.extent.ymax))),d={x:Math.round((t.xmin-a)/r),y:Math.round((u-t.ymax)/i)},h={width:Math.round((c-a)/r),height:Math.round((u-l)/i)},p={width:Math.round((t.xmax-t.xmin)/r),height:Math.round((t.ymax-t.ymin)/i)};return Math.round(h.width/n.pixelBlock.width)*Math.round(h.height/n.pixelBlock.height)!==s.length||d.x<0||d.y<0||h.width<p.width||h.height<p.height?null:{extent:t,pixelBlock:I(s.map((e=>e.pixelBlock)),h,{clipOffset:d,clipSize:p})}}function T(e,t,n,r,i,o){const{width:s,height:a}=n.block,{x:l,y:c}=n.offset,{width:u,height:d}=n.mosaic,h=function(e,t,n,r,i,o,s,a){return{xmin:i<=n*e?0:i<n*e+e?i-n*e:e,ymin:o<=r*t?0:o<r*t+t?o-r*t:t,xmax:i+s<=n*e?0:i+s<n*e+e?i+s-n*e:e,ymax:o+a<=r*t?0:o+a<r*t+t?o+a-r*t:t}}(s,a,r,i,l,c,u,d);let p=0,f=0;if(o){const e=o.hasGCSSShiftTransform?360:o.halfWorldWidth??0,t=s*o.resolutionX,n=o.startX+r*t;n<e&&n+t>e?f=o.rightPadding:n>=e&&(p=o.leftMargin-o.rightPadding,f=0)}if(h.xmax-=f,"number"!=typeof t)for(let n=h.ymin;n<h.ymax;n++){const o=(i*a+n-c)*u+(r*s-l)+p,d=n*s;for(let n=h.xmin;n<h.xmax;n++)e[o+n]=t[d+n]}else for(let n=h.ymin;n<h.ymax;n++){const o=(i*a+n-c)*u+(r*s-l)+p;for(let n=h.xmin;n<h.xmax;n++)e[o+n]=t}}function I(e,t,n={}){const{clipOffset:r,clipSize:i,alignmentInfo:o,blockWidths:s}=n;if(s)return function(e,t,n){const r=e.find((e=>null!=e));if(null==r)return null;const i=e.some((e=>null==e||!!e.mask)),{width:o,height:s}=t,l=i?new Uint8Array(o*s):null,{blockWidths:c}=n,d=[],h=r.getPlaneCount(),p=a.A.getPixelArrayConstructor(r.pixelType);if(i)for(let t=0,n=0;t<e.length;n+=c[t],t++){const r=e[t];if(!u(r))continue;const i=r.mask;for(let e=0;e<s;e++)for(let s=0;s<c[t];s++)l[e*o+s+n]=null==i?255:i[e*r.width+s]}const f=e.some((e=>e?.bandMasks&&e.bandMasks.length>1)),m=f?[]:void 0,y=o*s;for(let t=0;t<h;t++){const n=new p(y),r=f?new Uint8Array(y):void 0;for(let i=0,a=0;i<e.length;a+=c[i],i++){const l=e[i];if(!u(l))continue;const d=l.pixels[t];if(null!=d){for(let e=0;e<s;e++)for(let t=0;t<c[i];t++)n[e*o+t+a]=d[e*l.width+t];if(r){const e=l.bandMasks?.[t]??l.mask;for(let t=0;t<s;t++)for(let n=0;n<c[i];n++)r[t*o+n+a]=e?e[t*l.width+n]:255}}}d.push(n),m&&r&&m.push(r)}const g=new a.A({width:o,height:s,mask:l,bandMasks:m,pixels:d,pixelType:r.pixelType});return g.updateStatistics(),g}(e,t,{blockWidths:s});const l=e.find((e=>u(e)));if(null==l)return null;const c=i?i.width:t.width,d=i?i.height:t.height,h=l.width,p=l.height,f=t.width/h,m=t.height/p,y={offset:r||{x:0,y:0},mosaic:i||t,block:{width:h,height:p}},g=l.pixelType,v=a.A.getPixelArrayConstructor(g),b=l.pixels.length,w=[];let _,S;for(let t=0;t<b;t++){S=new v(c*d);for(let n=0;n<m;n++)for(let r=0;r<f;r++){const i=e[n*f+r];u(i)&&(_=i.pixels[t],T(S,_,y,r,n,o))}w.push(S)}const x=e.some((e=>null==e||null!=e.mask&&e.mask.length>0)),M=e.some((e=>e?.bandMasks&&e.bandMasks.length>1)),A=x?new Uint8Array(c*d):void 0,I=M?[]:void 0;if(A){for(let t=0;t<m;t++)for(let n=0;n<f;n++){const r=e[t*f+n],i=null!=r?r.mask:null;T(A,null!=i?i:r?255:0,y,n,t,o)}if(I)for(let t=0;t<b;t++){const n=new Uint8Array(c*d);for(let r=0;r<m;r++)for(let i=0;i<f;i++){const s=e[r*f+i],a=s?.bandMasks?.[t]??s?.mask;T(n,null!=a?a:s?255:0,y,i,r,o)}I.push(n)}}const C=new a.A({width:c,height:d,pixels:w,pixelType:g,bandMasks:I,mask:A});return C.updateStatistics(),C}function C(e,t,n){if(!u(e))return null;const{width:r,height:i}=e,o=t.x,s=t.y,a=n.width+o,l=n.height+s;if(o<0||s<0||a>r||l>i)return e;if(0===o&&0===s&&a===r&&l===i)return e;e.mask||(e.mask=new Uint8Array(r*i));const c=e.mask;for(let e=0;e<i;e++){const t=e*r;for(let n=0;n<r;n++)c[t+n]=e<s||e>=l||n<o||n>=a?0:1}return e.updateStatistics(),e}function E(e){if(!u(e))return null;const t=e.clone(),{width:n,height:r,pixels:i}=e,o=i[0],s=t.pixels[0],a=e.mask;for(let e=2;e<r-1;e++){const t=new Map;for(let r=e-2;r<e+2;r++)for(let e=0;e<4;e++){const i=r*n+e;R(t,o[i],a?a[i]:1)}s[e*n]=k(t),s[e*n+1]=s[e*n+2]=s[e*n];let r=3;for(;r<n-1;r++){let i=(e-2)*n+r+1;R(t,o[i],a?a[i]:1),i=(e-1)*n+r+1,R(t,o[i],a?a[i]:1),i=e*n+r+1,R(t,o[i],a?a[i]:1),i=(e+1)*n+r+1,R(t,o[i],a?a[i]:1),i=(e-2)*n+r-3,P(t,o[i],a?a[i]:1),i=(e-1)*n+r-3,P(t,o[i],a?a[i]:1),i=e*n+r-3,P(t,o[i],a?a[i]:1),i=(e+1)*n+r-3,P(t,o[i],a?a[i]:1),s[e*n+r]=k(t)}s[e*n+r+1]=s[e*n+r]}for(let e=0;e<n;e++)s[e]=s[n+e]=s[2*n+e],s[(r-1)*n+e]=s[(r-2)*n+e];return t.updateStatistics(),t}function k(e){if(0===e.size)return 0;let t=0,n=-1,r=0;const i=e.keys();let o=i.next();for(;!o.done;)r=e.get(o.value),r>t&&(n=o.value,t=r),o=i.next();return n}function P(e,t,n){if(0===n)return;const r=e.get(t);1===r?e.delete(t):e.set(t,r-1)}function R(e,t,n){0!==n&&e.set(t,e.has(t)?e.get(t)+1:1)}function O(e,t,n){let{x:r,y:i}=t;const{width:o,height:s}=n;if(0===r&&0===i&&s===e.height&&o===e.width)return e;const{width:l,height:c}=e,d=Math.max(0,i),h=Math.max(0,r),p=Math.min(r+o,l),f=Math.min(i+s,c);if(p<0||f<0||!u(e))return null;r=Math.max(0,-r),i=Math.max(0,-i);const{pixels:m}=e,y=o*s,g=m.length,v=[];for(let t=0;t<g;t++){const n=m[t],s=a.A.createEmptyBand(e.pixelType,y);for(let e=d;e<f;e++){const t=e*l;let a=(e+i-d)*o+r;for(let e=h;e<p;e++)s[a++]=n[t+e]}v.push(s)}const b=new Uint8Array(y),w=e.mask;for(let e=d;e<f;e++){const t=e*l;let n=(e+i-d)*o+r;for(let e=h;e<p;e++)b[n++]=w?w[t+e]:1}const _=new a.A({width:n.width,height:n.height,pixelType:e.pixelType,pixels:v,mask:b});return _.updateStatistics(),_}function N(e,t=!0){if(!u(e))return null;const{pixels:n,width:r,height:i,mask:o,pixelType:s}=e,l=[],c=Math.round(r/2),d=Math.round(i/2),h=i-1,p=r-1;for(let e=0;e<n.length;e++){const o=n[e],u=a.A.createEmptyBand(s,c*d);let f=0;for(let e=0;e<i;e+=2)for(let n=0;n<r;n+=2){const i=o[e*r+n];if(t){const t=n===p?i:o[e*r+n+1],s=e===h?i:o[e*r+n+r],a=n===p?s:e===h?t:o[e*r+n+r+1];u[f++]=(i+t+s+a)/4}else u[f++]=i}l.push(u)}let f=null;if(null!=o){f=new Uint8Array(c*d);let e=0;for(let n=0;n<i;n+=2)for(let i=0;i<r;i+=2){const s=o[n*r+i];if(t){const t=i===p?s:o[n*r+i+1],a=n===h?s:o[n*r+i+r],l=i===p?a:n===h?t:o[n*r+i+r+1];f[e++]=s*t*a*l?1:0}else f[e++]=s}}return new a.A({width:c,height:d,pixelType:s,pixels:l,mask:f})}function L(e,t,n=0,r=!0){if(!u(e))return null;const{width:i,height:o}=t;let{width:s,height:a}=e;const l=new Map,c={x:0,y:0},d=1+n;let h=e;for(let e=0;e<d;e++){const n=Math.ceil(s/i),u=Math.ceil(a/o);for(let r=0;r<u;r++){c.y=r*o;for(let o=0;o<n;o++){c.x=o*i;const n=O(h,c,t);l.set(`${e}/${r}/${o}`,n)}}e<d-1&&(h=N(h,r)),s=Math.round(s/2),a=Math.round(a/2)}return l}function D(e){const{pixelBlock:t,tileSize:n,level:r,row:i,col:o,useBilinear:s}=e;if(!u(t))return null;const{width:a,height:l}=n,c=2**r,d=c*a,h=c*l;let p=O(t,{y:i*h,x:o*d},{width:d,height:h});if(!p)return null;for(let e=r;e>0;e--)p=N(p,s);return p}function F(e,t,n,r,i=0){const{width:o,height:s}=e,{width:a,height:l}=t,c=r.cols,u=r.rows,d=Math.ceil(a/c-.1/c),h=Math.ceil(l/u-.1/u);let p,f,m,y,g,v,b;const w=d*c,_=w*h*u,S=new Float32Array(_),x=new Float32Array(_),M=new Uint32Array(_),A=new Uint32Array(_);let T,I,C=0;for(let e=0;e<h;e++)for(let t=0;t<d;t++){p=12*(e*d+t),f=n[p],m=n[p+1],y=n[p+2],g=n[p+3],v=n[p+4],b=n[p+5];for(let n=0;n<u;n++){C=(e*u+n)*w+t*c,I=(n+.5)/u;for(let e=0;e<n;e++)T=(e+.5)/c,S[C+e]=(f*T+m*I+y)*o+i,x[C+e]=(g*T+v*I+b)*s+i,M[C+e]=Math.floor(S[C+e]),A[C+e]=Math.floor(x[C+e])}p+=6,f=n[p],m=n[p+1],y=n[p+2],g=n[p+3],v=n[p+4],b=n[p+5];for(let n=0;n<u;n++){C=(e*u+n)*w+t*c,I=(n+.5)/u;for(let e=n;e<c;e++)T=(e+.5)/c,S[C+e]=(f*T+m*I+y)*o+i,x[C+e]=(g*T+v*I+b)*s+i,M[C+e]=Math.floor(S[C+e]),A[C+e]=Math.floor(x[C+e])}}return{offsets_x:S,offsets_y:x,offsets_xi:M,offsets_yi:A,gridWidth:w}}function j(e,t){const{coefficients:n,spacing:r}=t,{offsets_x:i,offsets_y:o,gridWidth:s}=F(e,e,n,{rows:r[0],cols:r[1]}),{width:a,height:l}=e,c=new Float32Array(a*l),u=180/Math.PI;for(let e=0;e<l;e++)for(let t=0;t<a;t++){const n=e*s+t,r=0===e?n:n-s,d=e===l-1?n:n+s,h=i[r]-i[d],p=o[d]-o[r];if(isNaN(h)||isNaN(p))c[e*a+t]=90;else{let n=Math.atan2(p,h)*u;n=(360+n)%360,c[e*a+t]=n}}return c}function Z(e,t,n,r,i="nearest"){if(!u(e))return null;"majority"===i&&(e=E(e));const{pixels:o,mask:s,bandMasks:l,pixelType:c}=e,d=e.width,h=e.height,p=a.A.getPixelArrayConstructor(c),f=o.length,{width:m,height:y}=t;let g=!1;for(let e=0;e<n.length;e+=3)-1===n[e]&&-1===n[e+1]&&-1===n[e+2]&&(g=!0);const{offsets_x:v,offsets_y:b,offsets_xi:w,offsets_yi:_,gridWidth:S}=F({width:d,height:h},t,n,r,"majority"===i?.5:0);let x;const M=(e,t,n,r)=>{const i=e instanceof Float32Array||e instanceof Float64Array?0:.5;for(let o=0;o<y;o++){x=o*S;for(let s=0;s<m;s++){if(v[x]<0||b[x]<0)e[o*m+s]=0;else if(r)e[o*m+s]=t[w[x]+_[x]*d];else{const r=Math.floor(v[x]),a=Math.floor(b[x]),l=Math.ceil(v[x]),c=Math.ceil(b[x]),u=v[x]-r,h=b[x]-a;if(!n||n[r+a*d]&&n[l+a*d]&&n[r+c*d]&&n[l+c*d]){const n=(1-u)*t[r+a*d]+u*t[l+a*d],p=(1-u)*t[r+c*d]+u*t[l+c*d];e[o*m+s]=(1-h)*n+h*p+i}else e[o*m+s]=t[w[x]+_[x]*d]}x++}}},A=[];let T;const I=l?.length===f,C=[];for(let e=0;e<f;e++){if(I){const t=new Uint8Array(m*y);M(t,l[e],l[e],!0),C.push(t)}T=new p(m*y),M(T,o[e],I?l[e]:s,"nearest"===i||"majority"===i),A.push(T)}const k=new a.A({width:m,height:y,pixelType:c,pixels:A,bandMasks:I?C:void 0});if(null!=s)k.mask=new Uint8Array(m*y),M(k.mask,s,s,!0);else if(g){k.mask=new Uint8Array(m*y);for(let e=0;e<m*y;e++)k.mask[e]=v[e]<0||b[e]<0?0:1}return k.updateStatistics(),k}},87249:function(e,t,n){"use strict";n.d(t,{O7:function(){return T},Hr:function(){return A},el:function(){return M},mT:function(){return I},XX:function(){return w}});var r=n(32083),i=n(62991),o=n(80861),s=n(65648),a=n(38648),l=n(75981),c=n(67488),u=n(64672),d=n(38116),h=n(56053),p=n(36321);var f=n(19759),m=n(96905);const y=()=>o.A.getLogger("esri.geometry.support.normalizeUtils");function g(e){return"polygon"===e[0].type}function v(e){return"polyline"===e[0].type}function b(e){const t=[];let n=0,r=0;for(let i=0;i<e.length;i++){const o=e[i];let s=null;for(let e=0;e<o.length;e++)s=o[e],t.push(s),0===e?(n=s[0],r=n):(n=Math.min(n,s[0]),r=Math.max(r,s[0]));s&&t.push([(n+r)/2,0])}return t}function w(e,t){if(!(e instanceof a.A||e instanceof s.A)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw y().error(e),new i.A("internal:geometry",e)}const n=(0,l.r8)(e),r=[];for(const e of n){const n=[];r.push(n),n.push([e[0][0],e[0][1]]);for(let r=0;r<e.length-1;r++){const i=e[r][0],o=e[r][1],s=e[r+1][0],a=e[r+1][1],l=Math.sqrt((s-i)*(s-i)+(a-o)*(a-o)),c=(a-o)/l,u=(s-i)/l,d=l/t;if(d>1){for(let e=1;e<=d-1;e++){const r=e*t,s=u*r+i,a=c*r+o;n.push([s,a])}const e=(l+Math.floor(d-1)*t)/2,r=u*e+i,s=c*e+o;n.push([r,s])}n.push([s,a])}}return function(e){return"polygon"===e.type}(e)?new s.A({rings:r,spatialReference:e.spatialReference}):new a.A({paths:r,spatialReference:e.spatialReference})}function _(e,t,n){if(t){const t=w(e,1e6);e=(0,u.ci)(t,!0)}return n&&(e=(0,l.kS)(e,n)),e}function S(e,t,n){if(Array.isArray(e)){const r=e[0];if(r>t){const n=(0,l.kd)(r,t);e[0]=r+n*(-2*t)}else if(r<n){const t=(0,l.kd)(r,n);e[0]=r+t*(-2*n)}}else{const r=e.x;if(r>t){const n=(0,l.kd)(r,t);e=e.clone().offset(n*(-2*t),0)}else if(r<n){const t=(0,l.kd)(r,n);e=e.clone().offset(t*(-2*n),0)}}return e}function x(e,t){let n=-1;for(let r=0;r<t.cutIndexes.length;r++){const i=t.cutIndexes[r],o=t.geometries[r],s=(0,l.r8)(o);for(let e=0;e<s.length;e++){const t=s[e];t.some((n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){const r=t[e][0];n=r>n?r:n}n=Number(n.toFixed(9));const r=-360*(0,l.kd)(n,180);for(let n=0;n<t.length;n++){const t=o.getPoint(e,n);o.setPoint(e,n,t.clone().offset(r,0))}return!0}}))}if(i===n){if(g(e))for(const t of(0,l.r8)(o))e[i]=e[i].addRing(t);else if(v(e))for(const t of(0,l.r8)(o))e[i]=e[i].addPath(t)}else n=i,e[i]=o}return e}async function M(e,t,n){if(!Array.isArray(e))return M([e],t);t&&"string"!=typeof t&&y().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const i="string"==typeof t?t:t?.url??r.A.geometryServiceUrl;let o,g,v,b,w,A,T,I,C=0;const E=[],k=[];for(const t of e)if(null!=t)if(o||(o=t.spatialReference,g=(0,c.Vp)(o),v=o.isWebMercator,A=v?102100:4326,b=l.j7[A].maxX,w=l.j7[A].minX,T=l.j7[A].plus180Line,I=l.j7[A].minus180Line),g)if("mesh"===t.type)k.push(t);else if("point"===t.type)k.push(S(t.clone(),b,w));else if("multipoint"===t.type){const e=t.clone();e.points=e.points.map((e=>S(e,b,w))),k.push(e)}else if("extent"===t.type){const e=t.clone()._normalize(!1,!1,g);k.push(e.rings?new s.A(e):e)}else if(t.extent){const e=t.extent,n=(0,l.kd)(e.xmin,w)*(2*b);let r=0===n?t.clone():(0,l.kS)(t.clone(),n);e.offset(n,0);let{xmin:i,xmax:o}=e;i=Number(i.toFixed(9)),o=Number(o.toFixed(9)),e.intersects(T)&&o!==b?(C=o>C?o:C,r=_(r,v),E.push(r),k.push("cut")):e.intersects(I)&&i!==w?(C=o*(2*b)>C?o*(2*b):C,r=_(r,v,360),E.push(r),k.push("cut")):k.push(r)}else k.push(t.clone());else k.push(t);else k.push(t);let P=(0,l.kd)(C,b),R=-90;const O=P,N=new a.A;for(;P>0;){const e=360*P-180;N.addPath([[e,R],[e,-1*R]]),R*=-1,P--}if(E.length>0&&O>0){const t=x(E,await async function(e,t,n,r){const i=(0,p.Dl)(e),o=t[0].spatialReference,s={...r,responseType:"json",query:{...i.query,f:"json",sr:(0,c.YX)(o),target:JSON.stringify({geometryType:(0,h.$B)(t[0]),geometries:t}),cutter:JSON.stringify(n)}},a=await(0,d.A)(i.path+"/cut",s),{cutIndexes:l,geometries:u=[]}=a.data;return{cutIndexes:l,geometries:u.map((e=>{const t=(0,h.rS)(e);return t.spatialReference=o,t}))}}(i,E,N,n)),r=[],o=[];for(let n=0;n<k.length;n++){const i=k[n];if("cut"!==i)o.push(i);else{const i=t.shift(),s=e[n];null!=s&&"polygon"===s.type&&s.rings&&s.rings.length>1&&i.rings.length>=s.rings.length?(r.push(i),o.push("simplify")):o.push(v?(0,u.Gh)(i):i)}}if(!r.length)return o;const s=await async function(e,t,n){const r="string"==typeof e?(0,f.An)(e):e,i=t[0].spatialReference,o=(0,h.$B)(t[0]),s={...n,query:{...r.query,f:"json",sr:(0,c.YX)(i),geometries:JSON.stringify((0,m.X)(t))}},{data:a}=await(0,d.A)(r.path+"/simplify",s);return(0,m.V)(a.geometries,o,i)}(i,r,n),a=[];for(let e=0;e<o.length;e++){const t=o[e];"simplify"!==t?a.push(t):a.push(v?(0,u.Gh)(s.shift()):s.shift())}return a}const L=[];for(let e=0;e<k.length;e++){const t=k[e];if("cut"!==t)L.push(t);else{const e=E.shift();L.push(!0===v?(0,u.Gh)(e):e)}}return L}function A(e){if(!e)return null;const t=e.extent;if(!t)return null;const n=e.spatialReference&&(0,c.Vp)(e.spatialReference);if(!n)return t;const[r,i]=n.valid,o=2*i,{width:s}=t;let a,{xmin:l,xmax:u}=t;if([l,u]=[u,l],"extent"===e.type||0===s||s<=i||s>o||l<r||u>i)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;a=b(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;a=b(e.paths);break;case"multipoint":a=e.points}const d=t.clone();for(let e=0;e<a.length;e++){let t=a[e][0];t<0?(t+=i,u=Math.max(t,u)):(t-=i,l=Math.min(t,l))}return d.xmin=l,d.xmax=u,d.width<s?(d.xmin-=i,d.xmax-=i,d):t}function T(e,t,n){const r=(0,c.Vp)(n);if(null==r)return e;const[i,o]=r.valid,s=2*o;let a=0,l=0;t>o?a=Math.ceil(Math.abs(t-o)/s):t<i&&(a=-Math.ceil(Math.abs(t-i)/s)),e>o?l=Math.ceil(Math.abs(e-o)/s):e<i&&(l=-Math.ceil(Math.abs(e-i)/s));let u=e+(a-l)*s;const d=u-t;return d>o?u-=s:d<i&&(u+=s),u}function I(e,t){const n=(0,c.Vp)(t);if(n){const[t,r]=n.valid,i=r-t;if(e<t)for(;e<t;)e+=i;if(e>r)for(;e>r;)e-=i}return e}},87285:function(e,t,n){"use strict";function r(e,t){return new Proxy({},{get:(n,r,i)=>(...n)=>{let i,o;const s=n[n.length-1];return function(e){return"object"==typeof e&&!Array.isArray(e)&&null!=e&&("signal"in e||"transferList"in e||0===Object.keys(e).length)}(s)&&(i=s.signal,o=s.transferList,n.pop()),e.apply(t?`${t}.${r.toString()}`:r.toString(),n,{transferList:o,signal:i})}})}n.d(t,{L:function(){return r}})},87388:function(e,t,n){"use strict";n.d(t,{O:function(){return s},p:function(){return o}});var r=n(10805);const i=e=>parseFloat(e)/100;function o(e,t,n){const r="string"==typeof e.left?i(e.left)*t:e.left,o="string"==typeof e.right?i(e.right)*t:e.right,s="string"==typeof e.top?i(e.top)*n:e.top,a="string"==typeof e.bottom?i(e.bottom)*n:e.bottom,l=s;return{xmin:r,xmax:Math.max(t-o,r),ymin:l,ymax:Math.max(n-a,s)}}function s(e,t,n,i){switch(t.type){case"rect":{const{width:r,height:i}=e,{xmin:s,xmax:a,ymin:l,ymax:c}=o(t,r,i),{x:u,y:d}=n;return u>s&&u<a&&d>l&&d<c}case"path":return 0===t.path.length||!Array.isArray(t.path[0][0])||(0,r.t1)(t.path,[n.x,n.y]);case"geometry":return null==t.geometry||("polygon"===t.geometry.type?(0,r.m3)(t.geometry,i):(0,r.qz)(t.geometry,i))}}},87674:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,s.default)(1,arguments);var t=(0,i.default)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),(0,o.default)(n)};var i=r(n(55891)),o=r(n(20695)),s=r(n(10427));e.exports=t.default},87917:function(e,t,n){"use strict";n.d(t,{Rr:function(){return l},fY:function(){return u},ne:function(){return c}});var r=n(82392),i=n(21750),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(65681);function l(e,t,n){if(!e)return null;const r=e.find((e=>!!e.field));if(!r)return null;const i=new a.A;return i.read(r,n),[i]}const c={type:[a.A],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:l},write:{writer:function(e,t,n,r){const o=e.find((e=>!!e.field));o&&(0,i.sM)(n,[o.toJSON()],t)}}}},u=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return(0,r._)([(0,o.MZ)(c)],t.prototype,"orderBy",void 0),t=(0,r._)([(0,s.$)("esri.layers.mixins.OrderedLayer")],t),t}},88133:function(e,t,n){"use strict";n.r(t),n.d(t,{projectBuffer:function(){return i}});var r=n(99269);function i(e,t,n,i,o,s,a=Math.floor(e.length/3)){const l=(0,r.jd)(t,o);if(null==l)return!1;if(l===r.pO){if(e===i&&n===s)return!0;const t=n+3*a;for(let r=n,o=s;r<t;r++,o++)i[o]=e[r];return!0}const c=n+3*a;for(let t=n,r=s;t<c;t+=3,r+=3)l(e,t,i,r);return!0}},88135:function(e,t,n){"use strict";n.d(t,{CX:function(){return a},tD:function(){return o},z4:function(){return s}});var r=n(15565),i=n(66361);function o(e){let t=e.constructor.__accessorMetadata__;const n=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!n){t=Object.create(t);for(const e in t)t[e]=(0,r.o8)(t[e]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function s(e,t){const n=o(e);let r=n[t];return r||(r=n[t]={}),r}function a(e,t){return(0,i.h1)(e,t,c)}const l=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function c(e){return l.test(e)?"replace":"merge"}},88358:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(28208);class i{constructor(e=[],t=[]){this.lengths=e??[],this.coords=t??[]}static fromJSON(e){return new i(e.lengths,e.coords)}static fromRect(e){const[t,n,r,o]=e,s=r-t,a=o-n;return new i([5],[t,n,s,0,0,a,-s,0,0,-a])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((e,t)=>e+t))}get usedMemory(){return 64+(0,r.Qf)(this.lengths,this.coords)}area(){let e=0,t=0;if(!this.lengths.length)return 0;for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];if(r<3)continue;let i=this.coords[2*t],o=this.coords[2*t+1];for(let n=1;n<r;n+=1){const r=this.coords[2*(n+t)],s=this.coords[2*(n+t)+1];e+=-.5*(r-i)*(s+o),i=r,o=s}t+=r}return e}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];for(let n=0;n<r;n++)e(this.coords[2*(n+t)],this.coords[2*(n+t)+1]);t+=r}}deltaDecode(){const e=this.clone(),{coords:t,lengths:n}=e;let r=0;for(const e of n){for(let n=1;n<e;n++)t[2*(r+n)]+=t[2*(r+n)-2],t[2*(r+n)+1]+=t[2*(r+n)-1];r+=e}return e}clone(e){if(0===this.lengths.length)return new i([],[this.coords[0],this.coords[1]]);const t=2*(0===this.lengths.length?1:this.lengths.reduce(((e,t)=>e+t))),n=this.coords.slice(0,t);return e?(e.set(n),new i(this.lengths,e)):new i(Array.from(this.lengths),Array.from(n))}}},88416:function(e,t,n){"use strict";n.d(t,{R:function(){return s},e:function(){return a}});var r=n(68716),i=n(36442),o=n(73360);class s{constructor(e=0,t=e){this.width=e,this.height=t,this.type=i.d.TextureDescriptor,this.target=r.Ap.TEXTURE_2D,this.pixelFormat=r.Ab.RGBA,this.dataType=r.ld.UNSIGNED_BYTE,this.samplingMode=r.Cj.LINEAR,this.wrapMode=r.pF.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.compareEnabled=!1,this.linearFilterDepth=!1,this.depth=1,this.isImmutable=!1}}function a(e){return e.width<=0||e.height<=0||e.depth<=0?0:Math.round(e.width*e.height*e.depth*(e.hasMipmap?4/3:1)*(null==e.internalFormat?4:(0,o.IB)(e.internalFormat))*(e.target===r.Ap.TEXTURE_CUBE_MAP?6:1))}},88426:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(38116);async function i(e,t){const{data:n}=await(0,r.A)(e,{responseType:"json",query:{f:"json",...t?.customParameters,token:t?.apiKey}});return n}},88938:function(e,t,n){"use strict";function r(e){const t=[];return function*(){yield*t;for(const n of e)t.push(n),yield n}}function i(e,t){for(const n of e)if(null!=n&&t(n))return n}function o(e){return null!=e&&"function"==typeof e[Symbol.iterator]}n.d(t,{I6:function(){return i},PP:function(){return r},xZ:function(){return o}})},88940:function(e,t,n){"use strict";n.d(t,{Jz:function(){return d},Mk:function(){return m},Zk:function(){return p},dP:function(){return h},gz:function(){return g},w6:function(){return v}});var r=n(82392),i=n(57888),o=n(15565),s=n(37623),a=n(81482),l=(n(6273),n(80861),n(26325)),c=n(6893);const u=new i.A.EventEmitter;function d(e){return u.on("apply-edits",new WeakRef(e))}function h(e){return u.on("update-moment",new WeakRef(e))}function p(e,t,n=null,r=!1){const i=(0,s.Tw)();return r=null==t||r,u.emit("apply-edits",{serviceUrl:e,layerId:t,gdbVersion:n,mayReceiveServiceEdits:r,result:i.promise}),i}const f=Symbol();function m(e){return null!=e&&"object"==typeof e&&f in e}function y(e){return null!=e&&"object"==typeof e&&"gdbVersion"in e}function g(e,t,n){const r=new URL(e).host,i=c.Z3.get(r),o=e=>!e||e===i;return o(t)&&o(n)||t===n}const v=e=>{var t;let n=class extends e{static{t=f}constructor(...e){super(...e),this[t]=!0,this._applyEditsHandler=e=>{const{serviceUrl:t,layerId:n,gdbVersion:r,mayReceiveServiceEdits:i,result:s}=e,a=t===this.url,l=null!=n&&null!=this.layerId&&n===this.layerId,c=y(this),u=y(this)&&g(t,r,this.gdbVersion);if(!a||c&&!u||!l&&!i)return;const d=s.then((e=>{if(this.lastEditsEventDate=new Date,l&&(e.addedFeatures.length||e.updatedFeatures.length||e.deletedFeatures.length||e.addedAttachments.length||e.updatedAttachments.length||e.deletedAttachments.length))return this.emit("edits",(0,o.o8)(e)),e;const n=e.editedFeatures?.find((({layerId:e})=>e===this.layerId));if(n){const{adds:t,updates:r,deletes:i}=n.editedFeatures,s={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:t?t.map((({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],deletedFeatures:i?i.map((({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],updatedFeatures:r?r.map((({current:{attributes:e}})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],editedFeatures:(0,o.o8)(e.editedFeatures),exceededTransferLimit:!1,historicMoment:(0,o.o8)(e.historicMoment)};return this.emit("edits",s),s}const i={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:(0,o.o8)(e.editedFeatures),exceededTransferLimit:!1,historicMoment:(0,o.o8)(e.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(t,r,i.historicMoment)&&this.emit("edits",i),i})).then((e=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(t,r,e.historicMoment)&&(this.historicMoment=e.historicMoment),e)));this.emit("apply-edits",{result:d})},this._updateMomentHandler=e=>{const{serviceUrl:t,gdbVersion:n,moment:r}=e,i=t===this.url,o=y(this),s=y(this)&&g(t,n,this.gdbVersion),a=y(this)&&!g(t,this.gdbVersion,null);i&&o&&s&&a&&"historicMoment"in this&&this.historicMoment!==r&&(this.historicMoment=r)},this.when().then((()=>{this.addHandles(d(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(h(this._updateMomentHandler))}),(()=>{}))}_shouldUpdateHistoricMoment(e,t,n){return"historicMoment"in this&&this.historicMoment!==n&&(0,c.w5)(e,t)}};return(0,r._)([(0,a.MZ)()],n.prototype,"lastEditsEventDate",void 0),n=(0,r._)([(0,l.$)("esri.layers.mixins.EditBusLayer")],n),n}},89179:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325)),l=n(19900);let c=r=class extends o.A{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new r({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"label",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],c.prototype,"minValue",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],c.prototype,"maxValue",void 0),(0,i._)([(0,s.MZ)(l.Wp)],c.prototype,"symbol",void 0),c=r=(0,i._)([(0,a.$)("esri.renderers.support.ClassBreakInfo")],c)},89349:function(e,t,n){"use strict";n.d(t,{P:function(){return f},a:function(){return d},b:function(){return _},c:function(){return x},d:function(){return M},e:function(){return S},f:function(){return l},g:function(){return A},h:function(){return u},i:function(){return a},j:function(){return v},l:function(){return c},p:function(){return R}});var r=n(44764),i=n(6273);let o,s=null;function a(){return!!s}function l(){return!!(0,i.A)("esri-wasm")}function c(){return o||(o=n.e(3014).then(n.bind(n,93014)).then((({default:e})=>e({locateFile:e=>(0,r.s)(`esri/geometry/support/${e}`)}))).then((e=>{I(e)})),o)}var u,d,h;!function(e){function t(e,t,n){s.ensureCache.prepare();const r=k(n),i=n===r,o=s.ensureFloat64(r),a=s._pe_geog_to_proj(s.getPointer(e),t,o);return a&&P(n,t,o,i),a}function n(e,t,n){return r(e,t,n,0)}function r(e,t,n,r){s.ensureCache.prepare();const i=k(n),o=n===i,a=s.ensureFloat64(i),l=s._pe_proj_to_geog_center(s.getPointer(e),t,a,r);return l&&P(n,t,a,o),l}e.geogToProj=t,e.projGeog=function(e,r,i,o){switch(o){case d.PE_TRANSFORM_P_TO_G:return n(e,r,i);case d.PE_TRANSFORM_G_TO_P:return t(e,r,i)}return 0},e.projToGeog=n,e.projToGeogCenter=r}(u||(u={})),(h=d||(d={})).init=function(){h.PE_BUFFER_MAX=s.PeDefs.prototype.PE_BUFFER_MAX,h.PE_NAME_MAX=s.PeDefs.prototype.PE_NAME_MAX,h.PE_MGRS_MAX=s.PeDefs.prototype.PE_MGRS_MAX,h.PE_USNG_MAX=s.PeDefs.prototype.PE_USNG_MAX,h.PE_DD_MAX=s.PeDefs.prototype.PE_DD_MAX,h.PE_DDM_MAX=s.PeDefs.prototype.PE_DDM_MAX,h.PE_DMS_MAX=s.PeDefs.prototype.PE_DMS_MAX,h.PE_UTM_MAX=s.PeDefs.prototype.PE_UTM_MAX,h.PE_PARM_MAX=s.PeDefs.prototype.PE_PARM_MAX,h.PE_TYPE_NONE=s.PeDefs.prototype.PE_TYPE_NONE,h.PE_TYPE_GEOGCS=s.PeDefs.prototype.PE_TYPE_GEOGCS,h.PE_TYPE_PROJCS=s.PeDefs.prototype.PE_TYPE_PROJCS,h.PE_TYPE_GEOGTRAN=s.PeDefs.prototype.PE_TYPE_GEOGTRAN,h.PE_TYPE_COORDSYS=s.PeDefs.prototype.PE_TYPE_COORDSYS,h.PE_TYPE_UNIT=s.PeDefs.prototype.PE_TYPE_UNIT,h.PE_TYPE_LINUNIT=s.PeDefs.prototype.PE_TYPE_LINUNIT,h.PE_STR_OPTS_NONE=s.PeDefs.prototype.PE_STR_OPTS_NONE,h.PE_STR_AUTH_NONE=s.PeDefs.prototype.PE_STR_AUTH_NONE,h.PE_STR_AUTH_TOP=s.PeDefs.prototype.PE_STR_AUTH_TOP,h.PE_STR_NAME_CANON=s.PeDefs.prototype.PE_STR_NAME_CANON,h.PE_STR_FMT_WKT=s.PeDefs.prototype.PE_STR_FMT_WKT,h.PE_STR_FMT_WKT2=s.PeDefs.prototype.PE_STR_FMT_WKT2,h.PE_PARM_X0=s.PeDefs.prototype.PE_PARM_X0,h.PE_PARM_ND=s.PeDefs.prototype.PE_PARM_ND,h.PE_TRANSFORM_1_TO_2=s.PeDefs.prototype.PE_TRANSFORM_1_TO_2,h.PE_TRANSFORM_2_TO_1=s.PeDefs.prototype.PE_TRANSFORM_2_TO_1,h.PE_TRANSFORM_P_TO_G=s.PeDefs.prototype.PE_TRANSFORM_P_TO_G,h.PE_TRANSFORM_G_TO_P=s.PeDefs.prototype.PE_TRANSFORM_G_TO_P,h.PE_HORIZON_RECT=s.PeDefs.prototype.PE_HORIZON_RECT,h.PE_HORIZON_POLY=s.PeDefs.prototype.PE_HORIZON_POLY,h.PE_HORIZON_LINE=s.PeDefs.prototype.PE_HORIZON_LINE,h.PE_HORIZON_DELTA=s.PeDefs.prototype.PE_HORIZON_DELTA};let p=null;var f;!function(e){const t={},n={},r=e=>{const t=e.getType();switch(t){case d.PE_TYPE_GEOGCS:e=s.castObject(e,s.PeGeogcs);break;case d.PE_TYPE_PROJCS:e=s.castObject(e,s.PeProjcs);break;case d.PE_TYPE_GEOGTRAN:e=s.castObject(e,s.PeGeogtran);break;default:t&d.PE_TYPE_UNIT&&(e=s.castObject(e,s.PeUnit))}return e};function i(e,n){let i=null,o=t[e];if(o||(o={},t[e]=o),o.hasOwnProperty(String(n))&&(i=o[n],s.compare(i,s.NULL)&&(i=null)),!i){const t=s.PeFactory.prototype.factoryByType(e,n);s.compare(t,s.NULL)||(i=r(t),o[n]=i)}return i}e.initialize=function(){s.PeFactory.prototype.initialize(null)},e.coordsys=function(e){return i(d.PE_TYPE_COORDSYS,e)},e.factoryByType=i,e.fromString=function(e,t){let i=null,o=n[e];if(o||(o={},n[e]=o),o.hasOwnProperty(t)&&(i=o[t],s.compare(i,s.NULL)&&(i=null)),!i){const n=s.PeFactory.prototype.fromString(e,t);s.compare(n,s.NULL)||(i=r(n),o[t]=i)}return i},e.geogcs=function(e){return i(d.PE_TYPE_GEOGCS,e)},e.geogtran=function(e){return i(d.PE_TYPE_GEOGTRAN,e)},e.getCode=function(e){return s.PeFactory.prototype.getCode(e)},e.projcs=function(e){return i(d.PE_TYPE_PROJCS,e)},e.unit=function(e){return i(d.PE_TYPE_UNIT,e)}}(f||(f={}));let m=null;var y,g,v,b,w,_,S,x,M,A,T;function I(e){function t(e,t,n){e[t]=n(e[t])}s=e,d.init(),y.init(),S.init(),M.init(),A.init(),p=class extends s.PeDouble{constructor(e=NaN){super(e)}destroy(){s.destroy(this)}[Symbol.dispose](){this.destroy()}},m=class extends s.PeGCSExtent{destroy(){s.destroy(this)}[Symbol.dispose](){this.destroy()}};const n=[s.PeAngunit,s.PeDatum,s.PeGeogcs,s.PeGeogtran,s.PeObject,s.PeParameter,s.PePrimem,s.PeProjcs,s.PeSpheroid,s.PeUnit];for(const e of n)t(e.prototype,"getName",(e=>function(){return e.call(this,new Array(d.PE_NAME_MAX))}));for(const e of[s.PeGeogtran,s.PeProjcs])t(e.prototype,"getParameters",(e=>function(){const t=new Array(d.PE_PARM_MAX);let n=e.call(this);for(let e=0;e<t.length;e++){const r=s.getValue(n,"*");t[e]=r?s.wrapPointer(r,s.PeParameter):null,n+=Int32Array.BYTES_PER_ELEMENT}return t}));t(s.PeHorizon.prototype,"getCoord",(e=>function(t=!1){const n=this.getSize();if(!n)return null;const r=[];return P(r,n,e.call(this),t),r})),t(s.PeGTlistExtendedEntry.prototype,"getEntries",(e=>{const t=s._pe_getPeGTlistExtendedGTsSize();return function(){let n=null;const r=e.call(this);if(!s.compare(r,s.NULL)){n=[r];const e=this.getSteps();if(e>1){const i=s.getPointer(r);for(let r=1;r<e;r++)n.push(s.wrapPointer(i+t*r,s.PeGTlistExtendedGTs))}}return n}}));const r=s._pe_getPeHorizonSize(),i=e=>function(){let t=this._cache;if(t||(t=new Map,this._cache=t),t.has(e))return t.get(e);let n=null;const i=e.call(this);if(!s.compare(i,s.NULL)){n=[i];const e=i.getNump();if(e>1){const t=s.getPointer(i);for(let i=1;i<e;i++)n.push(s.wrapPointer(t+r*i,s.PeHorizon))}}return t.set(e,n),n};t(s.PeProjcs.prototype,"horizonGcsGenerate",i),t(s.PeProjcs.prototype,"horizonPcsGenerate",i),s.PeObject.prototype.toString=function(e=d.PE_STR_OPTS_NONE){s.ensureCache.prepare();const t=s.getPointer(this),n=s.ensureInt8(new Array(d.PE_BUFFER_MAX));return s.UTF8ToString(s._pe_object_to_string_ext(t,e,n))},s.PeGeogcs.prototype.destroy=function(){this.Delete(),C(this),this.ptr=0},s.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},s.PeProjcs.prototype.destroy=function(){this.Delete(),C(this),this.ptr=0},s.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function C(e){if(!e)return;const t=s.getClass(e);if(!t)return;const n=s.getCache(t);if(!n)return;const r=s.getPointer(e);r&&delete n[r]}function E(e,t){const n=[],r=new Array(t);for(let t=0;t<e;t++)n.push(s.ensureInt8(r));return n}function k(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function P(e,t,n,r=!1){if(r)for(let r=0;r<2*t;r++)e[r]=s.getValue(n+r*Float64Array.BYTES_PER_ELEMENT,"double");else{const r=0===e.length;for(let i=0;i<t;i++)r&&(e[i]=new Array(2)),e[i][0]=s.getValue(n,"double"),e[i][1]=s.getValue(n+Float64Array.BYTES_PER_ELEMENT,"double"),n+=2*Float64Array.BYTES_PER_ELEMENT}}!function(e){let t;e.init=function(){e.PE_GTLIST_OPTS_COMMON=s.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=s._pe_getPeGTlistExtendedEntrySize()},e.getGTlist=function(e,n,r,i,o,a){let l=null;const c=new s.PeInteger(a);try{const u=s.PeGTlistExtended.prototype.getGTlist(e,n,r,i,o,c);if((a=c.val)&&(l=[u],a>1)){const e=s.getPointer(u);for(let n=1;n<a;n++)l.push(s.wrapPointer(e+t*n,s.PeGTlistExtendedEntry))}}finally{s.destroy(c)}return l}}(y||(y={})),function(e){e.destroy=function(e){if(e?.length){for(const t of e)C(t),t.getEntries().forEach((e=>{C(e);const t=e.getGeogtran();C(t),t.getParameters().forEach(C),[t.getGeogcs1(),t.getGeogcs2()].forEach((e=>{C(e);const t=e.getDatum();C(t),C(t.getSpheroid()),C(e.getPrimem()),C(e.getUnit())}))}));s.PeGTlistExtendedEntry.prototype.Delete(e[0])}}}(g||(g={})),function(e){e.geogToGeog=function(e,t,n,r,i){s.ensureCache.prepare();const o=k(n),a=n===o,l=s.ensureFloat64(o);let c=0;r&&(c=s.ensureFloat64(r));const u=s._pe_geog_to_geog(s.getPointer(e),t,l,c,i);return u&&P(n,t,l,a),u}}(v||(v={})),function(e){e.geodesicCoordinate=function(e,t,n,r,i,o,a,l){s.PeLineType.prototype.geodesic_coordinate(e,t,n,r,i,o,a,l)},e.geodeticCoordinate=function(e,t,n,r,i,o,a,l,c){s.PeLineType.prototype.geodetic_coordinate(e,t,n,r,i,o,a,l,c)},e.geodeticDistance=function(e,t,n,r,i,o,a,l,c,u){s.PeLineType.prototype.geodetic_distance(e,t,n,r,i,o,a,l,c,u)},e.greatEllipticDistance=function(e,t,n,r,i,o,a,l,c){s.PeLineType.prototype.great_elliptic_distance(e,t,n,r,i,o,a,l,c)}}(b||(b={})),function(e){e.phiToEta=function(e,t){return s.PeMath.prototype.phi_to_eta(e,t)},e.etaToPhi=function(e,t){return s.PeMath.prototype.eta_to_phi(e,t)},e.phiToPhig=function(e,t){return s.PeMath.prototype.phi_to_phig(e,t)},e.q=function(e,t,n){return s.PeMath.prototype.q(e,t,n)},e.q90=function(e,t){return s.PeMath.prototype.q90(e,t)}}(w||(w={})),function(e){const t=(e,t,n,r,i,o)=>{let a,l;switch(s.ensureCache.prepare(),e){case"dd":a=s._pe_geog_to_dd,l=d.PE_DD_MAX;break;case"ddm":a=s._pe_geog_to_ddm,l=d.PE_DDM_MAX;break;case"dms":a=s._pe_geog_to_dms,l=d.PE_DMS_MAX}let c=0;t&&(c=s.getPointer(t));const u=k(r),h=s.ensureFloat64(u),p=E(n,l),f=a(c,n,h,i,s.ensureInt32(p));if(f)for(let e=0;e<n;e++)o[e]=s.UTF8ToString(p[e]);return f},n=(e,t,n,r,i)=>{let o;switch(s.ensureCache.prepare(),e){case"dd":o=s._pe_dd_to_geog;break;case"ddm":o=s._pe_ddm_to_geog;break;case"dms":o=s._pe_dms_to_geog}let a=0;t&&(a=s.getPointer(t));const l=r.map((e=>s.ensureString(e))),c=s.ensureInt32(l),u=s.ensureFloat64(new Array(2*n)),d=o(a,n,c,u);return d&&P(i,n,u),d};e.geogToDms=function(e,n,r,i,o){return t("dms",e,n,r,i,o)},e.dmsToGeog=function(e,t,r,i){return n("dms",e,t,r,i)},e.geogToDdm=function(e,n,r,i,o){return t("ddm",e,n,r,i,o)},e.ddmToGeog=function(e,t,r,i){return n("ddm",e,t,r,i)},e.geogToDd=function(e,n,r,i,o){return t("dd",e,n,r,i,o)},e.ddToGeog=function(e,t,r,i){return n("dd",e,t,r,i)}}(_||(_={})),function(e){e.init=function(){e.PE_MGRS_STYLE_NEW=s.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=s.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=s.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=s.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=s.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},e.geogToMgrsExtended=function(e,t,n,r,i,o,a){s.ensureCache.prepare();let l=0;e&&(l=s.getPointer(e));const c=k(n),u=s.ensureFloat64(c),h=E(t,d.PE_MGRS_MAX),p=s.ensureInt32(h),f=s._pe_geog_to_mgrs_extended(l,t,u,r,i,o,p);if(f)for(let e=0;e<t;e++)a[e]=s.UTF8ToString(h[e]);return f},e.mgrsToGeogExtended=function(e,t,n,r,i){s.ensureCache.prepare();let o=0;e&&(o=s.getPointer(e));const a=n.map((e=>s.ensureString(e))),l=s.ensureInt32(a),c=s.ensureFloat64(new Array(2*t)),u=s._pe_mgrs_to_geog_extended(o,t,l,r,c);return u&&P(i,t,c),u}}(S||(S={})),function(e){e.geogToUsng=function(e,t,n,r,i,o,a){s.ensureCache.prepare();let l=0;e&&(l=s.getPointer(e));const c=k(n),u=s.ensureFloat64(c),h=E(t,d.PE_MGRS_MAX),p=s.ensureInt32(h),f=s._pe_geog_to_usng(l,t,u,r,i,o,p);if(f)for(let e=0;e<t;e++)a[e]=s.UTF8ToString(h[e]);return f},e.usngToGeog=function(e,t,n,r){s.ensureCache.prepare();let i=0;e&&(i=s.getPointer(e));const o=n.map((e=>s.ensureString(e))),a=s.ensureInt32(o),l=s.ensureFloat64(new Array(2*t)),c=s._pe_usng_to_geog(i,t,a,l);return c&&P(r,t,l),c}}(x||(x={})),function(e){e.init=function(){e.PE_UTM_OPTS_NONE=s.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=s.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=s.PeNotationUtm.prototype.PE_UTM_OPTS_NS},e.geogToUtm=function(e,t,n,r,i){s.ensureCache.prepare();let o=0;e&&(o=s.getPointer(e));const a=k(n),l=s.ensureFloat64(a),c=E(t,d.PE_UTM_MAX),u=s.ensureInt32(c),h=s._pe_geog_to_utm(o,t,l,r,u);if(h)for(let e=0;e<t;e++)i[e]=s.UTF8ToString(c[e]);return h},e.utmToGeog=function(e,t,n,r,i){s.ensureCache.prepare();let o=0;e&&(o=s.getPointer(e));const a=n.map((e=>s.ensureString(e))),l=s.ensureInt32(a),c=s.ensureFloat64(new Array(2*t)),u=s._pe_utm_to_geog(o,t,l,r,c);return u&&P(i,t,c),u}}(M||(M={})),function(e){const t=new Map;e.init=function(){e.PE_PCSINFO_OPTION_NONE=s.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=s.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=s.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=s.PePCSInfo.prototype.PE_POLE_POINT},e.generate=function(n,r=e.PE_PCSINFO_OPTION_DOMAIN){let i=null,o=null;return t.has(n)&&(o=t.get(n),o[r]&&(i=o[r])),i||(i=s.PePCSInfo.prototype.generate(n,r),o||(o=[],t.set(n,o)),o[r]=i),i}}(A||(A={})),function(e){e.versionString=function(){return s.PeVersion.prototype.version_string()}}(T||(T={}));const R=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return u},get PeDefs(){return d},get PeDouble(){return p},get PeFactory(){return f},get PeGCSExtent(){return m},get PeGTTransformations(){return v},get PeGTlistExtended(){return y},get PeGTlistExtendedEntry(){return g},get PeLineType(){return b},get PeMath(){return w},get PeNotationDms(){return _},get PeNotationMgrs(){return S},get PeNotationUsng(){return x},get PeNotationUtm(){return M},get PePCSInfo(){return A},get PeVersion(){return T},_init:I,get _pe(){return s},isLoaded:a,isSupported:l,load:c},Symbol.toStringTag,{value:"Module"}))},89370:function(e,t,n){"use strict";n.d(t,{Df:function(){return c},fm:function(){return u},mJ:function(){return l}});var r=n(70214),i=n(99595),o=n(52140);let s=!1;const a=[];function l(e,t){let n=new o.r((function r(){if(!n||l)return;if(s)return void d(r);const o=a;n.clear(),s=!0,l=!0,a=(0,i.a)(n,e),l=!1,s=!1,t(a,o),h()})),a=null,l=!1;return l=!0,a=(0,i.a)(n,e),l=!1,(0,r.hA)((function(){n&&(n.destroy(),n=null,a=null)}))}function c(e,t){let n=new o.r((function(){t(s,a)})),s=null;function a(){return n?(n.clear(),s=(0,i.a)(n,e),s):null}return a(),(0,r.hA)((function(){n&&(n.destroy(),n=null),s=null}))}function u(e,t){let n=!1,a=!1;const l=!!t?.sync;let c=new o.r((()=>{n||a||(a=!0,l?u():queueMicrotask(u))}));function u(){a=!1,c&&!n&&(s?d(u):(c.clear(),s=!0,n=!0,(0,i.a)(c,e),n=!1,s=!1,h()))}return n=!0,(0,i.a)(c,e),n=!1,(0,r.hA)((function(){c&&(c.destroy(),c=null)}))}function d(e){a.includes(e)||a.unshift(e)}function h(){for(;a.length;)a.pop()()}},89574:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(2925);let i;function o(){return i??=function(){const e=new s,t=function(e){if("undefined"==typeof WebGL2RenderingContext)return null;const t=document.createElement("canvas");if(!t)return null;let n=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(null==n&&(n=t.getContext("webgl2"),null!=n&&(e.majorPerformanceCaveat=!0,e.unmaskedRenderer=(0,r.M)(n)?.getUnmaskedRenderer()??"unknown")),null==n)return n;e.available=!0,e.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const i=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);return i&&(e.supportsHighPrecisionFragment=i.precision>0),n}(e);return null==t||(e.supportsColorBufferFloat=null!==t.getExtension("EXT_color_buffer_float"),e.supportsColorBufferFloatBlend=null!==t.getExtension("EXT_float_blend"),e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||null!==t.getExtension("EXT_color_buffer_half_float")),e}(),i}class s{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}}},89809:function(e,t,n){"use strict";n.d(t,{T:function(){return r},d:function(){return m}});const r={Base64:0,Hex:1,String:2,Raw:3},i=8,o=(1<<i)-1;function s(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e){const t=[];for(let n=0,r=e.length*i;n<r;n+=i)t[n>>5]|=(e.charCodeAt(n/i)&o)<<n%32;return t}function l(e){const t=[];for(let n=0,r=32*e.length;n<r;n+=i)t.push(String.fromCharCode(e[n>>5]>>>n%32&o));return t.join("")}function c(e,t,n,r,i,o){return s(function(e,t){return e<<t|e>>>32-t}(s(s(t,e),s(r,o)),i),n)}function u(e,t,n,r,i,o,s){return c(t&n|~t&r,e,t,i,o,s)}function d(e,t,n,r,i,o,s){return c(t&r|n&~r,e,t,i,o,s)}function h(e,t,n,r,i,o,s){return c(t^n^r,e,t,i,o,s)}function p(e,t,n,r,i,o,s){return c(n^(t|~r),e,t,i,o,s)}function f(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let n=1732584193,r=-271733879,i=-1732584194,o=271733878;for(let t=0;t<e.length;t+=16){const a=n,l=r,c=i,f=o;n=u(n,r,i,o,e[t],7,-680876936),o=u(o,n,r,i,e[t+1],12,-389564586),i=u(i,o,n,r,e[t+2],17,606105819),r=u(r,i,o,n,e[t+3],22,-1044525330),n=u(n,r,i,o,e[t+4],7,-176418897),o=u(o,n,r,i,e[t+5],12,1200080426),i=u(i,o,n,r,e[t+6],17,-1473231341),r=u(r,i,o,n,e[t+7],22,-45705983),n=u(n,r,i,o,e[t+8],7,1770035416),o=u(o,n,r,i,e[t+9],12,-1958414417),i=u(i,o,n,r,e[t+10],17,-42063),r=u(r,i,o,n,e[t+11],22,-1990404162),n=u(n,r,i,o,e[t+12],7,1804603682),o=u(o,n,r,i,e[t+13],12,-40341101),i=u(i,o,n,r,e[t+14],17,-1502002290),r=u(r,i,o,n,e[t+15],22,1236535329),n=d(n,r,i,o,e[t+1],5,-165796510),o=d(o,n,r,i,e[t+6],9,-1069501632),i=d(i,o,n,r,e[t+11],14,643717713),r=d(r,i,o,n,e[t],20,-373897302),n=d(n,r,i,o,e[t+5],5,-701558691),o=d(o,n,r,i,e[t+10],9,38016083),i=d(i,o,n,r,e[t+15],14,-660478335),r=d(r,i,o,n,e[t+4],20,-405537848),n=d(n,r,i,o,e[t+9],5,568446438),o=d(o,n,r,i,e[t+14],9,-1019803690),i=d(i,o,n,r,e[t+3],14,-187363961),r=d(r,i,o,n,e[t+8],20,1163531501),n=d(n,r,i,o,e[t+13],5,-1444681467),o=d(o,n,r,i,e[t+2],9,-51403784),i=d(i,o,n,r,e[t+7],14,1735328473),r=d(r,i,o,n,e[t+12],20,-1926607734),n=h(n,r,i,o,e[t+5],4,-378558),o=h(o,n,r,i,e[t+8],11,-2022574463),i=h(i,o,n,r,e[t+11],16,1839030562),r=h(r,i,o,n,e[t+14],23,-35309556),n=h(n,r,i,o,e[t+1],4,-1530992060),o=h(o,n,r,i,e[t+4],11,1272893353),i=h(i,o,n,r,e[t+7],16,-155497632),r=h(r,i,o,n,e[t+10],23,-1094730640),n=h(n,r,i,o,e[t+13],4,681279174),o=h(o,n,r,i,e[t],11,-358537222),i=h(i,o,n,r,e[t+3],16,-722521979),r=h(r,i,o,n,e[t+6],23,76029189),n=h(n,r,i,o,e[t+9],4,-640364487),o=h(o,n,r,i,e[t+12],11,-421815835),i=h(i,o,n,r,e[t+15],16,530742520),r=h(r,i,o,n,e[t+2],23,-995338651),n=p(n,r,i,o,e[t],6,-198630844),o=p(o,n,r,i,e[t+7],10,1126891415),i=p(i,o,n,r,e[t+14],15,-1416354905),r=p(r,i,o,n,e[t+5],21,-57434055),n=p(n,r,i,o,e[t+12],6,1700485571),o=p(o,n,r,i,e[t+3],10,-1894986606),i=p(i,o,n,r,e[t+10],15,-1051523),r=p(r,i,o,n,e[t+1],21,-2054922799),n=p(n,r,i,o,e[t+8],6,1873313359),o=p(o,n,r,i,e[t+15],10,-30611744),i=p(i,o,n,r,e[t+6],15,-1560198380),r=p(r,i,o,n,e[t+13],21,1309151649),n=p(n,r,i,o,e[t+4],6,-145523070),o=p(o,n,r,i,e[t+11],10,-1120210379),i=p(i,o,n,r,e[t+2],15,718787259),r=p(r,i,o,n,e[t+9],21,-343485551),n=s(n,a),r=s(r,l),i=s(i,c),o=s(o,f)}return[n,r,i,o]}function m(e,t=r.Hex){const n=t||r.Base64,o=f(a(e),e.length*i);switch(n){case r.Raw:return o;case r.Hex:return function(e){const t="0123456789abcdef",n=[];for(let r=0,i=4*e.length;r<i;r++)n.push(t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15));return n.join("")}(o);case r.String:return l(o);case r.Base64:return function(e){const t=[];for(let n=0,r=4*e.length;n<r;n+=3){const r=(e[n>>2]>>n%4*8&255)<<16|(e[n+1>>2]>>(n+1)%4*8&255)<<8|e[n+2>>2]>>(n+2)%4*8&255;for(let i=0;i<4;i++)8*n+6*i>32*e.length?t.push("="):t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>6*(3-i)&63))}return t.join("")}(o)}}},89847:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});var r,i=n(82392),o=n(61090),s=n(84977),a=n(15565),l=n(80861),c=n(81482),u=(n(6273),n(85716)),d=n(25376),h=n(26325),p=n(48524),f=n(75951),m=n(16506);let y=r=class extends s.A{constructor(e){super(e),this.colorRamp=null,this.computeGamma=!1,this.dynamicRangeAdjustment=!1,this.gamma=[],this.maxPercent=null,this.minPercent=null,this.numberOfStandardDeviations=null,this.outputMax=null,this.outputMin=null,this.sigmoidStrengthLevel=null,this.histograms=null,this.useGamma=!1,this.stretchType="none",this.type="raster-stretch"}readColorRamp(e){if(e)return(0,m.r)(e)}get statistics(){return this._get("statistics")}set statistics(e){(0,o.Lx)(l.A.getLogger(this),"statistics",{replacement:"customStatistics",version:"4.31",warnOnce:!0}),this._set("statistics",e)}get customStatistics(){const e=this.statistics;return e&&Array.isArray(e[0])?e.map((e=>({min:e[0],max:e[1],avg:e[2],stddev:e[3]}))):e}set customStatistics(e){this._set("statistics",e?.map((e=>[e.min,e.max,e.avg??0,e.stddev??1])))}readCustomStatistics(e){return e?.map((e=>({min:e[0],max:e[1],avg:e[2],stddev:e[3]})))}writeCustomStatistics(e,t,n){e?.length&&(t[n]=e.map((e=>[e.min,e.max,e.avg??0,e.stddev??1])))}readStretchType(e,t){let n=t.stretchType;return"number"==typeof n&&(n=f.x[n]),f.u.read(n)}clone(){const e=new r({stretchType:this.stretchType,outputMin:this.outputMin,outputMax:this.outputMax,useGamma:this.useGamma,computeGamma:this.computeGamma,gamma:(0,a.o8)(this.gamma),sigmoidStrengthLevel:this.sigmoidStrengthLevel,numberOfStandardDeviations:this.numberOfStandardDeviations,minPercent:this.minPercent,maxPercent:this.maxPercent,colorRamp:(0,a.o8)(this.colorRamp),histograms:(0,a.o8)(this.histograms),dynamicRangeAdjustment:this.dynamicRangeAdjustment});return e._set("statistics",(0,a.o8)(this.statistics)),e}};(0,i._)([(0,c.MZ)({types:m.g,json:{write:!0}})],y.prototype,"colorRamp",void 0),(0,i._)([(0,d.w)("colorRamp")],y.prototype,"readColorRamp",null),(0,i._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],y.prototype,"computeGamma",void 0),(0,i._)([(0,c.MZ)({type:Boolean,json:{write:{target:"dra"},read:{source:"dra"}}})],y.prototype,"dynamicRangeAdjustment",void 0),(0,i._)([(0,c.MZ)({type:[Number],json:{write:!0}})],y.prototype,"gamma",void 0),(0,i._)([(0,c.MZ)({type:Number,json:{write:!0}})],y.prototype,"maxPercent",void 0),(0,i._)([(0,c.MZ)({type:Number,json:{write:!0}})],y.prototype,"minPercent",void 0),(0,i._)([(0,c.MZ)({type:Number,json:{write:!0}})],y.prototype,"numberOfStandardDeviations",void 0),(0,i._)([(0,c.MZ)({type:Number,json:{read:{source:"max"},write:{target:"max"}}})],y.prototype,"outputMax",void 0),(0,i._)([(0,c.MZ)({type:Number,json:{read:{source:"min"},write:{target:"min"}}})],y.prototype,"outputMin",void 0),(0,i._)([(0,c.MZ)({type:Number,json:{write:!0}})],y.prototype,"sigmoidStrengthLevel",void 0),(0,i._)([(0,c.MZ)({})],y.prototype,"statistics",null),(0,i._)([(0,c.MZ)()],y.prototype,"histograms",void 0),(0,i._)([(0,c.MZ)({json:{type:[[Number]],name:"statistics",write:!0}})],y.prototype,"customStatistics",null),(0,i._)([(0,d.w)("customStatistics")],y.prototype,"readCustomStatistics",null),(0,i._)([(0,p.K)("customStatistics")],y.prototype,"writeCustomStatistics",null),(0,i._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],y.prototype,"useGamma",void 0),(0,i._)([(0,c.MZ)({type:f.u.apiValues,json:{type:f.u.jsonValues,write:f.u.write}})],y.prototype,"stretchType",void 0),(0,i._)([(0,d.w)("stretchType",["stretchType"])],y.prototype,"readStretchType",null),(0,i._)([(0,u.e)({rasterStretch:"raster-stretch"})],y.prototype,"type",void 0),y=r=(0,i._)([(0,h.$)("esri.renderers.RasterStretchRenderer")],y)},89856:function(e,t,n){"use strict";n.d(t,{I:function(){return g}});var r=n(82392),i=n(58842),o=n(53244),s=n(62991),a=n(80861),l=n(61985),c=n(81482),u=(n(6273),n(67498),n(66361)),d=n(26325),h=n(91101),p=n(93221),f=n(22508);const m=i.A.ofType(p.A);function y(e,t){e&&e.forEach((e=>{t(e),e.sublayers&&e.sublayers.length&&y(e.sublayers,t)}))}const g=e=>{let t=class extends e{constructor(...e){super(...e),this.allSublayers=new o.A({getCollections:()=>[this.sublayers],getChildrenFunction:e=>e.sublayers}),this.sublayersSourceJSON={[h.Gr.SERVICE]:{},[h.Gr.PORTAL_ITEM]:{},[h.Gr.WEB_SCENE]:{},[h.Gr.WEB_MAP]:{},[h.Gr.LINK_CHART]:{}},this.subtables=null,this.addHandles([(0,l.wB)((()=>this.sublayers),((e,t)=>this._handleSublayersChange(e,t)),l.OH),(0,l.wB)((()=>this.subtables),((e,t)=>this._handleSublayersChange(e,t)),l.OH)])}destroy(){this.allSublayers.destroy()}readSublayers(e,t){if(!t||!e)return;const{sublayersSourceJSON:n}=this,r=(0,h.aB)(t.origin);if(r<h.Gr.SERVICE)return;if(n[r]={context:t,visibleLayers:e.visibleLayers||n[r].visibleLayers,layers:e.layers||n[r].layers},r>h.Gr.SERVICE)return;this._set("serviceSublayers",this.createSublayersForOrigin("service").sublayers);const{sublayers:i,origin:o}=this.createSublayersForOrigin("web-document"),s=(0,u.oY)(this);s.setDefaultOrigin(o),this._set("sublayers",new m(i)),s.setDefaultOrigin("user")}findSublayerById(e){return this.allSublayers.find((t=>t.id===e))}createServiceSublayers(){return this.createSublayersForOrigin("service").sublayers}createSublayersForOrigin(e){let t;const n=(0,h.aB)("web-document"===e?"web-map":e);let r=h.Gr.SERVICE,i=this.sublayersSourceJSON[h.Gr.SERVICE].layers,o=this.sublayersSourceJSON[h.Gr.SERVICE].context,s=null;const a=[h.Gr.PORTAL_ITEM,h.Gr.WEB_SCENE,h.Gr.WEB_MAP].filter((e=>e<=n));for(const e of a){const t=this.sublayersSourceJSON[e];(0,f._X)(t.layers)&&(r=e,i=t.layers,o=t.context,t.visibleLayers&&(s={visibleLayers:t.visibleLayers,context:t.context}))}const l=[h.Gr.PORTAL_ITEM,h.Gr.WEB_SCENE,h.Gr.WEB_MAP].filter((e=>e>r&&e<=n));let c=null;for(const e of l){const{layers:n,visibleLayers:r,context:i}=this.sublayersSourceJSON[e];n&&(c={layers:n,context:i},t??=e),r&&(s={visibleLayers:r,context:i})}const u=function(e,t){const n=[],r={};return e?(e.forEach((e=>{const i=new p.A;if(i.read(e,t),r[i.id]=i,null!=e.parentLayerId&&-1!==e.parentLayerId){const t=r[e.parentLayerId];t.sublayers||(t.sublayers=[]),t.sublayers.unshift(i)}else n.unshift(i)})),n):n}(i,o),d=new Map,g=new Set;if(c)for(const e of c.layers)d.set(e.id,e);if(s?.visibleLayers)for(const e of s.visibleLayers)g.add(e);return y(u,(e=>{c&&e.read(d.get(e.id),c.context),s&&e.read({defaultVisibility:g.has(e.id)},s.context)})),{origin:(0,h.OL)(r),originWithPartialOverrides:t?(0,h.OL)(t):null,sublayers:new m({items:u})}}read(e,t){super.read(e,t),this.readSublayers(e,t)}_handleSublayersChange(e,t){t&&(t.forEach((e=>{e.parent=null,e.layer=null})),this.removeHandles("sublayers-owner")),e&&(e.forEach((e=>{e.parent=this,e.layer=this})),this.addHandles([e.on("after-add",(({item:e})=>{e.parent=this,e.layer=this})),e.on("after-remove",(({item:e})=>{e.parent=null,e.layer=null}))],"sublayers-owner"),"tile"===this.type&&this.addHandles(e.on("before-changes",(e=>{a.A.getLogger("esri.layers.TileLayer").error(new s.A("tilelayer:sublayers-non-modifiable","ISublayer can't be added, moved, or removed from the layer's sublayers",{layer:this})),e.preventDefault()})),"sublayers-owner"))}};return(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"allSublayers",void 0),(0,r._)([(0,c.MZ)({readOnly:!0,type:i.A.ofType(p.A)})],t.prototype,"serviceSublayers",void 0),(0,r._)([(0,c.MZ)({value:null,type:m,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],t.prototype,"sublayers",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"sublayersSourceJSON",void 0),(0,r._)([(0,c.MZ)({type:m,json:{read:{source:"tables"}}})],t.prototype,"subtables",void 0),t=(0,r._)([(0,d.$)("esri.layers.mixins.SublayersOwner")],t),t}},89894:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(21750);class i{constructor(e,t,n=void 0){this.name=e,this.details=n,this.message=(t&&function(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,((e,n)=>""===n?"$":((0,r.wc)(n,t)??"").toString()))}(t,n))??""}toString(){return"["+this.name+"]: "+this.message}}},90199:function(e,t,n){"use strict";n.d(t,{G:function(){return r}});const r=Symbol("Accessor-beforeDestroy")},90364:function(e,t,n){"use strict";n.d(t,{B:function(){return f},D$:function(){return c},Nh:function(){return p},O$:function(){return h},TX:function(){return r},mT:function(){return d},ps:function(){return y}});var r,i,o=n(21332);(i=r||(r={})).AsyncNotEnabled="AsyncNotEnabled",i.ModulesNotSupported="ModulesNotSupported",i.CircularModules="CircularModules",i.CannotCompareDateAndTime="CannotCompareDateAndTime",i.NeverReach="NeverReach",i.UnsupportedHashType="UnsupportedHashType",i.InvalidParameter="InvalidParameter",i.FeatureSetDoesNotHaveSubtypes="FeatureSetDoesNotHaveSubtypes",i.UnexpectedToken="UnexpectedToken",i.Unrecognized="Unrecognized",i.UnrecognizedType="UnrecognizedType",i.MaximumCallDepth="MaximumCallDepth",i.BooleanConditionRequired="BooleanConditionRequired",i.TypeNotAllowedInFeature="TypeNotAllowedInFeature",i.KeyMustBeString="KeyMustBeString",i.WrongNumberOfParameters="WrongNumberOfParameters",i.CallNonFunction="CallNonFunction",i.NoFunctionInTemplateLiteral="NoFunctionInTemplateLiteral",i.NoFunctionInDictionary="NoFunctionInDictionary",i.NoFunctionInArray="NoFunctionInArray",i.AssignModuleFunction="AssignModuleFunction",i.LogicExpressionOrAnd="LogicExpressionOrAnd",i.LogicalExpressionOnlyBoolean="LogicalExpressionOnlyBoolean",i.FunctionNotFound="FunctionNotFound",i.InvalidMemberAccessKey="InvalidMemberAccessKey",i.UnsupportedUnaryOperator="UnsupportUnaryOperator",i.InvalidIdentifier="InvalidIdentifier",i.MemberOfNull="MemberOfNull",i.UnsupportedOperator="UnsupportedOperator",i.Cancelled="Cancelled",i.ModuleAccessorMustBeString="ModuleAccessorMustBeString",i.ModuleExportNotFound="ModuleExportNotFound",i.Immutable="Immutable",i.OutOfBounds="OutOfBounds",i.IllegalResult="IllegalResult",i.FieldNotFound="FieldNotFound",i.PortalRequired="PortalRequired",i.LogicError="LogicError",i.ArrayAccessorMustBeNumber="ArrayAccessMustBeNumber",i.KeyAccessorMustBeString="KeyAccessorMustBeString",i.WrongSpatialReference="WrongSpatialReference",i.CannotChangeTimeZoneTime="CannotChangeTimeZoneTime",i.CannotChangeTimeZoneDateOnly="CannotChangeTimeZoneDateOnly";const s={[r.TypeNotAllowedInFeature]:"Feature attributes only support dates, numbers, strings, guids.",[r.LogicError]:"Logic error - {reason}",[r.CannotCompareDateAndTime]:"Cannot compare date or dateonly with timeonly types",[r.NeverReach]:"Encountered unreachable logic",[r.AsyncNotEnabled]:"Async Arcade must be enabled for this script",[r.ModuleAccessorMustBeString]:"Module accessor must be a string",[r.ModuleExportNotFound]:"Module has no export with provided identifier",[r.ModulesNotSupported]:"Current profile does not support modules",[r.ArrayAccessorMustBeNumber]:"Array accessor must be a number",[r.FunctionNotFound]:"Function not found",[r.FieldNotFound]:"Key not found - {key}",[r.CircularModules]:"Circular module dependencies are not allowed",[r.Cancelled]:"Execution cancelled",[r.UnsupportedHashType]:"Type not supported in hash function",[r.IllegalResult]:"Value is not a supported return type",[r.PortalRequired]:"Portal is required",[r.InvalidParameter]:"Invalid parameter",[r.WrongNumberOfParameters]:"Call with wrong number of parameters",[r.Unrecognized]:"Unrecognized code structure",[r.UnrecognizedType]:"Unrecognized type",[r.WrongSpatialReference]:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",[r.BooleanConditionRequired]:"Conditions must use booleans",[r.NoFunctionInDictionary]:"Dictionaries cannot contain functions.",[r.NoFunctionInArray]:"Arrays cannot contain functions.",[r.NoFunctionInTemplateLiteral]:"Template Literals do not expect functions by value.",[r.KeyAccessorMustBeString]:"Accessor must be a string",[r.KeyMustBeString]:"Object keys must be a string",[r.Immutable]:"Object is immutable",[r.UnexpectedToken]:"Unexpected token",[r.MemberOfNull]:"Cannot access property of null object",[r.MaximumCallDepth]:"Exceeded maximum function depth",[r.OutOfBounds]:"Out of bounds",[r.InvalidIdentifier]:"Identifier not recognized",[r.CallNonFunction]:"Expression is not a function",[r.InvalidMemberAccessKey]:"Cannot access value using a key of this type",[r.AssignModuleFunction]:"Cannot assign function to module variable",[r.UnsupportedUnaryOperator]:"Unsupported unary operator",[r.UnsupportedOperator]:"Unsupported operator",[r.LogicalExpressionOnlyBoolean]:"Logical expressions must be boolean",[r.LogicExpressionOrAnd]:"Logical expression can only be combined with || or &&",[r.CannotChangeTimeZoneTime]:"Cannot change the timezone of a Time",[r.CannotChangeTimeZoneDateOnly]:"Cannot change the timezone of a DateOnly",[r.FeatureSetDoesNotHaveSubtypes]:"FeatureSet does not have subtypes"};class a extends Error{constructor(...e){super(...e)}}class l extends a{constructor(e,t){super(u(t)+e.message,{cause:e}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,l),t?.loc&&(this.loc=t.loc)}}class c extends Error{constructor(e,t,n,r){super("Execution error - "+u(n)+(0,o.HC)(s[t],r)),this.loc=null,this.declaredRootClass="esri.arcade.arcadeexecutionerror",Error.captureStackTrace&&Error.captureStackTrace(this,c),n?.loc&&(this.loc=n.loc)}}function u(e){return e&&e.loc?`Line : ${e.loc.start?.line}, ${e.loc.start?.column}: `:""}class d extends Error{constructor(e,t,n,r){super("Compilation error - "+u(n)+(0,o.HC)(s[t],r)),this.loc=null,this.declaredRootClass="esri.arcade.arcadecompilationerror",Error.captureStackTrace&&Error.captureStackTrace(this,d),n?.loc&&(this.loc=n.loc)}}class h extends Error{constructor(){super("Uncompilable code structures"),this.declaredRootClass="esri.arcade.arcadeuncompilableerror",Error.captureStackTrace&&Error.captureStackTrace(this,h)}}function p(e,t,n){return"esri.arcade.arcadeexecutionerror"===n.declaredRootClass||"esri.arcade.arcadecompilationerror"===n.declaredRootClass?null===n.loc&&t?.loc?new l(n,{cause:n}):n:("esri.arcade.featureset.support.featureseterror"===n.declaredRootClass||"esri.arcade.featureset.support.sqlerror"===n.declaredRootClass||n.declaredRootClass,t?.loc?new l(n,{cause:n}):n)}var f;!function(e){e.UnrecognizedUri="UnrecognizedUri",e.UnsupportedUriProtocol="UnsupportedUriProtocol"}(f||(f={}));const m={[f.UnrecognizedUri]:"Unrecognized uri - {uri}",[f.UnsupportedUriProtocol]:"Unrecognized uri protocol"};class y extends Error{constructor(e,t){super((0,o.HC)(m[e],t)),this.declaredRootClass="esri.arcade.arcademoduleerror",Error.captureStackTrace&&Error.captureStackTrace(this,y)}}},90436:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});class r{constructor(){this._names=new Map}begin(e){this._names.has(e)||(this._names.set(e,!1),(e=>e.includes("Brush"))(e)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${e}.Start`))}end(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark(`Esri.${e}.End`))}record(e){this._names.has(e)||(this._names.set(e,!0),performance.mark(`Esri.${e}`))}}},90440:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var r,i=n(82392),o=n(84977),s=n(81482),a=n(8636),l=(n(6273),n(67498),n(85716)),c=n(26325);let u=r=class extends o.A{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new r({mapLayerId:e,gdbVersion:t})}};(0,i._)([(0,l.e)({mapLayer:"map-layer"}),(0,s.MZ)({json:{write:{isRequired:!0}}})],u.prototype,"type",void 0),(0,i._)([(0,s.MZ)({type:a.jz,json:{write:{isRequired:!0}}})],u.prototype,"mapLayerId",void 0),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],u.prototype,"gdbVersion",void 0),u=r=(0,i._)([(0,c.$)("esri.layers.support.source.MapLayerSource")],u)},90618:function(e,t,n){"use strict";n.d(t,{c:function(){return r},g:function(){return i}});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},90818:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(26325)),s=n(24826),a=n(999);let l=class extends a.A{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};(0,r._)([(0,i.MZ)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":s.A}},json:{default:null,write:!0}})],l.prototype,"outline",void 0),(0,r._)([(0,i.MZ)({type:["simple-fill","picture-fill"],readOnly:!0})],l.prototype,"type",void 0),l=(0,r._)([(0,o.$)("esri.symbols.FillSymbol")],l)},90939:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(76736);let l=r=class extends a.A{constructor(e){super(e),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new r({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};(0,i._)([(0,o.MZ)({type:[Number,String],json:{write:!0}})],l.prototype,"left",void 0),(0,i._)([(0,o.MZ)({type:[Number,String],json:{write:!0}})],l.prototype,"right",void 0),(0,i._)([(0,o.MZ)({type:[Number,String],json:{write:!0}})],l.prototype,"top",void 0),(0,i._)([(0,o.MZ)({type:[Number,String],json:{write:!0}})],l.prototype,"bottom",void 0),l=r=(0,i._)([(0,s.$)("esri.views.layers.support.ClipRect")],l)},91010:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});var r,i=n(82392),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(74525),l=n(93814),c=n(84977),u=n(15565),d=n(8636),h=n(68642);let p=r=class extends c.A{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new r({colors:(0,u.o8)(this.colors),fields:(0,u.o8)(this.fields),normalizeField:this.normalizeField,series:(0,u.o8)(this.series),tooltipField:this.tooltipField})}};(0,i._)([(0,o.MZ)({type:[l.A],json:{type:[[d.jz]],write:!0}})],p.prototype,"colors",void 0),(0,i._)([(0,o.MZ)({type:[String],json:{write:{isRequired:!0}}})],p.prototype,"fields",void 0),(0,i._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"normalizeField",void 0),(0,i._)([(0,o.MZ)({type:[h.A],json:{read:!1}})],p.prototype,"series",void 0),(0,i._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"tooltipField",void 0),p=r=(0,i._)([(0,s.$)("esri.popup.content.support.ChartMediaInfoValue")],p);const f=p;let m=class extends a.A{constructor(e){super(e),this.type=null,this.value=void 0}};(0,i._)([(0,o.MZ)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],m.prototype,"type",void 0),(0,i._)([(0,o.MZ)({type:f,json:{write:{isRequired:!0}}})],m.prototype,"value",void 0),m=(0,i._)([(0,s.$)("esri.popup.content.mixins.ChartMediaInfo")],m);const y=m},91017:function(e,t,n){"use strict";n.d(t,{Fq:function(){return s},Yc:function(){return i},Yq:function(){return o}});var r=n(8e3);function i(e){if(null==e)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new r.A({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function o(e){if(null==e)return null;const t=e.clone();return void 0!==e.cache._geVersion&&(t.cache._geVersion=e.cache._geVersion),t}function s(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}},91039:function(e,t,n){"use strict";n.d(t,{m:function(){return i}});var r=n(91212);function i(e,t){const n=(0,r.SH)(e,t),i=n.queryResult.featureResult,o=n.queryResult.queryGeometry,s=n.queryResult.queryGeometryType;if(i&&i.features&&i.features.length&&i.objectIdFieldName){const e=i.objectIdFieldName;for(const t of i.features)t.attributes&&(t.objectId=t.attributes[e])}return i&&(i.queryGeometry=o,i.queryGeometryType=s),i}},91101:function(e,t,n){"use strict";var r;n.d(t,{AU:function(){return i},Gr:function(){return r},OL:function(){return s},aB:function(){return o},in:function(){return a}}),function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"}(r||(r={}));const i=r.USER+1;function o(e){switch(e){case"defaults":return r.DEFAULTS;case"service":return r.SERVICE;case"portal-item":return r.PORTAL_ITEM;case"web-scene":return r.WEB_SCENE;case"web-map":return r.WEB_MAP;case"link-chart":return r.LINK_CHART;case"user":return r.USER;default:return null}}function s(e){switch(e){case r.DEFAULTS:return"defaults";case r.SERVICE:return"service";case r.PORTAL_ITEM:return"portal-item";case r.WEB_SCENE:return"web-scene";case r.WEB_MAP:return"web-map";case r.LINK_CHART:return"link-chart";case r.USER:return"user"}}function a(e){return s(e)}},91212:function(e,t,n){"use strict";n.d(t,{SH:function(){return C},ae:function(){return x},cn:function(){return v}});var r=n(62991),i=n(16269),o=n(88358),s=n(12443);const a=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","esriFieldTypeBigInteger","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"],l=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],c=["upperLeft","lowerLeft"];function u(e){return e>=a.length?null:a[e]}function d(e){return e>=l.length?null:l[e]}function h(e){return e>=c.length?null:c[e]}function p(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function f(e,t,n){const r=e.asUnsafe(),i=t.createPointGeometry(n);for(;r.next();)switch(r.tag()){case 3:{const e=r.getUInt32(),n=r.pos()+e;let o=0;for(;r.pos()<n;)t.addCoordinatePoint(i,r.getSInt64(),o++);break}default:r.skip()}return i}function m(e,t,n){const r=e.asUnsafe(),i=t.createGeometry(n),o=2+(n.hasZ?1:0)+(n.hasM?1:0);for(;r.next();)switch(r.tag()){case 2:{const e=r.getUInt32(),n=r.pos()+e;let o=0;for(;r.pos()<n;)t.addLength(i,r.getUInt32(),o++);break}case 3:{const e=r.getUInt32(),n=r.pos()+e;let s=0;for(t.allocateCoordinates(i);r.pos()<n;)t.addCoordinate(i,r.getSInt64(),s),s++,s===o&&(s=0);break}default:r.skip()}return i}function y(e){const t=e.asUnsafe(),n=new o.A;let r="esriGeometryPoint";for(;t.next();)switch(t.tag()){case 2:{const e=t.getUInt32(),r=t.pos()+e;for(;t.pos()<r;)n.lengths.push(t.getUInt32());break}case 3:{const e=t.getUInt32(),r=t.pos()+e;for(;t.pos()<r;)n.coords.push(t.getSInt64());break}case 1:r=s.z[t.getEnum()];break;default:t.skip()}return{queryGeometry:n,queryGeometryType:r}}function g(e){const t=e.asUnsafe();for(;t.next();)switch(t.tag()){case 1:return t.getString();case 2:return t.getFloat();case 3:return t.getDouble();case 4:return t.getSInt32();case 5:return t.getUInt32();case 6:return t.getInt64();case 7:return t.getUInt64();case 8:return t.getSInt64();case 9:return t.getBool();default:return t.skip(),null}return null}function v(e){const t=e.asUnsafe(),n={type:u(0)};for(;t.next();)switch(t.tag()){case 1:n.name=t.getString();break;case 2:n.type=u(t.getEnum());break;case 3:n.alias=t.getString();break;case 4:n.sqlType=d(t.getEnum());break;case 5:default:t.skip();break;case 6:n.defaultValue=t.getString()}return n}function b(e){const t={},n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:t.name=n.getString();break;case 2:t.isSystemMaintained=n.getBool();break;default:n.skip()}return t}function w(e,t,n,r){const i=t.createFeature(n);let o=0;for(;e.next();)switch(e.tag()){case 1:{const t=r[o++].name;i.attributes[t]=e.processMessage(g);break}case 2:i.geometry=e.processMessageWithArgs(m,t,n);break;case 4:i.centroid=e.processMessageWithArgs(f,t,n);break;default:e.skip()}return i}function _(e){const t=[1,1,1,1],n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:t[0]=n.getDouble();break;case 2:t[1]=n.getDouble();break;case 4:t[2]=n.getDouble();break;case 3:t[3]=n.getDouble();break;default:n.skip()}return t}function S(e){const t=[0,0,0,0],n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:t[0]=n.getDouble();break;case 2:t[1]=n.getDouble();break;case 4:t[2]=n.getDouble();break;case 3:t[3]=n.getDouble();break;default:n.skip()}return t}function x(e){const t={originPosition:h(0)},n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:t.originPosition=h(n.getEnum());break;case 2:t.scale=n.processMessage(_);break;case 3:t.translate=n.processMessage(S);break;default:n.skip()}return t}function M(e){const t={},n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:t.shapeAreaFieldName=n.getString();break;case 2:t.shapeLengthFieldName=n.getString();break;case 3:t.units=n.getString();break;default:n.skip()}return t}function A(e,t){const n=t.createSpatialReference();for(;e.next();)switch(e.tag()){case 1:n.wkid=e.getUInt32();break;case 5:n.wkt=e.getString();break;case 2:n.latestWkid=e.getUInt32();break;case 3:n.vcsWkid=e.getUInt32();break;case 4:n.latestVcsWkid=e.getUInt32();break;default:e.skip()}return n}function T(e,t){const n=t.createFeatureResult(),r=e.asUnsafe();n.geometryType=p(t,0);let i=!1;for(;r.next();)switch(r.tag()){case 1:n.objectIdFieldName=r.getString();break;case 3:n.globalIdFieldName=r.getString();break;case 4:n.geohashFieldName=r.getString();break;case 5:n.geometryProperties=r.processMessage(M);break;case 7:n.geometryType=p(t,r.getEnum());break;case 8:n.spatialReference=r.processMessageWithArgs(A,t);break;case 10:n.hasZ=r.getBool();break;case 11:n.hasM=r.getBool();break;case 12:n.transform=r.processMessage(x);break;case 9:n.exceededTransferLimit=r.getBool();break;case 13:t.addField(n,r.processMessage(v));break;case 15:i||(t.prepareFeatures(n),i=!0),t.addFeature(n,r.processMessageWithArgs(w,t,n,n.fields));break;case 2:n.uniqueIdField=r.processMessage(b);break;default:r.skip()}return t.finishFeatureResult(n),n}function I(e,t){const n={};let r=null;for(;e.next();)switch(e.tag()){case 4:r=e.processMessageWithArgs(y);break;case 1:n.featureResult=e.processMessageWithArgs(T,t);break;default:e.skip()}return null!=r&&n.featureResult&&t.addQueryGeometry(n,r),n}function C(e,t){try{const n=2,r=new i.A(new Uint8Array(e),new DataView(e)),o={};for(;r.next();)r.tag()===n?o.queryResult=r.processMessageWithArgs(I,t):r.skip();return o}catch(e){throw new r.A("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:e})}}},91234:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r,i=n(82392),o=(n(80861),n(6273),n(67498),n(62991),n(85716)),s=n(26325),a=n(1118);let l=class extends a.A{static{r=this}constructor(e){super(e),this.type="inherited"}clone(){return new r}};(0,i._)([(0,o.e)({inherited:"inherited"})],l.prototype,"type",void 0),l=r=(0,i._)([(0,s.$)("esri.layers.support.InheritedDomain")],l)},91287:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r=function(e,t,r){var i,o=n[e];return i="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};t.default=r,e.exports=t.default},91301:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(26325)),s=n(42126);var a;let l=a=class extends s.A{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new a({style:this.style})}};(0,r._)([(0,i.MZ)({type:["style"],json:{write:{isRequired:!0}}})],l.prototype,"type",void 0),(0,r._)([(0,i.MZ)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:{isRequired:!0}}})],l.prototype,"style",void 0),l=a=(0,r._)([(0,o.$)("esri.symbols.patterns.StylePattern3D")],l)},91658:function(e,t,n){"use strict";function r(e,t){return e?t?4:3:t?3:2}function i(e,t,n,i){if(!t?.lengths.length)return null;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);const a=e.coords,l=[],c=n?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:u,coords:d}=t,h=r(n,i);let p=0;for(const e of u){const t=o(c,d,p,e,n,i);t&&l.push(t),p+=e*h}if(l.sort(((e,t)=>{let r=e[2]-t[2];return 0===r&&n&&(r=e[4]-t[4]),r})),l.length){let e=6*l[0][2];a[0]=l[0][0]/e,a[1]=l[0][1]/e,n&&(e=6*l[0][4],a[2]=0!==e?l[0][3]/e:0),(a[0]<c[0]||a[0]>c[1]||a[1]<c[2]||a[1]>c[3]||n&&(a[2]<c[4]||a[2]>c[5]))&&(a.length=0)}if(!a.length){const e=t.lengths[0]?s(d,0,u[0],n,i):null;if(!e)return null;a[0]=e[0],a[1]=e[1],n&&e.length>2&&(a[2]=e[2])}return e}function o(e,t,n,i,o,s){const a=r(o,s);let l=n,c=n+a,u=0,d=0,h=0,p=0,f=0;for(let n=0,r=i-1;n<r;n++,l+=a,c+=a){const n=t[l],r=t[l+1],i=t[l+2],s=t[c],a=t[c+1],m=t[c+2];let y=n*a-s*r;p+=y,u+=(n+s)*y,d+=(r+a)*y,o&&(y=n*m-s*i,h+=(i+m)*y,f+=y),n<e[0]&&(e[0]=n),n>e[1]&&(e[1]=n),r<e[2]&&(e[2]=r),r>e[3]&&(e[3]=r),o&&(i<e[4]&&(e[4]=i),i>e[5]&&(e[5]=i))}if(p>0&&(p*=-1),f>0&&(f*=-1),!p)return null;const m=[u,d,.5*p];return o&&(m[3]=h,m[4]=.5*f),m}function s(e,t,n,i,o){const s=r(i,o);let d=t,h=t+s,p=0,f=0,m=0,y=0;for(let t=0,r=n-1;t<r;t++,d+=s,h+=s){const t=e[d],n=e[d+1],r=e[d+2],o=e[h],s=e[h+1],g=e[h+2],v=i?l(t,n,r,o,s,g):a(t,n,o,s);if(v)if(p+=v,i){const e=u(t,n,r,o,s,g);f+=v*e[0],m+=v*e[1],y+=v*e[2]}else{const e=c(t,n,o,s);f+=v*e[0],m+=v*e[1]}}return p>0?i?[f/p,m/p,y/p]:[f/p,m/p]:n>0?i?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}function a(e,t,n,r){const i=n-e,o=r-t;return Math.sqrt(i*i+o*o)}function l(e,t,n,r,i,o){const s=r-e,a=i-t,l=o-n;return Math.sqrt(s*s+a*a+l*l)}function c(e,t,n,r){return[e+.5*(n-e),t+.5*(r-t)]}function u(e,t,n,r,i,o){return[e+.5*(r-e),t+.5*(i-t),n+.5*(o-n)]}n.d(t,{Q:function(){return i}})},91700:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r=n(48156);class i{constructor(e,t){this.removeFunc=t,this._storage=new r.F,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,t,n=1){this._storage.put(this,e,t,n,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}}},92008:function(e,t,n){"use strict";n.d(t,{FJ:function(){return v},Dp:function(){return b},KV:function(){return w}});var r=n(82392),i=n(21750),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325)),a=n(63910),l=n(14755),c=n(58842),u=n(84977),d=n(48524),h=n(84459),p=n(1874);const f={write:{overridePolicy:(e,t,n)=>({enabled:!n||"scale"===n.filterMode})}};let m=class extends(l.A.ClonableMixin(u.A)){constructor(e){super(e),this.id=(0,p.lk)(),this.maxScale=0,this.minScale=0,this.title="",this.where=null}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],m.prototype,"id",void 0),(0,r._)([(0,o.MZ)({type:Number,json:f})],m.prototype,"maxScale",void 0),(0,r._)([(0,o.MZ)({type:Number,json:f})],m.prototype,"minScale",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],m.prototype,"title",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],m.prototype,"where",void 0),m=(0,r._)([(0,s.$)("esri.layers.support.DisplayFilter")],m);var y=n(24707);let g=class extends(l.A.ClonableMixin(u.A)){constructor(e){super(e),this.activeFilterId=null,this.filters=new(c.A.ofType(m)),this.mode="manual"}writeFilters(e,t,n,r){const i=e.toArray();"scale"===this.mode&&i.sort(((e,t)=>{const n=(0,h.oW)(t.minScale,e.minScale),r=e.maxScale-t.maxScale;return 0===n?r:n})),t[n]=i.map((e=>e.toJSON(r)))}write(e,t){return super.write(e,(0,y.mW)(this,t))}};(0,r._)([(0,o.MZ)({type:String,json:{write:{overridePolicy:(e,t,n)=>({enabled:"manual"===n.filterMode,isRequired:!0})}}})],g.prototype,"activeFilterId",void 0),(0,r._)([(0,o.MZ)({type:c.A.ofType(m),nonNullable:!0,json:{write:!0}})],g.prototype,"filters",void 0),(0,r._)([(0,d.K)("filters")],g.prototype,"writeFilters",null),(0,r._)([(0,o.MZ)({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],g.prototype,"mode",void 0),g=(0,r._)([(0,s.$)("esri.layers.support.DisplayFilterInfo")],g);const v=e=>{let t=class extends e{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return(0,r._)([(0,o.MZ)(b)],t.prototype,"displayFilterEnabled",void 0),(0,r._)([(0,o.MZ)(w)],t.prototype,"displayFilterInfo",void 0),t=(0,r._)([(0,s.$)("esri.layers.mixins.DisplayFilteredLayer")],t),t},b={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader:e=>!e},write:{layerContainerTypes:a.K,writer(e,t,n){(0,i.sM)(n,!e,t)}},origins:{"web-scene":{write:!1,read:!1}}}},w={type:g,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:a.K},origins:{"web-scene":{write:!1,read:!1}}}}},92273:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(82392),i=n(84977),o=n(81482),s=(n(6273),n(80861),n(67498),n(26325));let a=class extends i.A{constructor(){super(...arguments),this.type=null}};(0,r._)([(0,o.MZ)({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=(0,r._)([(0,s.$)("esri.layers.support.FeatureReduction")],a)},92374:function(e,t,n){"use strict";function r(){return[1,0,0,1,0,0]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}n.d(t,{o8:function(){return i},vt:function(){return r}});const o=[1,0,0,1,0,0];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:i,create:r,fromValues:function(e,t,n,r,i,o){return[e,t,n,r,i,o]}},Symbol.toStringTag,{value:"Module"}))},92461:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(91287)),o=r(n(74994)),s=r(n(26376)),a=r(n(12568)),l=r(n(85024)),c={code:"en-US",formatDistance:i.default,formatLong:o.default,formatRelative:s.default,localize:a.default,match:l.default,options:{weekStartsOn:0,firstWeekContainsDate:1}};t.default=c,e.exports=t.default},92750:function(e,t,n){"use strict";n.d(t,{$B:function(){return l},NE:function(){return c},TU:function(){return h},ac:function(){return d},fn:function(){return u},oe:function(){return p}});var r=n(3223),i=n(70214),o=n(80294),s=n(82795),a=n(26463);const l={cancel:"Escape",complete:"Enter"},c={...l,redo:"r",undo:"z",center:"Alt",constraint:"Shift",delete:["Backspace","Delete"],vertexAdd:"f",pan:" "},u={toggle:"Control"},d={enterInputMode:"Tab",commit:"Enter",discard:"Escape",next:"Tab"},h={moveUp:{key:"ArrowUp",modifier:"Shift",repeats:!0},moveDown:{key:"ArrowDown",modifier:"Shift",repeats:!0},moveLeft:{key:"ArrowLeft",modifier:"Shift",repeats:!0},moveRight:{key:"ArrowRight",modifier:"Shift",repeats:!0},scaleUp:{key:"+",modifier:"Shift"},scaleDown:{key:"-",modifier:"Shift"},factorModifier:{key:a.i,continuePropagation:!0},toggleOpacity:"t",preserveAspectRatio:{key:"Shift",continuePropagation:!0},rotateIncrements:{key:"Shift",continuePropagation:!0},editSourcePoints:{key:"Alt",continuePropagation:!0},undo:"z",redo:"r"};class p{constructor(){this._bindings=new Map}add(e,t){return this.addToggle(e,(e=>{"key-down"===e.type&&t(e)}))}addToggle(e,t){const n=f.fromDefinition(e,t),s=(0,o.tE)(this._bindings,n.key,(()=>[]));return s.push(n),(0,i.hA)((()=>(0,r.TF)(s,n)))}register(e,t=s.o.WIDGET){return(0,i.vE)([e.on("key-down",(t=>this.dispatch(e.inputManager,t)),t),e.on("key-up",(t=>this.dispatch(e.inputManager,t)),t)])}dispatch(e,t){const n=t.key,r=this._bindings.get(n);if(r)for(const n of r)n.process(e,t)}}class f{constructor(e,t,n,r,i){this.key=e,this.modifiers=t,this.repeats=n,this.continuePropagation=r,this.callback=i}process(e,t){if(!(t.key!==this.key||"repeat"in t&&t.repeat&&!this.repeats)){for(const t of this.modifiers)if(!e.isModifierKeyDown(t))return;this.continuePropagation||t.stopPropagation(),this.callback(t)}}static fromDefinition(e,t){if("string"==typeof e)return new f(e,[],!1,!1,t);const{key:n,modifier:r,repeats:i,continuePropagation:o}=e;return new f(n,r?Array.isArray(r)?r:[r]:[],!!i,!!o,t)}}},92840:function(e,t,n){"use strict";n.d(t,{Oo:function(){return a},on:function(){return s},wb:function(){return i}});var r=n(70214);function i(e){return function(e){return null!=e&&"object"==typeof e&&"on"in e&&"function"==typeof e.on}(e)||o(e)}function o(e){return null!=e&&"object"==typeof e&&"addEventListener"in e&&"function"==typeof e.addEventListener}function s(e,t,n){if(!i(e))throw new TypeError("target is not a Evented or EventTarget object");return o(e)?function(e,t,n,i){if(Array.isArray(t)){const o=t.slice();for(const t of o)e.addEventListener(t,n,i);return(0,r.hA)((()=>{for(const t of o)e.removeEventListener(t,n,i)}))}return e.addEventListener(t,n,i),(0,r.hA)((()=>e.removeEventListener(t,n,i)))}(e,t,n):e.on(t,n)}function a(e,t,n){if(!i(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,n);const r=s(e,t,(t=>{r.remove(),n.call(e,t)}));return r}},93174:function(e,t,n){"use strict";n.d(t,{a:function(){return _},b:function(){return s},c:function(){return f},d:function(){return m},g:function(){return g},l:function(){return o}});var r=n(79e3);const i="calciteInternalLabelClick",o="calciteInternalLabelConnected",s="calciteInternalLabelDisconnected",a="calcite-label",l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new Set,p=e=>{const{id:t}=e,n=t&&(0,r.q)(e,{selector:`${a}[for="${t}"]`});if(n)return n;const i=(0,r.l)(e,a);return!i||function(e,t){let n;const r="custom-element-ancestor-check",i=r=>{r.stopImmediatePropagation();const i=r.composedPath();n=i.slice(i.indexOf(t),i.indexOf(e))};e.addEventListener(r,i,{once:!0}),t.dispatchEvent(new CustomEvent(r,{composed:!0,bubbles:!0})),e.removeEventListener(r,i);const o=n.filter((n=>n!==t&&n!==e)).filter((e=>e.tagName?.includes("-")));return o.length>0}(i,e)?null:i};function f(e){if(!e)return;const t=p(e.el);if(c.has(t)&&t===e.labelEl||!t&&h.has(e))return;const n=w.bind(e);if(t){e.labelEl=t;const r=l.get(t)||[];r.push(e),l.set(t,r.sort(y)),c.has(e.labelEl)||(c.set(e.labelEl,v),e.labelEl.addEventListener(i,v)),h.delete(e),document.removeEventListener(o,u.get(e)),d.set(e,n),document.addEventListener(s,n)}else h.has(e)||(n(),document.removeEventListener(s,d.get(e)))}function m(e){if(!e)return;if(h.delete(e),document.removeEventListener(o,u.get(e)),document.removeEventListener(s,d.get(e)),u.delete(e),d.delete(e),!e.labelEl)return;const t=l.get(e.labelEl);1===t.length&&(e.labelEl.removeEventListener(i,c.get(e.labelEl)),c.delete(e.labelEl)),l.set(e.labelEl,t.filter((t=>t!==e)).sort(y)),e.labelEl=null}function y(e,t){return(0,r.m)(e.el,t.el)?-1:1}function g(e){return e.label||e.labelEl?.textContent?.trim()||""}function v(e){const t=e.detail.sourceEvent.target,n=l.get(this),r=n.find((e=>e.el===t));if(n.includes(r))return;const i=n[0];i.disabled||i.onLabelClick(e)}function b(){h.has(this)&&f(this)}function w(){h.add(this);const e=u.get(this)||b.bind(this);u.set(this,e),document.addEventListener(o,e)}async function _(e){await e.componentOnReady();if(l.has(e))return;const t=e.ownerDocument?.getElementById(e.for);t&&requestAnimationFrame((()=>{for(const e of h)if(e.el===t){f(e);break}}))}},93221:function(e,t,n){"use strict";n.d(t,{A:function(){return oe}});var r,i=n(82392),o=n(20879),s=n(38116),a=n(58842),l=n(62991),c=n(6273),u=n(23377),d=n(15565),h=n(11965),p=n(80861),f=n(67214),m=n(80189),y=n(19759),g=n(81482),v=n(77380),b=n(25376),w=n(26325),_=n(48524),S=n(8636),x=n(91101),M=n(66361),A=n(8e3),T=n(44153),I=n(54483),C=n(56263),E=n(87917),k=n(16948),P=n(52202),R=n(45352),O=n(51387),N=n(46227),L=n(47659),D=n(6488),F=n(76591),j=n(65681),Z=n(46148),U=n(76456),z=n(17308),V=n(90440),B=n(44695),$=n(36321),G=n(95827),q=n(33432),H=n(95610),W=n(4331),J=n(74637);function K(e){return"esriSMS"===e?.type}function Y(e,t,n){const r=n.minimumWritableOrigin||n.origin;return!!r&&e.originIdOf(t)>=(0,x.aB)(r)}function X(e,t,n){const r=Y(this,t,n);return{ignoreOrigin:!0,allowNull:r,enabled:!!n&&"map-image"===n.layer?.type&&(n.writeSublayerStructure||r)}}function Q(e,t,n){return{enabled:!!n&&"tile"===n.layer?.type&&(Y(this,t,n)||this._isOverridden(t))}}function ee(e,t,n){return{ignoreOrigin:!0,enabled:n&&n.writeSublayerStructure||!1}}function te(e,t,n){return{ignoreOrigin:!0,enabled:!!n?.writeSublayerStructure&&this.originIdOf(t)>x.Gr.SERVICE}}function ne(e,t,n){return{ignoreOrigin:!0,enabled:!!n&&(n.writeSublayerStructure||Y(this,t,n))}}let re=0;const ie=new Set(["layer","parent","loaded","loadStatus","loadError","loadWarnings"]);let oe=class extends((0,f.P)(u.A.IdentifiableMixin(h.A))){static{r=this}constructor(e){super(e),this.attributeTableTemplate=null,this.capabilities=void 0,this.maxScaleRange={minScale:0,maxScale:0},this.fields=null,this.fullExtent=null,this.geometryType=null,this.globalIdField=null,this.isTable=!1,this.legendEnabled=!0,this.objectIdField=null,this.parent=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.spatialReference=null,this.title=null,this.typeIdField=null,this.type="sublayer",this.types=null,this._lastParsedUrl=null}async load(e){return this.addResolvingPromise((async()=>{const{layer:t,url:n}=this;if(!t&&!n)throw new l.A("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:this});const r=t?await t.fetchSublayerInfo(this,e):(await(0,s.A)(n,{responseType:"json",query:{f:"json"},...e})).data;r&&(this.sourceJSON=r,this.read({layerDefinition:r},{origin:"service",layer:t,url:(0,$.Dl)(n)}))})()),this}readCapabilities(e,t){t=t.layerDefinition||t;const{attachment:n,operations:{supportsQuery:r,supportsQueryAttachments:i},query:{supportsFormatPBF:o,supportsOrderBy:s,supportsPagination:a},data:{supportsAttachment:l},queryRelated:c}=(0,U.S)(t,this.url);return{attachment:{supportsOrderByFields:n?.supportsOrderByFields??!1,supportsResize:n?.supportsResize??!1},exportMap:{supportsModification:!!t.canModifyLayer},operations:{supportsQuery:r,supportsQueryAttachments:i},data:{supportsAttachment:l},query:{supportsFormatPBF:o,supportsOrderBy:s,supportsPagination:a},queryRelated:c}}get defaultPopupTemplate(){return this.createPopupTemplate()}set definitionExpression(e){this._setAndNotifyLayer("definitionExpression",e)}get effectiveScaleRange(){const{minScale:e,maxScale:t}=this;return{minScale:e,maxScale:t}}readMaxScaleRange(e,t){return{minScale:(t=t.layerDefinition||t).minScale??0,maxScale:t.maxScale??0}}get fieldsIndex(){return new O.A(this.fields||[])}set floorInfo(e){this._setAndNotifyLayer("floorInfo",e)}readGlobalIdFieldFromService(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields)for(const e of t.fields)if("esriFieldTypeGlobalID"===e.type)return e.name}get id(){return this._get("id")??re++}set id(e){this._get("id")!==e&&(!1!==this.layer?.capabilities?.exportMap?.supportsDynamicLayers?this._set("id",e):this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"))}readIsTable(e,t){return"Table"===t.type}set labelingInfo(e){this._setAndNotifyLayer("labelingInfo",e)}writeLabelingInfo(e,t,n,r){e&&e.length&&(t.layerDefinition={drawingInfo:{labelingInfo:e.map((e=>e.write({},r)))}})}set labelsVisible(e){this._setAndNotifyLayer("labelsVisible",e)}set layer(e){this._set("layer",e),this.sublayers?.forEach((t=>t.layer=e))}set listMode(e){this._set("listMode",e)}set minScale(e){this._setAndNotifyLayer("minScale",e)}readMinScale(e,t){return t.minScale||t.layerDefinition?.minScale||0}set maxScale(e){this._setAndNotifyLayer("maxScale",e)}readMaxScale(e,t){return t.maxScale||t.layerDefinition?.maxScale||0}readObjectIdFieldFromService(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;const n=t.fields?.find((e=>"esriFieldTypeOID"===e.type));return n?.name}set opacity(e){this._setAndNotifyLayer("opacity",e)}readOpacity(e,t){const{layerDefinition:n}=t;return 1-.01*(n?.transparency??n?.drawingInfo?.transparency??0)}writeOpacity(e,t,n,r){t.layerDefinition={drawingInfo:{transparency:100-100*e}}}set orderBy(e){this._setAndNotifyLayer("orderBy",e)}writeParent(e,t){this.parent&&this.parent!==this.layer?t.parentLayerId=(0,S.Vr)(this.parent.id):t.parentLayerId=-1}get queryTask(){if(!this.layer)return null;const{capabilities:e,fieldsIndex:t,layer:n,url:r}=this,{spatialReference:i}=n,o="gdbVersion"in n?n.gdbVersion:void 0,s=(0,c.A)("featurelayer-pbf")&&e?.query.supportsFormatPBF;return new C.A({fieldsIndex:t,gdbVersion:o,pbfSupported:s,queryAttachmentsSupported:e?.operations?.supportsQueryAttachments??!1,sourceSpatialReference:i,url:r})}set renderer(e){if((0,N.yp)(e,this.fieldsIndex),e)for(const t of e.symbols)if((0,W.wk)(t)){p.A.getLogger(this).warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",e)}get source(){return this._get("source")||new V.f({mapLayerId:this.id})}set source(e){this._setAndNotifyLayer("source",e)}set sublayers(e){this._handleSublayersChange(e,this._get("sublayers")),this._set("sublayers",e)}castSublayers(e){return(0,S.dp)(a.A.ofType(r),e)}writeSublayers(e,t,n){this.sublayers?.length&&(t[n]=this.sublayers.map((e=>e.id)).toArray().reverse())}readTitle(e,t){return t.layerDefinition?.name??t.name}readTypeIdField(e,t){let n=(t=t.layerDefinition||t).typeIdField;if(n&&t.fields){n=n.toLowerCase();const e=t.fields.find((e=>e.name.toLowerCase()===n));e&&(n=e.name)}return n}get url(){const e=this.layer?.parsedUrl??this._lastParsedUrl,t=this.source;if(!e)return null;if(this._lastParsedUrl=e,"map-layer"===t?.type)return`${e.path}/${t.mapLayerId}`;const n={layer:JSON.stringify({source:this.source})};return`${e.path}/dynamicLayer?${(0,y.x0)(n)}`}set url(e){this._overrideIfSome("url",e)}set visible(e){this._setAndNotifyLayer("visible",e)}writeVisible(e,t,n,r){t[n]=this.getAtOrigin("defaultVisibility","service")||e}clone(){const{store:e}=(0,M.oY)(this),t=new r;return(0,M.oY)(t).store=e.clone(ie),this.commitProperty("url"),t._lastParsedUrl=this._lastParsedUrl,t}createPopupTemplate(e){return(0,H.tn)(this,e)}createQuery(){return new q.A({returnGeometry:!0,where:this.definitionExpression||"1=1"})}async createFeatureLayer(){if(this.hasOwnProperty("sublayers"))return null;const e=(await Promise.resolve().then(n.bind(n,85049))).default,{layer:t,url:r}=this;let i;if(r&&this.originIdOf("url")>x.Gr.SERVICE)i=new e({url:r});else{if(!t?.parsedUrl)throw new l.A("createFeatureLayer:missing-information","Cannot create a FeatureLayer without a url or a parent layer");{const n=t.parsedUrl;i=new e({url:n.path}),n&&this.source&&("map-layer"===this.source.type?i.layerId=this.source.mapLayerId:i.dynamicDataSource=this.source)}}return null!=t?.refreshInterval&&(i.refreshInterval=t.refreshInterval),this.definitionExpression&&(i.definitionExpression=this.definitionExpression),this.floorInfo&&(i.floorInfo=(0,d.o8)(this.floorInfo)),this.originIdOf("labelingInfo")>x.Gr.SERVICE&&(i.labelingInfo=(0,d.o8)(this.labelingInfo)),this.originIdOf("labelsVisible")>x.Gr.DEFAULTS&&(i.labelsVisible=this.labelsVisible),this.originIdOf("legendEnabled")>x.Gr.DEFAULTS&&(i.legendEnabled=this.legendEnabled),this.originIdOf("visible")>x.Gr.DEFAULTS&&(i.visible=this.visible),this.originIdOf("minScale")>x.Gr.DEFAULTS&&(i.minScale=this.minScale),this.originIdOf("maxScale")>x.Gr.DEFAULTS&&(i.maxScale=this.maxScale),this.originIdOf("opacity")>x.Gr.DEFAULTS&&(i.opacity=this.opacity),this.originIdOf("popupTemplate")>x.Gr.DEFAULTS&&(i.popupTemplate=(0,d.o8)(this.popupTemplate)),this.originIdOf("renderer")>x.Gr.SERVICE&&(i.renderer=(0,d.o8)(this.renderer)),"data-layer"===this.source?.type&&(i.dynamicDataSource=this.source.clone()),this.originIdOf("title")>x.Gr.DEFAULTS&&(i.title=this.title),"map-image"===t?.type&&t.originIdOf("customParameters")>x.Gr.DEFAULTS&&(i.customParameters=t.customParameters),"tile"===t?.type&&t.originIdOf("customParameters")>x.Gr.DEFAULTS&&(i.customParameters=t.customParameters),i}getField(e){return this.fieldsIndex.get(e)}getFeatureType(e){return(0,k.xd)(this.types,this.typeIdField,e)}getFieldDomain(e,t){const n=t?.feature,r=this.getFeatureType(n);if(r){const t=r.domains&&r.domains[e];if(t&&"inherited"!==t.type)return t}return this._getLayerDomain(e)}async queryAttachments(e,t){await this.load(),e=G.A.from(e);const n=this.capabilities;if(!n?.data?.supportsAttachment)throw new l.A("queryAttachments:not-supported","this layer doesn't support attachments");const{attachmentTypes:r,objectIds:i,globalIds:o,num:s,size:a,start:c,where:u}=e;if(!n?.operations?.supportsQueryAttachments&&(r?.length>0||o?.length>0||a?.length>0||s||c||u))throw new l.A("queryAttachments:option-not-supported","when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",e);if(!(i?.length||o?.length||u))throw new l.A("queryAttachments:invalid-query","'objectIds', 'globalIds', or 'where' are required to perform attachment query",e);return!n?.attachment?.supportsOrderByFields&&e.orderByFields?.length&&((e=e.clone()).orderByFields=null),this.queryTask.executeAttachmentQuery(e,t)}async queryFeatureCount(e=this.createQuery(),t){if(await this.load(),!this.capabilities.operations.supportsQuery)throw new l.A("queryFeatureCount:not-supported","this layer doesn't support queries.");if(!this.url)throw new l.A("queryFeatureCount:not-supported","this layer has no url.");const n=this.layer?.apiKey;return await this.queryTask.executeForCount(e,{...t,query:{...this.layer?.customParameters,token:n}})}async queryFeatures(e=this.createQuery(),t){if(await this.load(),!this.capabilities.operations.supportsQuery)throw new l.A("queryFeatures:not-supported","this layer doesn't support queries.");if(!this.url)throw new l.A("queryFeatures:not-supported","this layer has no url.");const n=await this.queryTask.execute(e,{...t,query:{...this.layer?.customParameters,token:this.layer?.apiKey}});if(n?.features)for(const e of n.features)e.sourceLayer=this;return n}async queryObjectIds(e=this.createQuery(),t){if(await this.load(),!this.capabilities.operations.supportsQuery)throw new l.A("queryObjectIds:not-supported","this layer doesn't support queries.");if(!this.url)throw new l.A("queryObjectIds:not-supported","this layer has no url.");const n=this.layer?.apiKey;return await this.queryTask.executeForIds(e,{...t,query:{...this.layer?.customParameters,token:n}})}async queryRelatedFeatures(e,t){if(await this.load(),!this.capabilities.operations.supportsQuery)throw new l.A("queryRelatedFeatures:not-supported","this layer doesn't support queries.");if(!this.url)throw new l.A("queryRelatedFeatures:not-supported","this layer has no url.");const n=this.layer?.apiKey;return await this.queryTask.executeRelationshipQuery(e,{...t,query:{...this.layer?.customParameters,token:n}})}async queryRelatedFeaturesCount(e,t){if(await this.load(),!this.capabilities.operations.supportsQuery)throw new l.A("queryRelatedFeaturesCount:not-supported","this layer doesn't support queries.");if(!this.capabilities.queryRelated.supportsCount)throw new l.A("queryRelatedFeaturesCount:not-supported","this layer doesn't support query related counts.");if(!this.url)throw new l.A("queryRelatedFeaturesCount:not-supported","this layer has no url.");const n=this.layer?.apiKey;return await this.queryTask.executeRelationshipQueryForCount(e,{...t,query:{...this.layer?.customParameters,token:n}})}toExportImageJSON(e){const t={id:this.id,source:this.source?.toJSON()||{mapLayerId:this.id,type:"mapLayer"}},n=(0,m.mA)(e,this.definitionExpression);null!=n&&(t.definitionExpression=n);const r=["renderer","labelingInfo","opacity","labelsVisible"].reduce(((e,t)=>(e[t]=this.originIdOf(t),e)),{}),i=Object.keys(r).some((e=>r[e]>x.Gr.SERVICE));if(i){const e=t.drawingInfo={};if(r.renderer>x.Gr.SERVICE&&(e.renderer=this.renderer?this.renderer.toJSON():null),r.labelsVisible>x.Gr.SERVICE&&(e.showLabels=this.labelsVisible),this.labelsVisible&&r.labelingInfo>x.Gr.SERVICE)if(this.labelingInfo){!this.loaded&&this.labelingInfo?.some((e=>!e.labelPlacement))&&p.A.getLogger(this).warnOnce(`A Sublayer (title: ${this.title}, id: ${this.id}) has an undefined 'labelPlacement' and so labels cannot be displayed. Either define a valid 'labelPlacement' or call Sublayer.load() to use a default value based on geometry type.`,{sublayer:this});let t=this.labelingInfo;null!=this.geometryType&&(t=(0,D.z)(this.labelingInfo,I.gy.toJSON(this.geometryType))),e.showLabels=!0,e.labelingInfo=t.filter((e=>e.labelPlacement)).map((e=>e.toJSON({origin:"service",layer:this.layer})))}else e.showLabels=!1;r.opacity>x.Gr.SERVICE&&(e.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(e.renderer)}return(this.layer?.capabilities?.exportMap?.supportsSublayerOrderBy??!1)&&this.originIdOf("orderBy")>x.Gr.SERVICE&&(t.orderBy=this.orderBy?.map((e=>e.toJSON()))??null),t}_assignDefaultSymbolColors(e){this._forEachSimpleMarkerSymbols(e,(e=>{e.color||"esriSMSX"!==e.style&&"esriSMSCross"!==e.style||(e.outline?.color?e.color=e.outline.color:e.color=[0,0,0,0])}))}_forEachSimpleMarkerSymbols(e,t){if(e){const n=("uniqueValueInfos"in e?e.uniqueValueInfos:"classBreakInfos"in e?e.classBreakInfos:null)??[];for(const e of n)K(e.symbol)&&t(e.symbol);"symbol"in e&&K(e.symbol)&&t(e.symbol),"defaultSymbol"in e&&K(e.defaultSymbol)&&t(e.defaultSymbol)}}_setAndNotifyLayer(e,t){const n=this.layer,r=this._get(e);let i,o;switch(e){case"definitionExpression":case"floorInfo":i="supportsSublayerDefinitionExpression";break;case"minScale":case"maxScale":case"visible":i="supportsSublayerVisibility";break;case"labelingInfo":case"labelsVisible":case"opacity":case"renderer":case"source":i="supportsDynamicLayers",o="supportsModification";break;case"orderBy":i="supportsSublayerOrderBy",o="supportsModification"}const s=(0,M.oY)(this).getDefaultOrigin();if("service"!==s){if(i&&!1===this.layer?.capabilities?.exportMap?.[i])return void this._logLockedError(e,`capability not available 'layer.capabilities.exportMap.${i}'`);if(o&&!1===this.capabilities?.exportMap[o])return void this._logLockedError(e,`capability not available 'capabilities.exportMap.${o}'`)}"source"!==e||"not-loaded"===this.loadStatus?(this._set(e,t),"service"!==s&&r!==t&&n&&n.emit&&n.emit("sublayer-update",{propertyName:e,target:this})):this._logLockedError(e,"'source' can't be changed after calling sublayer.load()")}_handleSublayersChange(e,t){t&&(t.forEach((e=>{e.parent=null,e.layer=null})),this.removeAllHandles()),e&&(e.forEach((e=>{e.parent=this,e.layer=this.layer})),this.addHandles([e.on("after-add",(({item:e})=>{e.parent=this,e.layer=this.layer})),e.on("after-remove",(({item:e})=>{e.parent=null,e.layer=null})),e.on("before-changes",(e=>{(this.layer?.capabilities?.exportMap?.supportsSublayersChanges??1)||(p.A.getLogger(this).error(new l.A("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:this,layer:this.layer})),e.preventDefault())}))]))}_logLockedError(e,t){const{layer:n,declaredClass:r}=this;p.A.getLogger(r).error(new l.A("sublayer:locked",`Property '${String(e)}' can't be changed on Sublayer from the layer '${n?.id}'`,{reason:t,sublayer:this,layer:n}))}_getLayerDomain(e){return this.fieldsIndex.get(e)?.domain??null}static{this.test={isMapImageLayerOverridePolicy:e=>e===te||e===ee||e===X,isTileImageLayerOverridePolicy:e=>e===Q}}};(0,i._)([(0,g.MZ)({type:J.A,json:{name:"attributeTableInfo",write:{overridePolicy:X},origins:{"web-scene":{write:!1}}}})],oe.prototype,"attributeTableTemplate",void 0),(0,i._)([(0,g.MZ)({readOnly:!0})],oe.prototype,"capabilities",void 0),(0,i._)([(0,b.w)("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],oe.prototype,"readCapabilities",null),(0,i._)([(0,g.MZ)()],oe.prototype,"defaultPopupTemplate",null),(0,i._)([(0,g.MZ)({type:String,value:null,json:{name:"layerDefinition.definitionExpression",write:{allowNull:!0,overridePolicy:X}}})],oe.prototype,"definitionExpression",null),(0,i._)([(0,g.MZ)({readOnly:!0})],oe.prototype,"effectiveScaleRange",null),(0,i._)([(0,b.w)("service","maxScaleRange",["minScale","maxScale"])],oe.prototype,"readMaxScaleRange",null),(0,i._)([(0,g.MZ)({type:[R.A],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],oe.prototype,"fields",void 0),(0,i._)([(0,g.MZ)({readOnly:!0})],oe.prototype,"fieldsIndex",null),(0,i._)([(0,g.MZ)({type:F.A,value:null,json:{name:"layerDefinition.floorInfo",read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo",overridePolicy:X},origins:{"web-scene":{read:!1,write:!1}}}})],oe.prototype,"floorInfo",null),(0,i._)([(0,g.MZ)({type:A.A,json:{read:{source:"layerDefinition.extent"}}})],oe.prototype,"fullExtent",void 0),(0,i._)([(0,g.MZ)({type:I.gy.apiValues,json:{origins:{service:{name:"layerDefinition.geometryType",read:{reader:I.gy.read}}}}})],oe.prototype,"geometryType",void 0),(0,i._)([(0,g.MZ)({type:String})],oe.prototype,"globalIdField",void 0),(0,i._)([(0,b.w)("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],oe.prototype,"readGlobalIdFieldFromService",null),(0,i._)([(0,g.MZ)({type:S.jz,json:{write:{ignoreOrigin:!0}}})],oe.prototype,"id",null),(0,i._)([(0,g.MZ)({readOnly:!0})],oe.prototype,"isTable",void 0),(0,i._)([(0,b.w)("service","isTable",["type"])],oe.prototype,"readIsTable",null),(0,i._)([(0,g.MZ)({value:null,type:[L.A],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:te}}})],oe.prototype,"labelingInfo",null),(0,i._)([(0,_.K)("labelingInfo")],oe.prototype,"writeLabelingInfo",null),(0,i._)([(0,g.MZ)({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:ee}}})],oe.prototype,"labelsVisible",null),(0,i._)([(0,g.MZ)({value:null})],oe.prototype,"layer",null),(0,i._)([(0,g.MZ)({type:String,json:{write:{overridePolicy:Q}}})],oe.prototype,"layerItemId",void 0),(0,i._)([(0,g.MZ)({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:ne}}})],oe.prototype,"legendEnabled",void 0),(0,i._)([(0,g.MZ)({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],oe.prototype,"listMode",null),(0,i._)([(0,g.MZ)({type:Number,value:0,json:{write:{overridePolicy:ee}}})],oe.prototype,"minScale",null),(0,i._)([(0,b.w)("minScale",["minScale","layerDefinition.minScale"])],oe.prototype,"readMinScale",null),(0,i._)([(0,g.MZ)({type:Number,value:0,json:{write:{overridePolicy:ee}}})],oe.prototype,"maxScale",null),(0,i._)([(0,b.w)("maxScale",["maxScale","layerDefinition.maxScale"])],oe.prototype,"readMaxScale",null),(0,i._)([(0,g.MZ)()],oe.prototype,"objectIdField",void 0),(0,i._)([(0,b.w)("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],oe.prototype,"readObjectIdFieldFromService",null),(0,i._)([(0,g.MZ)({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:ee}}})],oe.prototype,"opacity",null),(0,i._)([(0,b.w)("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],oe.prototype,"readOpacity",null),(0,i._)([(0,_.K)("opacity")],oe.prototype,"writeOpacity",null),(0,i._)([(0,g.MZ)({value:null,type:[j.A],json:{name:"layerDefinition.orderBy",read:{reader:E.Rr},write:{overridePolicy:X},origins:{"web-scene":{read:!1,write:!1}}}})],oe.prototype,"orderBy",null),(0,i._)([(0,g.MZ)({json:{type:S.jz,write:{target:"parentLayerId",writerEnsuresNonNull:!0,overridePolicy:ee}}})],oe.prototype,"parent",void 0),(0,i._)([(0,_.K)("parent")],oe.prototype,"writeParent",null),(0,i._)([(0,g.MZ)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(e,t)=>!t.disablePopup},write:{target:"disablePopup",overridePolicy:ne,writer(e,t,n){t[n]=!e}}}})],oe.prototype,"popupEnabled",void 0),(0,i._)([(0,g.MZ)({type:o.A,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:ne}}})],oe.prototype,"popupTemplate",void 0),(0,i._)([(0,g.MZ)({readOnly:!0})],oe.prototype,"queryTask",null),(0,i._)([(0,g.MZ)({type:[Z.A],readOnly:!0,json:{origins:{service:{read:{source:"layerDefinition.relationships"}}}}})],oe.prototype,"relationships",void 0),(0,i._)([(0,g.MZ)({types:B.Hg,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:te},origins:{"web-scene":{types:B.XJ,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:te}}}}})],oe.prototype,"renderer",null),(0,i._)([(0,g.MZ)({types:{key:"type",base:null,typeMap:{"data-layer":z.L,"map-layer":V.f}},cast(e){if(e){if("mapLayerId"in e)return(0,S.PZ)(V.f,e);if("dataSource"in e)return(0,S.PZ)(z.L,e)}return e},json:{name:"layerDefinition.source",write:{overridePolicy:ee}}})],oe.prototype,"source",null),(0,i._)([(0,g.MZ)()],oe.prototype,"sourceJSON",void 0),(0,i._)([(0,g.MZ)({type:T.A,json:{origins:{service:{read:{source:"layerDefinition.extent.spatialReference"}}}}})],oe.prototype,"spatialReference",void 0),(0,i._)([(0,g.MZ)({value:null,json:{type:[S.jz],write:{target:"subLayerIds",allowNull:!0,overridePolicy:ee}}})],oe.prototype,"sublayers",null),(0,i._)([(0,v.w)("sublayers")],oe.prototype,"castSublayers",null),(0,i._)([(0,_.K)("sublayers")],oe.prototype,"writeSublayers",null),(0,i._)([(0,g.MZ)({type:String,json:{name:"name",write:{overridePolicy:ne}}})],oe.prototype,"title",void 0),(0,i._)([(0,b.w)("service","title",["name","layerDefinition.name"])],oe.prototype,"readTitle",null),(0,i._)([(0,g.MZ)({type:String})],oe.prototype,"typeIdField",void 0),(0,i._)([(0,g.MZ)({json:{read:!1},readOnly:!0,value:"sublayer"})],oe.prototype,"type",void 0),(0,i._)([(0,b.w)("typeIdField",["layerDefinition.typeIdField"])],oe.prototype,"readTypeIdField",null),(0,i._)([(0,g.MZ)({type:[P.A],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],oe.prototype,"types",void 0),(0,i._)([(0,g.MZ)({type:String,json:{name:"layerUrl",write:{overridePolicy:Q}}})],oe.prototype,"url",null),(0,i._)([(0,g.MZ)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:ee}}})],oe.prototype,"visible",null),(0,i._)([(0,_.K)("visible")],oe.prototype,"writeVisible",null),oe=r=(0,i._)([(0,w.$)("esri.layers.support.Sublayer")],oe)},93399:function(e,t,n){"use strict";function r(){const e=[];for(let t=0;t<=257;t++)e[t]=[t];return e}function i(e,t){for(let n=0;n<t.length;n++)e.push(t[n])}n.d(t,{D:function(){return s}});const o=new Set;function s(e,t,n,s=!0){const a=function(e,t,n,r=!0){if(t%4!=0||n%4!=0){const i=new ArrayBuffer(4*Math.ceil(n/4)),o=new Uint8Array(i),s=new Uint8Array(e,t,n);if(r)for(let e=0;e<o.length;e+=4)o[e]=s[e+3],o[e+1]=s[e+2],o[e+2]=s[e+1],o[e+3]=s[e];else o.set(s);return new Uint32Array(o.buffer)}if(r){const r=new Uint8Array(e,t,n),i=new Uint8Array(r.length);for(let e=0;e<i.length;e+=4)i[e]=r[e+3],i[e+1]=r[e+2],i[e+2]=r[e+1],i[e+3]=r[e];return new Uint32Array(i.buffer)}return new Uint32Array(e,t,n/4)}(e,t,n,s);let l=9,c=r(),u=32,d=c.length,h=[],p=1,f=a[0],m=0;const y=a.length,g=8*(4*y-n),v=[];for(;null!=f;){if(u>=l)u-=l,m=f>>>32-l,f<<=l;else{m=f>>>32-u,f=a[p++];const e=l-u;u=32-e,m=(m<<e)+(f>>>u),f<<=e}if(257===m)break;if(256===m){l=9,c=r(),d=c.length,h=[];continue}const e=c[m];if(null==e){if(m>c.length)throw new Error("data integrity issue: code does not exist on code page");h.push(h[0]),c[d++]=h.slice(),i(v,h)}else i(v,e),h.push(e[0]),h.length>1&&(c[d++]=h.slice()),h=e.slice();if(o.has(d)&&l++,0===u&&(f=a[p++],u=32),p>y||p===y&&u<=g)break}return new Uint8Array(v)}o.add(511),o.add(1023),o.add(2047),o.add(4095),o.add(8191)},93446:function(e,t,n){"use strict";function r(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function i(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}n.d(t,{o8:function(){return i},vt:function(){return r}});Object.freeze(Object.defineProperty({__proto__:null,clone:i,create:r,fromValues:function(e,t,n,r,i,o,s,a,l){const c=new Float32Array(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=s,c[7]=a,c[8]=l,c}},Symbol.toStringTag,{value:"Module"}))},93611:function(e,t,n){"use strict";n.d(t,{Fe:function(){return p},KU:function(){return g},Km:function(){return o},Nk:function(){return l}});var r=n(93814),i=n(77234);function o(e,t,n,r){if(e)if("CIMTextSymbol"!==e.type){if(n&&e.effects)for(const n of e.effects)a(n,t);if(e.symbolLayers)for(const n of e.symbolLayers){switch(n.type){case"CIMPictureMarker":case"CIMVectorMarker":s(n,t,r);break;case"CIMPictureStroke":case"CIMSolidStroke":case"CIMGradientStroke":!r?.preserveOutlineWidth&&n.width&&(n.width*=t);break;case"CIMPictureFill":n.height&&(n.height*=t),n.offsetX&&(n.offsetX*=t),n.offsetY&&(n.offsetY*=t);break;case"CIMHatchFill":o(n.lineSymbol,t,!0,{...r,preserveOutlineWidth:!1}),n.offsetX&&(n.offsetX*=t),n.offsetY&&(n.offsetY*=t),n.separation&&(n.separation*=t)}if(n.effects)for(const e of n.effects)a(e,t)}}else null!=e.height&&(e.height*=t)}function s(e,t,n){if(e&&(e.markerPlacement&&function(e,t){switch((0,i.zr)(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const n=e.placementTemplate.map((e=>e*t));e.placementTemplate=n}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const n=e.placementTemplate.map((e=>e*t));e.placementTemplate=n}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&"Absolute"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size=null!=e.size?e.size*t:0,"CIMVectorMarker"===e.type&&e.markerGraphics))for(const r of e.markerGraphics)e.scaleSymbolsProportionally||o(r.symbol,t,!0,n)}function a(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=t);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const n=e.dashTemplate.map((e=>e*t));e.dashTemplate=n}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function l(e){const t=[];return c((0,i.lW)(e),t),t.length?new r.A((0,i.e6)(t[0])):null}function c(e,t){if(!e)return;let n;n="CIMTextSymbol"===e.type?e.symbol:e;const r="CIMPolygonSymbol"===e.type;if(n?.symbolLayers)for(const e of n.symbolLayers)if(!(e.colorLocked||r&&((0,i.mA)(e)||(0,i.MM)(e)&&e.markerPlacement&&(0,i.zr)(e.markerPlacement))))switch(e.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":e.tintColor&&u(t,e.tintColor);break;case"CIMVectorMarker":e.markerGraphics?.forEach((e=>{c(e.symbol,t)}));break;case"CIMSolidStroke":case"CIMSolidFill":u(t,e.color);break;case"CIMGradientFill":d(t,e);break;case"CIMHatchFill":c(e.lineSymbol,t)}}function u(e,t){for(const n of e)if(n.join(".")===t.join("."))return;e.push(t)}function d(e,t){const n=t.colorRamp?.type;switch(n){case"CIMMultipartColorRamp":t.colorRamp.colorRamps?.forEach((t=>{"CIMLinearContinuousColorRamp"===t.type&&h(e,t)}));break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":h(e,t.colorRamp)}}function h(e,t){t&&(t.fromColor&&u(e,t.fromColor),t.toColor&&u(e,t.toColor))}function p(e,t,n){t instanceof r.A||(t=new r.A(t));const o=(0,i.lW)(e);o&&f(o,t,n)}function f(e,t,n){if(!e)return;let r;r="CIMTextSymbol"===e.type?e.symbol:e;const o="CIMPolygonSymbol"===r?.type;if(r?.symbolLayers)for(const e of r.symbolLayers){if(e.colorLocked)continue;if(o)if(n){const{layersToColor:t}=n;if(((0,i.mA)(e)||(0,i.MM)(e)&&e.markerPlacement&&(0,i.zr)(e.markerPlacement))&&"fill"===t||(0,i.jn)(e)&&"outline"===t)continue}else if((0,i.mA)(e)||(0,i.MM)(e)&&e.markerPlacement&&(0,i.zr)(e.markerPlacement))continue;const r=t.toArray();switch(e.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":e.tintColor=r;break;case"CIMVectorMarker":e.markerGraphics?.forEach((e=>{f(e.symbol,t,n)}));break;case"CIMSolidStroke":case"CIMSolidFill":e.color=r;break;case"CIMGradientFill":m(e,t);break;case"CIMHatchFill":f(e.lineSymbol,t,n)}}}function m(e,t){const n=e.colorRamp?.type;switch(n){case"CIMMultipartColorRamp":e.colorRamp.colorRamps?.forEach((e=>{"CIMLinearContinuousColorRamp"===e.type&&y(e,t)}));break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":y(e.colorRamp,t)}}function y(e,t){if(e&&(e.fromColor&&(e.fromColor=t.toArray()),e.toColor)){const n=t.clone();n.a=0,e.toColor=n.toArray()}}function g(e,t,n=!1){const r=(0,i.lW)(e);if(n&&(t=360-t),"CIMTextSymbol"!==r?.type){if("CIMPointSymbol"===r?.type&&r.symbolLayers){const e=t-(r.angle||0);for(const t of r.symbolLayers)if((0,i.MM)(t)){let n=t.rotation||0;t.rotateClockwise?n-=e:n+=e,t.rotation=n}r.angle=t}}else r.angle=t}},93802:function(e,t,n){"use strict";n.d(t,{D:function(){return o},p:function(){return i}});var r=n(8636);function i(e){const t=(0,r.Vr)(100*(1-e));return Math.max(0,Math.min(t,100))}function o(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}},93814:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r,i,o=n(36137),s=n(4506),a=n(8636);function l(e){return(0,s.qE)((0,a.Vr)(e),0,255)}function c(e,t){const n=e.toString(16).padStart(2,"0");return t?n.slice(0,1):n}class u{static blendColors(e,t,n,r=new u){return r.r=Math.round(e.r+(t.r-e.r)*n),r.g=Math.round(e.g+(t.g-e.g)*n),r.b=Math.round(e.b+(t.b-e.b)*n),r.a=e.a+(t.a-e.a)*n,r._sanitize()}static fromRgb(e,t){const n=(0,o.lT)(e);return n?u.fromArray(n,t):null}static fromHex(e,t=new u){const n=(0,o.oW)(e);return n?u.fromArray(n,t):null}static fromArray(e,t=new u){return t._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(t.a)&&(t.a=1),t._sanitize()}static fromString(e,t){const n=(0,o.Eq)(e);return n?u.fromArray(n,t):null}static fromJSON(e){return null!=e?new u([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return null!=e?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return null!=e?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return"string"==typeof e?u.fromString(e,this):Array.isArray(e)?u.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof u||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const t=e?.capitalize??!1,n=e?.digits??6,r=3===n||4===n,i=4===n||8===n,o=`#${c(this.r,r)}${c(this.g,r)}${c(this.b,r)}${i?c(Math.round(255*this.a),r):""}`;return t?o.toUpperCase():o}toCss(e=!1){const t=this.r+", "+this.g+", "+this.b;return e?`rgba(${t}, ${this.a})`:`rgb(${t})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=u.AlphaMode.ALWAYS){const t=l(this.r),n=l(this.g),r=l(this.b);return e===u.AlphaMode.ALWAYS||1!==this.a?[t,n,r,l(255*this.a)]:[t,n,r]}clone(){return new u(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return null!=e&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=(0,o.c1)(this.r),this.g=(0,o.c1)(this.g),this.b=(0,o.c1)(this.b),this.a=(0,o.G1)(this.a),this}_set(e,t,n,r){this.r=e,this.g=t,this.b=n,this.a=r}}u.prototype.declaredClass="esri.Color",r=u||(u={}),(i=r.AlphaMode||(r.AlphaMode={}))[i.ALWAYS=0]="ALWAYS",i[i.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";const d=u},94464:function(e,t,n){"use strict";n.d(t,{$0:function(){return d},B8:function(){return s},CV:function(){return h},D_:function(){return i},Tl:function(){return u},e$:function(){return l},hZ:function(){return o},hs:function(){return c},kN:function(){return p},lw:function(){return a}});var r=n(78115);function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function o(e,t,n,r,i,o,s){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e}function s(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5];let l=n*o-r*i;return l?(l=1/l,e[0]=o*l,e[1]=-r*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*a-o*s)*l,e[5]=(r*s-n*a)*l,e):null}function a(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=n[0],u=n[1],d=n[2],h=n[3],p=n[4],f=n[5];return e[0]=r*c+o*u,e[1]=i*c+s*u,e[2]=r*d+o*h,e[3]=i*d+s*h,e[4]=r*p+o*f+a,e[5]=i*p+s*f+l,e}function l(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*c,e[1]=i*u+s*c,e[2]=r*-c+o*u,e[3]=i*-c+s*u,e[4]=a,e[5]=l,e}function c(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=n[0],u=n[1];return e[0]=r*c,e[1]=i*c,e[2]=o*u,e[3]=s*u,e[4]=a,e[5]=l,e}function u(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=n[0],u=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=s,e[4]=r*c+o*u+a,e[5]=i*c+s*u+l,e}function d(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function h(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function p(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function f(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}const m=a,y=f;Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},equals:function(e,t){const n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=t[0],u=t[1],d=t[2],h=t[3],p=t[4],f=t[5],m=(0,r.FD)();return Math.abs(n-c)<=m*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(i-u)<=m*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-d)<=m*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-h)<=m*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(a-p)<=m*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(l-f)<=m*Math.max(1,Math.abs(l),Math.abs(f))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)},fromRotation:d,fromScaling:h,fromTranslation:p,identity:i,invert:s,mul:m,multiply:a,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e},rotate:l,scale:c,set:o,str:function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},sub:y,subtract:f,translate:u},Symbol.toStringTag,{value:"Module"}))},94598:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var r,i=n(82392),o=n(58842),s=n(15565),a=n(81482),l=(n(6273),n(80861),n(85716)),c=n(26325),u=n(62932),d=n(31873),h=n(884),p=n(20593);const f=o.A.ofType({base:null,key:"type",typeMap:{text:d.A}});let m=r=class extends u.A{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new f,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,h.LH)(this)}hasVisibleVerticalOffset(){return(0,h.Yq)(this)}clone(){return new r({styleOrigin:(0,s.o8)(this.styleOrigin),symbolLayers:(0,s.o8)(this.symbolLayers),thumbnail:(0,s.o8)(this.thumbnail),callout:(0,s.o8)(this.callout),verticalOffset:(0,s.o8)(this.verticalOffset)})}static fromTextSymbol(e){return new r({symbolLayers:new o.A([d.A.fromTextSymbol(e)])})}};(0,i._)([(0,a.MZ)({type:p.A,json:{write:!0}})],m.prototype,"verticalOffset",void 0),(0,i._)([(0,a.MZ)(h.oG)],m.prototype,"callout",void 0),(0,i._)([(0,a.MZ)({json:{read:!1,write:!1}})],m.prototype,"styleOrigin",void 0),(0,i._)([(0,a.MZ)({type:f})],m.prototype,"symbolLayers",void 0),(0,i._)([(0,l.e)({LabelSymbol3D:"label-3d"},{readOnly:!0})],m.prototype,"type",void 0),m=r=(0,i._)([(0,c.$)("esri.symbols.LabelSymbol3D")],m)},94763:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(26325));const s=e=>{let t=class extends e{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?this.portalItem?.apiKey:null}set apiKey(e){null!=e?this._override("apiKey",e):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,r._)([(0,i.MZ)({type:String})],t.prototype,"apiKey",null),t=(0,r._)([(0,o.$)("esri.layers.mixins.APIKeyMixin")],t),t}},94832:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});const r=new(n(1817).J)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},94838:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r,i=n(82392),o=n(14755),s=n(1817),a=n(84977),l=n(81482),c=n(8636),u=(n(6273),n(67498),n(85716)),d=n(26325);const h=(0,s.O)()({ascendingValues:"ascending-values",descendingValues:"descending-values"});let p=r=class extends(o.A.ClonableMixin(a.A)){static from(e){return(0,c.PZ)(r,e)}constructor(e){super(e),this.title=null,this.order=null}};(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],p.prototype,"title",void 0),(0,i._)([(0,u.e)(h)],p.prototype,"order",void 0),p=r=(0,i._)([(0,d.$)("esri.renderers.support.RendererLegendOptions")],p);const f=p},94925:function(e,t,n){"use strict";n.d(t,{M:function(){return o}});var r=n(47917),i=n(10319);class o{constructor(e,t){this._owner=t,this._properties={},this._afterDispatchHandle=null;for(const t in e){const n=e[t],i=new r.P(n,void 0,void 0,2,2);this._properties[t]={pool:i,acquired:[]}}this._afterDispatchHandle=(0,i.rs)((()=>this._release()))}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const e in this._properties){const t=this._properties[e];for(const e of t.acquired)(0,i.Gs)(e)||t.pool.release(e);t.pool.destroy(),t.pool=null,t.acquired=null}this._properties=null,this._owner=null}get(e){const t=this._owner._get(e),n=this._properties[e];let r=n.pool.acquire();for(n.acquired.push(r);r===t;)n.acquired.push(r),r=n.pool.acquire();return r}_release(){for(const e in this._properties){const t=this._properties[e];let n=0;for(const e of t.acquired)(0,i.Gs)(e)?t.acquired[n++]=e:t.pool.release(e);t.acquired.length=n}}}},95039:function(e,t,n){"use strict";var r=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,i.default)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):new Date(NaN)};var i=r(n(73738)),o=r(n(10427));e.exports=t.default},95055:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(26325)),s=n(71276);let a=class extends s.A{constructor(e){super(e),this.filterBarriers=[],this.arcadeExpressionBarrier=null,this.circuitName=null,this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.allowIndeterminateFlow=null,this.includeUpToFirstSpatialContainer=null,this.inferConnectivity=null,this.maxHops=null,this.nearestNeighbor=null,this.numPaths=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.diagramTemplateName=null,this.tierName=null,this.validateLocatability=null}};(0,r._)([(0,i.MZ)({type:[Object],json:{write:!0}})],a.prototype,"filterBarriers",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],a.prototype,"arcadeExpressionBarrier",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],a.prototype,"circuitName",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],a.prototype,"domainNetworkName",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],a.prototype,"filterBitsetNetworkAttributeName",void 0),(0,r._)([(0,i.MZ)({type:[Object],json:{write:!0}})],a.prototype,"filterFunctionBarriers",void 0),(0,r._)([(0,i.MZ)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],a.prototype,"filterScope",void 0),(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],a.prototype,"includeContainers",void 0),(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],a.prototype,"includeContent",void 0),(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],a.prototype,"includeIsolated",void 0),(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],a.prototype,"includeStructures",void 0),(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],a.prototype,"allowIndeterminateFlow",void 0),(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],a.prototype,"includeUpToFirstSpatialContainer",void 0),(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],a.prototype,"inferConnectivity",void 0),(0,r._)([(0,i.MZ)({type:Number,json:{write:!0}})],a.prototype,"maxHops",void 0),(0,r._)([(0,i.MZ)({type:Object,json:{write:!0}})],a.prototype,"nearestNeighbor",void 0),(0,r._)([(0,i.MZ)({type:Number,json:{write:!0}})],a.prototype,"numPaths",void 0),(0,r._)([(0,i.MZ)({type:[Object],json:{write:!0}})],a.prototype,"outputFilterCategories",void 0),(0,r._)([(0,i.MZ)({type:[Object],json:{write:!0}})],a.prototype,"outputFilters",void 0),(0,r._)([(0,i.MZ)({type:[Object],json:{write:!0}})],a.prototype,"propagators",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],a.prototype,"subnetworkName",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],a.prototype,"targetTierName",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],a.prototype,"diagramTemplateName",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],a.prototype,"tierName",void 0),(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],a.prototype,"validateLocatability",void 0),a=(0,r._)([(0,o.$)("esri.networks.support.UNTraceConfiguration")],a);const l=a},95254:function(e,t,n){"use strict";n.d(t,{IJ:function(){return f},Jf:function(){return v},Pk:function(){return y},eW:function(){return p},gW:function(){return g},kS:function(){return m}});var r=n(38116),i=n(19759),o=n(56053),s=n(87249),a=n(67488),l=n(49173),c=n(91039),u=n(11378);const d="Layer does not support extent calculation.";function h(e,t,n){const r=e.geometry,i=e.toJSON();delete i.compactGeometryEnabled,delete i.defaultSpatialReferenceEnabled;const s=i;let l,c,u;if(r&&(c=r.spatialReference,u=(0,a.YX)(c),s.geometryType=(0,o.$B)(r),s.geometry=function(e,t){if(t&&"extent"===e.type)return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`;if(t&&"point"===e.type)return`${e.x},${e.y}`;const n=e.toJSON();return delete n.spatialReference,JSON.stringify(n)}(r,e.compactGeometryEnabled),s.inSR=u),i.groupByFieldsForStatistics&&(s.groupByFieldsForStatistics=i.groupByFieldsForStatistics.join(",")),i.objectIds)switch(n?.uniqueIdFields?.length){case void 0:s.objectIds=i.objectIds.join(",");break;case 1:s.uniqueIds=JSON.stringify(i.objectIds),delete s.objectIds;break;default:s.uniqueIds=JSON.stringify(i.objectIds.map((e=>JSON.parse(e)))),delete s.objectIds}if(i.orderByFields&&(s.orderByFields=i.orderByFields.join(",")),!i.outFields||!i.returnDistinctValues&&(t?.returnCountOnly||t?.returnExtentOnly||t?.returnIdsOnly)?delete s.outFields:i.outFields.includes("*")?s.outFields="*":s.outFields=i.outFields.join(","),i.outSR?(s.outSR=(0,a.YX)(i.outSR),l=e.outSpatialReference):r&&(i.returnGeometry||i.returnCentroid)&&(s.outSR=s.inSR,l=c),i.returnGeometry&&delete i.returnGeometry,i.outStatistics&&(s.outStatistics=JSON.stringify(i.outStatistics)),i.fullText&&(s.fullText=JSON.stringify(i.fullText)),i.pixelSize&&(s.pixelSize=JSON.stringify(i.pixelSize)),i.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&null!=c&&null!=e.quantizationParameters?.extent&&c.equals(e.quantizationParameters.extent.spatialReference)&&delete i.quantizationParameters.extent.spatialReference,s.quantizationParameters=JSON.stringify(i.quantizationParameters)),i.parameterValues&&(s.parameterValues=JSON.stringify(i.parameterValues)),i.rangeValues&&(s.rangeValues=JSON.stringify(i.rangeValues)),i.dynamicDataSource&&(s.layer=JSON.stringify({source:i.dynamicDataSource}),delete i.dynamicDataSource),i.timeExtent){const e=i.timeExtent,{start:t,end:n}=e;null==t&&null==n||(s.time=t===n?t:`${t??"null"},${n??"null"}`),delete i.timeExtent}return e.defaultSpatialReferenceEnabled&&null!=c&&null!=l&&c.equals(l)&&(s.defaultSR=s.inSR,delete s.inSR,delete s.outSR),s}async function p(e,t,n,r,i){const o=t.timeExtent?.isEmpty?{data:{features:[]}}:await w(e,t,"json",r,void 0,i);return(0,u.q)(t,n,o.data),o}async function f(e,t,n,r,i){if(t.timeExtent?.isEmpty)return{data:n.createFeatureResult()};const o=await m(e,t,r,i),s=o;return s.data=(0,c.m)(o.data,n),s}function m(e,t,n,r){return w(e,t,"pbf",n,void 0,r)}function y(e,t,n,r){return t.timeExtent?.isEmpty?Promise.resolve({data:{objectIds:[]}}):w(e,t,"json",n,{returnIdsOnly:!0},r)}function g(e,t,n,r){return t.timeExtent?.isEmpty?Promise.resolve({data:{count:0}}):w(e,t,"json",n,{returnIdsOnly:!0,returnCountOnly:!0},r)}async function v(e,t,n){if(t.timeExtent?.isEmpty)return{data:{count:0,extent:null}};const r=await w(e,t,"json",n,{returnExtentOnly:!0,returnCountOnly:!0}),i=r.data;if(i.hasOwnProperty("extent"))return r;if(i.features)throw new Error(d);if(i.hasOwnProperty("count"))throw new Error(d);return r}function b(e,t){if(!e.returnIdsOnly||!t.uniqueIdFields)return e;const n={...e,returnUniqueIdsOnly:!0};return delete n.returnIdsOnly,n}async function w(e,t,n,o={},a={},c={}){const u="string"==typeof e?(0,i.An)(e):e,d=t.geometry?[t.geometry]:[],p=await(0,s.el)(d,null,{signal:o.signal}),f=p?.[0];null!=f&&((t=t.clone()).geometry=f);const m=(0,l.z)({...u.query,f:n,...b(a,c),...h(t,a,c)});return(0,r.A)((0,i.fj)(u.path,(y=a,null==t.formatOf3DObjects||y.returnCountOnly||y.returnExtentOnly||y.returnIdsOnly?"query":"query3d")),{...o,responseType:"pbf"===n?"array-buffer":"json",query:{...m,...o.query}});var y}},95604:function(e,t,n){"use strict";n.d(t,{W5:function(){return de}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i={exports:{}},o={},s={exports:{}},a={};function l(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var c=/javascript\s*\:/gim;a.whiteList=l(),a.getDefaultWhiteList=l,a.onAttr=function(e,t,n){},a.onIgnoreAttr=function(e,t,n){},a.safeAttrValue=function(e,t){return c.test(t)?"":t};var u={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},d=u;var h=function(e,t){";"!==(e=d.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,r=!1,i=0,o=0,s="";function a(){if(!r){var n=d.trim(e.slice(i,o)),a=n.indexOf(":");if(-1!==a){var l=d.trim(n.slice(0,a)),c=d.trim(n.slice(a+1));if(l){var u=t(i,s.length,l,c,n);u&&(s+=u+"; ")}}}i=o+1}for(;o<n;o++){var l=e[o];if("/"===l&&"*"===e[o+1]){var c=e.indexOf("*/",o+2);if(-1===c)break;i=(o=c+1)+1,r=!1}else"("===l?r=!0:")"===l?r=!1:";"===l?r||a():"\n"===l&&a()}return d.trim(s)},p=a,f=h;function m(e){return null==e}function y(e){e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{}),e.whiteList=e.whiteList||p.whiteList,e.onAttr=e.onAttr||p.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||p.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||p.safeAttrValue,this.options=e}y.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,i=t.onIgnoreAttr,o=t.safeAttrValue;return f(e,(function(e,t,s,a,l){var c=n[s],u=!1;if(!0===c?u=c:"function"==typeof c?u=c(a):c instanceof RegExp&&(u=c.test(a)),!0!==u&&(u=!1),a=o(s,a)){var d,h={position:t,sourcePosition:e,source:l,isWhite:u};return u?m(d=r(s,a,h))?s+":"+a:d:m(d=i(s,a,h))?void 0:d}}))};var g=y;!function(e,t){var n=a,r=g;for(var i in(t=e.exports=function(e,t){return new r(t).process(e)}).FilterCSS=r,n)t[i]=n[i]}(s,s.exports);var v=s.exports,b={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}},w=v.FilterCSS,_=v.getDefaultWhiteList,S=b;function x(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var M=new w;function A(e){return e.replace(T,"&lt;").replace(I,"&gt;")}var T=/</g,I=/>/g,C=/"/g,E=/&quot;/g,k=/&#([a-zA-Z0-9]*);?/gim,P=/&colon;?/gim,R=/&newline;?/gim,O=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,N=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,L=/u\s*r\s*l\s*\(.*/gi;function D(e){return e.replace(C,"&quot;")}function F(e){return e.replace(E,'"')}function j(e){return e.replace(k,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function Z(e){return e.replace(P,":").replace(R," ")}function U(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return S.trim(t)}function z(e){return e=U(e=Z(e=j(e=F(e))))}function V(e){return e=A(e=D(e))}o.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},o.getDefaultWhiteList=x,o.onTag=function(e,t,n){},o.onIgnoreTag=function(e,t,n){},o.onTagAttr=function(e,t,n){},o.onIgnoreTagAttr=function(e,t,n){},o.safeAttrValue=function(e,t,n,r){if(n=z(n),"href"===t||"src"===t){if("#"===(n=S.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(O.lastIndex=0,O.test(n))return""}else if("style"===t){if(N.lastIndex=0,N.test(n))return"";if(L.lastIndex=0,L.test(n)&&(O.lastIndex=0,O.test(n)))return"";!1!==r&&(n=(r=r||M).process(n))}return n=V(n)},o.escapeHtml=A,o.escapeQuote=D,o.unescapeQuote=F,o.escapeHtmlEntities=j,o.escapeDangerHtml5Entities=Z,o.clearNonPrintableCharacter=U,o.friendlyAttrValue=z,o.escapeAttrValue=V,o.onIgnoreTagStripAll=function(){return""},o.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],i=!1;return{onIgnoreTag:function(o,s,a){if(function(t){return!!n||-1!==S.indexOf(e,t)}(o)){if(a.isClosing){var l="[/removed]",c=a.position+10;return r.push([!1!==i?i:a.position,c]),i=!1,l}return i||(i=a.position),"[removed]"}return t(o,s,a)},remove:function(e){var t="",n=0;return S.forEach(r,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n)}}},o.stripCommentTag=function(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("\x3c!--",n);if(-1===r){t+=e.slice(n);break}t+=e.slice(n,r);var i=e.indexOf("--\x3e",r);if(-1===i)break;n=i+3}return t},o.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},o.cssFilter=M,o.getDefaultCSSWhiteList=_;var B={},$=b;function G(e){var t,n=$.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=$.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function q(e){return"</"===e.slice(0,2)}var H=/[^a-zA-Z0-9\\_:.-]/gim;function W(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function J(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}}function K(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function Y(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}B.parseTag=function(e,t,n){var r="",i=0,o=!1,s=!1,a=0,l=e.length,c="",u="";e:for(a=0;a<l;a++){var d=e.charAt(a);if(!1===o){if("<"===d){o=a;continue}}else if(!1===s){if("<"===d){r+=n(e.slice(i,a)),o=a,i=a;continue}if(">"===d){r+=n(e.slice(i,o)),c=G(u=e.slice(o,a+1)),r+=t(o,r.length,c,u,q(u)),i=a+1,o=!1;continue}if('"'===d||"'"===d)for(var h=1,p=e.charAt(a-h);""===p.trim()||"="===p;){if("="===p){s=d;continue e}p=e.charAt(a-++h)}}else if(d===s){s=!1;continue}}return i<e.length&&(r+=n(e.substr(i))),r},B.parseAttr=function(e,t){var n=0,r=0,i=[],o=!1,s=e.length;function a(e,n){if(!((e=(e=$.trim(e)).replace(H,"").toLowerCase()).length<1)){var r=t(e,n||"");r&&i.push(r)}}for(var l=0;l<s;l++){var c,u=e.charAt(l);if(!1!==o||"="!==u)if(!1===o||l!==r)if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===o){if(-1===(c=W(e,l))){a($.trim(e.slice(n,l))),o=!1,n=l+1;continue}l=c-1;continue}if(-1===(c=K(e,l-1))){a(o,Y($.trim(e.slice(n,l)))),o=!1,n=l+1;continue}}else;else{if(-1===(c=e.indexOf(u,l+1)))break;a(o,$.trim(e.slice(r+1,c))),o=!1,n=(l=c)+1}else o=e.slice(n,l),n=l+1,r='"'===e.charAt(n)||"'"===e.charAt(n)?n:J(e,l+1)}return n<e.length&&(!1===o?a(e.slice(n)):a(o,Y($.trim(e.slice(n))))),$.trim(i.join(" "))};var X=v.FilterCSS,Q=o,ee=B,te=ee.parseTag,ne=ee.parseAttr,re=b;function ie(e){return null==e}function oe(e){e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag,e.onIgnoreTag=Q.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map((function(e){return e.toLowerCase()})):t[n.toLowerCase()]=e[n];return t}(e.whiteList||e.allowList):e.whiteList=Q.whiteList,e.onTag=e.onTag||Q.onTag,e.onTagAttr=e.onTagAttr||Q.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Q.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Q.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Q.safeAttrValue,e.escapeHtml=e.escapeHtml||Q.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new X(e.css))}oe.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,i=t.onIgnoreTag,o=t.onTagAttr,s=t.onIgnoreTagAttr,a=t.safeAttrValue,l=t.escapeHtml,c=this.cssFilter;t.stripBlankChar&&(e=Q.stripBlankChar(e)),t.allowCommentTag||(e=Q.stripCommentTag(e));var u=!1;t.stripIgnoreTagBody&&(u=Q.StripTagBody(t.stripIgnoreTagBody,i),i=u.onIgnoreTag);var d=te(e,(function(e,t,u,d,h){var p={sourcePosition:e,position:t,isClosing:h,isWhite:Object.prototype.hasOwnProperty.call(n,u)},f=r(u,d,p);if(!ie(f))return f;if(p.isWhite){if(p.isClosing)return"</"+u+">";var m=function(e){var t=re.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=re.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=re.trim(e.slice(0,-1))),{html:e,closing:n}}(d),y=n[u],g=ne(m.html,(function(e,t){var n=-1!==re.indexOf(y,e),r=o(u,e,t,n);return ie(r)?n?(t=a(u,e,t,c))?e+'="'+t+'"':e:ie(r=s(u,e,t,n))?void 0:r:r}));return d="<"+u,g&&(d+=" "+g),m.closing&&(d+=" /"),d+=">"}return ie(f=i(u,d,p))?l(d):f}),l);return u&&(d=u.remove(d)),d};var se=oe;!function(e,t){var n=o,r=B,i=se;function s(e,t){return new i(t).process(e)}(t=e.exports=s).filterXSS=s,t.FilterXSS=i,function(){for(var e in n)t[e]=n[e];for(var i in r)t[i]=r[i]}(),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(i,i.exports);var ae=i.exports,le=function(){function e(e,t){var n,i=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=r(r({},ae.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,n,r){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?i.sanitizeUrl(n):ae.safeAttrValue(e,t,n,r)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"},e&&!t?n=e:e&&t?((n=Object.create(this.arcgisFilterOptions)).css={whiteList:this.arcgisCSSWhiteList},Object.keys(e).forEach((function(t){if("whiteList"===t)n.whiteList=i._extendObjectOfArrays([i.arcgisWhiteList,e.whiteList||{}]);else if("css"===t){var r=e.css.whiteList;null!=r&&e.css instanceof Object&&Object.keys(r).forEach((function(e){return n.css.whiteList[e]=r[e]}))}else n[t]=e[t]}))):((n=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,n.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=n,this._xssFilter=new ae.FilterXSS(n)}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&void 0===e)return;return null}},e.prototype.sanitizeUrl=function(e,t){var n=(null!=t?t:{}).isProtocolRequired,r=void 0===n||n,i=this._trim(e.substring(0,e.indexOf(":"))),o="/"===e,s=/^#/.test(e),a=i&&this.allowedProtocols.indexOf(i.toLowerCase())>-1;return o||s||a?ae.escapeAttrValue(e):i||r?"":ae.escapeAttrValue("https://".concat(e))},e.prototype.sanitizeHTMLAttribute=function(e,t,n,r){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,n,r):ae.safeAttrValue(e,t,n,r)},e.prototype.validate=function(e,t){void 0===t&&(t={});var n=this.sanitize(e,t);return{isValid:e===n,sanitized:n}},e.prototype.encodeHTML=function(e){var t=this;return String(e).replace(/[&<>"'\/]/g,(function(e){return t._entityMap[e]}))},e.prototype.encodeAttrValue=function(e){var t=/^[a-zA-Z0-9]$/;return String(e).replace(/[\x00-\xFF]/g,(function(n,r){return t.test(n)?n:"&#x".concat(Number(e.charCodeAt(r)).toString(16),";")}))},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(n){Array.isArray(e[n])&&Array.isArray(t[n])?t[n]=t[n].concat(e[n]):t[n]=e[n]}))})),t},e.prototype._iterateOverObject=function(e,t){var n=this;void 0===t&&(t={});try{var r=!1,i=void 0;if(Array.isArray(e))i=e.reduce((function(e,i){var o=n.validate(i,t);return o.isValid?e.concat([i]):(r=!0,e.concat([o.sanitized]))}),[]);else{if(!function(e){if("object"!=typeof e||null===e)return!1;if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e)){if(t.allowUndefined&&void 0===e)return;return null}i=Object.keys(e).reduce((function(i,o){var s=e[o],a=n.validate(s,t);return a.isValid?i[o]=s:(r=!0,i[o]=a.sanitized),i}),{})}return r?i:e}catch(e){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}();const ce=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce(((e,t)=>(e[t]=[],e)),{}),ue=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],de=new le({whiteList:ce,onTagAttr:(e,t,n)=>{const r=`${t}="${n}"`;if(ue.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0)},95610:function(e,t,n){"use strict";n.d(t,{tn:function(){return c}});var r=n(20879),i=n(46227),o=n(6135),s=(n(23547),n(60854),n(70261),n(79640)),a=(n(54213),n(57705),n(834),n(62489),n(22980)),l=n(46495);function c({displayField:e,editFieldsInfo:t,fields:n,objectIdField:a,title:l},c){if(!n)return null;const u=h({editFieldsInfo:t,fields:n,objectIdField:a},c);if(!u.length)return null;const d=function(e){const t=(0,i.mB)(e),{titleBase:n}=e;return t?`${n}: {${t.trim()}}`:n??""}({titleBase:l,fields:n,displayField:e}),p=[new s.A,new o.A];return new r.A({title:d,content:p,fieldInfos:u})}const u=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):(0,i.Bz)(e,t);function d(e,t){return"oid"===e.type?-1:"oid"===t.type?1:f(e)?-1:f(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function h(e,t){const n=t?.visibleFieldNames;return function({fields:e,ignoreFieldTypes:t,sortDisabled:n}){const r=e;return t&&(e=e.filter((e=>!t.includes(e.type)))),e===r&&(e=e.slice()),!0!==n&&e.sort(d),e}({fields:e.fields??[],ignoreFieldTypes:t?.ignoreFieldTypes||m,sortDisabled:t?.sortDisabled}).map((t=>new a.A({fieldName:t.name,isEditable:(0,i.R$)(t,e),label:t.alias,format:p(t),visible:u(t,{...e,visibleFieldNames:n})})))}function p(e){switch(e.type){case"small-integer":case"integer":case"single":return new l.A({digitSeparator:!0,places:0});case"double":return new l.A({digitSeparator:!0,places:2});case"string":return(0,i.JL)(e.name)?new l.A({digitSeparator:!0,places:0}):void 0;default:return}}function f(e){if("name"===(e.name&&e.name.toLowerCase()))return!0;const t=e.alias?.toLowerCase();return"name"===t}const m=["geometry","blob","raster","guid","xml"]},95617:function(e,t,n){"use strict";n.d(t,{E0:function(){return m},PP:function(){return y},SC:function(){return h},di:function(){return f},fw:function(){return d},ng:function(){return l},rk:function(){return a},yy:function(){return p}});var r=n(83371),i=n(11012),o=n(86924);const s=1,a=1/111e3;function l(e){let{altitude:t,azimuth:n}=e;const{hillshadeType:r,pixelSizePower:i=1,pixelSizeFactor:o=1,scalingType:s,isGCS:l,resolution:c}=e,u="multi-directional"===r?2*e.zFactor:e.zFactor,{x:d,y:h}=c;let p=u/(8*d),f=u/(8*h);if(l&&u>.001&&(p/=a,f/=a),"adjusted"===s)if(l){const e=d*a,t=h*a;p=(u+e**i*o)/(8*e),f=(u+t**i*o)/(8*t)}else p=(u+d**i*o)/(8*d),f=(u+h**i*o)/(8*h);let m=(90-t)*Math.PI/180,y=Math.cos(m),g=(360-n+90)*Math.PI/180,v=Math.sin(m)*Math.cos(g),b=Math.sin(m)*Math.sin(g);const w=[315,270,225,360,180,0],_=[60,60,60,60,60,90],S=new Float32Array([3,5,3,2,1,4]),x=S.reduce(((e,t)=>e+t)),M=S.map((e=>e/x)),A="multi-directional"===r?w.length:1,T=new Float32Array(6),I=new Float32Array(6),C=new Float32Array(6);if("multi-directional"===r)for(let e=0;e<A;e++)t=_[e],n=w[e],m=(90-t)*Math.PI/180,y=Math.cos(m),g=(360-n+90)*Math.PI/180,v=Math.sin(m)*Math.cos(g),b=Math.sin(m)*Math.sin(g),T[e]=y,I[e]=v,C[e]=b;else T.fill(y),I.fill(v),C.fill(b);return{resolution:c,factor:[p,f],sinZcosA:v,sinZsinA:b,cosZ:y,sinZcosAs:[...I],sinZsinAs:[...C],cosZs:[...T],weights:[...M],hillshadeType:["traditional","multi-directional"].indexOf(r)}}function c(e,t){const{width:n,height:r}=e,i=n*r,o=new Uint8Array(i),a=null!=e.mask;let l;if(a){l=new Uint8Array(e.mask);for(let e=0;e<l.length;e++)l[e]&&(o[e]=1,l[e]=1)}const c=e.pixels[0],u=new Float32Array(i),d=new Float32Array(i);let h,p=0;if(t){const{resolution:e}=t,n=e?(e.x+e.y)/2:1;p=200*t.zFactor/(n*n),h=new Float32Array(i)}const f=t?.curvatureType;let m,y,g,v,b,w,_,S;for(let e=s;e<r-s;e++){const t=e*n;for(let e=s;e<n-s;e++){const r=t+e;if(!l||0!==l[r]){if(l){if(l[r-n-1]+l[r-n]+l[r-n+1]+l[r-1]+l[r+1]+l[r+n-1]+l[r+n]+l[r+n+1]<7){o[r]=0;continue}m=l[r-n-1]?c[r-n-1]:c[r],y=l[r-n]?c[r-n]:c[r],g=l[r-n+1]?c[r-n+1]:c[r],v=l[r-1]?c[r-1]:c[r],b=l[r+1]?c[r+1]:c[r],w=l[r+n-1]?c[r+n-1]:c[r],_=l[r+n]?c[r+n]:c[r],S=l[r+n+1]?c[r+n+1]:c[r]}else m=c[r-n-1],y=c[r-n],g=c[r-n+1],v=c[r-1],b=c[r+1],w=c[r+n-1],_=c[r+n],S=c[r+n+1];if(u[r]=g+b+b+S-(m+v+v+w),d[r]=w+_+_+S-(m+y+y+g),null!=h){const e=c[r],t=.5*(v+b)-e,n=.5*(y+_)-e;if("standard"===f)h[r]=-p*(t+n);else{const e=(-m+g+w-S)/4,i=(-v+b)/2,o=(y-_)/2,s=i*i,a=o*o,l=s+a;l&&(h[r]="profile"===f?p*(t*s+n*a+e*i*o)/l:-p*(t*a+n*s-e*i*o)/l)}}}}}return{outMask:a?o:null,dzxs:u,dzys:d,curvatures:h}}function u(e,t,n){for(let r=0;r<n;r++)e[r*t]=e[r*t+1],e[(r+1)*t-1]=e[(r+1)*t-2];for(let r=1;r<t-1;r++)e[r]=e[r+t],e[r+(n-1)*t]=e[r+(n-2)*t]}function d(e,t){if(!(0,o.AB)(e))return e;const{factor:n,sinZcosA:a,sinZsinA:d,cosZ:h,sinZcosAs:p,sinZsinAs:f,cosZs:m,weights:y}=l(t),[g,v]=n,b="traditional"===t.hillshadeType,{width:w,height:_}=e,S=new Uint8Array(w*_),{dzxs:x,dzys:M,outMask:A}=c(e);for(let e=s;e<_-s;e++){const t=e*w;for(let e=s;e<w-s;e++){const n=t+e;if(!A||A[n]){const e=x[n]*g,t=M[n]*v,r=Math.sqrt(1+e*e+t*t);let i=0;if(b){let n=255*(h+d*t-a*e)/r;n<0&&(n=0),i=n}else{const n=f.length;for(let o=0;o<n;o++){let n=255*(m[o]+f[o]*t-p[o]*e)/r;n<0&&(n=0),i+=n*y[o]}}S[n]=255&i}}}return u(S,w,_),new r.A({width:w,height:_,pixels:[S],mask:A,pixelType:"u8",validPixelCount:e.validPixelCount,statistics:[new i.z(0,255)]})}function h(e,t,n,r){if(!(0,o.AB)(e)||!(0,o.AB)(t))return;const{min:i,max:s}=r,a=e.pixels[0],{pixels:l,mask:c}=t,u=l[0],d=255.00001/(s-i),h=new Uint8ClampedArray(u.length),p=new Uint8ClampedArray(u.length),f=new Uint8ClampedArray(u.length),m=n.length-1;for(let e=0;e<u.length;e++){if(c&&0===c[e])continue;const t=Math.floor((u[e]-i)*d),[r,o]=n[t<0?0:t>m?m:t],s=a[e],l=s*o,y=l*(1-Math.abs(r%2-1)),g=s-l;switch(Math.floor(r)){case 0:h[e]=l+g,p[e]=y+g,f[e]=g;break;case 1:h[e]=y+g,p[e]=l+g,f[e]=g;break;case 2:h[e]=g,p[e]=l+g,f[e]=y+g;break;case 3:h[e]=g,p[e]=y+g,f[e]=l+g;break;case 4:h[e]=y+g,p[e]=g,f[e]=l+g;break;case 5:case 6:h[e]=l+g,p[e]=g,f[e]=y+g}}e.pixels=[h,p,f],e.updateStatistics()}function p(e,t){if(!(0,o.AB)(e))return e;const n=t.zFactor,i=t.pixelSizePower??1,l=t.pixelSizeFactor??1,d=t.slopeType,h=t.isGCS,{x:p,y:f}=t.resolution;let m=n/(8*p),y=n/(8*f);h&&Math.abs(n-1)<1e-4&&(m/=a,y/=a),"adjusted"===d&&(m=(n+p**i*l)/(8*p),y=(n+f**i*l)/(8*f));const{dzxs:g,dzys:v,outMask:b}=c(e),{width:w,height:_}=e,S=new Float32Array(w*_);for(let e=s;e<_-s;e++){const t=e*w;for(let e=s;e<w-s;e++){const n=t+e;if(!b||b[n]){const r=g[n]*m,i=v[n]*y,o=Math.sqrt(r*r+i*i);S[t+e]="percent-rise"===d?100*o:57.2957795*Math.atan(o)}}}u(S,w,_);const x=new r.A({width:w,height:_,pixels:[S],mask:b,pixelType:"f32",validPixelCount:e.validPixelCount});return x.updateStatistics(),x}function f(e,t={}){if(!(0,o.AB)(e))return e;const{resolution:n}=t,a=n?1/n.x:1,l=n?1/n.y:1,{dzxs:d,dzys:h,outMask:p}=c(e),{width:f,height:m}=e,y=new Float32Array(f*m);for(let e=s;e<m-s;e++){const t=e*f;for(let e=s;e<f-s;e++){const n=t+e;if(!p||p[n]){const r=d[n]*a,i=h[n]*l;let o=-1;0===r&&0===i||(o=90-57.29578*Math.atan2(i,-r),o<0&&(o+=360),360===o?o=0:o>360&&(o%=360)),y[t+e]=o}}}return u(y,f,m),new r.A({width:f,height:m,pixels:[y],mask:p,pixelType:"f32",validPixelCount:e.validPixelCount,statistics:[new i.z(-1,360)]})}function m(e,t){if(!(0,o.AB)(e))return e;const{curvatures:n,outMask:i}=c(e,t),{width:s,height:a}=e;u(n,s,a);const l=new r.A({width:s,height:a,pixels:[n],mask:i,pixelType:"f32",validPixelCount:e.validPixelCount});return l.updateStatistics(),l}function y(e,t,n){const{hillshadeType:r,altitude:i,azimuth:o,zFactor:s,pixelSizeFactor:a,pixelSizePower:l,slopeType:c}=e;return{hillshadeType:r,altitude:i,azimuth:o,zFactor:s,pixelSizePower:l,pixelSizeFactor:a,scalingType:"scaled"===c?"adjusted":"none",resolution:t,isGCS:n}}},95665:function(e,t,n){"use strict";n.d(t,{R:function(){return o},t:function(){return s}});var r=n(2980);const i={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,n)=>{"-"===t.charAt(0)?e.style.setProperty(t,n):e.style[t]=n}};let o=e=>(0,r.X$)(i,e),s={create:(e,t)=>(t=o(t),(0,r.dj)(e,document.createElement("div"),void 0,t),(0,r.Av)(e,t)),append:(e,t,n)=>(n=o(n),(0,r.dj)(t,e,void 0,n),(0,r.Av)(t,n)),insertBefore:(e,t,n)=>(n=o(n),(0,r.dj)(t,e.parentNode,e,n),(0,r.Av)(t,n)),merge:(e,t,n)=>(n=o(n),t.domNode=e,(0,r.OM)(e,t,n),(0,r.Av)(t,n)),replace:(e,t,n)=>(n=o(n),(0,r.dj)(t,e.parentNode,e,n),e.parentNode.removeChild(e),(0,r.Av)(t,n))}},95752:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});const r=(0,n(1817).O)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},95827:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r,i=n(82392),o=n(84977),s=n(15565),a=n(81482),l=n(8636),c=n(26325),u=n(48524);let d=class extends o.A{static{r=this}constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.orderByFields=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new r((0,s.o8)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,i._)([(0,a.MZ)({type:[String],json:{write:!0}})],d.prototype,"attachmentTypes",void 0),(0,i._)([(0,a.MZ)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],d.prototype,"attachmentsWhere",void 0),(0,i._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"cacheHint",void 0),(0,i._)([(0,a.MZ)({type:[String],json:{write:!0}})],d.prototype,"keywords",void 0),(0,i._)([(0,a.MZ)({type:[String],json:{write:!0}})],d.prototype,"globalIds",void 0),(0,i._)([(0,a.MZ)({json:{write:!0}})],d.prototype,"name",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],d.prototype,"num",void 0),(0,i._)([(0,a.MZ)({type:[Number],json:{write:!0}})],d.prototype,"objectIds",void 0),(0,i._)([(0,a.MZ)({type:[String],json:{write:!0}})],d.prototype,"orderByFields",void 0),(0,i._)([(0,a.MZ)({type:Boolean,json:{default:!1,write:!0}})],d.prototype,"returnMetadata",void 0),(0,i._)([(0,a.MZ)({type:[Number],json:{write:!0}})],d.prototype,"size",void 0),(0,i._)([(0,a.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],d.prototype,"start",void 0),(0,i._)([(0,u.K)("start"),(0,u.K)("num")],d.prototype,"writeStart",null),(0,i._)([(0,a.MZ)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],d.prototype,"where",void 0),d=r=(0,i._)([(0,c.$)("esri.rest.support.AttachmentQuery")],d),d.from=(0,l.dp)(d)},96285:function(e,t,n){"use strict";n.d(t,{c9:function(){return vr},mQ:function(){return oe},oh:function(){return V},bo:function(){return D}});class r extends Error{}class i extends r{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class o extends r{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class s extends r{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class a extends r{}class l extends r{constructor(e){super(`Invalid unit ${e}`)}}class c extends r{}class u extends r{constructor(){super("Zone is an abstract class")}}const d="numeric",h="short",p="long",f={year:d,month:d,day:d},m={year:d,month:h,day:d},y={year:d,month:h,day:d,weekday:h},g={year:d,month:p,day:d},v={year:d,month:p,day:d,weekday:p},b={hour:d,minute:d},w={hour:d,minute:d,second:d},_={hour:d,minute:d,second:d,timeZoneName:h},S={hour:d,minute:d,second:d,timeZoneName:p},x={hour:d,minute:d,hourCycle:"h23"},M={hour:d,minute:d,second:d,hourCycle:"h23"},A={hour:d,minute:d,second:d,hourCycle:"h23",timeZoneName:h},T={hour:d,minute:d,second:d,hourCycle:"h23",timeZoneName:p},I={year:d,month:d,day:d,hour:d,minute:d},C={year:d,month:d,day:d,hour:d,minute:d,second:d},E={year:d,month:h,day:d,hour:d,minute:d},k={year:d,month:h,day:d,hour:d,minute:d,second:d},P={year:d,month:h,day:d,weekday:h,hour:d,minute:d},R={year:d,month:p,day:d,hour:d,minute:d,timeZoneName:h},O={year:d,month:p,day:d,hour:d,minute:d,second:d,timeZoneName:h},N={year:d,month:p,day:d,weekday:p,hour:d,minute:d,timeZoneName:p},L={year:d,month:p,day:d,weekday:p,hour:d,minute:d,second:d,timeZoneName:p};class D{get type(){throw new u}get name(){throw new u}get ianaName(){return this.name}get isUniversal(){throw new u}offsetName(e,t){throw new u}formatOffset(e,t){throw new u}offset(e){throw new u}equals(e){throw new u}get isValid(){throw new u}}let F=null;class j extends D{static get instance(){return null===F&&(F=new j),F}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return ot(e,t,n)}formatOffset(e,t){return ct(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}const Z=new Map;const U={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};const z=new Map;class V extends D{static create(e){let t=z.get(e);return void 0===t&&z.set(e,t=new V(e)),t}static resetCache(){z.clear(),Z.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}constructor(e){super(),this.zoneName=e,this.valid=V.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return ot(e,t,n,this.name)}formatOffset(e,t){return ct(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const n=function(e){let t=Z.get(e);return void 0===t&&(t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),Z.set(e,t)),t}(this.name);let[r,i,o,s,a,l,c]=n.formatToParts?function(e,t){const n=e.formatToParts(t),r=[];for(let e=0;e<n.length;e++){const{type:t,value:i}=n[e],o=U[t];"era"===t?r[o]=i:Fe(o)||(r[o]=parseInt(i,10))}return r}(n,t):function(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,o,s,a,l,c,u]=r;return[s,i,o,a,l,c,u]}(n,t);"BC"===s&&(r=1-Math.abs(r));let u=+t;const d=u%1e3;return u-=d>=0?d:1e3+d,(tt({year:r,month:i,day:o,hour:24===a?0:a,minute:l,second:c,millisecond:0})-u)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let B={};const $=new Map;function G(e,t={}){const n=JSON.stringify([e,t]);let r=$.get(n);return void 0===r&&(r=new Intl.DateTimeFormat(e,t),$.set(n,r)),r}const q=new Map;const H=new Map;let W=null;const J=new Map;function K(e){let t=J.get(e);return void 0===t&&(t=new Intl.DateTimeFormat(e).resolvedOptions(),J.set(e,t)),t}const Y=new Map;function X(e,t,n,r){const i=e.listingMode();return"error"===i?null:"en"===i?n(t):r(t)}class Q{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:r,floor:i,...o}=n;if(!t||Object.keys(o).length>0){const t={useGrouping:!1,...n};n.padTo>0&&(t.minimumIntegerDigits=n.padTo),this.inf=function(e,t={}){const n=JSON.stringify([e,t]);let r=q.get(n);return void 0===r&&(r=new Intl.NumberFormat(e,t),q.set(n,r)),r}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return He(this.floor?Math.floor(e):Ye(e,3),this.padTo)}}class ee{constructor(e,t,n){let r;if(this.opts=n,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const t=e.offset/60*-1,n=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&V.create(n).valid?(r=n,this.dt=e):(r="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||r,this.dtf=G(t,i)}format(){return this.originalZone?this.formatToParts().map((({value:e})=>e)).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map((e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}return e})):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class te{constructor(e,t,n){this.opts={style:"long",...n},!t&&Ue()&&(this.rtf=function(e,t={}){const{base:n,...r}=t,i=JSON.stringify([e,r]);let o=H.get(i);return void 0===o&&(o=new Intl.RelativeTimeFormat(e,t),H.set(i,o)),o}(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&o){const n="days"===e;switch(t){case 1:return n?"tomorrow":`next ${i[e][0]}`;case-1:return n?"yesterday":`last ${i[e][0]}`;case 0:return n?"today":`this ${i[e][0]}`}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),l=1===a,c=i[e],u=r?l?c[1]:c[2]||c[1]:l?i[e][0]:e;return s?`${a} ${u} ago`:`in ${a} ${u}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const ne={firstDay:1,minimalDays:4,weekend:[6,7]};class re{static fromOpts(e){return re.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,n,r,i=!1){const o=e||_e.defaultLocale,s=o||(i?"en-US":W||(W=(new Intl.DateTimeFormat).resolvedOptions().locale,W)),a=t||_e.defaultNumberingSystem,l=n||_e.defaultOutputCalendar,c=Ge(r)||_e.defaultWeekSettings;return new re(s,a,l,c,o)}static resetCache(){W=null,$.clear(),q.clear(),H.clear(),J.clear(),Y.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:n,weekSettings:r}={}){return re.create(e,t,n,r)}constructor(e,t,n,r,i){const[o,s,a]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(-1===n)return[e];{let t,r;try{t=G(e).resolvedOptions(),r=e}catch(i){const o=e.substring(0,n);t=G(o).resolvedOptions(),r=o}const{numberingSystem:i,calendar:o}=t;return[r,i,o]}}(e);this.locale=o,this.numberingSystem=t||s||null,this.outputCalendar=n||a||null,this.weekSettings=r,this.intl=function(e,t,n){return n||t?(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===K(e.locale).numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?re.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Ge(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return X(this,e,ft,(()=>{const n=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=function(e){const t=[];for(let n=1;n<=12;n++){const r=vr.utc(2009,n,1);t.push(e(r))}return t}((e=>this.extract(e,n,"month")))),this.monthsCache[r][e]}))}weekdays(e,t=!1){return X(this,e,vt,(()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=function(e){const t=[];for(let n=1;n<=7;n++){const r=vr.utc(2016,11,13+n);t.push(e(r))}return t}((e=>this.extract(e,n,"weekday")))),this.weekdaysCache[r][e]}))}meridiems(){return X(this,void 0,(()=>bt),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[vr.utc(2016,11,13,9),vr.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e){return X(this,e,xt,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[vr.utc(-40,1,1),vr.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,n){const r=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===n));return r?r.value:null}numberFormatter(e={}){return new Q(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new ee(e,this.intl,t)}relFormatter(e={}){return new te(this.intl,this.isEnglish(),e)}listFormatter(e={}){return function(e,t={}){const n=JSON.stringify([e,t]);let r=B[n];return r||(r=new Intl.ListFormat(e,t),B[n]=r),r}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||K(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:ze()?function(e){let t=Y.get(e);if(!t){const n=new Intl.Locale(e);t="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,"minimalDays"in t||(t={...ne,...t}),Y.set(e,t)}return t}(this.locale):ne}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let ie=null;class oe extends D{static get utcInstance(){return null===ie&&(ie=new oe(0)),ie}static instance(e){return 0===e?oe.utcInstance:new oe(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new oe(st(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${ct(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${ct(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return ct(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class se extends D{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ae(e,t){if(Fe(e)||null===e)return t;if(e instanceof D)return e;if("string"==typeof e){const n=e.toLowerCase();return"default"===n?t:"local"===n||"system"===n?j.instance:"utc"===n||"gmt"===n?oe.utcInstance:oe.parseSpecifier(n)||V.create(e)}return je(e)?oe.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new se(e)}const le={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},ce={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ue=le.hanidec.replace(/[\[|\]]/g,"").split("");const de=new Map;function he({numberingSystem:e},t=""){const n=e||"latn";let r=de.get(n);void 0===r&&(r=new Map,de.set(n,r));let i=r.get(t);return void 0===i&&(i=new RegExp(`${le[n]}${t}`),r.set(t,i)),i}let pe,fe=()=>Date.now(),me="system",ye=null,ge=null,ve=null,be=60,we=null;class _e{static get now(){return fe}static set now(e){fe=e}static set defaultZone(e){me=e}static get defaultZone(){return ae(me,j.instance)}static get defaultLocale(){return ye}static set defaultLocale(e){ye=e}static get defaultNumberingSystem(){return ge}static set defaultNumberingSystem(e){ge=e}static get defaultOutputCalendar(){return ve}static set defaultOutputCalendar(e){ve=e}static get defaultWeekSettings(){return we}static set defaultWeekSettings(e){we=Ge(e)}static get twoDigitCutoffYear(){return be}static set twoDigitCutoffYear(e){be=e%100}static get throwOnInvalid(){return pe}static set throwOnInvalid(e){pe=e}static resetCaches(){re.resetCache(),V.resetCache(),vr.resetCache(),de.clear()}}class Se{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const xe=[0,31,59,90,120,151,181,212,243,273,304,334],Me=[0,31,60,91,121,152,182,213,244,274,305,335];function Ae(e,t){return new Se("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function Te(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return 0===i?7:i}function Ie(e,t,n){return n+(Xe(e)?Me:xe)[t-1]}function Ce(e,t){const n=Xe(e)?Me:xe,r=n.findIndex((e=>e<t));return{month:r+1,day:t-n[r]}}function Ee(e,t){return(e-t+7)%7+1}function ke(e,t=4,n=1){const{year:r,month:i,day:o}=e,s=Ie(r,i,o),a=Ee(Te(r,i,o),n);let l,c=Math.floor((s-a+14-t)/7);return c<1?(l=r-1,c=rt(l,t,n)):c>rt(r,t,n)?(l=r+1,c=1):l=r,{weekYear:l,weekNumber:c,weekday:a,...ut(e)}}function Pe(e,t=4,n=1){const{weekYear:r,weekNumber:i,weekday:o}=e,s=Ee(Te(r,1,t),n),a=Qe(r);let l,c=7*i+o-s-7+t;c<1?(l=r-1,c+=Qe(l)):c>a?(l=r+1,c-=Qe(r)):l=r;const{month:u,day:d}=Ce(l,c);return{year:l,month:u,day:d,...ut(e)}}function Re(e){const{year:t,month:n,day:r}=e;return{year:t,ordinal:Ie(t,n,r),...ut(e)}}function Oe(e){const{year:t,ordinal:n}=e,{month:r,day:i}=Ce(t,n);return{year:t,month:r,day:i,...ut(e)}}function Ne(e,t){if(!Fe(e.localWeekday)||!Fe(e.localWeekNumber)||!Fe(e.localWeekYear)){if(!Fe(e.weekday)||!Fe(e.weekNumber)||!Fe(e.weekYear))throw new a("Cannot mix locale-based week fields with ISO-based week fields");return Fe(e.localWeekday)||(e.weekday=e.localWeekday),Fe(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Fe(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function Le(e){const t=Ze(e.year),n=qe(e.month,1,12),r=qe(e.day,1,et(e.year,e.month));return t?n?!r&&Ae("day",e.day):Ae("month",e.month):Ae("year",e.year)}function De(e){const{hour:t,minute:n,second:r,millisecond:i}=e,o=qe(t,0,23)||24===t&&0===n&&0===r&&0===i,s=qe(n,0,59),a=qe(r,0,59),l=qe(i,0,999);return o?s?a?!l&&Ae("millisecond",i):Ae("second",r):Ae("minute",n):Ae("hour",t)}function Fe(e){return void 0===e}function je(e){return"number"==typeof e}function Ze(e){return"number"==typeof e&&e%1==0}function Ue(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function ze(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function Ve(e,t,n){if(0!==e.length)return e.reduce(((e,r)=>{const i=[t(r),r];return e&&n(e[0],i[0])===e[0]?e:i}),null)[1]}function Be(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}function $e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ge(e){if(null==e)return null;if("object"!=typeof e)throw new c("Week settings must be an object");if(!qe(e.firstDay,1,7)||!qe(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some((e=>!qe(e,1,7))))throw new c("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function qe(e,t,n){return Ze(e)&&e>=t&&e<=n}function He(e,t=2){let n;return n=e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),n}function We(e){return Fe(e)||null===e||""===e?void 0:parseInt(e,10)}function Je(e){return Fe(e)||null===e||""===e?void 0:parseFloat(e)}function Ke(e){if(!Fe(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Ye(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function Xe(e){return e%4==0&&(e%100!=0||e%400==0)}function Qe(e){return Xe(e)?366:365}function et(e,t){const n=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===n?Xe(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function tt(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function nt(e,t,n){return-Ee(Te(e,1,t),n)+t-1}function rt(e,t=4,n=1){const r=nt(e,t,n),i=nt(e+1,t,n);return(Qe(e)-r+i)/7}function it(e){return e>99?e:e>_e.twoDigitCutoffYear?1900+e:2e3+e}function ot(e,t,n,r=null){const i=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);const s={timeZoneName:t,...o},a=new Intl.DateTimeFormat(n,s).formatToParts(i).find((e=>"timezonename"===e.type.toLowerCase()));return a?a.value:null}function st(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function at(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new c(`Invalid unit value ${e}`);return t}function lt(e,t){const n={};for(const r in e)if($e(e,r)){const i=e[r];if(null==i)continue;n[t(r)]=at(i)}return n}function ct(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${He(n,2)}:${He(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${He(n,2)}${He(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function ut(e){return Be(e,["hour","minute","second","millisecond"])}const dt=["January","February","March","April","May","June","July","August","September","October","November","December"],ht=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pt=["J","F","M","A","M","J","J","A","S","O","N","D"];function ft(e){switch(e){case"narrow":return[...pt];case"short":return[...ht];case"long":return[...dt];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const mt=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],yt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],gt=["M","T","W","T","F","S","S"];function vt(e){switch(e){case"narrow":return[...gt];case"short":return[...yt];case"long":return[...mt];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const bt=["AM","PM"],wt=["Before Christ","Anno Domini"],_t=["BC","AD"],St=["B","A"];function xt(e){switch(e){case"narrow":return[...St];case"short":return[..._t];case"long":return[...wt];default:return null}}function Mt(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const At={D:f,DD:m,DDD:g,DDDD:v,t:b,tt:w,ttt:_,tttt:S,T:x,TT:M,TTT:A,TTTT:T,f:I,ff:E,fff:R,ffff:N,F:C,FF:k,FFF:O,FFFF:L};class Tt{static create(e,t={}){return new Tt(e,t)}static parseFormat(e){let t=null,n="",r=!1;const i=[];for(let o=0;o<e.length;o++){const s=e.charAt(o);"'"===s?(n.length>0&&i.push({literal:r||/^\s+$/.test(n),val:n}),t=null,n="",r=!r):r||s===t?n+=s:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=s,t=s)}return n.length>0&&i.push({literal:r||/^\s+$/.test(n),val:n}),i}static macroTokenToFormatOpts(e){return At[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return He(e,t);const n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n="en"===this.loc.listingMode(),r=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,i=(t,n)=>this.loc.extract(e,t,n),o=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",s=()=>n?function(e){return bt[e.hour<12?0:1]}(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(t,r)=>n?function(e,t){return ft(t)[e.month-1]}(e,t):i(r?{month:t}:{month:t,day:"numeric"},"month"),l=(t,r)=>n?function(e,t){return vt(t)[e.weekday-1]}(e,t):i(r?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),c=t=>{const n=Tt.macroTokenToFormatOpts(t);return n?this.formatWithSystemDefault(e,n):t},u=t=>n?function(e,t){return xt(t)[e.year<0?0:1]}(e,t):i({era:t},"era");return Mt(Tt.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return s();case"d":return r?i({day:"numeric"},"day"):this.num(e.day);case"dd":return r?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return r?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return r?i({month:"numeric"},"month"):this.num(e.month);case"MM":return r?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return r?i({year:"numeric"},"year"):this.num(e.year);case"yy":return r?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(t)}}))}formatDurationFromString(e,t){const n=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=Tt.parseFormat(t),i=r.reduce(((e,{literal:t,val:n})=>t?e:e.concat(n)),[]);return Mt(r,(e=>t=>{const r=n(t);return r?this.num(e.get(r),t.length):t})(e.shiftTo(...i.map(n).filter((e=>e)))))}}const It=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ct(...e){const t=e.reduce(((e,t)=>e+t.source),"");return RegExp(`^${t}$`)}function Et(...e){return t=>e.reduce((([e,n,r],i)=>{const[o,s,a]=i(t,r);return[{...e,...o},s||n,a]}),[{},null,1]).slice(0,2)}function kt(e,...t){if(null==e)return[null,null];for(const[n,r]of t){const t=n.exec(e);if(t)return r(t)}return[null,null]}function Pt(...e){return(t,n)=>{const r={};let i;for(i=0;i<e.length;i++)r[e[i]]=We(t[n+i]);return[r,null,n+i]}}const Rt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ot=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Nt=RegExp(`${Ot.source}${`(?:${Rt.source}?(?:\\[(${It.source})\\])?)?`}`),Lt=RegExp(`(?:T${Nt.source})?`),Dt=Pt("weekYear","weekNumber","weekDay"),Ft=Pt("year","ordinal"),jt=RegExp(`${Ot.source} ?(?:${Rt.source}|(${It.source}))?`),Zt=RegExp(`(?: ${jt.source})?`);function Ut(e,t,n){const r=e[t];return Fe(r)?n:We(r)}function zt(e,t){return[{hours:Ut(e,t,0),minutes:Ut(e,t+1,0),seconds:Ut(e,t+2,0),milliseconds:Ke(e[t+3])},null,t+4]}function Vt(e,t){const n=!e[t]&&!e[t+1],r=st(e[t+1],e[t+2]);return[{},n?null:oe.instance(r),t+3]}function Bt(e,t){return[{},e[t]?V.create(e[t]):null,t+1]}const $t=RegExp(`^T?${Ot.source}$`),Gt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function qt(e){const[t,n,r,i,o,s,a,l,c]=e,u="-"===t[0],d=l&&"-"===l[0],h=(e,t=!1)=>void 0!==e&&(t||e&&u)?-e:e;return[{years:h(Je(n)),months:h(Je(r)),weeks:h(Je(i)),days:h(Je(o)),hours:h(Je(s)),minutes:h(Je(a)),seconds:h(Je(l),"-0"===l),milliseconds:h(Ke(c),d)}]}const Ht={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Wt(e,t,n,r,i,o,s){const a={year:2===t.length?it(We(t)):We(t),month:ht.indexOf(n)+1,day:We(r),hour:We(i),minute:We(o)};return s&&(a.second=We(s)),e&&(a.weekday=e.length>3?mt.indexOf(e)+1:yt.indexOf(e)+1),a}const Jt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Kt(e){const[,t,n,r,i,o,s,a,l,c,u,d]=e,h=Wt(t,i,r,n,o,s,a);let p;return p=l?Ht[l]:c?0:st(u,d),[h,new oe(p)]}const Yt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Xt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Qt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function en(e){const[,t,n,r,i,o,s,a]=e;return[Wt(t,i,r,n,o,s,a),oe.utcInstance]}function tn(e){const[,t,n,r,i,o,s,a]=e;return[Wt(t,a,n,r,i,o,s),oe.utcInstance]}const nn=Ct(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Lt),rn=Ct(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Lt),on=Ct(/(\d{4})-?(\d{3})/,Lt),sn=Ct(Nt),an=Et((function(e,t){return[{year:Ut(e,t),month:Ut(e,t+1,1),day:Ut(e,t+2,1)},null,t+3]}),zt,Vt,Bt),ln=Et(Dt,zt,Vt,Bt),cn=Et(Ft,zt,Vt,Bt),un=Et(zt,Vt,Bt);const dn=Et(zt);const hn=Ct(/(\d{4})-(\d\d)-(\d\d)/,Zt),pn=Ct(jt),fn=Et(zt,Vt,Bt);const mn="Invalid Duration",yn={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},gn={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...yn},vn=365.2425,bn=30.436875,wn={years:{quarters:4,months:12,weeks:52.1775,days:vn,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:bn,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...yn},_n=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Sn=_n.slice(0).reverse();function xn(e,t,n=!1){const r={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Tn(r)}function Mn(e,t){let n=t.milliseconds??0;for(const r of Sn.slice(1))t[r]&&(n+=t[r]*e[r].milliseconds);return n}function An(e,t){const n=Mn(e,t)<0?-1:1;_n.reduceRight(((r,i)=>{if(Fe(t[i]))return r;if(r){const o=t[r]*n,s=e[i][r],a=Math.floor(o/s);t[i]+=a*n,t[r]-=a*s*n}return i}),null),_n.reduce(((n,r)=>{if(Fe(t[r]))return n;if(n){const i=t[n]%1;t[n]-=i,t[r]+=i*e[n][r]}return r}),null)}class Tn{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let n=t?wn:gn;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||re.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return Tn.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new c("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new Tn({values:lt(e,Tn.normalizeUnit),loc:re.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(je(e))return Tn.fromMillis(e);if(Tn.isDuration(e))return e;if("object"==typeof e)return Tn.fromObject(e);throw new c(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=function(e){return kt(e,[Gt,qt])}(e);return n?Tn.fromObject(n,t):Tn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=function(e){return kt(e,[$t,dn])}(e);return n?Tn.fromObject(n,t):Tn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new c("need to specify a reason the Duration is invalid");const n=e instanceof Se?e:new Se(e,t);if(_e.throwOnInvalid)throw new s(n);return new Tn({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new l(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?Tt.create(this.loc,n).formatDurationFromString(this,e):mn}toHuman(e={}){if(!this.isValid)return mn;const t=_n.map((t=>{const n=this.values[t];return Fe(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(n)})).filter((e=>e));return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Ye(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1};return vr.fromMillis(t,{zone:"UTC"}).toISOTime(e)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Mn(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Tn.fromDurationLike(e),n={};for(const e of _n)($e(t.values,e)||$e(this.values,e))&&(n[e]=t.get(e)+this.get(e));return xn(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=Tn.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=at(e(this.values[n],n));return xn(this,{values:t},!0)}get(e){return this[Tn.normalizeUnit(e)]}set(e){if(!this.isValid)return this;return xn(this,{values:{...this.values,...lt(e,Tn.normalizeUnit)}})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:r}={}){return xn(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:n})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return An(this.matrix,e),xn(this,{values:e},!0)}rescale(){if(!this.isValid)return this;return xn(this,{values:function(e){const t={};for(const[n,r]of Object.entries(e))0!==r&&(t[n]=r);return t}(this.normalize().shiftToAll().toObject())},!0)}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map((e=>Tn.normalizeUnit(e)));const t={},n={},r=this.toObject();let i;for(const o of _n)if(e.indexOf(o)>=0){i=o;let e=0;for(const t in n)e+=this.matrix[t][o]*n[t],n[t]=0;je(r[o])&&(e+=r[o]);const s=Math.trunc(e);t[o]=s,n[o]=(1e3*e-1e3*s)/1e3}else je(r[o])&&(n[o]=r[o]);for(const e in n)0!==n[e]&&(t[i]+=e===i?n[e]:n[e]/this.matrix[i][e]);return An(this.matrix,t),xn(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return xn(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(const r of _n)if(t=this.values[r],n=e.values[r],!(void 0===t||0===t?void 0===n||0===n:t===n))return!1;var t,n;return!0}}const In="Invalid Interval";class Cn{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new c("need to specify a reason the Interval is invalid");const n=e instanceof Se?e:new Se(e,t);if(_e.throwOnInvalid)throw new o(n);return new Cn({invalid:n})}static fromDateTimes(e,t){const n=br(e),r=br(t),i=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?Cn.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:Cn.invalid("missing or invalid end"):Cn.invalid("missing or invalid start")}(n,r);return null==i?new Cn({start:n,end:r}):i}static after(e,t){const n=Tn.fromDurationLike(t),r=br(e);return Cn.fromDateTimes(r,r.plus(n))}static before(e,t){const n=Tn.fromDurationLike(t),r=br(e);return Cn.fromDateTimes(r.minus(n),r)}static fromISO(e,t){const[n,r]=(e||"").split("/",2);if(n&&r){let e,i,o,s;try{e=vr.fromISO(n,t),i=e.isValid}catch(r){i=!1}try{o=vr.fromISO(r,t),s=o.isValid}catch(r){s=!1}if(i&&s)return Cn.fromDateTimes(e,o);if(i){const n=Tn.fromISO(r,t);if(n.isValid)return Cn.after(e,n)}else if(s){const e=Tn.fromISO(n,t);if(e.isValid)return Cn.before(o,e)}}return Cn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const n=this.start.startOf(e,t);let r;return r=t?.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end,r=r.startOf(e,t),Math.floor(r.diff(n,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&(this.s<=e&&this.e>e)}set({start:e,end:t}={}){return this.isValid?Cn.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(br).filter((e=>this.contains(e))).sort(((e,t)=>e.toMillis()-t.toMillis())),n=[];let{s:r}=this,i=0;for(;r<this.e;){const e=t[i]||this.e,o=+e>+this.e?this.e:e;n.push(Cn.fromDateTimes(r,o)),r=o,i+=1}return n}splitBy(e){const t=Tn.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let n,{s:r}=this,i=1;const o=[];for(;r<this.e;){const e=this.start.plus(t.mapUnits((e=>e*i)));n=+e>+this.e?this.e:e,o.push(Cn.fromDateTimes(r,n)),r=n,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e==+e.s}abutsEnd(e){return!!this.isValid&&+e.e==+this.s}engulfs(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}equals(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:Cn.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return Cn.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort(((e,t)=>e.s-t.s)).reduce((([e,t],n)=>t?t.overlaps(n)||t.abutsStart(n)?[e,t.union(n)]:[e.concat([t]),n]:[e,n]),[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const r=[],i=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),o=Array.prototype.concat(...i).sort(((e,t)=>e.time-t.time));for(const e of o)n+="s"===e.type?1:-1,1===n?t=e.time:(t&&+t!=+e.time&&r.push(Cn.fromDateTimes(t,e.time)),t=null);return Cn.merge(r)}difference(...e){return Cn.xor([this].concat(e)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:In}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=f,t={}){return this.isValid?Tt.create(this.s.loc.clone(t),e).formatInterval(this):In}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:In}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:In}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:In}toFormat(e,{separator:t="  "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:In}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Tn.invalid(this.invalidReason)}mapEndpoints(e){return Cn.fromDateTimes(e(this.s),e(this.e))}}class En{static hasDST(e=_e.defaultZone){const t=vr.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return V.isValidZone(e)}static normalizeZone(e){return ae(e,_e.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||re.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||re.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||re.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||re.create(t,n,i)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||re.create(t,n,i)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||re.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||re.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return re.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return re.create(t,null,"gregory").eras(e)}static features(){return{relative:Ue(),localeWeek:ze()}}}function kn(e,t){const n=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(Tn.fromMillis(r).as("days"))}function Pn(e,t,n,r){let[i,o,s,a]=function(e,t,n){const r=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const n=kn(e,t);return(n-n%7)/7}],["days",kn]],i={},o=e;let s,a;for(const[l,c]of r)n.indexOf(l)>=0&&(s=l,i[l]=c(e,t),a=o.plus(i),a>t?(i[l]--,(e=o.plus(i))>t&&(a=e,i[l]--,e=o.plus(i))):e=a);return[e,i,a,s]}(e,t,n);const l=t-i,c=n.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===c.length&&(s<t&&(s=i.plus({[a]:1})),s!==i&&(o[a]=(o[a]||0)+l/(s-i)));const u=Tn.fromObject(o,r);return c.length>0?Tn.fromMillis(l,r).shiftTo(...c).plus(u):u}function Rn(e,t=e=>e){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(-1!==e[n].search(le.hanidec))t+=ue.indexOf(e[n]);else for(const e in ce){const[n,i]=ce[e];r>=n&&r<=i&&(t+=r-n)}}return parseInt(t,10)}return t}(e))}}const On=`[ ${String.fromCharCode(160)}]`,Nn=new RegExp(On,"g");function Ln(e){return e.replace(/\./g,"\\.?").replace(Nn,On)}function Dn(e){return e.replace(/\./g,"").replace(Nn," ").toLowerCase()}function Fn(e,t){return null===e?null:{regex:RegExp(e.map(Ln).join("|")),deser:([n])=>e.findIndex((e=>Dn(n)===Dn(e)))+t}}function jn(e,t){return{regex:e,deser:([,e,t])=>st(e,t),groups:t}}function Zn(e){return{regex:e,deser:([e])=>e}}const Un={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let zn=null;function Vn(e,t){return Array.prototype.concat(...e.map((e=>function(e,t){if(e.literal)return e;const n=Gn(Tt.macroTokenToFormatOpts(e.val),t);return null==n||n.includes(void 0)?e:n}(e,t))))}class Bn{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=Vn(Tt.parseFormat(t),e),this.units=this.tokens.map((t=>function(e,t){const n=he(t),r=he(t,"{2}"),i=he(t,"{3}"),o=he(t,"{4}"),s=he(t,"{6}"),a=he(t,"{1,2}"),l=he(t,"{1,3}"),c=he(t,"{1,6}"),u=he(t,"{1,9}"),d=he(t,"{2,4}"),h=he(t,"{4,6}"),p=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t},f=(f=>{if(e.literal)return p(f);switch(f.val){case"G":return Fn(t.eras("short"),0);case"GG":return Fn(t.eras("long"),0);case"y":return Rn(c);case"yy":case"kk":return Rn(d,it);case"yyyy":case"kkkk":return Rn(o);case"yyyyy":return Rn(h);case"yyyyyy":return Rn(s);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Rn(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Rn(r);case"MMM":return Fn(t.months("short",!0),1);case"MMMM":return Fn(t.months("long",!0),1);case"LLL":return Fn(t.months("short",!1),1);case"LLLL":return Fn(t.months("long",!1),1);case"o":case"S":return Rn(l);case"ooo":case"SSS":return Rn(i);case"u":return Zn(u);case"uu":return Zn(a);case"uuu":case"E":case"c":return Rn(n);case"a":return Fn(t.meridiems(),0);case"EEE":return Fn(t.weekdays("short",!1),1);case"EEEE":return Fn(t.weekdays("long",!1),1);case"ccc":return Fn(t.weekdays("short",!0),1);case"cccc":return Fn(t.weekdays("long",!0),1);case"Z":case"ZZ":return jn(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return jn(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return Zn(/[a-z_+-/]{1,256}?/i);case" ":return Zn(/[^\S\n\r]/);default:return p(f)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return f.token=e,f}(t,e))),this.disqualifyingUnit=this.units.find((e=>e.invalidReason)),!this.disqualifyingUnit){const[e,t]=[`^${(n=this.units).map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"")}$`,n];this.regex=RegExp(e,"i"),this.handlers=t}var n}explainFromTokens(e){if(this.isValid){const[t,n]=function(e,t,n){const r=e.match(t);if(r){const e={};let t=1;for(const i in n)if($e(n,i)){const o=n[i],s=o.groups?o.groups+1:1;!o.literal&&o.token&&(e[o.token.val[0]]=o.deser(r.slice(t,t+s))),t+=s}return[r,e]}return[r,{}]}(e,this.regex,this.handlers),[r,i,o]=n?function(e){let t,n=null;return Fe(e.z)||(n=V.create(e.z)),Fe(e.Z)||(n||(n=new oe(e.Z)),t=e.Z),Fe(e.q)||(e.M=3*(e.q-1)+1),Fe(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),Fe(e.u)||(e.S=Ke(e.u)),[Object.keys(e).reduce(((t,n)=>{const r=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(n);return r&&(t[r]=e[n]),t}),{}),n,t]}(n):[null,null,void 0];if($e(n,"a")&&$e(n,"H"))throw new a("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:n,result:r,zone:i,specificOffset:o}}return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function $n(e,t,n){return new Bn(e,n).explainFromTokens(t)}function Gn(e,t){if(!e)return null;const n=Tt.create(t,e).dtFormatter((zn||(zn=vr.fromMillis(1555555555555)),zn)),r=n.formatToParts(),i=n.resolvedOptions();return r.map((t=>function(e,t,n){const{type:r,value:i}=e;if("literal"===r){const e=/^\s+$/.test(i);return{literal:!e,val:e?" ":i}}const o=t[r];let s=r;"hour"===r&&(s=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":n.hour12?"hour12":"hour24");let a=Un[s];if("object"==typeof a&&(a=a[o]),a)return{literal:!1,val:a}}(t,e,i)))}const qn="Invalid DateTime",Hn=864e13;function Wn(e){return new Se("unsupported zone",`the zone "${e.name}" is not supported`)}function Jn(e){return null===e.weekData&&(e.weekData=ke(e.c)),e.weekData}function Kn(e){return null===e.localWeekData&&(e.localWeekData=ke(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Yn(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new vr({...n,...t,old:n})}function Xn(e,t,n){let r=e-60*t*1e3;const i=n.offset(r);if(t===i)return[r,t];r-=60*(i-t)*1e3;const o=n.offset(r);return i===o?[r,i]:[e-60*Math.min(i,o)*1e3,Math.max(i,o)]}function Qn(e,t){const n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function er(e,t,n){return Xn(tt(e),t,n)}function tr(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o={...e.c,year:r,month:i,day:Math.min(e.c.day,et(r,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},s=Tn.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=tt(o);let[l,c]=Xn(a,n,e.zone);return 0!==s&&(l+=s,c=e.zone.offset(l)),{ts:l,o:c}}function nr(e,t,n,r,i,o){const{setZone:s,zone:a}=n;if(e&&0!==Object.keys(e).length||t){const r=t||a,i=vr.fromObject(e,{...n,zone:r,specificOffset:o});return s?i:i.setZone(a)}return vr.invalid(new Se("unparsable",`the input "${i}" can't be parsed as ${r}`))}function rr(e,t,n=!0){return e.isValid?Tt.create(re.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function ir(e,t){const n=e.c.year>9999||e.c.year<0;let r="";return n&&e.c.year>=0&&(r+="+"),r+=He(e.c.year,n?6:4),t?(r+="-",r+=He(e.c.month),r+="-",r+=He(e.c.day)):(r+=He(e.c.month),r+=He(e.c.day)),r}function or(e,t,n,r,i,o){let s=He(e.c.hour);return t?(s+=":",s+=He(e.c.minute),0===e.c.millisecond&&0===e.c.second&&n||(s+=":")):s+=He(e.c.minute),0===e.c.millisecond&&0===e.c.second&&n||(s+=He(e.c.second),0===e.c.millisecond&&r||(s+=".",s+=He(e.c.millisecond,3))),i&&(e.isOffsetFixed&&0===e.offset&&!o?s+="Z":e.o<0?(s+="-",s+=He(Math.trunc(-e.o/60)),s+=":",s+=He(Math.trunc(-e.o%60))):(s+="+",s+=He(Math.trunc(e.o/60)),s+=":",s+=He(Math.trunc(e.o%60)))),o&&(s+="["+e.zone.ianaName+"]"),s}const sr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ar={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},lr={ordinal:1,hour:0,minute:0,second:0,millisecond:0},cr=["year","month","day","hour","minute","second","millisecond"],ur=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],dr=["year","ordinal","hour","minute","second","millisecond"];function hr(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new l(e);return t}(e)}}function pr(e,t){const n=ae(t.zone,_e.defaultZone);if(!n.isValid)return vr.invalid(Wn(n));const r=re.fromObject(t);let i,o;if(Fe(e.year))i=_e.now();else{for(const t of cr)Fe(e[t])&&(e[t]=sr[t]);const t=Le(e)||De(e);if(t)return vr.invalid(t);const r=function(e){if(void 0===yr&&(yr=_e.now()),"iana"!==e.type)return e.offset(yr);const t=e.name;let n=gr.get(t);return void 0===n&&(n=e.offset(yr),gr.set(t,n)),n}(n);[i,o]=er(e,r,n)}return new vr({ts:i,zone:n,loc:r,o:o})}function fr(e,t,n){const r=!!Fe(n.round)||n.round,i=(e,i)=>{e=Ye(e,r||n.calendary?0:2,!0);return t.loc.clone(n).relFormatter(n).format(e,i)},o=r=>n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r);if(n.unit)return i(o(n.unit),n.unit);for(const e of n.units){const t=o(e);if(Math.abs(t)>=1)return i(t,e)}return i(e>t?-0:0,n.units[n.units.length-1])}function mr(e){let t,n={};return e.length>0&&"object"==typeof e[e.length-1]?(n=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[n,t]}let yr;const gr=new Map;class vr{constructor(e){const t=e.zone||_e.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Se("invalid input"):null)||(t.isValid?null:Wn(t));this.ts=Fe(e.ts)?_e.now():e.ts;let r=null,i=null;if(!n){if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,i]=[e.old.c,e.old.o];else{const o=je(e.o)&&!e.old?e.o:t.offset(this.ts);r=Qn(this.ts,o),n=Number.isNaN(r.year)?new Se("invalid input"):null,r=n?null:r,i=n?null:o}}this._zone=t,this.loc=e.loc||re.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}static now(){return new vr({})}static local(){const[e,t]=mr(arguments),[n,r,i,o,s,a,l]=t;return pr({year:n,month:r,day:i,hour:o,minute:s,second:a,millisecond:l},e)}static utc(){const[e,t]=mr(arguments),[n,r,i,o,s,a,l]=t;return e.zone=oe.utcInstance,pr({year:n,month:r,day:i,hour:o,minute:s,second:a,millisecond:l},e)}static fromJSDate(e,t={}){const n=(r=e,"[object Date]"===Object.prototype.toString.call(r)?e.valueOf():NaN);var r;if(Number.isNaN(n))return vr.invalid("invalid input");const i=ae(t.zone,_e.defaultZone);return i.isValid?new vr({ts:n,zone:i,loc:re.fromObject(t)}):vr.invalid(Wn(i))}static fromMillis(e,t={}){if(je(e))return e<-Hn||e>Hn?vr.invalid("Timestamp out of range"):new vr({ts:e,zone:ae(t.zone,_e.defaultZone),loc:re.fromObject(t)});throw new c(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(je(e))return new vr({ts:1e3*e,zone:ae(t.zone,_e.defaultZone),loc:re.fromObject(t)});throw new c("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const n=ae(t.zone,_e.defaultZone);if(!n.isValid)return vr.invalid(Wn(n));const r=re.fromObject(t),i=lt(e,hr),{minDaysInFirstWeek:o,startOfWeek:s}=Ne(i,r),l=_e.now(),c=Fe(t.specificOffset)?n.offset(l):t.specificOffset,u=!Fe(i.ordinal),d=!Fe(i.year),h=!Fe(i.month)||!Fe(i.day),p=d||h,f=i.weekYear||i.weekNumber;if((p||u)&&f)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&u)throw new a("Can't mix ordinal dates with month/day");const m=f||i.weekday&&!p;let y,g,v=Qn(l,c);m?(y=ur,g=ar,v=ke(v,o,s)):u?(y=dr,g=lr,v=Re(v)):(y=cr,g=sr);let b=!1;for(const e of y){Fe(i[e])?i[e]=b?g[e]:v[e]:b=!0}const w=m?function(e,t=4,n=1){const r=Ze(e.weekYear),i=qe(e.weekNumber,1,rt(e.weekYear,t,n)),o=qe(e.weekday,1,7);return r?i?!o&&Ae("weekday",e.weekday):Ae("week",e.weekNumber):Ae("weekYear",e.weekYear)}(i,o,s):u?function(e){const t=Ze(e.year),n=qe(e.ordinal,1,Qe(e.year));return t?!n&&Ae("ordinal",e.ordinal):Ae("year",e.year)}(i):Le(i),_=w||De(i);if(_)return vr.invalid(_);const S=m?Pe(i,o,s):u?Oe(i):i,[x,M]=er(S,c,n),A=new vr({ts:x,zone:n,o:M,loc:r});return i.weekday&&p&&e.weekday!==A.weekday?vr.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${A.toISO()}`):A.isValid?A:vr.invalid(A.invalid)}static fromISO(e,t={}){const[n,r]=function(e){return kt(e,[nn,an],[rn,ln],[on,cn],[sn,un])}(e);return nr(n,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,r]=function(e){return kt(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[Jt,Kt])}(e);return nr(n,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,r]=function(e){return kt(e,[Yt,en],[Xt,en],[Qt,tn])}(e);return nr(n,r,t,"HTTP",t)}static fromFormat(e,t,n={}){if(Fe(e)||Fe(t))throw new c("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:i=null}=n,o=re.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0}),[s,a,l,u]=function(e,t,n){const{result:r,zone:i,specificOffset:o,invalidReason:s}=$n(e,t,n);return[r,i,o,s]}(o,e,t);return u?vr.invalid(u):nr(s,a,n,`format ${t}`,e,l)}static fromString(e,t,n={}){return vr.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,r]=function(e){return kt(e,[hn,an],[pn,fn])}(e);return nr(n,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new c("need to specify a reason the DateTime is invalid");const n=e instanceof Se?e:new Se(e,t);if(_e.throwOnInvalid)throw new i(n);return new vr({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const n=Gn(e,re.fromObject(t));return n?n.map((e=>e?e.val:null)).join(""):null}static expandFormat(e,t={}){return Vn(Tt.parseFormat(e),re.fromObject(t)).map((e=>e.val)).join("")}static resetCache(){yr=void 0,gr.clear()}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Jn(this).weekYear:NaN}get weekNumber(){return this.isValid?Jn(this).weekNumber:NaN}get weekday(){return this.isValid?Jn(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Kn(this).weekday:NaN}get localWeekNumber(){return this.isValid?Kn(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Kn(this).weekYear:NaN}get ordinal(){return this.isValid?Re(this.c).ordinal:NaN}get monthShort(){return this.isValid?En.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?En.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?En.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?En.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,n=tt(this.c),r=this.zone.offset(n-e),i=this.zone.offset(n+e),o=this.zone.offset(n-r*t),s=this.zone.offset(n-i*t);if(o===s)return[this];const a=n-o*t,l=n-s*t,c=Qn(a,o),u=Qn(l,s);return c.hour===u.hour&&c.minute===u.minute&&c.second===u.second&&c.millisecond===u.millisecond?[Yn(this,{ts:a}),Yn(this,{ts:l})]:[this]}get isInLeapYear(){return Xe(this.year)}get daysInMonth(){return et(this.year,this.month)}get daysInYear(){return this.isValid?Qe(this.year):NaN}get weeksInWeekYear(){return this.isValid?rt(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?rt(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:n,calendar:r}=Tt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(oe.instance(e),t)}toLocal(){return this.setZone(_e.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if((e=ae(e,_e.defaultZone)).equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||n){const t=e.offset(this.ts),n=this.toObject();[r]=er(n,t,e)}return Yn(this,{ts:r,zone:e})}return vr.invalid(Wn(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){return Yn(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=lt(e,hr),{minDaysInFirstWeek:n,startOfWeek:r}=Ne(t,this.loc),i=!Fe(t.weekYear)||!Fe(t.weekNumber)||!Fe(t.weekday),o=!Fe(t.ordinal),s=!Fe(t.year),l=!Fe(t.month)||!Fe(t.day),c=s||l,u=t.weekYear||t.weekNumber;if((c||o)&&u)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new a("Can't mix ordinal dates with month/day");let d;i?d=Pe({...ke(this.c,n,r),...t},n,r):Fe(t.ordinal)?(d={...this.toObject(),...t},Fe(t.day)&&(d.day=Math.min(et(d.year,d.month),d.day))):d=Oe({...Re(this.c),...t});const[h,p]=er(d,this.o,this.zone);return Yn(this,{ts:h,o:p})}plus(e){if(!this.isValid)return this;return Yn(this,tr(this,Tn.fromDurationLike(e)))}minus(e){if(!this.isValid)return this;return Yn(this,tr(this,Tn.fromDurationLike(e).negate()))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const n={},r=Tn.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0}if("weeks"===r)if(t){const e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(n.weekNumber=this.weekNumber-1),n.weekday=e}else n.weekday=1;if("quarters"===r){const e=Math.ceil(this.month/3);n.month=3*(e-1)+1}return this.set(n)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?Tt.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):qn}toLocaleString(e=f,t={}){return this.isValid?Tt.create(this.loc.clone(t),e).formatDateTime(this):qn}toLocaleParts(e={}){return this.isValid?Tt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const o="extended"===e;let s=ir(this,o);return s+="T",s+=or(this,o,t,n,r,i),s}toISODate({format:e="extended"}={}){return this.isValid?ir(this,"extended"===e):null}toISOWeekDate(){return rr(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:i=!1,format:o="extended"}={}){if(!this.isValid)return null;return(r?"T":"")+or(this,"extended"===o,t,e,n,i)}toRFC2822(){return rr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return rr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?ir(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(n&&(r+=" "),t?r+="z":e&&(r+="ZZ")),rr(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():qn}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return Tn.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...n},i=(a=t,Array.isArray(a)?a:[a]).map(Tn.normalizeUnit),o=e.valueOf()>this.valueOf(),s=Pn(o?this:e,o?e:this,i,r);var a;return o?s.negate():s}diffNow(e="milliseconds",t={}){return this.diff(vr.now(),e,t)}until(e){return this.isValid?Cn.fromDateTimes(this,e):this}hasSame(e,t,n){if(!this.isValid)return!1;const r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t,n)<=r&&r<=i.endOf(t,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||vr.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(r=e.unit,i=void 0),fr(t,this.plus(n),{...e,numeric:"always",units:r,unit:i})}toRelativeCalendar(e={}){return this.isValid?fr(e.base||vr.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(vr.isDateTime))throw new c("min requires all arguments be DateTimes");return Ve(e,(e=>e.valueOf()),Math.min)}static max(...e){if(!e.every(vr.isDateTime))throw new c("max requires all arguments be DateTimes");return Ve(e,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:r=null,numberingSystem:i=null}=n;return $n(re.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,n={}){return vr.fromFormatExplain(e,t,n)}static buildFormatParser(e,t={}){const{locale:n=null,numberingSystem:r=null}=t,i=re.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0});return new Bn(i,e)}static fromFormatParser(e,t,n={}){if(Fe(e)||Fe(t))throw new c("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:i=null}=n,o=re.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});if(!o.equals(t.locale))throw new c(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${t.locale}`);const{result:s,zone:a,specificOffset:l,invalidReason:u}=t.explainFromTokens(e);return u?vr.invalid(u):nr(s,a,n,`format ${t.format}`,e,l)}static get DATE_SHORT(){return f}static get DATE_MED(){return m}static get DATE_MED_WITH_WEEKDAY(){return y}static get DATE_FULL(){return g}static get DATE_HUGE(){return v}static get TIME_SIMPLE(){return b}static get TIME_WITH_SECONDS(){return w}static get TIME_WITH_SHORT_OFFSET(){return _}static get TIME_WITH_LONG_OFFSET(){return S}static get TIME_24_SIMPLE(){return x}static get TIME_24_WITH_SECONDS(){return M}static get TIME_24_WITH_SHORT_OFFSET(){return A}static get TIME_24_WITH_LONG_OFFSET(){return T}static get DATETIME_SHORT(){return I}static get DATETIME_SHORT_WITH_SECONDS(){return C}static get DATETIME_MED(){return E}static get DATETIME_MED_WITH_SECONDS(){return k}static get DATETIME_MED_WITH_WEEKDAY(){return P}static get DATETIME_FULL(){return R}static get DATETIME_FULL_WITH_SECONDS(){return O}static get DATETIME_HUGE(){return N}static get DATETIME_HUGE_WITH_SECONDS(){return L}}function br(e){if(vr.isDateTime(e))return e;if(e&&e.valueOf&&je(e.valueOf()))return vr.fromJSDate(e);if(e&&"object"==typeof e)return vr.fromObject(e);throw new c(`Unknown datetime argument: ${e}, of type ${typeof e}`)}},96295:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i=n(82392),o=n(84977),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325));let l=class extends o.A{static{r=this}constructor(e){super(e),this._oAuthCred=null,this.appId=null,this.authNamespace="/",this.expiration=20160,this.flowType="auto",this.forceLogin=!1,this.forceUserId=!1,this.locale=null,this.minTimeUntilExpiration=30,this.popup=!1,this.popupCallbackUrl="oauth-callback.html",this.popupWindowFeatures="height=490,width=800,resizable,scrollbars,status",this.portalUrl="https://www.arcgis.com",this.preserveUrlHash=!1,this.userId=null}clone(){return r.fromJSON(this.toJSON())}};(0,i._)([(0,s.MZ)({json:{write:!0}})],l.prototype,"appId",void 0),(0,i._)([(0,s.MZ)({json:{write:!0}})],l.prototype,"authNamespace",void 0),(0,i._)([(0,s.MZ)({json:{write:!0}})],l.prototype,"expiration",void 0),(0,i._)([(0,s.MZ)({json:{write:!0}})],l.prototype,"flowType",void 0),(0,i._)([(0,s.MZ)({json:{write:!0}})],l.prototype,"forceLogin",void 0),(0,i._)([(0,s.MZ)({json:{write:!0}})],l.prototype,"forceUserId",void 0),(0,i._)([(0,s.MZ)({json:{write:!0}})],l.prototype,"locale",void 0),(0,i._)([(0,s.MZ)({json:{write:!0}})],l.prototype,"minTimeUntilExpiration",void 0),(0,i._)([(0,s.MZ)({json:{write:!0}})],l.prototype,"popup",void 0),(0,i._)([(0,s.MZ)({json:{write:!0}})],l.prototype,"popupCallbackUrl",void 0),(0,i._)([(0,s.MZ)({json:{write:!0}})],l.prototype,"popupWindowFeatures",void 0),(0,i._)([(0,s.MZ)({json:{write:!0}})],l.prototype,"portalUrl",void 0),(0,i._)([(0,s.MZ)({json:{write:!0}})],l.prototype,"preserveUrlHash",void 0),(0,i._)([(0,s.MZ)({json:{write:!0}})],l.prototype,"userId",void 0),l=r=(0,i._)([(0,a.$)("esri.identity.OAuthInfo")],l);const c=l},96383:function(e,t,n){"use strict";n.d(t,{E5:function(){return a},JU:function(){return s},Of:function(){return o},g7:function(){return l},j:function(){return c},lQ:function(){return u}});var r=n(62991),i=n(6273);function o(e){return e&&"function"==typeof e.highlight}function s(e,t,n){return null==e||e>=n&&(0===t||e<=t)}function a(e,t){if(t&&e){const{minScale:n,maxScale:r}=e;if(function(e,t){return null!=e&&e>0||null!=t&&t>0}(n,r))return s(t,n,r)}return!0}function l(e){return!e?.minScale||!e.maxScale||e.minScale>=e.maxScale}const c=()=>!(0,i.A)("disable-feature:layer-based-scale-visibility");function u(e,t,n){return new r.A("layerview:spatial-reference-incompatible",`The spatial reference of this ${e}${t?`(wkid:${t})`:""} is incompatible with the spatial reference of the view${n?`(wkid:${n})`:""}.`,{})}},96540:function(e,t,n){"use strict";e.exports=n(29869)},96905:function(e,t,n){"use strict";n.d(t,{V:function(){return o},X:function(){return i}});var r=n(56053);function i(e){return{geometryType:(0,r.$B)(e[0]),geometries:e.map((e=>e.toJSON()))}}function o(e,t,n){const i=(0,r.xD)(t);return e.map((e=>{const t=i.fromJSON(e);return t.spatialReference=n,t}))}},96949:function(e,t,n){"use strict";n.d(t,{A:function(){return P}});var r=n(82392),i=n(84977),o=n(15565),s=n(81482),a=(n(6273),n(80861),n(85716)),l=n(25376),c=n(26325),u=n(48524),d=n(1817),h=n(8636),p=(n(67498),n(33673));let f=class extends i.A{constructor(){super(...arguments),this.pixelType="unknown"}};(0,r._)([(0,s.MZ)({type:String,json:{write:{isRequired:!0}}})],f.prototype,"name",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],f.prototype,"description",void 0),(0,r._)([(0,s.MZ)({type:h.jz,json:{type:h.jz,write:!0,name:"_object_id"}})],f.prototype,"id",void 0),(0,r._)([(0,s.MZ)({type:String,json:{type:p.e8.jsonValues,read:p.e8.read,write:{writer:p.e8.write,isRequired:!0}}})],f.prototype,"pixelType",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:{isRequired:!0}}})],f.prototype,"type",void 0),f=(0,r._)([(0,c.$)("esri.layers.support.RasterFunctionInfo")],f);const m=f;let y=class extends i.A{constructor(){super(...arguments),this.isDataset=!1,this.isPublic=!1,this.type="RasterFunctionVariable"}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],y.prototype,"name",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{type:h.jz,write:!0,name:"_object_id"}})],y.prototype,"id",void 0),(0,r._)([(0,s.MZ)({type:Boolean,json:{write:!0}})],y.prototype,"isDataset",void 0),(0,r._)([(0,s.MZ)({type:Boolean,json:{write:!0}})],y.prototype,"isPublic",void 0),(0,r._)([(0,s.MZ)({json:{write:!0}})],y.prototype,"value",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],y.prototype,"type",void 0),y=(0,r._)([(0,c.$)("esri.layers.support.RasterFunctionVariable")],y);const g={key:"type",base:null,typeMap:{RasterFunctionVariable:y}};let v=class extends i.A{};(0,r._)([(0,s.MZ)({types:g,json:{types:g,name:"MatchVariable"}})],v.prototype,"matchVariable",void 0),(0,r._)([(0,s.MZ)({types:g,json:{types:g,name:"UnionDimension"}})],v.prototype,"unionDimension",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{type:h.jz,write:!0,name:"_object_id"}})],v.prototype,"id",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],v.prototype,"type",void 0),v=(0,r._)([(0,c.$)("esri.layers.support.RasterFunctionProperties")],v);const b=v,w=new d.J({0:"mosaic",1:"item",2:"item-group"},{useNumericKeys:!0});let _=class extends i.A{constructor(){super(...arguments),this.description="",this.functionType="mosaic",this.type="RasterFunctionTemplate"}};var S;(0,r._)([(0,s.MZ)({type:[String],json:{write:!0}})],_.prototype,"aliases",void 0),(0,r._)([(0,s.MZ)({type:Object,json:{write:{isRequired:!0}}})],_.prototype,"arguments",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:{isRequired:!0}}})],_.prototype,"description",void 0),(0,r._)([(0,s.MZ)({type:m,json:{write:{isRequired:!0},name:"function"}})],_.prototype,"functionInfo",void 0),(0,r._)([(0,s.MZ)({type:w.apiValues,json:{type:[0,1,2],read:w.read,write:{writer:w.write,isRequired:!0}}})],_.prototype,"functionType",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],_.prototype,"group",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],_.prototype,"help",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{type:h.jz,write:!0,name:"_object_id"}})],_.prototype,"id",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:{isRequired:!0}}})],_.prototype,"name",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0,name:"definition"}})],_.prototype,"queryDefinition",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],_.prototype,"tag",void 0),(0,r._)([(0,s.MZ)({type:b,json:{write:!0}})],_.prototype,"properties",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],_.prototype,"thumbnail",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],_.prototype,"thumbnailEx",void 0),(0,r._)([(0,s.MZ)({json:{type:["RasterFunctionTemplate"],write:!0}})],_.prototype,"type",void 0),_=(0,r._)([(0,c.$)("esri.layers.support.RasterFunctionTemplate")],_);const x=new Set(["raster","raster2","dem","fillraster"]),M=new Set(["rasters"]),A=e=>e?.rasterFunction?P.fromJSON(e):e,T=e=>e&&e instanceof P?e.toJSON():e,I=e=>e?.functionName&&!e.declaredClass,C=e=>I(e)?new P(e):e,E=e=>e?_.fromJSON({type:"RasterFunctionTemplate",...e}):void 0,k={types:{key:"type",base:null,typeMap:{RasterFunctionTemplate:_}},json:{write:!0,name:"rasterFunctionDefinition",read:E}};let P=S=class extends i.A{constructor(e){super(e),this.functionName=null,this.outputPixelType="unknown",this.variableName=null,this.functionDefinition=null}set functionArguments(e){if(e){const t=Object.keys(e);if(t.some((t=>x.has(t.toLowerCase())&&I(e[t])))||t.some((t=>M.has(t.toLowerCase())&&Array.isArray(e[t])&&e[t].some((e=>I(e)))))){e=(0,o.o8)(e);for(const n of t)x.has(n.toLowerCase())?e[n]=C(e[n]):M.has(n.toLowerCase())&&Array.isArray(e[n])&&(e[n]=e[n].map((e=>C(e))))}}this._set("functionArguments",e)}readFunctionArguments(e){return(e=>{if(null==e)return null;e=(0,o.o8)(e);const t={};for(const n of Object.keys(e))x.has(n.toLowerCase())?t[n]=A(e[n]):M.has(n.toLowerCase())&&Array.isArray(e[n])?t[n]=e[n].map(A):t[n]=e[n];return t})(e)}writeFunctionArguments(e,t,n){const r={};for(const t of Object.keys(e))x.has(t.toLowerCase())?r[t]=T(e[t]):M.has(t.toLowerCase())&&Array.isArray(e[t])?r[t]=e[t].map(T):r[t]=T(e[t]);t[n]=r}readFunctionName(e,t){const n=t.rasterFunctionInfos;return t.name||(n?.length&&"None"!==n[0].name?n[0].name:t.rasterFunction||t.rasterFunctionDefinition?.name)}get rasterFunctionDefinition(){return this.functionDefinition?.toJSON()}set rasterFunctionDefinition(e){this.functionDefinition=E(e)}get hasClipFunction(){return this.rasterFunctionDefinition?JSON.stringify(this.rasterFunctionDefinition).includes('"type":"ClipFunction"'):JSON.stringify(this).includes('"rasterFunction":"Clip"')}clone(){return new S({functionName:this.functionName,functionArguments:(0,o.o8)(this.functionArguments),outputPixelType:this.outputPixelType,variableName:this.variableName,rasterFunctionDefinition:(0,o.o8)(this.rasterFunctionDefinition)})}};(0,r._)([(0,s.MZ)({json:{type:Object,name:"rasterFunctionArguments"}})],P.prototype,"functionArguments",null),(0,r._)([(0,l.w)("functionArguments")],P.prototype,"readFunctionArguments",null),(0,r._)([(0,u.K)("functionArguments")],P.prototype,"writeFunctionArguments",null),(0,r._)([(0,s.MZ)({json:{type:String,write:{target:"rasterFunction"}}})],P.prototype,"functionName",void 0),(0,r._)([(0,l.w)("functionName",["rasterFunction","rasterFunctionInfos","rasterFunctionDefinition"])],P.prototype,"readFunctionName",null),(0,r._)([(0,a.e)({C128:"c128",C64:"c64",F32:"f32",F64:"f64",S16:"s16",S32:"s32",S8:"s8",U1:"u1",U16:"u16",U2:"u2",U32:"u32",U4:"u4",U8:"u8",UNKNOWN:"unknown"},{ignoreUnknown:!1,default:"unknown"})],P.prototype,"outputPixelType",void 0),(0,r._)([(0,s.MZ)({type:String,json:{read:!0,write:!0}})],P.prototype,"variableName",void 0),(0,r._)([(0,s.MZ)()],P.prototype,"rasterFunctionDefinition",null),(0,r._)([(0,s.MZ)(k)],P.prototype,"functionDefinition",void 0),(0,r._)([(0,s.MZ)()],P.prototype,"hasClipFunction",null),P=S=(0,r._)([(0,c.$)("esri.layers.support.RasterFunction")],P)},97011:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});class r{constructor(){this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const e=new r;return e.globalIdFieldName=this.globalIdFieldName,e.geohashFieldName=this.geohashFieldName,e.geometryProperties=this.geometryProperties,e.geometryType=this.geometryType,e.spatialReference=this.spatialReference,e.hasZ=this.hasZ,e.hasM=this.hasM,e.features=this.features,e.fields=this.fields,e.transform=this.transform,e.exceededTransferLimit=this.exceededTransferLimit,e.uniqueIdField=this.uniqueIdField,e.queryGeometry=this.queryGeometry,e.queryGeometryType=this.queryGeometryType,e}}},97160:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r,i=n(82392),o=n(93814),s=n(15565),a=n(23572),l=n(81482),c=(n(6273),n(80861),n(85716)),u=n(26325),d=n(28566),h=n(1982),p=n(30361);let f=r=class extends d.A{constructor(e){super(e),this.type="line",this.color=new o.A([0,0,0,1]),this.size=(0,a.PN)(1),this.border=null}get visible(){return this.size>0&&null!=this.color&&this.color.a>0}clone(){return new r({color:(0,s.o8)(this.color),size:this.size,border:(0,s.o8)(this.border)})}};(0,i._)([(0,c.e)({line:"line"})],f.prototype,"type",void 0),(0,i._)([(0,l.MZ)((0,p.EW)({colorRequiredOnWrite:!0}))],f.prototype,"color",void 0),(0,i._)([(0,l.MZ)({...p.pI,json:{write:{isRequired:!0}}})],f.prototype,"size",void 0),(0,i._)([(0,l.MZ)({type:h.A,json:{write:!0}})],f.prototype,"border",void 0),(0,i._)([(0,l.MZ)({readOnly:!0})],f.prototype,"visible",null),f=r=(0,i._)([(0,u.$)("esri.symbols.callouts.LineCallout3D")],f)},97364:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});const r={BingMapsLayer:async()=>(await n.e(8050).then(n.bind(n,28050))).default,BuildingSceneLayer:async()=>(await Promise.all([n.e(9644),n.e(7632),n.e(1903),n.e(4819),n.e(4982)]).then(n.bind(n,34982))).default,CSVLayer:async()=>(await n.e(8809).then(n.bind(n,51190))).default,CatalogLayer:async()=>(await Promise.all([n.e(2662),n.e(7439),n.e(490)]).then(n.bind(n,40490))).default,DimensionLayer:async()=>(await n.e(3012).then(n.bind(n,53012))).default,ElevationLayer:async()=>(await n.e(6658).then(n.bind(n,6658))).default,FeatureLayer:async()=>(await Promise.resolve().then(n.bind(n,85049))).default,GeoJSONLayer:async()=>(await n.e(4584).then(n.bind(n,14584))).default,GeoRSSLayer:async()=>(await n.e(7612).then(n.bind(n,27612))).default,GroupLayer:async()=>(await Promise.resolve().then(n.bind(n,64326))).default,ImageryLayer:async()=>(await Promise.resolve().then(n.bind(n,11367))).default,ImageryTileLayer:async()=>(await Promise.all([n.e(7425),n.e(1928),n.e(143),n.e(6230)]).then(n.bind(n,26230))).default,IntegratedMesh3DTilesLayer:async()=>(await n.e(4951).then(n.bind(n,54951))).default,IntegratedMeshLayer:async()=>(await Promise.all([n.e(4819),n.e(8577)]).then(n.bind(n,18577))).default,KMLLayer:async()=>(await n.e(3884).then(n.bind(n,33884))).default,KnowledgeGraphLayer:async()=>(await Promise.all([n.e(8615),n.e(3859),n.e(3461),n.e(8259),n.e(8534),n.e(8825)]).then(n.bind(n,8825))).default,LineOfSightLayer:async()=>(await Promise.all([n.e(9358),n.e(1246)]).then(n.bind(n,41246))).default,LinkChartLayer:async()=>(await Promise.all([n.e(8615),n.e(3859),n.e(3461),n.e(8259),n.e(8534),n.e(3533)]).then(n.bind(n,23533))).default,MapImageLayer:async()=>(await n.e(9220).then(n.bind(n,39220))).default,MapNotesLayer:async()=>(await n.e(6636).then(n.bind(n,66636))).default,MediaLayer:async()=>(await Promise.resolve().then(n.bind(n,36427))).default,OGCFeatureLayer:async()=>(await n.e(9811).then(n.bind(n,49811))).default,OpenStreetMapLayer:async()=>(await n.e(2774).then(n.bind(n,2774))).default,OrientedImageryLayer:async()=>(await n.e(7198).then(n.bind(n,27198))).default,PointCloudLayer:async()=>(await n.e(4929).then(n.bind(n,64929))).default,RouteLayer:async()=>(await Promise.all([n.e(392),n.e(3160)]).then(n.bind(n,3160))).default,SceneLayer:async()=>(await Promise.all([n.e(9644),n.e(7632),n.e(1903),n.e(4819),n.e(7083)]).then(n.bind(n,77083))).default,StreamLayer:async()=>(await n.e(4376).then(n.bind(n,24376))).default,SubtypeGroupLayer:async()=>(await n.e(6502).then(n.bind(n,36502))).default,TileLayer:async()=>(await Promise.resolve().then(n.bind(n,65977))).default,UnknownLayer:async()=>(await n.e(9001).then(n.bind(n,89001))).default,UnsupportedLayer:async()=>(await n.e(4122).then(n.bind(n,94122))).default,VectorTileLayer:async()=>(await Promise.all([n.e(114),n.e(8498)]).then(n.bind(n,62546))).default,VideoLayer:async()=>(await n.e(2846).then(n.bind(n,22846))).default,ViewshedLayer:async()=>(await Promise.all([n.e(9358),n.e(7345)]).then(n.bind(n,87345))).default,VoxelLayer:async()=>(await n.e(6162).then(n.bind(n,96162))).default,WCSLayer:async()=>(await Promise.all([n.e(7425),n.e(1928),n.e(143),n.e(7874)]).then(n.bind(n,47874))).default,WFSLayer:async()=>(await n.e(3815).then(n.bind(n,53815))).default,WMSLayer:async()=>(await n.e(5503).then(n.bind(n,95503))).default,WMTSLayer:async()=>(await n.e(398).then(n.bind(n,20398))).default,WebTileLayer:async()=>(await n.e(221).then(n.bind(n,221))).default}},97628:function(e,t,n){"use strict";n.d(t,{A:function(){return I}});var r=n(82392),i=n(14755),o=n(62991),s=n(84977),a=n(80861),l=n(45970),c=n(23572),u=n(81482),d=(n(6273),n(67498),n(25376)),h=n(26325),p=n(48524),f=n(82541),m=n(79441),y=n(53334),g=n(56560),v=n(1912),b=n(65648),w=n(34008),_=n(44153),S=n(5585);const x=(0,m.vt)(),M=(0,g.vt)();let A=class extends s.A{};(0,r._)([(0,u.MZ)({type:Number,json:{write:{isRequired:!0}}})],A.prototype,"x",void 0),(0,r._)([(0,u.MZ)({type:Number,json:{write:{isRequired:!0}}})],A.prototype,"y",void 0),A=(0,r._)([(0,h.$)("esri.layers.support.ControlPointsGeoreference.ControlPointJSONType")],A);let T=class extends i.A{constructor(){super(...arguments),this.sourcePoint=null,this.mapPoint=null}};(0,r._)([(0,u.MZ)()],T.prototype,"sourcePoint",void 0),(0,r._)([(0,u.MZ)({type:v.A})],T.prototype,"mapPoint",void 0),T=(0,r._)([(0,h.$)("esri.layers.support.ControlPointsGeoreference.ControlPoint")],T);let I=class extends(s.A.JSONSupportMixin(S.A)){constructor(e){super(e),this.controlPoints=null,this.height=0,this.type="control-points",this.width=0}readControlPoints(e,t){const n=_.A.fromJSON(t.spatialReference),r=(0,m.fA)(...t.coefficients,1);return e.map((e=>((0,y.hZ)(M,e.x,e.y),(0,l.W)(M,M,r),{sourcePoint:e,mapPoint:new v.A({x:M[0],y:M[1],spatialReference:n})})))}writeControlPoints(e,t,n,r){if(null!=this.transform)null!=e&&C(e[0])&&(t.controlPoints=e.map((e=>{const t=e.sourcePoint;return{x:t.x,y:t.y}})),t.spatialReference=e[0].mapPoint.spatialReference.toJSON(),t.coefficients=this.transform.slice(0,8));else{const e=new o.A("web-document-write:invalid-georeference","Invalid 'controlPoints', 'width', 'height' configuration. Make sure the parent media element is loaded i.e. the ImageElement or VideoElement set as 'MediaLayer.source'.",{layer:r?.layer,georeference:this});r?.messages?r.messages.push(e):a.A.getLogger(this).error(e.name,e.message)}}get coords(){if(null==this.controlPoints)return null;const e=this._updateTransform(x);if(null==e||!C(this.controlPoints[0]))return null;const t=this.controlPoints[0].mapPoint.spatialReference;return function(e,t,n,r){const i=(0,g.fA)(0,n),o=(0,g.fA)(0,0),s=(0,g.fA)(t,0),a=(0,g.fA)(t,n);return(0,l.W)(i,i,e),(0,l.W)(o,o,e),(0,l.W)(s,s,e),(0,l.W)(a,a,e),new b.A({rings:[[i,o,s,a,i]],spatialReference:r})}(e,this.width,this.height,t)}set coords(e){if(null==this.controlPoints||!C(this.controlPoints[0]))return;const t=this.controlPoints[0].mapPoint.spatialReference;if(null==(e=this.projectOrWarn(e,t)))return;const{width:n,height:r}=this,{rings:[[i,o,s,a]]}=e,u={sourcePoint:(0,c.tc)(0,r),mapPoint:new v.A({x:i[0],y:i[1],spatialReference:t})},d={sourcePoint:(0,c.tc)(0,0),mapPoint:new v.A({x:o[0],y:o[1],spatialReference:t})},h={sourcePoint:(0,c.tc)(n,0),mapPoint:new v.A({x:s[0],y:s[1],spatialReference:t})},p={sourcePoint:(0,c.tc)(n,r),mapPoint:new v.A({x:a[0],y:a[1],spatialReference:t})};C(u)&&C(d)&&C(h)&&C(p)&&(Z(x,u,d,h,p),this.controlPoints=this.controlPoints.map((({sourcePoint:e})=>((0,y.hZ)(M,e.x,e.y),(0,l.W)(M,M,x),{sourcePoint:e,mapPoint:new v.A({x:M[0],y:M[1],spatialReference:t})}))))}get inverseTransform(){return null==this.transform?null:(0,f.B8)((0,m.vt)(),this.transform)}get transform(){return this._updateTransform()}toMap(e){if(null==e||null==this.transform||null==this.controlPoints||!C(this.controlPoints[0]))return null;(0,y.hZ)(M,e.x,e.y);const t=this.controlPoints[0].mapPoint.spatialReference;return(0,l.W)(M,M,this.transform),new v.A({x:M[0],y:M[1],spatialReference:t})}toSource(e){if(null==e||null==this.inverseTransform||null==this.controlPoints||!C(this.controlPoints[0]))return null;const t=this.controlPoints[0].mapPoint.spatialReference;return e=e.normalize(),null==(e=(0,w.projectOrLoad)(e,t).geometry)?null:((0,y.hZ)(M,e.x,e.y),(0,l.W)(M,M,this.inverseTransform),(0,c.tc)(M[0],M[1]))}toSourceNormalized(e){const t=this.toSource(e);return null!=t&&(t.x/=this.width,t.y/=this.height),t}_updateTransform(e){const{controlPoints:t,width:n,height:r}=this;if(!(null!=t&&n>0&&r>0))return null;const[i,o,s,a]=t;if(!C(i))return null;const l=i.mapPoint.spatialReference,c=this._projectControlPoint(o,l),u=this._projectControlPoint(s,l),d=this._projectControlPoint(a,l);if(!c.valid||!u.valid||!d.valid)return null;if(!C(c.controlPoint))return null;null==e&&(e=(0,m.vt)());let h=null;return h=C(u.controlPoint)&&C(d.controlPoint)?Z(e,i,c.controlPoint,u.controlPoint,d.controlPoint):C(u.controlPoint)?function(e,t,n,r){return j(E,O,t),j(k,N,n),j(P,L,r),(0,y.Cc)(R,E,k,.5),(0,y.e$)(R,P,R,Math.PI),(0,y.Cc)(D,O,N,.5),(0,y.e$)(D,L,D,Math.PI),B(e,E,k,P,R,O,N,L,D)}(e,i,c.controlPoint,u.controlPoint):function(e,t,n){return j(E,O,t),j(k,N,n),(0,y.e$)(P,k,E,F),(0,y.e$)(R,E,k,F),(0,y.e$)(L,N,O,-F),(0,y.e$)(D,O,N,-F),B(e,E,k,P,R,O,N,L,D)}(e,i,c.controlPoint),h.every((e=>0===e))?null:h}_projectControlPoint(e,t){if(!C(e))return{valid:!0,controlPoint:e};const{sourcePoint:n,mapPoint:r}=e,{geometry:i,pending:o}=(0,w.projectOrLoad)(r,t);return o?{valid:!1,controlPoint:null}:o||i?{valid:!0,controlPoint:{sourcePoint:n,mapPoint:i}}:(a.A.getLogger(this).warn("map point could not be projected to the spatial reference",{georeference:this,controlPoint:e,sourceSpatialReference:r.spatialReference,targetSpatialReference:t}),{valid:!1,controlPoint:null})}};function C(e){return null!=e?.sourcePoint&&null!=e.mapPoint}(0,r._)([(0,u.MZ)({type:[T],json:{write:{allowNull:!1,isRequired:!0,target:{controlPoints:{type:[A],isRequired:!0},coefficients:{type:[Number],isRequired:!0},spatialReference:{type:_.A,isRequired:!0}}}}})],I.prototype,"controlPoints",void 0),(0,r._)([(0,d.w)("controlPoints")],I.prototype,"readControlPoints",null),(0,r._)([(0,p.K)("controlPoints")],I.prototype,"writeControlPoints",null),(0,r._)([(0,u.MZ)({clonable:!1})],I.prototype,"coords",null),(0,r._)([(0,u.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],I.prototype,"height",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],I.prototype,"inverseTransform",null),(0,r._)([(0,u.MZ)({readOnly:!0})],I.prototype,"transform",null),(0,r._)([(0,u.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],I.prototype,"width",void 0),I=(0,r._)([(0,h.$)("esri.layers.support.ControlPointsGeoreference")],I);const E=(0,g.vt)(),k=(0,g.vt)(),P=(0,g.vt)(),R=(0,g.vt)(),O=(0,g.vt)(),N=(0,g.vt)(),L=(0,g.vt)(),D=(0,g.vt)(),F=Math.PI/2;function j(e,t,n){(0,y.hZ)(e,n.sourcePoint.x,n.sourcePoint.y),(0,y.hZ)(t,n.mapPoint.x,n.mapPoint.y)}function Z(e,t,n,r,i){return j(E,O,t),j(k,N,n),j(P,L,r),j(R,D,i),B(e,E,k,P,R,O,N,L,D)}const U=new Array(8).fill(0),z=new Array(8).fill(0);function V(e,t,n,r,i){return e[0]=t[0],e[1]=t[1],e[2]=n[0],e[3]=n[1],e[4]=r[0],e[5]=r[1],e[6]=i[0],e[7]=i[1],e}function B(e,t,n,r,i,o,s,a,c){return(0,l.O)(e,V(U,t,n,r,i),V(z,o,s,a,c))}},97629:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(89894);class i extends r.A{constructor(e,t,n){super(e,t,n)}}i.prototype.type="warning"},97776:function(e,t,n){"use strict";function r(e){return"Function"===e?.datasetFormat}function i(e){return r(e)?e.primaryRasters.rasters:[e]}n.d(t,{p:function(){return i},q:function(){return r}})},97944:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=n(83946);function i(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:o(e[t])}}}function o(e){return function(t,...n){!function(e){const t=e?.type;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}(t)?e.call(this,t,...n):(0,r.OU)(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click())}}},98015:function(e,t,n){"use strict";n.d(t,{UF:function(){return c},Yt:function(){return i},Zj:function(){return l},ao:function(){return u},cY:function(){return r},hd:function(){return b},j1:function(){return _},kn:function(){return g},oK:function(){return x}});class r{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}const i=(e,t,n)=>(0,s(t).subscribe)((t=>{const r=t.some((t=>((e,t)=>{let n=e;for(;n;){if(n===t)return!0;if(!n.parentNode)return!1;n=n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}return!1})(e,t.target)));r&&n()})),o={},s=e=>{const t=e.join(","),n=o[t];if(void 0!==n)return n;const r=new Set,i=new MutationObserver((e=>r.forEach((t=>t(e)))));globalThis.document&&i.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const s={subscribe:e=>(r.add(e),()=>{r.delete(e),0===r.size&&(i.disconnect(),o[t]=void 0)})};return o[t]=s,s},a=(e,t)=>{let n=e;for(;n;){const e=n.closest?.(t);if(e)return e;const r=n.getRootNode?.();if(r===globalThis.document)return null;n=r.host}return null},l=(e,t,n)=>{const r=a(e,`[${t}]`);return r?.getAttribute(t)??n},c=(e,t,...n)=>{try{return e?.call(t,...n)}catch(e){}},u=async(e,t,...n)=>{try{const r=e?.call(t,...n);return await r}catch(e){}},d="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),h=new Set(d),p="en",f={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},m={},y=async(e,t)=>{const n=`${t}${e}.json`;try{const e=await fetch(n);if(e.ok)return await e.json()}catch(e){return{}}return e===p?{}:await y(p,t)},g=e=>{const t=l(e,"lang",globalThis.navigator?.language||p);return{lang:t,t9nLocale:v(t)}},v=e=>{const[t,n]=e.split("-"),r=t.toLowerCase();let i=r;return n&&(i=`${r}-${n.toUpperCase()}`),i=f[i]??i,h.has(i)?i:n?v(r):p},b=(e,t,n,r)=>{let o;const s=()=>w(e,t(),r).then((e=>{o?.lang===e.lang&&o.t9nLocale===e.t9nLocale&&o.t9nStrings===e.t9nStrings||n(e),o=e})).catch(console.error);return queueMicrotask(s),i(e,["lang"],s)},w=async(e,t,n=e.localName.split("-").slice(1).join("-"))=>{const{lang:r,t9nLocale:i}=g(e),o=`${t}/${n}/t9n`,s=null===n?{}:await(async(e,t,n="")=>{const r=`${t}/${n}`,i=`${r}${e}.json`;return m[i]??(m[i]=y(e,r)),await m[i]})(i,o,"messages.");return{lang:r,t9nLocale:i,t9nStrings:s}},_=e=>e.replace(S,((e,t)=>`${0===t?"":"-"}${e.toLowerCase()}`)),S=/[A-Z]+(?![a-z])|[A-Z]/gu,x=(e,t)=>{const n=t>M?A:t/T;let r=0;const i=setInterval((()=>{r+=n,r>=t&&(clearInterval(i),e())}),n);return i},M=4e3,A=2e3,T=4},98477:function(e,t,n){"use strict";n.d(t,{A:function(){return te}});var r=n(82392),i=n(81482),o=(n(6273),n(80861),n(67498),n(26325)),s=n(72396),a=n(84977);let l=class extends a.A{constructor(e){super(e),this.type=null}};(0,r._)([(0,i.MZ)()],l.prototype,"type",void 0),l=(0,r._)([(0,o.$)("esri.form.elements.inputs.Input")],l);const c=l;let u=class extends c{constructor(e){super(e),this.maxLength=null,this.minLength=0}};(0,r._)([(0,i.MZ)({type:Number,json:{write:!0}})],u.prototype,"maxLength",void 0),(0,r._)([(0,i.MZ)({type:Number,json:{write:!0}})],u.prototype,"minLength",void 0),u=(0,r._)([(0,o.$)("esri.form.elements.inputs.TextInput")],u);const d=u;var h;let p=h=class extends d{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new h({maxLength:this.maxLength,minLength:this.minLength})}};(0,r._)([(0,i.MZ)({type:["barcode-scanner"],json:{read:!1,write:!0}})],p.prototype,"type",void 0),p=h=(0,r._)([(0,o.$)("esri.form.elements.inputs.BarcodeScannerInput")],p);const f=p;var m;let y=m=class extends c{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new m({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],y.prototype,"noValueOptionLabel",void 0),(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],y.prototype,"showNoValueOption",void 0),(0,r._)([(0,i.MZ)({type:["combo-box"],json:{read:!1,write:!0}})],y.prototype,"type",void 0),y=m=(0,r._)([(0,o.$)("esri.form.elements.inputs.ComboBoxInput")],y);const g=y;var v,b=n(25376),w=n(48524);function _(e){return null!=e?e:null}function S(e){return null!=e?e:null}let x=v=class extends c{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,t){return _(t.max)}writeMax(e,t){t.max=S(e)}readMin(e,t){return _(t.min)}writeMin(e,t){t.min=S(e)}clone(){return new v({max:this.max,min:this.min})}};(0,r._)([(0,i.MZ)({type:String,json:{type:String,write:!0}})],x.prototype,"max",void 0),(0,r._)([(0,b.w)("max")],x.prototype,"readMax",null),(0,r._)([(0,w.K)("max")],x.prototype,"writeMax",null),(0,r._)([(0,i.MZ)({type:String,json:{type:String,write:!0}})],x.prototype,"min",void 0),(0,r._)([(0,b.w)("min")],x.prototype,"readMin",null),(0,r._)([(0,w.K)("min")],x.prototype,"writeMin",null),(0,r._)([(0,i.MZ)({type:["date-picker"],json:{read:!1,write:!0}})],x.prototype,"type",void 0),x=v=(0,r._)([(0,o.$)("esri.form.elements.inputs.DatePickerInput")],x);const M=x;var A;function T(e){return null!=e?e:null}function I(e){return null!=e?e:null}let C=A=class extends c{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,t){return T(t.max)}writeMax(e,t){t.max=I(e)}readMin(e,t){return T(t.min)}writeMin(e,t){t.min=I(e)}readTimeResolution(e,t){return T(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=I(e)}clone(){return new A({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],C.prototype,"includeTimeOffset",void 0),(0,r._)([(0,i.MZ)({type:String,json:{type:String,write:!0}})],C.prototype,"max",void 0),(0,r._)([(0,b.w)("max")],C.prototype,"readMax",null),(0,r._)([(0,w.K)("max")],C.prototype,"writeMax",null),(0,r._)([(0,i.MZ)({type:String,json:{type:String,write:!0}})],C.prototype,"min",void 0),(0,r._)([(0,b.w)("min")],C.prototype,"readMin",null),(0,r._)([(0,w.K)("min")],C.prototype,"writeMin",null),(0,r._)([(0,i.MZ)({type:String,json:{type:String,write:!0}})],C.prototype,"timeResolution",void 0),(0,r._)([(0,b.w)("timeResolution")],C.prototype,"readTimeResolution",null),(0,r._)([(0,w.K)("timeResolution")],C.prototype,"writeTimeResolution",null),(0,r._)([(0,i.MZ)({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],C.prototype,"type",void 0),C=A=(0,r._)([(0,o.$)("esri.form.elements.inputs.DateTimeOffsetPickerInput")],C);const E=C;var k;function P(e){return null!=e?new Date(e):null}function R(e){return e?e.getTime():null}let O=k=class extends c{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return P(t.max)}writeMax(e,t){t.max=R(e)}readMin(e,t){return P(t.min)}writeMin(e,t){t.min=R(e)}clone(){return new k({includeTime:this.includeTime,max:this.max,min:this.min})}};(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],O.prototype,"includeTime",void 0),(0,r._)([(0,i.MZ)({type:Date,json:{type:Number,write:!0}})],O.prototype,"max",void 0),(0,r._)([(0,b.w)("max")],O.prototype,"readMax",null),(0,r._)([(0,w.K)("max")],O.prototype,"writeMax",null),(0,r._)([(0,i.MZ)({type:Date,json:{type:Number,write:!0}})],O.prototype,"min",void 0),(0,r._)([(0,b.w)("min")],O.prototype,"readMin",null),(0,r._)([(0,w.K)("min")],O.prototype,"writeMin",null),(0,r._)([(0,i.MZ)({type:["datetime-picker"],json:{read:!1,write:!0}})],O.prototype,"type",void 0),O=k=(0,r._)([(0,o.$)("esri.form.elements.inputs.DateTimePickerInput")],O);const N=O;var L;let D=L=class extends c{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new L({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],D.prototype,"noValueOptionLabel",void 0),(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],D.prototype,"showNoValueOption",void 0),(0,r._)([(0,i.MZ)({type:["radio-buttons"],json:{read:!1,write:!0}})],D.prototype,"type",void 0),D=L=(0,r._)([(0,o.$)("esri.form.elements.inputs.RadioButtonsInput")],D);const F=D;var j;let Z=j=class extends c{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new j({offValue:this.offValue,onValue:this.onValue})}};(0,r._)([(0,i.MZ)({type:[String,Number],json:{write:!0}})],Z.prototype,"offValue",void 0),(0,r._)([(0,i.MZ)({type:[String,Number],json:{write:!0}})],Z.prototype,"onValue",void 0),(0,r._)([(0,i.MZ)({type:["switch"],json:{read:!1,write:!0}})],Z.prototype,"type",void 0),Z=j=(0,r._)([(0,o.$)("esri.form.elements.inputs.SwitchInput")],Z);const U=Z;var z;let V=z=class extends d{constructor(e){super(e),this.type="text-area"}clone(){return new z({maxLength:this.maxLength,minLength:this.minLength})}};(0,r._)([(0,i.MZ)({type:["text-area"],json:{read:!1,write:!0}})],V.prototype,"type",void 0),V=z=(0,r._)([(0,o.$)("esri.form.elements.inputs.TextAreaInput")],V);const B=V;var $;let G=$=class extends d{constructor(e){super(e),this.type="text-box"}clone(){return new $({maxLength:this.maxLength,minLength:this.minLength})}};(0,r._)([(0,i.MZ)({type:["text-box"],json:{read:!1,write:!0}})],G.prototype,"type",void 0),G=$=(0,r._)([(0,o.$)("esri.form.elements.inputs.TextBoxInput")],G);const q=G;var H;function W(e){return null!=e?e:null}function J(e){return null!=e?e:null}let K=H=class extends c{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,t){return W(t.max)}writeMax(e,t){t.max=J(e)}readMin(e,t){return W(t.min)}writeMin(e,t){t.min=J(e)}readTimeResolution(e,t){return W(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=J(e)}clone(){return new H({max:this.max,min:this.min,timeResolution:this.timeResolution})}};(0,r._)([(0,i.MZ)({type:String,json:{type:String,write:!0}})],K.prototype,"max",void 0),(0,r._)([(0,b.w)("max")],K.prototype,"readMax",null),(0,r._)([(0,w.K)("max")],K.prototype,"writeMax",null),(0,r._)([(0,i.MZ)({type:String,json:{type:String,write:!0}})],K.prototype,"min",void 0),(0,r._)([(0,b.w)("min")],K.prototype,"readMin",null),(0,r._)([(0,w.K)("min")],K.prototype,"writeMin",null),(0,r._)([(0,i.MZ)({type:String,json:{type:String,write:!0}})],K.prototype,"timeResolution",void 0),(0,r._)([(0,b.w)("timeResolution")],K.prototype,"readTimeResolution",null),(0,r._)([(0,w.K)("timeResolution")],K.prototype,"writeTimeResolution",null),(0,r._)([(0,i.MZ)({type:["time-picker"],json:{read:!1,write:!0}})],K.prototype,"type",void 0),K=H=(0,r._)([(0,o.$)("esri.form.elements.inputs.TimePickerInput")],K);const Y={base:c,key:"type",typeMap:{"barcode-scanner":f,"combo-box":g,"date-picker":M,"datetime-picker":N,"datetimeoffset-picker":E,"radio-buttons":F,switch:U,"text-area":B,"text-box":q,"time-picker":K}};var X,Q=n(55797);let ee=X=class extends s.A{constructor(e){super(e),this.domain=null,this.editable=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new X({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};(0,r._)([(0,i.MZ)({types:Q.gK,json:{read:{reader:Q.rS},write:!0}})],ee.prototype,"domain",void 0),(0,r._)([(0,i.MZ)({type:Boolean,json:{write:!0}})],ee.prototype,"editable",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],ee.prototype,"editableExpression",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],ee.prototype,"fieldName",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],ee.prototype,"hint",void 0),(0,r._)([(0,i.MZ)({types:Y,json:{read:{source:"inputType"},write:{target:"inputType"}}})],ee.prototype,"input",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],ee.prototype,"requiredExpression",void 0),(0,r._)([(0,i.MZ)({type:String,json:{read:!1,write:!0}})],ee.prototype,"type",void 0),(0,r._)([(0,i.MZ)({type:String,json:{write:!0}})],ee.prototype,"valueExpression",void 0),ee=X=(0,r._)([(0,o.$)("esri.form.elements.FieldElement")],ee);const te=ee},98540:function(e,t,n){"use strict";n.d(t,{Q:function(){return l}});var r,i=n(82392),o=n(73783),s=n(81482),a=(n(6273),n(80861),n(67498),n(26325));let l=r=class extends o.A{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new r({x:this.x,y:this.y})}};(0,i._)([(0,s.MZ)({type:Number})],l.prototype,"x",void 0),(0,i._)([(0,s.MZ)({type:Number})],l.prototype,"y",void 0),l=r=(0,i._)([(0,a.$)("esri.symbols.support.Symbol3DAnchorPosition2D")],l)},98592:function(e,t,n){"use strict";function r(e,t){for(const n of e.values())if(t(n))return!0;return!1}function i(e,t){if(!t)return e;for(const n of t)null!=n&&e.add(n);return e}function o(e,t){return null!=t&&e.add(t),e}function s(e,t){const n=new Set;return i(n,e),i(n,t),n}function a(e,t){const n=new Set;for(const r of t)e.has(r)&&n.add(r);return n}function l(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const n of e)if(!t.has(n))return!1;return!0}function c(e,t){if(null==e&&null==t)return!0;if(null==e||null==t||e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function u(e,t){const n=new Set(e);for(const e of t)n.delete(e);return n}function d(e,t){return u(s(e,t),a(e,t))}n.d(t,{BT:function(){return d},E$:function(){return a},FB:function(){return i},KC:function(){return s},Yy:function(){return l},aI:function(){return c},bw:function(){return r},iv:function(){return u},kb:function(){return o}})},98593:function(e,t,n){"use strict";function r(e){const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n.buffer}function i(e){const t=new Uint8Array(e);let n="";for(let e=0;e<t.length;e++)n+=String.fromCharCode(t[e]);return btoa(n)}n.d(t,{M:function(){return r},Y:function(){return i}})},98596:function(e,t,n){"use strict";var r;n.d(t,{w:function(){return r}}),function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"}(r||(r={}))},99263:function(e,t,n){"use strict";n.d(t,{$O:function(){return i},Sw:function(){return s},sH:function(){return o}});class r{constructor(e,t,n,r,i,o){this.semiMajorAxis=e,this.flattening=t,this.outerAtmosphereRimWidth=n,this.atmosphereHeight=r,this.scaleHeight=i;const s=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*s,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const i=new r(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),o=new r(3396190,1/169.8944472236118,23e4,6e4,.111),s=new r(1737400,0,0,0,0)},99269:function(e,t,n){"use strict";n.d(t,{RC:function(){return w},Tp:function(){return f},jd:function(){return p},n4:function(){return E},pO:function(){return y},rz:function(){return r},w5:function(){return h}});var r,i,o=n(4506),s=n(5262),a=n(34670),l=n(99263),c=n(1138),u=n(67488),d=n(79509);(i=r||(r={}))[i.UNKNOWN=0]="UNKNOWN",i[i.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",i[i.WGS84=2]="WGS84",i[i.WEB_MERCATOR=3]="WEB_MERCATOR",i[i.WGS84_ECEF=4]="WGS84_ECEF",i[i.CGCS2000=5]="CGCS2000",i[i.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",i[i.GCSMARS2000=7]="GCSMARS2000",i[i.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",i[i.GCSMOON2000=9]="GCSMOON2000",i[i.LON_LAT=10]="LON_LAT",i[i.PLATE_CARREE=11]="PLATE_CARREE";const h={[r.WGS84]:{[r.CGCS2000]:y,[r.GCSMARS2000]:null,[r.GCSMOON2000]:null,[r.LON_LAT]:y,[r.SPHERICAL_ECEF]:C,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:_,[r.PLATE_CARREE]:S,[r.WGS84]:y,[r.WGS84_ECEF]:L},[r.CGCS2000]:{[r.CGCS2000]:y,[r.GCSMARS2000]:null,[r.GCSMOON2000]:null,[r.LON_LAT]:y,[r.SPHERICAL_ECEF]:C,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:_,[r.PLATE_CARREE]:S,[r.WGS84]:y,[r.WGS84_ECEF]:L},[r.GCSMARS2000]:{[r.CGCS2000]:null,[r.GCSMARS2000]:y,[r.GCSMOON2000]:null,[r.LON_LAT]:y,[r.SPHERICAL_ECEF]:null,[r.SPHERICAL_MARS_PCPF]:I,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:null,[r.PLATE_CARREE]:null,[r.WGS84]:null,[r.WGS84_ECEF]:null},[r.GCSMOON2000]:{[r.CGCS2000]:null,[r.GCSMARS2000]:null,[r.GCSMOON2000]:y,[r.LON_LAT]:y,[r.SPHERICAL_ECEF]:null,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:T,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:null,[r.PLATE_CARREE]:null,[r.WGS84]:null,[r.WGS84_ECEF]:null},[r.WEB_MERCATOR]:{[r.CGCS2000]:g,[r.GCSMARS2000]:null,[r.GCSMOON2000]:null,[r.LON_LAT]:g,[r.SPHERICAL_ECEF]:v,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:y,[r.PLATE_CARREE]:M,[r.WGS84]:g,[r.WGS84_ECEF]:b},[r.WGS84_ECEF]:{[r.CGCS2000]:D,[r.GCSMARS2000]:null,[r.GCSMOON2000]:null,[r.LON_LAT]:D,[r.SPHERICAL_ECEF]:F,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:j,[r.PLATE_CARREE]:function(e,t,n,r){D(e,t,n,r),S(n,r,n,r)},[r.WGS84]:D,[r.WGS84_ECEF]:y},[r.SPHERICAL_ECEF]:{[r.CGCS2000]:R,[r.GCSMARS2000]:null,[r.GCSMOON2000]:null,[r.LON_LAT]:R,[r.SPHERICAL_ECEF]:y,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:O,[r.PLATE_CARREE]:function(e,t,n,r){R(e,t,n,r),S(n,r,n,r)},[r.WGS84]:R,[r.WGS84_ECEF]:N},[r.SPHERICAL_MARS_PCPF]:{[r.CGCS2000]:null,[r.GCSMARS2000]:P,[r.GCSMOON2000]:null,[r.LON_LAT]:P,[r.SPHERICAL_ECEF]:null,[r.SPHERICAL_MARS_PCPF]:y,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:null,[r.PLATE_CARREE]:null,[r.WGS84]:null,[r.WGS84_ECEF]:null},[r.SPHERICAL_MOON_PCPF]:{[r.CGCS2000]:null,[r.GCSMARS2000]:null,[r.GCSMOON2000]:k,[r.LON_LAT]:k,[r.SPHERICAL_ECEF]:null,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:y,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:null,[r.PLATE_CARREE]:null,[r.WGS84]:null,[r.WGS84_ECEF]:null},[r.UNKNOWN]:{[r.CGCS2000]:null,[r.GCSMARS2000]:null,[r.GCSMOON2000]:null,[r.LON_LAT]:null,[r.SPHERICAL_ECEF]:null,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:y,[r.WEB_MERCATOR]:null,[r.PLATE_CARREE]:null,[r.WGS84]:null,[r.WGS84_ECEF]:null},[r.LON_LAT]:{[r.CGCS2000]:y,[r.GCSMARS2000]:y,[r.GCSMOON2000]:y,[r.LON_LAT]:y,[r.SPHERICAL_ECEF]:C,[r.SPHERICAL_MARS_PCPF]:I,[r.SPHERICAL_MOON_PCPF]:T,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:_,[r.PLATE_CARREE]:S,[r.WGS84]:y,[r.WGS84_ECEF]:L},[r.PLATE_CARREE]:{[r.CGCS2000]:x,[r.GCSMARS2000]:null,[r.GCSMOON2000]:null,[r.LON_LAT]:x,[r.SPHERICAL_ECEF]:function(e,t,n,r){x(e,t,n,r),C(n,r,n,r)},[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:function(e,t,n,r){x(e,t,n,r),_(n,r,n,r)},[r.PLATE_CARREE]:y,[r.WGS84]:x,[r.WGS84_ECEF]:function(e,t,n,r){x(e,t,n,r),L(n,r,n,r)}}};function p(e,t){return f(e,t)?.projector}function f(e,t){if(null==e||null==t)return null;if(Z.source.spatialReference===e&&Z.dest.spatialReference===t)return Z;const n=m(e,Z.source),i=m(t,Z.dest);return n===r.UNKNOWN&&i===r.UNKNOWN?(0,u.aI)(e,t)?Z.projector=y:Z.projector=null:Z.projector=h[n][i],Z}function m(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=(0,s.GA)(e,1)),(0,a.jA)(e)?t.spatialReferenceId=r.SPHERICAL_ECEF:(0,u.oT)(e)?t.spatialReferenceId=r.WGS84:(0,u.K8)(e)?t.spatialReferenceId=r.WEB_MERCATOR:(0,u.r1)(e)?t.spatialReferenceId=r.PLATE_CARREE:e.wkt===a.Ro.wkt?t.spatialReferenceId=r.WGS84_ECEF:e.wkid===d.Y.CGCS2000?t.spatialReferenceId=r.CGCS2000:e.wkt===a.FY.wkt?t.spatialReferenceId=r.SPHERICAL_MARS_PCPF:e.wkt===a.LJ.wkt?t.spatialReferenceId=r.SPHERICAL_MOON_PCPF:(0,u.q8)(e)?t.spatialReferenceId=r.GCSMARS2000:(0,u.KQ)(e)?t.spatialReferenceId=r.GCSMOON2000:t.spatialReferenceId=r.UNKNOWN):r.UNKNOWN}function y(e,t,n,r){e!==n&&(n[r++]=e[t++],n[r++]=e[t++],n[r]=e[t])}function g(e,t,n,r){n[r]=z*(e[t]/B),n[r+1]=z*(V-2*Math.atan(Math.exp(-e[t+1]/B))),n[r+2]=e[t+2]}function v(e,t,n,r){const i=e[t]/B,o=V-2*Math.atan(Math.exp(-e[t+1]/B)),s=B+e[t+2],a=Math.cos(o)*s;n[r]=Math.cos(i)*a,n[r+1]=Math.sin(i)*a,n[r+2]=Math.sin(o)*s}function b(e,t,n,r){g(e,t,n,r),L(n,r,n,r)}function w(e,t,n,r,i){const s=.4999999*Math.PI,a=(0,o.qE)(U*e[t+1],-s,s),l=Math.sin(a);n[r++]=U*e[t]*i.radius,n[r++]=i.halfSemiMajorAxis*Math.log((1+l)/(1-l)),n[r]=e[t+2]}function _(e,t,n,r){w(e,t,n,r,l.$O)}function S(e,t,n,r){n[r]=e[t]*$,n[r+1]=e[t+1]*$,n[r+2]=e[t+2]}function x(e,t,n,r){n[r]=e[t]*G,n[r+1]=e[t+1]*G,n[r+2]=e[t+2]}function M(e,t,n,r){g(e,t,n,r),S(n,r,n,r)}function A(e,t,n,r,i){const o=i+e[t+2],s=U*e[t+1],a=U*e[t],l=Math.cos(s)*o;n[r]=Math.cos(a)*l,n[r+1]=Math.sin(a)*l,n[r+2]=Math.sin(s)*o}function T(e,t,n,r){A(e,t,n,r,l.Sw.radius)}function I(e,t,n,r){A(e,t,n,r,l.sH.radius)}function C(e,t,n,r){A(e,t,n,r,l.$O.radius)}function E(e,t,n,r,i){const s=e[t],a=e[t+1],l=e[t+2],c=Math.sqrt(s*s+a*a+l*l),u=(0,o.YN)(l/(0===c?1:c)),d=Math.atan2(a,s);n[r++]=z*d,n[r++]=z*u,n[r]=c-i}function k(e,t,n,r){E(e,t,n,r,l.Sw.radius)}function P(e,t,n,r){E(e,t,n,r,l.sH.radius)}function R(e,t,n,r){E(e,t,n,r,l.$O.radius)}function O(e,t,n,r){R(e,t,n,r),_(n,r,n,r)}function N(e,t,n,r){R(e,t,n,r),L(n,r,n,r)}function L(e,t,n,r){!function(e,t,n,r,i){const o=U*e[t],s=U*e[t+1],a=e[t+2],l=Math.sin(s),c=Math.cos(s),u=i.radius/Math.sqrt(1-i.eccentricitySquared*l*l);n[r++]=(u+a)*c*Math.cos(o),n[r++]=(u+a)*c*Math.sin(o),n[r++]=(u*(1-i.eccentricitySquared)+a)*l}(e,t,n,r,l.$O)}function D(e,t,n,r){const i=c.TP,o=e[t],s=e[t+1],a=e[t+2];let u,d,h,p,f,m,y,g,v,b,w,_,S,x,M,A,T,I,C,E,k;u=Math.abs(a),d=o*o+s*s,h=Math.sqrt(d),p=d+a*a,f=Math.sqrt(p),E=Math.atan2(s,o),m=a*a/p,y=d/p,x=i.a2/f,M=i.a3-i.a4/f,y>.3?(g=u/f*(1+y*(i.a1+x+m*M)/f),C=Math.asin(g),b=g*g,v=Math.sqrt(1-b)):(v=h/f*(1-m*(i.a5-x-y*M)/f),C=Math.acos(v),b=1-v*v,g=Math.sqrt(b)),w=1-l.$O.eccentricitySquared*b,_=l.$O.radius/Math.sqrt(w),S=i.a6*_,x=h-_*v,M=u-S*g,T=v*x+g*M,A=v*M-g*x,I=A/(S/w+T),C+=I,k=T+A*I/2,a<0&&(C=-C),n[r++]=z*E,n[r++]=z*C,n[r]=k}function F(e,t,n,r){D(e,t,n,r),C(n,r,n,r)}function j(e,t,n,r){D(e,t,n,r),_(n,r,n,r)}const Z={source:{spatialReference:null,spatialReferenceId:r.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:r.UNKNOWN,metersPerUnit:1},projector:y},U=(0,o.kU)(1),z=(0,o.KJ)(1),V=.5*Math.PI,B=l.$O.radius,$=B*Math.PI/180,G=180/(B*Math.PI)},99595:function(e,t,n){"use strict";n.d(t,{F_:function(){return p},Xr:function(){return b},a:function(){return h},fE:function(){return g},gc:function(){return c}});n(6273);var r=n(80861),i=n(66361),o=n(49095);const s=new(n(71210).R),a=[];let l=s;function c(e){l.onAccessed(e)}let u=!1,d=!1;function h(e,t,n){if(u)return f(e,t,n);let r=null;return m(e),r=t.call(n),y(),r}function p(e,t){return h(s,e,t)}function f(e,t,n){const i=u;u=!0,m(e);let o=null;try{o=t.call(n)}catch(e){d&&r.A.getLogger("esri.core.accessorSupport.tracking").error(e)}return y(),u=i,o}function m(e){l=e,a.push(e)}function y(){const e=a.length;if(e>1){const t=a.pop();l=a[e-2],t.onTrackingEnd()}else if(1===e){const e=a.pop();l=s,e.onTrackingEnd()}else l=s}function g(e,t){if(t.flags&o.i.DepTrackingInitialized)return;t.flags|=o.i.DepTrackingInitialized;const n=d;d=!1,t.flags&o.i.AutoTracked?f(t.trackingTarget,t.metadata.get,e):b(e,t),d=n}const v=[];function b(e,t){t.flags&o.i.ExplicitlyTracking||(t.flags|=o.i.ExplicitlyTracking,f(t.trackingTarget,(()=>{const n=t.metadata.dependsOn||v;for(const t of n)if("string"!=typeof t||t.includes(".")){const n=(0,i.AH)(t);for(let t=0,r=e;t<n.length&&null!=r&&"object"==typeof r;++t)r=w(r,n[t],t!==n.length-1)}else w(e,t,!1)})),t.flags&=~o.i.ExplicitlyTracking)}function w(e,t,n){const r="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){const t=parseInt(r,10);if(!isNaN(t))return Array.isArray(e)?e[t]:e.at(t)}const o=(0,i.oY)(e);if(o){const t=o.propertiesByName.get(r);t&&(c(t),g(e,t))}return n?e[r]:void 0}},99601:function(e,t,n){"use strict";var r=n(34088),i=n(36752),o=n(62245),s=n(79e3);const a=n(33826).AH`:host{position:relative;display:block;inline-size:100%}.track,.bar{position:absolute;inset-block-start:0px;block-size:2px}.track{z-index:var(--calcite-z-index);inline-size:100%;overflow:hidden;background-color:var(--calcite-progress-background-color, var(--calcite-color-border-3))}.bar{z-index:var(--calcite-z-index);background-color:var(--calcite-progress-fill-color, var(--calcite-color-brand))}@media (forced-colors: active){.track{background-color:highlightText}.bar{background-color:linkText}}.indeterminate{inline-size:20%;animation:looping-progress-bar-ani calc(var(--calcite-internal-animation-timing-medium) / var(--calcite-internal-duration-factor) * 11 / var(--calcite-internal-duration-factor)) linear infinite}.indeterminate.calcite--rtl{animation-name:looping-progress-bar-ani-rtl}.reversed{animation-direction:reverse}.text{padding-inline:0px;padding-block:1rem 0px;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-progress-text-color, var(--calcite-color-text-2))}@keyframes looping-progress-bar-ani{0%{transform:translate3d(-100%,0,0)}50%{inline-size:40%}to{transform:translate3d(600%,0,0)}}@keyframes looping-progress-bar-ani-rtl{0%{transform:translate3d(100%,0,0)}50%{inline-size:40%}to{transform:translate3d(-600%,0,0)}}:host([hidden]){display:none}[hidden]{display:none}`;class l extends o.WF{constructor(){super(...arguments),this.reversed=!1,this.type="determinate",this.value=0}static{this.properties={label:1,reversed:[7,{},{reflect:!0,type:Boolean}],text:1,type:[3,{},{reflect:!0}],value:[9,{},{type:Number}]}}static{this.styles=a}render(){const e="determinate"===this.type,t=e?{width:`${this.value}%`}:{},n=(0,s.g)(this.el);return i.qy`<div .ariaLabel=${this.label||this.text} .ariaValueMax=${e?"100":void 0} .ariaValueMin=${e?"0":void 0} .ariaValueNow=${e?this.value:void 0} role=progressbar><div class="track"><div class=${(0,o.CP)({bar:!0,indeterminate:"indeterminate"===this.type,[r.C.rtl]:"rtl"===n,reversed:this.reversed})} style=${(0,o.zl)(t)}></div></div>${this.text?i.qy`<div class="text">${this.text}</div>`:null}</div>`}}(0,r.c)("calcite-progress",l)},99650:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var r=n(3132),i=n(37623),o=n(97629);async function s(e,t,n){const s=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(s&&"unique-value"===s.type&&s.styleOrigin){const a=await(0,r.Ke)(s.populateFromStyle());if((0,i.Te)(n),!1===a.ok){const n=a.error;t?.messages&&t.messages.push(new o.A("renderer:style-reference",`Failed to create unique value renderer from style reference: ${n.message}`,{error:n,context:t})),e.clear("renderer",t?.origin)}}}}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return i[e].call(n.exports,n,n.exports,s),n.exports}s.m=i,s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},s.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);s.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){o[e]=function(){return n[e]}}));return o.default=function(){return n},s.d(i,o),i},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,n){return s.f[n](e,t),t}),[]))},s.u=function(e){return e+"."+{72:"04150a26b570f51e21b2",73:"866635d4a645a00bca2a",81:"8dbd43a86e960779dd4f",114:"840cecc91ed2e1ee9905",135:"1b25e2e6bb20d8fc8051",143:"ce5f0b86373ac906300a",158:"91f313b2ea7347f508cc",208:"a438aeaf89306e7f4284",221:"0c935b27d9d639407960",237:"293973c00a6cf4fa0c2f",257:"458073aa7369957e2155",295:"7517ed3e42a6e1f37700",330:"38dba3662979d231c855",344:"1930fb56dd8e3d644196",356:"58626cd7ef22b5b236c4",392:"2596ea49789a0d3e2248",398:"83fd468bfdcf56d6067a",490:"e57f870a60c33c8bb371",504:"54cf9453eb3047163eac",587:"cd5f757a6f19e86ab914",594:"a8b753eebc0a42e3422b",595:"4146759b32ac183face4",647:"f19c133304ef4200a945",653:"e21601f04457dff10a12",655:"2180feb410c9c1437965",676:"12d5485fbc4ef530f825",730:"1e3d4aeddb4e379be356",774:"2815e5ed40743c408a43",777:"5cf1f40724adb4f0bdde",828:"e838f948d04037e4f7bb",862:"4fedafae4991ec79d4fc",866:"6e3b445d82c9066649e7",900:"4be3166bdca30346e022",914:"83f2d4e42b5cfd86b65a",918:"35f38f4927695949497f",932:"16ea4a55a107f970d2cf",938:"33948fbabd9b9017e4c5",958:"cf43fa243e1da1227de3",1043:"2ff22fdacab70af175d6",1067:"14f6c715deb30614cc3e",1084:"8d7c7323b6b934bbe97b",1174:"f1c084517ec7c51304b0",1187:"591592b1e4b819e4bba1",1238:"6350c0bdca916ba18d8a",1246:"e1e4b4921597cd4c483d",1249:"21f513d2653e7bb22c1e",1252:"05502e6e6226411f3f5b",1277:"71ee519874ad36b1a10c",1288:"c6ef465fb79754f8ace9",1311:"afa3821a3bdcdefb9362",1348:"7836473f681ddc570a30",1465:"3c7e226afeceee5fb46b",1508:"8042f42da36afd8da7d4",1536:"46381551028327f9679b",1538:"20fcfb94e21e229fbff5",1550:"b9be10b4d73e4d2b2239",1570:"8cb7e141ce4697f82adc",1573:"3c0b4019a92a67b01e8f",1592:"b2011a08203be2380f1d",1611:"c255c10444c50fa3ca23",1675:"1afbf748591863e0f5e5",1734:"31dee4427b4225e4d8b6",1743:"6f3c68605a40bb9c48db",1759:"ce40d92d2ac29d3bab79",1767:"5e91b84d7dd44b2bd2fb",1808:"16964ba5bd59d0b7d11a",1843:"ce8df32803e4f5512135",1856:"00ef74879a92784b5bf4",1878:"49268bf7fa7ba4b8e221",1903:"8c0e0fdd7752d8f3d03c",1928:"cecb6764e3193913c500",1939:"0df374a7a989ca44888a",1942:"08025b70ec4c215892fd",2013:"8af5faec81194a4ed597",2027:"0b33138cc22058d3397b",2062:"32e166ca3bb7c2357f22",2089:"2d0729592dc714c45cf1",2101:"6be9fed9417aa148c8fd",2133:"d3b262211c3231d8ed82",2150:"a3d4daa0535526e6182f",2166:"aa8df6e8131cc8d49e4c",2180:"d297df0b0a7c9bb367fb",2199:"08ade76491111512be60",2321:"b9d0acd62267132aa92e",2374:"4505839086f617009e6e",2497:"b81bb8ed09825a576c76",2501:"0cfd563f5525c05f8130",2512:"47dd9ed4cd2eaa8efe64",2521:"3cbf53145bb6836a9257",2527:"2feab8b5438b35edb518",2549:"96bc6a1aafb4b8a4a4ec",2624:"35b42e6a3024b0952947",2644:"9fbc61a96cec4297a958",2652:"e80df9f717866262f129",2653:"747728cd95c2ae6d763f",2657:"389baf0cd233e67145a8",2659:"fd6e9fd2adb3fecd376d",2662:"412b6b81024391045f27",2665:"d0e8551819a83d6fbb5c",2670:"90601f07b09c53634c01",2708:"099ce193fff32773783d",2751:"07bd8b38c196c65a8c73",2774:"89b83d2cb5ceca9472e0",2788:"0fd5c986018f595ffe38",2816:"ccd22c38cd8bdb9eb69d",2846:"3b57fa68f1cc87950d28",2852:"13920bcedd5f8ac69896",2870:"874f1a237d7ddcb301c8",2872:"a4816cad05bc04261d6c",2882:"ff7316ec43194576c92f",2890:"7830c91bbdbcf537737e",2917:"0602af09daa7740b1408",2933:"4d32e1fbf2ce704784e3",2942:"96608b044e466c08821c",2943:"dd7cfd81febe4a962e6e",2967:"a576f89a0184a571e088",2974:"2736e5e1a47b49c1a3da",2982:"430a38ae907a1690f062",2991:"56329317fec5d75c3515",2993:"ee609b5a827af70a8c47",2999:"aed87275440ca78a0064",3012:"10cd8927fe94882b9042",3014:"b7a230303e4f7b9f59c0",3034:"dc88dfb071e26058d9da",3067:"d41432d3897d0c8f1bcc",3080:"61a0aec7261b671172c8",3083:"44be4c87fa1b16aae879",3089:"41b0ac0500685da24ba4",3098:"7679116cc8d5ea8fd4b0",3132:"7decaadaf62d4aec0b17",3160:"89e6de0025b67d9a53a4",3207:"47fc73eecd78ee864fe5",3252:"60348f611431363d93c1",3269:"bbb0bb3f38a733f18c8f",3271:"55fe63e8e55f8327ed1a",3304:"6e37c8e11f4cf24653c7",3320:"52fa117018cb0e90cbb4",3343:"99ec85f9a27776aed786",3370:"29d164a2cd87ffe57143",3371:"30e3cc95428054a2c980",3388:"020156a84df71009cde7",3461:"6711a84f65a4162faac6",3480:"583b8ec817bb5d30a0c0",3513:"e9c386e5cd875eaf0928",3533:"6fefffea9dc0aa1245e0",3542:"55dc256fd29a83d10505",3651:"792c109e75631a71f31a",3654:"1c20da82c039905251e5",3672:"9e55ace27e10b690b2c9",3703:"bfa309b6aa8248d713a8",3704:"47d5761defa8b49d5f63",3740:"b419e618272af6e3c882",3799:"20fb1d8c2e48cac059fb",3815:"e9e91c75dd06f53210f4",3856:"92519210084ccf6f5ab5",3859:"8db53c592df9727a3d23",3884:"b04ba915800361938dae",3933:"6cf5c8dc10e31ac99861",3981:"dace072a0e38179962a2",3983:"cd84324ed2990c9c278c",4004:"0cfb85ddec8dbf64c124",4013:"2d7be3a70b24ae810159",4022:"33e05f36af037373ed43",4036:"f180af4ba24b1c4782c8",4060:"44e3840b1c57a6ff78d2",4071:"422a4eb3c3792f1e0bcc",4084:"ba7ece0954d7facbf61c",4094:"ede1aac7e864054f161b",4103:"e7ad195f4c57843e5010",4114:"00dbc1d5ddc05fd07a00",4122:"c6caaa07f35e6b660c76",4168:"0f09cde581a9aa4c7c0f",4212:"48df4d6bde7a8f9c2dd0",4214:"003ec47eaa1bb8868cb9",4231:"74ee2e88e9f6d3fba8f8",4232:"51c331ad2989d9b11e56",4250:"d20af1a3bfa5f56b74f4",4274:"c87a0fee06e6f2d4306c",4376:"bcd848d3e650018ece60",4394:"5406c507e3c9e69a99e7",4456:"8ab238db9c8dae48523b",4479:"0b0a4736b442c809f25e",4488:"83e67f92cdaeee10168f",4515:"80a3072e7cea46e2d6dd",4520:"160ef259067492ad1c9b",4522:"342bffeb5a44c1967082",4552:"f21bde8ec610d4caf727",4572:"241ee5a0e57d46c6b98a",4579:"3a1c4bfb11ec8daf5624",4584:"2796258bfd1bfb6a7478",4611:"3b7989eb151a021cc620",4613:"8779dc68c70e15a12747",4646:"31f10b48483c09311a3d",4679:"b496005d8a750cf34fe8",4720:"45097dea6fdcfb0a8cad",4727:"ac514b9b9763fac9e1b1",4733:"4f28f004b26bf6f1c9d2",4749:"5ff5749d9fbb0e1ea14b",4796:"32dfec0860368f174b31",4804:"2eab7fc0750d83300c1b",4805:"d5ac055f7f5f2e0ddc31",4808:"f78dfbc2eca2b69be433",4819:"f5667a6cf2cbb7338639",4829:"6ec530b4e10c3c3e4124",4833:"385676f9e133048ed412",4929:"52141677ae535992b5f1",4945:"bcbdc442c8c806ea213d",4951:"46d8e19ff0055a83ee8a",4953:"c8bd88d471155e2bf086",4967:"3da10151d295c8f8c4aa",4973:"0ba4c95973b0edd76e48",4974:"0dc0bc1a8c6ccd47b126",4982:"dfa2b1b7e8a9742b1d29",4989:"89f6aa3bca75e18a6c2a",4992:"1b2d2b8143ece3566d77",5009:"5dad1dc9112f80b18e53",5029:"8c3354c598a393a9e060",5127:"bc505ceff3897e1a9b25",5139:"8f3a5761c617007befa9",5154:"4d79867c1380de31e904",5174:"7aa56c0382d67b5ff611",5210:"7bfa8de85e728f79402a",5262:"86024deb18aa8689a7bb",5324:"1c153364becf24ede995",5342:"c7cc173ace518658d2cb",5383:"9ceb6cdf49b35070bab2",5393:"d540a5884dfed5dae677",5423:"bf8ee5366e56a093eafa",5445:"7c2be14c84f1bb2d6a4f",5503:"b8123b1720cc6cc07f49",5507:"9d9e2f369c8bf1e0bf62",5510:"4fd0eddc46b127345489",5534:"d5f312b751f568214cf1",5545:"7b7095b2642a23109b41",5585:"748ec9b732bb17767900",5595:"22fbd0424f4555679723",5670:"66739685954eb9ca7678",5681:"702b81c7ce351085237b",5837:"ca6b6c5426e9e93be54c",5892:"40dc8da8be44b3f706a3",5918:"caee52ba03259c3f8934",5931:"04aaa820a23b7417604f",5942:"095e7073f52134068f9c",6053:"0f56eb2e7437a98fec1b",6162:"0e416268d7dda0e50378",6165:"5bd5fa363395c15ea948",6174:"1e56c481a8a27bce59b8",6178:"00cc003f045b19cc1955",6201:"43de706ed40a4c9d9216",6230:"32517ee7edcaaf4dec41",6238:"1bd310bfbc4ab5b3fddc",6250:"eb7face09a7f5ed83d8e",6252:"114fbbf2b68040900295",6263:"3f61956aa05b91db6f67",6266:"a8487ace28eb966d0327",6367:"b6e95f25dce888bcb866",6372:"03996f1e5598f87f31f6",6400:"7c6dbd02f0202ea4e889",6411:"32c5fd1f85c4805c8aaa",6449:"a5766cfd48f83a26b239",6452:"903501ff217eb2593dc0",6461:"04f048b290829e6a5990",6470:"738d55a5e544040fe5fc",6485:"0787b91b30c6ce193696",6502:"ba51450f54f8e28c3f8e",6529:"bce41396ffdb022ebd4e",6530:"1091f4b89b5881129457",6636:"f872e88a3bbff3b29f7e",6658:"188e7d7e13e7b98d3bd4",6689:"996270a27293c33e5c33",6741:"b065f60773690ba44ca0",6805:"0982cd30ed3f5f9b66c0",6852:"4d400611c20b8a6b43a1",6860:"1a6ab4c486d686602f66",6872:"55763d45e45bc19d34ff",6884:"c43eea0f37f2a9420c49",6903:"eb2de1183a722b248f2c",6943:"08ca7f9ad70d705012c7",6953:"ac5d25ab17c1132ea30a",6960:"4b79e685d2ae21a37d16",6988:"9ade95f012ef39a70829",6999:"41eb77ffe081004b146e",7031:"d697554c27653198feb4",7060:"031c61ad60a2b290806e",7083:"7f2c80c1afa8700a7cd3",7103:"a2d081b0a06caf3bba9a",7115:"59bfcdff75d7c1784dc3",7198:"21d8cf68c28631f96877",7223:"5d681fa6b1988fdc7a9a",7237:"0cfd7426ee3da1468410",7245:"f8c567935254a6353364",7263:"79df4bc307596effe7ab",7264:"6fbe2819111ebd7815d6",7280:"16ed17b71e20bc3b1ca7",7313:"7914847e09fe52f36a22",7345:"9e4461a35469a0b31bba",7391:"104b4f6efe4b0605a8cb",7401:"1d20072151874bf0a608",7425:"d35607625a155cbbb6f8",7439:"e0451adea5c79c436733",7442:"eb2d45f7a44988be4bc9",7443:"89736bc6d2a637c61fe5",7472:"ba0b36ffb0cdb0207711",7477:"afe1ce3e86150c846587",7491:"afe74a4c33006aef2b3c",7513:"583ef232693efdecf37d",7517:"18efe89de0758f42608e",7541:"0d6346cf054b6dbc5f05",7560:"9360923c0bcc7191eb5c",7586:"75b1436f24a76e1ab0fc",7612:"409b6d96ae82638ca07d",7632:"d0338f7ec8b706fa3d4d",7636:"a015da1683a3ae2f2c21",7648:"55b2b8632b9e38d3daa7",7748:"9041032f044c22168286",7764:"bbb532d588f49ea6c1ea",7784:"1af117ffbbed7f420ae4",7810:"7b2d065a3192b3f759bb",7823:"037a3ed74fd7514607aa",7858:"c9af5a71856ff715d1cf",7874:"6f9dfa948266d149ee04",7917:"c4ffbdadfb63b3a67ce9",7919:"5e237f68034efeb46924",7942:"ac2e34c452a69a8df48d",7961:"6a8eadebb5f6b03e337d",7963:"d6997a143e177ed623b1",7966:"bb9fa2c26fb6fb96482c",7969:"93372bf5984ef3ff9d7a",7975:"580ab0ff06bc06e5ba17",8004:"a598d6ace50096a185a4",8021:"0f840d881ef5ab13e5e9",8028:"53d2d465406b8ebb064e",8050:"f1e8af29c7d5ae5de900",8055:"203bb3498e98b8576fa9",8076:"9613ae9dac26ffd979b1",8085:"30cec61965f73638f3b5",8098:"d90055c7f9ee2075e732",8137:"4ede26307411eedaf9a7",8148:"74f522b297e69ee38cf8",8164:"1f2534b50a2bd0340635",8196:"3ead3bea881a11cc21e9",8246:"099bd42e560791524903",8259:"bd4d1b926c963ec336a9",8264:"c57a742ab21ca68b9469",8275:"8c92c4218f7409e889ab",8284:"1e0793c3be3c50b9ef7e",8315:"0292941e91684bf81df0",8337:"20232476dc11f8942230",8380:"16ebbc8eb20808258cee",8381:"2f5871a7a0dcbd4cbf64",8401:"f583355e6da64d709567",8460:"3a3f7cfa059ce7b59fcb",8480:"fe5dd55671db7ee0f12c",8498:"b0fc0614fc2fb3c4f84e",8505:"45ce8cf6fc9da4c82c67",8534:"9f3ac243ae024f25b7b0",8543:"8902ccce49da857ecc15",8549:"3c74b1625c46ff129e63",8577:"30b96636235ef4677bb8",8601:"e700bcde390cdd215414",8615:"5cbb2088582af07d0069",8730:"29851a17b3b9438e9511",8757:"472d51064cc1e9ae40ed",8758:"cd975c90c3d3d1758971",8801:"e0025d4f67fa8d0383dd",8809:"2b256cde6379f8b9b911",8813:"ec0958cd9fe50753a876",8817:"3b28158c29ee95e5226c",8825:"157a5f5e0c46feb7f71e",8840:"acfbda9cdc2b4e17b94a",8841:"1ab28a4f541c3316dfbc",8851:"ef7b4b1719f6dea25c20",8910:"56819844a0bdca71f77a",8915:"66d4fff79f2a71243dde",8920:"02e7dd321a330baeee90",8928:"726e2884a232be3d0750",8938:"1e5df5f43579b71e3b96",8944:"09bd0a5678c5091fa2b7",9001:"46f8f330d3dfc888ea38",9018:"bdbb9620c042ae854585",9029:"22c8cf9b0b0ff3e890af",9052:"5fb293ef04874388689b",9065:"0da2ae78ee02a8aeac32",9092:"37341fe58a9af0dd04c6",9107:"2645a69fffad8c4f3cb4",9122:"ef68af76f0f94c16ce49",9155:"fb90a740cb04677ba0a4",9218:"541e5e0868b6fc87952a",9220:"15cfd85f534a41dfc2bb",9224:"3131d091c85ad0a4bf08",9227:"568975f205a49b6212be",9232:"24a3e37f3c7aff6a551d",9251:"5d67e3a2f696257e652e",9257:"6977c741fb3fb3e0275d",9272:"7f3619c120f3360e394e",9284:"0d1f9a0f030c067b6a6c",9294:"3cf4a3d88c4329a480bc",9296:"38aacda3b98d605adbe5",9320:"6df00d89f9a16d9f54c0",9358:"2419b2bbd38325095711",9427:"ecfaa915ba9fce23235f",9480:"0c19aa0bb3de466725f3",9488:"16a5f606458934185938",9500:"1cda9f422fd2edd830cc",9507:"3712bcf0969b5a7904f8",9515:"a1403ead33bd98723892",9544:"6e61687373aa6bc664a2",9545:"ccffa0829910a280ee38",9585:"ac16b764bfa970929eab",9599:"8998f26cdb8bdd8dd58d",9628:"974347d998e0e23ac2c5",9644:"35b6c1ca26337a847091",9677:"4c549db3261cb43d1833",9679:"416049e1be6c6cafd259",9687:"24e75a53206afa03f89d",9700:"4b6bee36332a6fc9eb41",9766:"541d5d6ce00d3953c40d",9768:"5ae91071ed524235863e",9810:"06fd4afa3088bd7c7797",9811:"29329710ac330f6318f9",9822:"53123277162f3a20b698",9832:"9991ddb72c40e8f8aaa6",9856:"a4cce79c123b265ed344",9877:"fe5e2d9eebb3fcc6d5d0",9914:"001384b7bacbea031c79",9926:"a3520784c6cc00f0007e",9952:"96c40b11fd05685f369b",9997:"3580d072cfa8af2d57bc"}[e]+".js"},s.miniCssF=function(e){},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},r="imagery-explorer-apps:",s.l=function(e,t,i,o){if(n[e])n[e].push(t);else{var a,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+i){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",r+i),a.src=e),n[e]=[t];var h=function(t,r){a.onerror=a.onload=null,clearTimeout(p);var i=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e}(),function(){var e={8792:0};s.f.j=function(t,n){var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var o=s.p+s.u(t),a=new Error;s.l(o,(function(n){if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,r[1](a)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,o=n[0],a=n[1],l=n[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(l)l(s)}for(t&&t(n);c<o.length;c++)i=o[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkimagery_explorer_apps=self.webpackChunkimagery_explorer_apps||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e=s(96540),t=s(5338),n=s(78418);function r(e){e()}var i={notify(){},get:()=>[]};function o(e,t){let n,o=i,s=0,a=!1;function l(){d.onStateChange&&d.onStateChange()}function c(){s++,n||(n=t?t.addNestedSub(l):e.subscribe(l),o=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){r((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function u(){s--,n&&0===s&&(n(),n=void 0,o.clear(),o=i)}const d={addNestedSub:function(e){c();const t=o.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),u())}},notifyNestedSubs:function(){o.notify()},handleChangeWrapper:l,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,c())},tryUnsubscribe:function(){a&&(a=!1,u())},getListeners:()=>o};return d}var a=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),l=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),c=(()=>a||l?e.useLayoutEffect:e.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var u=Symbol.for("react-redux-context"),d="undefined"!=typeof globalThis?globalThis:{};function h(){if(!e.createContext)return{};const t=d[u]??=new Map;let n=t.get(e.createContext);return n||(n=e.createContext(null),t.set(e.createContext,n)),n}var p=h();var f=function(t){const{children:n,context:r,serverState:i,store:s}=t,a=e.useMemo((()=>{const e=o(s);return{store:s,subscription:e,getServerState:i?()=>i:void 0}}),[s,i]),l=e.useMemo((()=>s.getState()),[s]);c((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==s.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,l]);const u=r||p;return e.createElement(u.Provider,{value:a},n)};function m(t=p){return function(){return e.useContext(t)}}var y=m();function g(e=p){const t=e===p?y:m(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var v=g();function b(e=p){const t=e===p?v:g(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var w=b(),_=(e,t)=>e===t;function S(t=p){const r=t===p?y:m(t),i=(t,i={})=>{const{equalityFn:o=_}="function"==typeof i?{equalityFn:i}:i;const s=r(),{store:a,subscription:l,getServerState:c}=s,u=(e.useRef(!0),e.useCallback({[t.name](e){return t(e)}}[t.name],[t])),d=(0,n.useSyncExternalStoreWithSelector)(l.addNestedSub,a.getState,c||a.getState,u,o);return e.useDebugValue(d),d};return Object.assign(i,{withTypes:()=>i}),i}var x=S();class M extends e.PureComponent{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){const{children:t}=this.props,{error:n,errorInfo:r}=this.state;return n?e.createElement("div",{className:" bg-custom-background w-full h-screen flex justify-center items-center"},e.createElement("div",null,e.createElement("h1",null,"Something went wrong and the app has crashed."),n?e.createElement("p",null,n.toString()):null)):t}}s(34915);Object.create(null);const A=(e,t,n,r)=>{const i=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);P(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...i):console},T={},I=(e,t,n,r)=>{P(n)&&T[n]||(P(n)&&(T[n]=new Date),A(e,t,n,r))},C=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout((()=>{e.off("initialized",n)}),0),t()};e.on("initialized",n)}},E=(e,t,n)=>{e.loadNamespaces(t,C(e,n))},k=(e,t,n,r)=>{if(P(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return E(e,n,r);n.forEach((t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,C(e,r))},P=e=>"string"==typeof e,R=e=>"object"==typeof e&&null!==e,O=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,N={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},L=e=>N[e];let D={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(O,L)};const F=()=>D;let j;const Z=()=>j;const U={type:"3rdParty",init(e){((e={})=>{D={...D,...e}})(e.options.react),(e=>{j=e})(e)}},z=(0,e.createContext)();class V{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const B=(e,t,n,r)=>e.getFixedT(t,n,r),$=(t,n={})=>{const{i18n:r}=n,{i18n:i,defaultNS:o}=(0,e.useContext)(z)||{},s=r||i||Z();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new V),!s){I(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>P(t)?t:R(t)&&P(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}s.options.react?.wait&&I(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...F(),...s.options.react,...n},{useSuspense:l,keyPrefix:c}=a;let u=t||o||s.options?.defaultNS;u=P(u)?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces?.(u);const d=(s.isInitialized||s.initializedStoreOnce)&&u.every((e=>((e,t,n={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n?.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):(I(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0))(e,s,a))),h=((t,n,r,i)=>(0,e.useCallback)(B(t,n,r,i),[t,n,r,i]))(s,n.lng||null,"fallback"===a.nsMode?u:u[0],c),p=()=>h,f=()=>B(s,n.lng||null,"fallback"===a.nsMode?u:u[0],c),[m,y]=(0,e.useState)(p);let g=u.join();n.lng&&(g=`${n.lng}${g}`);const v=((t,n)=>{const r=(0,e.useRef)();return(0,e.useEffect)((()=>{r.current=n?r.current:t}),[t,n]),r.current})(g),b=(0,e.useRef)(!0);(0,e.useEffect)((()=>{const{bindI18n:e,bindI18nStore:t}=a;b.current=!0,d||l||(n.lng?k(s,n.lng,u,(()=>{b.current&&y(f)})):E(s,u,(()=>{b.current&&y(f)}))),d&&v&&v!==g&&b.current&&y(f);const r=()=>{b.current&&y(f)};return e&&s?.on(e,r),t&&s?.store.on(t,r),()=>{b.current=!1,s&&e?.split(" ").forEach((e=>s.off(e,r))),t&&s&&t.split(" ").forEach((e=>s.store.off(e,r)))}}),[s,g]),(0,e.useEffect)((()=>{b.current&&d&&y(p)}),[s,c,d]);const w=[m,s,d];if(w.t=m,w.i18n=s,w.ready=d,d)return w;if(!d&&!l)return w;throw new Promise((e=>{n.lng?k(s,n.lng,u,(()=>e())):E(s,u,(()=>e()))}))};const G=({error:t})=>{const{t:n}=$();return e.createElement("div",{className:"flex justify-center items-center w-screen h-screen theme-background text-custom-light-blue"},e.createElement("div",{className:"max-w-2xl"},e.createElement("p",null,n("app_temporarily_unavailable")),t&&t.message?e.createElement("p",{className:"mt-4 text-sm"},n("error_message"),": ",t.message):null))};var q=Symbol.for("immer-nothing"),H=Symbol.for("immer-draftable"),W=Symbol.for("immer-state");function J(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var K=Object.getPrototypeOf;function Y(e){return!!e&&!!e[W]}function X(e){return!!e&&(ee(e)||Array.isArray(e)||!!e[H]||!!e.constructor?.[H]||oe(e)||se(e))}var Q=Object.prototype.constructor.toString();function ee(e){if(!e||"object"!=typeof e)return!1;const t=K(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Q}function te(e,t){0===ne(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function ne(e){const t=e[W];return t?t.type_:Array.isArray(e)?1:oe(e)?2:se(e)?3:0}function re(e,t){return 2===ne(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ie(e,t,n){const r=ne(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function oe(e){return e instanceof Map}function se(e){return e instanceof Set}function ae(e){return e.copy_||e.base_}function le(e,t){if(oe(e))return new Map(e);if(se(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=ee(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[W];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(K(e),t)}{const t=K(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function ce(e,t=!1){return de(e)||Y(e)||!X(e)||(ne(e)>1&&(e.set=e.add=e.clear=e.delete=ue),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>ce(t,!0)))),e}function ue(){J(2)}function de(e){return Object.isFrozen(e)}var he,pe={};function fe(e){const t=pe[e];return t||J(0),t}function me(){return he}function ye(e,t){t&&(fe("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ge(e){ve(e),e.drafts_.forEach(we),e.drafts_=null}function ve(e){e===he&&(he=e.parent_)}function be(e){return he={drafts_:[],parent_:he,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function we(e){const t=e[W];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function _e(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[W].modified_&&(ge(t),J(4)),X(e)&&(e=Se(t,e),t.parent_||Me(t,e)),t.patches_&&fe("Patches").generateReplacementPatches_(n[W].base_,e,t.patches_,t.inversePatches_)):e=Se(t,n,[]),ge(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==q?e:void 0}function Se(e,t,n){if(de(t))return t;const r=t[W];if(!r)return te(t,((i,o)=>xe(e,r,t,i,o,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return Me(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,o=!1;3===r.type_&&(i=new Set(t),t.clear(),o=!0),te(i,((i,s)=>xe(e,r,t,i,s,n,o))),Me(e,t,!1),n&&e.patches_&&fe("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function xe(e,t,n,r,i,o,s){if(Y(i)){const s=Se(e,i,o&&t&&3!==t.type_&&!re(t.assigned_,r)?o.concat(r):void 0);if(ie(n,r,s),!Y(s))return;e.canAutoFreeze_=!1}else s&&n.add(i);if(X(i)&&!de(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Se(e,i),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Me(e,i)}}function Me(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ce(t,n)}var Ae={get(e,t){if(t===W)return e;const n=ae(e);if(!re(n,t))return function(e,t,n){const r=Ce(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!X(r)?r:r===Ie(e.base_,t)?(ke(e),e.copy_[t]=Pe(r,e)):r},has(e,t){return t in ae(e)},ownKeys(e){return Reflect.ownKeys(ae(e))},set(e,t,n){const r=Ce(ae(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Ie(ae(e),t),i=r?.[W];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,r)&&(void 0!==n||re(e.base_,t)))return!0;ke(e),Ee(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return void 0!==Ie(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,ke(e),Ee(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ae(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){J(11)},getPrototypeOf(e){return K(e.base_)},setPrototypeOf(){J(12)}},Te={};function Ie(e,t){const n=e[W];return(n?ae(n):e)[t]}function Ce(e,t){if(!(t in e))return;let n=K(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=K(n)}}function Ee(e){e.modified_||(e.modified_=!0,e.parent_&&Ee(e.parent_))}function ke(e){e.copy_||(e.copy_=le(e.base_,e.scope_.immer_.useStrictShallowCopy_))}te(Ae,((e,t)=>{Te[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Te.deleteProperty=function(e,t){return Te.set.call(this,e,t,void 0)},Te.set=function(e,t,n){return Ae.set.call(this,e[0],t,n,e[0])};function Pe(e,t){const n=oe(e)?fe("MapSet").proxyMap_(e,t):se(e)?fe("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:me(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Ae;n&&(i=[r],o=Te);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}(e,t);return(t?t.scope_:me()).drafts_.push(n),n}function Re(e){return Y(e)||J(10),Oe(e)}function Oe(e){if(!X(e)||de(e))return e;const t=e[W];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=le(e,t.scope_.immer_.useStrictShallowCopy_)}else n=le(e,!0);return te(n,((e,t)=>{ie(n,e,Oe(t))})),t&&(t.finalized_=!1),n}var Ne=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,(e=>t.call(this,e,...i)))}}let r;if("function"!=typeof t&&J(6),void 0!==n&&"function"!=typeof n&&J(7),X(e)){const i=be(this),o=Pe(e,void 0);let s=!0;try{r=t(o),s=!1}finally{s?ge(i):ve(i)}return ye(i,n),_e(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===q&&(r=void 0),this.autoFreeze_&&ce(r,!0),n){const t=[],i=[];fe("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}J(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;const i=this.produce(e,t,((e,t)=>{n=e,r=t}));return[i,n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){X(e)||J(8),Y(e)&&(e=Re(e));const t=be(this),n=Pe(e,void 0);return n[W].isManual_=!0,ve(t),n}finishDraft(e,t){const n=e&&e[W];n&&n.isManual_||J(9);const{scope_:r}=n;return ye(r,t),_e(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=fe("Patches").applyPatches_;return Y(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},Le=Ne.produce;Ne.produceWithPatches.bind(Ne),Ne.setAutoFreeze.bind(Ne),Ne.setUseStrictShallowCopy.bind(Ne),Ne.applyPatches.bind(Ne),Ne.createDraft.bind(Ne),Ne.finishDraft.bind(Ne);function De(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}var Fe=e=>Array.isArray(e)?e:[e];function je(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const n=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var Ze="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},Ue=0,ze=1;function Ve(){return{s:Ue,v:void 0,o:null,p:null}}function Be(e,t={}){let n=Ve();const{resultEqualityCheck:r}=t;let i,o=0;function s(){let t=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=Ve(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=Ve(),e.set(n,t)):t=r}}const a=t;let l;if(t.s===ze)l=t.v;else if(l=e.apply(null,arguments),o++,r){const e=i?.deref?.()??i;null!=e&&r(e,l)&&(l=e,0!==o&&o--);i="object"==typeof l&&null!==l||"function"==typeof l?new Ze(l):l}return a.s=ze,a.v=l,l}return s.clearCache=()=>{n=Ve(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function $e(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,i=0,o={},s=e.pop();"object"==typeof s&&(o=s,s=e.pop()),De(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);const a={...n,...o},{memoize:l,memoizeOptions:c=[],argsMemoize:u=Be,argsMemoizeOptions:d=[],devModeChecks:h={}}=a,p=Fe(c),f=Fe(d),m=je(e),y=l((function(){return r++,s.apply(null,arguments)}),...p);const g=u((function(){i++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(m,arguments);return t=y.apply(null,e),t}),...f);return Object.assign(g,{resultFunc:s,memoizedResultFunc:y,dependencies:m,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:l,argsMemoize:u})};return Object.assign(r,{withTypes:()=>r}),r}var Ge=$e(Be),qe=Object.assign(((e,t=Ge)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e),r=n.map((t=>e[t]));return t(r,((...e)=>e.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})))}),{withTypes:()=>qe});function He(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var We=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),Je=()=>Math.random().toString(36).substring(7).split("").join("."),Ke={INIT:`@@redux/INIT${Je()}`,REPLACE:`@@redux/REPLACE${Je()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Je()}`};function Ye(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Xe(e,t,n){if("function"!=typeof e)throw new Error(He(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(He(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(He(1));return n(Xe)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function c(){s===o&&(s=new Map,o.forEach(((e,t)=>{s.set(t,e)})))}function u(){if(l)throw new Error(He(3));return i}function d(e){if("function"!=typeof e)throw new Error(He(4));if(l)throw new Error(He(5));let t=!0;c();const n=a++;return s.set(n,e),function(){if(t){if(l)throw new Error(He(6));t=!1,c(),s.delete(n),o=null}}}function h(e){if(!Ye(e))throw new Error(He(7));if(void 0===e.type)throw new Error(He(8));if("string"!=typeof e.type)throw new Error(He(17));if(l)throw new Error(He(9));try{l=!0,i=r(i,e)}finally{l=!1}return(o=s).forEach((e=>{e()})),e}h({type:Ke.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(He(10));r=e,h({type:Ke.REPLACE})},[We]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(He(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[We](){return this}}}}}function Qe(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if(void 0===n(void 0,{type:Ke.INIT}))throw new Error(He(12));if(void 0===n(void 0,{type:Ke.PROBE_UNKNOWN_ACTION()}))throw new Error(He(13))}))}(n)}catch(e){i=e}return function(e={},t){if(i)throw i;let o=!1;const s={};for(let i=0;i<r.length;i++){const a=r[i],l=n[a],c=e[a],u=l(c,t);if(void 0===u){t&&t.type;throw new Error(He(14))}s[a]=u,o=o||u!==c}return o=o||r.length!==Object.keys(e).length,o?s:e}}function et(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}function tt(e){return Ye(e)&&"type"in e&&"string"==typeof e.type}function nt(e){return({dispatch:t,getState:n})=>r=>i=>"function"==typeof i?i(t,n,e):r(i)}var rt=nt(),it=nt,ot="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?et:et.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function st(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error(St(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>tt(t)&&t.type===e,n}var at=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function lt(e){return X(e)?Le(e,(()=>{})):e}function ct(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var ut="RTK_autoBatch",dt=e=>t=>{setTimeout(t,e)},ht=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new at(e);return n&&r.push(((e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const a=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:dt(10):"callback"===e.type?e.queueNotification:dt(e.timeout),c=()=>{s=!1,o&&(o=!1,a.forEach((e=>e())))};return Object.assign({},r,{subscribe(e){const t=r.subscribe((()=>i&&e()));return a.add(e),()=>{t(),a.delete(e)}},dispatch(e){try{return i=!e?.meta?.[ut],o=!i,o&&(s||(s=!0,l(c))),r.dispatch(e)}finally{i=!0}}})})("object"==typeof n?n:void 0)),r};function pt(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let o=new at;return t&&(function(e){return"boolean"==typeof e}(t)?o.push(rt):o.push(it(t.extraArgument))),o},{reducer:n,middleware:r,devTools:i=!0,preloadedState:o,enhancers:s}=e||{};let a,l;if("function"==typeof n)a=n;else{if(!Ye(n))throw new Error(St(1));a=Qe(n)}l="function"==typeof r?r(t):t();let c=et;i&&(c=ot({trace:!1,..."object"==typeof i&&i}));const u=function(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(He(15))};const s={getState:i.getState,dispatch:(e,...t)=>o(e,...t)},a=e.map((e=>e(s)));return o=et(...a)(i.dispatch),{...i,dispatch:o}}}(...l),d=ht(u);return Xe(a,o,c(..."function"==typeof s?s(d):d()))}function ft(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"==typeof e?e:e.type;if(!r)throw new Error(St(28));if(r in t)throw new Error(St(29));return t[r]=n,i},addMatcher(e,t){return n.push({matcher:e,reducer:t}),i},addDefaultCase(e){return r=e,i}};return e(i),[t,n,r]}var mt=Symbol.for("rtk-slice-createasyncthunk");function yt(e,t){return`${e}/${t}`}function gt({creators:e}={}){const t=e?.asyncThunk?.[mt];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(St(11));const i=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:e}}()):e.reducers)||{},o=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(St(12));if(n in s.sliceCaseReducersByType)throw new Error(St(13));return s.sliceCaseReducersByType[n]=t,a},addMatcher(e,t){return s.sliceMatchers.push({matcher:e,reducer:t}),a},exposeAction(e,t){return s.actionCreators[e]=t,a},exposeCaseReducer(e,t){return s.sliceCaseReducersByName[e]=t,a}};function l(){const[t={},n=[],r]="function"==typeof e.extraReducers?ft(e.extraReducers):[e.extraReducers],i={...t,...s.sliceCaseReducersByType};return function(e,t){let n,[r,i,o]=ft(t);if(function(e){return"function"==typeof e}(e))n=()=>lt(e());else{const t=lt(e);n=()=>t}function s(e=n(),t){let s=[r[t.type],...i.filter((({matcher:e})=>e(t))).map((({reducer:e})=>e))];return 0===s.filter((e=>!!e)).length&&(s=[o]),s.reduce(((e,n)=>{if(n){if(Y(e)){const r=n(e,t);return void 0===r?e:r}if(X(e))return Le(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e}),e)}return s.getInitialState=n,s}(e.initialState,(e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}o.forEach((r=>{const o=i[r],s={reducerName:r,type:yt(n,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(St(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?st(e,s):st(e))}(s,o,a):function({type:e,reducerName:t},n,r,i){if(!i)throw new Error(St(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:c,options:u}=n,d=i(e,o,u);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s);a&&r.addCase(d.pending,a);l&&r.addCase(d.rejected,l);c&&r.addMatcher(d.settled,c);r.exposeCaseReducer(t,{fulfilled:s||wt,pending:a||wt,rejected:l||wt,settled:c||wt})}(s,o,a,t)}));const c=e=>e,u=new Map;let d;function h(e,t){return d||(d=l()),d(e,t)}function p(){return d||(d=l()),d.getInitialState()}function f(t,n=!1){function r(e){let r=e[t];return void 0===r&&n&&(r=p()),r}function i(t=c){const r=ct(u,n,(()=>new WeakMap));return ct(r,t,(()=>{const r={};for(const[i,o]of Object.entries(e.selectors??{}))r[i]=vt(o,t,p,n);return r}))}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const m={name:n,reducer:h,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:p,...f(r),injectInto(e,{reducerPath:t,...n}={}){const i=t??r;return e.inject({reducerPath:i,reducer:h},n),{...m,...f(i,!0)}}};return m}}function vt(e,t,n,r){function i(i,...o){let s=t(i);return void 0===s&&r&&(s=n()),e(s,...o)}return i.unwrapped=e,i}var bt=gt();function wt(){}var{assign:_t}=Object;Symbol.for("rtk-state-proxy-original");function St(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const xt=[.25,.5,1,2.5,5],Mt=xt[2],At={center:[-117.18,34.055],zoom:12,resolution:null,scale:null,extent:null,showMapLabel:!0,showTerrain:!0,showBasemap:!0,swipeWidgetHanlderPosition:50,autoSwipeStatus:null,autoSwipeSpeed:Mt,popupAnchorLocation:null,isUpadting:!1,totalVisibleAreaInSqKm:null,countOfVisiblePixels:0},Tt=bt({name:"Map",initialState:At,reducers:{centerChanged:(e,t)=>{e.center=t.payload},zoomChanged:(e,t)=>{e.zoom=t.payload},resolutionUpdated:(e,t)=>{e.resolution=t.payload},scaleUpdated:(e,t)=>{e.scale=t.payload},extentUpdated:(e,t)=>{e.extent=t.payload},showMapLabelToggled:e=>{e.showMapLabel=!e.showMapLabel},showTerrainToggled:e=>{e.showTerrain=!e.showTerrain},showBasemapToggled:e=>{e.showBasemap=!e.showBasemap},swipeWidgetHanlderPositionChanged:(e,t)=>{e.swipeWidgetHanlderPosition=t.payload},popupAnchorLocationChanged:(e,t)=>{e.popupAnchorLocation=t.payload},isUpdatingChanged:(e,t)=>{e.isUpadting=t.payload},totalVisibleAreaInSqKmChanged:(e,t)=>{e.totalVisibleAreaInSqKm=t.payload},countOfVisiblePixelsChanged:(e,t)=>{e.countOfVisiblePixels=t.payload},autoSwipeStatusChanged:(e,t)=>{e.autoSwipeStatus=t.payload},autoSwipeSpeedChanged:(e,t)=>{e.autoSwipeSpeed=t.payload}}}),{reducer:It}=Tt,{centerChanged:Ct,zoomChanged:Et,resolutionUpdated:kt,scaleUpdated:Pt,extentUpdated:Rt,showMapLabelToggled:Ot,showTerrainToggled:Nt,showBasemapToggled:Lt,swipeWidgetHanlderPositionChanged:Dt,popupAnchorLocationChanged:Ft,isUpdatingChanged:jt,totalVisibleAreaInSqKmChanged:Zt,countOfVisiblePixelsChanged:Ut,autoSwipeStatusChanged:zt,autoSwipeSpeedChanged:Vt}=Tt.actions;var Bt=It;const $t=(e,t)=>{let n=e.toString();for(;n.length<t;)n="0"+n;return n};var Gt=s(57035),qt=s(66353);function Ht(e,t,n){var r=function(e,t,n){if(n&&!n.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}(e,n.timeZone,n.locale);return r.formatToParts?function(e,t){for(var n=e.formatToParts(t),r=n.length-1;r>=0;--r)if("timeZoneName"===n[r].type)return n[r].value}(r,t):function(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}(r,t)}function Wt(e,t){var n=function(e){if(!Kt[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n="06/25/2014, 00:00:00"===t||"06/25/2014 00:00:00"===t;Kt[e]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Kt[e]}(t);return n.formatToParts?function(e,t){try{for(var n=e.formatToParts(t),r=[],i=0;i<n.length;i++){var o=Jt[n[i].type];o>=0&&(r[o]=parseInt(n[i].value,10))}return r}catch(e){if(e instanceof RangeError)return[NaN];throw e}}(n,e):function(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}(n,e)}var Jt={year:0,month:1,day:2,hour:3,minute:4,second:5};var Kt={};function Yt(e,t,n,r,i,o,s){var a=new Date(0);return a.setUTCFullYear(e,t,n),a.setUTCHours(r,i,o,s),a}var Xt=36e5,Qt=6e4,en={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function tn(e,t,n){var r,i,o;if(!e)return 0;if(r=en.timezoneZ.exec(e))return 0;if(r=en.timezoneHH.exec(e))return rn(o=parseInt(r[1],10))?-o*Xt:NaN;if(r=en.timezoneHHMM.exec(e)){o=parseInt(r[1],10);var s=parseInt(r[2],10);return rn(o,s)?(i=Math.abs(o)*Xt+s*Qt,o>0?-i:i):NaN}if(function(e){if(on[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),on[e]=!0,!0}catch(e){return!1}}(e)){t=new Date(t||Date.now());var a=n?t:function(e){return Yt(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}(t),l=nn(a,e),c=n?l:function(e,t,n){var r=e.getTime(),i=r-t,o=nn(new Date(i),n);if(t===o)return t;i-=o-t;var s=nn(new Date(i),n);if(o===s)return o;return Math.max(o,s)}(t,l,e);return-c}return NaN}function nn(e,t){var n=Wt(e,t),r=Yt(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=e.getTime(),o=i%1e3;return r-(i-=o>=0?o:1e3+o)}function rn(e,t){return-23<=e&&e<=23&&(null==t||0<=t&&t<=59)}var on={};var sn={X:function(e,t,n,r){var i=an(r.timeZone,r._originalDate||e);if(0===i)return"Z";switch(t){case"X":return un(i);case"XXXX":case"XX":return cn(i);default:return cn(i,":")}},x:function(e,t,n,r){var i=an(r.timeZone,r._originalDate||e);switch(t){case"x":return un(i);case"xxxx":case"xx":return cn(i);default:return cn(i,":")}},O:function(e,t,n,r){var i=an(r.timeZone,r._originalDate||e);switch(t){case"O":case"OO":case"OOO":return"GMT"+function(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var s=t||"";return n+String(i)+s+ln(o,2)}(i,":");default:return"GMT"+cn(i,":")}},z:function(e,t,n,r){var i=r._originalDate||e;switch(t){case"z":case"zz":case"zzz":return Ht("short",i,r);default:return Ht("long",i,r)}}};function an(e,t){var n=e?tn(e,t,!0)/6e4:t.getTimezoneOffset();if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+e);return n}function ln(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}function cn(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+ln(Math.floor(i/60),2)+n+ln(Math.floor(i%60),2)}function un(e,t){return e%60==0?(e>0?"-":"+")+ln(Math.abs(e)/60,2):cn(e,t)}var dn=sn,hn=s(9784),pn=s(9720),fn=36e5,mn=6e4,yn=2,gn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/};function vn(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var n=t||{},r=null==n.additionalDigits?yn:hn(n.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i=function(e){var t,n={},r=gn.dateTimePattern.exec(e);r?(n.date=r[1],t=r[3]):(r=gn.datePattern.exec(e))?(n.date=r[1],t=r[2]):(n.date=null,t=e);if(t){var i=gn.timeZone.exec(t);i?(n.time=t.replace(i[1],""),n.timeZone=i[1].trim()):n.time=t}return n}(e),o=function(e,t){var n,r=gn.YYY[t],i=gn.YYYYY[t];if(n=gn.YYYY.exec(e)||i.exec(e)){var o=n[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(n=gn.YY.exec(e)||r.exec(e)){var s=n[1];return{year:100*parseInt(s,10),restDateString:e.slice(s.length)}}return{year:null}}(i.date,r),s=o.year,a=function(e,t){if(null===t)return null;var n,r,i,o;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(n=gn.MM.exec(e))return r=new Date(0),xn(t,i=parseInt(n[1],10)-1)?(r.setUTCFullYear(t,i),r):new Date(NaN);if(n=gn.DDD.exec(e)){r=new Date(0);var s=parseInt(n[1],10);return function(e,t){if(t<1)return!1;var n=Sn(e);if(n&&t>366)return!1;if(!n&&t>365)return!1;return!0}(t,s)?(r.setUTCFullYear(t,0,s),r):new Date(NaN)}if(n=gn.MMDD.exec(e)){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return xn(t,i,a)?(r.setUTCFullYear(t,i,a),r):new Date(NaN)}if(n=gn.Www.exec(e))return Mn(t,o=parseInt(n[1],10)-1)?bn(t,o):new Date(NaN);if(n=gn.WwwD.exec(e)){o=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return Mn(t,o,l)?bn(t,o,l):new Date(NaN)}return null}(o.restDateString,s);if(isNaN(a))return new Date(NaN);if(a){var l,c=a.getTime(),u=0;if(i.time&&(u=function(e){var t,n,r;if(t=gn.HH.exec(e))return An(n=parseFloat(t[1].replace(",",".")))?n%24*fn:NaN;if(t=gn.HHMM.exec(e))return An(n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")))?n%24*fn+r*mn:NaN;if(t=gn.HHMMSS.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return An(n,r,i)?n%24*fn+r*mn+1e3*i:NaN}return null}(i.time),isNaN(u)))return new Date(NaN);if(i.timeZone||n.timeZone){if(l=tn(i.timeZone||n.timeZone,new Date(c+u)),isNaN(l))return new Date(NaN)}else l=pn(new Date(c+u)),l=pn(new Date(c+u+l));return new Date(c+u+l)}return new Date(NaN)}function bn(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var i=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}var wn=[31,28,31,30,31,30,31,31,30,31,30,31],_n=[31,29,31,30,31,30,31,31,30,31,30,31];function Sn(e){return e%400==0||e%4==0&&e%100!=0}function xn(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;var r=Sn(e);if(r&&n>_n[t])return!1;if(!r&&n>wn[t])return!1}return!0}function Mn(e,t,n){return!(t<0||t>52)&&(null==n||!(n<0||n>6))}function An(e,t,n){return(null==e||!(e<0||e>=25))&&((null==t||!(t<0||t>=60))&&(null==n||!(n<0||n>=60)))}var Tn=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function In(e,t,n,r){var i=Gt(r);return i.timeZone=t,function(e,t,n){var r=String(t),i=n||{},o=r.match(Tn);if(o){var s=vn(e,i);r=o.reduce((function(e,t){if("'"===t[0])return e;var n=e.indexOf(t),r="'"===e[n-1],o=e.replace(t,"'"+dn[t[0]](s,t,null,i)+"'");return r?o.substring(0,n-1)+o.substring(n+1):o}),r)}return qt(e,r,i)}(function(e,t,n){var r=vn(e,n),i=tn(t,r,!0),o=new Date(r.getTime()-i),s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}(e,t),n,i)}var Cn=JSON.parse('{"l":{"landsatexplorer":{"title":"Esri | Landsat Explorer","description":"Explore and begin to unlock the wealth of information provided by Landsat through an intuitive user experience leveraging a variety of ArcGIS capabilities.","pathname":"/landsatexplorer","entrypoint":"/src/landsat-explorer/index.tsx","supportedLocales":["en"]},"landcoverexplorer":{"title":"Esri | Sentinel-2 Land Cover Explorer","description":"This application displays the land use/land cover (LULC) timeseries layer derived from ESA Sentinel-2 imagery at 10m resolution.","pathname":"/landcoverexplorer","entrypoint":"/src/landcover-explorer/index.tsx","supportedLocales":["en"]},"sentinel1explorer":{"title":"Restor | Sentinel-1 Explorer","description":"Explore and begin to unlock the wealth of information provided by Sentinel-1 through an intuitive user experience leveraging a variety of ArcGIS capabilities.","pathname":"/sentinel1explorer","entrypoint":"/src/sentinel-1-explorer/index.tsx","supportedLocales":["en"]},"sentinel2explorer":{"title":"Esri | Sentinel-2 Explorer","description":"Explore and begin to unlock the wealth of information provided by Sentinel-2 through an intuitive user experience leveraging a variety of ArcGIS capabilities.","pathname":"/sentinel2explorer","entrypoint":"/src/sentinel-2-explorer/index.tsx","supportedLocales":["en","es"]},"spectralsampler":{"title":"Spectral Sampler","description":"A streamlined web app for collecting and organizing training data for land cover classification with multispectral satellite imagery. Ideal for researchers, analysts, and students building high-quality reference datasets.","pathname":"/spectralsampler","entrypoint":"/src/spectral-sampling-tool/index.tsx","supportedLocales":["en"]},"surfacetemperature":{"title":"Landsat Surface Temperature","description":"Explore Landsat surface temperature archive","pathname":"/surface-temp","entrypoint":"/src/surface-temp/index.tsx","supportedLocales":["en"]},"nlcdlandcoverexplorer":{"title":"Esri | NLCD Land Cover Explorer","description":"This app lets you explore and compare annual NLCD Land Cover data, highlighting dynamic changes through visual and statistical insights.","pathname":"/nlcdlandcoverexplorer","entrypoint":"/src/nlcd-landcover-explorer/index.tsx","supportedLocales":["en"]}}}');const En="sentinel2explorer",kn=Object.freeze(Cn.l[En]),Pn="https://www.arcgis.com",Rn=Pn+"/sharing/rest",On=(e,t)=>e?(e=(e=e.split("-")[0]).toLowerCase(),t&&!t.includes(e)?"":e):"",Nn=En+"_locale_preference",Ln=En+"_locale_suggestion_disabled",Dn="lang";var Fn=s(41301);const jn=(()=>{const e=new URLSearchParams(window.location.search).get(Dn)||"",t=localStorage.getItem(Nn)||"",n=kn.supportedLocales,r=On(e||t,n);return r||"en"})(),Zn=(()=>{const e=kn.supportedLocales,t=navigator.language||"";return On(t,e)||"en"})(),Un="en"===jn?"MMM dd, yyyy":"yyyy-MM-dd",zn="en"===jn?"LLL yyyy":"yyyy-MM-dd",Vn=(0,Fn.Xb)(),Bn=(e,t=Un)=>$n(Gn(e),t),$n=(e,t=Un)=>In(e,"Etc/UTC",t),Gn=e=>{const[t,n,r]=e.split("-").map((e=>+e));return Date.UTC(t,n-1,r)},qn=({date:e,year:t,month:n,day:r})=>{if(!e&&!t&&!n&&r)throw new Error("missing input date");if(e)return $n(e,"yyyy-MM-dd");if(n&&(n<1||n>12))throw new Error("invalid month");if(r&&(r<1||r>31))throw new Error("invalid day");return`${t}-${$t(n,2)}-${$t(r,2)}`},Hn=e=>{if(!e)return null;const[t]=e.split("-").map((e=>+e));return t},Wn=e=>{const[t,n]=e.split("-").map((e=>+e));return n},Jn=()=>(new Date).getUTCFullYear(),Kn=()=>(new Date).getUTCMonth()+1,Yn=e=>"string"==typeof e,Xn=()=>{let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n},Qn=e=>null==e?"":""+e,er=/###/g,tr=e=>e&&e.indexOf("###")>-1?e.replace(er,"."):e,nr=e=>!e||Yn(e),rr=(e,t,n)=>{const r=Yn(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(nr(e))return{};const t=tr(r[i]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return nr(e)?{}:{obj:e,k:tr(r[i])}},ir=(e,t,n)=>{const{obj:r,k:i}=rr(e,t,Object);if(void 0!==r||1===t.length)return void(r[i]=n);let o=t[t.length-1],s=t.slice(0,t.length-1),a=rr(e,s,Object);for(;void 0===a.obj&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=rr(e,s,Object),a?.obj&&void 0!==a.obj[`${a.k}.${o}`]&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=n},or=(e,t)=>{const{obj:n,k:r}=rr(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},sr=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?Yn(e[r])||e[r]instanceof String||Yn(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):sr(e[r],t[r],n):e[r]=t[r]);return e},ar=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var lr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const cr=e=>Yn(e)?e.replace(/[&<>"'\/]/g,(e=>lr[e])):e;const ur=[" ",",","?","!",";"],dr=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),hr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const r=t.split(n);let i=e;for(let e=0;e<r.length;){if(!i||"object"!=typeof i)return;let t,o="";for(let s=e;s<r.length;++s)if(s!==e&&(o+=n),o+=r[s],t=i[o],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&s<r.length-1)continue;e+=s-e+1;break}i=t}return i},pr=e=>e?.replace("_","-"),fr={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){}};class mr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||fr,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(Yn(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new mr(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new mr(this.logger,e)}}var yr=new mr;class gr{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,r]=e;for(let e=0;e<r;e++)t(...n)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[r,i]=t;for(let t=0;t<i;t++)r.apply(r,[e,...n])}))}}}class vr extends gr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,t],n&&(Array.isArray(n)?s.push(...n):Yn(n)&&i?s.push(...n.split(i)):s.push(n)));const a=or(this.data,s);return!a&&!t&&!n&&e.indexOf(".")>-1&&(e=s[0],t=s[1],n=s.slice(2).join(".")),!a&&o&&Yn(n)?hr(this.data?.[e]?.[t],n,i):a}addResource(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator;let s=[e,t];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(s=e.split("."),r=t,t=s[1]),this.addNamespaces(t),ir(this.data,s,r),i.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const r in n)(Yn(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),r=n,n=t,t=s[1]),this.addNamespaces(t);let a=or(this.data,s)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?sr(a,n,i):a={...a,...n},ir(this.data,s,a),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var br={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach((e=>{t=this.processors[e]?.process(t,n,r,i)??t})),t}};const wr={},_r=e=>!Yn(e)&&"boolean"!=typeof e&&"number"!=typeof e;class Sr extends gr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach((e=>{t[e]&&(n[e]=t[e])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=yr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return void 0!==n?.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const r=ur.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===r.length)return!0;const i=dr.getRegExp(`(${r.map((e=>"?"===e?"\\?":e)).join("|")})`);let o=!i.test(e);if(!o){const t=e.indexOf(n);t>0&&!i.test(e.substring(0,t))&&(o=!0)}return o})(e,n,r));if(o&&!s){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Yn(i)?[i]:i};const o=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),e=o.join(r)}return{key:e,namespaces:Yn(i)?[i]:i}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:o,namespaces:s}=this.extractFromKey(e[e.length-1],t),a=s[s.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===l?.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${a}${e}${o}`,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:`${a}${e}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:o}const u=this.resolve(e,t);let d=u?.res;const h=u?.usedKey||o,p=u?.exactUsedKey||o,f=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,y=void 0!==t.count&&!Yn(t.count),g=Sr.hasDefaultValue(t),v=y?this.pluralResolver.getSuffix(l,t.count,t):"",b=t.ordinal&&y?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",w=y&&!t.ordinal&&0===t.count,_=w&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${v}`]||t[`defaultValue${b}`]||t.defaultValue;let S=d;m&&!d&&g&&(S=_);const x=_r(S),M=Object.prototype.toString.apply(S);if(!(m&&S&&x&&["[object Number]","[object Function]","[object RegExp]"].indexOf(M)<0)||Yn(f)&&Array.isArray(S))if(m&&Yn(f)&&Array.isArray(d))d=d.join(f),d&&(d=this.extendTranslation(d,e,t,n));else{let r=!1,s=!1;!this.isValidLookup(d)&&g&&(r=!0,d=_),this.isValidLookup(d)||(s=!0,d=o);const c=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&s?void 0:d,h=g&&_!==d&&this.options.updateMissing;if(s||r||h){if(this.logger.log(h?"updateKey":"missingKey",l,a,o,h?_:d),i){const e=this.resolve(o,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const r=(e,n,r)=>{const i=g&&r!==d?r:c;this.options.missingKeyHandler?this.options.missingKeyHandler(e,a,n,i,h,t):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,a,n,i,h,t),this.emit("missingKey",e,a,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);w&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{r([e],o+n,t[`defaultValue${n}`]||_)}))})):r(e,o,_))}d=this.extendTranslation(d,e,t,u,n),s&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${a}:${o}`),(s||r)&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${o}`:o,r?d:void 0))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,S,{...t,ns:s}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(i){const e=Array.isArray(S),n=e?[]:{},r=e?p:h;for(const e in S)if(Object.prototype.hasOwnProperty.call(S,e)){const o=`${r}${i}${e}`;n[e]=g&&!d?this.translate(o,{...t,defaultValue:_r(_)?_[e]:void 0,joinArrays:!1,ns:s}):this.translate(o,{...t,joinArrays:!1,ns:s}),n[e]===o&&(n[e]=S[e])}d=n}}return r?(u.res=d,u.usedParams=this.getUsedParamsDetails(t),u):d}extendTranslation(e,t,n,r,i){var o=this;if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const s=Yn(e)&&(void 0!==n?.interpolation?.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let a;if(s){const t=e.match(this.interpolator.nestingRegexp);a=t&&t.length}let l=n.replace&&!Yn(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language||r.usedLng,n),s){const t=e.match(this.interpolator.nestingRegexp);a<(t&&t.length)&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i?.[0]!==r[0]||n.context?o.translate(...r,t):(o.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null)}),n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,a=Yn(s)?[s]:s;return null!=e&&a?.length&&!1!==n.applyPostProcessor&&(e=br.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,i,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Yn(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const a=this.extractFromKey(e,s),l=a.key;n=l;let c=a.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==s.count&&!Yn(s.count),d=u&&!s.ordinal&&0===s.count,h=void 0!==s.context&&(Yn(s.context)||"number"==typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach((e=>{this.isValidLookup(t)||(o=e,wr[`${p[0]}-${e}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(o)||(wr[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${p.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((n=>{if(this.isValidLookup(t))return;i=n;const o=[l];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,n,e,s);else{let e;u&&(e=this.pluralResolver.getSuffix(n,s.count,s));const t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(o.push(l+e),s.ordinal&&0===e.indexOf(r)&&o.push(l+e.replace(r,this.options.pluralSeparator)),d&&o.push(l+t)),h){const n=`${l}${this.options.contextSeparator}${s.context}`;o.push(n),u&&(o.push(n+e),s.ordinal&&0===e.indexOf(r)&&o.push(n+e.replace(r,this.options.pluralSeparator)),d&&o.push(n+t))}}let a;for(;a=o.pop();)this.isValidLookup(t)||(r=a,t=this.getResource(n,e,a,s))})))}))})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Yn(e.replace);let r=n?e.replace:e;if(n&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}class xr{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=yr.create("languageUtils")}getScriptPartFromCode(e){if(!(e=pr(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=pr(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Yn(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),Yn(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return Yn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):Yn(e)&&i(this.formatLanguageCode(e)),n.forEach((e=>{r.indexOf(e)<0&&i(this.formatLanguageCode(e))})),r}}const Mr={zero:0,one:1,two:2,few:3,many:4,other:5},Ar={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Tr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=yr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=pr("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:r})}catch(n){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ar;if(!e.match(/-|_/))return Ar;const r=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(r,t)}return this.pluralRulesCache[i]=o,o}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort(((e,t)=>Mr[e]-Mr[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const Ir=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=((e,t,n)=>{const r=or(e,n);return void 0!==r?r:or(t,n)})(e,t,n);return!o&&i&&Yn(n)&&(o=hr(e,n,r),void 0===o&&(o=hr(t,n,r))),o},Cr=e=>e.replace(/\$/g,"$$$$");class Er{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=yr.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:o,suffix:s,suffixEscaped:a,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:f,nestingOptionsSeparator:m,maxReplaces:y,alwaysFormat:g}=e.interpolation;this.escape=void 0!==t?t:cr,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=i?ar(i):o||"{{",this.suffix=s?ar(s):a||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?ar(d):h||ar("$t("),this.nestingSuffix=p?ar(p):f||ar(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=y||1e3,this.alwaysFormat=void 0!==g&&g,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e?.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){let i,o,s;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const i=Ir(t,a,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,n,{...r,...t,interpolationkey:e}):i}const i=e.split(this.formatSeparator),o=i.shift().trim(),s=i.join(this.formatSeparator).trim();return this.format(Ir(t,a,o,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,{...r,...t,interpolationkey:o})};this.resetRegExp();const c=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,u=void 0!==r?.interpolation?.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>Cr(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?Cr(this.escape(e)):Cr(e)}].forEach((t=>{for(s=0;i=t.regex.exec(e);){const n=i[1].trim();if(o=l(n),void 0===o)if("function"==typeof c){const t=c(e,i,r);o=Yn(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))o="";else{if(u){o=i[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),o=""}else Yn(o)||this.useRawValueToEscape||(o=Qn(o));const a=t.safeValue(o);if(e=e.replace(i[0],a),u?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,s++,s>=this.maxReplaces)break}})),e}nest(e,t){let n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let o=`{${r[1]}`;e=r[0],o=this.interpolate(o,i);const s=o.match(/'/g),a=o.match(/"/g);((s?.length??0)%2==0&&!a||a.length%2!=0)&&(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i={...t,...i})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${o}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let a=[];i={...o},i=i.replace&&!Yn(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),a=e,l=!0}if(r=t(s.call(this,n[1].trim(),i),i),r&&n[0]===e&&!Yn(r))return r;Yn(r)||(r=Qn(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),l&&(r=a.reduce(((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:n[1].trim()})),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}const kr=e=>{const t={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const s=r+JSON.stringify(o);let a=t[s];return a||(a=e(pr(r),i),t[s]=a),a(n)}};class Pr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=yr.create("formatter"),this.options=e,this.formats={number:kr(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:kr(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:kr(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:kr(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:kr(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=kr(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find((e=>e.indexOf(")")>-1))){const e=i.findIndex((e=>e.indexOf(")")>-1));i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}const o=i.reduce(((e,t)=>{const{formatName:i,formatOptions:o}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((e=>{if(e){const[t,...r]=e.split(":"),i=r.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();n[o]||(n[o]=i),"false"===i&&(n[o]=!1),"true"===i&&(n[o]=!0),isNaN(i)||(n[o]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}})(t);if(this.formats[i]){let t=e;try{const s=r?.formatParams?.[r.interpolationkey]||{},a=s.locale||s.lng||r.locale||r.lng||n;t=this.formats[i](e,a,{...o,...r,...s})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${i}`),e}),e);return o}}class Rr extends gr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=yr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,r.backend,r)}queueLoad(e,t,n,r){const i={},o={},s={},a={};return e.forEach((e=>{let r=!0;t.forEach((t=>{const s=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===o[s]&&(o[s]=!0):(this.state[s]=1,r=!1,void 0===o[s]&&(o[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===a[t]&&(a[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(a)}}loaded(e,t,n){const r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),!t&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const s={};this.queue.forEach((n=>{((e,t,n)=>{const{obj:r,k:i}=rr(e,t,Object);r[i]=r[i]||[],r[i].push(n)})(n.loaded,[i],o),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{s[e]||(s[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===s[e][t]&&(s[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:i,callback:o});this.readingCalls++;const s=(s,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&a&&r<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,r+1,2*i,o)}),i):o(s,a)},a=this.backend[n].bind(this.backend);if(2!==a.length)return a(e,t,s);try{const n=a(e,t);n&&"function"==typeof n.then?n.then((e=>s(null,e))).catch(s):s(null,n)}catch(e){s(e)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Yn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Yn(t)&&(t=[t]);const i=this.queueLoad(e,t,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,((n,o)=>{n&&this.logger.warn(`${t}loading namespace ${i} for language ${r} failed`,n),!n&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${r}`,o),this.loaded(e,n,o)}))}saveMissing(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(t)){if(null!=n&&""!==n){if(this.backend?.create){const a={...o,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let i;i=5===l.length?l(e,t,n,r,a):l(e,t,n,r),i&&"function"==typeof i.then?i.then((e=>s(null,e))).catch(s):s(null,i)}catch(e){s(e)}else l(e,t,n,r,s,a)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}else this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const Or=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),Yn(e[1])&&(t.defaultValue=e[1]),Yn(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Nr=e=>(Yn(e.ns)&&(e.ns=[e.ns]),Yn(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Yn(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),Lr=()=>{};class Dr extends gr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=Nr(e),this.services={},this.logger=yr,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),null==t.defaultNS&&t.ns&&(Yn(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=Or();this.options={...r,...this.options,...Nr(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?yr.init(i(this.modules.logger),this.options):yr.init(null,this.options),t=this.modules.formatter?this.modules.formatter:Pr;const n=new xr(this.options);this.store=new vr(this.options.resources,this.options);const o=this.services;o.logger=yr,o.resourceStore=this.store,o.languageUtils=n,o.pluralResolver=new Tr(n,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(o.formatter=i(t),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new Er(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new Rr(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=i(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new Sr(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=Lr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const o=Xn(),s=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),n(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?s():setTimeout(s,0),o}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lr;const n=Yn(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===n?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(n)r(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>r(e)))}this.options.preload?.forEach?.((e=>r(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const r=Xn();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Lr),this.services.backendConnector.reload(e,t,(e=>{r.resolve(),n(e)})),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&br.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=Xn();this.emit("languageChanging",e);const i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,o)=>{o?(i(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,r.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},s=t=>{e||t||!this.services.languageDetector||(t=[]);const n=Yn(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||i(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector?.cacheUserLanguage?.(n)),this.loadResources(n,(e=>{o(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const i=function(e,t){let o;if("object"!=typeof t){for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];o=r.options.overloadTranslationOptionHandler([e,t].concat(a))}else o={...t};o.lng=o.lng||i.lng,o.lngs=o.lngs||i.lngs,o.ns=o.ns||i.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||n||i.keyPrefix);const c=r.options.keySeparator||".";let u;return u=o.keyPrefix&&Array.isArray(e)?e.map((e=>`${o.keyPrefix}${c}${e}`)):o.keyPrefix?`${o.keyPrefix}${c}${e}`:e,r.t(u,o)};return Yn(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.translator?.translate(...t)}exists(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.translator?.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const o=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(n,e)||r&&!o(i,e)))}loadNamespaces(e,t){const n=Xn();return this.options.ns?(Yn(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=Xn();Yn(e)&&(e=[e]);const r=this.options.preload||[],i=e.filter((e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return i.length?(this.options.preload=r.concat(i),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services?.languageUtils||new xr(Or());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new Dr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lr;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},i=new Dr(r);void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e));if(["store","services","language"].forEach((e=>{i[e]=this[e]})),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const e=Object.keys(this.store.data).reduce(((e,t)=>(e[t]={...this.store.data[t]},Object.keys(e[t]).reduce(((n,r)=>(n[r]={...e[t][r]},n)),{}))),{});i.store=new vr(e,r),i.services.resourceStore=i.store}return i.translator=new Sr(i.services,r),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit(e,...n)})),i.init(r,t),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Fr=Dr.createInstance();Fr.createInstance=Dr.createInstance;Fr.createInstance,Fr.dir,Fr.init,Fr.loadResources,Fr.reloadResources,Fr.use,Fr.changeLanguage,Fr.getFixedT;const jr=Fr.t,Zr=(Fr.exists,Fr.setDefaultNamespace,Fr.hasLoadedNamespace,Fr.loadNamespaces,Fr.loadLanguages,e=>{if(e<1&&e>12)return jr("invalid_month");return jr(["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"][e-1])}),Ur=[{abbrLabel:"J",days:31,label:"January"},{abbrLabel:"F",days:28,label:"February"},{abbrLabel:"M",days:31,label:"March"},{abbrLabel:"A",days:30,label:"April"},{abbrLabel:"M",days:31,label:"May"},{abbrLabel:"J",days:30,label:"June"},{abbrLabel:"J",days:31,label:"July"},{abbrLabel:"A",days:31,label:"August"},{abbrLabel:"S",days:30,label:"September"},{abbrLabel:"O",days:31,label:"October"},{abbrLabel:"N",days:30,label:"November"},{abbrLabel:"D",days:31,label:"December"}],zr=e=>Ur[e-1],Vr=(e,t)=>{const n=zr(t);return 2!==t?n.days:Br(e)?29:28},Br=e=>e%4==0&&(e%100!=0||e%400==0),$r=e=>{if("en"!==jn)return Zr(e);return zr(e).label.slice(0,1).toUpperCase()},Gr=e=>({startDate:qn({year:e,month:1,day:1}),endDate:qn({year:e,month:12,day:31})}),qr=()=>{const e=Jn(),t=Kn(),n=Vr(e,t),r=Date.UTC(e,t-1,n),i=12===t?e:e-1,o=12===t?1:t+1,s=Date.UTC(i,o-1,1);return{startDate:qn({date:s}),endDate:qn({date:r})}},Hr={acquisitionDate:"",rasterFunctionName:"",objectIdOfSelectedScene:null,uniqueId:null,acquisitionDateRange:qr()},Wr={mode:"dynamic",tool:"mask",queryParams4MainScene:{...Hr},queryParams4SecondaryScene:{...Hr},isSecondarySceneActive:!1,queryParamsList:{byId:{},ids:[],selectedItemID:null},availableImageryScenes:{byObjectId:{},objectIds:[]},cloudCover:.5,shouldForceSceneReselection:!1},Jr=bt({name:"ImageryScenes",initialState:Wr,reducers:{queryParams4MainSceneChanged:(e,t)=>{e.queryParams4MainScene=t.payload},queryParams4SecondarySceneChanged:(e,t)=>{e.queryParams4SecondaryScene=t.payload},modeChanged:(e,t)=>{e.mode=t.payload},isSecondarySceneActiveToggled:(e,t)=>{e.isSecondarySceneActive=t.payload},selectedItemIdOfQueryParamsListChanged:(e,t)=>{e.queryParamsList.selectedItemID=t.payload},queryParamsListChanged:(e,t)=>{const n={},r=[],{selectedItemID:i,queryParams:o}=t.payload;for(const e of o){const{uniqueId:t}=e;t&&(r.push(t),n[t]=e)}e.queryParamsList={byId:n,ids:r,selectedItemID:i}},queryParams4SelectedItemInListChanged:(e,t)=>{const n=e.queryParamsList.selectedItemID;e.queryParamsList.byId[n]=t.payload},cloudCoverChanged:(e,t)=>{e.cloudCover=t.payload},activeAnalysisToolChanged:(e,t)=>{e.tool=t.payload},availableImageryScenesUpdated:(e,t)=>{const n=[],r={};for(const e of t.payload){const{objectId:t}=e;n.push(t),r[t]=e}e.availableImageryScenes={objectIds:n,byObjectId:r}},shouldForceSceneReselectionUpdated:(e,t)=>{e.shouldForceSceneReselection=t.payload}}}),{reducer:Kr}=Jr,{queryParams4MainSceneChanged:Yr,queryParams4SecondarySceneChanged:Xr,modeChanged:Qr,isSecondarySceneActiveToggled:ei,selectedItemIdOfQueryParamsListChanged:ti,queryParamsListChanged:ni,queryParams4SelectedItemInListChanged:ri,cloudCoverChanged:ii,activeAnalysisToolChanged:oi,availableImageryScenesUpdated:si,shouldForceSceneReselectionUpdated:ai}=Jr.actions;var li=Kr;const ci=bt({name:"Sentinel2",initialState:{sentinel2Scenes:{byObjectId:{},objectIds:[]}},reducers:{sentinel2ScenesUpdated:(e,t)=>{const n=[],r={};for(const e of t.payload){const{objectId:t}=e;n.push(t),r[t]=e}e.sentinel2Scenes={objectIds:n,byObjectId:r}}}}),{reducer:ui}=ci,{sentinel2ScenesUpdated:di}=ci.actions;var hi=ui;const pi={hideBottomPanel:!1,shouldShowAboutThisApp:!1,animationStatus:null,animationSpeed:400,showDownloadAnimationPanel:!1,animationLinkIsCopied:!1,tooltipXPosition:0,tooltipData:null,keyOfSelectedInterestingPlace:"",showDownloadPanel:!1,showSaveWebMapPanel:!1,showDocPanel:!1,showSavePanel:!1,hideNotification:!1,appHeaderDropdownPanel:null,hasDisabledLocaleSuggestion:!1},fi=bt({name:"UI",initialState:pi,reducers:{bottomPanelToggled:(e,t)=>{e.hideBottomPanel=t.payload},shouldShowAboutThisAppToggled:e=>{e.shouldShowAboutThisApp=!e.shouldShowAboutThisApp},showDownloadAnimationPanelChanged:(e,t)=>{e.showDownloadAnimationPanel=t.payload},animationLinkIsCopiedChanged:(e,t)=>{e.animationLinkIsCopied=t.payload},showDownloadAnimationPanelToggled:e=>{e.showDownloadAnimationPanel=!e.showDownloadAnimationPanel},animationStatusChanged:(e,t)=>{e.animationStatus=t.payload},animationSpeedChanged:(e,t)=>{e.animationSpeed=t.payload},tooltipXPositionChanged:(e,t)=>{e.tooltipXPosition=t.payload},tooltipDataChanged:(e,t)=>{e.tooltipData=t.payload},keyOfSelectedInterestingPlaceChanged:(e,t)=>{e.keyOfSelectedInterestingPlace=t.payload},showDownloadPanelToggled:(e,t)=>{e.showDownloadPanel=t.payload},showSaveWebMapPanelToggled:e=>{e.showSaveWebMapPanel=!e.showSaveWebMapPanel},showDocPanelToggled:e=>{e.showDocPanel=!e.showDocPanel},showSavePanelToggled:e=>{e.showSavePanel=!e.showSavePanel},hideNotificationToggled:e=>{e.hideNotification=!e.hideNotification},appHeaderDropdownPanelChanged:(e,t)=>{e.appHeaderDropdownPanel=t.payload},hasDisabledLocaleSuggestionChanged:(e,t)=>{e.hasDisabledLocaleSuggestion=t.payload}}}),{reducer:mi}=fi,{bottomPanelToggled:yi,shouldShowAboutThisAppToggled:gi,showDownloadAnimationPanelChanged:vi,showDownloadAnimationPanelToggled:bi,animationLinkIsCopiedChanged:wi,animationStatusChanged:_i,animationSpeedChanged:Si,tooltipDataChanged:xi,tooltipXPositionChanged:Mi,keyOfSelectedInterestingPlaceChanged:Ai,showDownloadPanelToggled:Ti,showSaveWebMapPanelToggled:Ii,showDocPanelToggled:Ci,showSavePanelToggled:Ei,hideNotificationToggled:ki,appHeaderDropdownPanelChanged:Pi,hasDisabledLocaleSuggestionChanged:Ri}=fi.actions;var Oi=mi;const Ni={option:"year-to-year",queryLocation:null,acquisitionMonth:Kn(),acquisitionYear:Jn(),selectedIndex:"moisture",temporalProfileData:{byObjectId:{},objectIds:[]},loading:!1,error:null},Li=bt({name:"TrendTool",initialState:Ni,reducers:{queryLocation4TrendToolChanged:(e,t)=>{e.queryLocation=t.payload},acquisitionMonth4TrendToolChanged:(e,t)=>{e.acquisitionMonth=t.payload},acquisitionYear4TrendToolChanged:(e,t)=>{e.acquisitionYear=t.payload},trendToolDataUpdated:(e,t)=>{const n=[],r={};for(const e of t.payload){const{objectId:t}=e;n.push(t),r[t]=e}e.temporalProfileData={objectIds:n,byObjectId:r}},selectedIndex4TrendToolChanged:(e,t)=>{e.selectedIndex=t.payload},trendToolOptionChanged:(e,t)=>{e.option=t.payload},trendToolIsLoadingChanged:(e,t)=>{e.loading=t.payload},errorChanged:(e,t)=>{e.error=t.payload}}}),{reducer:Di}=Li,{queryLocation4TrendToolChanged:Fi,acquisitionMonth4TrendToolChanged:ji,acquisitionYear4TrendToolChanged:Zi,trendToolDataUpdated:Ui,selectedIndex4TrendToolChanged:zi,trendToolOptionChanged:Vi,trendToolIsLoadingChanged:Bi,errorChanged:$i}=Li.actions;var Gi=Di;const qi={moisture:{selectedRange:[0,1]},vegetation:{selectedRange:[0,1]},water:{selectedRange:[0,1]},"temperature farhenheit":{selectedRange:[0,60]},"temperature celcius":{selectedRange:[0,60]},"water anomaly":{selectedRange:[-1,0]},ship:{selectedRange:[0,1]},urban:{selectedRange:[0,1]},burn:{selectedRange:[0,1]}},Hi={selectedIndex:"water",maskLayerOpacity:1,shouldClipMaskLayer:!1,pixelValueRangeBySelectedIndex:qi,pixelColorBySelectedIndex:{moisture:[89,255,252],vegetation:[115,255,132],water:[89,214,255],"temperature farhenheit":[251,182,100],"temperature celcius":[251,182,100],"water anomaly":[255,214,102],ship:[255,0,21],urban:[255,0,21],burn:[0,0,0]}},Wi=bt({name:"MaskTool",initialState:Hi,reducers:{selectedIndex4MaskToolChanged:(e,t)=>{e.selectedIndex=t.payload},pixelValueRangeChanged:(e,t)=>{const n=e.selectedIndex;e.pixelValueRangeBySelectedIndex[n]=t.payload},maskLayerPixelColorChanged:(e,t)=>{const n=e.selectedIndex;e.pixelColorBySelectedIndex[n]=t.payload},maskLayerOpacityChanged:(e,t)=>{e.maskLayerOpacity=t.payload},shouldClipMaskLayerToggled:(e,t)=>{e.shouldClipMaskLayer=!e.shouldClipMaskLayer}}}),{reducer:Ji}=Wi,{selectedIndex4MaskToolChanged:Ki,pixelValueRangeChanged:Yi,maskLayerOpacityChanged:Xi,shouldClipMaskLayerToggled:Qi,maskLayerPixelColorChanged:eo}=Wi.actions;var to=Ji;const no={queryLocation:null,spectralProfileData:[],isLoading:!1,error:null},ro=bt({name:"SpectralProfileTool",initialState:no,reducers:{queryLocationChanged:(e,t)=>{e.queryLocation=t.payload},isLoadingToggled:(e,t)=>{e.isLoading=t.payload},spectralProfileDataUpdated:(e,t)=>{e.spectralProfileData=t.payload,e.error=null},errorChanged:(e,t)=>{e.error=t.payload}}}),{reducer:io}=ro,{queryLocationChanged:oo,isLoadingToggled:so,spectralProfileDataUpdated:ao,errorChanged:lo}=ro.actions;var co=io;const uo={selectedOption:"vegetation",changeCompareLayerIsOn:!1,selectedRange:[-2,2],fullPixelValuesRange:[-2,2]},ho=bt({name:"ChangeCompareTool",initialState:uo,reducers:{selectedOption4ChangeCompareToolChanged:(e,t)=>{e.selectedOption=t.payload},changeCompareLayerIsOnUpdated:(e,t)=>{e.changeCompareLayerIsOn=t.payload},selectedRangeUpdated:(e,t)=>{e.selectedRange=t.payload},fullPixelValuesRangeUpdated:(e,t)=>{e.fullPixelValuesRange=t.payload}}}),{reducer:po}=ho,{selectedOption4ChangeCompareToolChanged:fo,changeCompareLayerIsOnUpdated:mo,selectedRangeUpdated:yo,fullPixelValuesRangeUpdated:go}=ho.actions;var vo=po;const bo=bt({name:"Landsat",initialState:{landsatScenes:{byObjectId:{},objectIds:[]},missionsToBeExcluded:[]},reducers:{landsatScenesUpdated:(e,t)=>{const n=[],r={};for(const e of t.payload){const{objectId:t}=e;n.push(t),r[t]=e}e.landsatScenes={objectIds:n,byObjectId:r}},missionsToBeExcludedUpdated:(e,t)=>{e.missionsToBeExcluded=t.payload}}}),{reducer:wo}=bo,{landsatScenesUpdated:_o,missionsToBeExcludedUpdated:So}=bo.actions;var xo=wo;const Mo=bt({name:"SpectralSamplingTool",initialState:{targetService:null,classificationName:"",data:{byId:{},ids:[]},idOfItem2Highlight:""},reducers:{targetServiceUpdated:(e,t)=>{e.targetService=t.payload},classificationNameUpdated:(e,t)=>{e.classificationName=t.payload},samplingDataUpdated:(e,t)=>{const n=t.payload,r={},i=[];for(const e of n){const{uniqueId:t}=e;r[t]=e,i.push(t)}e.data={byId:r,ids:i}},dataOfSelectedSamplingPointChanged:(e,t)=>{const{data:n,id:r}=t.payload;e.data.byId[r]=n},idOfItem2HighlightChanged:(e,t)=>{e.idOfItem2Highlight=t.payload}}}),{reducer:Ao}=Mo,{targetServiceUpdated:To,classificationNameUpdated:Io,samplingDataUpdated:Co,dataOfSelectedSamplingPointChanged:Eo,idOfItem2HighlightChanged:ko}=Mo.actions;var Po=Ao;const Ro=bt({name:"TemporalCompositeTool",initialState:{isTemporalCompositeLayerOn:!1,rasterFunction:""},reducers:{isTemporalCompositeLayerOnUpdated:(e,t)=>{e.isTemporalCompositeLayerOn=t.payload},rasterFunction4TemporalCompositeToolChanged:(e,t)=>{e.rasterFunction=t.payload}}}),{reducer:Oo}=Ro,{isTemporalCompositeLayerOnUpdated:No,rasterFunction4TemporalCompositeToolChanged:Lo}=Ro.actions;var Do=Oo;const Fo=bt({name:"LandcoverExplorer",initialState:{mode:"swipe",year:null,shouldShowSatelliteImageryLayer:!1,satelliteImageryLayerAquisitionMonth:9,swipeWidget:{year4LeadingLayer:null,year4TrailingLayer:null},activeLandCoverType:null,satelliteImageryLayerRasterFunction:"Natural Color for Visualization",showInfoPanel:!1,showSwipeWidgetYearIndicator:!1,animationYearRange:{start:Jn(),end:Jn()},timeInfo:{availableYears:[],timeExtentByYear:{}}},reducers:{modeChanged:(e,t)=>{e.mode=t.payload},yearUpdated:(e,t)=>{e.year=t.payload},year4LeadingLayerUpdated:(e,t)=>{e.swipeWidget.year4LeadingLayer=t.payload},year4TrailingLayerUpdated:(e,t)=>{e.swipeWidget.year4TrailingLayer=t.payload},shouldShowSatelliteImageryLayerToggled:(e,t)=>{e.shouldShowSatelliteImageryLayer=t.payload},activeLandCoverTypeChanged:(e,t)=>{e.activeLandCoverType=t.payload},satelliteImageryLayerRasterFunctionChanged:(e,t)=>{e.satelliteImageryLayerRasterFunction=t.payload},satelliteImageryLayerAquisitionMonthChanged:(e,t)=>{e.satelliteImageryLayerAquisitionMonth=t.payload},showInfoPanelToggled:(e,t)=>{e.showInfoPanel=t.payload},showSwipeWidgetYearIndicatorToggled:(e,t)=>{e.showSwipeWidgetYearIndicator=t.payload},landcoverAnimationYearRangeChanged:(e,t)=>{e.animationYearRange=t.payload}}}),{reducer:jo}=Fo,{modeChanged:Zo,yearUpdated:Uo,year4LeadingLayerUpdated:zo,year4TrailingLayerUpdated:Vo,shouldShowSatelliteImageryLayerToggled:Bo,activeLandCoverTypeChanged:$o,satelliteImageryLayerAquisitionMonthChanged:Go,satelliteImageryLayerRasterFunctionChanged:qo,showInfoPanelToggled:Ho,showSwipeWidgetYearIndicatorToggled:Wo,landcoverAnimationYearRangeChanged:Jo}=Fo.actions;var Ko=jo;const Yo=bt({name:"Sentinel1",initialState:{sentinel1Scenes:{byObjectId:{},objectIds:[]},orbitDirection:"Ascending",polarizationFilter:"VV",lockedRelativeOrbitInfo:null},reducers:{sentinel1ScenesUpdated:(e,t)=>{const n=[],r={};for(const e of t.payload){const{objectId:t}=e;n.push(t),r[t]=e}e.sentinel1Scenes={objectIds:n,byObjectId:r}},orbitDirectionChanged:(e,t)=>{e.orbitDirection=t.payload},polarizationFilterChanged:(e,t)=>{e.polarizationFilter=t.payload},lockedRelativeOrbitInfoChanged:(e,t)=>{e.lockedRelativeOrbitInfo=t.payload}}}),{reducer:Xo}=Yo,{sentinel1ScenesUpdated:Qo,orbitDirectionChanged:es,polarizationFilterChanged:ts,lockedRelativeOrbitInfoChanged:ns}=Yo.actions;var rs=Xo;let is=function(e){return e.PublishScene="Publish Scene",e.PublishIndexMask="Publish Index Mask",e.PublishChangeDetection="Publish Change Detection",e.SaveWebMappingApp="Save Web Mapping App",e.SaveWebMap="Save Web Map",e.SaveWebMapWithMultipleScenes="Save Web Map with Multiple Scenes",e.SaveWebMapWithMultipleScenesInSingleLayer="Save Web Map with Multiple Scenes in Single Layer",e}({}),os=function(e){return e.PendingCheckingCost="pendingCheckingCost",e.PendingUserApprovalForActualCost="pendingUserApprovalForActualCost",e.Submitted="esriJobSubmitted",e.New="esriJobNew",e.Waiting="esriJobWaiting",e.Executing="esriJobExecuting",e.Succeeded="esriJobSucceeded",e.Failed="esriJobFailed",e.TimedOut="esriJobTimedOut",e.Cancelling="esriJobCancelling",e.Cancelled="esriJobCancelled",e.Expired="esriJobExpired",e}({});const ss={jobs:{byId:{},allIds:[]}},as=bt({name:"PublishAndDownloadJobs",initialState:ss,reducers:{jobAdded:(e,t)=>{const n=t.payload;e.jobs.byId[n.id]=n,e.jobs.allIds.push(n.id)},jobRemoved:(e,t)=>{const n=t.payload;delete e.jobs.byId[n],e.jobs.allIds=e.jobs.allIds.filter((e=>e!==n))},jobUpdated:(e,t)=>{const n=t.payload;e.jobs.byId[n.id]&&(e.jobs.byId[n.id]=n)},jobsCleared:e=>{e.jobs.byId={},e.jobs.allIds=[]}}}),{reducer:ls}=as,{jobAdded:cs,jobRemoved:us,jobUpdated:ds,jobsCleared:hs}=as.actions;var ps=ls;const fs={timeExtent:null,rasterFunctionInfo:[]},ms=bt({name:"ImageryService",initialState:fs,reducers:{imageryServiceTimeExtentUpdated:(e,t)=>{e.timeExtent=t.payload},imageryServiceRasterFunctionInfoUpdated:(e,t)=>{e.rasterFunctionInfo=t.payload}}}),{imageryServiceTimeExtentUpdated:ys,imageryServiceRasterFunctionInfoUpdated:gs}=ms.actions;var vs=Qe({Map:Bt,UI:Oi,ImageryScenes:li,ImageryService:ms.reducer,Sentinel2:hi,Landsat:xo,LandcoverExplorer:Ko,Sentinel1:rs,TrendTool:Gi,MaskTool:to,SpectralProfileTool:co,ChangeCompareTool:vo,SpectralSamplingTool:Po,TemporalCompositeTool:Do,PublishAndDownloadJobs:ps});const bs=w.withTypes(),ws=x.withTypes();var _s=(e={})=>pt({reducer:vs,preloadedState:e});const Ss=e=>e.clone().normalize()[0],xs=(e,t)=>{const[n,r]=e;return`${n.toFixed(5)},${r.toFixed(5)},${t.toFixed(3)}`},Ms=e=>(e=>{if(!e)return null;const[t,n,r]=e.split(",");return t&&n&&r?{center:[+t,+n],zoom:+r}:null})(Vs("mapCenter",e)),As=(e,t=200)=>{let n;return function(...r){clearTimeout(n),n=setTimeout((()=>{e.apply(this,r)}),t)}},Ts=As((e=>{zs("mask",(e=>{if(!e)return null;const{selectedIndex:t,shouldClipMaskLayer:n,maskLayerOpacity:r,pixelValueRangeBySelectedIndex:i,pixelColorBySelectedIndex:o}=e,s=i[t];return[t,n,r,o[t],s?.selectedRange].join("|")})(e))}),500),Is=(e,t)=>((e,t)=>{if(!e)return null;const[n,r,i,o,s]=e.split("|"),a=t?{...t}:{...qi};s&&(a[n]={selectedRange:s.split(",").map((e=>+e))});const l={...Hi.pixelColorBySelectedIndex};return o&&(l[n]=o.split(",").map((e=>+e))),{selectedIndex:n,shouldClipMaskLayer:"true"===r,maskLayerOpacity:+i,pixelValueRangeBySelectedIndex:a,pixelColorBySelectedIndex:l}})(Vs("mask",e),t);let Cs=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[e]];return t};const Es={"Natural Color with DRA":"Natural Color for Visualization","Agriculture with DRA":"Agriculture for Visualization","Color Infrared with DRA":"Color Infrared for Visualization","Geology with DRA":"Geology for Visualization","Short-wave Infrared with DRA":"Short-wave Infrared for Visualization","Urban with DRA":"Urban for Visualization","Bathymetric with DRA":"Bathymetric for Visualization","Surface Temperature (Celsius)":"Surface Temperature (Celsius) for Analysis","Surface Temperature (Fahrenheit)":"Surface Temperature (Fahrenheit) for Analysis","NDWI Raw":"NDWI Raw for Analysis","NDBI Raw":"NDBI Raw for Analysis","NDVI Raw":"NDVI Raw for Analysis","NDMI Raw":"NDMI Raw for Analysis","MNDWI Raw":"MNDWI Raw for Analysis","NBR Raw":"NBR Raw for Analysis","MSAVI Raw":"MSAVI Raw for Analysis","NDVI Colorized":"NDVI Colorized for Visualization","NNDWI Colorized":"NDWI Colorized for Visualization","MNDWI Colorized":"MNDWI Colorized for Visualization","NDMI Colorized":"NDMI Colorized for Visualization","Surface Temperature Colorized (Celsius)":"Surface Temperature Colorized (Celsius) for Visualization","Surface Temperature Colorized (Fahrenheit)":"Surface Temperature Colorized (Fahrenheit) for Visualization"},ks=e=>{if(!e)return null;const{acquisitionDate:t,rasterFunctionName:n,objectIdOfSelectedScene:r}=e;return[t,n,r].join("|")},Ps=e=>{if(!e)return null;const[t,n,r]=e.split("|"),i=Hn(t);return{acquisitionDate:t,rasterFunctionName:(o=n,Es[o]||o),objectIdOfSelectedScene:r?+r:null,uniqueId:null,acquisitionDateRange:t?Gr(i):qr()};var o},Rs=As((e=>{zs("change",(e=>{if(!e)return null;const{selectedOption:t,changeCompareLayerIsOn:n,selectedRange:r}=e;return[t,n,r].join("|")})(e))}),500),Os=e=>(e=>{if(!e)return null;const[t,n,r]=e.split("|");return{...uo,selectedOption:t,changeCompareLayerIsOn:"true"===n,selectedRange:r.split(",").map((e=>+e))}})(Vs("change",e)),Ns=e=>{if(!e)return"";const{x:t,y:n}=e;return[t.toFixed(5),n.toFixed(5)].join(",")},Ls=e=>{const[t,n]=e.split(",").map((e=>+e));return{x:t,y:n,longitude:t,latitude:n,spatialReference:{wkid:4326}}},Ds=As((e=>{zs("trend",(e=>{if(!e)return null;const{selectedIndex:t,acquisitionMonth:n,queryLocation:r,acquisitionYear:i,option:o}=e;return r?[t,n,Ns(r),i,o].join("|"):null})(e))}),500),Fs=e=>(e=>{if(!e)return null;const[t,n,r,i,o]=e.split("|");return{...Ni,selectedIndex:t,acquisitionMonth:+n,acquisitionYear:i?+i:Jn(),option:o||"year-to-year",queryLocation:Ls(r)}})(Vs("trend",e)||Vs("profile",e)),js=As((e=>{zs("spectral",(e=>{if(!e)return null;const{queryLocation:t}=e;return t?[Ns(t)].join("|"):null})(e))}),500),Zs=e=>(e=>{if(!e)return null;const[t]=e.split("|");return{...no,queryLocation:Ls(t)}})(Vs("spectral",e)),Us=new URLSearchParams,zs=(e,t)=>{null==t?Us.delete(e):Us.set(e,t);const n=`${window.location.href.split("#")[0]}#${Us.toString()}`;window.history.replaceState(null,"",n)},Vs=(e,t)=>t.has(e)?t.get(e):null,Bs="81609bbe235942919ad27c77e42c600e",$s=[-117.18,34.055],Gs="World Hillshade",qs=(e,t)=>{let n=Ms(e);n||(n=t?.location);const r=null===Vs("hideMapLabels",e),i=null===Vs("hideTerrain",e),o=null===Vs("hideBasemap",e),s=Vs("autoSwipeSpeed",e);return{...At,center:n?.center||$s,zoom:n?.zoom||10,showMapLabel:r,showTerrain:i,showBasemap:o,autoSwipeSpeed:s?+s:Mt,autoSwipeStatus:s?"playing":null}};var Hs=function(e){return e.OPEN_SAVE_PANEL="openSavePanel",e}(Hs||{});const Ws=e=>{e?sessionStorage.setItem(Hs.OPEN_SAVE_PANEL,"true"):sessionStorage.removeItem(Hs.OPEN_SAVE_PANEL)},Js=(e,t)=>{const n=(e=>{const t=Vs("animation",e);return t?+t:null})(e),r="true"===sessionStorage.getItem(Hs.OPEN_SAVE_PANEL),i="true"===localStorage.getItem(Ln),o={...pi,keyOfSelectedInterestingPlace:t?.key||"",showSavePanel:r,hasDisabledLocaleSuggestion:i};return n&&!1===Vn&&(o.animationSpeed=n,o.animationStatus="loading"),o},Ks=e=>{const t=Os(e);return{...uo,...t}},Ys=e=>{const t=Fs(e);return{...Ni,...t}},Xs=e=>{const t=Is(e);return{...Hi,...t}},Qs=(e,t,n)=>{let r=Vs("mode",e)||"dynamic";Vn&&(r="dynamic");const i=(e=>{const t=Vs("mainScene",e);return Ps(t)})(e)||{...Hr,rasterFunctionName:t?.renderer||n},o=(e=>{const t=Vs("secondaryScene",e);return Ps(t)})(e)||{...Hr,rasterFunctionName:n},s=(e=>{const t=Vs("animationScenes",e)||Vs("listOfScenes",e);return t?t.split(",").map((e=>({...Ps(e),uniqueId:Cs(3)}))):null})(e)||[],a={},l=Vs("tool",e);for(const e of s)a[e.uniqueId]=e;return{...Wr,mode:r,tool:l||"mask",queryParams4MainScene:i,queryParams4SecondaryScene:o,queryParamsList:{byId:a,ids:s.map((e=>e.uniqueId)),selectedItemID:s[0]?s[0].uniqueId:null}}},ea=e=>{const t=Zs(e);return{...no,...t}},ta="https://sentinel.imagery1.arcgis.com/arcgis/rest/services/Sentinel2L2A/ImageServer",na="https://sentinel2-proxy-yx3c2ftqda-oa.a.run.app";let ra=function(e){return e.OBJECTID="objectid",e.NAME="name",e.SATELLITE="platform",e.SENSOR="instrument",e.ACQUISITION_DATE="acquisitiondate",e.CLOUD_COVER="cloudcover",e.SNOW_ICE_PERCENTAGE="snowicepercentage",e.PRODUCT="productname",e.RELATIVE_ORBIT="relativeorbit",e.SUN_ZENITH="meansolarzenith",e.SUN_AZIMUTH="meansolarazimuth",e.ABSOLUTE_ORBIT="absoluteorbit",e.CATEGORY="category",e.MONTH="month",e.NO_DATA_PERCENTAGE="nodatapixelpercentage",e}({});const ia=[{name:"Natural Color for Visualization",description:"Natural Color bands red, green, blue (4, 3, 2) displayed with dynamic range adjustment applied.",label:"Natural Color"},{name:"Agriculture for Visualization",description:"Bands shortwave IR-1, near-IR, blue (11, 8, 2) with dynamic range adjustment applied. Vigorous veg. is bright green, stressed veg. dull green and bare areas as brown.",label:"Agriculture"},{name:"Color Infrared for Visualization",description:"Bands near-infrared, red, green (8,4,3) with dynamic range adjustment applied. Healthy vegetation is bright red while stressed vegetation is dull red.",label:"Color IR"},{name:"Short-wave Infrared for Visualization",description:"Bands shortwave infrared-2, shortwave infrared-1, red (12, 11, 4) with dynamic range adjustment applied.",label:"Short-wave IR"},{name:"Urban for Visualization",description:"Bands shortwave IR-2, shortwave IR-1, red (12, 11, 4) with dynamic range adjustment applied.",label:"Urban"},{name:"NDVI Colorized for Visualization",description:"Normalized difference vegetation index (NDVI) with colormap. Dark green represents vigorous vegetation and brown represents sparse vegetation. It is computed as (b8 - b4) / (b8 + b4) and is suitable for vegetation, land cover and plant health monitoring.",label:"NDVI"},{name:"NDMI Colorized for Visualization",description:"Normalized Difference Moisture Index with color map. Wetlands and moist areas appear blue whereas dry areas are represented by deep yellow and brown color. It is computed as NIR(B8)-SWIR1(B11)/NIR(B8)+SWIR1(B11).",label:"NDMI"},{name:"MNDWI Colorized for Visualization",description:"Modified Normalized Difference Water Index with color map computed as (b3 - b11) / (b3 + b11). Wetlands and moist areas range from light green to dark blue.  This template is for visualization only and should not be used as input to analysis.",label:"MNDWI"},{name:"Bathymetric for Visualization",description:"Bands red, green, coastal/aerosol(4, 3, 1) with dynamic range adjustment applied. Useful in bathymetric mapping applicaitons.",label:"Bathymetric"},{name:"Geology for Visualization",description:"Bands shortwave IR-2, shortwave IR-1, blue (12, 11, 2) with dynamic range adjustment applied. Highlights geological features.",label:"Geology"}],oa=["Aerosol","Blue","Green","Red","Veg 1","Veg 2","Veg 3","NIR","N-NIR","Vapor","SWIR 1","SWIR 2"],sa=(e,t)=>new Promise(((n,r)=>{const i=indexedDB.open(e);i.onupgradeneeded=e=>{const n=e.target.result;n.objectStoreNames.contains(t)||n.createObjectStore(t,{keyPath:"id",autoIncrement:!0})},i.onsuccess=e=>{n(e.target.result)},i.onerror=e=>{r(e.target.error)}})),aa="ImageryExplorerApp_"+En,la="PublishAndDownloadJobsStore",ca=e=>{const t=e.type;return t!==is.SaveWebMap&&t!==is.SaveWebMappingApp},ua=async e=>{ca(e)&&await(async(e,t,n)=>{const r=await sa(e,t);return new Promise(((e,i)=>{const o=r.transaction(t,"readwrite").objectStore(t).add(n);o.onsuccess=()=>{e(o.result)},o.onerror=e=>{i(e.target.error)}}))})(aa,la,e)},da=async e=>{ca(e)&&await(async(e,t,n)=>{const r=await sa(e,t);return new Promise(((e,i)=>{const o=r.transaction(t,"readwrite").objectStore(t).put(n);o.onsuccess=()=>{e()},o.onerror=e=>{i(e.target.error)}}))})(aa,la,e)},ha=async e=>{try{const t=await(async(e,t)=>{const n=await sa(e,t);return new Promise(((e,r)=>{const i=n.transaction(t,"readonly").objectStore(t).getAll();i.onsuccess=()=>{e(i.result)},i.onerror=e=>{r(e.target.error)}}))})(aa,la);return t.filter((t=>t.creator===e))}catch(e){return[]}},pa=async e=>{await(async(e,t,n)=>{const r=await sa(e,t);return new Promise(((e,i)=>{const o=r.transaction(t,"readwrite").objectStore(t).delete(n);o.onsuccess=()=>{e()},o.onerror=e=>{i(e.target.error)}}))})(aa,la,e)},fa=async()=>{await(async(e,t)=>{const n=await sa(e,t);return new Promise(((e,r)=>{const i=n.transaction(t,"readwrite").objectStore(t).clear();i.onsuccess=()=>{e()},i.onerror=e=>{r(e.target.error)}}))})(aa,la)};var ma=s(96295),ya=s(83510),ga=s(83382);let va,ba,wa,_a=null;const Sa=async()=>{await ba.getCredential(va.portalUrl+"/sharing")},xa=async()=>{const{appId:e,portalUrl:t}=va,{token:n}=_a;try{await fetch(t+"/sharing/rest/oauth2/signout",{method:"post",body:new URLSearchParams({client_id:e,token:n})})}catch(e){}ba.destroyCredentials(),window.location.reload()},Ma=()=>{if(!wa)return Pn;const{urlKey:e,url:t,customBaseUrl:n}=wa;return e?`https://${e}.${n}`:`${t}`},Aa=()=>null===_a,Ta=()=>_a?_a.token:"",Ia=()=>wa?.user||null,Ca=()=>wa;var Ea=s.p+"Sentinel2_Interesting_EmiKoussi0c066a3e7d020cd4a218.jpg",ka=s.p+"Sentinel2_Interesting_Fucino168fd7d8028e235f3f41.jpg",Pa=s.p+"Sentinel2_Interesting_Kumpupintil6b5928e9ba42eca5d461.jpg",Ra=s.p+"Sentinel2_Interesting_Mississippi5cbd590a95d0a9d469b2.jpg",Oa=s.p+"Sentinel2_Interesting_Richatc8ce64a05162caae5ba1.jpg",Na=s.p+"Sentinel2_Interesting_RubAlKhalib8ece9e478443bb6b759.jpg",La=s.p+"Sentinel2_Interesting_SantaCruz83c3e416a7ae60c44926.jpg",Da=s.p+"Sentinel2_Interesting_Tanezrouftf3f2243b75372f0e3156.jpg";const Fa=[{key:"fucino",name:"fucino_name",label:"fucino_label",description:"fucino_description",location:{center:[13.60505,41.97629],zoom:13.953},renderer:"Color Infrared for Visualization",thumbnail:ka},{key:"mississippi",name:"mississippi_name",label:"mississippi_label",description:"mississippi_description",location:{center:[-89.51169,29.37701],zoom:12},renderer:"Short-wave Infrared for Visualization",thumbnail:Ra},{key:"rub_al_khali",name:"rub_al_khali_name",label:"rub_al_khali_label",description:"rub_al_khali_description",location:{center:[55.0228,21.38538],zoom:13.027},renderer:"Natural Color for Visualization",thumbnail:Na},{key:"wilpena_pound",name:"wilpena_pound_name",label:"wilpena_pound_label",description:"wilpena_pound_description",location:{center:[138.6031,-31.555],zoom:12},renderer:"Agriculture for Visualization",thumbnail:s.p+"Sentinel2_Interesting_Wilpena1ffb219b012606398210.jpg"},{key:"richat",name:"richat_name",label:"richat_label",description:"richat_description",location:{center:[-11.398,21.124],zoom:13},renderer:"Geology for Visualization",thumbnail:Oa},{key:"emi_koussi",name:"emi_koussi_name",label:"emi_koussi_label",description:"emi_koussi_description",location:{center:[18.53636,19.8656],zoom:12},renderer:"Short-wave Infrared for Visualization",thumbnail:Ea},{key:"tanezrouft",name:"tanezrouft_name",label:"tanezrouft_label",description:"tanezrouft_description",location:{center:[2.30945,25.29752],zoom:12},renderer:"Agriculture for Visualization",thumbnail:Da},{key:"santa_cruz",name:"santa_cruz_name",label:"santa_cruz_label",description:"santa_cruz_description",location:{center:[-62.75816,-16.73662],zoom:13.953},renderer:"Natural Color for Visualization",thumbnail:La},{key:"kumpupintil",name:"kumpupintil_name",label:"kumpupintil_label",description:"kumpupintil_description",location:{center:[122.87724,-23.46876],zoom:11},renderer:"Agriculture for Visualization",thumbnail:Pa}];var ja=s(32485),Za=s.n(ja);const Ua=({label:t,thumbnail:n,selected:r,disabled:i,onClick:o,onMouseEnter:s,onMouseLeave:a})=>e.createElement("div",{className:Za()("relative w-24 h-12 cursor-pointer",{"drop-shadow-custom-light-blue":r,"is-disabled":i}),style:{background:`url(${n})`,backgroundSize:"cover"},onClick:o,onMouseEnter:s,onMouseLeave:a,"data-testid":`grid-card-${t}`,"data-selected":r?"true":"false"},e.createElement("div",{className:Za()("absolute top-0 left-0 w-full h-full",{"border-2":r,"border-custom-light-blue":r}),style:{background:"linear-gradient(0deg, rgba(2,28,36,1) 0%, rgba(2,28,36,0.6) 30%, rgba(2,28,36,0) 50%, rgba(2,28,36,0) 100%)"}}),e.createElement("div",{className:"absolute bottom-0 left-0 right-0 text-center text-ellipsis whitespace-nowrap overflow-hidden z-10"},e.createElement("span",{className:"text-xs"},t)));var za=t=>{const n=bs();(0,e.useEffect)((()=>{t.current.addEventListener("mouseenter",(e=>{const{x:r}=t.current.getBoundingClientRect();n(Mi(r))})),t.current.addEventListener("mouseleave",(e=>{n(Mi(null))}))}),[t])};const Va=({data:t,keyOfSelectedPlace:n,isThreeColumnGrid:r,onChange:i,onHover:o})=>{const s=(0,e.useRef)(null);za(s);const{t:a}=$();return e.createElement("div",{"data-testid":"interesting-places-container",className:Za()({"h-full w-auto mx-8 pr-8 border-r border-custom-light-blue-25":!1===Vn,"h-auto w-auto my-4 mx-4":!0===Vn}),ref:s},e.createElement("div",{className:"text-center mb-3"},e.createElement("span",{className:"uppercase text-sm"},a("interesting_places"))),e.createElement("div",{className:Za()("grid gap-[5px] pr-1",{"grid-cols-4":!1===Vn&&!r,"grid-cols-3":!0===Vn||r})},t.map((t=>{const{name:r,thumbnail:s,key:a}=t,l=n===a;return e.createElement("div",{key:a,className:"w-full he-full",onMouseEnter:o.bind(null,t),onMouseLeave:o.bind(null,null)},e.createElement(Ua,{label:r,thumbnail:s,selected:l,onClick:()=>{i(a)}}))}))))},Ba=Ge((e=>e.ImageryScenes.mode),(e=>e.ImageryScenes.queryParams4MainScene),(e=>e.ImageryScenes.queryParams4SecondaryScene),(e=>e.ImageryScenes.queryParamsList),(e=>e.ImageryScenes.isSecondarySceneActive),(e=>e.ImageryScenes.queryParamsList.selectedItemID),(e=>e.ImageryScenes.tool),((e,t,n,r,i,o,s)=>"find a scene"===e||"dynamic"===e?t:"analysis"===e?"change"===s?i?n:t:"temporal composite"===s?r.byId[o]||null:t:"swipe"===e?i?n:t:("animate"===e||"spectral sampling"===e)&&r.byId[o]||null)),$a=Ge((e=>e.ImageryScenes.mode),(e=>"swipe"===e)),Ga=Ge((e=>e.ImageryScenes.queryParamsList),(e=>{const{byId:t,ids:n}=e;return n.map((e=>t[e]))})),qa=Ge((e=>e.ImageryScenes.queryParamsList),(e=>e.ImageryScenes.queryParamsList.selectedItemID),((e,t)=>{const{byId:n}=e;return n[t]})),Ha=Ge((e=>e.ImageryScenes.availableImageryScenes),(e=>{const{objectIds:t,byObjectId:n}=e;return t.map((e=>n[e]))})),Wa=e=>e.ImageryScenes.queryParams4MainScene,Ja=e=>e.ImageryScenes.queryParams4SecondaryScene,Ka=e=>e.ImageryScenes.isSecondarySceneActive,Ya=e=>e.ImageryScenes.mode,Xa=e=>e.ImageryScenes.queryParamsList.selectedItemID,Qa=e=>e.ImageryScenes.cloudCover,el=e=>e.ImageryScenes.tool,tl=e=>e.ImageryScenes.shouldForceSceneReselection,nl=e=>(t,n)=>{const r=Ya(n()),i=el(n()),o=Ka(n());if("find a scene"!==r&&"dynamic"!==r)return"analysis"===r?"change"===i?void t(o?Xr(e):Yr(e)):"temporal composite"===i?void t(ri(e)):void t(Yr(e)):void("swipe"!==r?"animate"!==r&&"spectral sampling"!==r||t(ri(e)):t(o?Xr(e):Yr(e)));t(Yr(e))},rl=e=>async(t,n)=>{try{const r=Ba(n());if(!r)return;const i={...r,rasterFunctionName:e};t(nl(i))}catch(e){}},il=e=>async(t,n)=>{try{const r=Ba(n());if(!r)return;const i={...r,objectIdOfSelectedScene:e};t(nl(i))}catch(e){}},ol=(e,t)=>async(n,r)=>{try{const i=Ba(r());if(!i)return;let o=i?.acquisitionDateRange;t&&(o=Gr(Hn(e)));const s={...i,acquisitionDate:e,acquisitionDateRange:o};n(nl(s))}catch(e){}},sl=e=>new Promise((t=>{setTimeout(t,e)}));let al;const ll=e=>(t,n)=>{clearTimeout(al),e?al=setTimeout((()=>{t(xi(e))}),250):t(xi(e))},cl=()=>async(e,t)=>{await navigator.clipboard.writeText(window.location.href),e(wi(!0)),await sl(3e3),e(wi(!1))},ul=e=>(t,n)=>{(e=>{e?localStorage.setItem(Ln,"true"):localStorage.removeItem(Ln)})(e),t(Ri(e))},dl=Ge((e=>e.UI.animationStatus),(e=>e.Map.autoSwipeStatus),((e,t)=>null!==e||null!==t)),hl=e=>e.UI.animationSpeed,pl=e=>e.UI.tooltipXPosition,fl=e=>e.UI.tooltipData,ml=e=>e.UI.showDownloadAnimationPanel,yl=e=>e.UI.keyOfSelectedInterestingPlace,gl=e=>e.UI.animationLinkIsCopied,vl=e=>e.UI.showSavePanel,bl=e=>e.UI.hideBottomPanel,wl=e=>e.UI.shouldShowAboutThisApp,_l=e=>e.UI.animationStatus,Sl=e=>e.UI.appHeaderDropdownPanel,xl=e=>e.UI.hasDisabledLocaleSuggestion,Ml=Ge((e=>e.Map.center[0]),(e=>e.Map.center[1]),((e,t)=>[e,t])),Al=e=>e.Map.zoom,Tl=e=>e.Map.resolution,Il=e=>e.Map.scale,Cl=e=>e.Map.showMapLabel,El=e=>e.Map.showTerrain,kl=e=>e.Map.showBasemap,Pl=e=>e.Map.swipeWidgetHanlderPosition,Rl=e=>e.Map.popupAnchorLocation,Ol=e=>e.Map.isUpadting,Nl=e=>e.Map.totalVisibleAreaInSqKm,Ll=e=>e.Map.countOfVisiblePixels,Dl=e=>e.Map.autoSwipeStatus,Fl=e=>e.Map.autoSwipeSpeed,jl=({data:t,isThreeColumnGrid:n})=>{const r=bs(),i=ws(yl),o=(0,e.useMemo)((()=>{if(!i)return null;const e=t.find((e=>e.key===i));return e}),[i]);return(t=>{const n=bs(),r=ws(Ml),i=ws(Al);(0,e.useEffect)((()=>{if(!t)return;const{location:e}=t;(Math.abs(r[0]-e.center[0])>.01||Math.abs(r[1]-e.center[1])>.01||Math.abs(i-e.zoom)>.5)&&n(Ai(""))}),[r,i]),(0,e.useEffect)((()=>()=>{n(Ai(""))}),[])})(o),(0,e.useEffect)((()=>{o&&(r(Ct([...o.location.center])),r(Et(o.location.zoom)),r(rl(o.renderer)))}),[o]),e.createElement(Va,{data:t,keyOfSelectedPlace:i,isThreeColumnGrid:n,onChange:e=>{r(Ai(e))},onHover:e=>{const t=e?{title:e?.label||e.name,content:e.description}:null;r(ll(t))}})},Zl=()=>{const{t:t}=$(),n=(0,e.useMemo)((()=>Fa.map((e=>({...e,label:t(e.label,{ns:En}),description:t(e.description,{ns:En}),name:t(e.name,{ns:En})})))),[Fa]);return e.createElement(jl,{data:n,isThreeColumnGrid:!0})};let Ul=null;const zl=async()=>{if(Ul)return Ul;const e=await(async e=>{try{const t=await fetch(`${e}?f=json`);if(!t.ok)throw new Error("failed to fetch service JSON");const n=await t.json(),[r,i]=n?.timeInfo?.timeExtent||[];return{start:r,end:i}}catch(e){}})(na);return Ul=e},Vl={"Natural Color for Visualization":{labelTranslationKey:"natural_color_label",descriptionTranslationKey:"natural_color_description"},"Agriculture for Visualization":{labelTranslationKey:"agriculture_label",descriptionTranslationKey:"agriculture_description"},"Bathymetric for Visualization":{labelTranslationKey:"bathymetric_label",descriptionTranslationKey:"bathymetric_description"},"Color Infrared for Visualization":{labelTranslationKey:"color_infrared_label",descriptionTranslationKey:"color_infrared_description"},"Short-wave Infrared for Visualization":{labelTranslationKey:"short_wave_infrared_label",descriptionTranslationKey:"short_wave_infrared_description"},"Geology for Visualization":{labelTranslationKey:"geology_label",descriptionTranslationKey:"geology_description"},"Urban for Visualization":{labelTranslationKey:"urban_label",descriptionTranslationKey:"urban_description"},"NDVI Colorized for Visualization":{labelTranslationKey:"ndvi_colorized_label",descriptionTranslationKey:"ndvi_colorized_description"},"NDMI Colorized for Visualization":{labelTranslationKey:"ndmi_colorized_label",descriptionTranslationKey:"ndmi_colorized_description"},"MNDWI Colorized for Visualization":{labelTranslationKey:"mndwi_colorized_label",descriptionTranslationKey:"mndwi_colorized_description"}},Bl=(e,t)=>({...fs,timeExtent:e,rasterFunctionInfo:t||[]}),$l=async()=>{const e=new URLSearchParams(window.location.hash.slice(1)),t=Ms(e)?null:function(e){return e[Math.floor(Math.random()*e.length)]}(Fa),n=await(async()=>{try{const e=Ia();if(!e)throw new Error("User not signed in");const t=await ha(e.username);return t&&0!==t.length?{jobs:{byId:t.reduce(((e,t)=>(e[t.id]=t,e)),{}),allIds:t.map((e=>e.id))}}:{...ss}}catch(e){return{...ss}}})(),r=await zl(),i=(e=>e.map((e=>{const{name:t,description:n,label:r}=e,{labelTranslationKey:i,descriptionTranslationKey:o}=Vl[t]||{};return i&&o?{...e,label:jr(i,{ns:En,defaultValue:r}),description:jr(o,{ns:En,defaultValue:n})}:e})))(ia);return{Map:qs(e,t),UI:Js(e,t),ImageryScenes:Qs(e,t,"Natural Color for Visualization"),ChangeCompareTool:Ks(e),TrendTool:Ys(e),MaskTool:Xs(e),SpectralProfileTool:ea(e),PublishAndDownloadJobs:n,ImageryService:Bl(r,i)}};var Gl=s(82392),ql=s(81482),Hl=s(6273),Wl=s(80861),Jl=(s(67498),s(26325)),Kl=s(39702),Yl=s(58842),Xl=s(53244),Ql=s(62991),ec=s(57725),tc=s(61985),nc=s(73462),rc=s(77380),ic=s(8636),oc=s(65648),sc=s(34008),ac=s(26574),lc=s(50398);const cc={widthBreakpoint:{getValue(e){const t=e.viewSize[0],n=e.breakpoints,r=this.values;return t<=n.xsmall?r.xsmall:t<=n.small?r.small:t<=n.medium?r.medium:t<=n.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],n=e.breakpoints,r=this.values;return t<=n.xsmall?r.xsmall:t<=n.small?r.small:t<=n.medium?r.medium:t<=n.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,n=t[0],r=t[1],i=this.values;return r>=n?i.portrait:i.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},uc={xsmall:544,small:768,medium:992,large:1200};function dc(e,t){return t?cc[e].valueToClassName[t].split(" "):[]}const hc=e=>{let t=class extends e{constructor(...e){super(...e),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=uc}initialize(){this.addHandles((0,tc.wB)((()=>[this.breakpoints,this.size]),(()=>this._updateClassNames()),tc.Vh))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(e){if(e!==this._get("breakpoints")){if(!function(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}(e)){JSON.stringify(uc,null,2);e=uc}this._set("breakpoints",{...e})}}_updateClassNames(){if(!this.container)return;const e=lc.A.acquire(),t=lc.A.acquire();let n,r=!1;for(n in cc){const i=this[n],o=cc[n].getValue({viewSize:this.size,breakpoints:this.breakpoints});i!==o&&(r=!0,this[n]=o,dc(n,i).forEach((e=>t.push(e))),dc(n,o).forEach((t=>e.push(t))))}r&&(this._applyClassNameChanges(e,t),lc.A.release(e),lc.A.release(t))}_applyClassNameChanges(e,t){const n=this.container;n&&(t.forEach((e=>n.classList.remove(e))),e.forEach((e=>n.classList.add(e))))}_removeActiveClassNames(){const e=this.container;if(!e)return;let t;for(t in cc)dc(t,this[t]).forEach((t=>e.classList.remove(t)))}};return(0,Gl._)([(0,ql.MZ)()],t.prototype,"breakpoints",null),(0,Gl._)([(0,ql.MZ)()],t.prototype,"orientation",void 0),(0,Gl._)([(0,ql.MZ)()],t.prototype,"widthBreakpoint",void 0),(0,Gl._)([(0,ql.MZ)()],t.prototype,"heightBreakpoint",void 0),t=(0,Gl._)([(0,Jl.$)("esri.views.BreakpointsOwner")],t),t};var pc=s(28948),fc=s(92840),mc=s(70214),yc=s(9987),gc=s(73783),vc=s(68660),bc=(s(2980),s(58133));let wc=class extends gc.A{constructor(){super(...arguments),this.items=new Yl.A,this._watchUpdatingTracking=new vc.U,this._callbacks=new Map,this._projector=(0,bc.F)(),this._hiddenProjector=(0,bc.F)()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange((()=>this.items),(e=>{for(const t of e.added){const e=()=>t.render();this._callbacks.set(t,e),this._projector.append(this.surface,e)}for(const t of e.removed){const e=this._projector.detach(this._callbacks.get(t));this.surface.removeChild(e.domNode),this._callbacks.delete(t)}}))}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach((e=>this._projector.detach(e))),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const t=this._hiddenSurface,n=this._hiddenProjector;let r;const i=()=>(r=e.render(),r);n.append(t,i),n.renderNow();const o={left:0,top:0,right:0,bottom:0};if(r?.domNode){const e=r.domNode.getBoundingClientRect();o.left=e.left,o.top=e.top,o.right=e.right,o.bottom=e.bottom}for(n.detach(i);t.firstChild;)t.removeChild(t.firstChild);return o}overlaps(e,t){const n=this.computeBoundingRect(e),r=this.computeBoundingRect(t);return Math.max(n.left,r.left)<=Math.min(n.right,r.right)&&Math.max(n.top,r.top)<=Math.min(n.bottom,r.bottom)}get hasVisibleItems(){return this.items.some((e=>e.visible))}async prepare(){await document.fonts.load(this._fontString()).catch((()=>{}))}renderCanvas(e,t){const n=!!t?.disableDecorations;if(!this.items.some((e=>e.visible&&!(n&&e.isDecoration))))return;const r=e.getContext("2d");r.save(),r.font=this._fontString(),this.items.forEach((e=>{n&&e.isDecoration||(r.save(),e.renderCanvas(r),r.restore())})),r.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};(0,Gl._)([(0,ql.MZ)({readOnly:!0})],wc.prototype,"surface",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],wc.prototype,"items",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],wc.prototype,"needsRender",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],wc.prototype,"_watchUpdatingTracking",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],wc.prototype,"updating",null),wc=(0,Gl._)([(0,Jl.$)("esri.views.overlay.ViewOverlay")],wc);const _c=wc,Sc=[0,0];function xc(e){const t=(e.ownerDocument||window.document).defaultView,n=e.getBoundingClientRect();return Sc[0]=n.left+(t?.pageXOffset??0),Sc[1]=n.top+(t?.pageYOffset??0),Sc}function Mc(e){e&&(e.textContent="",e.parentNode&&e.parentNode.removeChild(e))}const Ac=16,Tc=750,Ic=e=>{let t=class extends e{constructor(...e){super(...e),this._freqInfo={freq:Ac,time:Tc},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([(0,tc.wB)((()=>this.cursor),(e=>{const{surface:t}=this;t&&t.setAttribute("data-cursor",e)})),(0,tc.wB)((()=>this.navigating),(e=>{const{surface:t}=this;t&&t.setAttribute("data-navigating",e.toString())}))])}initialize(){this.addHandles([(0,tc.wB)((()=>this.ui),((e,t)=>this._handleUIChange(e,t)),tc.Vh),this.on("focus",(()=>this.notifyChange("focused"))),this.on("blur",(()=>this.notifyChange("focused")))])}destroy(){this.destroyed||(this.ui?.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(e){const t=this._get("container"),n=(0,pc.$)(e);if(n||"string"!=typeof e||Wl.A.getLogger(this).error("#container",`element with id '${e}' not found`),t===n)return;if(this._stopMeasuring(),t&&(t.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(Mc(this.root),this._set("root",null)),this.userContent&&((0,pc.y)(this.userContent,t),Mc(this.userContent),this._set("userContent",null))),!n)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);n.classList.add("esri-view");const r=document.createElement("div");r.className="esri-view-user-storage",(0,pc.y)(n,r),n.appendChild(r),this._set("userContent",r);const i=document.createElement("div");i.className="esri-view-root",n.insertBefore(i,n.firstChild),this._set("root",i);const o=document.createElement("div");o.className="esri-view-surface",o.setAttribute("role","application"),o.tabIndex=0,i.appendChild(o),this._set("surface",o);const s=new _c;i.appendChild(s.surface),this._set("overlay",s),this.addHandles((0,tc.wB)((()=>s.needsRender),(e=>{e&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=(0,yc.mg)({render:()=>this.overlay?.render()}):this._overlayRenderTaskHandle=(0,ec.xt)(this._overlayRenderTaskHandle)}))),this.forceDOMReadyCycle(),this._set("container",n),this._startMeasuring()}get focused(){const e=document.activeElement===this.surface;return document.hasFocus()&&e}get size(){return[this.width,this.height]}set ui(e){const t=this._get("ui");t!==e&&t?.destroy(),this._set("ui",e)}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(e,t,n){const r=this.position;return e-=r?r[0]:0,t-=r?r[1]:0,n?(n[0]=e,n[1]=t):n=[e,t],n}containerToPage(e,t,n){const r=this.position;return e+=r?r[0]:0,t+=r?r[1]:0,n?(n[0]=e,n[1]=t):n=[e,t],n}_handleUIChange(e,t){this.removeHandles("ui"),t&&t!==e&&t.destroy(),e&&(e.view=this,this.addHandles((0,tc.wB)((()=>this.root),(t=>{e.container=t?function(e){const t=document.createElement("div");return e.appendChild(t),t}(t):null}),tc.Vh),"ui")),this._set("ui",e)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const e=this._freqInfo;e.freq=Ac,e.time=Tc;const t=(0,yc.mg)({prepare:e=>{const n=this._measure(),r=this._freqInfo;if(r.time+=e.deltaTime,n&&(r.freq=Ac,this._get("resizing")||this._set("resizing",!0)),r.time<r.freq)return;r.time=0;const i=this._position();r.freq=i||n?Ac:Math.min(Tc,2*r.freq),!n&&r.freq>=512&&(t.pause(),this._get("resizing")&&this._set("resizing",!1))}}),n=new ResizeObserver((n=>{e.freq=Ac,e.time=Tc,t.resume()}));null!=this.container&&n.observe(this.container);const r=(0,mc.hA)((()=>n.disconnect()));this.addHandles([(0,fc.on)(window,"resize",(()=>{e.freq=Ac,e.time=Tc,t.resume()})),r,t],"measuring"),this._measure(),this._position()}_measure(){const e=this.container,t=e?e.clientWidth:0,n=e?e.clientHeight:0;if(0===t||0===n)return this.suspended||this._set("suspended",!0),!1;const r=this.width,i=this.height;return t===r&&n===i?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",t),this._set("height",n),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:r,oldHeight:i,width:t,height:n}),!0)}_position(){const e=this.container,t=this.position,n=e&&xc(e);return!(!n||t&&n[0]===t[0]&&n[1]===t[1]||(this._set("position",[n[0],n[1]]),0))}forceDOMReadyCycle(){}};return(0,Gl._)([(0,ql.MZ)()],t.prototype,"container",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"focused",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"height",void 0),(0,Gl._)([(0,ql.MZ)()],t.prototype,"messagesCommon",void 0),(0,Gl._)([(0,ql.MZ)({type:_c})],t.prototype,"overlay",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"position",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"resizing",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"root",void 0),(0,Gl._)([(0,ql.MZ)({value:null,readOnly:!0})],t.prototype,"size",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"surface",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"suspended",void 0),(0,Gl._)([(0,ql.MZ)({nonNullable:!0})],t.prototype,"ui",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"userContent",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"width",void 0),(0,Gl._)([(0,ql.MZ)()],t.prototype,"widthBreakpoint",void 0),t=(0,Gl._)([(0,Jl.$)("esri.views.DOMContainer")],t),t};var Cc=s(3132),Ec=s(37623),kc=s(82795);function Pc(e){return null!=e&&"open"in e&&"declaredClass"in e}function Rc(e){return null!=e&&"declaredClass"in e&&"dockOptions"in e}const Oc=e=>{let t=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([(0,tc.wB)((()=>[this.ui,this.popup]),(([e,t],n)=>{const r="popup";if(n){const[e,i]=n;e&&Pc(i)&&(i.view=null,Rc(i)&&(e.remove(i,r),i!==t&&t&&i.destroy()))}e&&Pc(t)&&(t.view=this,Rc(t)&&e.add(t,{key:r,position:"manual",internal:!0}))}),tc.pc),this.on("click",(e=>{this.popup&&this.popupEnabled&&("mouse"!==e.pointerType||0===e.button)&&(Pc(this.popup)?this.popup.viewModel.handleViewClick(e):e.defer((async()=>{await this.setupPopup(),Pc(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(e)})))}),kc.o.WIDGET)]),(0,tc.C_)((()=>this.ready&&this.popupEnabled&&!this.updating)).then((()=>{Promise.all([s.e(2882),s.e(2374)]).then(s.bind(s,22374))}))}destroy(){this.destroyed||this.closePopup()}async openPopup(e){if(Pc(this.popup))return this.popup.open(e);try{if(await this.setupPopup(),!this.popup)return void Wl.A.getLogger(this).error(new Ql.A("view:null-popup","Popup is null and can't be opened"));this.popup.open(e)}catch{}}closePopup(){this._popupSetupTask?.abort(),Pc(this.popup)&&this.popup.close()}async fetchPopupFeatures(e,t){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(e,t),t)}async setupPopup(){if(this._popupSetupTask?.abort(),this.popup&&!Pc(this.popup))return this._popupSetupTask=(0,Cc.UT)((async e=>{const{default:t}=await Promise.all([s.e(2882),s.e(2374)]).then(s.bind(s,22374));if((0,Ec.Te)(e),!this.popup||Pc(this.popup))return;const n=this.popup;delete n.open,delete n.close,this.popup=new t(n)})),this._popupSetupTask.promise}async _popupHitsToFeatures({location:e,hits:t},n){const r=[],i=[];let o=!1;const s=(0,Ec.YL)(n,(0,Hl.A)("popup-view-fetch-timeout")??Lc),a=e=>{const t=i.at(-1);return t&&t.layerView===e&&!o?t:(e=>{const t=new Nc(e);return i.push(t),r.push(t.promise),t})(e)};for(const e of t)"graphic"in e?(a(e.layerView).graphics.push(e.graphic),o=!1):(r.push(e.layerView.fetchPopupFeaturesAtLocation(e.mapPoint,s)),o=!0);i.map((e=>e.resolve(s)));const l=(0,Ec.nA)(r).then((e=>e.filter((e=>!!e)).flat()));return{pendingFeatures:r,allGraphicsPromise:l,location:e}}async _getPopupHits(e,t){const{hits:n,location:r}=await this.popupHitTest(e);(0,Ec.Te)(t);const i=[];for(const e of n)if("graphic"in e){if(this._isValidPopupGraphic(e.graphic,t)){const t=this._isValidPopupGraphicsLayerView(e.layerView)?e.layerView:void 0;i.push({graphic:e.graphic,layerView:t})}}else this._isValidPopupLocationLayerView(e.layerView)&&i.push({mapPoint:e.mapPoint,layerView:e.layerView});return{hits:i,location:r}}_isValidPopupGraphic(e,t){return e&&!!e.getEffectivePopupTemplate(t?.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(e){return!e||(!("layer"in e)||!e.suspended)&&"fetchPopupFeaturesFromGraphics"in e}_isValidPopupLocationLayerView(e){return(!("layer"in e)||!e.suspended)&&"fetchPopupFeaturesAtLocation"in e}};return(0,Gl._)([(0,ql.MZ)()],t.prototype,"popup",void 0),(0,Gl._)([(0,ql.MZ)()],t.prototype,"popupEnabled",void 0),t=(0,Gl._)([(0,Jl.$)("esri.views.PopupView")],t),t};class Nc{constructor(e){this.layerView=e,this._resolver=(0,Ec.Tw)(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(e){const{layerView:t,graphics:n,_resolver:r}=this;if(!t)return r.resolve(n),r.promise;let i;return t.fetchPopupFeaturesFromGraphics(n,e).catch((e=>(i=e,null))).then((e=>{e?r.resolve(e):r.reject(i)})),r.promise}}const Lc=5e3;var Dc,Fc=s(66801),jc=s(93814),Zc=s(48),Uc=s(17420),zc=s(84977),Vc=s(15565),Bc=s(11965),$c=s(52686),Gc=s(48524),qc=s(85716);let Hc=Dc=class extends zc.A{constructor(e){super(e),this.type="none"}clone(){return new Dc({type:this.type})}};(0,Gl._)([(0,qc.e)({none:"none",stayAbove:"stay-above"}),(0,ql.MZ)({json:{write:{isRequired:!0}}})],Hc.prototype,"type",void 0),Hc=Dc=(0,Gl._)([(0,Jl.$)("esri.ground.NavigationConstraint")],Hc);const Wc=Symbol("GroundInstance");var Jc,Kc,Yc=s(93802);let Xc=Kc=class extends(zc.A.JSONSupportMixin(Bc.A)){static{Jc=Wc}constructor(e){super(e),this[Jc]=!0,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new Yl.A;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"!==e.type&&"base-elevation"!==e.type&&Wl.A.getLogger(this).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.addHandles([this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>(e=>{e.parent=null})(e.item)))])}initialize(){this.when().catch((e=>{(0,Ec.zf)(e)||Wl.A.getLogger(this).error("#load()","Failed to load ground",e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)(0,ec.pR)(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}get layers(){return this._get("layers")}set layers(e){this._set("layers",(0,Zc.V)(e,this._get("layers")))}writeLayers(e,t,n,r){const i=[];e?(r={...r,layerContainerType:"ground"},e.forEach((e=>{if("write"in e){const t={};(0,Uc.GB)(e)().write(t,r)&&i.push(t)}else r?.messages&&r.messages.push(new Ql.A("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted in the ground`,{layer:e}))})),t.layers=i):t.layers=i}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return(0,$c.g)(this,(e=>{e(this.layers)}))}async queryElevation(e,t){await this.load({signal:t?.signal});const{ElevationQuery:n}=await s.e(7513).then(s.bind(s,47513));(0,Ec.Te)(t);const r=new n,i=this.layers.filter(Qc).toArray();return r.queryAll(i,e,t)}async createElevationSampler(e,t){await this.load({signal:t?.signal});const{ElevationQuery:n}=await s.e(7513).then(s.bind(s,47513));(0,Ec.Te)(t);const r=new n,i=this.layers.filter(Qc).toArray();return r.createSamplerAll(i,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:(0,Vc.o8)(this.surfaceColor),navigationConstraint:(0,Vc.o8)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new Kc({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,n){const r=t?.origin||"web-scene",i=t?.portal||null,o=t?.url||null,{populateOperationalLayers:a}=await Promise.resolve().then(s.bind(s,12387));(0,Ec.Te)(n);const l=[];if(e.layers&&Array.isArray(e.layers)){const t={context:{origin:r,url:o,portal:i,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};l.push(a(this.layers,e.layers,t))}await Promise.allSettled(l)}};function Qc(e){return"elevation"===e.type||function(e){return e&&"createElevationSampler"in e}(e)}(0,Gl._)([(0,ql.MZ)({json:{read:!1,write:{isRequired:!0}}})],Xc.prototype,"layers",null),(0,Gl._)([(0,Gc.K)("layers")],Xc.prototype,"writeLayers",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Xc.prototype,"resourceInfo",void 0),(0,Gl._)([(0,ql.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:ic.jz,read:{reader:Yc.D,source:"transparency"},write:{writer:(e,t)=>{t.transparency=(0,Yc.p)(e)},target:"transparency"}}})],Xc.prototype,"opacity",void 0),(0,Gl._)([(0,ql.MZ)({type:jc.A,json:{type:[ic.jz],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],Xc.prototype,"surfaceColor",void 0),(0,Gl._)([(0,ql.MZ)({type:Hc,json:{write:!0}})],Xc.prototype,"navigationConstraint",void 0),Xc=Kc=(0,Gl._)([(0,Jl.$)("esri.Ground")],Xc);const eu=Xc;var tu=s(57888),nu=s(14755),ru=s(38116),iu=s(1874),ou=s(25376),su=s(18031);let au=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.color=null}};(0,Gl._)([(0,ql.MZ)({type:jc.A,json:{type:[ic.jz],write:!0}})],au.prototype,"color",void 0),au=(0,Gl._)([(0,Jl.$)("esri.effects.FocusAreaOutline")],au);const lu=au;var cu=s(54898),uu=s(55714);let du=class extends(zc.A.JSONSupportMixin(nu.A)){constructor(e){super(e),this.id=`focusarea-${(0,iu.lk)()}`,this.title=null,this.enabled=!0,this.outline=null,this.geometries=new cu.A}readGeometries(e,t,n){Array.isArray(e)?this.geometries=cu.A.fromJSON(e,n):n.hooks?.onAfterLoad?.((()=>this._loadGeometries((0,uu.f)(e,n),n)))}async _loadGeometries(e,t){const n=await(0,ru.A)(e,{responseType:"json"});this.geometries=cu.A.fromJSON(n.data,t)}};(0,Gl._)([(0,ql.MZ)({type:String,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),(0,ql.MZ)()],du.prototype,"id",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:!0}})],du.prototype,"title",void 0),(0,Gl._)([(0,ql.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],du.prototype,"enabled",void 0),(0,Gl._)([(0,ql.MZ)({type:lu,json:{write:!0}})],du.prototype,"outline",void 0),(0,Gl._)([(0,ql.MZ)({type:cu.A,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:e=>new cu.A(e.items.map((e=>e.clone())))}),(0,su.P)({origins:["web-scene","portal-item"],type:"resource",prefix:"geometries",contentAddressed:!0})],du.prototype,"geometries",void 0),(0,Gl._)([(0,ou.w)(["web-scene","portal-item"],"geometries")],du.prototype,"readGeometries",null),du=(0,Gl._)([(0,Jl.$)("esri.effects.FocusArea")],du);const hu=du;let pu=class extends(zc.A.JSONSupportMixin(nu.A)){constructor(e){super(e),this.areas=new Yl.A,this.style="bright"}};(0,Gl._)([(0,ql.MZ)({type:Yl.A.ofType(hu),nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:e=>new Yl.A(e.items.map((e=>e.clone())))})],pu.prototype,"areas",void 0),(0,Gl._)([(0,ql.MZ)({type:["bright","dark"],nonNullable:!0,json:{write:!0}})],pu.prototype,"style",void 0),pu=(0,Gl._)([(0,Jl.$)("esri.effects.FocusAreas")],pu);const fu=pu;var mu=s(10628),yu=s(44945),gu=s(49112);s(6183);const vu=()=>Wl.A.getLogger("esri.support.basemapUtils");function bu(e,t){let n;if("string"==typeof e){const r=e in gu.H,i=!r&&e.includes("/");if(!r&&!i){if((0,yu.Dd)())vu().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const t=Object.entries(gu.H).filter((([e,t])=>t.classic||t.is3d)).map((([e])=>`"${e}"`)).sort().join(", ");vu().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`)}return null}t&&(n=t[e]),n||(n=r?Fc.default.fromId(e):new Fc.default({style:{id:e}}),t&&(t[e]=n))}else n=(0,ic.dp)(Fc.default,e);return n?.destroyed&&(vu().warn("The provided basemap is already destroyed",{basemap:n}),n=null),n}var wu=s(80652);const _u={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var Su=s(18598),xu=s(16115);let Mu=class extends((0,xu.l)((0,Su.Q)(tu.A.EventedMixin(gc.A)))){constructor(e){super(e),this.allLayers=new Xl.A({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:e=>"layers"in e?e.layers:null}),this.focusAreas=new fu,this.allTables=(0,wu.Z)(this),this.basemap=null,this.editableLayers=new Xl.A({getCollections:()=>[this.allLayers],itemFilterFunction:mu.S}),this.ground=new eu,this._basemapCache={}}destroy(){(function(e){for(const t in e){const n=e[t];(0,ec.pR)(n),delete e[t]}})(this._basemapCache),this._basemapCache=null,this.focusAreas.destroy(),this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=(0,ec.pR)(this.basemap),(0,ec.pR)(this.ground),this._set("ground",null)}castBasemap(e){return bu(e,this._basemapCache)}castGround(e){const t=function(e){let t=null;"string"==typeof e?e in _u?t=new eu({resourceInfo:{data:{layers:[_u[e]]}}}):Wl.A.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`):t=(0,ic.dp)(eu,e);return t}(e);return t??this._get("ground")}findLayerById(e){return this.allLayers.find((t=>t.id===e))}findTableById(e){return this.allTables.find((t=>t.id===e))}};(0,Gl._)([(0,ql.MZ)({readOnly:!0,dependsOn:[]})],Mu.prototype,"allLayers",void 0),(0,Gl._)([(0,ql.MZ)({type:fu,nonNullable:!0,json:{write:{overridePolicy:e=>({enabled:e.areas.length>0,ignoreOrigin:!0})}}})],Mu.prototype,"focusAreas",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Mu.prototype,"allTables",void 0),(0,Gl._)([(0,ql.MZ)({type:Fc.default,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Mu.prototype,"basemap",void 0),(0,Gl._)([(0,rc.w)("basemap")],Mu.prototype,"castBasemap",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Mu.prototype,"editableLayers",void 0),(0,Gl._)([(0,ql.MZ)({type:eu,nonNullable:!0})],Mu.prototype,"ground",void 0),(0,Gl._)([(0,rc.w)("ground")],Mu.prototype,"castGround",null),(0,Gl._)([(0,ql.MZ)()],Mu.prototype,"undoRedo",void 0),Mu=(0,Gl._)([(0,Jl.$)("esri.Map")],Mu);const Au=Mu;var Tu=s(56802),Iu=s(71004),Cu=s(15909),Eu=s(8e3),ku=s(21570),Pu=s(44153),Ru=s(67488);let Ou=class extends Cu.X{constructor(e){super(e),this.addHandles(this.on("before-add",(e=>{null!=e.item&&e.item.parent===this.owner&&(Wl.A.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),e.preventDefault())})))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};Ou=(0,Gl._)([(0,Jl.$)("esri.support.AnalysesCollection")],Ou);var Nu=s(52796),Lu=s(82506),Du=s(72991),Fu=s(23375);let ju=class extends gc.A{constructor(e){super(e),this.view=null,this.baseLayerViews=new Yl.A,this.referenceLayerViews=new Yl.A,this._loadingHandle=(0,tc.wB)((()=>this.view?.map?.basemap),(e=>{e&&e.load().catch((()=>{}))}),tc.Vh)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const e of this.baseLayerViews)e.destroy();this.baseLayerViews.length=0;for(const e of this.referenceLayerViews)e.destroy();this.referenceLayerViews.length=0}get suspended(){return this.view?.suspended??!0}get updating(){if(this.view?.suspended)return!1;const e=this.view?.map?.basemap;return!!e?.loaded&&(this.baseLayerViews.some((e=>e.updating))||this.referenceLayerViews.some((e=>e.updating)))}};(0,Gl._)([(0,ql.MZ)({constructOnly:!0})],ju.prototype,"view",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ju.prototype,"baseLayerViews",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ju.prototype,"referenceLayerViews",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ju.prototype,"suspended",null),(0,Gl._)([(0,ql.MZ)({type:Boolean,readOnly:!0})],ju.prototype,"updating",null),ju=(0,Gl._)([(0,Jl.$)("esri.views.BasemapView")],ju);const Zu=ju;var Uu=s(23572);let zu=class extends gc.A{constructor(e){super(e),this.factor=1.5,this.offset=(0,Uu.tc)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};(0,Gl._)([(0,ql.MZ)({type:Number})],zu.prototype,"factor",void 0),(0,Gl._)([(0,ql.MZ)({nonNullable:!0})],zu.prototype,"offset",void 0),(0,Gl._)([(0,ql.MZ)()],zu.prototype,"position",void 0),(0,Gl._)([(0,ql.MZ)({type:Number,range:{min:0}})],zu.prototype,"size",void 0),(0,Gl._)([(0,ql.MZ)()],zu.prototype,"maskUrl",void 0),(0,Gl._)([(0,ql.MZ)()],zu.prototype,"maskEnabled",void 0),(0,Gl._)([(0,ql.MZ)()],zu.prototype,"overlayUrl",void 0),(0,Gl._)([(0,ql.MZ)()],zu.prototype,"overlayEnabled",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],zu.prototype,"version",null),(0,Gl._)([(0,ql.MZ)({type:Boolean})],zu.prototype,"visible",void 0),zu=(0,Gl._)([(0,Jl.$)("esri.views.Magnifier")],zu);const Vu=zu;var Bu=s(3223),$u=s(80294),Gu=s(51074),qu=s(98592),Hu=s(65452),Wu=s(33432);function Ju(e){return!(null==e||"object"!=typeof e||!("createQuery"in e)||!e.createQuery)}let Ku=class extends tu.A.EventedAccessor{constructor(e){super(e),this._selectionMap=new Gu.A,this._sources=new Yl.A,this._trashCan=[],this._layerEditHandles=new Yl.A,this._vizTaskId=0,this.view=null,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([(0,tc.wB)((()=>[this.view,this.showHighlight]),(()=>this._refreshVisualization())),(0,tc.wB)((()=>this.view),(e=>{e?.when().then((()=>this.syncSources()))}),tc.Vh),(0,tc.on)((()=>this.sources),"change",(e=>{const t=this._selectionMap,n=[];for(const r of e.removed){const e=t.get(r);e&&(t.delete(r),e.highlightHandle?.remove(),n.push({layer:r,selection:[],added:[],removed:[...e.selection]}))}this._refreshListeners(),n.length&&this._onSelectionChange(n)}),{onListenerAdd:()=>this._refreshListeners()})])}destroy(){this.clear(),this._layerEditHandles.drain(ec.xt)}get selections(){return Array.from(this._selectionMap.entries()).map((e=>{const[t,n]=e;return{layer:t,selection:[...n.selection]}}))}get count(){let e=0;for(const t of this._selectionMap.values())e+=t.selection.length;return e}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(e){(0,Zc.V)(e,this._sources)}syncSources(){const e=new Set,t=this.view?.map;if(!t)return;const n=t=>{(0,Hu.cM)(t)?(t.layers?.forEach(n),t.tables?.forEach(n)):(0,Hu.pJ)(t)?(t.sublayers?.forEach(n),t.subtables?.forEach(n)):(0,Hu.F2)(t)?t.sublayers?.forEach(n):Ju(t)&&e.add(t)};t.allLayers.forEach(n),t.allTables.forEach(n),this.sources=[...e]}async getSelectedFeatures(e,t={},n="layerView"){const{view:r,selections:i}=this;if(!r&&"layerView"===n)return Wl.A.getLogger(this).warn("Cannot query layer views without a view."),[];const o=e?.length?i.filter((t=>e.includes(t.layer))):i,s=[];return o.forEach((async e=>{const{layer:i,selection:o}=e;if(!o.length)return;const a=(0,Hu.Sv)(i)?i.parent:i;if(null==a)return;if("layer"===n)return void s.push(ed(a,o,t));if(Yu(a)||!r||!Xu(a))return;const l=await r.whenLayerView(a).catch((()=>null));l&&s.push(ed(l,o,t))})),(await Promise.all(s)).filter((e=>null!=e))}updateSelection(e){const t=new Map;for(const[e,n]of this._selectionMap)t.set(e,[...n.selection]);let n=!1;const r=e.current.concat(e.added);for(const e of r){const r=e.sourceLayer,i=e.getObjectId();if(this.sources.includes(r)&&(Ju(r)||(0,Hu.Sv)(r))&&null!==i){const e=(0,$u.tE)(t,r,(()=>[]));e.includes(i)||(e.push(i),n=!0)}}for(const r of e.removed){const e=r.sourceLayer,i=r.getObjectId();if(this.sources.includes(e)&&(Ju(e)||(0,Hu.Sv)(e))&&null!==i){const r=t.get(e),o=r?.indexOf(i);void 0!==o&&o>=0&&(r?.splice(o,1),n=!0)}}if(n){const{_selectionMap:e,_trashCan:n}=this,r=[];for(const[i,o]of t){const t=e.get(i);void 0!==t&&n.push(t),e.set(i,{selection:o}),r.push({layer:i,selection:o,...(0,Bu.iv)(void 0!==t?t.selection:[],o)})}this._onSelectionChange(r)}}setSelection(e,t){this._setSelection(e,t)}getSelection(e){const t=this._selectionMap.get(e);return t?.selection}appendToSelection(e,t){const n=this._selectionMap.get(e),r=void 0!==n?[...n.selection]:[];for(const e of t)r.includes(e)||r.push(e);this._setSelection(e,r)}removeFromSelection(e,t){const n=this._selectionMap.get(e);if(!n)return;const r=[];for(const e of n.selection)t.includes(e)||r.push(e);this._setSelection(e,r)}toggleInSelection(e,t){const n=this._selectionMap.get(e);if(!n||0===n.selection.length)return void this._setSelection(e,t);const r=new Set(n.selection),i=new Set(t),o=(0,qu.BT)(r,i);this._setSelection(e,Array.from(o))}clear(){const e=this._selectionMap.values();this._trashCan.push(...e);const t=[];for(const[e,n]of this._selectionMap.entries())t.push({layer:e,added:[],removed:[...n.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(t)}_onSelectionChange(e){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:e})}_refreshVisualization(){for(this._vizTaskId++;this._trashCan.length>0;){const e=this._trashCan.pop();e?.highlightHandle?.remove()}if(null==this.view)return;const{sources:e,view:t,_selectionMap:n,showHighlight:r}=this,i=this._vizTaskId;for(const o of e){const e=n.get(o),s=(0,Hu.Sv)(o)?o.parent:o;if(null!=s&&Xu(s)){if(Yu(s))continue;t.whenLayerView(s).then((t=>{e?.highlightHandle?.remove(),null!=e&&r&&i===this._vizTaskId&&"highlight"in t&&"function"==typeof t.highlight&&e.selection.length>0&&(e.highlightHandle=t.highlight(e.selection,this.highlightName))})).catch((()=>{e?.highlightHandle?.remove()}))}}}_refreshListeners(){this._layerEditHandles.drain(ec.xt);const e=new Set(this.sources.map((e=>(0,Hu.Sv)(e)?e.parent:e)));for(const t of e)Ju(t)&&"on"in t&&t.on&&this._layerEditHandles.push(t.on("edits",(e=>this._onLayerEdit(e,t))))}_onLayerEdit(e,t){if((0,Hu.F2)(t))this._onParentLayerEdit(e,t);else if(e.deletedFeatures.length&&this._selectionMap.has(t)){const n=[];e.deletedFeatures.forEach((({error:e,objectId:t})=>{null!=t&&null==e&&n.push(t)})),this.removeFromSelection(t,n)}}_onParentLayerEdit(e,t){const{deletedFeatures:n,edits:r,updatedFeatures:i}=e;if(r?.updateFeatures?.forEach((e=>{const n=e.getObjectId()??e.attributes[t.objectIdField];if(null==n)return;if(i.find((e=>e.objectId===n))?.error)return;const r=t.findSublayerForFeature(e);if(!Ju(r))return;const o=t.sublayers.find((e=>!(!Ju(e)||!this.getSelection(e)?.includes(n))));Ju(o)&&o!==r&&(this.removeFromSelection(o,[n]),this.appendToSelection(r,[n]))})),n.length){const e=[];n.forEach((({error:t,objectId:n})=>{null!=n&&null==t&&e.push(n)})),t.sublayers.forEach((t=>{Ju(t)&&this._selectionMap.has(t)&&this.removeFromSelection(t,e)}))}}_setSelection(e,t){if(!this.sources.includes(e))throw new Error(`Cannot set selection on layer ${e.title} because it is not in 'sources'`);const n=this._selectionMap.get(e);if(void 0===n||!Qu(n,{selection:t})){void 0!==n&&this._trashCan.push(n),this._selectionMap.set(e,{selection:[...t]});const r={layer:e,selection:[...t],...(0,Bu.iv)(void 0!==n?n.selection:[],t)};this._onSelectionChange([r])}}};(0,Gl._)([(0,ql.MZ)()],Ku.prototype,"_selectionMap",void 0),(0,Gl._)([(0,ql.MZ)()],Ku.prototype,"_sources",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0,nonNullable:!0})],Ku.prototype,"selections",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0,nonNullable:!0})],Ku.prototype,"count",null),(0,Gl._)([(0,ql.MZ)()],Ku.prototype,"view",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0,nonNullable:!0})],Ku.prototype,"hasSelection",null),(0,Gl._)([(0,ql.MZ)()],Ku.prototype,"showHighlight",void 0),(0,Gl._)([(0,ql.MZ)()],Ku.prototype,"sources",null),(0,Gl._)([(0,ql.MZ)()],Ku.prototype,"highlightName",void 0),Ku=(0,Gl._)([(0,Jl.$)("esri.views.SelectionManager")],Ku);const Yu=e=>(0,Hu.Sv)(e)?!0===e.parent?.isTable:e.isTable,Xu=e=>void 0!==e?.when,Qu=(e,t)=>{if(null==e&&null==t)return!0;if(null!=e&&null==t||null==e&&null!=t)return!1;if(null!=e&&null!=t&&null!=e.selection&&null!=t.selection){const n=[...e.selection],r=[...t.selection];if(n.length!==r.length)return!1;n.sort(),r.sort();for(let e=0;e<n.length;e++)if(n[e]!==r[e])return!1}return!0},ed=async(e,t,n={})=>{let r;if((e=>void 0!==e.layer)(e)){const i=e;r=void 0===i?null:await i.queryFeatures(new Wu.A({...n,objectIds:t})).then((t=>({data:t,layer:e.layer})))}else{const i=e;r=void 0===i?null:await i.queryFeatures(new Wu.A({...n,objectIds:t})).then((e=>({data:e,layer:i})))}return r},td=Ku;let nd=class extends(nu.A.ClonableMixin(gc.A)){constructor(e){super(e),this.accentColor=new jc.A([255,127,0]),this.textColor=new jc.A([255,255,255])}};(0,Gl._)([(0,ql.MZ)({type:jc.A,nonNullable:!0})],nd.prototype,"accentColor",void 0),(0,Gl._)([(0,ql.MZ)({type:jc.A,nonNullable:!0})],nd.prototype,"textColor",void 0),nd=(0,Gl._)([(0,Jl.$)("esri.views.Theme")],nd);const rd=nd;var id=s(84807),od=s(4506),sd=s(85368);s(98596);const ad=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],ld={};function cd(e){return!!ld[e]}ad.forEach((e=>{ld[e]=!0}));class ud{constructor(e){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=e,this.inputManager=null}connect(e){e&&this.disconnect(),this.inputManager=e,this._handlers.forEach((({handler:e,priority:t},n)=>this.inputManager?.installHandlers(n,[e],t)))}disconnect(){this.inputManager&&this._handlers.forEach(((e,t)=>this.inputManager?.uninstallHandlers(t))),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(e,t,n,r){const i=Array.isArray(e)?e:e.split(",");if(!function(e){for(const t of e)if(!cd(t))return!1;return!0}(i))return i.some(cd),null;let o,s;Array.isArray(t)?s=t:(o=t,s=[]),"function"==typeof n?o=n:r=n,r=null!=r?r:kc.o.DEFAULT;const a=this._createUniqueGroupName(),l=new dd(this.view,i,s,o);this._handlers.set(a,{handler:l,priority:r});for(const e of i){const t=this._handlerCounts.get(e)||0;this._handlerCounts.set(e,t+1)}return this.inputManager&&this.inputManager.installHandlers(a,[l],r),(0,mc.hA)((()=>this._removeHandler(a,i)))}hasHandler(e){return!!this._handlerCounts.get(e)}_removeHandler(e,t){if(this._handlers.has(e)){this._handlers.delete(e);for(const e of t){const t=this._handlerCounts.get(e);void 0===t||(1===t?this._handlerCounts.delete(e):this._handlerCounts.set(e,t-1))}}this.inputManager&&this.inputManager.uninstallHandlers(e)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}}class dd extends sd.l{constructor(e,t,n,r){super(!0),this._latestDragStart=void 0,this.view=e;for(const i of t)switch(i){case"click":this.registerIncoming("click",n,(t=>r(fd(e,t))));break;case"double-click":this.registerIncoming("double-click",n,(t=>r(md(e,t))));break;case"immediate-click":this.registerIncoming("immediate-click",n,(t=>r(yd(e,t))));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",n,(t=>r(gd(e,t))));break;case"hold":this.registerIncoming("hold",n,(t=>r(vd(e,t))));break;case"drag":this.registerIncoming("drag",n,(e=>{const t=this._wrapDrag(e);t&&r(t)}));break;case"key-down":this.registerIncoming("key-down",n,(e=>r(wd(e))));break;case"key-up":this.registerIncoming("key-up",n,(e=>r(_d(e))));break;case"pointer-down":this.registerIncoming("pointer-down",n,(e=>r(Sd(e,"pointer-down"))));break;case"pointer-move":this.registerIncoming("pointer-move",n,(e=>r(Sd(e,"pointer-move"))));break;case"pointer-up":this.registerIncoming("pointer-up",n,(e=>r(Sd(e,"pointer-up"))));break;case"pointer-drag":this.registerIncoming("pointer-drag",n,(e=>r(xd(e))));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",n,(e=>r(Md(e))));break;case"pointer-enter":this.registerIncoming("pointer-enter",n,(e=>r(Sd(e,"pointer-enter"))));break;case"pointer-leave":this.registerIncoming("pointer-leave",n,(e=>r(Sd(e,"pointer-leave"))));break;case"gamepad":this.registerIncoming("gamepad",n,(e=>{r(Ad(e))}));break;case"focus":this.registerIncoming("focus",n,(e=>{r(hd(e))}));break;case"blur":this.registerIncoming("blur",n,(e=>{r(pd(e))}))}}_wrapDrag(e){const t=e.data,{x:n,y:r}=t.center,{action:i,pointerType:o,button:s}=t;if("start"===i&&(this._latestDragStart=t),!this._latestDragStart)return;const a=t.pointer.native,l=t.buttons,{cancelable:c,timestamp:u}=e,d={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return"end"===i&&(this._latestDragStart=void 0),{type:"drag",action:i,x:n,y:r,origin:d,pointerType:o,button:s,buttons:l,radius:t.radius,angle:(0,od.KJ)(t.angle),native:a,timestamp:u,cancelable:c,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}}function hd(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function pd(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function fd(e,t){const{pointerType:n,button:r,buttons:i,x:o,y:s,native:a,eventId:l}=t.data,{cancelable:c,timestamp:u}=t;return{type:"click",pointerType:n,button:r,buttons:i,x:o,y:s,native:a,timestamp:u,screenPoint:(0,Uu.tc)(o,s),mapPoint:bd(e,o,s),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function md(e,t){const{pointerType:n,button:r,buttons:i,x:o,y:s,native:a,eventId:l}=t.data,{cancelable:c,timestamp:u}=t;return{type:"double-click",pointerType:n,button:r,buttons:i,x:o,y:s,native:a,timestamp:u,mapPoint:bd(e,o,s),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function yd(e,t){const{pointerType:n,button:r,buttons:i,x:o,y:s,native:a,eventId:l}=t.data,c=a.pointerId,{cancelable:u,timestamp:d}=t;return{type:"immediate-click",pointerId:c,pointerType:n,button:r,buttons:i,x:o,y:s,native:a,timestamp:d,mapPoint:bd(e,o,s),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function gd(e,t){const{pointerType:n,button:r,buttons:i,x:o,y:s,native:a,eventId:l}=t.data,c=a.pointerId,{cancelable:u,timestamp:d}=t;return{type:"immediate-double-click",pointerId:c,pointerType:n,button:r,buttons:i,x:o,y:s,native:a,timestamp:d,mapPoint:bd(e,o,s),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function vd(e,t){const{pointerType:n,button:r,buttons:i,x:o,y:s,native:a}=t.data,{cancelable:l,timestamp:c}=t;return{type:"hold",pointerType:n,button:r,buttons:i,x:o,y:s,native:a,timestamp:c,mapPoint:bd(e,o,s),cancelable:l,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function bd(e,t,n){return e.toMap((0,Uu.tc)(t,n),{exclude:[]})}function wd(e){const{key:t,repeat:n,native:r}=e.data,{cancelable:i,timestamp:o}=e;return{type:"key-down",key:t,repeat:n,native:r,timestamp:o,cancelable:i,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function _d(e){const{key:t,native:n}=e.data,{cancelable:r,timestamp:i}=e;return{type:"key-up",key:t,native:n,timestamp:i,cancelable:r,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function Sd(e,t){const{x:n,y:r,button:i,buttons:o,native:s,eventId:a}=e.data,l=s.pointerId,c=s.pointerType,{cancelable:u,timestamp:d}=e;return{type:t,x:n,y:r,pointerId:l,pointerType:c,button:i,buttons:o,native:s,timestamp:d,eventId:a,cancelable:u,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function xd(e){const{x:t,y:n,buttons:r,native:i,eventId:o}=e.data.currentEvent,{button:s}=e.data.startEvent,a=e.data.startEvent.native.pointerId,l=e.data.startEvent.native.pointerType,c=e.data.action,u={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:d,timestamp:h}=e;return{type:"pointer-drag",x:t,y:n,pointerId:a,pointerType:l,button:s,buttons:r,action:c,origin:u,native:i,timestamp:h,eventId:o,cancelable:d,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function Md(e){const{cancelable:t,data:n,timestamp:r}=e,{x:i,y:o,deltaY:s,native:a}=n;return{type:"mouse-wheel",x:i,y:o,deltaY:s,native:a,timestamp:r,cancelable:t,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function Ad(e){const{action:t,state:n,device:r}=e.data,{cancelable:i,timestamp:o}=e,{buttons:s,axes:a}=n;return{type:"gamepad",device:r,timestamp:o,action:t,buttons:s,axes:a,cancelable:i,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}var Td=s(10715),Id=s(92750);function Cd(e){return[e.on("before-add",(t=>{const n=t.item;if(null==n||e.includes(n))return Wl.A.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();n.onAdd()})),e.on("after-remove",(e=>{const t=e.item;t.active&&(t.view.activeTool=null),t.destroy()}))]}function Ed(e){return e.visible&&null!=e.getEditableFlag&&e.getEditableFlag(Td.PK.USER)&&e.getEditableFlag(Td.PK.MANAGER)}var kd=s(88938),Pd=s(20405);class Rd{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(e,t){const n=()=>e.stopPropagation();switch(e.type){case"pointer-move":Ld(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:"start"===e.action?this._externallyDragging=!0:"end"===e.action&&(this._externallyDragging=!1),this._stopDrag&&(n(),"end"===e.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!Dd(e))break;const r=(0,Pd.ZV)(e),i=Nd(r,e.pointerType,t.forEachTool);if(null==i)break;const o=i.manipulator,s=i.tool;null==o||null==s||!o.interactive||o.grabbable&&o.grabbableForEvent(e)||!o.grabbing||o.dragging||this._releaseManipulatorBeforeDragging(o,e,t),null!=o&&null!=s&&o.interactive&&o.grabbable&&o.grabbableForEvent(e)&&!o.grabbing&&(this._grabbedManipulators.set(e.pointerId,{manipulator:o,tool:s,start:r,pointerType:e.pointerType}),1===this._grabbedManipulators.size&&null==t.activeTool&&(this._revertToNullActiveTool=!0,t.setActiveTool(i.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:e.pointerType,screenPoint:r}),n());break}case"pointer-up":this._draggedManipulators.has(e.pointerId)||this._handlePointerEnd(e,t);break;case"pointer-drag":{if(!Dd(e))break;const r=this._grabbedManipulators.get(e.pointerId),i=r?.manipulator,o=r?.tool;if(null==i||null==o)break;const s=(0,Pd.ZV)(e);s.x=(0,od.qE)(s.x,0,t.view.width),s.y=(0,od.qE)(s.y,0,t.view.height);const a=r.start,l=this._draggedManipulators.get(e.pointerId);switch(e.action){case"start":case"update":"update"!==e.action&&1!==this._grabbedManipulators.size||(i.dragging=!0,l?i.events.emit("drag",{action:"update",start:a,screenPoint:s}):i.events.emit("drag",{action:"start",start:a,screenPoint:s,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{tool:o,manipulator:i,start:a}));break;case"end":i.dragging=!1,l&&i.events.emit("drag",{action:"end",start:a,screenPoint:s}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,t)}n();break}case"immediate-click":{const r=(0,Pd.ZV)(e),i=Nd(r,e.pointerType,t.forEachTool);if(function(e){return!!e.native.shiftKey}(e)||t.forEachTool((e=>{if((null==i||i.tool!==e||e.automaticManipulatorSelection)&&e.manipulators){let t=!1;e.manipulators.forEach((({manipulator:e})=>{e.selected&&(e.selected=!1,t=!0)})),t&&e.onManipulatorSelectionChanged&&e.onManipulatorSelectionChanged()}})),null==i)break;const{manipulator:o,tool:s}=i;if(!o.interactive)break;o.selectable&&s.automaticManipulatorSelection&&(o.selected=!o.selected,s.onManipulatorSelectionChanged&&s.onManipulatorSelectionChanged());const a=e.native.shiftKey;o.events.emit("immediate-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:a,stopPropagation:n}),Fd(o,n);break}case"click":{const r=(0,Pd.ZV)(e),i=Nd(r,e.pointerType,t.forEachTool),o=i?.manipulator;if(null==o||!o.interactive)break;const s=e.native.shiftKey;o.events.emit(e.type,{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:s}),n();break}case"double-click":{const r=(0,Pd.ZV)(e),i=Nd(r,e.pointerType,t.forEachTool),o=null!=i?i.manipulator:null;if(null==o||!o.interactive)break;const s=e.native.shiftKey;o.events.emit("double-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:s,stopPropagation:n}),Fd(o,n);break}case"immediate-double-click":{const r=(0,Pd.ZV)(e),i=Nd(r,e.pointerType,t.forEachTool),o=null!=i?i.manipulator:null;if(null==o||!o.interactive)break;const s=e.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:s,stopPropagation:n}),"mouse"===e.pointerType&&Fd(o,n);break}}this._onFocusChange(t.forEachTool)}_releaseManipulatorBeforeDragging(e,t,n){e.grabbing=!1,e.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:(0,Pd.ZV)(t)}),this._grabbedManipulators.forEach((({manipulator:t},n)=>{t===e&&this._grabbedManipulators.delete(n)})),this._afterManipulatorRelease(n.setActiveTool)}_handlePointerEnd(e,t){const n=this._grabbedManipulators.get(e.pointerId)?.manipulator;null!=n&&n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:e.pointerType,screenPoint:(0,Pd.ZV)(e)}),this._grabbedManipulators.delete(e.pointerId),this._afterManipulatorRelease(t.setActiveTool))}_onFocusChange(e){this._updateCursor(),this._updateFocusedManipulatorTools(e)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=Od(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=Od(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(e){const t=new Set,n=new Set;this._grabbedManipulators.forEach((({tool:e})=>{t.add(e)})),this._hoveredManipulators.forEach((({tool:e})=>{n.add(e)})),e((e=>{e.hasGrabbedManipulators=t.has(e),e.hasHoveredManipulators=n.has(e);const r=this._grabbedManipulators.values(),i=(0,kd.I6)(r,(({tool:t})=>t===e));e.firstGrabbedManipulator=null!=i?i.manipulator:null}))}clearPointers(e,{forEachTool:t,setActiveTool:n},r=!0,i){const o=(t,n)=>t===e&&(null==i||i===n);this._grabbedManipulators.forEach((({tool:e,manipulator:t,pointerType:n},r)=>{o(e,t)&&(this._grabbedManipulators.delete(r),t.grabbing=!1,t.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:n}))})),this._draggedManipulators.forEach((({tool:e,manipulator:t},n)=>{o(e,t)&&(this._draggedManipulators.delete(n),t.dragging=!1,t.events.emit("drag",{action:"cancel"}))})),r&&this._hoveredManipulators.forEach((({tool:e,manipulator:t},n)=>{o(e,t)&&(this._hoveredManipulators.delete(n),t.hovering=!1)})),this._afterManipulatorRelease(n),this._onFocusChange(t)}updateHoveredStateFromKnownPointers(e){this._pointerLocations.forEach(((t,n)=>{this._updateHoveredStateForPointerAtScreenPosition((0,Uu.tc)(t.x,t.y),n,t.pointerType,e)}))}handleHoverEvent(e,t){const n=e.type;"pointer-up"!==n&&"immediate-click"!==n&&"pointer-move"!==n||!Ld(e.pointerType)||("pointer-up"!==n&&this._externallyDragging?this._clearHoveredManipulatorStates(e.pointerId):this._updateHoveredStateForPointerAtScreenPosition((0,Pd.ZV)(e),e.pointerId,e.pointerType,t))}_updateHoveredStateForPointerAtScreenPosition(e,t,n,r){let i=Nd(e,n,r);const o=this._hoveredManipulators.get(t)?.manipulator;null==i||i.manipulator.interactive||(i=null),null!=i&&o===i.manipulator||(null!=o&&(o.hovering=!1),null!=i?(i.manipulator.hovering=!0,this._hoveredManipulators.set(t,i)):this._hoveredManipulators.delete(t),this._onFocusChange(r))}_afterManipulatorRelease(e){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(e(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(e){this._hoveredManipulators.forEach((({manipulator:t},n)=>{e===n&&(this._hoveredManipulators.delete(e),t.hovering=!1)}))}}function Od(e){for(const{manipulator:t}of e.values())if(null!=t&&t.interactive){if(t.grabbing&&t.grabCursor)return t.grabCursor;if(t.cursor)return t.cursor}return null}function Nd(e,t,n){let r=null;return n((n=>{if(null==n.manipulators||!Ed(n))return!1;const i=n.manipulators.intersect(e,t);return null!=i&&(r={tool:n,manipulator:i},!0)})),r}function Ld(e){return"mouse"===e}function Dd(e){return"mouse"!==e.pointerType||0===e.button}function Fd(e,t){e?.consumesClicks&&t()}const jd="attached",Zd="tools";let Ud=class extends gc.A{constructor(e){super(e),this._updatingHandles=new vc.U,this._clock=id.p,this._manipulatorState=new Rd,this.tools=new Yl.A,this.cursor=null,this._interacting=!1,this._interactingTimeout=1e3,this._interactingTimeoutHandle=null,this._forEachTool=e=>{for(const t of this.tools.items)if(e(t))return}}initialize(){this.addHandles([this.view.on(ad,(e=>{this._handleInputEvent(e)}),kc.o.TOOL),...Cd(this.tools),this.tools.on("before-add",(({item:e})=>{this._updateToolEditableFlag(e)})),this.tools.on("before-remove",(({item:e})=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs),this._updateCursor()})),this.tools.on("change",(()=>{this._refreshToolWatchers()}))])}destroy(){this.activeTool=null,this.tools.drain((e=>e.destroy())),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:e=>{this.activeTool=e},view:this.view}}set activeTool(e){if(null!=e&&!this.view.ready)return void Wl.A.getLogger(this).error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return;const t=this.activeTool;this._set("activeTool",e),null!=t&&t.deactivate(),null!=e&&e.activate(),this._removeIncompleteTools(e);for(const e of this.tools){this._updateToolEditableFlag(e);const t=Ed(e);null!=this.activeTool&&t||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!t)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some((e=>e.updating))}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=(0,ec.xt)(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout((()=>this._interacting=!1),this._interactingTimeout)}attach(){"3d"===this.view.type?this.addHandles([(0,tc.wB)((()=>{const{state:e}=this.view;return"camera"in e&&e.camera}),(()=>this._forEachManipulator((e=>e.onViewChange())))),this.view.elevationProvider?.on("elevation-change",(e=>this._forEachManipulator((t=>t.onElevationChange(e)))))],jd):this.addHandles((0,tc.wB)((()=>this.view.extent),(()=>this._forEachManipulator((e=>e.onViewChange())))))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(jd),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(e){this._forEachTool((t=>{t.manipulators&&t.manipulators.forEach((({manipulator:n})=>e(n,t)))}))}_handleInputEvent(e){let t=!1;const n={...e,stopPropagation:()=>{t=!0,e.stopPropagation()}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(n):this._forEachTool((e=>{!t&&e.visible&&e.handleInputEvent(n)})),!t&&function(e){return"key-down"===e.type&&e.key===Id.$B.cancel}(e)&&this.activeTool&&(e.stopPropagation(),e.preventDefault(),this.activeTool.cancel(),this.activeTool=null),this._manipulatorState.handleInputEvent(n,this._manipulatorStateEventArgs),t||null==this.activeTool||this.activeTool.handleInputEventAfter(n),this._manipulatorState.handleHoverEvent(n,this._forEachTool),this._updateCursor(),"pointer-move"===e.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(Zd),this._forEachTool((e=>{if(e instanceof gc.A){const t=(0,tc.wB)((()=>[e.cursor,e.visible,e.editable]),(()=>{Ed(e)||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs),this._updateCursor()}));this.addHandles(t,Zd)}e.manipulators&&this.addHandles([e.manipulators.on("after-remove",(t=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!0,t.item.manipulator)})),e.manipulators.on("change",(()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}))],Zd)})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(e){e.setEditableFlag?.(Td.PK.MANAGER,null==this.activeTool||e===this.activeTool)}_updateCursor(){let e=this._manipulatorState.cursor;null==e&&this._forEachTool((t=>!(null==t.cursor||!t.visible||(e=t.cursor,0)))),this._get("cursor")!==e&&this._set("cursor",e)}_removeIncompleteTools(e){this.tools.filter((t=>(null==e||t!==e)&&!t.created&&t.removeIncompleteOnCancel)).forEach((e=>{this.tools.remove(e)}))}get test(){}};(0,Gl._)([(0,ql.MZ)({constructOnly:!0,nonNullable:!0})],Ud.prototype,"view",void 0),(0,Gl._)([(0,ql.MZ)({value:null})],Ud.prototype,"activeTool",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0,type:Yl.A})],Ud.prototype,"tools",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Ud.prototype,"cursor",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Ud.prototype,"updating",null),(0,Gl._)([(0,ql.MZ)()],Ud.prototype,"_interacting",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Ud.prototype,"interacting",null),Ud=(0,Gl._)([(0,Jl.$)("esri.views.ToolViewManager")],Ud);var zd=s(83882),Vd=s(4728);let Bd=class extends gc.A{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown","standard"===e.mapping?this._detectedDeviceType="standard":Gd.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){const e=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<e.length?e[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return qd[this.deviceType]}};(0,Gl._)([(0,ql.MZ)({nonNullable:!0,readOnly:!0})],Bd.prototype,"nativeIndex",void 0),(0,Gl._)([(0,ql.MZ)({type:String,readOnly:!0})],Bd.prototype,"deviceType",null),(0,Gl._)([(0,ql.MZ)({type:Number,readOnly:!0})],Bd.prototype,"axisThreshold",null),Bd=(0,Gl._)([(0,Jl.$)("esri.views.input.gamepad.GamepadInputDevice")],Bd);const $d=Bd,Gd=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),qd={standard:.15,spacemouse:.025,unknown:0};let Hd=class extends gc.A{constructor(...e){super(...e),this.devices=new Yl.A,this.enabledFocusMode="document"}};(0,Gl._)([(0,ql.MZ)({type:Yl.A.ofType($d),readOnly:!0})],Hd.prototype,"devices",void 0),(0,Gl._)([(0,ql.MZ)({type:["document","view","none"]})],Hd.prototype,"enabledFocusMode",void 0),Hd=(0,Gl._)([(0,Jl.$)("esri.views.input.gamepad.GamepadSettings")],Hd);const Wd=Hd;let Jd=class extends gc.A{constructor(){super(...arguments),this.gamepad=new Wd}};(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Jd.prototype,"gamepad",void 0),Jd=(0,Gl._)([(0,Jl.$)("esri.views.input.Input")],Jd);const Kd=Jd;var Yd=s(38268),Xd=s(61090);const Qd=()=>(0,ql.MZ)({type:["pan","rotate","zoom","none"],nonNullable:!0});let eh=class extends gc.A{constructor(e){super(e),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};(0,Gl._)([Qd()],eh.prototype,"dragPrimary",void 0),(0,Gl._)([Qd()],eh.prototype,"dragSecondary",void 0),(0,Gl._)([Qd()],eh.prototype,"dragTertiary",void 0),(0,Gl._)([(0,ql.MZ)({type:["zoom","none"],nonNullable:!0})],eh.prototype,"mouseWheel",void 0),eh=(0,Gl._)([(0,Jl.$)("esri.views.navigation.NavigationActionMap")],eh);const th=eh;let nh=class extends gc.A{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,Gl._)([(0,ql.MZ)({type:Boolean,nonNullable:!0})],nh.prototype,"enabled",void 0),(0,Gl._)([(0,ql.MZ)({type:$d})],nh.prototype,"device",void 0),(0,Gl._)([(0,ql.MZ)({type:["pan","zoom"],nonNullable:!0})],nh.prototype,"mode",void 0),(0,Gl._)([(0,ql.MZ)({type:["forward-down","forward-up"],nonNullable:!0})],nh.prototype,"tiltDirection",void 0),(0,Gl._)([(0,ql.MZ)({type:Number,nonNullable:!0})],nh.prototype,"velocityFactor",void 0),nh=(0,Gl._)([(0,Jl.$)("esri.views.navigation.gamepad.GamepadSettings")],nh);const rh=nh;let ih=class extends gc.A{constructor(e){super(e),this.actionMap=new th,this.browserTouchPanEnabled=!0,this.gamepad=new rh,this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!(0,Yd.O)()}get mouseWheelZoomEnabled(){return"zoom"===this.actionMap.mouseWheel}set mouseWheelZoomEnabled(e){(0,Xd.Lx)(Wl.A.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=e?"zoom":"none"}};(0,Gl._)([(0,ql.MZ)({type:th,nonNullable:!0})],ih.prototype,"actionMap",void 0),(0,Gl._)([(0,ql.MZ)({type:Boolean})],ih.prototype,"browserTouchPanEnabled",void 0),(0,Gl._)([(0,ql.MZ)({type:rh,nonNullable:!0})],ih.prototype,"gamepad",void 0),(0,Gl._)([(0,ql.MZ)({type:Boolean})],ih.prototype,"momentumEnabled",void 0),(0,Gl._)([(0,ql.MZ)({type:Boolean})],ih.prototype,"mouseWheelZoomEnabled",null),ih=(0,Gl._)([(0,Jl.$)("esri.views.navigation.Navigation")],ih);const oh=ih;var sh=s(4197),ah=s(84456),lh=s(40934);let ch=class extends gc.A{constructor(e){super(e),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=(0,ec.DC)(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const e=this.map?.(),t=[];return null!=this.priorityCollection&&t.push(this.priorityCollection),t.push({parent:e?.basemap,layers:e?.basemap?.baseLayers},{layers:e?.layers},{parent:e?.ground,layers:e?.ground?.layers},{parent:e?.basemap,layers:e?.basemap?.referenceLayers}),t}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let e;if(this._collectLayers(this.mapCollections,(t=>{const n=this._getSupportedSpatialReferences(t);if(n.length>0){const t=this._narrowDownSpatialReferenceCandidates(e,n);null!=t&&(e=t)}return 1===e?.length}))&&1!==e?.length)return{updating:!0};const t=this._pickSpatialReferenceCandidate(e);return{spatialReference:t?.spatialReference??null,viewingMode:t?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const e=this.map?.(),t=this.spatialReference;if(!t)return{updating:this._spatialReferenceTask.updating};let n;const r=this._collectLayers([{parent:e?.basemap,layers:e?.basemap?.baseLayers},{layers:e?.layers}],(e=>!(!("tileInfo"in e)||!e.tileInfo?.spatialReference.equals(t)||(n=e,0))),(e=>"tileInfo"in e));return n?{tileInfo:n.tileInfo,updating:!1}:{updating:r}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};let e={};const t=this._collectLayers(this.mapCollections,(t=>{const n=(0,sh.zy)(t);return!!n&&(e={heightModelInfo:n,vcsWkid:t.spatialReference?.vcsWkid,latestVcsWkid:t.spatialReference?.latestVcsWkid},!0)}),(e=>(0,sh.jI)(e)));return{...e,updating:t}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const e=[],t=this._collectLayers(this.mapCollections,(t=>{const n="fullExtents"in t&&t.fullExtents||(null!=t.fullExtent?[t.fullExtent]:[]),r=this.requiresExtentInSpatialReference?null:n[0],i=n.find((e=>e.spatialReference.equals(this.spatialReference)))??r;if(i)return e.push({extent:i,layer:t}),!0;if(this._getSupportedSpatialReferences(t).length>0)for(const r of n)e.push({extent:r,layer:t});return!1}));return{candidates:e,updating:t}}get _extentTask(){const{candidates:e,updating:t}=this._extentCandidatesTask;if(t)return{updating:t};if(null==e||0===e.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const n=this._pickExtentCandidate(e),r=this.spatialReference;return n.extent.equals(this._projectExtentTask.input)&&r.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished}:(null!=this._projectExtentTask.task&&(this._projectExtentTask.task=(0,ec.DC)(this._projectExtentTask.task)),this._projectExtentTask={input:n.extent.clone(),output:null,spatialReference:r.clone(),task:(0,Cc.UT)((async e=>{try{const t=await(0,lh.q)(n.extent,r,"portalItem"in n.layer?n.layer.portalItem:void 0,e);this._projectExtentTask={...this._projectExtentTask,task:null,output:t}}catch(t){if((0,Ec.G4)(e))return;this._projectExtentTask={...this._projectExtentTask,task:null}}}))},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,t){if(null==e)return t;const n=new Array;for(const r of e)for(const e of t){if(!r.spatialReference.equals(e.spatialReference))continue;const t=dh(r.viewingMode,e.viewingMode);if(!1!==t){n.push({spatialReference:r.spatialReference,viewingMode:t});break}}return n.length>0?n:null}_pickSpatialReferenceCandidate(e){const t=this.defaultSpatialReference;return null==e||e.length<1?t?{spatialReference:t,viewingMode:null}:null:(null!=t&&e.length>1&&e.some((({spatialReference:e})=>e.equals(t)))&&(e=e.filter((({spatialReference:e})=>e.equals(t)))),e.length>1&&e.some((({viewingMode:e})=>e!==ah.RT.Local))&&(e=e.filter((({viewingMode:e})=>e!==ah.RT.Local))),e[0])}_getSupportedSpatialReferences(e){const t="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(0===t.length)return[];const n=[];for(const r of t){const t=this.getSpatialReferenceSupport(r,e);if(null!=t){const e=t.constraints??[{spatialReference:r,viewingMode:null}];for(const{spatialReference:t,viewingMode:r}of e)this.requiresExtentInSpatialReference&&null!=this.userSpatialReference&&!t.equals(this.userSpatialReference)||n.push({spatialReference:t,viewingMode:r})}}return n}_pickExtentCandidate(e){const t=this.spatialReference;return e.find((({extent:e})=>t.equals(e.spatialReference)))||e[0]}_collectLayers(e,t,n=()=>!0){switch(this._loadMaybe(this.map?.())){case"loading":return!0;case"failed":return!1}const r=new uh(n,t);for(const t of e)if(this._collectCollection(t,r),r.done||r.preloading===this.sourcePreloadCount)break;return r.updating}_collectCollection(e,t){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return t.updating=!0,void++t.preloading;case"failed":return}for(const n of e.layers)if(t.layerFilter(n)){switch(this._loadMaybe(n)){case"failed":continue;case"loading":t.updating=!0,++t.preloading;break;case"loaded":if(t.updating||(t.done=t.pushLayer(n)),t.done||t.preloading===this.sourcePreloadCount)break;"layers"in n&&this._collectCollection({layers:n.layers},t)}if(t.done||t.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e&&null!=e.loadStatus?"not-loaded"===e.loadStatus?(e.load().catch((e=>{(0,Ec.zf)(e)})),"loading"):e.loadStatus:"loaded"}};(0,Gl._)([(0,ql.MZ)()],ch.prototype,"required",void 0),(0,Gl._)([(0,ql.MZ)({constructOnly:!0})],ch.prototype,"map",void 0),(0,Gl._)([(0,ql.MZ)({constructOnly:!0})],ch.prototype,"getSpatialReferenceSupport",void 0),(0,Gl._)([(0,ql.MZ)()],ch.prototype,"defaultSpatialReference",void 0),(0,Gl._)([(0,ql.MZ)()],ch.prototype,"userSpatialReference",void 0),(0,Gl._)([(0,ql.MZ)()],ch.prototype,"sourcePreloadCount",void 0),(0,Gl._)([(0,ql.MZ)()],ch.prototype,"priorityCollection",void 0),(0,Gl._)([(0,ql.MZ)()],ch.prototype,"requiresExtentInSpatialReference",void 0),(0,Gl._)([(0,ql.MZ)()],ch.prototype,"suspended",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ch.prototype,"ready",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ch.prototype,"heightModelInfoReady",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ch.prototype,"spatialReference",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ch.prototype,"extent",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ch.prototype,"heightModelInfo",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ch.prototype,"vcsWkid",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ch.prototype,"latestVcsWkid",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ch.prototype,"viewingMode",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ch.prototype,"tileInfo",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ch.prototype,"mapCollections",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ch.prototype,"_spatialReferenceTask",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ch.prototype,"_tileInfoTask",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ch.prototype,"_heightModelInfoTask",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ch.prototype,"_extentCandidatesTask",null),(0,Gl._)([(0,ql.MZ)()],ch.prototype,"_extentTask",null),(0,Gl._)([(0,ql.MZ)()],ch.prototype,"_projectExtentTask",void 0),ch=(0,Gl._)([(0,Jl.$)("esri.views.support.DefaultsFromMap")],ch);class uh{constructor(e,t){this.layerFilter=e,this.pushLayer=t,this.preloading=-1,this.updating=!1,this.done=!1}}function dh(e,t){return null!=e?null!=t?e===t&&e:e:t}var hh=s(44212),ph=s(45449);class fh{constructor(e,t,n){this.layer=e,this.view=t,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=(0,Ec.Tw)(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,(0,Ec.u7)(this._controller.signal,(()=>{this._recycleController?.abort();const t=new Ql.A("cancelled:layerview-create","layerview creation cancelled",{layer:e});this._deferred.reject(t)}))}tryRecycle(e){if(!this.done||!this.layerView||!function(e){return"tryRecycleWith"in e}(this.layerView))return null;this._recycleController?.abort(),this._recycleController=new AbortController;const t=this.layer.type,n=this._recycleController.signal;for(let r=0;r<e.length;r++){const i=e[r];if(i.type!==t)continue;const o=this.layerView.tryRecycleWith(i,{signal:n});if(o){e.splice(r,1),this.layer=i;const t=this.layerView,s=t.view;return this.promise=o.then((()=>((0,Ec.Te)(n),i.emit("layerview-destroy",{view:s,layerView:t}),s.emit("layerview-destroy",{view:s,layerView:t}),i.emit("layerview-create",{view:s,layerView:t}),s.emit("layerview-create",{view:s,layerView:t}),t))),this.promise}}return null}destroy(){this._controller.abort();const{layerView:e}=this;if(e){const{layer:t,view:n}=this;t.emit("layerview-destroy",{view:n,layerView:e}),n.emit("layerview-destroy",{layer:t,layerView:e})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){const{view:e}=this;if(this._started||!e.map)return;this._started=!0;const{_controller:{signal:t},layer:n}=this;this._map=e.map;try{let r,i;if(await n.load({signal:t}),n.prefetchResources&&await n.prefetchResources({signal:t}),function(e){return e.createLayerView!==ph.A.prototype.createLayerView}(n))r=await n.createLayerView(e,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(n))throw new Ql.A("layer:view-not-supported","No layerview implementation was found");const i=await this.layerViewImporter.importLayerView(n);(0,Ec.Te)(t),r="default"in i?new i.default({layer:n,view:e}):new i({layer:n,view:e})}const o=()=>{i=(0,ec.xt)(i),r.destroyed||r.destroy(),r.layer=null,r.parent=null,r.view=null,this.done=!0};i=(0,Ec.u7)(t,o),(0,Ec.Te)(t);try{await r.when()}catch(e){throw o(),e}const s=this._map?.allLayers?.includes(n);if(!s)return o(),void this._deferred.reject(new Ql.A("view:no-layerview-for-layer","The layer has been removed from the map",{layer:n}));this.layerView=r,n.emit("layerview-create",{view:e,layerView:r}),e.emit("layerview-create",{layer:n,layerView:r}),this.done=!0,this._deferred.resolve(r)}catch(t){n.emit("layerview-create-error",{view:e,error:t}),e.emit("layerview-create-error",{layer:n,error:t}),this.done=!0,this._deferred.reject(new Ql.A("layerview:create-error","layerview creation failed",{layer:n,error:t}))}}}function mh(e){return null!=e&&"object"==typeof e&&"layerViews"in e}let yh=class extends gc.A{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new vc.U,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const e=this.view.map?.allLayers;if(e)for(const t of e)!1!==this.layerViewFilter?.(t)&&this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t)},this._reschedule=()=>this.destroyed?Promise.reject():(null==this._workPromise&&(this._workPromise=(0,Ec.Tw)(),this._workPromise.promise.catch((()=>{}))),this.removeHandles("reschedule"),this.addHandles((0,yc._)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{const e=this.view.map;if(this.destroyed||!e)return void this.clear();if(this._map!==e&&(this.clear(),this._map=e),null==this._workPromise)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const t=new Set,n=[],r=this.view.ready,i=e=>{if(null!=e)for(const o of e)if(o){if(!1===this.layerViewFilter?.(o))continue;t.add(o);const e=this._layerLayerViewInfoMap.get(o);e&&r?e.start():e||this._recyclingInfoMap.has(o)||n.push(o),"layers"in o&&o.layers&&i(o.layers)}};for(const e of this._rootCollectionNames)i((0,hh.Jt)(this,e));const o=new Array,s=e=>{const t=e.tryRecycle(n);t?(this._recyclingInfoMap.set(e.layer,e),this.notifyChange("updating"),t.then((()=>{this._recyclingInfoMap.delete(e.layer),this._layerLayerViewInfoMap.set(e.layer,e),this._reschedule(),this.notifyChange("updating")})).catch((t=>{(0,Ec.zf)(t)||(this._recyclingInfoMap.delete(e.layer),e.destroy(),this._reschedule(),this.notifyChange("updating"))}))):o.push(e)};for(const e of this._layerLayerViewInfoMap.values())t.has(e.layer)||(this._layerLayerViewInfoMap.delete(e.layer),s(e));for(const e of this._recyclingInfoMap.values())t.has(e.layer)||(this._recyclingInfoMap.delete(e.layer),s(e));for(const e of n)this._createLayerView(e);this._refreshCollections(),o.forEach((e=>e.destroy()));const a=[e?.ground?.layers,e?.basemap?.baseLayers,e?.basemap?.referenceLayers,e?.layers].filter((e=>!!e));t.forEach((e=>"layers"in e&&a.push(e.layers))),this.addHandles(a.map((e=>this._watchUpdatingTracking.addOnCollectionChange((()=>e),this._reschedule))),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([(0,tc.on)((()=>this.view?.map?.allLayers),"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),(0,tc.wB)((()=>{const e=this.view,t=e?.map;return[t?.basemap,t?.ground,t?.layers,e?.ready]}),(()=>this._reschedule()),tc.pc)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),(0,wu.X)(this._recyclingInfoMap),(0,wu.X)(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,null!=this._workPromise&&(this._workPromise.reject((0,Ec.NK)()),this._workPromise=null)}get _layersToLayerViews(){const e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||(0,$u.Bs)(this._layerLayerViewInfoMap,(e=>!e.done))||this._recyclingInfoMap.size>0}get updatingRemaining(){let e=0;for(const t of this._layerLayerViewInfoMap.values())t.done||++e;return e}clear(){this.destroyed||(this._clearCollections(),(0,wu.X)(this._layerLayerViewInfoMap))}async whenLayerView(e){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(e)){if(this._recyclingInfoMap.has(e))return this._recyclingInfoMap.get(e).promise;throw new Ql.A("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e})}return this._layerLayerViewInfoMap.get(e).promise}isCreatingLayerViewsForLayer(e,t){this.commitProperty("updatingRemaining");const n=this._layerLayerViewInfoMap.get(e);if(!n?.done)return!0;const r=n.layerView;return!(!r||!t||r.parent===t)||!!(n.done&&r&&"layers"in e&&e.layers?.length)&&e.layers.some((e=>this.isCreatingLayerViewsForLayer(e,r)))}_refreshCollections(){for(const[e,t]of this._layersToLayerViews)this._populateLayerViewsOwners((0,hh.Jt)(this,e),(0,hh.Jt)(this,t),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_clearCollections(){for(const e of this._layersToLayerViews.values())(0,hh.Jt)(this,e)?.removeAll()}_populateLayerViewsOwners(e,t,n){if(!e||!t)return void t?.removeAll();let r=0;for(const i of e){const e=this._layerLayerViewInfoMap.get(i);if(!e?.layerView)continue;const o=e.layerView;o.layer=i,o.parent=n,t.at(r)!==o&&t.splice(r,0,o),"layers"in i&&mh(o)&&this._populateLayerViewsOwners(i.layers,o.layerViews,o),r+=1}r<t.length&&t.splice(r)}_createLayerView(e){e.load().catch((()=>{})),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const t=new fh(e,this.view,this.layerViewImporter);t.promise.then((()=>this._refreshCollections()),(t=>{t&&((0,Ec.zf)(t)||"cancelled:layerview-create"===t.name)||Wl.A.getLogger(this).error(`Failed to create layerview for layer title:'${e.title??"no title"}', id:'${e.id??"no id"}' of type '${e.type}'.`,{layer:e,error:t}),this._refreshCollections()})),this._layerLayerViewInfoMap.set(e,t),this.view.ready&&t.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};(0,Gl._)([(0,ql.MZ)()],yh.prototype,"_workPromise",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],yh.prototype,"_watchUpdatingTracking",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],yh.prototype,"_layersToLayerViews",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],yh.prototype,"_rootCollectionNames",null),(0,Gl._)([(0,ql.MZ)({constructOnly:!0})],yh.prototype,"layerViewFilter",void 0),(0,Gl._)([(0,ql.MZ)()],yh.prototype,"layerViewImporter",void 0),(0,Gl._)([(0,ql.MZ)()],yh.prototype,"supportsGround",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],yh.prototype,"updating",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],yh.prototype,"updatingRemaining",null),(0,Gl._)([(0,ql.MZ)({constructOnly:!0})],yh.prototype,"view",void 0),yh=(0,Gl._)([(0,Jl.$)("esri.views.support.LayerViewManager")],yh);const gh=yh;let vh=class extends gc.A{constructor(e){super(e),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};(0,Gl._)([(0,ql.MZ)()],vh.prototype,"featureTitleFields",void 0),(0,Gl._)([(0,ql.MZ)()],vh.prototype,"utilityNetworkFields",void 0),(0,Gl._)([(0,ql.MZ)()],vh.prototype,"globalIdField",void 0),vh=(0,Gl._)([(0,Jl.$)("esri.views.support.RequiredFieldsOptions")],vh);const bh=vh;var wh;let _h=class extends(tu.A.EventedMixin(Iu.A.EsriPromiseMixin(gc.A))){static{wh=this}constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new Tu.A,this.updatingHandles=new vc.U,this.allLayerViews=new Xl.A({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:Mh}),this.analyses=new Ou,this.basemapView=null,this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new Nu.Y,this.groundView=null,this.typeSpecificPreconditionsReady=!0,this.layerViews=new Yl.A,this.magnifier=new Vu,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.supportsGround=!0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new Kd,this.navigation=new oh,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new ud(this),this.persistableViewModels=new Yl.A,this.requiredFieldsOptions=new bh,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add((0,tc.wB)((()=>this.preconditionsReady),(e=>{const t=this.ready;if(e?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,wh.views.add(this)):(this._lockedSpatialReference=null,wh.views.remove(this)),this.notifyChange("spatialReference"),!e&&t)this.toolViewManager?.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown();else if(e&&!t){try{this._startup()}catch(e){return void queueMicrotask((()=>{this.fatalError=new Ql.A("view:startup-error","View._startup failed",e)}))}null!=this.analysisViewManager&&this.analysisViewManager.attach(),this.toolViewManager.attach()}}),tc.OH))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then((()=>(this._isValid=!0,(0,tc.C_)((()=>this.ready)))))),this.basemapView=new Zu({view:this}),this.layerViewManager=new gh({view:this,layerViewFilter:e=>this.layerViewFilter?.(e)??!0,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new Ud({view:this}),this.selectionManager=new td({view:this}),this.addHandles([(0,tc.z7)((()=>"map-content-error"===this.readyState&&!this.spatialReference),(()=>{Wl.A.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")})),(0,tc.wB)((()=>this.initialExtentRequired),(e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e}),tc.pc),(0,tc.wB)((()=>this.ready),(e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)}),tc.OH),(0,tc.wB)((()=>this._userSpatialReference),(e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)}),tc.pc)])}destroy(){this.destroyed||(wh.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,ec.pR)(this.graphics),this.analyses=(0,ec.pR)(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),(0,ec.pR)(this.analysisViewManager),this.toolViewManager=(0,ec.pR)(this.toolViewManager),this.layerViewManager=(0,ec.pR)(this.layerViewManager),this.selectionManager=(0,ec.pR)(this.selectionManager),this.basemapView=(0,ec.pR)(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach((e=>e.destroy())),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=(0,ec.pR)(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return Wl.A.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new ch({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,t)=>this.getSpatialReferenceSupport(e,t),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??new(Yl.A.ofType(Vd.A))([new Vd.A({name:zd.Tv}),new Vd.A({name:zd.n4,color:zd.lH})])}set highlights(e){this._set("highlights",(0,Zc.V)(e,this._get("highlights"),Yl.A.ofType(Vd.A)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!this.destroying&&!this.destroyed&&!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Bc.A.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e?.destroyed&&(Wl.A.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),Bc.A.isLoadable(e)&&e.load().catch((()=>{})),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get readyState(){if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if(this.defaultsFromMap?.ready&&!this.spatialReference){const e=!("loaded"in this.map)||this.map.loaded,t=this.map.ground.loaded,n=this.map.basemap?.loaded??!0;return e&&n&&t&&!this.map?.allLayers.length?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=(0,Cc.UT)((e=>(0,Ec.Pl)((0,Hl.A)("view-readyState-waiting-delay"),null,e))),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),this._readyStateWaitingTask?.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=(0,ec.DC)(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&this.defaultsFromMap?.required?.heightModelInfo){const t=e.clone();return t.vcsWkid=this.defaultsFromMap.vcsWkid,t.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,t}return e}set spatialReference(e){const t=!(0,Ru.aI)(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??Lu.qU}set timeZone(e){this._userTimeZone=e,(0,Fu.wr)(e)||Wl.A.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new rd}whenLayerView(e){return this.layerViewManager?.whenLayerView(e)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(e){throw new Ql.A("view:importLayerView-missing","importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return null!=this.getSpatialReferenceSupport(e)}when(e,t){return this.isResolved()&&!this.ready&&Wl.A.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&((0,tc.z7)((()=>this.destroyed||!1===this.preconditionsReady),(()=>this._readyCycleForced=!1),{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}static{this.views=new Yl.A}};(0,Gl._)([(0,ql.MZ)()],_h.prototype,"_userSpatialReference",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"activeTool",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"allLayerViews",void 0),(0,Gl._)([(0,ql.MZ)((0,Cu.C)(Ou,"analyses"))],_h.prototype,"analyses",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"animation",null),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"basemapView",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"center",null),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"defaultsFromMapSettings",null),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"defaultsFromMap",null),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"displayFilterEnabled",void 0),(0,Gl._)([(0,ql.MZ)({type:Eu.A})],_h.prototype,"extent",null),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"fatalError",void 0),(0,Gl._)([(0,ql.MZ)((0,Cu.C)(Nu.Y,"graphics"))],_h.prototype,"graphics",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"groundView",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0,type:ku.A})],_h.prototype,"heightModelInfo",null),(0,Gl._)([(0,ql.MZ)({type:Yl.A.ofType(Vd.A)})],_h.prototype,"highlights",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"interacting",null),(0,Gl._)([(0,ql.MZ)({constructOnly:!0})],_h.prototype,"layerViewFilter",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"navigating",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],_h.prototype,"preconditionsReady",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"typeSpecificPreconditionsReady",void 0),(0,Gl._)([(0,ql.MZ)({type:Yl.A,readOnly:!0})],_h.prototype,"layerViews",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"resolution",null),(0,Gl._)([(0,ql.MZ)({type:Vu})],_h.prototype,"magnifier",void 0),(0,Gl._)([(0,ql.MZ)({value:null,type:Au})],_h.prototype,"map",null),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"padding",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"ready",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"_readyStateWaitingTask",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"readyState",null),(0,Gl._)([(0,ql.MZ)({type:Pu.A})],_h.prototype,"spatialReference",null),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"stationary",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"supportsGround",void 0),(0,Gl._)([(0,ql.MZ)({type:Du.T})],_h.prototype,"timeExtent",null),(0,Gl._)([(0,ql.MZ)({type:String,nonNullable:!0})],_h.prototype,"timeZone",null),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"tools",null),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"toolViewManager",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"type",void 0),(0,Gl._)([(0,ql.MZ)({type:Number})],_h.prototype,"scale",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"updating",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"initialExtentRequired",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"initialExtent",null),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"cursor",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"input",void 0),(0,Gl._)([(0,ql.MZ)({type:oh,nonNullable:!0})],_h.prototype,"navigation",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"layerViewManager",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"analysisViewManager",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"selectionManager",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"width",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"height",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"resizing",void 0),(0,Gl._)([(0,ql.MZ)({value:null,readOnly:!0})],_h.prototype,"size",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"suspended",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"viewEvents",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],_h.prototype,"persistableViewModels",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"_isValid",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"_readyCycleForced",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"_lockedSpatialReference",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"_userTimeZone",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"_lockedTimeZone",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"_userTimeExtent",void 0),(0,Gl._)([(0,ql.MZ)()],_h.prototype,"_lockedTimeExtent",void 0),(0,Gl._)([(0,ql.MZ)({type:rd})],_h.prototype,"theme",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0,type:rd})],_h.prototype,"effectiveTheme",null),_h=wh=(0,Gl._)([(0,Jl.$)("esri.views.View")],_h);const Sh=globalThis.$arcgis;Sh&&!Sh.views&&Object.defineProperty(Sh,"views",{configurable:!1,enumerable:!0,writable:!1,value:_h.views});const xh=_h;function Mh(e){return e.layerViews}var Ah=s(53334),Th=s(56560),Ih=s(86757),Ch=s(78115),Eh=s(94464),kh=s(68749),Ph=s(92374),Rh=s(82541),Oh=s(93446),Nh=s(14571);function Lh(e){return function(e){return e instanceof Float32Array&&e.length>=2}(e)||function(e){return Array.isArray(e)&&e.length>=2}(e)}var Dh,Fh=s(1912),jh=s(87249);const Zh=[0,0];let Uh=Dh=class extends zc.A{constructor(e){super(e),this._viewpoint2D={center:(0,Th.vt)(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new Eu.A,this.id=0,this.inverseTransform=(0,Ph.vt)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,Ph.vt)(),this.transformNoRotation=(0,Ph.vt)(),this.displayMat3=(0,Oh.vt)(),this.displayViewMat3=(0,Oh.vt)(),this.viewMat3=(0,Oh.vt)(),this.viewMat2d=(0,kh.vt)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,n=e.targetGeometry;t.center[0]=n.x,t.center[1]=n.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=n.spatialReference}this._update()}get visibleArea(){const[e,t]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,t),this.toMap([0,0],e,t),this.toMap([0,0],e,0)]}copy(e){const t=this.size,n=this.viewpoint;return n&&t?(this.viewpoint=(0,Ih.C)(n,e.viewpoint),this._set("size",(0,Ah.C)(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new Dh({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,n){return Lh(t)?(0,Ah.l0)(e,t,this.inverseTransform):(Zh[0]=t,Zh[1]=n,(0,Ah.l0)(e,Zh,this.inverseTransform))}toScreen(e,t,n){return Lh(t)?(0,Ah.l0)(e,t,this.transform):(Zh[0]=t,Zh[1]=n,(0,Ah.l0)(e,Zh,this.transform))}toScreenNoRotation(e,t,n){return Lh(t)?(0,Ah.l0)(e,t,this.transformNoRotation):(Zh[0]=t,Zh[1]=n,(0,Ah.l0)(e,Zh,this.transformNoRotation))}wrapMapCoordinate(e,t){(0,Ah.C)(e,t);const[n]=t,[r]=this.center,{extent:i,spatialReference:o}=this;let{xmin:s,xmax:a}=i;if(o.isWrappable){const e=(0,Ih.FT)(o)/2;s=Math.max(s,r-e),a=Math.min(a,r+e)}return(n<s||n>a)&&(e[0]=(0,jh.O7)(n,r,o)),e}getScreenTransform(e,t){const{center:n}=this._viewpoint2D,r=this._get("pixelRatio")||1,i=this._get("size");return(0,Ih.GL)(e,n,i,t,0,r),e}_update(){const{center:e,spatialReference:t,scale:n,rotation:r}=this._viewpoint2D,i=this._get("pixelRatio")||1,o=this._get("size"),s=new Kl.A({targetGeometry:new Fh.A(e[0],e[1],t),scale:n,rotation:r});if(this._set("viewpoint",s),!o||!t||!n)return;this.resolution=(0,Ih.Hn)(s),this.rotation=r,this.scale=n,this.spatialReference=t,(0,Ah.C)(this.center,e);const a=0!==o[0]?2/o[0]:0,l=0!==o[1]?-2/o[1]:0;(0,Rh.hZ)(this.displayMat3,a,0,0,0,l,0,-1,1,1);const c=(0,Rh.D_)(this.viewMat3),u=(0,Nh.fA)(o[0]/2,o[1]/2),d=(0,Nh.fA)(-o[0]/2,-o[1]/2),h=(0,Ch.DF)(r);(0,Rh.Tl)(c,c,u),(0,Rh.e$)(c,c,h),(0,Rh.Tl)(c,c,d),(0,Rh.lw)(this.displayViewMat3,this.displayMat3,c);const p=(0,Eh.kN)(this.viewMat2d,u);return(0,Eh.e$)(p,p,h),(0,Eh.Tl)(p,p,d),(0,Ih.Z7)(this.extent,s,o),(0,Ih.RG)(this.transform,s,o,i),(0,Eh.B8)(this.inverseTransform,this.transform),(0,Ih.cp)(this.transformNoRotation,s,o,i),this.worldScreenWidth=(0,Ih.hV)(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Uh.prototype,"id",void 0),(0,Gl._)([(0,ql.MZ)({value:1,json:{write:!0}})],Uh.prototype,"pixelRatio",null),(0,Gl._)([(0,ql.MZ)({json:{write:!0}})],Uh.prototype,"size",null),(0,Gl._)([(0,ql.MZ)()],Uh.prototype,"spatialReference",void 0),(0,Gl._)([(0,ql.MZ)({type:Kl.A,json:{write:!0}})],Uh.prototype,"viewpoint",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Uh.prototype,"visibleArea",null),Uh=Dh=(0,Gl._)([(0,Jl.$)("esri.views.2d.ViewState")],Uh);const zh=Uh;var Vh,Bh;let $h=Vh=class extends gc.A{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new Vh({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};(0,Gl._)([(0,ql.MZ)()],$h.prototype,"left",void 0),(0,Gl._)([(0,ql.MZ)()],$h.prototype,"top",void 0),(0,Gl._)([(0,ql.MZ)()],$h.prototype,"right",void 0),(0,Gl._)([(0,ql.MZ)()],$h.prototype,"bottom",void 0),$h=Vh=(0,Gl._)([(0,Jl.$)("esri.views.2d.PaddedViewState.Padding")],$h);let Gh=Bh=class extends zh{constructor(...e){super(...e),this.paddedViewState=new zh,this._updateContent=(()=>{const e=(0,Th.vt)();return()=>{const t=this._get("size"),n=this._get("padding");if(!t||!n)return;const r=this.paddedViewState;(0,Ah.hZ)(e,n.left+n.right,n.top+n.bottom),(0,Ah.Re)(e,t,e),(0,Ah.C)(r.size,e);const i=r.viewpoint;i&&(this.viewpoint=i)}})(),this.addHandles((0,tc.wB)((()=>[this.size,this.padding]),(()=>this._updateContent()),tc.OH)),this.padding=new $h,this.size=[0,0]}set padding(e){this._set("padding",e||new $h)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;let t=e;const n=this._get("padding");n&&(t=(0,Ih.nr)(e.clone(),e,this._get("size"),n));const{targetGeometry:r,rotation:i,scale:o}=t,{x:s,y:a,spatialReference:l}=r,c=this._viewpoint2D;c.center[0]=s,c.center[1]=a,c.rotation=i,c.scale=o,c.spatialReference=l,this._update()}}clone(){return new Bh({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};(0,Gl._)([(0,ql.MZ)()],Gh.prototype,"paddedViewState",void 0),(0,Gl._)([(0,ql.MZ)({type:$h})],Gh.prototype,"padding",null),(0,Gl._)([(0,ql.MZ)()],Gh.prototype,"viewpoint",null),Gh=Bh=(0,Gl._)([(0,Jl.$)("esri.views.2d.PaddedViewState")],Gh);const qh=Gh;var Hh=s(47273),Wh=s(49437);class Jh{constructor(e){this.view=e,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=(0,Wh.mj)(),this._schedulerHandle=(0,tc.z7)((()=>this._scheduler.updating),(()=>this.requestFrame())),this.stationary=!0,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),null==this.view.animation?.target||(0,Ec.$X)(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=e=>{if(this._updateRequested=!1,this.view?.destroyed)return;const{allLayerViews:t,graphicsView:n,labelManager:r,state:{id:i}}=this.view;t?.forEach(this._updateLayerView,this),null!=r&&(r.lastUpdateId!==i&&(r.viewChange(),r.lastUpdateId=i),r.updateRequested&&r.processUpdate(this._updateParameters)),null!=n&&(n.lastUpdateId!==i&&(n.viewChange(),n.lastUpdateId=i),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore?.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=Hh.M.ANIMATING:this.view.interacting?this._scheduler.state=Hh.M.INTERACTING:this._scheduler.state=Hh.M.IDLE,this._scheduler.frame(e)||this._updateRequested||this._scheduler.state!==Hh.M.IDLE||this._frameTaskHandle?.pause()}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const e=this.view;this.stationary=e.stationary,this._updateParameters={state:e.state,targetState:new qh,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:e.renderingOptions},this._stationaryHandle=(0,tc.wB)((()=>e.stationary),(e=>{this.stationary=e,this.requestFrame()})),this._frameTaskHandle=(0,yc.mg)(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(e){if(!e.attached)return void this.requestUpdate();const t=this.view.state,n=e.lastUpdateId;null!=n&&(this.stationary||e.moving)||(e.moving=!0),n!==t.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=t.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&e.layerViews?.forEach(this._updateLayerView,this)}}var Kh,Yh=s(79083),Xh=s(23377),Qh=s(10805),ep=s(11021);let tp=Kh=class extends(Xh.A.NumericIdentifiableMixin(gc.A)){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(null==this.geometry||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return(0,sc.project)(this.geometry,this.spatialReference)}catch(e){return Wl.A.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(null==this.normalizedGeometry)return e;const n=e.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,Qh.qz)(this.normalizedGeometry,n):(0,Qh.m3)(this.normalizedGeometry,n))return e;const{coordinate:r}=function(e,t){const{spatialReference:n}=t,r=[t.x,t.y];let i,o,s,a;const l=[0,0],c=function(e){switch(e.type){case"extent":return[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]];case"polygon":return e.rings;case"polyline":return e.paths}}(e);for(let e=0;e<c.length;e++){const t=c[e];for(let n=0;n<t.length-1;n++){(0,ep.B1)(l,r,t,n);const c=(0,Ah.Io)(r,l);(null==i||c<i)&&(i=c,o=[...l],s=e,a=n)}}if(null==i||!o||null==s||null==a)throw new Ql.A("nearest-coordinate:failed","Failed to find the nearest coordinate");const[u,d]=o;return{coordinate:new Fh.A({x:u,y:d,spatialReference:n}),distance:i}}(this.normalizedGeometry,n);return r?(e.targetGeometry=r,e):e}clone(){return new Kh({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};var np;(0,Gl._)([(0,ql.MZ)({constructOnly:!0})],tp.prototype,"geometry",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],tp.prototype,"normalizedGeometry",null),(0,Gl._)([(0,ql.MZ)({constructOnly:!0})],tp.prototype,"spatialReference",void 0),tp=Kh=(0,Gl._)([(0,Jl.$)("esri.views.2d.constraints.GeometryConstraint")],tp);let rp=np=class extends(Xh.A.NumericIdentifiableMixin(gc.A)){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t?(this.rotationEnabled||(e.rotation=t.rotation),e):e}clone(){return new np({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,Gl._)([(0,ql.MZ)()],rp.prototype,"enabled",void 0),(0,Gl._)([(0,ql.MZ)()],rp.prototype,"rotationEnabled",void 0),rp=np=(0,Gl._)([(0,Jl.$)("esri.views.2d.constraints.RotationConstraint")],rp);const ip=rp;var op;let sp=op=class extends(Xh.A.NumericIdentifiableMixin(gc.A)){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:n,maxScale:r,minZoom:i,maxZoom:o}=this,s=-1,a=-1,l=!1,c=!1;if(0!==n&&0!==r&&n<r&&([n,r]=[r,n]),!t?.length)return this._set("effectiveMinScale",n),void this._set("effectiveMaxScale",r);t=t.map((e=>e.clone())),t.sort(((e,t)=>t.scale-e.scale)),t.forEach(((e,t)=>e.level=t));for(const i of t)!l&&n>0&&n>=i.scale&&(s=i.level,l=!0),!c&&r>0&&r>=i.scale&&(a=e?e.level:-1,c=!0),e=i;-1===i&&(i=0===n?0:s),-1===o&&(o=0===r?t.length-1:a),i=Math.max(i,0),i=Math.min(i,t.length-1),o=Math.max(o,0),o=Math.min(o,t.length-1),i>o&&([i,o]=[o,i]),n=t[i].scale,r=t[o].scale,t.splice(0,i),t.splice(o-i+1),t.forEach(((e,t)=>{this._lodByScale[e.scale]=e,this._scales[t]=e.scale})),this._set("effectiveLODs",t),this._set("effectiveMinZoom",i),this._set("effectiveMaxZoom",o),this._set("effectiveMinScale",n),this._set("effectiveMaxScale",r)}constrain(e,t){if(t&&e.scale===t.scale)return e;const n=this.effectiveMinScale,r=this.effectiveMaxScale,i=e.targetGeometry,o=t&&t.targetGeometry,s=0!==r&&e.scale<r,a=0!==n&&e.scale>n;if(s||a){const s=a?n:r;if(t&&o){const n=(s-t.scale)/(e.scale-t.scale);i.x=o.x+(i.x-o.x)*n,i.y=o.y+(i.y-o.y)*n}e.scale=s}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),n=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(n>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const n=Math.floor(e),r=Math.ceil(e);return t[n]+(e-n)*(t[r]-t[n])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let n,r;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let i=0;i<t.length-1;i++){if(n=t[i],r=t[i+1],r===e)return i+this.effectiveMinZoom+1;if(n>e&&r<e)return i+this.effectiveMinZoom+1-(e-r)/(n-r)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const n=Math.round(this.scaleToZoom(e));return this.zoomToScale(n+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const n=Math.round(this.scaleToZoom(e));return this.zoomToScale(n-1)}clone(){return new op({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce(((t,n)=>Math.abs(n-e)<=Math.abs(t-e)?n:t),this._scales[0])),this._lodByScale[e].scale}};(0,Gl._)([(0,ql.MZ)({readOnly:!0})],sp.prototype,"effectiveLODs",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],sp.prototype,"effectiveMinZoom",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],sp.prototype,"effectiveMaxZoom",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],sp.prototype,"effectiveMinScale",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],sp.prototype,"effectiveMaxScale",void 0),(0,Gl._)([(0,ql.MZ)()],sp.prototype,"lods",void 0),(0,Gl._)([(0,ql.MZ)()],sp.prototype,"minZoom",void 0),(0,Gl._)([(0,ql.MZ)()],sp.prototype,"maxZoom",void 0),(0,Gl._)([(0,ql.MZ)()],sp.prototype,"minScale",void 0),(0,Gl._)([(0,ql.MZ)()],sp.prototype,"maxScale",void 0),(0,Gl._)([(0,ql.MZ)()],sp.prototype,"snapToZoom",void 0),sp=op=(0,Gl._)([(0,Jl.$)("esri.views.2d.constraints.ZoomConstraint")],sp);const ap=sp,lp={base:null,key:"type",typeMap:{extent:Eu.A,polygon:oc.A}};let cp=class extends gc.A{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new Yl.A}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){const e=this._get("_geometry");return e&&this.geometry===e.geometry&&this.view?.constraintsInfo.spatialReference===e.spatialReference?e:new tp({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new ip({rotationEnabled:this.rotationEnabled})}get _zoom(){const e=this._get("_zoom"),t=this.lods||this.view?.constraintsInfo.lods,n=this.minZoom,r=this.maxZoom,i=this.minScale,o=this.maxScale,s=this.snapToZoom;return e&&e.lods===t&&e.minZoom===n&&e.maxZoom===r&&e.minScale===i&&e.maxScale===o&&e.snapToZoom===s?e:new ap({lods:t,minZoom:n,maxZoom:r,minScale:i,maxScale:o,snapToZoom:s})}canZoomInTo(e){const t=this.effectiveMaxScale;return 0===t||e>=t}canZoomOutTo(e){const t=this.effectiveMinScale;return 0===t||e<=t}constrain(e,t){return this._zoom.constrain(e,t),this._rotation.constrain(e,t),this._geometry.constrain(e,t),this.customConstraints.forEach((n=>n.constrain(e,t))),e}constrainByGeometry(e){return this._geometry.constrain(e),this.customConstraints.forEach((t=>t.applyPanConstraint?.(e))),e}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};(0,Gl._)([(0,ql.MZ)({readOnly:!0})],cp.prototype,"effectiveLODs",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],cp.prototype,"effectiveMinScale",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],cp.prototype,"effectiveMaxScale",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],cp.prototype,"effectiveMinZoom",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],cp.prototype,"effectiveMaxZoom",null),(0,Gl._)([(0,ql.MZ)({types:lp,value:null})],cp.prototype,"geometry",null),(0,Gl._)([(0,ql.MZ)({type:[Yh.A]})],cp.prototype,"lods",void 0),(0,Gl._)([(0,ql.MZ)()],cp.prototype,"minScale",void 0),(0,Gl._)([(0,ql.MZ)()],cp.prototype,"maxScale",void 0),(0,Gl._)([(0,ql.MZ)()],cp.prototype,"minZoom",void 0),(0,Gl._)([(0,ql.MZ)()],cp.prototype,"maxZoom",void 0),(0,Gl._)([(0,ql.MZ)()],cp.prototype,"rotationEnabled",void 0),(0,Gl._)([(0,ql.MZ)()],cp.prototype,"snapToZoom",void 0),(0,Gl._)([(0,ql.MZ)({type:Yl.A})],cp.prototype,"customConstraints",void 0),(0,Gl._)([(0,ql.MZ)()],cp.prototype,"view",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],cp.prototype,"version",null),(0,Gl._)([(0,ql.MZ)({type:tp,readOnly:!0})],cp.prototype,"_geometry",null),(0,Gl._)([(0,ql.MZ)({type:ip})],cp.prototype,"_rotation",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0,type:ap})],cp.prototype,"_zoom",null),cp=(0,Gl._)([(0,Jl.$)("esri.views.2d.MapViewConstraints")],cp);const up=cp;var dp=s(97629),hp=s(89349);let pp=class extends gc.A{constructor(e){super(e),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([(0,tc.wB)((()=>this.constraints?.version),(e=>{this.constraints&&e&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))}),tc.OH)])}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:t}=this.state.paddedViewState;return this.state.commitProperty("id"),new Fh.A({x:e[0],y:e[1],spatialReference:t})}set center(e){if(null==e)return;if(!this.ready)return void this._set("center",e);let t;try{t=this._project(e,this.state.spatialReference)}catch(t){return void Wl.A.getLogger(this).error(new Ql.A("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:t}))}const n=this.viewpoint;(0,Ih.Ji)(n,n,t),this.viewpoint=n}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(e){if(null==e)return;if(!e.width||!e.height)return void Wl.A.getLogger(this).error(new Ql.A("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let t;try{t=this._project(e,this.state.spatialReference)}catch(e){return void Wl.A.getLogger(this).error(new Ql.A("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:e}))}const n=this.viewpoint;(0,Ih.b)(n,n,t,this.state.size,{constraints:this.constraints}),this.viewpoint=n}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const t=this.viewpoint;(0,Ih.$0)(t,t,e),this.viewpoint=t}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",void 0);const t=this._get("extent");return void(t&&(this._set("extent",void 0),this._set("center",t.center)))}const t=this.viewpoint;(0,Ih.UR)(t,t,e),this.viewpoint=t}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(e){if(null==e)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let t,n;try{t=this._project(e,this.state.spatialReference),!e.scale||isNaN(e.scale)?n=new Ql.A("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):null==e.targetGeometry&&(n=new Ql.A("mapview:invalid-viewpoint","geometry not defined"))}catch(e){n=new Ql.A("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:e})}if(n)return void Wl.A.getLogger(this).error(n);this._scaleBeforeChangingSpatialReference=null;const r=new Kl.A({targetGeometry:new Fh.A,scale:0,rotation:0});(0,Ih.C)(r,t),this.constraints?.constrain(r,this.state.paddedViewState.viewpoint),this.state.viewpoint=r,this._set("viewpoint",r)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(e){if(!(e>=0))return;if(!this.ready){this._set("zoom",e),this._set("scale",void 0);const t=this._get("extent");return void(t&&(this._set("extent",void 0),this._set("center",t.center)))}const t=this.constraints?.zoomToScale(e)??0;if(!t)return void this._set("zoom",-1);const n=this.viewpoint;(0,Ih.UR)(n,n,t),this.viewpoint=n,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(e){if(!e[0]&&!e[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:t,constraints:n}=this,r=this._get("center"),i=this._get("extent"),o=this._get("scale"),s=this._get("rotation"),a=this._get("viewpoint"),l=this._get("zoom"),c=null!=l&&null!=n&&n.zoomToScale(l)||void 0;let u,d,h;const p=a?.rotation,f=a?.targetGeometry;"extent"===f?.type?u=f:"point"===f?.type&&(d=f,h=a?.scale);const m=i??u;return{center:r??d??m?.center,rotation:s??p,scale:(o??c??h??(m&&(0,Ih.AU)(m,[e[0]-t.left-t.right,e[1]-t.top-t.bottom])))||void 0}}startup(e,t,n,r){const i=e.targetGeometry;try{this._project(e,n)}catch(t){Wl.A.getLogger(this).warn(new dp.A("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:i.toJSON(),spatialReference:n,error:t})),e.targetGeometry=r||new Fh.A({x:0,y:0,spatialReference:n})}this.constraints?.fit(e),this._set("state",new qh({padding:this.padding,size:t,viewpoint:e})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[e,t],spatialReference:n,rotation:r,scale:i}=this.state.paddedViewState,o=new Fh.A({x:e,y:t,spatialReference:n});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",r),this._set("scale",i),this._set("state",null)}changeSpatialReference(e){const t=this.state.paddedViewState.clone();if(null==this._scaleBeforeChangingSpatialReference)this._scaleBeforeChangingSpatialReference=t.scale;else{const e=t.viewpoint.clone();e.scale=this._scaleBeforeChangingSpatialReference,t.viewpoint=e}const n=t.clone(),[r,i]=t.center;let o=null;try{o=this._project(new Fh.A({x:r,y:i,spatialReference:t.spatialReference}),e)}catch(t){(0,hp.i)()||Wl.A.getLogger(this).warn(new dp.A("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o?.toJSON(),spatialReference:e,error:t}))}o||(o=new Fh.A({x:0,y:0,spatialReference:e}));const s=(0,Ih.Ji)(new Kl.A({targetGeometry:new Fh.A,scale:0,rotation:0}),t.viewpoint,o);n.viewpoint=s;try{const r=20,i=[t.size[0]/2,t.size[1]/2],o=[i[0]+r,i[1]],a=t.toMap([0,0],o),{x:l,y:c}=this._project(new Fh.A({x:a[0],y:a[1],spatialReference:t.spatialReference}),e);a[0]=l,a[1]=c,n.toScreen(a,a);const u=(0,Ih.s5)(i,a,o),d=Math.hypot(a[0]-i[0],a[1]-i[1])/r;!Number.isFinite(d)||Math.abs(d)>4?(s.rotation=0,s.targetGeometry=new Fh.A({x:0,y:0,spatialReference:e})):(s.scale*=d,s.scale>(0,Hl.A)("mapview-srswitch-adjust-rotation-scale-threshold")?s.rotation=0:s.rotation+=Number.isFinite(u)?u:0)}catch{}this._get("constraints")?.constrain(s,void 0),this._get("state").viewpoint=s}resize(e,t){if(!this.ready)return;const n=this.state;let r=this.state.paddedViewState.viewpoint;const i=this.state.paddedViewState.size.slice();n.size=[e,t],(0,Ih.XR)(r,r,i,this.state.paddedViewState.size,this.resizeAlign),r=this.constraints?.constrain(r,void 0)??r,this.state.viewpoint=r}toMap(e){if(!this.ready)return null;const[t,n]=this.state.toMap([0,0],[e.x,e.y]),r=this.state.spatialReference;return new Fh.A({x:t,y:n,spatialReference:r})}toScreen(e,t){if(!this.ready)return null;const n=this._project(e,this.state.spatialReference),r=[n.x,n.y];return!1===t?.pickClosestTarget||this.state.paddedViewState.wrapMapCoordinate(r,r),this.state.toScreen(r,r),(0,Uu.tc)(r[0],r[1])}_project(e,t){const n=e?.targetGeometry||e;if(!t)return e;if(!n)return null;if(t.imageCoordinateSystem||n.spatialReference?.imageCoordinateSystem)return e;if((0,Ru.aI)(t,n.spatialReference))return e;const r=(0,sc.project)(n,t);if(!r)throw new Ql.A("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:n,spatialReference:t});return function(e){return"esri.Viewpoint"===e?.declaredClass}(e)?(e.targetGeometry=r,e):r}};(0,Gl._)([(0,ql.MZ)({type:Fh.A})],pp.prototype,"center",null),(0,Gl._)([(0,ql.MZ)()],pp.prototype,"constraints",void 0),(0,Gl._)([(0,ql.MZ)({type:Eu.A})],pp.prototype,"extent",null),(0,Gl._)([(0,ql.MZ)({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],pp.prototype,"padding",null),(0,Gl._)([(0,ql.MZ)()],pp.prototype,"ready",void 0),(0,Gl._)([(0,ql.MZ)()],pp.prototype,"resizeAlign",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],pp.prototype,"resolution",null),(0,Gl._)([(0,ql.MZ)({type:Number})],pp.prototype,"rotation",null),(0,Gl._)([(0,ql.MZ)({type:Number})],pp.prototype,"scale",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],pp.prototype,"state",void 0),(0,Gl._)([(0,ql.MZ)({type:Kl.A})],pp.prototype,"viewpoint",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],pp.prototype,"visibleArea",null),(0,Gl._)([(0,ql.MZ)()],pp.prototype,"zoom",null),pp=(0,Gl._)([(0,Jl.$)("esri.views.2d.ViewStateManager")],pp);let fp=class extends gc.A{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),null==this._timer&&(this._timer=setInterval((()=>{performance.now()-this._timestamp>=160&&this.clear()}),160))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};(0,Gl._)([(0,ql.MZ)()],fp.prototype,"_timer",void 0),(0,Gl._)([(0,ql.MZ)()],fp.prototype,"stationary",null),fp=(0,Gl._)([(0,Jl.$)("esri.views.2d.support.StationaryManager")],fp);const mp=e=>{let t=class extends e{constructor(...e){super(...e),this.fullOpacity=1,this.stateManager=new pp({constraints:new up({view:this})}),this.stationaryManager=new fp,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new Jh(this),this.viewEvents=new ud(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([(0,tc.wB)((()=>this.viewpoint),(()=>this.stationaryManager.flip()),tc.OH)])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){return this.stateManager?.extent??null}set extent(e){this.stateManager.extent=e}get state(){return this.stateManager.state}get interacting(){return!1}get stationary(){return!this.animation&&this.stationaryManager.stationary}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),e!==this.animationManager.animation&&this.animationManager.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e);const n=()=>{this.destroyed||e===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame())};e.when(n,n)}get constraints(){return this.stateManager?.constraints}set constraints(e){e.view=this;const t=this.stateManager.constraints;this.stateManager.constraints=e,t?.destroy()}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(e){this.stateManager.resizeAlign=e}get rotation(){return this.stateManager.rotation??0}set rotation(e){const{rotationEnabled:t}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=e,this.constraints.rotationEnabled=t}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(e){this.stateManager.viewpoint=e,this.frameTask.requestFrame()}};return(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"animationManager",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"fullOpacity",void 0),(0,Gl._)([(0,ql.MZ)()],t.prototype,"stateManager",void 0),(0,Gl._)([(0,ql.MZ)()],t.prototype,"constraintsInfo",null),(0,Gl._)([(0,ql.MZ)()],t.prototype,"extent",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"state",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"mapViewNavigation",void 0),(0,Gl._)([(0,ql.MZ)()],t.prototype,"renderingOptions",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"interacting",null),(0,Gl._)([(0,ql.MZ)()],t.prototype,"stationary",null),(0,Gl._)([(0,ql.MZ)()],t.prototype,"animation",null),(0,Gl._)([(0,ql.MZ)({type:up})],t.prototype,"constraints",null),(0,Gl._)([(0,ql.MZ)()],t.prototype,"padding",null),(0,Gl._)([(0,ql.MZ)()],t.prototype,"resizeAlign",null),(0,Gl._)([(0,ql.MZ)()],t.prototype,"rotation",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"viewEvents",void 0),(0,Gl._)([(0,ql.MZ)({type:Kl.A})],t.prototype,"viewpoint",null),t=(0,Gl._)([(0,Jl.$)("esri.views.Viewport2DBaseMixin")],t),t};let yp=class extends Iu.A{constructor(e){super(e),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=(0,Ec.Tw)(),this.addResolvingPromise(this._resolver.promise)}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new Ql.A("view:animation-stopped","ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._resolver?.resolve())}update(e,t){t||(t=(0,Ec.$X)(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",t)}};(0,Gl._)([(0,ql.MZ)({readOnly:!0})],yp.prototype,"done",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0,type:String})],yp.prototype,"state",void 0),(0,Gl._)([(0,ql.MZ)()],yp.prototype,"target",void 0),yp=(0,Gl._)([(0,Jl.$)("esri.views.ViewAnimation")],yp),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(yp||(yp={}));const gp=yp;let vp=class extends gc.A{constructor(e){super(e),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(e,t){if(!e)return void Wl.A.getLogger(this).error("#goTo()","target cannot be null or undefined");const n=new gp;this.view.animation=n,await(0,tc.C_)((()=>this.view.ready),t);const r={...t,animate:t?.animate??!(0,Yd.O)(),animationMode:t?.animationMode??"auto"},{extent:i,spatialReference:o,size:s,viewpoint:a,constraints:l,padding:c,allLayerViews:u}=this.view,d=(0,Ih.vt)(e,{extent:i,spatialReference:o,size:s,viewpoint:a,constraints:l,padding:c,allLayerViews:u,pickClosestTarget:t?.pickClosestTarget??!0});return n?.update(d),this._gotoTask={},r.animate?this._gotoAnimated(d,r):this._gotoImmediate(d,r)}_gotoImmediate(e,t){const n=this._gotoTask,r=this.view.animation,i=e.then((e=>{if((0,Ec.Te)(t),n!==this._gotoTask)throw new Ql.A("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=r.target=e,r.finish()}));return this._cancellableGoTo(n,r,i,t)}_gotoAnimated(e,t){const n=this._gotoTask,r=this.view.animation;if(!r)return Promise.resolve();const i=e.then((e=>{if((0,Ec.Te)(t),n!==this._gotoTask)throw new Ql.A("view:goto-interrupted","Goto was interrupted");return r.update(e),this.view.animationManager.animate(r,this.view.viewpoint,t),r.when().then((()=>{}),(()=>{}))}));return this._cancellableGoTo(n,r,i,t)}_cancellableGoTo(e,t,n,r){const i=()=>e===this._gotoTask;return(0,Ec.qr)(n,r).finally((()=>{i()&&(t.done||t.stop())}))}};function bp(e,t){switch(t){case"primary":return"touch"===e.pointerType||0===e.button;case"secondary":return"touch"!==e.pointerType&&2===e.button;case"tertiary":return"touch"!==e.pointerType&&1===e.button}}function wp(e,t){return t.some((t=>bp(e,t)))}function _p(e,{dragPrimary:t,dragSecondary:n,dragTertiary:r}){return[{key:"primary",value:t},{key:"secondary",value:n},{key:"tertiary",value:r}].filter((t=>t.value===e)).map((e=>e.key))}(0,Gl._)([(0,ql.MZ)({constructOnly:!0})],vp.prototype,"view",void 0),vp=(0,Gl._)([(0,Jl.$)("esri.views.2d.GoToManager")],vp);class Sp extends sd.l{constructor(e,t){super(!0),this._view=e,this.registerIncoming("double-click",t,(e=>this._handleDoubleClick(e,t)))}_handleDoubleClick(e,t){bp(e.data,"primary")&&(e.stopPropagation(),t?this._view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this._view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}}class xp extends sd.l{constructor(e,t,n){super(!0),this.view=e,this.pointerType=t,this.registerIncoming("double-tap-drag",n,(e=>this._handleDoubleTapDrag(e)))}_handleDoubleTapDrag(e){const{data:t}=e,{pointerType:n}=t;if(n!==this.pointerType)return;e.stopPropagation();const{action:r,delta:i}=t,{view:o}=this,{mapViewNavigation:s}=o;switch(r){case"begin":{const{scale:e}=o;this._startScale=e,this._currentScale=e,this._previousDelta=i,s.begin();break}case"update":{if(this._previousDelta.y===i.y)return;this._previousDelta=i;const e=1.015**i.y,t=this._startScale*e,n=t/this._currentScale;s.setViewpointImmediate(n),this._currentScale=t;break}case"end":{const{constraints:e}=o,{effectiveLODs:t,snapToZoom:n}=e;if(!n||!t)return void s.end();const r=e.snapScale(this._currentScale),a=(i.y>0?Math.max(r,e.snapToPreviousScale(this._startScale)):Math.min(r,e.snapToNextScale(this._startScale)))/this._currentScale;s.zoom(a).then((()=>{s.end()}));break}}}}class Mp{constructor(e){this._callbacks=e,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(e){const t=e.data,n=t.pointers.size;switch(t.action){case"start":this._currentCount=n,this._emitStart(e);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(e);break;case"update":this._emitUpdate(e);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(e);break;case"end":this._emitEnd(e),this._currentCount=0}this._previousEvent=e}_emitStart(e){this._startEvent=e,this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.start(this._currentCount,e,this._startEvent)}_emitUpdate(e){this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.update(this._currentCount,e,this._startEvent)}_emitEnd(e){this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.end(this._currentCount,e,this._startEvent),this._startEvent=null}}class Ap extends sd.l{constructor(e,t,n){super(!0),this.view=e,this.pointerActions=t,this.registerIncoming("drag",n,(e=>this._handleDrag(e))),this.registerIncoming("pointer-down",(()=>this.stopMomentumNavigation()))}onInstall(e){super.onInstall(e),this._dragEventSeparator=new Mp({start:(e,t)=>{this.view.mapViewNavigation.pan.begin(this.view,t.data),t.stopPropagation()},update:(e,t)=>{this.view.mapViewNavigation.pan.update(this.view,t.data),t.stopPropagation()},end:(e,t)=>{this.view.mapViewNavigation.pan.end(this.view,t.data),t.stopPropagation()},condition:(e,t)=>1===e&&wp(t.data,this.pointerActions)})}_handleDrag(e){const t=this.view.mapViewNavigation;t.pinch.zoomMomentum||t.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(e)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class Tp extends sd.l{constructor(e,t,n){super(!0),this._view=e,this.pointerActions=t;const r=this._view.mapViewNavigation;this._dragEventSeparator=new Mp({start:(e,t)=>{r.rotate.begin(this._view,t.data),t.stopPropagation()},update:(e,t)=>{r.rotate.update(this._view,t.data),t.stopPropagation()},end:(e,t)=>{r.rotate.end(),t.stopPropagation()},condition:(e,t)=>1===e&&wp(t.data,this.pointerActions)}),this.registerIncoming("drag",n,(e=>this._dragEventSeparator.handle(e)))}}var Ip=s(80347);function Cp(e){let t=e*e;return e<0&&(t*=-1),t}class Ep extends sd.l{constructor(e){super(!0),this._view=e,this._frameTask=null,this._watchHandles=new Tu.A,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",(e=>this._handleGamePadEvent(e))),this._handle.pause()}onInstall(e){super.onInstall(e),this._watchHandles.add([(0,tc.wB)((()=>this._view.navigation.gamepad?.enabled),(e=>{e?(this._handle.resume(),this._frameTask||(this._frameTask=(0,yc.mg)({update:e=>this._frameUpdate(e.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))}),tc.Vh)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(e){const t=this._view.navigation.gamepad.device;t&&e.data.device!==t||this._currentDevice&&this._currentDevice!==e.data.device||("end"===e.data.action?(this._currentDevice=null,function(e){e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0}(this._transformation)):(this._currentDevice=e.data.device,function(e,t,n){const r=n,i=e.state,o=e.device,s="forward-down"===t.tiltDirection?1:-1;"standard"===o.deviceType?(r.translation[0]=Cp(i.axes[0]),r.translation[1]=Cp(i.axes[1]),r.translation[2]=Cp(i.buttons[7])-Cp(i.buttons[6]),r.heading=Cp(i.axes[2]),r.tilt=Cp(i.axes[3])):"spacemouse"===o.deviceType&&(r.translation[0]=1.2*Cp(i.axes[0]),r.translation[1]=1.2*Cp(i.axes[1]),r.translation[2]=2*-Cp(i.axes[2]),r.heading=1.2*Cp(i.axes[5]),r.tilt=1.2*Cp(i.axes[3])),r.tilt*=s,(0,Ip.g)(r.translation,r.translation,1)}(e.data,this._view.navigation.gamepad,this._transformation)),this._frameTask?.resume())}_frameUpdate(e){const t=this._transformation;if(function(e){return 0===e.translation[0]&&0===e.translation[1]&&0===e.translation[2]&&0===e.heading&&0===e.tilt&&0===e.zoom}(t))return void this._frameTask?.pause();const n=this._view.viewpoint.clone(),r=this._view.navigation.gamepad.velocityFactor,i=Pp*r*e;(0,Ih.aA)(n,n,[t.translation[0]*i,-t.translation[1]*i]);const o=1+t.translation[2]*Rp*e,s=this._view.constraints.rotationEnabled?-t.heading*kp*e:0,a=this._view.size,l=[a[0]/2,a[1]];(0,Ih.WK)(n,n,o,s,l,a);const c=this._view.constraints.constrain(n,this._view.viewpoint);this._view.viewpoint=c}}const kp=.06,Pp=.7,Rp=6e-4;function Op(e){const t=()=>e("visible"===document.visibilityState);return document.addEventListener("visibilitychange",t),(0,mc.hA)((()=>document.removeEventListener("visibilitychange",t)))}class Np extends sd.l{constructor(e,t,n){super(!0),this.view=e,this.keys=t,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=e=>{const t=this._keyMap[e.data.key];if(e.modifiers.has("Meta")||e.modifiers.has("Control"))return void this._stopMovement();if(null==t)return;e.stopPropagation(),e.preventDefault();const n="key-down"===e.type;if(this._pressedKeys[n?"add":"delete"](t),n){if(this._direction===t)return;this._direction=t,this._isSticky=!1,this._setTimeout((()=>{this._isSticky&&this._handlePopKey()}))}else{const e=void 0===this._timeout,t=this._pressedKeys.size>0;e||t?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),null==this._direction&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[t.left]:"left",[t.right]:"right",[t.up]:"up",[t.down]:"down"},this.registerIncoming("key-down",n,this._handleKey),this.registerIncoming("key-up",n,this._handleKey),this.registerIncoming("blur",n,this._stopMovement),this._visibilityHandle=Op((e=>e?null:this._stopMovement()))}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(e){const t=null!=this._currentDirection;if(null!=e){if(t||this.view.mapViewNavigation.begin(),this._currentDirection!==e)switch(e){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else t&&this.view.mapViewNavigation.stop();this._currentDirection=e}_setTimeout(e){clearTimeout(this._timeout),this._timeout=void 0===e?void 0:setTimeout((()=>{this._timeout=void 0,e()}),this._stickyKeyDuration)}}class Lp extends sd.l{constructor(e,t,n){super(!0),this.view=e,this.keys=t,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(t),this.registerIncoming("key-down",n,(e=>this._handleKeyDown(e))),this.registerIncoming("key-up",n,(e=>this._handleKeyUp(e))),this.registerIncoming("blur",n,(()=>this._handleStop())),this._visibilityHandle=Op((e=>e?null:this._handleStop()))}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_addKeysMapping(e){this._addKeyMapping(e.clockwise,"clockwise"),this._addKeyMapping(e.counterClockwise,"counterClockwise"),this._addKeyMapping(e.reset,"reset")}_addKeyMapping(e,t){for(const n of e)this._keyToDirection.set(n,t)}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,t){const n=e.modifiers;if(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)return;const r=this._keyToDirection.get(e.data.key);if(this._pressed=null!=r,this._pressed){if(e.preventDefault(),t)switch(this.view.mapViewNavigation.begin(),r){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}}var Dp;!function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"}(Dp||(Dp={}));class Fp extends sd.l{constructor(e,t,n){super(!0),this.view=e,this.keys=t,this._keysToZoomAction={},this.registerIncoming("key-down",n,(e=>this._handleKeyDown(e))),t.zoomIn.forEach((e=>this._keysToZoomAction[e]=Dp.IN)),t.zoomOut.forEach((e=>this._keysToZoomAction[e]=Dp.OUT))}_handleKeyDown(e){this._handleKey(e)}_handleKey(e){const t=e.modifiers;if(t.size>0&&!t.has("Shift"))return;const{key:n}=e.data;if(!(n in this._keysToZoomAction))return;const r=this._keysToZoomAction[n],{mapViewNavigation:i}=this.view;let o=null;switch(r){case Dp.IN:o=i.zoomIn();break;case Dp.OUT:o=i.zoomOut();break;default:return}i.begin(),o.then((()=>i.end())),e.stopPropagation()}}class jp extends sd.l{constructor(e,t){super(!0),this._view=e,this._canZoom=!0,this.registerIncoming("mouse-wheel",t,(e=>this._handleMouseWheel(e)))}_handleMouseWheel(e){if("zoom"!==this._view.navigation.actionMap.mouseWheel)return;if(e.preventDefault(),e.stopPropagation(),!this._canZoom)return;const t=this._view.mapViewNavigation,{x:n,y:r,deltaY:i}=e.data,o=1/.6**(1/60*i),s=t.zoom(o,[n,r]);s&&(this._canZoom=!1,s.catch((()=>{})).then((()=>{this._canZoom=!0,t.end()})))}}class Zp extends sd.l{constructor(e){super(!0),this.view=e,this.registerIncoming("drag",(e=>this._handleDrag(e))),this.registerIncoming("pointer-down",(()=>this._stopMomentumNavigation()));const t=this.view.mapViewNavigation;this._dragEventSeparator=new Mp({start:(e,n)=>{t.pinch.begin(this.view,n.data),n.stopPropagation()},update:(e,n)=>{t.pinch.update(this.view,n.data),n.stopPropagation()},end:(e,n)=>{t.pinch.end(this.view),n.stopPropagation()},condition:e=>e>=2})}_handleDrag(e){this._dragEventSeparator.handle(e)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}function Up(e){const t=e.native;return t?{buttons:t.buttons.map((e=>e.pressed?e.value||1:0)),axes:t.axes.map((t=>function(e,t){const n=Math.abs(e);return n<t?0:Math.sign(e)*(n-t)/(1-t)}(t,e.axisThreshold)))}:{buttons:[],axes:[]}}class zp{constructor(e,t){this._element=e,this._input=t,this._hasEventListeners=!1,this._onConnectGamepad=e=>{this._connectGamepad(e.gamepad)},this._onDisconnectGamepad=e=>{const t=e.gamepad,n=t.index,r=this._inputDevices[n];r&&(this._emitGamepadEvent(t,Up(r),!1),this._inputDevices.splice(n,1),this._latestUpdate.splice(n,1),this._input.gamepad.devices.remove(r),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const n="getGamepads"in window.navigator,r=window.isSecureContext;this.supported=n&&r,this.supported&&(Bp((e=>this._connectGamepad(e))),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(e){this._callback=e}_connectGamepad(e){const t=new $d(e);"unknown"!==t.deviceType&&(this._inputDevices[e.index]=t,this._input.gamepad.devices.add(t)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){null==this._frameTask&&(this._frameTask=(0,yc.mg)({update:()=>this._readGamepadState()}))}_stopPolling(){null!=this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const e=document.hasFocus(),t=this._element.contains(document.activeElement),n="document"===this._input.gamepad.enabledFocusMode&&!e||"view"===this._input.gamepad.enabledFocusMode&&!t;Bp((e=>{const t=this._inputDevices[e.index];if(!t)return;const r=this._latestUpdate[e.index],i=Up(t),o=n||function(e){for(let t=0;t<e.axes.length;t++)if(0!==e.axes[t])return!1;for(let t=0;t<e.buttons.length;t++)if(0!==e.buttons[t])return!1;return!0}(i);if(r){if(r.timestamp===e.timestamp)return;if(!r.active&&o)return;if(function(e,t){if(e.axes.length!==t.axes.length)return!1;if(e.buttons.length!==t.buttons.length)return!1;for(let n=0;n<e.axes.length;n++)if(e.axes[n]!==t.axes[n])return!1;for(let n=0;n<e.buttons.length;n++)if(e.buttons[n]!==t.buttons[n])return!1;return!0}(r.state,i))return}this._emitGamepadEvent(e,i,!o)}))}_emitGamepadEvent(e,t,n){const r=this._latestUpdate[e.index],i=r&&r.active;if(!i&&!n)return;const o=!i&&n?"start":i&&n?"update":"end";this._latestUpdate[e.index]={timestamp:e.timestamp,state:t,active:n},this._callback&&this._callback({device:this._inputDevices[e.index],state:t,action:o})}}function Vp(e){if(!e)return!1;if(!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function Bp(e){for(const t of navigator.getGamepads())Vp(t)&&e(t)}const $p=(0,Hl.A)("edge"),Gp=(0,Hl.A)("chrome"),qp=(0,Hl.A)("ff"),Hp=(0,Hl.A)("safari"),Wp="esri-view-surface",Jp={touchNone:`${Wp}--touch-none`,touchPan:`${Wp}--touch-pan`};class Kp{static{this.test={disableSubpixelCoordinates:!1}}constructor(e,t){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new zp(e,t),this._gamepadSource.onEvent=e=>this._callback("gamepad",e)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach((e=>this._releasePointerCaptureSafe(e))),this._activePointerCaptures.clear(),this._gamepadSource=(0,ec.pR)(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(e){this._callback=e}set activeEvents(e){for(const t in this._active)if(!e||!e.has(t)){const e=this._active[t];this._element.removeEventListener(Yp[t],e),delete this._active[t]}e&&e.forEach((e=>{if(!this._active[e]&&Yp[e]){const t=(this._eventHandlers[e]||this._handleDefault).bind(this,e);this._element.addEventListener(Yp[e],t),this._active[e]=t}})),this._gamepadSource&&(this._gamepadSource.hasEventListeners=e?.has("gamepad")??!1)}setPointerCapture(e,t){t?this._setPointerCaptureSafe(e.pointerId):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Jp.touchNone:Jp.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Jp.touchPan:Jp.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Jp.touchNone),this._element.classList.remove(Jp.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(e){try{this._element.setPointerCapture(e),this._activePointerCaptures.add(e)}catch{}}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch(e){}}_updateNormalizedPointerLikeEvent(e,t){const n=(0,Pd.Uo)(this._element,e);return Kp.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),t.x=n.x,t.y=n.y,t}_handleKey(e,t){const{key:n}=t;n&&"key-up"===e&&this._keyDownState.delete(n);const r={native:t,key:n,repeat:!!n&&this._keyDownState.has(n)};n&&"key-down"===e&&this._keyDownState.add(r.key),this._callback(e,r)}_handlePointer(e,t){const n=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});this._callback(e,n)}_handlePointerPreventDefault(e,t){const n=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});t.preventDefault(),this._callback(e,n)}_getDeltaFromTrackpadOrMouseWheel(e){return e.shiftKey&&(0,Hl.A)("mac")&&0===e.deltaY?e.deltaX:e.deltaY}_handleMouseWheel(e,t){let n=this._getDeltaFromTrackpadOrMouseWheel(t);switch(t.deltaMode){case 0:$p&&(n=n/document.documentElement.clientHeight*600);break;case 1:n*=30;break;case 2:n*=900}$p?n*=.7:Gp||Hp?n*=.6:qp&&(n*=1.375);const r=Math.abs(n);r>100&&(n=n/r*200/(1+Math.exp(-.02*(r-100))));const i=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,deltaY:n});this._callback(e,i)}_handlePointerCaptureLost(e,t){this._activePointerCaptures.delete(t.pointerId),this._handleDefault(e,t)}_handleDefault(e,t){const n={native:t};t.preventDefault(),this._callback(e,n)}_preventAltKeyDefault(e){"Alt"===e.key&&e.preventDefault()}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault()}}const Yp={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class Xp extends sd.l{constructor(){super(!0),this.registerIncoming("context-menu",(e=>e.data.native.preventDefault()))}}const Qp=(e={})=>({maximumClickDelay:300,maximumDoubleClickDistance:10,maximumDoubleTouchDistance:35,maximumDoubleClickDelay:250,maximumDoubleTouchDelay:350,...e});function ef(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function tf(e){const{native:t}=e,{pointerId:n,button:r,pointerType:i}=t;return"mouse"===i?`${n}:${r}`:`${i}`}class nf extends sd.l{constructor(e={},t=id.p){super(!1),this._clock=t,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,Uu.tc)(0,0),this._pointerState=new Map,this._parameters=Qp(e),this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new Mp({start:(e,t)=>this._dragStart(e,t),update:(e,t)=>this._dragUpdate(t),end:(e,t)=>this._dragEnd(t)}),this.registerIncoming("drag",(e=>this._dragEventSeparator.handle(e))),this.registerIncoming("pointer-down",(e=>this._handlePointerDown(e))),this.registerIncoming("pointer-up",(()=>this._handlePointerUp()))}onUninstall(){this._pointerState.forEach((e=>{e.doubleTapTimeout=(0,ec.xt)(e.doubleTapTimeout)}))}get hasPendingInputs(){for(const e of this._pointerState.values())if(null!=e.doubleTapTimeout)return!0;return!1}_clearPointerDown(e){const t=this._pointerState.get(e);t&&(t.doubleTapTimeout=(0,ec.xt)(t.doubleTapTimeout),this._pointerState.delete(e),this.refreshHasPendingInputs())}_dragStart(e,t){if(!this._doubleTapDragReady||1!==e)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:n,modifiers:r}=t,{center:i}=n;this._dragStartCenter=i;const o=rf("begin",(0,Uu.tc)(0,0),n);this._doubleTapDrag.emit(o,void 0,r),t.stopPropagation()}_dragUpdate(e){if(!this._doubleTapDragActive)return;const{data:t,modifiers:n}=e,{center:r}=t,i=rf("update",(0,Uu.tc)(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),t);this._doubleTapDrag.emit(i,void 0,n),e.stopPropagation()}_dragEnd(e){if(!this._doubleTapDragActive)return;const{data:t,modifiers:n}=e,{center:r}=t,i=rf("end",(0,Uu.tc)(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),t);this._doubleTapDrag.emit(i,void 0,n),this._doubleTapDragActive=!1,e.stopPropagation()}_handlePointerDown(e){const{data:t}=e,n=tf(t),r=this._pointerState.get(n),{pointerType:i}=t.native;if(r){const o="touch"===i?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;this._clearPointerDown(n),ef(r.event.data,t)>o?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(e){const{data:t}=e,{pointerType:n}=t.native,r=tf(t),i="touch"===n?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,o=this._clock.setTimeout((()=>this._clearPointerDown(r)),i);this._pointerState.set(r,{event:e,doubleTapTimeout:o}),this.refreshHasPendingInputs()}}function rf(e,t,n){const{button:r,buttons:i,pointer:o,pointers:s,pointerType:a,timestamp:l}=n;return{action:e,delta:t,button:r,buttons:i,pointer:o,pointers:s,pointerType:a,timestamp:l}}var of,sf=s(67900);class af extends sd.l{constructor(e){super(!1),this._navigationTouch=e,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(e,t,n,r){return{action:e,pointerType:this._pointerType,button:this._mouseButton,buttons:t.buttons,timestamp:r,pointers:uf(this._activePointerMap),pointer:t,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(e){const t=e.native.pointerId,n=cf(this._activePointerMap).angle,r={event:e,initialAngle:0,lastAngle:0};this._activePointerMap.set(t,r);const i=df(r,lf(this._activePointerMap));r.initialAngle=i,r.lastAngle=i,this._updatePointerAngles(n)}_updatePointer(e){if(e&&null==e.x&&null==e.y)return;const t=e.native.pointerId,n=this._activePointerMap.get(t);n?n.event=e:this._addPointer(e)}_removePointer(e){const t=cf(this._activePointerMap).angle;this._activePointerMap.delete(e),this._updatePointerAngles(t)}_updatePointerAngles(e){const t=cf(this._activePointerMap);this._activePointerMap.forEach((n=>{n.initialAngle=df(n,t)-e,n.lastAngle=df(n,t)-e}))}_emitEvent(e,t,n){const r=cf(this._activePointerMap);this._drag.emit(this._createPayload(e,t,r,n),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(e){const t=e.data.native.pointerId,n=(0,sf.l5)(e.timestamp);this._activePointerMap.get(t)&&(1===this._activePointerMap.size?(this._updatePointer(e.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",e.data,n),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(t)):(this._removePointer(t),this._emitEvent("removed",e.data,(0,sf.l5)(e.timestamp))))}_handlePointerDrag(e){const t=e.data,n=t.currentEvent,r=(0,sf.l5)(e.timestamp);switch(t.action){case"start":case"update":this._isDragging?this._activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this._isCurrentDragSuppressed&&this._emitEvent("update",n,r)):(this._addPointer(n),this._emitEvent("added",n,r),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(n),this._pointerType=e.data.startEvent.pointerType,this._mouseButton=e.data.startEvent.button,this._startStateModifiers=e.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",n,r))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&"touch"===this._pointerType&&1===this._activePointerMap.size}}function lf(e){const t=[];return e.forEach((e=>{t.push((0,Uu.tc)(e.event.x,e.event.y))})),function(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:(0,Uu.tc)()},0===e.length)return t;if(1===e.length)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(2===e.length){const[n,r]=e,[i,o]=[r.x-n.x,r.y-n.y];return t.radius=Math.sqrt(i*i+o*o)/2,t.center.x=(n.x+r.x)/2,t.center.y=(n.y+r.y)/2,t}let n=0,r=0;for(let t=0;t<e.length;t++)n+=e[t].x,r+=e[t].y;n/=e.length,r/=e.length;const i=e.map((e=>e.x-n)),o=e.map((e=>e.y-r));let s=0,a=0,l=0,c=0,u=0,d=0,h=0;for(let e=0;e<i.length;e++){const t=i[e],n=o[e],r=t*t,p=n*n;s+=r,a+=p,l+=t*n,c+=r*t,u+=p*n,d+=t*p,h+=n*r}const p=.5*(c+d),f=.5*(u+h),m=s*a-l*l,y=(p*a-f*l)/m,g=(s*f-l*p)/m,v=(0,Uu.tc)(y+n,g+r);return{radius:Math.sqrt(y*y+g*g+(s+a)/e.length),center:v}}(t)}function cf(e){const t=lf(e);let n=0;return e.forEach((e=>{let r=df(e,t),i=r-e.lastAngle;for(;i>Math.PI;)i-=2*Math.PI;for(;i<-Math.PI;)i+=2*Math.PI;r=e.lastAngle+i,e.lastAngle=r;const o=r-e.initialAngle;n+=o})),n/=e.size||1,{angle:n,radius:t.radius,center:t.center}}function uf(e){const t=new Map;return e.forEach(((e,n)=>t.set(n,e.event))),t}function df(e,t){const n=e.event,r=n.x-t.center.x,i=n.y-t.center.y;return Math.atan2(i,r)}!function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"}(of||(of={}));class hf extends sd.l{constructor(e={},t=id.p){super(!1),this._clock=t,this._pointerState=new Map,this._parameters=Qp(e),this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach((e=>{e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()})),super.onUninstall()}_handlePointerDown(e){const t=e.data,n=tf(t);if(!this._pointerState.has(n)){const e={downButton:t.native.button,x:t.x,y:t.y,immediateDoubleClick:null};this._pointerState.set(n,e),this.startCapturingPointer(t.native)}}_handlePointerUp(e){const t=e.data,n=tf(t),r=this._pointerState.get(n);if(r&&r.downButton===t.native.button){const n=r.immediateDoubleClick,i="touch"===e.data.native.pointerType?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;n?(n.timeoutHandle.remove(),ef(n,e.data)>i?this._startImmediateDoubleClick(e,r):(this._immediateDoubleClick.emit(e.data,void 0,n.modifiers),this._removeState(t))):ef(r,e.data)>i?this._removeState(t):this._startImmediateDoubleClick(e,r)}}_startImmediateDoubleClick(e,t){const n="touch"===e.data.native.pointerType?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay;t.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout((()=>this._removeState(e.data)),n)}}_removeState(e){const t=tf(e);this._pointerState.delete(t),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}}class pf extends sd.l{constructor(e={},t=id.p){super(!1),this._clock=t,this._pointerState=new Map,this._parameters=((e={})=>({maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,...e}))(e),this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",(e=>this._handlePointerDown(e))),this.registerIncoming("pointer-up",(e=>this._handlePointerLoss(e,"pointer-up"))),this.registerIncoming("pointer-capture-lost",(e=>this._handlePointerLoss(e,"pointer-capture-lost"))),this.registerIncoming("pointer-cancel",(e=>this._handlePointerLoss(e,"pointer-cancel"))),this._moveHandle=this.registerIncoming("pointer-move",(e=>this._handlePointerMove(e))),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach((e=>{e.holdTimeout=(0,ec.xt)(e.holdTimeout)})),super.onUninstall()}_handlePointerDown(e){const t=e.data,n=t.native.pointerId;let r=null;0===this._pointerState.size&&(r=this._clock.setTimeout((()=>{const t=this._pointerState.get(n);if(t){if(!t.isDragging){const n=t.previousEvent;this._pointerHold.emit(n,void 0,e.modifiers),t.holdEmitted=!0}t.holdTimeout=null}}),this._parameters.holdDelay));const i={startEvent:t,previousEvent:t,startTimestamp:e.timestamp,isDragging:!1,downButton:t.native.button,holdTimeout:r,modifiers:new Set};this._pointerState.set(n,i),this.startCapturingPointer(t.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(e)}_handlePointerMove(e){const t=e.data,n=t.native.pointerId,r=this._pointerState.get(n);r&&(r.isDragging?this._pointerDrag.emit(ff("update",r,t),void 0,r.modifiers):function(e,t){const n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}(t,r.startEvent)>this._getDragThreshold(t.native.pointerType)&&this._startDragging(e),r.previousEvent=t)}_getDragThreshold(e){switch(e){case"touch":return this._parameters.movementUntilTouchDrag;case"pen":return this._parameters.movementUntilPenDrag;default:return this._parameters.movementUntilMouseDrag}}_startDragging(e){const t=e.data,n=t.native.pointerId;this._pointerState.forEach((r=>{null!=r.holdTimeout&&(r.holdTimeout.remove(),r.holdTimeout=null),r.isDragging||(r.modifiers=e.modifiers,r.isDragging=!0,n===r.startEvent.native.pointerId?this._pointerDrag.emit(ff("start",r,t)):this._pointerDrag.emit(ff("start",r,r.previousEvent),e.timestamp))}))}_handlePointerLoss(e,t){const n=e.data,r=n.native.pointerId,i=this._pointerState.get(r);i&&(null!=i.holdTimeout&&(i.holdTimeout.remove(),i.holdTimeout=null),i.isDragging?this._pointerDrag.emit(ff("end",i,"pointer-up"===t?n:i.previousEvent),void 0,i.modifiers):"pointer-up"===t&&i.downButton===n.native.button&&e.timestamp-i.startTimestamp<=this._parameters.maximumClickDelay&&!i.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(r),this.stopCapturingPointer(n.native),0===this._pointerState.size&&this._moveHandle.pause())}}function ff(e,t,n){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:n}}class mf extends sd.l{constructor(e={},t=id.p){super(!1),this._clock=t,this._pointerState=new Map,this._parameters=Qp(e),this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",(e=>this._handleImmediateClick(e))),this.registerIncoming("pointer-down",(e=>this._handlePointerDown(e)))}onUninstall(){this._pointerState.forEach((e=>e.doubleClickTimer=(0,ec.xt)(e.doubleClickTimer)))}get hasPendingInputs(){for(const e of this._pointerState.values())if(null!=e.doubleClickTimer)return!0;return!1}_clearDoubleClickTimer(e,t){const n=this._pointerState.get(e);n&&(n.doubleClickTimer=(0,ec.xt)(n.doubleClickTimer),t&&this._click.emit(n.event.data,void 0,n.event.modifiers),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){const t=this._pointerState.get(e);1===t.pointerDownCount&&this._click.emit(t.event.data,void 0,t.event.modifiers),t.doubleClickTimer=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}_handleImmediateClick(e){const t=e.data,{pointerType:n}=t.native,r=function(e){const{pointerId:t,pointerType:n,button:r}=e.native;return"mouse"===n?`${t}:${r}`:`${n}`}(t);if(!this._pointerState.has(r))return void this._startClick(e);const i=this._pointerState.get(r),{data:o,modifiers:s}=i.event,a="touch"===n?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;ef(o,t)>a?(this._clearDoubleClickTimer(r,!0),this._startClick(e)):(this._clearDoubleClickTimer(r,!1),2===i.pointerDownCount&&this._doubleClick.emit(o,void 0,s))}_handlePointerDown(e){const t=tf(e.data),n=this._pointerState.get(t);n&&(n.pointerDownCount+=1)}_startClick(e){const{data:t}=e,{native:{pointerType:n}}=t,r=tf(t),i="touch"===n?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,o=this._clock.setTimeout((()=>this._doubleClickTimeoutExceeded(r)),i);this._pointerState.set(r,{event:e,doubleClickTimer:o,pointerDownCount:1}),this.refreshHasPendingInputs()}}const yf="Control",gf={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},vf={zoomIn:["=","+"],zoomOut:["-","_"]},bf={clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]},wf=Symbol("handles");let _f=class extends gc.A{initialize(){const e=()=>this.view?.ready;this.addHandles([(0,tc.z7)((()=>!e()),(()=>this._disconnect())),(0,tc.z7)(e,(()=>this._connect()))])}destroy(){this._disconnect()}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}isModifierKeyDown(e){return this._inputManager?.isModifierKeyDown(e)??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(wf),this._inputManager=(0,ec.pR)(this._inputManager)}_connect(){const e=this.view.surface,t=new Kp(e,this.view.input),n=[new hf,new pf,new mf,new af(this.view.navigation),new nf],r=new kc.e({eventSource:t,recognizers:n}),i=new Ap(this.view,["primary"]),o=new Tp(this.view,["secondary"]);r.installHandlers("prevent-context-menu",[new Xp],kc.o.INTERNAL),r.installHandlers("navigation",[new Zp(this.view),new Ep(this.view),new jp(this.view),new Sp(this.view),new Sp(this.view,[yf]),i,new Np(this.view,gf),new Fp(this.view,vf),new Lp(this.view,bf),o,new xp(this.view,"touch")],kc.o.INTERNAL),this.view.viewEvents.connect(r),this._source=t,this._inputManager=r,this.addHandles([(0,tc.wB)((()=>this.view?.navigation?.browserTouchPanEnabled),(e=>{this._source&&(this._source.browserTouchPanningEnabled=!e)}),tc.Vh),(0,tc.wB)((()=>{const{actionMap:e}=this.view.navigation;return{panActions:_p("pan",e),rotateActions:_p("rotate",e)}}),(({panActions:e,rotateActions:t})=>{i.pointerActions=e,o.pointerActions=t}),tc.pc)],wf)}get test(){}};(0,Gl._)([(0,ql.MZ)()],_f.prototype,"view",void 0),(0,Gl._)([(0,ql.MZ)()],_f.prototype,"latestPointerType",null),(0,Gl._)([(0,ql.MZ)()],_f.prototype,"latestPointerLocation",null),(0,Gl._)([(0,ql.MZ)()],_f.prototype,"multiTouchActive",null),_f=(0,Gl._)([(0,Jl.$)("esri.views.2d.input.MapViewInputManager")],_f);const Sf=_f,xf=e=>{let t=class extends e{constructor(...e){super(...e),this.goToManager=new vp({view:this}),this.inputManager=new Sf({view:this}),this.addHandles([this.on("resize",(e=>this.stateManager.resize(e.width,e.height)))])}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}on(e,t,n,r){return this.inputManager&&this.viewEvents.on(e,t,n,r)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}goTo(e,t){return this.goToManager.goTo(e,t)}toMap(e){if(!this.ready)return null;const t=(0,Pd.FV)(e)?(0,Pd.xB)(this,e):e;return this.stateManager.toMap(t)}};return(0,Gl._)([(0,ql.MZ)()],t.prototype,"goToManager",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"interacting",null),(0,Gl._)([(0,ql.MZ)()],t.prototype,"stationary",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],t.prototype,"inputManager",void 0),t=(0,Gl._)([(0,Jl.$)("esri.views.Viewport2DMixin")],t),t};var Mf=s(10227);class Af{constructor(e){this._view=e,this.viewpoint=new Kl.A({targetGeometry:new Fh.A,scale:0,rotation:0})}get view(){return this._view}get size(){const[e,t]=this._view.size;return Math.sqrt(e*e+t*t)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return(0,Ih.ri)(this.center.spatialReference)}pixelsPerPanAtZoom(e){return 1/(e*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(e){return 1/(e*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(e,t){t.pan=(0,Mf.Io)(this.center,e.center);let n=Math.abs(e.rotation-this.rotation);n=n>=180?360-n:n,t.rotate=(0,od.kU)(n),t.sourceZoom=this.scale,t.targetZoom=e.scale}interpolate(e,t,n){const{pan:r,rotate:i,zoom:o,zoomOffset:s}=n,{center:a}=this;a.spatialReference=e.center.spatialReference,a.x=(0,od.Cc)(e.center.x,t.center.x,r),a.y=(0,od.Cc)(e.center.y,t.center.y,r),this.viewpoint.scale=(0,od.Cc)(e.scale,t.scale+s,o);let l=e.rotation;const c=t.rotation;Math.abs(c-l)>=180&&(l+=360*(l<c?1:-1)),this.viewpoint.rotation=(0,od.Cc)(l,c,i)}copyFrom(e){(0,Ih.C)(this.viewpoint,e.viewpoint),this._view=e.view}}var Tf=s(63486);const If=e=>e*e,Cf=e=>1-If(1-e),Ef=e=>e<.5?If(2*e)/2:(Cf(2*(e-.5))+1)/2,kf=e=>e*e*e,Pf=e=>1-kf(1-e),Rf=e=>e<.5?kf(2*e)/2:(Pf(2*(e-.5))+1)/2,Of=e=>e*e*e*e,Nf=e=>1-Of(1-e),Lf=e=>e<.5?Of(2*e)/2:(Nf(2*(e-.5))+1)/2,Df=e=>e*e*e*e*e,Ff=e=>1-Df(1-e),jf=e=>e<.5?Df(2*e)/2:(Ff(2*(e-.5))+1)/2,Zf=e=>1-Math.cos(e*Math.PI/2),Uf=e=>1-Zf(1-e),zf=e=>e<.5?Zf(2*e)/2:(Uf(2*(e-.5))+1)/2,Vf=e=>2**(10*(e-1)),Bf=e=>1-Vf(1-e),$f=e=>e<.5?Vf(2*e)/2:(Bf(2*(e-.5))+1)/2,Gf=e=>-(Math.sqrt(1-e*e)-1),qf=e=>1-Gf(1-e),Hf=e=>e<.5?Gf(2*e)/2:(qf(2*(e-.5))+1)/2;function Wf(e){const t=2*(e-Math.sqrt((e-1)*e)),n=t/2/e;return r=>r<n?e*r*r:t*r-t+1}function Jf(e,t){return(n,r)=>n<t?t*e(n/t,r):1-e((1-n)/(1-t),r)*(1-t)}const Kf=Jf(Wf(1),1),Yf=Jf(Wf(1),0),Xf=Jf(Wf(1),.5),Qf=Jf(Wf(2),1),em=Jf(Wf(2),0),tm=Jf(Wf(2),.5),nm=Jf(Wf(3),1),rm=Jf(Wf(3),0),im=Jf(Wf(3),.5),om=Jf(Wf(4),1),sm=Jf(Wf(4),0),am=Jf(Wf(4),.5),lm={linear:e=>e,"in-quad":If,"out-quad":Cf,"in-out-quad":Ef,"in-coast-quad":Kf,"out-coast-quad":Yf,"in-out-coast-quad":Xf,"in-cubic":kf,"out-cubic":Pf,"in-out-cubic":Rf,"in-coast-cubic":Qf,"out-coast-cubic":em,"in-out-coast-cubic":tm,"in-quart":Of,"out-quart":Nf,"in-out-quart":Lf,"in-coast-quart":nm,"out-coast-quart":rm,"in-out-coast-quart":im,"in-quint":Df,"out-quint":Ff,"in-out-quint":jf,"in-coast-quint":om,"out-coast-quint":sm,"in-out-coast-quint":am,"in-sine":Zf,"out-sine":Uf,"in-out-sine":zf,"in-expo":Vf,"out-expo":Bf,"in-out-expo":$f,"in-circ":Gf,"out-circ":qf,"in-out-circ":Hf,"quad-in":If,"quad-out":Cf,"quad-in-out":Ef,"quad-in-coast":Kf,"quad-out-coast":Yf,"quad-in-out-coast":Xf,"cubic-in":kf,"cubic-out":Pf,"cubic-in-out":Rf,"cubic-in-coast":Qf,"cubic-out-coast":em,"cubic-in-out-coast":tm,"quart-in":Of,"quart-out":Nf,"quart-in-out":Lf,"quart-in-coast":nm,"quart-out-coast":rm,"quart-in-out-coast":im,"quint-in":Df,"quint-out":Ff,"quint-in-out":jf,"quint-in-coast":om,"quint-out-coast":sm,"quint-in-out-coast":am,"sine-in":Zf,"sine-out":Uf,"sine-in-out":zf,"expo-in":Vf,"expo-out":Bf,"expo-in-out":$f,"circ-in":Gf,"circ-out":qf,"circ-in-out":Hf,ease:e=>Tf.Z0.ease(e),"ease-in":e=>Tf.Z0.easeIn(e),"ease-out":e=>Tf.Z0.easeOut(e),"ease-in-out":e=>Tf.Z0.easeInOut(e)};class cm{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}}const um={desiredScreenFlow:2,minDuration:(0,sf.l5)(500),maxDuration:(0,sf.l5)(8e3)},dm={...um,maxDuration:(0,sf.l5)(4e3)};class hm{constructor(e){this._createCamera=e,this.compared=new cm,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:um.desiredScreenFlow},this.source=e(),this.target=e()}clone(){const e=new hm(this._createCamera);return e.copyFrom(this),e}copyFrom(e){this.update(e.source,e.target,e.settings)}update(e,t,n){this.source!==e&&this.source.copyFrom(e),this.target!==t&&this.target.copyFrom(t),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=n.desiredScreenFlow??um.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(e){const t=this.target.pixelsPerPanAtZoom(e);return this.halfWindowSize/t}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>(0,Ch.FD)()}get hasFov(){return Math.abs(this.compared.fov)>(0,Ch.FD)()}get hasRotate(){return this.compared.rotate>(0,Ch.FD)()}}let pm=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce(((e,t)=>(0,sf.Kp)(e+t.time)),(0,sf.Kp)(0))}interpolateComponentsAt(e,t){e=Math.min(Math.max(e,0),1),e*=this.time;let n=0,r=0;const i=this.definition,o=this.segments.reduce(((e,t)=>e||t.definition.hasZoom),!1);for(let s=0;s<this.segments.length;s++){const a=this.segments[s],l=a.definition;if(e<=a.time||s===this.segments.length-1){if(this.segmentInterpolateComponentsAt(a,0===a.time?0:e/a.time,t),i.hasPan&&!isNaN(t.pan)&&isFinite(i.compared.pan)?t.pan=(n+l.compared.pan*t.pan)/i.compared.pan:t.pan=1,i.hasRotate&&!isNaN(t.rotate)&&isFinite(i.compared.rotate)?t.rotate=(r+l.compared.rotate*t.rotate)/i.compared.rotate:t.rotate=1,o&&!isNaN(t.zoom)&&isFinite(l.compared.targetZoom)){const{sourceZoom:e,targetZoom:n}=l.compared,r=t.zoom*(n-e)+e,i=this.segments[0].definition.compared.sourceZoom,o=this.segments[this.segments.length-1].definition.compared.targetZoom,s=Math.abs(n-i)>Math.abs(e-i)?n:e;t.zoomOffset=s-o,t.zoom=(r-i)/(s-i)}else t.zoom=1;return t}e-=a.time,n+=l.compared.pan,r+=l.compared.rotate}}segmentInterpolateComponentsAt(e,t,n){e.interpolateComponentsAt(t,n)}};class fm{get time(){return this._time}constructor(e){e&&this.update(e)}update(e){e&&(this.definition?this.definition.copyFrom(e):this.definition=e.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const e=this.definition,t=e.compared,n=t.sourceZoom,r=t.targetZoom;this._zoomSign=n>r?1:-1,this._panPixelsAtSource=t.pan*e.source.pixelsPerPanAtZoom(n);const i=(e.source.pixelsPerRotate()+e.target.pixelsPerRotate())/2;this._rotatePixels=t.rotate*i}_updatePixelFlow(){const e=this.definition.compared.sourceZoom,t=this.definition.compared.targetZoom,{hasZoom:n,hasPan:r,hasRotate:i}=this.definition;let o=0,s=0;n&&(r&&(o=(t/e-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),i&&(s=this._zoomSign*(Math.log(e/t)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const a=this.definition.desiredPixelFlow;if(n&&r&&i){const e=o+s+o*s;this._zoomPixelFlow=o*s/e*a,this._panPixelFlow=s/e*a,this._rotatePixelFlow=o/e*a}else if(n&&r){const e=1+o;this._zoomPixelFlow=o/e*a,this._panPixelFlow=1/e*a}else if(n&&i){const e=1+s;this._zoomPixelFlow=s/e*a,this._rotatePixelFlow=1/e*a}else if(r&&i){const e=this._panPixelsAtSource/this._rotatePixels,t=1+e;this._panPixelFlow=e/t*a,this._rotatePixelFlow=1/t*a}else r?this._panPixelFlow=a:n?this._zoomPixelFlow=a:i&&(this._rotatePixelFlow=a);if(this._time=(0,sf.Kp)(Math.max(this.rotateTime,this.zoomTime,this.panTime)),this.fovTime>this._time){const e=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=e,this._panPixelFlow/=e,this._rotatePixelFlow/=e}}get rotateTime(){return this.definition.hasRotate?(0,sf.Kp)(this._rotatePixels/this._rotatePixelFlow):(0,sf.Kp)(0)}get zoomTime(){return this.definition.hasZoom?(0,sf.Kp)(this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow):(0,sf.Kp)(0)}get fovTime(){return this.definition.hasFov?(0,sf.Kp)(Math.abs(this.definition.compared.fov)/mm):(0,sf.Kp)(0)}get panTime(){if(!this.definition.hasPan)return(0,sf.Kp)(0);if(this.definition.hasZoom){const e=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,t=e*this._panPixelsAtSource;return(0,sf.Kp)(Math.log(t*(this._zoomPixelFlow/this._panPixelFlow)+1)/(e*this._zoomPixelFlow))}return(0,sf.Kp)(this._panPixelsAtSource/this._panPixelFlow)}_interpolateComponentsZoom(e){if(0===e||1===e)return e;if(this.definition.hasZoom){const t=this.definition.compared.sourceZoom,n=this.definition.compared.targetZoom;return(t*(t/n)**-e-t)/(n-t)}return e}_interpolateComponentsFov(e){if(0===e)return this.definition.segmentStart;if(1===e)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:t,segmentEnd:n}=this.definition;return t+e*(n-t)}return this.definition.segmentStart}_interpolateComponentsPan(e){if(0===e||1===e)return e;if(this.definition.hasPan&&this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(t*e*this._time)-1))/(t*Math.LN2)}return e}_interpolateComponentsRotate(e){return e}interpolateComponentsAt(e,t){e=Math.min(Math.max(e,0),1),t.zoom=this._interpolateComponentsZoom(e),t.pan=this._interpolateComponentsPan(e),t.rotate=this._interpolateComponentsRotate(e),t.zoomOffset=0,t.fov=this._interpolateComponentsFov(e)}}const mm=(0,od.kU)(45);function ym(e,t,n){const r=t-e.compared.sourceZoom,i=e.halfWindowPanAtZoom(r);return-e.halfWindowSize*(n.ascensionFactor*Math.LN2*e.compared.pan+i)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*i)}function gm(e,t,n){const r=1/t,i=Math.log(e.compared.sourceZoom*r),o=1/e.desiredPixelFlow,s=1/Math.LN2,a=t-e.compared.sourceZoom,l=1/a,c=(n.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(a))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*r*o*s*l*c-e.halfWindowSize*i*o*s*l+e.halfWindowSize*i*o*s*c/(a*a)}function vm(e,t,n){const r=t-e.compared.sourceZoom,i=1/r,o=1/t,s=Math.log(e.compared.sourceZoom*o),a=(n.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(r))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*i*(-2*i*o*a+2*i*s+2*o-2*s*a/(r*r)-a/(t*t))/(e.desiredPixelFlow*Math.LN2)}function bm(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function wm(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function _m(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function Sm(e,t,n){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-n.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function xm(e,t,n){const r=Math.log(t/e.compared.targetZoom),i=1/e.desiredPixelFlow,o=1/Math.LN2,s=-t+e.compared.targetZoom,a=1/s,l=(-e.halfWindowPanAtZoom(t)-n.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*r*i*o*a+e.halfWindowSize*r*i*o*l/(s*s)+e.halfWindowSize*i*o*a*l/t}function Mm(e,t,n){const r=t-e.compared.targetZoom,i=1/r,o=1/t,s=Math.log(t/e.compared.targetZoom),a=(e.halfWindowPanAtZoom(t)+n.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*i*(-2*i*o*a-2*i*s+2*o+2*s*a/(r*r)-a/(t*t))/(e.desiredPixelFlow*Math.LN2)}function Am(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function Tm(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function Im(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function Cm(e,t){let n=function(e,t){const n=Math.max(e.compared.sourceZoom,e.compared.targetZoom),r=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return r<n?null!=t.maximumDistance?n+(t.maximumDistance-n)/2:1.5*n:t.maximumDistance?Math.min(t.maximumDistance,r):r}(e,t);const r={ascensionFactor:null!=t.ascensionFactor?t.ascensionFactor:.5,descensionFactor:null!=t.descensionFactor?t.descensionFactor:.5},i=0===r.ascensionFactor,o=0===r.descensionFactor,s=i?bm:ym,a=i?wm:gm,l=i?_m:vm,c=o?Am:Sm,u=o?Tm:xm,d=o?Im:Mm,h=t=>s(e,t,r)+function(e,t,n){return-e.compared.pan*e.halfWindowSize*(n.ascensionFactor+n.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}(e,t,r)+c(e,t,r),p=t=>a(e,t,r)+function(e,t,n){return e.compared.pan*e.halfWindowSize*(n.ascensionFactor+n.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}(e,t,r)+u(e,t,r),f=t=>l(e,t,r)+function(e,t,n){return-2*e.compared.pan*e.halfWindowSize*(n.ascensionFactor+n.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}(e,t,r)+d(e,t,r);let m=h(n);const y=function(e){const t=e.compared.sourceZoom-e.compared.targetZoom;if(0===t)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));const n=Math.LN2*e.compared.pan,r=t,i=e.halfWindowPanAtZoom(r),o=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*i);return e.compared.sourceZoom<=e.compared.targetZoom?o*(n-i):o*(n+i)}(e);let g;const v=t.maximumIterations||20,b=null!=t.maximumDistance?t.maximumDistance:1/0;for(g=0;g<v;g++){const r=t.desiredSlope??1e-6;let i=p(n);Math.abs(i)>r&&(i+=r);const o=i/f(n);if(isNaN(o)||n>=b&&o<0){if(!isFinite(b))return null;n=b,m=h(n);break}if(n-=o,n<=e.compared.sourceZoom||n<=e.compared.targetZoom)return null;const s=h(n);if(Math.abs(s-m)/m<=.005)break;m=s}return isNaN(m)||m>.7*y||n<=e.compared.sourceZoom||n<=e.compared.targetZoom?null:n}class Em extends pm{constructor(e,t){super(),this._preallocSegments=[new fm,new fm,new fm],this._ascensionSegment=null,this._descensionSegment=null,this.update(e,t)}update(e,t){if(!e)return;this.definition?this.definition.copyFrom(e):this.definition=e.clone();const n=t?.apex?Cm(e,t.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,n?this._updateWithApex(n,t?.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(e,t,n){e.interpolateComponentsAt(t,n),e===this._ascensionSegment?n.zoom=Cf(n.zoom):e===this._descensionSegment&&(n.zoom=If(n.zoom))}_updateWithApex(e,t){const[n,r,i]=this._preallocSegments,o=t?.ascensionFactor??.5,s=Math.min(1-o,null!=t?.ascensionFactor&&null!=t.descensionFactor?t.descensionFactor:.5),a=1-o-s;n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.targetZoom=e,n.definition.compared.pan=this.definition.compared.pan*o,n.definition.compared.rotate=this.definition.compared.rotate*o,n.definition.segmentEnd=o,n.update(),this._ascensionSegment=n,this.segments.push(n),a>0&&(r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.copyFrom(this.definition),r.definition.compared.sourceZoom=e,r.definition.compared.targetZoom=e,r.definition.compared.pan=this.definition.compared.pan*a,r.definition.compared.rotate=this.definition.compared.rotate*a,r.definition.segmentStart=n.definition.segmentEnd,r.definition.segmentEnd=n.definition.segmentEnd+a,r.update(),this.segments.push(r)),i.definition?i.definition.copyFrom(this.definition):i.definition=this.definition.clone(),i.definition.compared.sourceZoom=e,i.definition.compared.pan=this.definition.compared.pan*s,i.definition.compared.rotate=this.definition.compared.rotate*s,i.definition.segmentStart=o+a,i.update(),this._descensionSegment=i,this.segments.push(i)}_updateWithoutApex(){const[e]=this._preallocSegments;e.update(this.definition),this.segments.push(e)}}const km=new class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}};let Pm=class{get time(){return this._time}get isLinear(){return 1===this.path.segments.length}constructor(e){this._time=(0,sf.l5)(0),this._easing=Xf,this.definition=new hm(e),this.path=new Em}update(e,t,n){this.definition.update(e,t,n),this.path.update(this.definition,n),this._time=this._applyTimeSettings((0,sf.gr)(isFinite(this.path.time)?this.path.time:(0,sf.Kp)(0)),n),this._easing=n.easing??(this._time>=1e3?Xf:Bf)}cameraAt(e,t){e=Math.min(Math.max(0,e),1),e=this._normalizedEasing(e);const n=this.path.interpolateComponentsAt(e,km);t.interpolate(this.definition.source,this.definition.target,n)}_normalizedEasing(e){const t=this._easing(0,this._time),n=this._easing(1,this._time);return(this._easing(e,this._time)-t)/(n-t)}_applyTimeSettings(e,t){const n=null!=t.speedFactor?t.speedFactor:1,r=t.minDuration??um.minDuration/n,i=t.maxDuration??um.maxDuration/n;return null!=t.duration?(0,sf.l5)(t.duration):(0,sf.l5)(Math.min(Math.max(e/n,r),i))}};class Rm{constructor(e){this._view=e,this._animation=new Pm((()=>new Af(this._view))),this._current=new Af(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(e,t,n={}){(0,Ih.C)(this._current.viewpoint,e),(0,Ih.C)(this._source.viewpoint,e),(0,Ih.C)(this._target.viewpoint,t),this._animation.update(this._source,this._target,n)}applyRatio(e,t){this._animation.cameraAt(t,this._current),(0,Ih.C)(e,this._current.viewpoint)}}let Om=class extends gc.A{constructor(e){super(e),this._animation=null,this._destinationViewState=new qh,this.updateFunction=null,this.easing=lm.ease,this.viewpoint=new Kl.A({targetGeometry:new Fh.A,scale:0,rotation:0}),this._updateTask=(0,yc.mg)({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new Rm(e.view)}destroy(){this._updateTask=(0,ec.xt)(this._updateTask)}get animation(){return this._animation}set animation(e){this._animation=e,this.view.animation=e}animate(e,t,n){this.stop();const r=this.viewpoint;(0,Ih.C)(r,t);const i=e.target;this._transition.update(this.viewpoint,i,{apex:{maximumDistance:Math.min(64*Math.min(t.scale,i.scale),this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:n?.duration,maxDuration:"auto"===n?.animationMode?(0,sf.l5)(1/0):n?.maxDuration??dm.maxDuration,speedFactor:n?.speedFactor,easing:("string"==typeof n?.easing?lm[n.easing]:n?.easing)||this.easing}),"auto"===n?.animationMode&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=i,function(e,t,n,r){if(null!=t?.duration)return!0;const{time:i,isLinear:o}=e,s=t?.speedFactor||1;if(i>(t?.maxDuration??dm.maxDuration/s))return!1;if(o){const e=1.5,t=(0,Th.vt)(),o=(0,Uu.tc)(...r.toScreen(t,...n.center)),a=(0,Uu.tc)(...n.toScreen(t,...r.center)),l=null!=a&&a.x>-1*n.size[0]&&a.x<(e+.5)*n.size[0]&&a.y>-1*n.size[1]&&a.y<(e+.5)*n.size[1],c=null!=o&&o.x>-1*r.size[0]&&o.x<(e+.5)*r.size[0]&&o.y>-1*r.size[1]&&o.y<(e+.5)*r.size[1];if(i>2e3/s&&!l&&!c)return!1}return!0}(this._transition.animation,n,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,i,{duration:(0,sf.l5)(0)}));const o=()=>{this.animation===e&&this._updateTask&&("finished"===e.state&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(o,o),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinuous(e,t){this.stop(),this.updateFunction=t,this.viewpoint=e;const n=new gp({target:e.clone()}),r=()=>{this.animation===n&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return n.when(r,r),this._startTime=performance.now(),this._updateTask.resume(),this.animation=n,n}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){const t=this.animation;if(t&&t.state!==gp.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime),this.animation?.update(this.viewpoint);else{const e=performance.now()-this._startTime,t=this._transition.duration,n=t>0?e/t:1,r=n>=1;this._transition.applyRatio(this.viewpoint,n),r&&this.animation?.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,Gl._)([(0,ql.MZ)()],Om.prototype,"easing",void 0),(0,Gl._)([(0,ql.MZ)()],Om.prototype,"view",void 0),(0,Gl._)([(0,ql.MZ)()],Om.prototype,"viewpoint",void 0),Om=(0,Gl._)([(0,Jl.$)("esri.views.2d.AnimationManager")],Om);const Nm=Om;function Lm(){return Promise.all([Promise.all([s.e(6860),s.e(9224)]).then(s.bind(s,69224)),Promise.all([s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(8615),s.e(2644),s.e(2321),s.e(2999),s.e(1550),s.e(9488),s.e(9294),s.e(7442),s.e(7060),s.e(4231),s.e(2653)]).then(s.bind(s,82653))])}const Dm=()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(8615),s.e(2644),s.e(2321),s.e(2999),s.e(1550),s.e(9488),s.e(9294),s.e(7442),s.e(932),s.e(2166),s.e(8076)]).then(s.bind(s,78076)))),Fm=()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(2644),s.e(2321),s.e(4232),s.e(2991),s.e(4456)]).then(s.bind(s,34456)))),jm={"base-dynamic":()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9232)]).then(s.bind(s,99232)))),"base-tile":Dm,"bing-maps":Dm,catalog:()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6452)]).then(s.bind(s,96452)))),"catalog-dynamic-group":()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6461)]).then(s.bind(s,26461)))),"catalog-footprint":()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(2644),s.e(2321),s.e(4232),s.e(2991),s.e(4456),s.e(7391)]).then(s.bind(s,87391)))),csv:Fm,"geo-rss":()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(8615),s.e(2644),s.e(2321),s.e(2999),s.e(1550),s.e(5585)]).then(s.bind(s,35585)))),feature:Fm,geojson:Fm,parquet:Fm,graphics:()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(8615),s.e(2644),s.e(2321),s.e(2999),s.e(1550),s.e(8543)]).then(s.bind(s,18543)))),group:()=>Lm().then((()=>Promise.all([s.e(5139),s.e(7115)]).then(s.bind(s,37115)))),imagery:()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(8615),s.e(2644),s.e(2321),s.e(2999),s.e(1550),s.e(7425),s.e(932),s.e(7443),s.e(1538)]).then(s.bind(s,91538)))),"imagery-tile":()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(7425),s.e(7443),s.e(9515)]).then(s.bind(s,49515)))),kml:()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(8615),s.e(2644),s.e(2321),s.e(2999),s.e(1550),s.e(7425),s.e(7060),s.e(2180)]).then(s.bind(s,11939)))),"knowledge-graph":()=>Lm().then((()=>Promise.all([s.e(5139),s.e(7280)]).then(s.bind(s,47280)))),"link-chart":()=>Lm().then((()=>Promise.all([s.e(5139),s.e(7280)]).then(s.bind(s,47280)))),"knowledge-graph-sublayer":Fm,"map-image":()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(8615),s.e(2644),s.e(2321),s.e(2999),s.e(1550),s.e(932),s.e(2166),s.e(7823)]).then(s.bind(s,97823)))),"map-notes":()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(8615),s.e(2644),s.e(2321),s.e(2999),s.e(1550),s.e(4953)]).then(s.bind(s,24953)))),media:()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(8615),s.e(2644),s.e(2321),s.e(2999),s.e(1550),s.e(9488),s.e(9294),s.e(7442),s.e(4833)]).then(s.bind(s,34833)))),"ogc-feature":()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(2644),s.e(2321),s.e(4232),s.e(2991),s.e(4456),s.e(3370)]).then(s.bind(s,13370)))),"open-street-map":Dm,"oriented-imagery":Fm,route:()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(8615),s.e(2644),s.e(2321),s.e(2999),s.e(1550),s.e(392),s.e(6953)]).then(s.bind(s,6953)))),stream:()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(2644),s.e(2321),s.e(4232),s.e(2991),s.e(4456),s.e(8813)]).then(s.bind(s,78813)))),"subtype-group":()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(2644),s.e(2321),s.e(4232),s.e(2991),s.e(4456),s.e(8055)]).then(s.bind(s,38055)))),tile:Dm,"vector-tile":()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(9294),s.e(114),s.e(8801)]).then(s.bind(s,58801)))),video:()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(8615),s.e(2644),s.e(2321),s.e(2999),s.e(1550),s.e(6805)]).then(s.bind(s,96805)))),wcs:()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(7425),s.e(7443),s.e(9515)]).then(s.bind(s,49515)))),"web-tile":Dm,wfs:Fm,wms:()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(6960)]).then(s.bind(s,6960)))),wmts:()=>Lm().then((()=>Promise.all([s.e(5139),s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(1675)]).then(s.bind(s,41675)))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null};const Zm=e=>null!=jm[e.type],Um=e=>{const t=jm[e.type];if(null==t)throw function(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",n=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new Ql.A(`${n}:view-not-supported`,`${t} is not supported in 2D`)}(e);return t(e)};var zm=s(62516),Vm=s(39156),Bm=(s(32828),s(11679),s(77379)),$m=s(52708),Gm=s(2532),qm=s(17142),Hm=s(57021);const Wm={added:[],removed:[]},Jm=new Set,Km=new Vm.A(0,0,0,0);class Ym extends tu.A{constructor(e){super(),this._tiles=new Map,this._index=(0,$m.r)(9,(0,Hl.A)("esri-csp-restrictions")?e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=e}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}getIntersectingTiles(e){if(!e||0===(0,Gm.VL)(e)||0===(0,Gm.uJ)(e))return[];const t=function(e,t){const n=(0,Ru.Vp)(t);if(!n)return null;const[r,i]=n.valid;return e[2]>i?[(0,Gm.vt)([e[0],e[1],i,e[3]]),(0,Gm.vt)([r,e[1],r+e[2]-i,e[3]])]:e[0]<r?[(0,Gm.vt)([r,e[1],e[2],e[3]]),(0,Gm.vt)([i-(r-e[0]),e[1],i,e[3]])]:null}(e,this.tileScheme.spatialReference);return null!=t?[...new Set([...this.boundsIntersections(t[0]),...this.boundsIntersections(t[1])])]:this.boundsIntersections(e)}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const t={added:[],removed:[]};for(const n of e.added)if(!this.has(n)){const e=new qm.F(this.tileScheme,n);this._tiles.set(n,e),this._index.insert(e),t.added.push(e)}for(const n of e.removed)if(this.has(n)){const e=this.get(n);this._tiles.delete(n),this._index.remove(e),t.removed.push(e)}this.tiles.length=0,this._tiles.forEach((e=>this.tiles.push(e))),(t.added.length||t.removed.length)&&this.emit("update",t)}setViewState(e){const t=this.tileScheme.getTileCoverage(e,0);if(!t)return;const{spans:n,lodInfo:r}=t,{level:i}=r;if(n.length>0)for(const{row:e,colFrom:t,colTo:o}of n)for(let n=t;n<=o;n++){const t=Km.set(i,e,r.normalizeCol(n),r.getWorldForColumn(n)).id;if(Jm.add(t),!this.has(t)){const e=new qm.F(this.tileScheme,t);this._tiles.set(t,e),this._index.insert(e),this.tiles.push(e),Wm.added.push(e)}}for(let e=this.tiles.length-1;e>=0;e--){const t=this.tiles[e];Jm.has(t.id)||(this._tiles.delete(t.id),this.tiles.splice(e,1),this._index.remove(t),Wm.removed.push(t))}(Wm.added.length||Wm.removed.length)&&this.emit("update",Wm),Hm.A.pool.release(t),Jm.clear(),Wm.added.length=0,Wm.removed.length=0}}var Xm=s(85202),Qm=s(87388),ey=s(18028),ty=s(20857);function ny(e,t,n,r,i,o){return s=>{if(s instanceof ty.A){if(s.layer===e)o?.();else{const t=e.allLayerViews.find((e=>e.layer===s.layer));t&&i?.(t)}r(iy(s))}else if("layer"in s&&"element"in s);else if("subtype-sublayer"===s.type){const t=e.allLayerViews.find((e=>e.layer===s.parent));t&&n(s,t)}else{const n=e.allLayerViews.find((e=>e.layer===s));n&&t(n)}}}function ry(e,t){if(e)if((0,kd.xZ)(e))for(const n of e)if((0,kd.xZ)(n))for(const e of n)t(e);else t(n);else t(e)}function iy(e){const t=e.getObjectId();return t?`${e.layer?.uid??e.sourceLayer?.uid??"MapView"}/${t}`:`"MapView/${e.uid}`}function oy({layer:e},t){"subtype-group"===e?.type&&e.sublayers.forEach((e=>{t(e)}))}var sy=s(32549);const ay={flipY:!0,premultipliedAlpha:!0};function ly(e,t){const n=function(e,t,n,r){e.ignorePadding&&(r={left:0,right:0,top:0,bottom:0});let i=null;null!=e.width&&null!=e.height?i=[e.width,e.height]:null==e.width&&null!=e.height?i=[e.height,e.height]:null!=e.width&&null==e.height?i=[e.width,e.width]:null==e.width&&null==e.height&&(i=null);const o=n[0]-(r.left+r.right),s=n[1]-(r.top+r.bottom);let a,l,c=e.area||{x:0,y:0,width:o,height:s};if(i){const e=o/s,t=i[0]/i[1];if(t>e){const e=c.width/t;c={x:c.x,y:Math.round(c.y+(c.height-e)/2),width:c.width,height:Math.round(e)}}else{const e=c.height*t;c={x:Math.round(c.x+(c.width-e)/2),y:c.y,width:Math.round(e),height:c.height}}}else i=[c.width,c.height];return i[0]>c.width?(a=Math.min(i[0]/c.width,t),l=i[0]/c.width/a):(a=1,l=i[0]/c.width),{cropArea:{x:Math.round((c.x+r.left)*a),y:Math.round((c.y+r.top)*a),width:Math.round(c.width*a),height:Math.round(c.height*a)},outputScale:l,resolutionScale:a}}(t||{},function(e,t){return Math.min(4,(0,sy.getMaximumResolutionScale)(t,Math.min(4096,e.context.parameters.maxTextureSize)))}(e.stage,e.size),e.size,e.padding),r=function(e={},t){if(!e.layers)return;const n=[];return e.layers.forEach((e=>{const r=t.find((t=>t.layer.id===e.id));r?.container&&n.push(r.container)})),n}(t,e.allLayerViews);return e.stage.takeScreenshot(n,r,e.backgroundColor,t?.rotation)}var cy=s(90436),uy=s(89574);const dy="esri-component";let hy=class extends gc.A{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get("id")??this.widget?.id??this.node?.id}set id(e){this._set("id",e)}set node(e){const t=this._get("node");e!==t&&(e&&e.classList.add(dy),t&&t.classList.remove(dy),this._set("node",e))}castNode(e){return this.widget?.destroy(),e?"string"==typeof e||function(e){return e&&"nodeType"in e}(e)?(this._set("widget",null),(0,pc.$)(e)):(function(e){return e&&"function"==typeof e.render}(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};(0,Gl._)([(0,ql.MZ)()],hy.prototype,"id",null),(0,Gl._)([(0,ql.MZ)()],hy.prototype,"node",null),(0,Gl._)([(0,rc.w)("node")],hy.prototype,"castNode",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],hy.prototype,"widget",void 0),hy=(0,Gl._)([(0,Jl.$)("esri.views.ui.Component")],hy);const py=hy;s(39553);var fy=s(72557),my=s(83946),yy=s(4631);const gy={left:0,top:0,bottom:0,right:0},vy={bottom:30,top:15,right:15,left:15},by="esri-ui",wy={ui:by,corner:`${by}-corner`,innerContainer:`${by}-inner-container`,manualContainer:`${by}-manual-container`,cornerContainer:`${by}-corner-container`,topLeft:`${by}-top-left`,topRight:`${by}-top-right`,bottomLeft:`${by}-bottom-left`,bottomRight:`${by}-bottom-right`};function _y(e){return 0===e?"0":`${e}px`}function Sy(e){const t="object"==typeof e&&null!==e&&Object.getPrototypeOf(e);return null!==t&&t!==Object.prototype||!("component"in e||"index"in e||"position"in e)?null:e}function xy(e,{top:t,bottom:n,left:r,right:i}){e.style.top=t,e.style.bottom=n,e.style.left=r,e.style.right=i}let My=class extends tu.A.EventedAccessor{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=(0,yy.JK)(),this.view=null,this._applyViewPadding=()=>{const e=this.container;e&&xy(e,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const e=this._innerContainer;e&&xy(e,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([(0,tc.wB)((()=>[this.view?.padding,this.container]),this._applyViewPadding,tc.Vh),(0,tc.wB)((()=>this.padding),this._applyUIPadding,tc.Vh),(0,tc.wB)((()=>[this.container,this._locale]),(([e,t])=>{e&&e.setAttribute("lang",t)}),tc.Vh),(0,yy.oQ)((e=>{this._locale=e}))])}destroy(){this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._componentMap.clear()}set container(e){const t=this._get("container");e!==t&&(e&&(e.classList.add(wy.ui),(0,fy.Tu)(e),this._attachContainers(e)),t&&(t.classList.remove(wy.ui),xy(t,{top:"",bottom:"",left:"",right:""}),t.textContent=""),this._set("container",e))}get height(){const e=this.view?.height??0;if(0===e)return e;const t=this._getViewPadding(),{top:n,bottom:r}=t;return Math.max(e-n-r,0)}get padding(){return this._get("padding")}set padding(e){this._overrideIfSome("padding",e)}castPadding(e){return"number"==typeof e?{bottom:e,top:e,right:e,left:e}:{...vy,...e}}get width(){const e=this.view?.width??0;if(0===e)return e;const t=this._getViewPadding(),{left:n,right:r}=t;return Math.max(e-n-r,0)}add(e,t){let n,r,i;if(Array.isArray(e))return void e.forEach((e=>this.add(e,t)));const o=Sy(e);o&&({index:n,position:t,component:e,key:r}=o),t&&"object"==typeof t&&({index:n,key:r,position:t,internal:i}=t),!e||t&&!this._isValidPosition(t)||this._add(e,t,n??this._getNumComponentsAtPosition(t),r,i)}remove(e,t){if(!e)return;if(Array.isArray(e))return e.map((e=>this.remove(e,t)));const n=this._find(e);if(n){const e=this._componentMap.get(n);if(!e||e.key!==t)return;const r=this._components.indexOf(n),i=n.node.parentNode;return i?.removeChild(n.node),this._componentMap.delete(n),n.widget?.removeHandlesReference(this._removeWidgetHandleKey),this._components.forEach((t=>{const n=this._componentMap.get(t);n&&n.position===e.position&&n.index>e.index&&n.index--})),this._components.splice(r,1)[0]}}empty(e,t={removeInternal:!1}){if(Array.isArray(e)){for(const n of e)this.empty(n,t);return}const n=this._positionNameToContainerLookup[e??"manual"],r=Array.prototype.slice.call(n.children).map((e=>this._findByNode(e))).filter((e=>null!=e&&(!this._componentMap.get(e)?.internal||t.removeInternal)));for(const e of r)this.remove(e)}move(e,t){if(Array.isArray(e)&&e.forEach((e=>this.move(e,t))),!e)return;let n;const r=Sy(e)||Sy(t);if(r&&(n=r.index,t=r.position,e=r.component||e),t&&!this._isValidPosition(t))return;const i=this.remove(e);i&&this.add(i,{position:t,index:n})}find(e){if(!e)return null;const t=this._findById(e);return t&&(t.widget||t.node)}getComponents(e,t={includeInternal:!1}){return e?Array.isArray(e)?e.flatMap((e=>this._getComponentsAtPosition(e,t))):this._getComponentsAtPosition(e,t):this._components.filter((e=>t.includeInternal||!this._componentMap.get(e)?.internal)).map((({widget:e,node:t})=>e??t))}getPosition(e){for(const t in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[t].contains(e))return t;return null}_add(e,t,n,r,i){e instanceof py||(e=new py({node:e}));const{widget:o}=e;null!=o&&o instanceof gc.A&&o.addHandles((0,mc.hA)((()=>{queueMicrotask((()=>this.remove(e)))})),this._removeWidgetHandleKey),this._components.some((e=>this._componentMap.get(e)?.position===t&&this._componentMap.get(e)?.index===n))&&this._components.forEach((e=>{const r=this._componentMap.get(e);r&&r.position===t&&r.index>=n&&r.index++})),this._place({component:e,position:t,index:n}),this._components.push(e),this._componentMap.set(e,{key:r,position:t,internal:i,index:n})}_find(e){return e?e instanceof py?this._findByComponent(e):"string"==typeof e?this._findById(e):"domNode"in e?this._findByNode(e.domNode):this._findByNode(e):null}_getViewPadding(){return this.view?.padding??gy}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(wy.innerContainer,wy.cornerContainer);const t=document.createElement("div");t.classList.add(wy.innerContainer,wy.manualContainer);const n=document.createElement("div");n.classList.add(wy.topLeft,wy.corner),e.appendChild(n);const r=document.createElement("div");r.classList.add(wy.topRight,wy.corner),e.appendChild(r);const i=document.createElement("div");i.classList.add(wy.bottomLeft,wy.corner),e.appendChild(i);const o=document.createElement("div");o.classList.add(wy.bottomRight,wy.corner),e.appendChild(o),this._innerContainer=e,this._manualContainer=t;const s=(0,my.V8)();this._cornerNameToContainerLookup={"top-left":n,"top-right":r,"bottom-left":i,"bottom-right":o,"top-leading":s?r:n,"top-trailing":s?n:r,"bottom-leading":s?o:i,"bottom-trailing":s?i:o},this._positionNameToContainerLookup={manual:t,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){const t=e.position??"manual",{component:n,index:r}=e,i=this._positionNameToContainerLookup[t],o=null!=r&&r>-1;if(function(e){return e&&!e._started&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}(n.widget)&&n.widget.startup(),!o)return void i.appendChild(n.node);const s=Array.from(i.children);if(0!==s.length){for(const e of s){const t=this._findByNode(e);if(t&&r<(this._componentMap.get(t)?.index??0))return void e.parentNode?.insertBefore(n.node,e)}i.appendChild(n.node)}else i.appendChild(n.node)}_toPixelPosition(e){return{top:_y(e.top),left:_y(e.left),right:_y(e.right),bottom:_y(e.bottom)}}_findByComponent(e){return this._components.find((t=>t===e))??null}_findById(e){return this._components.find((({id:t})=>t===e))??null}_findByNode(e){return e?this._components.find((({node:t})=>t===e)):null}_getComponentsAtPosition(e,t){const n=this._positionNameToContainerLookup[e];return Array.prototype.slice.call(n.children).map((e=>this._findByNode(e))).filter(Bu.Ru).filter((e=>t.includeInternal||!this._componentMap.get(e)?.internal)).map((({widget:e,node:t})=>e??t))}_getNumComponentsAtPosition(e){const t=this._positionNameToContainerLookup[e];return t?.children.length??0}};(0,Gl._)([(0,ql.MZ)()],My.prototype,"_locale",void 0),(0,Gl._)([(0,ql.MZ)()],My.prototype,"container",null),(0,Gl._)([(0,ql.MZ)()],My.prototype,"height",null),(0,Gl._)([(0,ql.MZ)({value:vy})],My.prototype,"padding",null),(0,Gl._)([(0,rc.w)("padding")],My.prototype,"castPadding",null),(0,Gl._)([(0,ql.MZ)()],My.prototype,"view",void 0),(0,Gl._)([(0,ql.MZ)()],My.prototype,"width",null),My=(0,Gl._)([(0,Jl.$)("esri.views.ui.UI")],My);const Ay=My;var Ty=s(52239),Iy=s(64672);s(11703);const Cy=new Map;function Ey(e,t){return e&&"copyright"in e&&(!t||"function"==typeof e.originOf&&"user"===e.originOf("copyright"))}function ky(e,t,n){n&&t&&(e.find((e=>e.layerView===t&&e.text===n))||e.push({text:n,layerView:t}))}const Py=[];let Ry=class extends gc.A{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new Yl.A,this.view=null,this._allLayerViewsChange=e=>{this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const t=this.view?.allLayerViews;t&&(this.addHandles(t.map((e=>(0,tc.wB)((()=>[e.suspended,e.layer?.attributionVisible]),(()=>this._updateAttributionItems())))).toArray(),"suspension"),t.forEach((e=>{"esri.views.3d.layers.Tiles3DLayerView3D"===e.declaredClass&&this.addHandles(e.on("visible-geometry-changed",(()=>this._updateAttributionItems())),"visible-geometry-changed")}))),e?.removed&&e.removed.forEach((e=>{this._pendingAttributions.delete(e),this._fetchedAttributionData.delete(e)})),this._updateAttributionItems()},this.addHandles([(0,tc.on)((()=>this.view?.allLayerViews),"change",(e=>this._allLayerViewsChange(e)),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),(0,tc.z7)((()=>!0===this.view?.stationary),(()=>this._updateAttributionItems()))])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const e=this.view,t=e?.allLayerViews;if(Py.length=0,!e||!t)return void this._clear();t.forEach((t=>{if(t.suspended||!t.layer?.attributionVisible)return;const n=t.layer;if(Ey(n,"user"))return void ky(Py,t,n.copyright);if(n.hasAttributionData){if(this._fetchedAttributionData.has(t)){const r=this._fetchedAttributionData.get(t);return void(r?ky(Py,t,this._getDynamicAttribution(r,e,n)):Ey(n)&&ky(Py,t,n.copyright))}return void this._fetchAttributionData(t)}const r="portalItem"in n?n.portalItem?.accessInformation:void 0;ky(Py,t,r||n.copyright)}));const n=t.find((e=>"integrated-mesh-3dtiles"===e.layer?.type));if(this.view&&n){const e=function(e){return Cy.get(e)}(this.view);if(e){const t=e.getAttributionText();for(let e=0;e<t.length;++e)ky(Py,n,t[e])}}(function(e,t){return e.length!==t.length||e.some(((e,n)=>e.text!==t[n].text))})(this.items,Py)&&(this.items.removeAll(),this.items.addMany(Py)),Py.length=0,this.notifyChange("state")}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);const t=await(0,Cc.Ke)(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){const n=t.ok?this._createContributionIndex(t.value,function(e){return"bing-maps"===e.type}(e.layer)):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,n)}this._updateAttributionItems()}_createContributionIndex(e,t){const n=e.contributors,r={};if(!n)return r;for(let e=0;e<n.length;e++){const i=n[e],o=i.coverageAreas;if(!o)return;for(const n of o){const o=n.bbox,s=n.zoomMin-(t&&n.zoomMin?1:0),a=n.zoomMax-(t&&n.zoomMax?1:0),l=new Eu.A({xmin:o[1],ymin:o[0],xmax:o[3],ymax:o[2],spatialReference:Pu.A.WGS84}),c={extent:(0,Iy.Gh)(l),attribution:i.attribution||"",score:null!=n.score?n.score:100,id:e};for(let e=s;e<=a;e++)r[e]??=[],r[e].push(c)}}return r.maxKey=Math.max.apply(null,Object.keys(r)),r}_getDynamicAttribution(e,t,n){const{extent:r,scale:i}=t;let o=n.tileInfo?.scaleToZoom(i)??0;if(o=Math.min(e.maxKey??0,Math.round(o)),!r||null==o||o<=-1)return"";const s=e[o],a=(0,Iy.Cv)(r.center.clone().normalize(),Pu.A.WebMercator),l=new Set;return s?s.filter((e=>{const t=e.id,n=!l.has(t)&&a&&e.extent&&(0,Qh.qz)(e.extent,a);return n&&l.add(t),n})).sort(((e,t)=>t.score-e.score||e.objectId-t.objectId)).map((e=>e.attribution)).join(", "):""}};(0,Gl._)([(0,ql.MZ)({readOnly:!0,type:Yl.A})],Ry.prototype,"items",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Ry.prototype,"state",null),(0,Gl._)([(0,ql.MZ)()],Ry.prototype,"view",void 0),Ry=(0,Gl._)([(0,Jl.$)("esri.widgets.Attribution.AttributionViewModel")],Ry);const Oy=Ry;var Ny=s(533),Ly=s(97944),Dy=s(2153),Fy=s(2110);const jy="esri-attribution",Zy={base:jy,poweredBy:`${jy}__powered-by`,sources:`${jy}__sources`,open:`${jy}--open`,sourcesOpen:`${jy}__sources--open`,link:`${jy}__link`};let Uy=class extends Ty.A{constructor(e,t){super(e,t),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver((e=>e.forEach((({target:e})=>this._checkSourceTextOverflow(e))))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new Oy}initialize(){this.addHandles((0,tc.on)((()=>this.viewModel?.items),"change",(()=>this.scheduleRender())))}destroy(){this._resizeObserver?.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce(((e,t)=>(e.includes(t.text)||e.push(t.text),e)),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e={[Zy.open]:this._isOpen};return(0,Fy.K)("div",{bind:this,class:this.classes(Zy.base,Ny.D.widget,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return(0,Fy.K)("div",{class:Zy.poweredBy},"Powered by"," ",(0,Fy.K)("a",{class:Zy.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const e=this._isOpen,t=this._isInteractive,n=t?0:void 0,{attributionText:r}=this,i={[Zy.sourcesOpen]:e,[Ny.D.interactive]:t};return(0,Fy.K)("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(Zy.sources,i),innerHTML:r,tabIndex:n})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._resizeObserver.observe(e)}_checkSourceTextOverflow(e){let t=!1;const{clientHeight:n,clientWidth:r,scrollWidth:i}=e,o=i>r,s=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,s&&(t=!0),this._isOpen){const e=n<this._prevSourceNodeHeight;this._prevSourceNodeHeight=n,e&&(this._isOpen=!1,t=!0)}t&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};(0,Gl._)([(0,ql.MZ)()],Uy.prototype,"_isOpen",void 0),(0,Gl._)([(0,ql.MZ)()],Uy.prototype,"_isInteractive",null),(0,Gl._)([(0,ql.MZ)()],Uy.prototype,"_attributionTextOverflowed",void 0),(0,Gl._)([(0,ql.MZ)()],Uy.prototype,"_prevSourceNodeHeight",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Uy.prototype,"attributionText",null),(0,Gl._)([(0,ql.MZ)()],Uy.prototype,"icon",null),(0,Gl._)([(0,ql.MZ)()],Uy.prototype,"itemDelimiter",void 0),(0,Gl._)([(0,ql.MZ)()],Uy.prototype,"label",null),(0,Gl._)([(0,ql.MZ)(),(0,Dy.G)("esri/widgets/Attribution/t9n/Attribution")],Uy.prototype,"messages",void 0),(0,Gl._)([(0,ql.MZ)()],Uy.prototype,"view",null),(0,Gl._)([(0,ql.MZ)({type:Oy})],Uy.prototype,"viewModel",void 0),(0,Gl._)([(0,Ly.$)()],Uy.prototype,"_toggleState",null),Uy=(0,Gl._)([(0,Jl.$)("esri.widgets.Attribution")],Uy);const zy=Uy;var Vy=s(77324);var By=s(64209);let $y=class extends((0,By.A)(gc.A)){constructor(e){super(e),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(tc.Vh)}destroy(){this.view=null}get canShowNorth(){return function(e){return e?.spatialReference?.isWebMercator||e?.spatialReference?.isGeographic||!1}(this.view)}get state(){return!this.view?.ready||"2d"===this.view.type&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){this.view?.ready&&("2d"===this.view?.type?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:(0,Vy.s)()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(e){null!=e&&this._set("orientation",{z:e})}_updateForCamera(e){if(!e)return;const t=-e.heading;this._set("orientation",{x:0,y:0,z:t})}_updateRotationWatcher(e){this.removeAllHandles(),this._watchForView(),e&&this.addHandles("2d"===e.type?(0,tc.wB)((()=>e?.rotation),this._updateForRotation,tc.Vh):(0,tc.wB)((()=>e?.camera),this._updateForCamera,tc.Vh))}_watchForView(e){this.addHandles((0,tc.wB)((()=>this.view),this._updateRotationWatcher,e))}};(0,Gl._)([(0,ql.MZ)({readOnly:!0})],$y.prototype,"canShowNorth",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],$y.prototype,"orientation",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],$y.prototype,"state",null),(0,Gl._)([(0,ql.MZ)()],$y.prototype,"view",void 0),$y=(0,Gl._)([(0,Jl.$)("esri.widgets.Compass.CompassViewModel")],$y);const Gy=$y,qy="esri-compass",Hy={base:qy,iconContainer:`${qy}__icon-container`};var Wy=s(27190);let Jy=class extends Ty.A{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new Gy,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=e=>({transform:`rotateZ(${e.z}deg)`})}loadDependencies(){return(0,Wy.W)({button:()=>Promise.resolve().then(s.bind(s,37836)),icon:()=>Promise.resolve().then(s.bind(s,32239))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return"rotation"===this.viewModel.state?"arrow-up":"compass-needle"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:t}=this.viewModel,{messages:n}=this;return(0,Fy.K)("div",{class:this.classes(Hy.base,Ny.D.widget)},(0,Fy.K)("calcite-button",{class:Ny.D.widgetButton,disabled:"disabled"===t,kind:"neutral",label:n.reset,onclick:this._reset,round:!0,scale:"s",title:n.reset},(0,Fy.K)("div",{"aria-hidden":"true",class:Hy.iconContainer,title:n.reset},(0,Fy.K)("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(e)}))))}};(0,Gl._)([(0,ql.MZ)()],Jy.prototype,"goToOverride",null),(0,Gl._)([(0,ql.MZ)()],Jy.prototype,"icon",null),(0,Gl._)([(0,ql.MZ)()],Jy.prototype,"label",null),(0,Gl._)([(0,ql.MZ)(),(0,Dy.G)("esri/widgets/Compass/t9n/Compass")],Jy.prototype,"messages",void 0),(0,Gl._)([(0,ql.MZ)()],Jy.prototype,"view",null),(0,Gl._)([(0,ql.MZ)({type:Gy})],Jy.prototype,"viewModel",void 0),Jy=(0,Gl._)([(0,Jl.$)("esri.widgets.Compass")],Jy);const Ky=Jy,Yy="esri-navigation-toggle",Xy=Yy,Qy=`${Yy}--horizontal`;let eg=class extends gc.A{constructor(e){super(e),this._navigationMode="pan",this.view=null,e?.isDefaultViewModel||(0,Xd.u6)(Wl.A.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.33"})}normalizeCtorArgs(e={}){const{isDefaultViewModel:t,...n}=e;return n}initialize(){this.addHandles((0,tc.z7)((()=>this.view?.navigation?.actionMap),(()=>this._updateNavigationActionMap())))}destroy(){this.view=null}get state(){return this.view?.ready&&"3d"===this.view?.type?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(e){this._navigationMode=e,this._updateNavigationActionMap()}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate")}_updateNavigationActionMap(){const e=this.view?.navigation?.actionMap;if(!e)return;const t="pan"===this._navigationMode;e.dragPrimary=t?"pan":"rotate",e.dragSecondary=t?"rotate":"pan"}};(0,Gl._)([(0,ql.MZ)({readOnly:!0})],eg.prototype,"state",null),(0,Gl._)([(0,ql.MZ)()],eg.prototype,"_navigationMode",void 0),(0,Gl._)([(0,ql.MZ)()],eg.prototype,"view",void 0),eg=(0,Gl._)([(0,Jl.$)("esri.widgets.NavigationToggle.NavigationToggleViewModel")],eg);const tg=eg;let ng=class extends Ty.A{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new tg({isDefaultViewModel:!0}),this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{const e="pan"===this.viewModel?.navigationMode?this._rotateButton:this._panButton;(0,my.Z6)(e),this.toggle()},e?.isDefaultUI||(0,Xd.ED)(Wl.A.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.32"})}normalizeCtorArgs(e={}){const{isDefaultUI:t,...n}=e;return n}loadDependencies(){return(0,Wy.W)({button:()=>Promise.resolve().then(s.bind(s,37836))})}get icon(){return"move"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}set layout(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e="disabled"===this.viewModel?.state,t="pan"===this.viewModel?.navigationMode,n=this.messages.toggle;return(0,Fy.K)("div",{class:this.classes(Xy,Ny.D.widget,{[Qy]:"horizontal"===this.layout})},(0,Fy.K)("calcite-button",{afterCreate:e=>{this._panButton=e},appearance:t?"outline-fill":"solid",class:Ny.D.widgetButton,disabled:e,iconStart:"move",kind:"neutral",label:n,onclick:this._toggle,tabIndex:t?void 0:-1,title:n}),(0,Fy.K)("calcite-button",{afterCreate:e=>{this._rotateButton=e},appearance:t?"solid":"outline-fill",class:Ny.D.widgetButton,disabled:e,iconStart:"rotate",kind:"neutral",label:n,onclick:this._toggle,tabIndex:t?-1:void 0,title:n}))}};(0,Gl._)([(0,ql.MZ)()],ng.prototype,"icon",null),(0,Gl._)([(0,ql.MZ)()],ng.prototype,"label",null),(0,Gl._)([(0,ql.MZ)({value:"vertical"})],ng.prototype,"layout",null),(0,Gl._)([(0,ql.MZ)(),(0,Dy.G)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],ng.prototype,"messages",void 0),(0,Gl._)([(0,ql.MZ)()],ng.prototype,"view",null),(0,Gl._)([(0,ql.MZ)({type:tg})],ng.prototype,"viewModel",void 0),ng=(0,Gl._)([(0,Jl.$)("esri.widgets.NavigationToggle")],ng);const rg=ng;let ig=class extends gc.A{get canZoomIn(){const e=this.view?.ready;if(!e)return!1;const t=this.view?.constraints?.effectiveMaxScale;return 0===t||this._scale>t}get canZoomOut(){const{view:e}=this,t=e?.ready;if(!t)return!1;const n=e.constraints?.effectiveMinScale;return 0===n||this._scale<n}get _scale(){const e=this.view?.animation?.target;return(e&&"then"in e?void 0:e?.scale)??this.view?.scale??0}};(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ig.prototype,"canZoomIn",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],ig.prototype,"canZoomOut",null),(0,Gl._)([(0,ql.MZ)()],ig.prototype,"view",void 0),(0,Gl._)([(0,ql.MZ)()],ig.prototype,"_scale",null),ig=(0,Gl._)([(0,Jl.$)("esri.widgets.Zoom.ZoomConditions2D")],ig);const og=ig;let sg=class extends gc.A{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};(0,Gl._)([(0,ql.MZ)({readOnly:!0})],sg.prototype,"canZoomIn",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],sg.prototype,"canZoomOut",null),(0,Gl._)([(0,ql.MZ)()],sg.prototype,"view",void 0),sg=(0,Gl._)([(0,Jl.$)("esri.widgets.Zoom.ZoomConditions3D")],sg);const ag=sg;let lg=class extends gc.A{constructor(e){super(e)}destroy(){this.view=null}get canZoomIn(){return null!=this._zoomConditions&&this._zoomConditions.canZoomIn}get canZoomOut(){return null!=this._zoomConditions&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(e){e?"2d"===e.type?this._zoomConditions=new og({view:e}):"3d"===e.type&&(this._zoomConditions=new ag({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){const e=this.view;this.canZoomIn&&e&&("2d"===e.type?e.mapViewNavigation.zoomIn():(0,Ec.QZ)(e.goTo({zoomFactor:2})))}zoomOut(){const e=this.view;this.canZoomOut&&e&&("2d"===e.type?e.mapViewNavigation.zoomOut():(0,Ec.QZ)(e.goTo({zoomFactor:.5})))}};(0,Gl._)([(0,ql.MZ)()],lg.prototype,"_zoomConditions",void 0),(0,Gl._)([(0,ql.MZ)()],lg.prototype,"canZoomIn",null),(0,Gl._)([(0,ql.MZ)()],lg.prototype,"canZoomOut",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],lg.prototype,"state",null),(0,Gl._)([(0,ql.MZ)()],lg.prototype,"view",null),lg=(0,Gl._)([(0,Jl.$)("esri.widgets.Zoom.ZoomViewModel")],lg);const cg=lg,ug="esri-zoom",dg="esri-zoom--horizontal";let hg=class extends Ty.A{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new cg,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return(0,Wy.W)({button:()=>Promise.resolve().then(s.bind(s,37836))})}get icon(){return"magnifying-glass-plus"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}set layout(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}set view(e){this.viewModel.view=e}get view(){return this.viewModel.view}render(){const e={[dg]:"horizontal"===this.layout},{canZoomIn:t,canZoomOut:n}=this.viewModel,{zoomIn:r,zoomOut:i}=this.messages;return(0,Fy.K)("div",{class:this.classes(ug,Ny.D.widget,e)},(0,Fy.K)("calcite-button",{class:Ny.D.widgetButton,disabled:!t,iconStart:"plus",kind:"neutral",label:r,onclick:this.zoomIn,title:r}),(0,Fy.K)("calcite-button",{class:Ny.D.widgetButton,disabled:!n,iconStart:"minus",kind:"neutral",label:i,onclick:this.zoomOut,title:i}))}};(0,Gl._)([(0,ql.MZ)()],hg.prototype,"icon",null),(0,Gl._)([(0,ql.MZ)()],hg.prototype,"label",null),(0,Gl._)([(0,ql.MZ)({value:"vertical"})],hg.prototype,"layout",null),(0,Gl._)([(0,ql.MZ)(),(0,Dy.G)("esri/widgets/Zoom/t9n/Zoom")],hg.prototype,"messages",void 0),(0,Gl._)([(0,ql.MZ)()],hg.prototype,"view",null),(0,Gl._)([(0,ql.MZ)({type:cg})],hg.prototype,"viewModel",void 0),hg=(0,Gl._)([(0,Jl.$)("esri.widgets.Zoom")],hg);const pg=hg;let fg=class extends Ay{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=e=>{this.components.forEach((t=>{const n=this._find(t),r=n?.widget;(function(e){return void 0!==e?.view})(r)&&(r.view=e)}))},this._componentsWatcher=(e,t)=>{this._removeComponents(t),this._addComponents(e),this._adjustPadding(e)}}initialize(){this.addHandles([(0,tc.wB)((()=>this.components),this._componentsWatcher,tc.Vh),(0,tc.wB)((()=>this.view),this._updateViewAwareWidgets,tc.Vh)])}_add(e,t,n,r,i){let o=e;if("string"==typeof e&&this._defaultPositionLookup[e]){if(this._find(e))return;o=this._createComponent(e)}super._add(o,t,n,r,i)}_removeComponents(e){e.forEach((e=>{const t=this._find(e);t&&(this.remove(t),t.destroy())}))}_adjustPadding(e){if(!e.includes("attribution")&&!this._isOverridden("padding")){const{top:e}=this.padding;this.padding=e}}_addComponents(e){this.constructed&&e.forEach((e=>this.add(this._createComponent(e),this._defaultPositionLookup[e])))}_createComponent(e){const t=this._createWidget(e);return new py({id:e,node:t})}_createWidget(e){const t=this.view;switch(e){case"attribution":return new zy({view:t});case"compass":return new Ky({view:t});case"navigation-toggle":return new rg({view:t,isDefaultUI:!0});case"zoom":return new pg({view:t})}}};(0,Gl._)([(0,ql.MZ)()],fg.prototype,"components",void 0),fg=(0,Gl._)([(0,Jl.$)("esri.views.ui.DefaultUI")],fg);const mg=fg;let yg=class extends mg{constructor(e){super(e),this.components=["attribution","zoom"]}};(0,Gl._)([(0,ql.MZ)()],yg.prototype,"components",void 0),yg=(0,Gl._)([(0,Jl.$)("esri.views.ui.2d.DefaultUI2D")],yg);const gg=yg;var vg,bg=s(50831);let wg=vg=class extends zc.A{constructor(e){super(e),this.color=new jc.A([0,0,0,1])}clone(){return new vg((0,Vc.o8)({color:this.color}))}};(0,Gl._)([(0,ql.MZ)({type:jc.A,json:{write:!0}})],wg.prototype,"color",void 0),wg=vg=(0,Gl._)([(0,Jl.$)("esri.webmap.background.ColorBackground")],wg);const _g=wg;let Sg,xg,Mg,Ag,Tg,Ig,Cg;let Eg=class extends(xf(mp(hc(Oc(Ic(xh)))))){constructor(e){super(e),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Xl.A({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new oh({actionMap:new th({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.floors=new Yl.A,this.grid=null,this.map=null,this.spatialReferenceLocked=!1,this.timeline=new cy.K,this.type="2d",this.view2dType=null,this.ui=new gg,this.test={takeScreenshot:async e=>async function(e,t){const n=await ly(e,t);return(0,sy.encodeData)(n,ay)}(this._getScreenshotView(e),e)},this.padding={top:0,right:0,bottom:0,left:0},(0,nc.n_)()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=(0,ec.pR)(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new Ym(this.featuresTilingScheme)}get constraintsInfo(){const e=this.defaultsFromMap?.tileInfo,t=this.spatialReference;return{lods:e?.spatialReference?.equals(t)?e.lods:null,spatialReference:t}}get initialExtentRequired(){if(!this.stateManager)return!1;const{scale:e,constraints:t,center:n,viewpoint:r,extent:i}=this;let o=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint||i||(t?.effectiveLODs||(o=-1),n&&(0!==e||-1!==o)||null!=r?.targetGeometry&&("extent"===r.targetGeometry.type||r.scale)))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=e.targetGeometry,n=this.spatialReference;return(0,sc.isLoadedOrLoadFor)(t.spatialReference,n)}get background(){return(0,bg.r)(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){return this.stateManager?.center??null}set center(e){this.stateManager.center=e}get highlightOptions(){return(0,ey.a)(this)}set highlightOptions(e){(0,ey.o)(this,e)}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){return this.stage?.renderRequested??!1}get resolution(){return this.stateManager.resolution??0}get scale(){return this.stateManager?.scale??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get tileInfo(){return this.featuresTilingScheme?.tileInfo}get updating(){const e=!(!this.magnifier.visible||null===this.magnifier.position||!this._magnifierView?.updatingHandles.updating),t=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some((e=>!e.destroyed&&!("layerViews"in e)&&!0===e.updating))||e);if((0,Hl.A)("esri-2d-log-updating")){this.allLayerViews.reduce(((e,t)=>({...e,[`${t.layer.id}(${t.layer.type})`]:!t.destroyed&&!("layerViews"in t)&&t.updating})),{})}return t}get visibleArea(){const e=this.stateManager.visibleArea;return e?new oc.A({rings:[e.map((e=>[e[0],e[1]]))],spatialReference:this.spatialReference}):e}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){return this.mapViewNavigation?.interacting??!1}async hitTest(e,t){return async function(e,t,n){const r=(0,Pd.FV)(t)?(0,Pd.xB)(e,t):t;if(!e.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let i=new Set;const o=new Set;let s=!1,a=null,l=null;n?.include?ry(n.include,ny(e,(e=>{i.add(e),oy(e,(e=>o.add(e)))}),((e,t)=>{o.add(e),i.add(t)}),(e=>{a||(a=new Set),a.add(e)}),(e=>i.add(e)),(()=>s=!0))):(s=!0,i=new Set(e.allLayerViews),i.forEach((e=>{oy(e,(e=>o.add(e)))}))),n?.exclude&&ry(n.exclude,ny(e,(e=>{i.delete(e),oy(e,(e=>o.delete(e)))}),(e=>o.delete(e)),(e=>{l||(l=new Set),l.add(e)})));const c=e.toMap(r),u=e.allLayerViews.filter((t=>!t.suspended&&i.has(t)&&t.clips.every((t=>(0,Qm.O)(e,t,r,c))))).reverse();let d=[...s?e.graphicsView.hitTest(c).map((e=>({type:"graphic",graphic:e,layer:null,mapPoint:c}))):[],...await Promise.all(u.map((e=>e.hitTest(c,r))).toArray())].filter(Bu.Ru).flat().filter(Bu.Ru);return d=d.filter((e=>"graphic"!==e.type||"subtype-group"!==e.layer?.type||o.has(e.graphic.layer))),a&&(d=d.filter((e=>!("graphic"in e)||!e.graphic||a?.has(iy(e.graphic))))),l&&(d=d.filter((e=>!("graphic"in e)||!e.graphic||!l?.has(iy(e.graphic))))),{screenPoint:r,results:d}}(this,e,t)}async takeScreenshot(e){return async function(e,t){const n=await ly(e,t),{format:r,quality:i}=(0,sy.getFormatAndQuality)(t?.format,t?.quality);return(0,sy.encode)(n,{format:r,quality:i},ay)}(this._getScreenshotView(e),e)}toScreen(e,t){return this.stateManager.toScreen(e,t)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise((e=>{this.ready?e(this):this._resolveWhenReady.push(e)}))}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return(0,bg.r)(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return(0,bg.r)(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(e){return Zm(e)}importLayerView(e){return Um(e)}pixelSizeAt(){return this.ready?this.resolution:(Wl.A.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(e){const t=this.toMap(e),n=await this.hitTest(e),r=this.allLayerViews.toArray().filter((n=>n.clips.every((n=>(0,Qm.O)(this,n,e,t))))).reverse(),i=new globalThis.Map(r.map((e=>[e.layer.uid,e]))),o=[];let s=0,a=0;for(;s<n.results.length||a<r.length;){const e=n.results.at(s);if(e&&"graphic"!==e.type){++s;continue}const l=i.get((e?.layer??e?.graphic.layer)?.uid);if((!e||l)&&a<r.length&&r.at(a)!==l){const e=r.at(a);"fetchPopupFeaturesAtLocation"in e&&o.push({mapPoint:t,layerView:e}),++a}else e&&(o.push({graphic:e.graphic,layerView:l}),++s)}return{hits:o,location:t}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=function(e){const t=(0,uy.C)();return t.available?"3d"===e&&t.majorPerformanceCaveat?new Ql.A("webgl:major-performance-caveat-detected",`Your WebGL implementation (${t.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new Ql.A("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new Ql.A("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new Ql.A("webgl:required","WebGL2 is required but not supported.",(new Error).stack)}(this.type);if((0,Hl.A)("safari")&&(0,Hl.A)("safari")<9&&(e=new Ql.A("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,Hl.A)("safari")})),null!=e){Wl.A.getLogger(this).warn("#validate()",e.message);const t=document.createElement("div");t.setAttribute("style","display: flex; flex-direction: column; gap: 8px; padding: 20px; height: 100%; justify-content: center; color: black; background: white; font-family: sans-serif;");const n=document.createElement("div");n.innerHTML="Unable to display map. WebGL2 support is required.",n.setAttribute("style","font-size: 24px; font-weight: bold;");const r=document.createElement("div");r.innerHTML="Ensure that your browser and hardware meet the minimum requirements.",r.setAttribute("style","font-size: 18px;");const i=document.createElement("a");throw i.innerHTML="https://esriurl.com/systemRequirements",i.target="_blank",i.setAttribute("style","font-size: 18px;"),i.href="https://esriurl.com/systemRequirements",t.appendChild(n),t.appendChild(r),t.appendChild(i),this.surface.appendChild(t),e}}loadAsyncDependencies(){return async function(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:n,MapViewNavigation:r,MagnifierView2D:i,GridView2D:o,Stage:a}]=await Promise.all([Promise.all([s.e(6860),s.e(9224)]).then(s.bind(s,69224)),Promise.all([s.e(6860),s.e(8920),s.e(7764),s.e(1942),s.e(9018),s.e(8615),s.e(2644),s.e(2321),s.e(2999),s.e(1550),s.e(9488),s.e(9294),s.e(7442),s.e(7060),s.e(4231),s.e(2653)]).then(s.bind(s,82653))]);xg=e,Mg=t,Ag=n,Tg=r,Ig=i,Cg=o,Sg=a}()}_getDefaultViewpoint(){const{constraints:e,initialExtent:t,map:n,padding:r,size:i}=this;if(!e)return null;const o=n&&"initialViewProperties"in n?n.initialViewProperties:void 0,s=this.stateManager.getUserStartupOptions(this.size),a=o?.viewpoint,l=a?.targetGeometry?.extent??t,c=l?.center,u=a?.rotation??0,d=a?.scale||l&&(0,Ih.AU)(l,[i[0]-r.left-r.right,i[1]-r.top-r.bottom]),h=s.center??c,p=s.rotation??u,f=s.scale??d;return h&&f?new Kl.A({targetGeometry:h,scale:f,rotation:p}):null}_startup(){this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;const t=new Bm.W(this.surface),n=new Sg(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline},t);this.stage=n,this._magnifierView=new Ig,this._magnifierView.magnifier=this.magnifier,this._gridView=new Cg;const r=new Ag({view:this});this._set("labelManager",r);const i=new Nm({view:this});this._set("animationManager",i);const o=new Tg({view:this,animationManager:i});this._set("mapViewNavigation",o),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",(()=>this._updateStageChildren())),n.on("webgl-error",(e=>this.fatalError=e.error)),(0,tc.wB)((()=>this.stationary),(e=>n.stationary=e),tc.pc),(0,tc.wB)((()=>this.background),(e=>{n.backgroundColor=e?.color,this._magnifierView.backgroundColor=e?.color}),tc.pc),(0,tc.wB)((()=>this.magnifier),(e=>this._magnifierView.magnifier=e),tc.pc),(0,tc.wB)((()=>this.grid),(e=>this._gridView.grid=e),tc.pc),(0,tc.wB)((()=>this.renderingOptions),(e=>n.renderingOptions=e),tc.pc),(0,tc.wB)((()=>this.highlights.items.map((e=>({name:e.name,options:{fillColor:e.color,haloColor:e.haloColor,fillOpacity:e.fillOpacity,haloOpacity:e.haloOpacity,haloWidth:e.haloWidth,haloBlur:e.haloBlur}})))),(()=>{n.highlightGradient=(0,Xm.u4)(n.highlightGradient,this.highlights.items)}),tc.pc),(0,tc.wB)((()=>this.state.id),(()=>n.state=this.state),tc.pc)],"map-view"),this._updateStageChildren();const s=this._resolveWhenReady;this._resolveWhenReady=[],s.forEach((e=>e(this))),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach((e=>{this.stage.addChild(e.container)}));const e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const e=new zm.A(ac.A.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new xg({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new Mg(e)});this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){const{allLayerViews:t,padding:n,size:r,stage:i}=this;return{allLayerViews:t,backgroundColor:e?.ignoreBackground?null:this.background?.color,padding:n,size:r,stage:i}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const e of this.allLayerViews)e.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const e of this.allLayerViews)e.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}static{this.type="2d"}};(0,Gl._)([(0,ql.MZ)({constructOnly:!0})],Eg.prototype,"deactivatedWebGLExtensions",void 0),(0,Gl._)([(0,ql.MZ)({constructOnly:!0})],Eg.prototype,"debugWebGLExtensions",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Eg.prototype,"featuresTilingScheme",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Eg.prototype,"graphicsTileStore",null),(0,Gl._)([(0,ql.MZ)()],Eg.prototype,"graphicsView",void 0),(0,Gl._)([(0,ql.MZ)()],Eg.prototype,"constraintsInfo",null),(0,Gl._)([(0,ql.MZ)()],Eg.prototype,"initialExtentRequired",null),(0,Gl._)([(0,ql.MZ)()],Eg.prototype,"labelManager",void 0),(0,Gl._)([(0,ql.MZ)({type:oh,nonNullable:!0})],Eg.prototype,"navigation",void 0),(0,Gl._)([(0,ql.MZ)({constructOnly:!0})],Eg.prototype,"renderCanvas",void 0),(0,Gl._)([(0,ql.MZ)()],Eg.prototype,"renderingOptions",void 0),(0,Gl._)([(0,ql.MZ)({constructOnly:!0})],Eg.prototype,"supersampleScreenshotsEnabled",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Eg.prototype,"supportsGround",void 0),(0,Gl._)([(0,ql.MZ)()],Eg.prototype,"defaultsFromMapSettings",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Eg.prototype,"typeSpecificPreconditionsReady",null),(0,Gl._)([(0,ql.MZ)({type:_g})],Eg.prototype,"background",null),(0,Gl._)([(0,ql.MZ)()],Eg.prototype,"center",null),(0,Gl._)([(0,ql.MZ)({type:Yl.A})],Eg.prototype,"floors",void 0),(0,Gl._)([(0,ql.MZ)()],Eg.prototype,"grid",void 0),(0,Gl._)([(0,ql.MZ)({type:Vd.A})],Eg.prototype,"highlightOptions",null),(0,Gl._)([(0,ql.MZ)()],Eg.prototype,"map",void 0),(0,Gl._)([(0,ql.MZ)()],Eg.prototype,"padding",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Eg.prototype,"rendering",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Eg.prototype,"resolution",null),(0,Gl._)([(0,ql.MZ)()],Eg.prototype,"scale",null),(0,Gl._)([(0,ql.MZ)({constructOnly:!0})],Eg.prototype,"spatialReferenceLocked",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Eg.prototype,"tileInfo",null),(0,Gl._)([(0,ql.MZ)({type:cy.K,readOnly:!0})],Eg.prototype,"timeline",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Eg.prototype,"type",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Eg.prototype,"updating",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Eg.prototype,"view2dType",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Eg.prototype,"visibleArea",null),(0,Gl._)([(0,ql.MZ)()],Eg.prototype,"zoom",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Eg.prototype,"navigating",null),(0,Gl._)([(0,ql.MZ)(),(0,rc.w)((e=>e instanceof mg?e:(0,ic.PZ)(gg,e)))],Eg.prototype,"ui",void 0),Eg=(0,Gl._)([(0,Jl.$)("esri.views.View2D")],Eg);const kg=Eg;let Pg=class extends kg{constructor(e){super(e),this.view2dType="map"}};(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Pg.prototype,"view2dType",void 0),Pg=(0,Gl._)([(0,Jl.$)("esri.views.MapView")],Pg);const Rg=Pg;var Og=s(6480),Ng=s(67214),Lg=s(19759),Dg=s(41446),Fg=s(43305),jg=s(86074);let Zg=class extends zc.A{constructor(e){super(e),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],Zg.prototype,"facilityIdField",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],Zg.prototype,"layerId",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],Zg.prototype,"nameField",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:!0}})],Zg.prototype,"siteIdField",void 0),(0,Gl._)([(0,ql.MZ)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Zg.prototype,"sublayerId",void 0),Zg=(0,Gl._)([(0,Jl.$)("esri.layers.support.FacilityLayerInfo")],Zg);const Ug=Zg;let zg=class extends zc.A{constructor(e){super(e),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],zg.prototype,"facilityIdField",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],zg.prototype,"layerId",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],zg.prototype,"levelIdField",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],zg.prototype,"levelNumberField",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],zg.prototype,"longNameField",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],zg.prototype,"shortNameField",void 0),(0,Gl._)([(0,ql.MZ)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],zg.prototype,"sublayerId",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],zg.prototype,"verticalOrderField",void 0),zg=(0,Gl._)([(0,Jl.$)("esri.layers.support.LevelLayerInfo")],zg);const Vg=zg;let Bg=class extends zc.A{constructor(e){super(e),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],Bg.prototype,"layerId",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],Bg.prototype,"nameField",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],Bg.prototype,"siteIdField",void 0),(0,Gl._)([(0,ql.MZ)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Bg.prototype,"sublayerId",void 0),Bg=(0,Gl._)([(0,Jl.$)("esri.layers.support.SiteLayerInfo")],Bg);const $g=Bg;let Gg=class extends zc.A{constructor(e){super(e),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};(0,Gl._)([(0,ql.MZ)({type:Vg,json:{write:{isRequired:!0}}})],Gg.prototype,"levelLayer",void 0),(0,Gl._)([(0,ql.MZ)({type:Ug,json:{write:{isRequired:!0}}})],Gg.prototype,"facilityLayer",void 0),(0,Gl._)([(0,ql.MZ)({type:$g,json:{write:!0}})],Gg.prototype,"siteLayer",void 0),Gg=(0,Gl._)([(0,Jl.$)("esri.support.MapFloorInfo")],Gg);const qg=Gg;var Hg,Wg=s(29759);let Jg=Hg=class extends zc.A{constructor(e){super(e),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new Hg((0,Vc.o8)({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};(0,Gl._)([(0,ql.MZ)({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],Jg.prototype,"activeRange",void 0),(0,Gl._)([(0,ql.MZ)({type:[Number],json:{write:!0}})],Jg.prototype,"currentRangeExtent",void 0),(0,Gl._)([(0,ql.MZ)({type:[Number],json:{write:!0}})],Jg.prototype,"fullRangeExtent",void 0),Jg=Hg=(0,Gl._)([(0,Jl.$)("esri.webdoc.RangeInfo")],Jg);const Kg=Jg;var Yg;let Xg=Yg=class extends zc.A{constructor(e){super(e),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new Yg((0,Vc.o8)({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};(0,Gl._)([(0,ql.MZ)({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],Xg.prototype,"enabled",void 0),(0,Gl._)([(0,ql.MZ)({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],Xg.prototype,"longNames",void 0),(0,Gl._)([(0,ql.MZ)({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],Xg.prototype,"minimized",void 0),(0,Gl._)([(0,ql.MZ)({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],Xg.prototype,"pinnedLevels",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{read:{source:"site"},write:{target:"site"}}})],Xg.prototype,"site",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],Xg.prototype,"facility",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{read:{source:"level"},write:{target:"level"}}})],Xg.prototype,"level",void 0),Xg=Yg=(0,Gl._)([(0,Jl.$)("esri.webdoc.widgets.FloorFilter")],Xg);const Qg=Xg;var ev,tv=s(1817);const nv=new tv.J({slider:"slider",picker:"picker"});let rv=ev=class extends zc.A{constructor(e){super(e),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new ev({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};(0,Gl._)([(0,ql.MZ)({type:nv.apiValues,nonNullable:!0,json:{type:nv.jsonValues,default:null,read:{reader:nv.read},write:{isRequired:!0,writer:nv.write}}})],rv.prototype,"interactionMode",void 0),(0,Gl._)([(0,ql.MZ)({type:ic.jz,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const e=null!=this.stopInterval;return{enabled:!e,isRequired:!e}}}}})],rv.prototype,"numStops",void 0),(0,Gl._)([(0,ql.MZ)({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],rv.prototype,"stopInterval",void 0),rv=ev=(0,Gl._)([(0,Jl.$)("esri.webdoc.widgets.Range")],rv);const iv=rv;var ov,sv=s(21750),av=s(95752),lv=s(38946);let cv=ov=class extends zc.A{constructor(e){super(e),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(e){return e?Du.T.fromArray(e):void 0}writeCurrentTimeExtent(e,t,n){e&&(0,sv.sM)(n,e.toArray(),t)}readFullTimeExtent(e,t){const n=t.properties;if(!n)return;const r=null!=n.endTime?new Date(n.endTime):null,i=null!=n.startTime?new Date(n.startTime):null;return new Du.T({start:i,end:r})}writeFullTimeExtent(e,t){if(!e)return;const n=t.properties=t.properties||{},r=e.end,i=e.start;r&&(n.endTime=null!=r?r.getTime():null),i&&(n.startTime=null!=i?i.getTime():null)}readStopInterval(e,t,n){return e?lv.T.fromJSON({value:e.interval,unit:e.units},n):null}writeStopInterval(e,t,n,r){if(!e)return;const i=e.toJSON(r);(0,sv.sM)("properties.timeStopInterval",{interval:i.value,units:i.unit},t)}readStops(e){return e?.length?e.map((e=>new Date(e))):null}writeStops(e,t,n){e?.length&&(0,sv.sM)(n,e.map((e=>e.getTime())),t)}clone(){return new ov((0,Vc.o8)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};(0,Gl._)([(0,ql.MZ)({type:Du.T,json:{type:[[ic.jz,ic.Uv]],read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],cv.prototype,"currentTimeExtent",void 0),(0,Gl._)([(0,ou.w)("currentTimeExtent")],cv.prototype,"readCurrentTimeExtent",null),(0,Gl._)([(0,Gc.K)("currentTimeExtent")],cv.prototype,"writeCurrentTimeExtent",null),(0,Gl._)([(0,ql.MZ)({type:Du.T,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],cv.prototype,"fullTimeExtent",void 0),(0,Gl._)([(0,ou.w)("fullTimeExtent")],cv.prototype,"readFullTimeExtent",null),(0,Gl._)([(0,Gc.K)("fullTimeExtent")],cv.prototype,"writeFullTimeExtent",null),(0,Gl._)([(0,ql.MZ)({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],cv.prototype,"loop",void 0),(0,Gl._)([(0,ql.MZ)({type:ic.jz,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){const e=!!this.stopInterval,t=!!this.stops?.length,n=!(e||t);return{enabled:n,isRequired:n}}}}})],cv.prototype,"numStops",void 0),(0,Gl._)([(0,ql.MZ)({type:[1,2],nonNullable:!0,json:{type:ic.jz,read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],cv.prototype,"numThumbs",void 0),(0,Gl._)([(0,ql.MZ)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],cv.prototype,"stopDelay",void 0),(0,Gl._)([(0,ql.MZ)({type:lv.T,json:{read:{source:"properties.timeStopInterval"},write:{target:{"properties.timeStopInterval.interval":{type:Number},"properties.timeStopInterval.units":{type:av.j.jsonValues.filter((e=>"esriTimeUnitsUnknown"!==e))}},overridePolicy(){const e=null!=this.numStops,t=!!this.stops?.length;return{enabled:!t,isRequired:!(e||t)}}}}})],cv.prototype,"stopInterval",void 0),(0,Gl._)([(0,ou.w)("stopInterval")],cv.prototype,"readStopInterval",null),(0,Gl._)([(0,Gc.K)("stopInterval")],cv.prototype,"writeStopInterval",null),(0,Gl._)([(0,ql.MZ)({type:[Date],json:{type:[ic.jz],read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],cv.prototype,"stops",void 0),(0,Gl._)([(0,ou.w)("stops")],cv.prototype,"readStops",null),(0,Gl._)([(0,Gc.K)("stops")],cv.prototype,"writeStops",null),cv=ov=(0,Gl._)([(0,Jl.$)("esri.webdoc.widgets.TimeSlider")],cv);const uv=cv;var dv;let hv=dv=class extends zc.A{constructor(e){super(e),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new dv((0,Vc.o8)({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};(0,Gl._)([(0,ql.MZ)({type:iv,json:{write:!0}})],hv.prototype,"range",void 0),(0,Gl._)([(0,ql.MZ)({type:uv,json:{write:!0}})],hv.prototype,"timeSlider",void 0),(0,Gl._)([(0,ql.MZ)({type:Qg,json:{write:!0}})],hv.prototype,"floorFilter",void 0),hv=dv=(0,Gl._)([(0,Jl.$)("esri.webdoc.Widgets")],hv);const pv=hv,fv={width:600,height:400},mv=1.5;var yv=s(10069),gv=s(35497),vv=s(15697);function bv(e,t){return t.resourceInfo?wv(t,t.resourceInfo,{origin:e.origin}):t.portalItem?.id?async function(e,t,n){if(await n.load().catch((t=>{throw new Ql.A(`${e.name}:load-portal-item`,"Failed to load portal item",{error:t})})),n.type!==e.itemType)throw new Ql.A(`${e.name}:invalid-portal-item`,`Invalid portal item type '${n.type}', expected '${e.itemType}'`,{type:n.type});const r=await n.fetchData();t.resourceInfo=r;const i=(0,yv.v)(n,e.origin);await function(e,t,n,r){const i=function(e,t){const n=e.parseVersion(t.version||"",e.name);return e.currentVersion.validate(n),t.version=`${n.major}.${n.minor}`,t}(e,n);return t.read(i,r),wv(t,i,r)}(e,t,r,i),t.resourceReferences={portalItem:n,paths:i.readResourcePaths};const o=await async function(e,t,n){const r=e?.viewpoint?.targetGeometry;if(r)return null;const i=await async function(e,t,n){const r=e?.spatialReference,i=t?.extent;if(!r||!i)return null;if(r.isWGS84)return i.clone();if(r.isWebMercator)return(0,Iy.Gh)(i);const{getGeometryServiceURL:o}=await s.e(7942).then(s.bind(s,57942));try{const e=await o(t),n=new vv.A({geometries:[i],outSpatialReference:r});return(await(0,gv.C)(e,n))[0]}catch(e){n.error("Error projecting item's extent:",e)}return null}(e,t,n);return i?new Kl.A({targetGeometry:i}):null}(t.initialViewProperties,n,Wl.A.getLogger(t));if(o){const n=t.initialViewProperties?.clone()??e.createInitialViewProperties();n.viewpoint=o,t.initialViewProperties=n}}(e,t,t.portalItem):Promise.resolve()}function wv(e,t,n){const r={context:{...n,layerContainerType:"operational-layers"}};return e.portalItem&&(r.context.portal=e.portalItem.portal||ga.A.getDefault()),Promise.resolve().then(s.bind(s,12387)).then((({populateOperationalLayers:n})=>{const i=[],o=t.operationalLayers;o?.length&&i.push(n(e.layers,o,r));const s={...r,context:{...r.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},a=t.tables;return a?.length&&i.push(n(e.tables,a,s)),Promise.allSettled(i).then((()=>{}))}))}var _v=s(52380);function Sv(e){return{enabled:!!e?.length}}var xv,Mv=s(94832);let Av=xv=class extends zc.A{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new xv({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,Gl._)([(0,ql.MZ)({type:Boolean,json:{write:!0}})],Av.prototype,"exactMatch",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:!0}})],Av.prototype,"name",void 0),(0,Gl._)([(0,qc.e)(Mv.m)],Av.prototype,"type",void 0),Av=xv=(0,Gl._)([(0,Jl.$)("esri.webdoc.applicationProperties.SearchLayerField")],Av);const Tv=Av;var Iv;let Cv=Iv=class extends zc.A{constructor(e){super(e),this.field=null,this.id=null,this.subLayer=null}clone(){return new Iv((0,Vc.o8)({field:this.field,id:this.id,subLayer:this.subLayer}))}};(0,Gl._)([(0,ql.MZ)({type:Tv,json:{write:{isRequired:!0}}})],Cv.prototype,"field",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],Cv.prototype,"id",void 0),(0,Gl._)([(0,ql.MZ)({type:ic.jz,json:{write:!0}})],Cv.prototype,"subLayer",void 0),Cv=Iv=(0,Gl._)([(0,Jl.$)("esri.webdoc.applicationProperties.SearchLayer")],Cv);const Ev=Cv;var kv;let Pv=kv=class extends zc.A{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new kv({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,Gl._)([(0,ql.MZ)({type:Boolean,json:{write:!0}})],Pv.prototype,"exactMatch",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:!0}})],Pv.prototype,"name",void 0),(0,Gl._)([(0,qc.e)(Mv.m)],Pv.prototype,"type",void 0),Pv=kv=(0,Gl._)([(0,Jl.$)("esri.webdoc.applicationProperties.SearchTableField")],Pv);const Rv=Pv;var Ov;let Nv=Ov=class extends zc.A{constructor(e){super(e),this.field=null,this.id=null}clone(){return new Ov((0,Vc.o8)({field:this.field,id:this.id}))}};(0,Gl._)([(0,ql.MZ)({type:Rv,json:{write:{isRequired:!0}}})],Nv.prototype,"field",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],Nv.prototype,"id",void 0),Nv=Ov=(0,Gl._)([(0,Jl.$)("esri.webdoc.applicationProperties.SearchTable")],Nv);const Lv=Nv;var Dv;const Fv=Yl.A.ofType(Ev),jv=Yl.A.ofType(Lv);let Zv=Dv=class extends zc.A{constructor(e){super(e),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new Fv,this.tables=new jv}readAddressSearchEnabled(e){return!e}writeAddressSearchEnabled(e,t,n){t[n]=!e}clone(){return new Dv((0,Vc.o8)({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};(0,Gl._)([(0,ql.MZ)({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],Zv.prototype,"addressSearchEnabled",void 0),(0,Gl._)([(0,ou.w)("addressSearchEnabled")],Zv.prototype,"readAddressSearchEnabled",null),(0,Gl._)([(0,Gc.K)("addressSearchEnabled")],Zv.prototype,"writeAddressSearchEnabled",null),(0,Gl._)([(0,ql.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],Zv.prototype,"enabled",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:!0}})],Zv.prototype,"hintText",void 0),(0,Gl._)([(0,ql.MZ)({type:Fv,json:{write:{overridePolicy:Sv},origins:{"web-scene":{write:{isRequired:!0}}}}})],Zv.prototype,"layers",void 0),(0,Gl._)([(0,ql.MZ)({type:jv,json:{read:!0,write:{overridePolicy:Sv}}})],Zv.prototype,"tables",void 0),Zv=Dv=(0,Gl._)([(0,Jl.$)("esri.webdoc.applicationProperties.Search")],Zv);const Uv=Zv;var zv;let Vv=zv=class extends zc.A{constructor(e){super(e),this.search=null}clone(){return new zv((0,Vc.o8)({search:this.search}))}};(0,Gl._)([(0,ql.MZ)({type:Uv,json:{write:!0}})],Vv.prototype,"search",void 0),Vv=zv=(0,Gl._)([(0,Jl.$)("esri.webdoc.applicationProperties.Viewing")],Vv);const Bv=Vv;var $v;let Gv=$v=class extends zc.A{constructor(e){super(e),this.editing=null,this.offline=null,this.viewing=null}clone(){return new $v((0,Vc.o8)({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};(0,Gl._)([(0,ql.MZ)({json:{write:!0}})],Gv.prototype,"editing",void 0),(0,Gl._)([(0,ql.MZ)({json:{write:!0}})],Gv.prototype,"offline",void 0),(0,Gl._)([(0,ql.MZ)({type:Bv,json:{write:!0}})],Gv.prototype,"viewing",void 0),Gv=$v=(0,Gl._)([(0,Jl.$)("esri.webmap.ApplicationProperties")],Gv);const qv=Gv;var Hv;let Wv=Hv=class extends zc.A{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}get isSecureUrl(){return(0,Lg.m3)(this.url)}get isDataURI(){return(0,Lg.DB)(this.url)}clone(){return new Hv({url:this.url})}};(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],Wv.prototype,"url",void 0),(0,Gl._)([(0,ql.MZ)()],Wv.prototype,"isSecureUrl",null),(0,Gl._)([(0,ql.MZ)()],Wv.prototype,"isDataURI",null),Wv=Hv=(0,Gl._)([(0,Jl.$)("esri.webdoc.support.SlideThumbnail")],Wv);const Jv={type:Du.T,json:{read:{source:"timeExtent",reader:e=>e?Array.isArray(e)?Du.T.fromArray(e):Du.T.fromJSON(e):null},write:{writer:(e,t,n,r)=>{e&&(e.isEmpty?r?.messages&&r.messages.push(new Ql.A("invalid-timeExtent","TimeExtent cannot be empty")):t[n]=e.toArray())},target:{timeExtent:{type:[[ic.jz,ic.Uv]]}}}}};var Kv;let Yv=Kv=class extends(Xh.A.IdentifiableMixin(zc.A)){constructor(e){super(e),this.name=null,this.thumbnail=new Wv,this.timeExtent=null}castThumbnail(e){return"string"==typeof e?new Wv({url:e}):(0,ic.dp)(Wv,e)}set viewpoint(e){const{targetGeometry:t,scale:n}=e;null!=t&&"point"===t.type&&null==n&&Wl.A.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",e),this._set("viewpoint",e)}readViewpoint(e,t){const{extent:n,viewpoint:r}=t;return Kl.A.fromJSON(r||{targetGeometry:n})}writeViewpoint(e,t,n,r){if(!e)return;const{targetGeometry:i}=e;if(null==i||"extent"===i.type)null!=i&&(t.extent=i.toJSON()),t[n]=e.toJSON();else{const e="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";r?.messages?r.messages.push(new Ql.A("property:unsupported",e)):Wl.A.getLogger(this).error(e)}}clone(){return new Kv((0,Vc.o8)({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};(0,Gl._)([(0,ql.MZ)({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],Yv.prototype,"name",void 0),(0,Gl._)([(0,ql.MZ)({type:Wv,json:{write:{overridePolicy:e=>({enabled:!(!e||!e.url)})}}})],Yv.prototype,"thumbnail",void 0),(0,Gl._)([(0,rc.w)("thumbnail")],Yv.prototype,"castThumbnail",null),(0,Gl._)([(0,ql.MZ)(Jv)],Yv.prototype,"timeExtent",void 0),(0,Gl._)([(0,ql.MZ)({type:Kl.A,nonNullable:!0,json:{write:!0}})],Yv.prototype,"viewpoint",null),(0,Gl._)([(0,ou.w)("viewpoint",["extent","viewpoint"])],Yv.prototype,"readViewpoint",null),(0,Gl._)([(0,Gc.K)("viewpoint")],Yv.prototype,"writeViewpoint",null),Yv=Kv=(0,Gl._)([(0,Jl.$)("esri.webmap.Bookmark")],Yv);const Xv=Yv;let Qv=class extends(nu.A.ClonableMixin(gc.A)){constructor(e){super(e),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.timeExtent=null,this.timeZone=Lu.qU,this.viewpoint=null}};(0,Gl._)([(0,ql.MZ)({type:_g})],Qv.prototype,"background",void 0),(0,Gl._)([(0,ql.MZ)({type:Kg})],Qv.prototype,"rangeInfo",void 0),(0,Gl._)([(0,ql.MZ)({type:Pu.A})],Qv.prototype,"spatialReference",void 0),(0,Gl._)([(0,ql.MZ)({type:Du.T})],Qv.prototype,"timeExtent",void 0),(0,Gl._)([(0,ql.MZ)({nonNullable:!0})],Qv.prototype,"timeZone",void 0),(0,Gl._)([(0,ql.MZ)({type:Kl.A})],Qv.prototype,"viewpoint",void 0),Qv=(0,Gl._)([(0,Jl.$)("esri.webmap.InitialViewProperties")],Qv);const eb=Qv;var tb=s(266);const nb=Yl.A.ofType(Xv),rb=new Map([["image/jpeg","jpeg"],["image/jpg","jpg"],["image/png","png"],["image/gif","gif"]]),ib=jg.mm.JSAPI;let ob=class extends((0,Ng.P)(Bc.A.LoadableMixin(Iu.A.EsriPromiseMixin(Au)))){constructor(e){super(e),this._isAuthoringAppSetByUser=!1,this._isAuthoringAppVersionSetByUser=!1,this._thumbnailFilename=null,this._updateFromPromise=null,this.resourceReferences={portalItem:null,paths:[]},this.applicationProperties=null,this.bookmarks=new nb,this.floorInfo=null,this.initialViewProperties=new eb,this.portalItem=null,this.sourceVersion=null,this.widgets=null,this._debouncedSaveOperations=(0,Ec.sg)((async(e,t,n)=>{const{save:r,saveAs:i}=await s.e(3320).then(s.bind(s,3320));switch(e){case Wg.X.SAVE:return r(this.context,this,t);case Wg.X.SAVE_AS:return i(this.context,this,n,t)}})),this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){this.portalItem=(0,ec.pR)(this.portalItem)}initialize(){if(this.when().catch((e=>{Wl.A.getLogger(this).error("#load()","Failed to load web map",e)})),this.resourceInfo){let e;try{e=this._validateJSON(this.resourceInfo)}catch(e){return void this.addResolvingPromise(Promise.reject(e))}this.read(e)}}set authoringApp(e){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",e)}writeAuthoringApp(e,t){e&&this._isAuthoringAppSetByUser?t.authoringApp=e:t.authoringApp=ib}set authoringAppVersion(e){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",e)}writeAuthoringAppVersion(e,t){e&&this._isAuthoringAppVersionSetByUser?t.authoringAppVersion=e:t.authoringAppVersion=Og.rE}readInitialViewProperties(e,t){const n=new eb;t.background&&(n.background=_g.fromJSON(t.background));const r=t.initialState?.timeExtent;r&&(n.timeExtent=Du.T.fromArray(r));const i=t.initialState?.viewpoint;return i&&(i.rotation&&tb.R.parse(t.version||"","webmap").lessThan(2,20)&&"ArcGIS Pro"===t.authoringApp&&(i.rotation*=-1),n.viewpoint=Kl.A.fromJSON(i)),t.mapRangeInfo&&(n.rangeInfo=Kg.fromJSON(t.mapRangeInfo)),t.spatialReference&&(n.spatialReference=Pu.A.fromJSON(t.spatialReference)),t.timeZone&&(n.timeZone=t.timeZone),n}writeInitialViewProperties(e,t,n,r){if(!e)return;e.background?.color&&(t.background=e.background.write({},r));const{timeExtent:i,viewpoint:o}=e;if(o||i){const e={};o&&(e.viewpoint=o.write({},r)),i&&(e.timeExtent=i.toArray()),t.initialState=e}e.rangeInfo&&(t.mapRangeInfo=e.rangeInfo.toJSON(r)),e.spatialReference&&(t.spatialReference=e.spatialReference.write({},r)),t.timeZone=e.timeZone}writeLayers(e,t,n,r){t[n]=this._writeLayers(e,r,"operational-layers")}readSourceVersion(e,t){const[n,r]=t.version.split(".");return new tb.R(parseInt(n,10),parseInt(r,10))}writeSourceVersion(e,t,n){t[n]=`${this.context.currentVersion.major}.${this.context.currentVersion.minor}`}writeTables(e,t,n,r){const i=this._writeLayers(e,r,"tables");i.length&&(t[n]=i)}get thumbnailUrl(){return this.portalItem?.thumbnailUrl||null}set thumbnailUrl(e){e?(this._override("thumbnailUrl",e),this._thumbnailFilename=this._generateCustomThumbnailFilename(e)):this._clearThumbnailOverride()}get updatingFromView(){return!!this._updateFromPromise}load(e){return this.addResolvingPromise(bv(this.context,this)),Promise.resolve(this)}loadAll(){return(0,$c.g)(this,(e=>{e(this.ground,this.basemap,this.layers,this.tables)}))}read(e,t){t={...t,origin:this.context.origin};const n=this._getAuthoringPropsState();(0,Dg.t)(this,e,(t=>super.read(e,t)),t),this._restoreAuthoringPropsFromState(n)}write(e,t){if("loaded"!==this.loadStatus){const e=new Ql.A("webmap:not-loaded","Web map must be loaded before it can be serialized");throw Wl.A.getLogger(this).error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),e}return this._removeDanglingLayerRefs(),t={...t,origin:this.context.origin,restrictedWebMapWriting:!0,webmap:this},super.write(e,t)}async save(e){return this._debouncedSaveOperations(Wg.X.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(Wg.X.SAVE_AS,t,e)}async updateFrom(e,t){const n=this._updateFromInternal(e,t);this._updateFromPromise=n,await n,n===this._updateFromPromise&&(this._updateFromPromise=null)}getLayerJSONFromResourceInfo(e){const t=this.resourceInfo;return this._collectAllLayersJSON([...t?.baseMap?.baseMapLayers||[],...t?.operationalLayers||[],...this.basemap?.resourceInfo?.data?.baseMapLayers||[]]).find((t=>t.id===e.id))}async updateItemThumbnail(){this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(await(this.portalItem?.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename})),this._clearThumbnailOverride())}getThumbnailState(){let e=this.thumbnailUrl;return e&&(e=this._isOverridden("thumbnailUrl")?e:(0,Lg.rs)(e,"w","8192")),{thumbnailUrl:e,filename:this._thumbnailFilename}}restoreThumbnailFromState(e){this.thumbnailUrl=e.thumbnailUrl,this._thumbnailFilename=e.filename}_collectAllLayersJSON(e){return e.reduce(((e,t)=>(e.push(t),"GroupLayer"===t.layerType&&(e=e.concat(this._collectAllLayersJSON(t.layers||[]))),e)),[])}_writeLayers(e,t,n){return t={...t,layerContainerType:n},e.map((e=>(0,_v.CJ)(e,"tables"===n?null:this.getLayerJSONFromResourceInfo(e),t))).filter(Bu.Ru).toArray()}_validateJSON(e){const t=tb.R.parse(e.version||"","webmap");return this.context.currentVersion.validate(t),e.version=`${t.major}.${t.minor}`,e}_removeDanglingLayerRefs(){const e=this.applicationProperties,t=e?.viewing?.search,n=e=>this.allLayers.some((t=>t.id===e));if(t?.layers&&(t.layers=t.layers.filter((e=>n(e.id)))),t?.tables&&(t.tables=t.tables.filter((e=>this.tables.some((t=>t.id===e.id))))),e){const t=e.editing?.locationTracking;t?.info&&!n(t.info.layerId)&&(e.editing=null)}const r="presentation"in this?this.presentation:null,i=r?.slides;i&&i.forEach((e=>{e.visibleLayers&&(e.visibleLayers=e.visibleLayers.filter((e=>n(e.id))))}))}async _updateFromInternal(e,t){if(t??={},await(0,tc.C_)((()=>e.ready)),this._updateInitialViewProperties(e,t),e.map===this)for(const t of e.allLayerViews)"visible"in t&&"visible"in t.layer&&t._isOverridden("visible")&&(t.layer.visible=t.visible),"featureEffect"in t&&"featureEffect"in t.layer&&t._isOverridden("featureEffect")&&(t.layer.featureEffect=t.featureEffect);await this._updateThumbnailUrl(e,t)}_updateInitialViewProperties(e,t){if(t.backgroundExcluded||(this.initialViewProperties.background=e.background?.clone()),this.initialViewProperties.spatialReference=e.spatialReference?.clone(),this.initialViewProperties.timeZone=e.timeZone,t.viewpointExcluded||(this.initialViewProperties.viewpoint=new Kl.A({rotation:e.rotation,scale:t.scalePreserved?e.scale:null,targetGeometry:this._getViewExtent(e)})),!t.widgetsExcluded)for(const t of e.persistableViewModels)t.updateWebDocument(this)}_getViewExtent(e){const t=e.center.clone().normalize(),n=e.extent.clone(),r=n.width/2;return n.xmin=t.x-r,n.xmax=t.x+r,n}async _updateThumbnailUrl(e,t){if(t.thumbnailExcluded)return;const n=function(e,t){t=t||fv;let{width:n,height:r}=t;const i=n/r;return i<mv?r=n/mv:i>mv&&(n=r*mv),n>e.width&&(r*=e.width/n,n=e.width),r>e.height&&(n*=e.height/r,r=e.height),{width:Math.round(n),height:Math.round(r)}}(e,t.thumbnailSize),r=await e.takeScreenshot({format:"png",width:n.width,height:n.height});this._setAutoGeneratedThumbnail(r.dataUrl)}_setAutoGeneratedThumbnail(e){this.thumbnailUrl=e,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(e){if((0,Lg.DB)(e)){const t=(0,Lg.r$)(e),n=t?.mediaType,r=n&&rb.get(n.toLowerCase())||null,i=`thumbnail${Date.now()}`;return r?`${i}.${r}`:i}return null}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(e){e.isAuthoringAppSetByUser?this.authoringApp=e.authoringApp:this._isAuthoringAppSetByUser=!1,e.isAuthoringAppVersionSetByUser?this.authoringAppVersion=e.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}};(0,Gl._)([(0,ql.MZ)()],ob.prototype,"_updateFromPromise",void 0),(0,Gl._)([(0,ql.MZ)({type:qv,json:{write:!0}})],ob.prototype,"applicationProperties",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],ob.prototype,"authoringApp",null),(0,Gl._)([(0,Gc.K)("authoringApp")],ob.prototype,"writeAuthoringApp",null),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],ob.prototype,"authoringAppVersion",null),(0,Gl._)([(0,Gc.K)("authoringAppVersion")],ob.prototype,"writeAuthoringAppVersion",null),(0,Gl._)([(0,ql.MZ)({type:nb,json:{write:{overridePolicy:e=>({enabled:!!(e&&e.length>0),ignoreOrigin:!0})}}})],ob.prototype,"bookmarks",void 0),(0,Gl._)([(0,ql.MZ)({type:qg,json:{name:"mapFloorInfo",write:!0}})],ob.prototype,"floorInfo",void 0),(0,Gl._)([(0,ql.MZ)({type:eb,nonNullable:!0,json:{read:{source:["background","initialState.timeExtent","initialState.viewpoint","mapRangeInfo","spatialReference","timeZone"]},write:{ignoreOrigin:!0,target:{background:{type:_g},"initialState.timeExtent":{type:Du.T},"initialState.viewpoint":{type:Kl.A},mapRangeInfo:{type:Kg},spatialReference:{type:Pu.A},"timeZone:":{type:String}}}}})],ob.prototype,"initialViewProperties",void 0),(0,Gl._)([(0,ou.w)("initialViewProperties")],ob.prototype,"readInitialViewProperties",null),(0,Gl._)([(0,Gc.K)("initialViewProperties")],ob.prototype,"writeInitialViewProperties",null),(0,Gl._)([(0,ql.MZ)({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],ob.prototype,"layers",void 0),(0,Gl._)([(0,Gc.K)("layers")],ob.prototype,"writeLayers",null),(0,Gl._)([(0,ql.MZ)({type:Fg.default})],ob.prototype,"portalItem",void 0),(0,Gl._)([(0,ql.MZ)()],ob.prototype,"resourceInfo",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0,type:tb.R,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],ob.prototype,"sourceVersion",void 0),(0,Gl._)([(0,ou.w)("sourceVersion")],ob.prototype,"readSourceVersion",null),(0,Gl._)([(0,Gc.K)("sourceVersion")],ob.prototype,"writeSourceVersion",null),(0,Gl._)([(0,ql.MZ)({json:{read:!1,write:{ignoreOrigin:!0}}})],ob.prototype,"tables",void 0),(0,Gl._)([(0,Gc.K)("tables")],ob.prototype,"writeTables",null),(0,Gl._)([(0,ql.MZ)()],ob.prototype,"thumbnailUrl",null),(0,Gl._)([(0,ql.MZ)()],ob.prototype,"updatingFromView",null),(0,Gl._)([(0,ql.MZ)({type:pv,json:{write:!0}})],ob.prototype,"widgets",void 0),ob=(0,Gl._)([(0,Jl.$)("esri.WebDocument2D")],ob);const sb=ob;var ab=s(52442);let lb=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.expression=null,this.returnType="string",this.title=null}};(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{isRequired:!0}}})],lb.prototype,"expression",void 0),(0,Gl._)([(0,ql.MZ)({type:["number","string"],json:{write:!0}})],lb.prototype,"returnType",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:!0}})],lb.prototype,"title",void 0),lb=(0,Gl._)([(0,Jl.$)("esri.webdoc.geotriggersInfo.ExpressionInfo")],lb);const cb=lb,ub=new tv.J({deviceLocation:"device-location"});let db=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.filterExpression=null,this.type="device-location"}};(0,Gl._)([(0,ql.MZ)({type:cb,json:{write:!0}})],db.prototype,"filterExpression",void 0),(0,Gl._)([(0,ql.MZ)({type:ub.apiValues,readOnly:!0,json:{type:ub.jsonValues,read:ub.read,write:ub.write}})],db.prototype,"type",void 0),db=(0,Gl._)([(0,Jl.$)("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],db);const hb=db;var pb=s(56053),fb=s(54483);let mb=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.geometry=null,this.where=null}};(0,Gl._)([(0,ql.MZ)({types:fb.yR,json:{read:pb.rS,write:!0}})],mb.prototype,"geometry",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:!0}})],mb.prototype,"where",void 0),mb=(0,Gl._)([(0,Jl.$)("esri.webdoc.geotriggersInfo.FeatureFilter")],mb);const yb=mb;let gb=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.layerId=null,this.layerUrl=null,this.type="feature-layer"}};(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{overridePolicy(){return{isRequired:null===this.layerUrl}}}}})],gb.prototype,"layerId",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:{overridePolicy(){return{isRequired:null===this.layerId}}}}})],gb.prototype,"layerUrl",void 0),(0,Gl._)([(0,qc.e)({featureLayer:"feature-layer"},{readOnly:!0})],gb.prototype,"type",void 0),gb=(0,Gl._)([(0,Jl.$)("esri.webdoc.geotriggersInfo.FeatureLayerSource")],gb);const vb=gb;let bb=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type="features"}};(0,Gl._)([(0,ql.MZ)({type:vb,json:{write:{isRequired:!0}}})],bb.prototype,"fenceSource",void 0),(0,Gl._)([(0,ql.MZ)({type:yb,json:{write:!0}})],bb.prototype,"filter",void 0),(0,Gl._)([(0,ql.MZ)({type:Number,json:{write:!0}})],bb.prototype,"bufferDistance",void 0),(0,Gl._)([(0,qc.e)({features:"features"},{readOnly:!0})],bb.prototype,"type",void 0),bb=(0,Gl._)([(0,Jl.$)("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],bb);const wb=bb;let _b=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.type="fence"}};(0,Gl._)([(0,qc.e)({fence:"fence"},{readOnly:!0})],_b.prototype,"type",void 0),_b=(0,Gl._)([(0,Jl.$)("esri.webdoc.geotriggersInfo.Geotrigger")],_b);const Sb=_b;let xb=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.expressionInfo=null,this.requestedActions=null}};(0,Gl._)([(0,ql.MZ)({type:cb,json:{write:!0}})],xb.prototype,"expressionInfo",void 0),(0,Gl._)([(0,ql.MZ)({type:[String],json:{write:!0}})],xb.prototype,"requestedActions",void 0),xb=(0,Gl._)([(0,Jl.$)("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],xb);const Mb=xb,Ab=new tv.J({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),Tb=new tv.J({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"}),Ib=new tv.J({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"});let Cb=class extends Sb{constructor(e){super(e),this.enterExitRule="enter-contains-and-exit-does-not-intersect",this.feed=null,this.feedAccuracyMode="use-geometry",this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type="fence"}};(0,Gl._)([(0,qc.e)(Ab)],Cb.prototype,"enterExitRule",void 0),(0,Gl._)([(0,ql.MZ)({type:hb,json:{write:{isRequired:!0}}})],Cb.prototype,"feed",void 0),(0,Gl._)([(0,qc.e)(Tb)],Cb.prototype,"feedAccuracyMode",void 0),(0,Gl._)([(0,ql.MZ)({type:Ib.apiValues,json:{type:Ib.jsonValues,read:Ib.read,write:{writer:Ib.write,isRequired:!0}}})],Cb.prototype,"fenceNotificationRule",void 0),(0,Gl._)([(0,ql.MZ)({type:wb,json:{write:{isRequired:!0}}})],Cb.prototype,"fenceParameters",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:!0}})],Cb.prototype,"name",void 0),(0,Gl._)([(0,ql.MZ)({type:Mb,json:{write:!0}})],Cb.prototype,"notificationOptions",void 0),(0,Gl._)([(0,qc.e)({fence:"fence"},{readOnly:!0})],Cb.prototype,"type",void 0),Cb=(0,Gl._)([(0,Jl.$)("esri.webdoc.geotriggersInfo.FenceGeotrigger")],Cb);const Eb={base:Sb,key:"type",typeMap:{fence:Cb}};let kb=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.geotriggers=null}};(0,Gl._)([(0,ql.MZ)({types:[Eb],json:{write:{isRequired:!0}}})],kb.prototype,"geotriggers",void 0),kb=(0,Gl._)([(0,Jl.$)("esri.webdoc.GeotriggersInfo")],kb);const Pb=kb;let Rb=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.enabled=!0}};(0,Gl._)([(0,ql.MZ)({type:Boolean,nonNullable:!0,json:{write:!0}})],Rb.prototype,"enabled",void 0),Rb=(0,Gl._)([(0,Jl.$)("esri.webdoc.ips.AppleIPSProperties")],Rb);const Ob=Rb;let Nb=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.enabled=!0}};(0,Gl._)([(0,ql.MZ)({type:Boolean,nonNullable:!0,json:{write:!0}})],Nb.prototype,"enabled",void 0),Nb=(0,Gl._)([(0,Jl.$)("esri.webdoc.ips.GNSSProperties")],Nb);const Lb=Nb;let Db=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.enabled=!0,this.distance=5,this.units="meter"}};(0,Gl._)([(0,ql.MZ)({type:Boolean,nonNullable:!0,json:{write:!0}})],Db.prototype,"enabled",void 0),(0,Gl._)([(0,ql.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],Db.prototype,"distance",void 0),(0,Gl._)([(0,ql.MZ)({type:["feet","meter"],nonNullable:!0,json:{write:!0}})],Db.prototype,"units",void 0),Db=(0,Gl._)([(0,Jl.$)("esri.webdoc.ips.PathSnappingProperties")],Db);const Fb=Db;let jb=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.enabled=!0}};(0,Gl._)([(0,ql.MZ)({type:Boolean,nonNullable:!0,json:{write:!0}})],jb.prototype,"enabled",void 0),jb=(0,Gl._)([(0,Jl.$)("esri.webdoc.ips.SmoothingProperties")],jb);const Zb=jb;let Ub=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.appleIPS=null,this.gnss=null,this.smoothing=null,this.pathSnapping=null}};(0,Gl._)([(0,ql.MZ)({type:Ob,json:{name:"AppleIPS",write:!0}})],Ub.prototype,"appleIPS",void 0),(0,Gl._)([(0,ql.MZ)({type:Lb,json:{name:"GNSS",write:!0}})],Ub.prototype,"gnss",void 0),(0,Gl._)([(0,ql.MZ)({type:Zb,json:{write:!0}})],Ub.prototype,"smoothing",void 0),(0,Gl._)([(0,ql.MZ)({type:Fb,json:{write:!0}})],Ub.prototype,"pathSnapping",void 0),Ub=(0,Gl._)([(0,Jl.$)("esri.webdoc.ips.Configuration")],Ub);const zb=Ub;let Vb=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.portalItem=null}readPortalItem(e,t,n){const{itemId:r}=t;if(r)return new Fg.default({id:r,portal:n?.portal})}writePortalItem(e,t){e?.id&&(t.itemId=e.id)}};(0,Gl._)([(0,ql.MZ)({type:Fg.default,json:{write:{isRequired:!0}}})],Vb.prototype,"portalItem",void 0),(0,Gl._)([(0,ou.w)("portalItem",["itemId"])],Vb.prototype,"readPortalItem",null),(0,Gl._)([(0,Gc.K)("portalItem",{itemId:{type:String}})],Vb.prototype,"writePortalItem",null),Vb=(0,Gl._)([(0,Jl.$)("esri.webdoc.ips.PositioningService")],Vb);const Bb=Vb;let $b=class extends(nu.A.ClonableMixin(zc.A)){constructor(e){super(e),this.positioningService=null,this.configuration=null}};(0,Gl._)([(0,ql.MZ)({type:Bb,json:{write:{isRequired:!0}}})],$b.prototype,"positioningService",void 0),(0,Gl._)([(0,ql.MZ)({type:zb,json:{write:!0}})],$b.prototype,"configuration",void 0),$b=(0,Gl._)([(0,Jl.$)("esri.webdoc.IPSInfo")],$b);const Gb=$b,qb={currentVersion:bg.Y,createInitialViewProperties:()=>new eb,parseVersion:tb.R.parse,itemType:"Web Map",name:"webmap",origin:"web-map"},Hb=Yl.A.ofType(ab.default);let Wb=class extends sb{constructor(e){super(e),this.geotriggersInfo=null,this.ipsInfo=null,this.presentation=null,this.utilityNetworks=null}destroy(){if(this.utilityNetworks){const e=this.utilityNetworks.removeAll();for(const t of e)t.destroy();this.utilityNetworks.destroy()}}get context(){return qb}loadAll(){return(0,$c.g)(this,(e=>{e(this.ground,this.basemap,this.layers,this.tables,this.ipsInfo?.positioningService?.portalItem)}))}static fromJSON(e){if(e)return new this({resourceInfo:e});throw new Ql.A("webmap:empty-resource","Expected a JSON resource but got nothing")}static{this.VERSION=bg.Y}};(0,Gl._)([(0,ql.MZ)({type:Pb,json:{write:!0}})],Wb.prototype,"geotriggersInfo",void 0),(0,Gl._)([(0,ql.MZ)({type:Gb,json:{write:!0,name:"mapIPSInfo"}})],Wb.prototype,"ipsInfo",void 0),(0,Gl._)([(0,ql.MZ)({json:{write:!0}})],Wb.prototype,"presentation",void 0),(0,Gl._)([(0,ql.MZ)({type:Hb,json:{read:!0,write:!0}})],Wb.prototype,"utilityNetworks",void 0),Wb=(0,Gl._)([(0,Jl.$)("esri.WebMap")],Wb);const Jb=Wb;var Kb=({webmapId:t,center:n,zoom:r,shouldDisableMapNavigate:i,children:o})=>{const s=(0,e.useRef)(null),[a,l]=(0,e.useState)(null),c=(0,e.useRef)(null);return(0,e.useEffect)((()=>((async()=>{c.current=new Rg({container:s.current,center:n,zoom:r,map:new Jb({portalItem:{id:t}}),constraints:{lods:ac.A.create().lods,snapToZoom:!1},popupEnabled:!1}),c.current.ui.components=["attribution"],c.current.when((()=>{l(c.current)}))})(),()=>{c.current.destroy()})),[]),(0,e.useEffect)((()=>{if(!a)return;const[e,t]=n;a.center.longitude.toFixed(6)===e.toFixed(6)&&a.center.latitude.toFixed(6)===t.toFixed(6)&&a.zoom.toFixed(3)===r.toFixed(3)||a.goTo({center:n,zoom:r})}),[n,r]),e.createElement(e.Fragment,null,e.createElement("div",{className:Za()("absolute top-0 left-0 w-full bottom-0",{"pointer-events-none":i}),ref:s}),a?e.Children.map(o,(t=>t?e.cloneElement(t,{mapView:a}):null)):null)};var Yb=({mapView:t,onStationary:n,onClickHandler:r,mapViewUpdatingOnChange:i})=>((0,e.useEffect)((()=>{t&&(async()=>{n&&(0,tc.wB)((()=>t.stationary),(e=>{e&&n(t.center,t.zoom,t.extent,t.resolution,t.scale)})),r&&t.on("click",(e=>{r(e.mapPoint)})),(0,tc.wB)((()=>t.updating),(()=>{i(t.updating)}))})()}),[t]),null);const Xb=new Set(["children","localName","ref","style","className"]),Qb=new WeakMap,ew=(e,t,n,r,i)=>{const o=i?.[t];void 0===o?(e[t]=n,null==n&&t in HTMLElement.prototype&&e.removeAttribute(t)):n!==r&&((e,t,n)=>{let r=Qb.get(e);void 0===r&&Qb.set(e,r=new Map);let i=r.get(t);void 0!==n?void 0===i?(r.set(t,i={handleEvent:n}),e.addEventListener(t,i)):i.handleEvent=n:void 0!==i&&(r.delete(t),e.removeEventListener(t,i))})(e,o,n)},tw=({react:e,tagName:t,elementClass:n,events:r,displayName:i})=>{const o=new Set(Object.keys(r??{})),s=e.forwardRef(((i,s)=>{const a=e.useRef(new Map),l=e.useRef(null),c={},u={};for(const[e,t]of Object.entries(i))Xb.has(e)?c["className"===e?"class":e]=t:o.has(e)||e in n.prototype?u[e]=t:c[e]=t;return e.useLayoutEffect((()=>{if(null===l.current)return;const e=new Map;for(const t in u)ew(l.current,t,i[t],a.current.get(t),r),a.current.delete(t),e.set(t,i[t]);for(const[e,t]of a.current)ew(l.current,e,void 0,t,r);a.current=e})),e.useLayoutEffect((()=>{l.current?.removeAttribute("defer-hydration")}),[]),c.suppressHydrationWarning=!0,e.createElement(t,{...c,ref:e.useCallback((e=>{l.current=e,"function"==typeof s?s(e):null!==s&&(s.current=e)}),[s])})}));return s.displayName=i??n.name,s};var nw=s(62245);const rw=(0,nw.to)(e,tw),iw=((0,nw.br)("calcite-accordion",{}),(0,nw.br)("calcite-accordion-item",{}),(0,nw.br)("calcite-action",{}),(0,nw.br)("calcite-action-bar",{onCalciteActionBarToggle:"calciteActionBarToggle"}),(0,nw.br)("calcite-action-group",{}),(0,nw.br)("calcite-action-menu",{onCalciteActionMenuOpen:"calciteActionMenuOpen"}),(0,nw.br)("calcite-action-pad",{onCalciteActionPadToggle:"calciteActionPadToggle"}),(0,nw.br)("calcite-alert",{onCalciteAlertBeforeClose:"calciteAlertBeforeClose",onCalciteAlertBeforeOpen:"calciteAlertBeforeOpen",onCalciteAlertClose:"calciteAlertClose",onCalciteAlertOpen:"calciteAlertOpen"}),(0,nw.br)("calcite-autocomplete",{onCalciteAutocompleteBeforeClose:"calciteAutocompleteBeforeClose",onCalciteAutocompleteBeforeOpen:"calciteAutocompleteBeforeOpen",onCalciteAutocompleteChange:"calciteAutocompleteChange",onCalciteAutocompleteClose:"calciteAutocompleteClose",onCalciteAutocompleteOpen:"calciteAutocompleteOpen",onCalciteAutocompleteTextChange:"calciteAutocompleteTextChange",onCalciteAutocompleteTextInput:"calciteAutocompleteTextInput"}),(0,nw.br)("calcite-autocomplete-item",{}),(0,nw.br)("calcite-autocomplete-item-group",{}),(0,nw.br)("calcite-avatar",{}),(0,nw.br)("calcite-block",{onCalciteBlockBeforeClose:"calciteBlockBeforeClose",onCalciteBlockBeforeOpen:"calciteBlockBeforeOpen",onCalciteBlockClose:"calciteBlockClose",onCalciteBlockOpen:"calciteBlockOpen",onCalciteBlockSortHandleBeforeClose:"calciteBlockSortHandleBeforeClose",onCalciteBlockSortHandleBeforeOpen:"calciteBlockSortHandleBeforeOpen",onCalciteBlockSortHandleClose:"calciteBlockSortHandleClose",onCalciteBlockSortHandleOpen:"calciteBlockSortHandleOpen",onCalciteBlockToggle:"calciteBlockToggle"}),(0,nw.br)("calcite-block-group",{onCalciteBlockGroupDragEnd:"calciteBlockGroupDragEnd",onCalciteBlockGroupDragStart:"calciteBlockGroupDragStart",onCalciteBlockGroupMoveHalt:"calciteBlockGroupMoveHalt",onCalciteBlockGroupOrderChange:"calciteBlockGroupOrderChange"}),(0,nw.br)("calcite-block-section",{onCalciteBlockSectionToggle:"calciteBlockSectionToggle"}),rw((0,nw.br)("calcite-button",{}))),ow=((0,nw.br)("calcite-card",{onCalciteCardSelect:"calciteCardSelect"}),(0,nw.br)("calcite-card-group",{onCalciteCardGroupSelect:"calciteCardGroupSelect"}),(0,nw.br)("calcite-carousel",{onCalciteCarouselChange:"calciteCarouselChange",onCalciteCarouselPause:"calciteCarouselPause",onCalciteCarouselPlay:"calciteCarouselPlay",onCalciteCarouselResume:"calciteCarouselResume",onCalciteCarouselStop:"calciteCarouselStop"}),(0,nw.br)("calcite-carousel-item",{}),rw((0,nw.br)("calcite-checkbox",{onCalciteCheckboxChange:"calciteCheckboxChange"}))),sw=((0,nw.br)("calcite-chip",{onCalciteChipClose:"calciteChipClose",onCalciteChipSelect:"calciteChipSelect"}),(0,nw.br)("calcite-chip-group",{onCalciteChipGroupSelect:"calciteChipGroupSelect"}),rw((0,nw.br)("calcite-color-picker",{onCalciteColorPickerChange:"calciteColorPickerChange",onCalciteColorPickerInput:"calciteColorPickerInput"}))),aw=((0,nw.br)("calcite-color-picker-hex-input",{onCalciteColorPickerHexInputChange:"calciteColorPickerHexInputChange"}),(0,nw.br)("calcite-color-picker-swatch",{}),(0,nw.br)("calcite-combobox",{onCalciteComboboxBeforeClose:"calciteComboboxBeforeClose",onCalciteComboboxBeforeOpen:"calciteComboboxBeforeOpen",onCalciteComboboxChange:"calciteComboboxChange",onCalciteComboboxChipClose:"calciteComboboxChipClose",onCalciteComboboxClose:"calciteComboboxClose",onCalciteComboboxFilterChange:"calciteComboboxFilterChange",onCalciteComboboxOpen:"calciteComboboxOpen"}),(0,nw.br)("calcite-combobox-item",{onCalciteComboboxItemChange:"calciteComboboxItemChange"}),(0,nw.br)("calcite-combobox-item-group",{}),(0,nw.br)("calcite-date-picker",{onCalciteDatePickerChange:"calciteDatePickerChange",onCalciteDatePickerRangeChange:"calciteDatePickerRangeChange"}),(0,nw.br)("calcite-date-picker-day",{}),(0,nw.br)("calcite-date-picker-month",{}),(0,nw.br)("calcite-date-picker-month-header",{}),(0,nw.br)("calcite-dialog",{onCalciteDialogBeforeClose:"calciteDialogBeforeClose",onCalciteDialogBeforeOpen:"calciteDialogBeforeOpen",onCalciteDialogClose:"calciteDialogClose",onCalciteDialogOpen:"calciteDialogOpen",onCalciteDialogScroll:"calciteDialogScroll"}),(0,nw.br)("calcite-dropdown",{onCalciteDropdownBeforeClose:"calciteDropdownBeforeClose",onCalciteDropdownBeforeOpen:"calciteDropdownBeforeOpen",onCalciteDropdownClose:"calciteDropdownClose",onCalciteDropdownOpen:"calciteDropdownOpen",onCalciteDropdownSelect:"calciteDropdownSelect"}),(0,nw.br)("calcite-dropdown-group",{}),(0,nw.br)("calcite-dropdown-item",{onCalciteDropdownItemSelect:"calciteDropdownItemSelect"}),(0,nw.br)("calcite-fab",{}),(0,nw.br)("calcite-filter",{onCalciteFilterChange:"calciteFilterChange"}),(0,nw.br)("calcite-flow",{}),(0,nw.br)("calcite-flow-item",{onCalciteFlowItemBack:"calciteFlowItemBack",onCalciteFlowItemClose:"calciteFlowItemClose",onCalciteFlowItemScroll:"calciteFlowItemScroll",onCalciteFlowItemToggle:"calciteFlowItemToggle"}),(0,nw.br)("calcite-graph",{}),(0,nw.br)("calcite-handle",{onCalciteHandleChange:"calciteHandleChange",onCalciteHandleNudge:"calciteHandleNudge"}),rw((0,nw.br)("calcite-icon",{}))),lw=((0,nw.br)("calcite-inline-editable",{onCalciteInlineEditableEditCancel:"calciteInlineEditableEditCancel",onCalciteInlineEditableEditConfirm:"calciteInlineEditableEditConfirm"}),(0,nw.br)("calcite-input",{onCalciteInputChange:"calciteInputChange",onCalciteInputInput:"calciteInputInput"}),(0,nw.br)("calcite-input-date-picker",{onCalciteInputDatePickerBeforeClose:"calciteInputDatePickerBeforeClose",onCalciteInputDatePickerBeforeOpen:"calciteInputDatePickerBeforeOpen",onCalciteInputDatePickerChange:"calciteInputDatePickerChange",onCalciteInputDatePickerClose:"calciteInputDatePickerClose",onCalciteInputDatePickerOpen:"calciteInputDatePickerOpen"}),(0,nw.br)("calcite-input-message",{}),(0,nw.br)("calcite-input-number",{onCalciteInputNumberChange:"calciteInputNumberChange",onCalciteInputNumberInput:"calciteInputNumberInput"}),(0,nw.br)("calcite-input-text",{onCalciteInputTextChange:"calciteInputTextChange",onCalciteInputTextInput:"calciteInputTextInput"}),(0,nw.br)("calcite-input-time-picker",{onCalciteInputTimePickerBeforeClose:"calciteInputTimePickerBeforeClose",onCalciteInputTimePickerBeforeOpen:"calciteInputTimePickerBeforeOpen",onCalciteInputTimePickerChange:"calciteInputTimePickerChange",onCalciteInputTimePickerClose:"calciteInputTimePickerClose",onCalciteInputTimePickerOpen:"calciteInputTimePickerOpen"}),(0,nw.br)("calcite-input-time-zone",{onCalciteInputTimeZoneBeforeClose:"calciteInputTimeZoneBeforeClose",onCalciteInputTimeZoneBeforeOpen:"calciteInputTimeZoneBeforeOpen",onCalciteInputTimeZoneChange:"calciteInputTimeZoneChange",onCalciteInputTimeZoneClose:"calciteInputTimeZoneClose",onCalciteInputTimeZoneOpen:"calciteInputTimeZoneOpen"}),rw((0,nw.br)("calcite-label",{}))),cw=((0,nw.br)("calcite-link",{}),(0,nw.br)("calcite-list",{onCalciteListChange:"calciteListChange",onCalciteListDragEnd:"calciteListDragEnd",onCalciteListDragStart:"calciteListDragStart",onCalciteListFilter:"calciteListFilter",onCalciteListMoveHalt:"calciteListMoveHalt",onCalciteListOrderChange:"calciteListOrderChange"}),(0,nw.br)("calcite-list-item",{onCalciteListItemClose:"calciteListItemClose",onCalciteListItemSelect:"calciteListItemSelect",onCalciteListItemSortHandleBeforeClose:"calciteListItemSortHandleBeforeClose",onCalciteListItemSortHandleBeforeOpen:"calciteListItemSortHandleBeforeOpen",onCalciteListItemSortHandleClose:"calciteListItemSortHandleClose",onCalciteListItemSortHandleOpen:"calciteListItemSortHandleOpen",onCalciteListItemToggle:"calciteListItemToggle"}),(0,nw.br)("calcite-list-item-group",{}),rw((0,nw.br)("calcite-loader",{}))),uw=((0,nw.br)("calcite-menu",{}),(0,nw.br)("calcite-menu-item",{onCalciteMenuItemSelect:"calciteMenuItemSelect"}),(0,nw.br)("calcite-meter",{}),(0,nw.br)("calcite-modal",{onCalciteModalBeforeClose:"calciteModalBeforeClose",onCalciteModalBeforeOpen:"calciteModalBeforeOpen",onCalciteModalClose:"calciteModalClose",onCalciteModalOpen:"calciteModalOpen"}),(0,nw.br)("calcite-navigation",{onCalciteNavigationActionSelect:"calciteNavigationActionSelect"}),(0,nw.br)("calcite-navigation-logo",{}),(0,nw.br)("calcite-navigation-user",{}),(0,nw.br)("calcite-notice",{onCalciteNoticeBeforeClose:"calciteNoticeBeforeClose",onCalciteNoticeBeforeOpen:"calciteNoticeBeforeOpen",onCalciteNoticeClose:"calciteNoticeClose",onCalciteNoticeOpen:"calciteNoticeOpen"}),rw((0,nw.br)("calcite-option",{}))),dw=((0,nw.br)("calcite-option-group",{}),(0,nw.br)("calcite-pagination",{onCalcitePaginationChange:"calcitePaginationChange"}),(0,nw.br)("calcite-panel",{onCalcitePanelClose:"calcitePanelClose",onCalcitePanelScroll:"calcitePanelScroll",onCalcitePanelToggle:"calcitePanelToggle"}),(0,nw.br)("calcite-popover",{onCalcitePopoverBeforeClose:"calcitePopoverBeforeClose",onCalcitePopoverBeforeOpen:"calcitePopoverBeforeOpen",onCalcitePopoverClose:"calcitePopoverClose",onCalcitePopoverOpen:"calcitePopoverOpen"}),(0,nw.br)("calcite-progress",{}),(0,nw.br)("calcite-radio-button",{onCalciteRadioButtonChange:"calciteRadioButtonChange"}),(0,nw.br)("calcite-radio-button-group",{onCalciteRadioButtonGroupChange:"calciteRadioButtonGroupChange"}),(0,nw.br)("calcite-rating",{onCalciteRatingChange:"calciteRatingChange"}),(0,nw.br)("calcite-scrim",{}),(0,nw.br)("calcite-segmented-control",{onCalciteSegmentedControlChange:"calciteSegmentedControlChange"}),(0,nw.br)("calcite-segmented-control-item",{}),rw((0,nw.br)("calcite-select",{onCalciteSelectChange:"calciteSelectChange"}))),hw=((0,nw.br)("calcite-sheet",{onCalciteSheetBeforeClose:"calciteSheetBeforeClose",onCalciteSheetBeforeOpen:"calciteSheetBeforeOpen",onCalciteSheetClose:"calciteSheetClose",onCalciteSheetOpen:"calciteSheetOpen"}),(0,nw.br)("calcite-shell",{}),(0,nw.br)("calcite-shell-center-row",{}),(0,nw.br)("calcite-shell-panel",{}),(0,nw.br)("calcite-slider",{onCalciteSliderChange:"calciteSliderChange",onCalciteSliderInput:"calciteSliderInput"}),(0,nw.br)("calcite-sort-handle",{onCalciteSortHandleBeforeClose:"calciteSortHandleBeforeClose",onCalciteSortHandleBeforeOpen:"calciteSortHandleBeforeOpen",onCalciteSortHandleClose:"calciteSortHandleClose",onCalciteSortHandleMove:"calciteSortHandleMove",onCalciteSortHandleOpen:"calciteSortHandleOpen",onCalciteSortHandleReorder:"calciteSortHandleReorder"}),(0,nw.br)("calcite-sortable-list",{onCalciteListOrderChange:"calciteListOrderChange"}),(0,nw.br)("calcite-split-button",{onCalciteSplitButtonPrimaryClick:"calciteSplitButtonPrimaryClick",onCalciteSplitButtonSecondaryClick:"calciteSplitButtonSecondaryClick"}),(0,nw.br)("calcite-stack",{}),(0,nw.br)("calcite-stepper",{onCalciteStepperChange:"calciteStepperChange",onCalciteStepperItemChange:"calciteStepperItemChange"}),(0,nw.br)("calcite-stepper-item",{onCalciteStepperItemSelect:"calciteStepperItemSelect"}),(0,nw.br)("calcite-switch",{onCalciteSwitchChange:"calciteSwitchChange"}),(0,nw.br)("calcite-tab",{}),(0,nw.br)("calcite-tab-nav",{onCalciteTabChange:"calciteTabChange"}),(0,nw.br)("calcite-tab-title",{onCalciteTabsActivate:"calciteTabsActivate",onCalciteTabsClose:"calciteTabsClose"}),(0,nw.br)("calcite-table",{onCalciteTablePageChange:"calciteTablePageChange",onCalciteTableSelect:"calciteTableSelect"}),(0,nw.br)("calcite-table-cell",{}),(0,nw.br)("calcite-table-header",{}),(0,nw.br)("calcite-table-row",{onCalciteTableRowSelect:"calciteTableRowSelect"}),(0,nw.br)("calcite-tabs",{}),(0,nw.br)("calcite-text-area",{onCalciteTextAreaChange:"calciteTextAreaChange",onCalciteTextAreaInput:"calciteTextAreaInput"}),(0,nw.br)("calcite-tile",{onCalciteTileSelect:"calciteTileSelect"}),(0,nw.br)("calcite-tile-group",{onCalciteTileGroupSelect:"calciteTileGroupSelect"}),(0,nw.br)("calcite-tile-select",{onCalciteTileSelectChange:"calciteTileSelectChange"}),(0,nw.br)("calcite-tile-select-group",{}),(0,nw.br)("calcite-time-picker",{onCalciteTimePickerChange:"calciteTimePickerChange"}),(0,nw.br)("calcite-tip",{onCalciteTipDismiss:"calciteTipDismiss"}),(0,nw.br)("calcite-tip-group",{}),(0,nw.br)("calcite-tip-manager",{onCalciteTipManagerClose:"calciteTipManagerClose"}),(0,nw.br)("calcite-tooltip",{onCalciteTooltipBeforeClose:"calciteTooltipBeforeClose",onCalciteTooltipBeforeOpen:"calciteTooltipBeforeOpen",onCalciteTooltipClose:"calciteTooltipClose",onCalciteTooltipOpen:"calciteTooltipOpen"}),(0,nw.br)("calcite-tree",{onCalciteTreeSelect:"calciteTreeSelect"}),(0,nw.br)("calcite-tree-item",{}),({active:t,swipeWidgetHandlerPosition:n})=>t?e.createElement(e.Fragment,null,e.createElement("div",{className:Za()("map-loading-indicator","flex items-center h-full absolute top-0 left-0 pointer-events-none"),style:{width:n?`${n}%`:"100%"}},e.createElement(cw,null)),n&&e.createElement("div",{className:Za()("flex items-center h-full absolute top-0 right-0 pointer-events-none"),style:{width:100-n+"%"}},e.createElement(cw,null))):null),pw=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",height:"16",width:"16"},e.createElement("path",{fill:"currentColor",d:"M14.071 15a.929.929 0 0 0 .929-.929V2.93a.929.929 0 0 0-.929-.93H2.93a.929.929 0 0 0-.93.929V14.07a.929.929 0 0 0 .929.929zM3 3h11v11H3zm9.262 2l.738.738-5.443 5.43-2.822-2.822.738-.738 2.084 2.088z"}),e.createElement("path",{fill:"none",d:"M0 0h16v16H0z"})),fw=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",height:"16",width:"16"},e.createElement("path",{fill:"currentColor",d:"M14.071 15a.929.929 0 0 0 .929-.929V2.93a.929.929 0 0 0-.929-.93H2.93a.929.929 0 0 0-.93.929V14.07a.929.929 0 0 0 .929.929zM3 3h11v11H3z"}),e.createElement("path",{fill:"none",d:"M0 0h16v16H0z"})),mw=({label:t,active:n,onToggle:r})=>e.createElement("div",{className:"mx-2 my-1 md:my-0 cursor-pointer z-10 flex items-center",onClick:r},n?pw:fw,e.createElement("span",{className:"ml-1"},t)),yw=()=>{const t=bs(),n=ws(Cl),r=ws(El),i=ws(kl),{t:o}=$();return e.createElement("div",{className:"md:flex relative py-2 theme-background"},e.createElement(mw,{label:o("map_labels"),active:n,onToggle:()=>{t(Ot())}}),e.createElement(mw,{label:o("terrain"),active:r,onToggle:()=>{t(Nt())}}),e.createElement(mw,{label:o("basemap"),active:i,onToggle:()=>{t(Lt())}}))};var gw=(t,n)=>{(0,e.useEffect)((()=>{const e=e=>{const r=e.target;t.current&&!t.current.contains(r)&&n(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[t,n])};const vw=()=>{const t=e.useRef(null),[n,r]=e.useState(!1);return gw(t,(()=>{r(!1)})),e.createElement("div",{className:" h-full flex items-start",ref:t},e.createElement("div",{className:Za()("mr-2",{hidden:!1===n})},e.createElement(yw,null)),e.createElement("div",{className:"theme-background text-custom-light-blue",style:{"--calcite-button-text-color":"var(--custom-light-blue)"}},e.createElement(iw,{iconStart:"layers",appearance:"transparent",kind:"neutral",onClick:()=>{r(!n)}})))},bw=({shoudHide:t})=>e.createElement("div",{className:Za()("absolute text-custom-light-blue text-xs top-map-ui-top-position",{hidden:t}),style:{right:15}},Vn?e.createElement(vw,null):e.createElement(yw,null)),ww=e=>e?.map?e.map.allLayers.filter((e=>"Human Geography Dark Label"===e.title||"Human Geography Dark Detail Light Water"===e.title||"Human Geography Dark Detail Dry"===e.title)):null,_w=e=>e?.map?e.map.allLayers.filter((e=>"World Imagery"===e.title||"LandCoverAppOceans"===e.title)):null;var Sw=({mapView:t})=>{const n=(0,e.useRef)(null),r=(0,e.useRef)(null),i=ws(Cl),o=ws(kl),s=()=>{if(n.current)for(const e of n.current)e.visible=i},a=()=>{if(r.current)for(const e of r.current)e.visible=o};return(0,e.useEffect)((()=>{t&&(n.current=ww(t),r.current=_w(t),s(),a())}),[t]),(0,e.useEffect)((()=>{s()}),[i]),(0,e.useEffect)((()=>{a()}),[o]),null},xw=s.p+"map-anchor30d82b29995875af75cc.png";const Mw=({shouldShow:t})=>e.createElement("div",{className:Za()("absolute top-[50%] left-[50%] pointer-events-none z-10",{hidden:!1===t}),style:{transform:"translate(-22px, -22px)"}},e.createElement("img",{src:xw}));var Aw=({mapOnClick:t,children:n})=>{const r=bs(),i=ws(Ml),o=ws(Al),s=ws(bl),a=ws(dl),l=ws($a),c=ws(Pl),[u,d]=(0,e.useState)(!0),h=ws(Ya),p=ws(Rl),f=(0,e.useMemo)((()=>!a&&u),[u,a]);return(0,e.useEffect)((()=>{((e,t)=>{zs("mapCenter",xs(e,t))})(i,o)}),[o,i]),(0,e.useEffect)((()=>{document.body.classList.toggle("hide-map-control",a)}),[a]),(0,e.useEffect)((()=>{r(jt(u))}),[u]),(0,e.useEffect)((()=>{"swipe"!==h&&r(zt(null))}),[h]),e.createElement("div",{className:Za()("absolute top-app-header-size md:top-0 left-0 w-full",{"bottom-0":!0===s,"bottom-bottom-panel-height":!1===s})},e.createElement(Kb,{webmapId:Bs,center:i,zoom:o,shouldDisableMapNavigate:a},n,e.createElement(Yb,{onStationary:(e,t,n,i,o)=>{r(Ct([e.longitude,e.latitude])),r(Et(t)),r(kt(i)),r(Pt(o))},onClickHandler:e=>{const{latitude:n,longitude:r}=e;t&&t({x:+r,y:+n,longitude:r,latitude:n,spatialReference:{wkid:4326}})},mapViewUpdatingOnChange:d}),e.createElement(hw,{active:f,swipeWidgetHandlerPosition:l?c:null}),e.createElement(Mw,{shouldShow:"find a scene"===h&&null===p}),e.createElement(Sw,null)),e.createElement(bw,{shoudHide:a}))},Tw=s(36427),Iw=s(3065),Cw=s(85785);const Ew=e=>({ascending:!1,lockRasterIds:e,mosaicMethod:"esriMosaicLockRaster",where:`objectid in (${e.join(",")})`});var kw=({imageryServiceUrl:t,mapView:n,animationStatus:r,queryParams4ImageryScenes:i})=>{const[o,s]=(0,e.useState)(null),a=(0,e.useRef)(null),l=async()=>{if(n){a.current&&a.current.abort(),a.current=new AbortController;try{const e=Ss(n.extent),r=n.width,o=n.height,{xmin:l,ymin:c,xmax:u,ymax:d}=e,h=i.filter((e=>null!==e.objectIdOfSelectedScene)).map((n=>(async({serviceUrl:e,extent:t,width:n,height:r,rasterFunctionName:i,objectId:o,abortController:s})=>{const{xmin:a,xmax:l,ymin:c,ymax:u}=t,d=`${e}/exportImage?${new URLSearchParams({f:"image",bbox:`${a},${c},${l},${u}`,bboxSR:"102100",imageSR:"102100",format:"jpgpng",size:`${n},${r}`,mosaicRule:JSON.stringify(Ew([o])),renderingRule:JSON.stringify({rasterFunction:i})}).toString()}`,h=await fetch(d,{signal:s.signal});return await h.blob()})({serviceUrl:t,extent:e,width:r,height:o,objectId:n.objectIdOfSelectedScene,rasterFunctionName:n.rasterFunctionName,abortController:a.current}))),p=(await Promise.all(h)).map((e=>new Iw.A({image:URL.createObjectURL(e),georeference:new Cw.A({extent:{spatialReference:{wkid:102100},xmin:l,ymin:c,xmax:u,ymax:d}}),opacity:1})));s(p)}catch(e){}}};return(0,e.useEffect)((()=>{if(r)"loading"===r&&l();else{if(a.current&&a.current.abort(),o)for(const e of o)URL.revokeObjectURL(e.image);s(null)}}),[r]),(0,e.useEffect)((()=>{"loading"===r&&l()}),[n?.height]),o};var Pw=({animationStatus:t,animationSpeed:n,mediaLayerElements:r,activeFrameOnChange:i})=>{const o=(0,e.useRef)(!1),s=(0,e.useRef)(performance.now()),a=(0,e.useRef)(0),l=(0,e.useRef)(null),c=(0,e.useRef)(n),u=()=>{if(!o.current)return;const e=performance.now();if(e-s.current<c.current)requestAnimationFrame(u);else{s.current=e,a.current>=r.length&&(a.current=0),l.current(a.current);for(let e=0;e<r.length;e++){const t=e===a.current?1:0;r[e].opacity=t}a.current=(a.current+1)%r.length,requestAnimationFrame(u)}};(0,e.useEffect)((()=>{o.current="playing"===t,r&&r?.length&&r&&"playing"===t&&requestAnimationFrame(u)}),[t,r]),(0,e.useEffect)((()=>{l.current=i}),[i]),(0,e.useEffect)((()=>{c.current=n}),[n])};const Rw=({onClick:t})=>e.createElement("div",{className:Za()("close-button text-custom-light-blue")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",height:"64",width:"64",className:"fixed top-1 right-1 cursor-pointer with-drop-shadow",onClick:t},e.createElement("path",{fill:"currentColor",d:"M23.985 8.722L16.707 16l7.278 7.278-.707.707L16 16.707l-7.278 7.278-.707-.707L15.293 16 8.015 8.722l.707-.707L16 15.293l7.278-7.278z"}),e.createElement("path",{fill:"none",d:"M0 0h32v32H0z"}))),Ow=e=>e.filter((e=>""!==e.acquisitionDate)),Nw=(e,t=!1)=>{t&&(e=Ow(e));const n=[...e].sort(((e,t)=>e.acquisitionDate&&t.acquisitionDate?Gn(e.acquisitionDate)-Gn(t.acquisitionDate):e.acquisitionDate?-1:t.acquisitionDate?1:0));return n},Lw=(e,t)=>{const n=window.URL.createObjectURL(e),r=document.createElement("a");r.style.display="none",r.href=n,r.download=t,document.body.appendChild(r),r.click(),setTimeout((()=>{document.body.removeChild(r),window.URL.revokeObjectURL(n)}),100)},Dw=[{title:"horizontal",dimensions:[[1920,1080],[1080,720]]},{title:"square",dimensions:[[1080,1080],[720,720]]},{title:"vertical",dimensions:[[1080,1920],[720,1080]]}],Fw=({width:t,height:n,onClick:r,onMouseEnter:i,onMouseLeave:o})=>e.createElement("div",{className:"flex items-center opacity-70 hover:opacity-100 cursor-pointer",onClick:r,onMouseEnter:i,onMouseLeave:o},e.createElement("div",{className:"flex items-center justify-center w-[32px] h-[32px] mr-2"},e.createElement("div",{className:"bg-custom-light-blue-90",style:{width:t/1920*32,height:n/1920*32}})),e.createElement("span",{className:" text-xs hover:underline"},t," x ",n)),jw=({onMouseEnter:t,onMouseLeave:n,onClick:r})=>{const{t:i}=$();return e.createElement("div",{className:Za()("absolute top-0 right-0 w-48 pt-16 theme-background")},e.createElement("div",{className:"relative w-full p-2"},Dw.map((o=>{const{title:s,dimensions:a}=o;return e.createElement("div",{className:"text-center mb-3",key:s},e.createElement("h4",{className:"uppercase text-sm text-custom-light-blue-50 pointer-events-none"},i(s,{ns:"common"})),e.createElement("div",{className:"pl-6"},a.map((i=>{const[o,s]=i;return e.createElement(Fw,{key:`${o}-${s}`,width:o,height:s,onClick:r.bind(null,i),onMouseEnter:t.bind(null,i),onMouseLeave:n})}))))}))))},Zw=({previewWindowSize:t,mapViewWindowSize:n})=>{const r=(0,e.useMemo)((()=>{if(!t)return null;const e=t.width/t.height,r=n.height,i=r*e;return i>n.width?{width:n.width,height:n.width*(1/e)}:{height:r,width:i}}),[t]);return r?e.createElement("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center"},e.createElement("div",{style:{width:r.width,height:r.height,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.8)"}})):null},Uw=({status:t,cancelButtonOnClick:n,closeButtonOnClick:r})=>{const{t:i}=$();return t?e.createElement("div",{className:Za()("absolute top-0 right-0 w-[220px] h-[72px] px-4","flex items-center","theme-background text-xs")},"pending"===t&&e.createElement("div",{className:"flex items-center"},e.createElement(cw,{inline:!0}),e.createElement("span",{className:"mx-1"},i("creating_mp4")),e.createElement("span",{className:"underline cursor-pointer opacity-70 hover:opacity-100",onClick:n},i("cancel"))),("finished"===t||"failed"===t)&&e.createElement("div",{className:"flex items-center"},e.createElement("p",{className:"mr-2"},i("finished"===t?"complete_check_browser_downloads":"failed_to_create_mp4")),e.createElement(aw,{icon:"x",style:{cursor:"pointer"},onClick:r}))):null},zw=()=>{const t=bs();return e.createElement("div",{className:Za()("cursor-pointer"),onClick:()=>{t(vi(!0))}},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",height:64,width:64,className:"with-drop-shadow"},e.createElement("path",{fill:"currentColor",d:"M25 27H8v-1h17zm-3.646-9.646l-.707-.707L17 20.293V5h-1v15.293l-3.646-3.646-.707.707 4.853 4.853z"}),e.createElement("path",{fill:"none",d:"M0 0h32v32H0z"})))};var Vw=s(54540);const Bw=()=>{const t=bs();return e.createElement("div",{className:Za()("cursor-pointer"),onClick:()=>{t(cl())}},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",height:58,width:64,className:"with-drop-shadow"},e.createElement("path",{fill:"currentColor",d:"M22.766 13.875c.063.058.128.11.189.17l5 5a6.3 6.3 0 0 1-8.91 8.91l-5-5a6.286 6.286 0 0 1 2.969-10.568 3.279 3.279 0 0 1 .553.905 5.288 5.288 0 0 0-2.815 8.956l5 5a5.3 5.3 0 0 0 7.496-7.496l-4.488-4.488a8.366 8.366 0 0 0 .006-1.389zm-12.526 3.86l-4.488-4.487a5.3 5.3 0 0 1 7.496-7.496l5 5a5.288 5.288 0 0 1-2.815 8.956 3.278 3.278 0 0 0 .553.905 6.287 6.287 0 0 0 2.969-10.568l-5-5a6.3 6.3 0 0 0-8.91 8.91l5 5c.061.06.126.112.189.17a8.367 8.367 0 0 1 .006-1.39z"}),e.createElement("path",{fill:"none",d:"M0 0h32v32H0z"})))},$w=()=>{const t=ws(gl),{t:n}=$();return t?e.createElement("div",{className:Za()("absolute top-0 right-0 w-[260px] h-[72px] px-4","flex items-center","theme-background text-xs")},e.createElement("div",{className:" flex items-center"},e.createElement(aw,{scale:"s",icon:"check"}),e.createElement("span",{className:"ml-1"},n("link_copied_to_clipboard")))):null},Gw=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:64,width:64},e.createElement("path",{fill:"currentColor",d:"M6 1.773v20.454l15-10.225zm1 1.892l12.225 8.337L7 20.335z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),qw=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:64,width:64},e.createElement("path",{fill:"currentColor",d:"M4 22h6V2H4zM5 3h4v18H5zm9 19h6V2h-6zm1-19h4v18h-4z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),Hw=()=>{const t=bs(),n=ws(_l);return e.createElement("div",{className:"cursor-pointer"},"playing"===n&&e.createElement("div",{onClick:()=>{t(_i("pausing"))}},qw),"pausing"===n&&e.createElement("div",{onClick:()=>{t(_i("playing"))}},Gw))},Ww=({frameData4DownloadJob:t,animationSpeed:n,mapViewWindowSize:r,authoringAppName:i})=>{const o=bs(),s=ws(ml),[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(null),d=(0,e.useRef)(null);return(0,e.useEffect)((()=>{s||(l(null),u(null),d.current&&d.current.abort())}),[s]),t&&t?.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"absolute top-0 right-0 text-custom-light-blue z-10"},!1===s&&e.createElement(e.Fragment,null,e.createElement("div",{className:" absolute top-1 right-16 flex items-center"},e.createElement(Bw,null),e.createElement(zw,null),e.createElement(Hw,null)),e.createElement($w,null)),null!==c&&e.createElement(Uw,{status:c,cancelButtonOnClick:()=>{o(vi(!1))},closeButtonOnClick:()=>{o(vi(!1))}}),s&&null===c&&e.createElement(e.Fragment,null,e.createElement(jw,{onMouseEnter:e=>{if(!e)return;const[t,n]=e;l({width:t,height:n})},onMouseLeave:l.bind(null,null),onClick:e=>{if(!e)return;const[r,o]=e;(async e=>{u("pending");const{width:r,height:o}=e;try{d.current&&d.current.abort(),d.current=new AbortController;const{filename:e,fileContent:s}=await(0,Vw.convertImages2Video)({data:t,animationSpeed:n,outputWidth:r,outputHeight:o,authoringApp:kn.title,abortController:d.current});Lw(s,i?`${i}-animation-${e}`:e),u("finished")}catch(e){if("AbortError"===e.name)return;u("failed")}})({width:r,height:o})}}),e.createElement(Rw,{onClick:()=>{o(vi(!1))}}))),a&&e.createElement(Zw,{previewWindowSize:a,mapViewWindowSize:r})):null};var Jw=s(65977);const Kw=e=>new Jw.default({title:Gs,portalItem:{id:"1b243539f4514b6ba35e7d995890db1d"},blendMode:"multiply",opacity:.8,visible:e}),Yw=({mapView:t})=>{const n=ws(El),r=(0,e.useRef)(null);return(0,e.useEffect)((()=>{t&&(async()=>{r.current=Kw(n),t.map.add(r.current,2)})()}),[t]),(0,e.useEffect)((()=>{r.current&&(r.current.visible=n)}),[n]),null},Xw=async({animationFrameImageUrl:e,basemapScreenshotData:t,mapLabelScreenshotData:n,hillshadeScreenshotData:r,shouldBlendAnimationFrameWithBasemap:i})=>{const o=await(async e=>{const t=new Image;return t.src=e,new Promise(((n,r)=>{t.onload=()=>{n(t)},t.onerror=()=>{r(`Failed to load image: ${e}`)}}))})(e),s=document.createElement("canvas"),a=s.getContext("2d");if(s.width=Math.max(s.width,o.width),s.height=Math.max(s.height,o.height),a.filter="brightness(1.1)",t){const e=await createImageBitmap(t);a.drawImage(e,0,0)}if(o&&(i&&(a.globalCompositeOperation="multiply"),a.drawImage(o,0,0)),r){const e=await createImageBitmap(r);a.globalCompositeOperation="multiply",a.drawImage(e,0,0)}if(n){a.globalCompositeOperation="source-over";const e=await createImageBitmap(n);a.drawImage(e,0,0)}return await(async e=>new Promise(((t,n)=>{e.toBlob((e=>{if(e){const r=URL.createObjectURL(e),i=new Image;i.onload=()=>{URL.revokeObjectURL(r),t(i)},i.onerror=e=>{URL.revokeObjectURL(r),n(e)},i.src=r}else n(new Error("Failed to convert canvas to blob"))}))})))(s)},Qw=({sortedQueryParams4ScenesInAnimationMode:t,mediaLayerElements:n,animationMetadataSources:r,mapView:i})=>{const o=ws(Ml),[s,a]=(0,e.useState)([]),l=ws(kl),c=ws(El),u=ws(Cl);return(0,e.useEffect)((()=>{(async()=>{if(!t?.length||!n?.length)return void a([]);const{basemapScreenshot:e,referenceLayersScreenshot:s,hillshadeScreenshot:d}=await(async({mapView:e,webmapId:t,includeBasemapInScreenshot:n,includeTerrainInScreenshot:r,includeMapLabelsInScreenshot:i})=>{if(!e)return{basemapScreenshot:null,referenceLayersScreenshot:null,hillshadeScreenshot:null};let o=null,s=null,a=null;const l=document.createElement("div");l.id="offscreen-map-container",l.style.width=e.container.clientWidth+"px",l.style.height=e.container.clientHeight+"px",l.style.position="absolute",l.style.top="-9999px",l.style.left="-9999px",document.body.appendChild(l);const c=new Rg({map:new Jb({portalItem:{id:t}}),container:l,center:e.center,zoom:e.zoom,constraints:e.constraints,popupEnabled:!1,ui:{components:[]}}),u=Kw(!0);c.map.add(u),await c.when();const d=_w(c),h=ww(c);if(n){for(const e of h)e.visible=!1;u.visible=!1;for(const e of d)e.visible=!0;await(0,tc.Oo)((()=>!1===c.updating)),await sl(100),o=await c.takeScreenshot({format:"png"})}if(i){for(const e of d)e.visible=!1;u.visible=!1;for(const e of h)e.visible=!0;await(0,tc.Oo)((()=>!1===c.updating)),await sl(100),s=await c.takeScreenshot({format:"png",ignoreBackground:!0})}if(r){for(const e of h)e.visible=!1;for(const e of d)e.visible=!1;u.visible=!0,await(0,tc.Oo)((()=>!1===c.updating)),await sl(100),a=await c.takeScreenshot({format:"png",ignoreBackground:!0})}return c.destroy(),document.body.removeChild(l),{basemapScreenshot:o,referenceLayersScreenshot:s,hillshadeScreenshot:a}})({mapView:i,webmapId:Bs,includeBasemapInScreenshot:l,includeTerrainInScreenshot:c,includeMapLabelsInScreenshot:u}),h=await Promise.all(n.map((t=>Xw({animationFrameImageUrl:t.image,basemapScreenshotData:e?.data||null,mapLabelScreenshotData:s?.data||null,hillshadeScreenshotData:d?.data||null,shouldBlendAnimationFrameWithBasemap:!1})))),p=h.map(((e,n)=>({image:e,imageInfo:`${t[n].acquisitionDate}  |  x ${o[0].toFixed(3)} y ${o[1].toFixed(3)}  |  ${r}`})));a(p)})()}),[n]),s},e_=({imageryServiceUrl:t,authoringAppName:n,animationMetadataSources:r,groupLayer:i,mapView:o})=>{const s=bs(),a=(0,e.useRef)(null),l=ws(_l),c=ws(hl),u=ws(Ga),d=Nw(u,!0),h=kw({imageryServiceUrl:t,mapView:o,animationStatus:l,queryParams4ImageryScenes:d}),p=Qw({mediaLayerElements:h,sortedQueryParams4ScenesInAnimationMode:d,animationMetadataSources:r,mapView:o}),f=(0,e.useCallback)((e=>{const t=d[e];s(ti(t?.uniqueId))}),[d]);Pw({animationStatus:l,animationSpeed:c,mediaLayerElements:h,activeFrameOnChange:f});return(0,e.useEffect)((()=>{a.current||(async()=>{try{a.current=new Tw.default({visible:!0}),i.add(a.current)}catch(e){}})()}),[i]),(0,e.useEffect)((()=>{(async()=>{if(!a.current)return;const e=a.current.source;if(e.elements.removeAll(),h&&0!==h.length&&p&&0!==p.length)try{for(const t of h)if(e.elements.add(t),await(0,tc.Oo)((()=>"loaded"===t.loadStatus||"failed"===t.loadStatus)),"failed"===t.loadStatus)throw new Error(`Element failed to load: ${t}`);s(_i("playing"))}catch(e){s(_i("failed-loading"))}})()}),[h,p]),(0,e.useEffect)((()=>{l&&"loading"!==l&&s(_i("loading"))}),[o?.height]),(0,e.useEffect)((()=>{((e,t,n)=>{if(!e||!t||!n)return void zs("animationWindow",null);const{xmin:r,ymin:i,xmax:o,ymax:s}=Ss(e);zs("animationWindow",[r,i,o,s,t,n].join(","))})("playing"===l?o.extent:null,"playing"===l?o.width:null,"playing"===l?o.height:null)}),[l]),(0,e.useEffect)((()=>{null===l&&s(vi(!1))}),[l]),l?e.createElement("div",{className:Za()("absolute top-0 left-0 bottom-0 right-0 z-10 flex items-center justify-center")},"loading"===l&&e.createElement(cw,{scale:"l"}),e.createElement(Rw,{onClick:()=>{s(_i(null))}}),e.createElement(Ww,{frameData4DownloadJob:p,animationSpeed:c,authoringAppName:n,mapViewWindowSize:{width:o.width,height:o.height}})):null};var t_=s(64326);const n_=({index:t,mapView:n,blendMode:r,children:i})=>{const[o,s]=(0,e.useState)();return(0,e.useEffect)((()=>{n&&(async()=>{const e=new t_.default({blendMode:r||"normal"});n.map.add(e,t),s(e)})()}),[n]),(0,e.useEffect)((()=>{o&&(o.blendMode=r||"normal")}),[r,o]),e.createElement(e.Fragment,null,o?e.Children.map(i,(t=>e.cloneElement(t,{mapView:n,groupLayer:o}))):null)},r_=Ge((e=>e.TrendTool.temporalProfileData.objectIds),(e=>e.TrendTool.temporalProfileData.byObjectId),((e,t)=>e.map((e=>t[e])))),i_=e=>e.TrendTool.selectedIndex,o_=e=>e.TrendTool.option,s_=e=>e.TrendTool,a_=e=>e.TrendTool.loading,l_=e=>e.TrendTool.error,c_=e=>e.TrendTool.queryLocation,u_=e=>e.TrendTool.acquisitionMonth,d_=e=>e.TrendTool.acquisitionYear;var h_=s(11682);const p_=e=>new ty.A({geometry:{type:"point",...e},symbol:{type:"picture-marker",url:xw,width:44,height:44}}),f_=({queryLocation:t,visible:n,mapView:r,groupLayer:i})=>{const o=(0,e.useRef)(null);return(0,e.useEffect)((()=>{(async()=>{i&&(o.current||await(async()=>{try{o.current=new h_.A({visible:n}),i.add(o.current)}catch(e){}})(),t?(async()=>{try{o.current.removeAll();const e=p_(t);o.current.add(e)}catch(e){}})():o.current.removeAll())})()}),[t,i]),(0,e.useEffect)((()=>{o.current&&(o.current.visible=n)}),[n]),null},m_=e=>e.SpectralProfileTool.queryLocation,y_=e=>e.SpectralProfileTool.isLoading,g_=e=>e.SpectralProfileTool.spectralProfileData,v_=e=>e.SpectralProfileTool.error,b_=e=>e.SpectralProfileTool,w_=({mapView:t,groupLayer:n})=>{const r=ws(c_),i=ws(m_),o=ws(Ya),s=ws(el),a=(0,e.useMemo)((()=>"analysis"===o&&("trend"===s||"spectral"===s)),[o,s]);return e.createElement(f_,{queryLocation:"trend"===s?r:i,visible:a,mapView:t,groupLayer:n})},__=()=>{const e=document.createElement("div");return e.innerHTML='<calcite-loader scale="s"></calcite-loader>',e},S_={moisture:"(B8-B11)/(B8+B11)",vegetation:"(B8-B4)/(B8+B4)",water:"(B3-B11)/(B3+B11)"},x_=e=>S_[e],M_=e=>{const{objectId:t,name:n,formattedAcquisitionDate:r,acquisitionDate:i,acquisitionYear:o,acquisitionMonth:s,cloudCover:a}=e;return{objectId:t,sceneId:n,formattedAcquisitionDate:r,acquisitionDate:i,acquisitionYear:o,acquisitionMonth:s,cloudCover:a,satellite:"Sentinel-2",customTooltipText:[`${Math.ceil(100*a)}% ${jr("cloudy")}`]}},A_=(e,t)=>{const[n,r,i,o,s,a,l,c,u,d,h,p,f,m,y,g]=t;for(const e of t)if(null==e)return 0;let v=0;return"moisture"===e?v=(c-p)/(c+p):"vegetation"===e?v=(c-o)/(c+o):"water"===e&&(v=(i-p)/(i+p)),v},T_=(e,t)=>{const n=A_("vegetation",e).toFixed(3),r=A_("water",e).toFixed(3),i=A_("moisture",e).toFixed(3);return((e,t="")=>{const n=Math.round(1e3*e.latitude)/1e3,r=Math.round(1e3*e.longitude)/1e3,i=document.createElement("div"),o=`\n        <span><span class='text-custom-light-blue-50'>x</span> ${r}</span>\n        <span class='ml-2'><span class='text-custom-light-blue-50'>y</span> ${n}</span>\n    `,s=`\n        <div \n            class='popup-location-info-container text-custom-light-blue text-xs cursor-pointer' \n            title="${jr("click_to_copy_coordinates")}"\n        >\n            <div class='popup-location-info-content'\n                data-testid='popup-location-info-content'\n            >\n                ${o}\n            </div>\n        </div>\n    `;i.innerHTML=t+s;const a=i.querySelector(".popup-location-info-container"),l=i.querySelector(".popup-location-info-content");return a.addEventListener("click",(async()=>{await navigator.clipboard.writeText(`x: ${e.longitude.toFixed(5)} y: ${e.latitude.toFixed(5)}`),l.innerHTML=`<span>${jr("coordinates_copied_to_clipboard")}</span>`,setTimeout((()=>{l.innerHTML=o}),2e3)})),i})(t,`\n        <div class='text-custom-light-blue text-xs'\n            data-testid='sentinel-2-popup-content'\n            data-sentinel-2-ndmi="${i}"\n            data-sentinel-2-ndvi="${n}"\n            data-sentinel-2-mndwi="${r}"\n        >\n            <div class='mb-2'>\n                <span><span class='text-custom-light-blue-50'>NDMI:</span> ${i}</span><br />\n                <span><span class='text-custom-light-blue-50'>NDVI:</span> ${n}</span><br />\n                <span><span class='text-custom-light-blue-50'>MNDWI:</span> ${r}</span>\n            </div>\n        </div>\n    `)},I_=({data:t,mapView:n,onOpen:r})=>{const i=bs(),o=ws(Ya),s=ws(el),a=ws(Wa),l=ws(Ja),c=ws(Pl),u=(0,e.useRef)(null),d=e=>{n.closePopup(),i(Ft(null))};u.current=async(e,t)=>{"animate"!==o&&("analysis"!==o||"trend"!==s&&"spectral"!==s)&&(i(Ft(e.toJSON())),n.openPopup({title:null,location:e,content:__()}),r(e,((e,t,n)=>n<=t*(e/100))(c,n.width,t)))};return(0,e.useEffect)((()=>{n&&(async()=>{n.popupEnabled=!1,n.popup.dockEnabled=!1,n.popup.alignment="bottom-right",n.popup.visibleElements={collapseButton:!1},n.on("click",(e=>{u.current(e.mapPoint,e.x)})),(0,tc.wB)((()=>n.popup.visible),((e,t)=>{void 0!==e&&void 0!==t&&!0===t&&!1===e&&d()}))})()}),[n]),(0,e.useEffect)((()=>{n&&n?.popup?.visible&&d()}),[o,s,c,a?.objectIdOfSelectedScene,l?.objectIdOfSelectedScene]),(0,e.useEffect)((()=>{if(t){const{title:e,content:r,location:i,error:o}=t;if(o){if(o.message.includes("aborted"))return;return void d()}n.openPopup({title:e,location:i,content:r})}else d()}),[t]),null},C_=async({serviceURL:e,point:t,objectIds:n,customMosaicRule:r,rasterFunction:i,resolution:o,maxItemCount:s,abortController:a})=>{const l=n&&n.length?Ew(n):r,c=new URLSearchParams({f:"json",returnGeometry:"false",returnCatalogItems:"true",geometryType:"esriGeometryPoint",geometry:JSON.stringify({spatialReference:{wkid:4326},x:t.longitude,y:t.latitude})});if(i){const e=i.toJSON();c.append("renderingRules",JSON.stringify(e))}if(o){const e=JSON.stringify({x:o,y:o,spatialReference:{wkid:102100,latestWkid:3857}});c.append("pixelSize",JSON.stringify(e))}s&&c.append("maxItemCount",s.toString()),l&&c.append("mosaicRule",JSON.stringify(l));const u=`${e}/identify?${c.toString()}`,d=await fetch(u,{signal:a.signal}),h=await d.json();if(h.error)throw h.error;return h},E_=e=>/^-?\d+(\.\d+)?$/.test(e),k_=new Map,P_=async(e,t,n)=>{const r=`${e}/${t}`;if(k_.has(r))return k_.get(r);const i=new URLSearchParams({f:"json",returnGeometry:"true",objectIds:t.toString(),outFields:"*"});n?.token&&i.set("token",n.token);const o=n?.abortController,s=await fetch(`${e}/query?${i.toString()}`,{signal:o?.signal});if(!s.ok)throw new Error("failed to query "+e);const a=await s.json();if(a.error)throw a.error;return a?.features&&a.features.length?(k_.set(r,a.features[0]),k_.get(r)):null},R_=new Map,O_=async({serviceUrl:e,objectId:t,outputSpatialReference:n,token:r})=>{const i=`${e}/${t}`;if(R_.has(i))return R_.get(i);const o=new URLSearchParams({f:"json",returnExtentOnly:"true",objectIds:t.toString()});n&&o.append("outSR",n.toString()),r&&o.append("token",r);const s=await fetch(`${e}/query?${o.toString()}`);if(!s.ok)throw new Error("failed to query "+e);const a=await s.json();if(a.error)throw a.error;return a?.extent?(R_.set(i,a.extent),R_.get(i)):null},{OBJECTID:N_,ACQUISITION_DATE:L_,CLOUD_COVER:D_,NAME:F_,MONTH:j_,SATELLITE:Z_,SENSOR:U_,SNOW_ICE_PERCENTAGE:z_,PRODUCT:V_,RELATIVE_ORBIT:B_,SUN_ZENITH:$_,SUN_AZIMUTH:G_,CATEGORY:q_,NO_DATA_PERCENTAGE:H_}=ra,W_=new Map,J_=e=>e.map((e=>{const{attributes:t}=e,n=t[L_],r=qn({date:+n}),[i,o]=r.split("-").map((e=>+e)),s=t[D_]?t[D_]/100:0;return{objectId:t[N_],acquisitionDate:n,formattedAcquisitionDate:r,name:t[F_],cloudCover:s,formattedCloudCover:Math.ceil(100*s),acquisitionYear:i,acquisitionMonth:o,satellite:t[Z_],sensor:t[U_],snowIcePercentage:t[z_]?Math.floor(100*t[z_]):0,productName:t[V_],relativeOrbit:t[B_],sunElevation:(90-t[$_]).toFixed(2),sunAzimuth:t[G_].toFixed(2),noDataPixelPercentage:t[H_]?Math.round(t[H_]):0}})),K_=async({mapPoint:e,acquisitionDateRange:t,acquisitionMonth:n,acquisitionDate:r,abortController:i})=>{const o=[`(${q_} = 1)`];t?o.push(`(${L_} BETWEEN timestamp '${t.startDate} 00:00:00' AND timestamp '${t.endDate} 23:59:59')`):r&&o.push(`(${L_} BETWEEN timestamp '${r} 00:00:00' AND timestamp '${r} 23:59:59')`),n&&o.push(`(${j_} = ${n})`);const[s,a]=e,l=JSON.stringify({spatialReference:{wkid:4326},x:s,y:a}),c=new URLSearchParams({f:"json",spatialRel:"esriSpatialRelIntersects",geometryType:"esriGeometryPoint",outFields:[N_,L_,D_,F_,j_,Z_,U_,z_,V_,B_,$_,G_,q_,H_].join(","),orderByFields:L_,resultOffset:"0",returnGeometry:"false",resultRecordCount:"1000",geometry:l,where:o.join(" AND ")}),u=await fetch(`${na}/query?${c.toString()}`,{signal:i.signal});if(!u.ok)throw new Error("failed to query Sentinel-2 service");const d=await u.json();if(d.error)throw d.error;const h=J_(d?.features||[]);for(const e of h)W_.set(e.objectId,e);return h},Y_=async e=>{if(W_.has(e))return W_.get(e);const t=await X_(e);if(!t)return null;const n=J_([t])[0];return W_.set(e,n),n},X_=async e=>await P_(na,e),Q_=async(e,t,n)=>{const r=await(async({serviceUrl:e,objectId:t,point:n,abortController:r})=>{const i=JSON.stringify({spatialReference:{wkid:4326},x:n.longitude,y:n.latitude}),o=new URLSearchParams({f:"json",returnCountOnly:"true",returnGeometry:"false",objectIds:t.toString(),geometry:i,spatialRel:"esriSpatialRelIntersects",geometryType:"esriGeometryPoint"}),s=await fetch(`${e}/query?${o.toString()}`,{signal:r.signal});if(!s.ok)throw new Error("failed to query service"+e);const a=await s.json();return a?.count&&a?.count>0})({serviceUrl:na,objectId:t,point:e,abortController:n});return r};let eS=null;const tS=({mapView:t})=>{const n=ws(Ya),r=ws(Wa),i=ws(Ja),[o,s]=(0,e.useState)();return e.createElement(I_,{data:o,mapView:t,onOpen:async(e,t)=>{try{let o=r;"swipe"===n&&(o=t?r:i),eS&&eS.abort(),eS=new AbortController;const a=await C_({serviceURL:na,point:e,objectIds:"dynamic"!==n?[o?.objectIdOfSelectedScene]:null,abortController:eS,maxItemCount:1}),l=a?.catalogItems?.features;if(!l.length)throw new Error("cannot find sentinel-2 scene");const c=J_(l)[0],u=(e=>{let t=null;return e?.value&&"NoData"!==e?.value?t=e?.value.split(", ").map((e=>+e)):e?.properties?.Values[0]&&(t=e?.properties?.Values[0].split(" ").map((e=>!1===E_(e)?null:+e))),t})(a);if(!u)throw new Error("identify task does not return band values");const d=`Sentinel-2 | ${$n(c.acquisitionDate,Un)}`;s({title:d,location:e,content:T_(u,e)})}catch(e){s({title:void 0,location:void 0,content:void 0,error:e})}}})},nS=({anchorLocation:t,mapView:n,groupLayer:r})=>{const i=(0,e.useRef)(null);return(0,e.useEffect)((()=>{(async()=>{r&&(i.current||await(async()=>{try{i.current=new h_.A,r.add(i.current)}catch(e){}})(),t?(async()=>{try{i.current.removeAll();const e=p_(t);i.current.add(e)}catch(e){}})():i.current.removeAll())})()}),[t,r]),null},rS=({mapView:t,groupLayer:n})=>{const r=ws(Rl);return e.createElement(nS,{anchorLocation:r,mapView:t,groupLayer:n})},iS=({showMagnifier:t,mapView:n})=>((0,e.useEffect)((()=>{n&&(n.container.classList.toggle("cursor-none",t),n.magnifier.factor=2,n.magnifier.visible=t)}),[t,n]),(0,e.useEffect)((()=>{n&&n.on("pointer-move",(function(e){n.magnifier.position={x:e.x,y:e.y}}))}),[n]),null),oS=({mapView:t})=>{const n=ws(Ya),r=ws(el),{objectIdOfSelectedScene:i}=ws(Ba)||{},o=(0,e.useMemo)((()=>"analysis"===n&&(!!i&&("trend"===r||"spectral"===r))),[r,n,i]);return e.createElement(iS,{mapView:t,showMagnifier:o})};var sS=({atrribution:t})=>{const{t:n}=$(),r=ws(Il),i=ws(Tl),[o,s]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{document.querySelector(".esri-attribution").classList.toggle("show",o)}),[o]),e.createElement("div",{className:Za()("absolute left-0 bottom-0 w-full flex justify-between",{"opacity-0":o})},e.createElement("div",{className:"custom-attribution-text",onMouseEnter:s.bind(null,!0),onMouseOut:s.bind(null,!1)},e.createElement("div",{className:"pointer-events-none"},e.createElement("span",null,n("powered_by_esri"),"  |  ",t))),null!==r&&null!==i&&e.createElement("div",{className:"hidden md:block custom-attribution-text"},e.createElement("div",{className:"pointer-events-none pr-10"},e.createElement("span",null,"1:",(0,Fn.qC)(+r.toFixed(0))," | 1px:"," ",(0,Fn.qC)(+i.toFixed(0)),"m"))))};const aS=({children:t})=>{const n=ws(dl);return e.createElement("div",{className:Za()("absolute left-map-ui-top-position top-map-ui-top-position md:top-map-action-button-group-top-position",{hidden:n})},t)},lS=({tooltip:t,notificationMessage:n,showLoadingIndicator:r,disabled:i,topMarging:o,children:s,onClickHandler:a})=>e.createElement("div",{className:Za()("relative z-10",{"is-disabled":i}),style:{marginTop:o||1},title:t,onClick:a},e.createElement("div",{className:"w-map-action-button-size h-map-action-button-size flex items-center justify-center bg-custom-background text-custom-light-blue-90 cursor-pointer"},r?e.createElement("div",{className:"w-full h-full flex items-center justify-center text-center"},e.createElement(cw,{scale:"m",inline:!0,style:{marginRight:0}})):s),n?e.createElement("div",{className:Za()("absolute left-[110%] top-0 h-map-action-button-size px-2 flex items-center","w-auto whitespace-nowrap","bg-custom-background text-custom-light-blue-90 pointer-events-none text-xs")},n):null),cS=Ge((e=>e.PublishAndDownloadJobs.jobs.byId),(e=>e.PublishAndDownloadJobs.jobs.allIds),((e,t)=>t.map((t=>e[t])))),uS=Ge((e=>e.PublishAndDownloadJobs.jobs.byId),(e=>e.PublishAndDownloadJobs.jobs.allIds),((e,t)=>t.map((t=>e[t])).filter((e=>{const t=e.status;return!0===e.publishToHostedImageryService&&t===os.PendingCheckingCost})))),dS=Ge((e=>e.PublishAndDownloadJobs.jobs.byId),(e=>e.PublishAndDownloadJobs.jobs.allIds),((e,t)=>t.map((t=>e[t])).filter((e=>void 0!==e.rasterAnanlysisJobId)).filter((e=>{const t=e.status;return t!==os.Succeeded&&t!==os.Failed&&t!==os.Cancelled&&t!==os.TimedOut})))),hS=(Ge((e=>e.PublishAndDownloadJobs.jobs.byId),(e=>e.PublishAndDownloadJobs.jobs.allIds),((e,t)=>t.map((t=>e[t])).filter((e=>void 0!==e.rasterAnanlysisJobId)).filter((e=>{const t=e.status;return t===os.Succeeded||t===os.Failed||t===os.Cancelled||t===os.TimedOut||t===os.Expired})))),({disabled:t,hidden:n,showLoadingIndicator:r,tooltip:i,onClick:o})=>{const s=ws(dS),a=s.length>0;return e.createElement(lS,{showLoadingIndicator:r,tooltip:i,disabled:t,onClickHandler:o},e.createElement("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:24,height:24},e.createElement("path",{fill:"currentColor",d:"M16.765 2c1.187 0 1.363.06 1.51.168L21.662 4.7a.845.845 0 0 1 .339.677v15.78a.844.844 0 0 1-.844.844H2.844A.844.844 0 0 1 2 21.156V2.844A.844.844 0 0 1 2.844 2zM17 21v-7H7v7zM14 3v3h1V3zM7 3v6h10V3h-1v4h-3V3zM3 21h3v-8h12v8h3V5.452l-3-2.278v6.17a.769.769 0 0 1-.844.656H6.844A.769.769 0 0 1 6 9.344V3H3z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}))),a&&e.createElement("div",{className:" absolute bottom-[-12px] right-[-12px] p-1 rounded-full bg-calcite-green-70 border border-white",title:`${s.length} pending job(s)`},e.createElement(cw,{inline:!0,scale:"s",style:{"padding-right":0,"margin-right":0}})))}),pS=()=>{const t=bs(),n=ws(dl),{t:r}=$();return e.createElement("div",{className:" hidden md:block","data-testid":"open-save-panel-button"},e.createElement(hS,{disabled:!1,hidden:n,showLoadingIndicator:!1,tooltip:r("open_save_panel"),onClick:()=>{t(Ei())}}))},fS=()=>{const{t:t}=$(),[n,r]=(0,e.useState)();return e.createElement(lS,{onClickHandler:async()=>{await navigator.clipboard.writeText(window.location.href),r(e.createElement(e.Fragment,null,e.createElement(aw,{scale:"s",icon:"check",style:{marginRight:".2rem",paddingTop:".1rem"}}),e.createElement("span",{className:" lin"},t("link_copied_to_clipboard")))),await sl(3e3),r(null)},notificationMessage:n,tooltip:t("copy_link_tooltip")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:24,width:24},e.createElement("path",{fill:"currentColor",d:"M7 14c0 .025.003.05.004.075l-3.54-3.54a5 5 0 0 1 7.072-7.07l4 4a4.992 4.992 0 0 1-1.713 8.187l-.237-.237a1.998 1.998 0 0 1-.413-.609 3.985 3.985 0 0 0 1.656-6.635l-4-4a4 4 0 0 0-5.369-.26l-.318-.387.318.386a4 4 0 0 0-.29 5.92l2.94 2.94A7.012 7.012 0 0 0 7 14zm16 4a4.97 4.97 0 0 0-1.464-3.536l-3.54-3.539c0 .025.004.05.004.075a7.087 7.087 0 0 1-.113 1.23l2.942 2.941a4 4 0 0 1-.128 5.78l.338.368-.338-.368a4 4 0 0 1-5.53-.122l-4-4a3.966 3.966 0 0 1 1.658-6.631 1.998 1.998 0 0 0-.415-.613l-.234-.234a5.004 5.004 0 0 0-1.907 1.315 5 5 0 0 0 .191 6.87l4 4A5 5 0 0 0 23 18z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})))},mS=({mapView:t})=>{const n=ws(bl),{t:r}=$(),[i,o]=(0,e.useState)(!1),s=(0,e.useMemo)((()=>!!i),[i]);return e.createElement(e.Fragment,null,e.createElement(lS,{showLoadingIndicator:i,tooltip:r("save_map_view_as_image"),disabled:s,onClickHandler:()=>{(async()=>{o(!0),await sl(1e3);const e=await t.takeScreenshot(),n=await(e=>{const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),new Promise(((e,n)=>{t.toBlob(e)}))})(e.data);Lw(n,"snapshot.png"),o(!1)})()}},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:24,width:24},e.createElement("path",{fill:"currentColor",d:"M14.5 17a4.5 4.5 0 1 0-4.5-4.5 4.505 4.505 0 0 0 4.5 4.5zm0-8a3.5 3.5 0 1 1-3.5 3.5A3.504 3.504 0 0 1 14.5 9zM8 9H4V8h4zm4 10.999V19h9a1.001 1.001 0 0 0 1-1V8a1.001 1.001 0 0 0-1-1h-1.5A1.502 1.502 0 0 1 18 5.5a.5.5 0 0 0-.5-.5h-6a.5.5 0 0 0-.5.5A1.502 1.502 0 0 1 9.5 7H7V6H5v1H3a1.001 1.001 0 0 0-1 1v8H1V8a2.002 2.002 0 0 1 2-2h1V5h4v1h1.5a.5.5 0 0 0 .5-.5A1.502 1.502 0 0 1 11.5 4h6A1.502 1.502 0 0 1 19 5.5a.5.5 0 0 0 .5.5H21a2.002 2.002 0 0 1 2 2v10a2.002 2.002 0 0 1-2 2zM6 23H5v-4.001H1V18h4v-4h1v4h4v.999H6z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}))),i&&e.createElement("div",{className:Za()("fixed top-0 left-0 w-full z-50 pointer-events-none screenshot-effect",{"bottom-0":!0===n,"bottom-bottom-panel-height":!1===n})}))},yS=({disabled:t,hidden:n,showLoadingIndicator:r,tooltip:i,onClick:o})=>e.createElement(lS,{showLoadingIndicator:r,tooltip:i,disabled:t,onClickHandler:o},e.createElement(e.Fragment,null,e.createElement("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 32 32"},e.createElement("path",{stroke:"currentColor",d:"M28 4h-6V3h7v7h-1zM4 10H3V3h7v1H4zm6 19H3v-7h1v6h6zm12-1h6v-6h1v7h-7z"}),e.createElement("path",{fill:"none",d:"M0 0h32v32H0z"}))),e.createElement("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center z-10"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:14,viewBox:"0 0 16 16"},e.createElement("path",{fill:"currentColor",d:"M13.936 13.24L9.708 9.01a4.8 4.8 0 1 0-.69.69l4.228 4.228a.488.488 0 0 0 .69-.69zM6.002 9.8A3.8 3.8 0 1 1 8.69 8.686a3.778 3.778 0 0 1-2.687 1.112z"}),e.createElement("path",{fill:"none",d:"M0 0h16v16H0z"}))))),gS=({serviceUrl:t,mapView:n})=>{const{t:r}=$(),i=ws(dl),o=ws(Ya),{objectIdOfSelectedScene:s}=ws(Ba)||{},[a,l]=(0,e.useState)(!1),c=(0,e.useMemo)((()=>"dynamic"!==o&&!s),[o,s,a]);return e.createElement(yS,{disabled:c,hidden:i,showLoadingIndicator:a,tooltip:r("zoom_to_extent"),onClick:()=>{n&&("dynamic"!==o?(async()=>{if(s){l(!0);try{const e=await O_({serviceUrl:t,objectId:s});n.extent=e}catch(e){}l(!1)}})():n.zoom=3)}})},vS=({mapView:t})=>{const n=(0,e.useRef)(null);return(0,e.useEffect)((()=>{if(!t)return;new pg({view:t,container:n.current})}),[t]),e.createElement("div",{className:"mt-[1px]",ref:n})},bS=({mapView:t,tooltip:n,nativeScale:r})=>e.createElement(lS,{onClickHandler:()=>{t.goTo({scale:r})},tooltip:n},e.createElement("span",{className:"text-sm italic"},"1:1")),wS="esri-search",_S={base:wS,autocomplete:`${wS}__autocomplete`,dropdown:`${wS}__dropdown`,container:`${wS}__container`,form:`${wS}__form`},SS="esri-search-result-renderer",xS={base:SS,moreResults:`${SS}--more-results`};var MS=s(44764),AS=s(20879),TS=s(12227),IS=s(10709),CS=s(11455),ES=s(55736),kS=s(24826),PS=s(31864),RS=s(96383);let OS=class extends(Xh.A.IdentifiableMixin(zc.A)){constructor(e){super(e),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};(0,Gl._)([(0,ql.MZ)()],OS.prototype,"autoNavigate",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"filter",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"getResults",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"getSuggestions",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"maxResults",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"maxSuggestions",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"minSuggestCharacters",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"outFields",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"placeholder",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"popupEnabled",void 0),(0,Gl._)([(0,ql.MZ)({type:AS.A})],OS.prototype,"popupTemplate",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"prefix",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"resultGraphicEnabled",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"resultSymbol",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"suggestionsEnabled",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"suffix",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"withinViewEnabled",void 0),(0,Gl._)([(0,ql.MZ)()],OS.prototype,"zoomScale",void 0),OS=(0,Gl._)([(0,Jl.$)("esri.widgets.Search.SearchSource")],OS);const NS=OS;var LS=s(5262),DS=s(12352),FS=s(13033),jS=s(50189);const ZS=/https?:\/\/services.*\.arcgis\.com/i,US=/(?:\{([^}]+)\})/g,zS=()=>Wl.A.getLogger("esri.widgets.Search.support.layerSearchUtils");function VS(e,t){const{exactMatch:n=!1,location:r,maxResults:i,spatialReference:o,source:s,sourceIndex:a,suggestResult:l,view:c}=e,{layer:u,filter:d,zoomScale:h}=s,p=c?.scale,f=$S(s,c),m=t?.signal;return qS(u).then((()=>{const e=u.popupTemplate;return e?e.getRequiredFields(u.fieldsIndex):null})).then((e=>{const{objectIdField:t,returnZ:y}=u,g=XS(s);if(!ex(u,g))throw zS().error("invalid-field: displayField is invalid."),new Ql.A("getResults():invalid-field","displayField is invalid.");const v=e?.length?e:[g],b=s.outFields||v,w=GS(b);if(b.includes(t)||w||b.push(t),u.floorInfo?.floorField&&b.push(u.floorInfo.floorField),!w&&!QS(u,b))throw zS().error("invalid-field: outField is invalid."),new Ql.A("getResults():invalid-field","outField is invalid.");const _=u.createQuery(),{orderByFields:S}=s;if(S&&(_.orderByFields=S),o){_.outSpatialReference=o;const e=1/(0,LS.GA)(o);e&&(_.maxAllowableOffset=e)}const x="mesh"===u.geometryType||"multipatch"===u.geometryType,M=u.capabilities?.data?.supportsZ&&!x;if(_.returnZ=M&&!1!==y,_.returnGeometry=!0,_.multipatchOption=x?"xyFootprint":null,b&&(_.outFields=b),r)_.geometry=r;else if(l.key)_.objectIds=[l.key];else{const e=s.searchFields||[g];if(!QS(u,e))throw zS().error("invalid-field: search field is invalid."),new Ql.A("getResults():invalid-field","search field is invalid.");YS(u)&&(_.num=i),f&&(_.geometry=f);const t=l.text?.trim();if(!t)return[];const r=l.text,{prefix:o="",suffix:a=""}=s,c=tx(`${o}${r}${a}`);KS(u)&&WS(u,e)&&!n&&r&&(_.fullText=JS({text:r,searchFields:e}));const h=rx({searchTerm:c,layer:u,searchFields:e,filter:d,exactMatch:n,query:_,type:"search"});if(_.where=h,!HS(_))return[]}return u.queryFeatures(_,{signal:m}).then((e=>function(e,t,n,r,i,o,s){return e.features.map((e=>function(e,t,n,r,i,o,s){const a=e.clone();a.layer=e.layer;const l=e.sourceLayer,c=l?.objectIdField,u=c?e.attributes[c]:null,d=ix(e,n.searchTemplate,i);null!=o&&function(e){return null!=e&&null!=e.minScale&&null!=e.maxScale}(l)&&(l.minScale&&l.minScale<o?o=l.minScale:l.maxScale&&l.maxScale>o&&(o=l.maxScale));const h=a.geometry?(0,TS.ZY)(a.geometry,t??void 0,o??void 0):void 0,p="number"==typeof s&&h?(0,TS.DN)((0,Vc.o8)(h),t??void 0,s):h,f=e.clone();return f.layer=e.layer,null!=p&&(f.geometry=oc.A.fromExtent(p)),{extent:p,target:f,feature:a,key:u,name:d,sourceIndex:r}}(e,t,n,r,i,o,s)))}(e,c,s,a,g,p,h)))}))}function BS(e,t){const{source:n,spatialReference:r,view:i,suggestTerm:o,maxSuggestions:s,sourceIndex:a,exactMatch:l}=e,{layer:c,filter:u}=n,d=t?.signal,h=$S(n,i);return qS(c).then((()=>{if(!YS(c))return[];const e=XS(n),t=n.searchFields||[e],i=[];n.suggestionTemplate?n.suggestionTemplate.replaceAll(US,((e,t)=>(i.push(t),e))):i.push(e);const p=GS(i);i.includes(c.objectIdField)||p||i.push(c.objectIdField);const f=ex(c,e),m=p||QS(c,i),y=QS(c,t);if(!f)throw zS().error("invalid-field: displayField is invalid."),new Ql.A("getSuggestions():invalid-field","displayField is invalid.");if(!m)throw zS().error("invalid-field: outField is invalid."),new Ql.A("getSuggestions():invalid-field","outField is invalid.");if(!y)throw zS().error("invalid-field: search field is invalid."),new Ql.A("getSuggestions():invalid-field","search field is invalid.");const g=c.createQuery(),{orderByFields:v}=n;if(v&&(g.orderByFields=v),g.outSpatialReference=r,g.returnGeometry=!1,g.num=s,g.outFields=i,h&&(g.geometry=h),!o.trim())return[];const{prefix:b="",suffix:w=""}=n,_=tx(`${b}${o}${w}`);KS(c)&&WS(c,t)&&!l&&o&&(g.fullText=JS({text:o,searchFields:t}));const S=rx({searchTerm:_,layer:c,searchFields:t,filter:u,exactMatch:l,query:g,type:"suggest"});return g.where=S,HS(g)?c.queryFeatures(g,{signal:d}).then((t=>function(e,t,n,r){return e.features.map((e=>function(e,t,n,r){const i=e.sourceLayer,{attributes:o}=e,{objectIdField:s}=i,a=s?o[s]:null;return{text:ix(e,t.suggestionTemplate,r),key:a,sourceIndex:n}}(e,t,n,r)))}(t,n,a,e))):[]}))}function $S(e,t){const{filter:n,withinViewEnabled:r}=e,i=t?.extent,o=n?.geometry;return o??(r&&i?i:void 0)}function GS(e){return e&&e.includes("*")}async function qS(e){e&&await e.load()}function HS(e){return!(!e.fullText&&!e.where)}function WS(e,t){const n=e?.indexes;return!(!n||!t?.length)&&n.filter((e=>"FullText"===e.indexType)).some((e=>{const n=e.fields?.split(",").map((e=>e.trim().toLowerCase()))||[];return t.every((e=>n.includes(e.toLowerCase())))}))}function JS({text:e,searchFields:t}){return e.trim().split(" ").filter((e=>!!e.trim())).map((e=>new DS.A({onFields:t,searchTerm:e,searchType:"prefix"})))}function KS(e){return e?.capabilities?.query?.supportsFullTextSearch??!1}function YS(e){return e?.capabilities?.query?.supportsPagination??!1}function XS(e){return e.displayField||e.layer.displayField||function(e){return e?.fieldsIndex?.fields?.find((e=>"string"===e.type))?.name??""}(e.layer)}function QS(e,t){return!(!e||!t?.length)&&t.every((t=>ex(e,t)))}function ex(e,t){return!!e.getField(t)}function tx(e){return e.replaceAll("'","''")}function nx(e,t){const n=t?.where;return n?`(${e}) AND (${n})`:e}function rx({searchTerm:e,layer:t,searchFields:n,filter:r,exactMatch:i,query:o,type:s}){const{definitionExpression:a,url:l}=t;let c="";return!o.fullText&&e&&n&&n.forEach((n=>{const o=t.getField(n),a=t.getFieldDomain?.(n,{excludeImpliedDomains:(0,Hl.A)("esri-widget-legacy-field-domain-calculation")}),u=(a&&"coded-value"===a.type?function({codedValues:e},t,n){return(0,ec.Pb)(e??[],(e=>{const r=e.name,i=n?r:r.toLowerCase();return(n?t:t.toLowerCase())===i?e.code.toString():null}))??null}(a,e,i):null)||e||null;if(null!==u){const e=function({currentTerm:e,field:t,filter:n,exactMatch:r,url:i,type:o}){const s=t?.type,a=t?.name;if("string"===s||"date"===s||"global-id"===s){const t=ZS.test(i??""),s=t&&function(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}(e)?"N":"";return nx(r&&"search"===o?`${a} = ${s}'${e}'`:t?`${a} LIKE ${s}'${e}%'`:`LOWER(${a}) LIKE ${s}'${e.toLowerCase()}%'`,n)}if("oid"===s||"small-integer"===s||"integer"===s||"single"===s||"double"===s){const t=Number(e);return isNaN(t)?null:nx(`${a} = ${t}`,n)}return nx(`${a} = ${e}`,n)}({currentTerm:u,field:o,filter:r,exactMatch:i,url:l,type:s});e&&(c+=function(e,t){return e?` OR (${t})`:`(${t})`}(c,e))}})),a&&c?`(${a}) AND (${c})`:a||c}function ix(e,t,n){const r=e.sourceLayer,{attributes:i}=e,o=r.getFieldDomain?.(n,{feature:e,excludeImpliedDomains:(0,Hl.A)("esri-widget-legacy-field-domain-calculation")});if(t)return(0,FS.V)(t,i);if(n&&i){const e=r.getField(n),t=function(e,t){return e[t]??e[Object.keys(e).find((e=>e.toLowerCase()===t.toLowerCase()))]}(i,n);return null==t?"":o&&"coded-value"===o.type?function(e,t){let n=null;const{codedValues:r}=e;return r&&r.length&&r.some((e=>e.code===t&&(n=e.name,!0))),n}(o,t)??"":"date"===e?.type?(0,jS.Yq)(new Date(t)):"number"==typeof t?t.toString():"string"!=typeof t?"":t.trim()}return""}var ox;let sx=ox=class extends NS{constructor(e){super(e),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(e,t)=>VS({source:this,...e},t),this.getSuggestions=(e,t)=>BS({source:this,...e},t)}set layer(e){this._set("layer",e),e&&e.load().catch((()=>{}))}get name(){return this._getLayerTitle()??""}set name(e){this._overrideIfSome("name",e)}clone(){return new ox({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?(0,Vc.o8)(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?(0,Vc.o8)(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){return this.layer.fieldsIndex?.fields.find((e=>"string"===e.type))?.name??""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:e,searchFields:t}=this;return e.loaded?`: ${(t||[this._getDisplayField()]).map((t=>{const n=e.getField(t);return n?.alias||t})).join(", ")}`:""}_getLayerTitle(){const{layer:e}=this;if(!e)return;const{title:t}=e;return t?`${t}${this._getSearchFieldsString()}`:void 0}};(0,Gl._)([(0,ql.MZ)({json:{read:{source:"field.name"},write:{target:"field.name"}}})],sx.prototype,"displayField",void 0),(0,Gl._)([(0,ql.MZ)({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],sx.prototype,"exactMatch",void 0),(0,Gl._)([(0,ql.MZ)({value:null})],sx.prototype,"layer",null),(0,Gl._)([(0,ql.MZ)()],sx.prototype,"name",null),(0,Gl._)([(0,ql.MZ)({type:[String],json:{write:!0}})],sx.prototype,"orderByFields",void 0),(0,Gl._)([(0,ql.MZ)()],sx.prototype,"searchFields",void 0),(0,Gl._)([(0,ql.MZ)()],sx.prototype,"searchTemplate",void 0),(0,Gl._)([(0,ql.MZ)()],sx.prototype,"suggestionTemplate",void 0),sx=ox=(0,Gl._)([(0,Jl.$)("esri.widgets.Search.LayerSearchSource")],sx);const ax=sx;var lx=s(36321);let cx=class extends zc.A{constructor(e){super(e),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};(0,Gl._)([(0,ql.MZ)({type:String,json:{write:!0}})],cx.prototype,"address",void 0),(0,Gl._)([(0,ql.MZ)({type:Object,json:{write:!0}})],cx.prototype,"attributes",void 0),(0,Gl._)([(0,ql.MZ)({type:Eu.A,json:{write:!0}})],cx.prototype,"extent",void 0),(0,Gl._)([(0,ql.MZ)({type:Fh.A,json:{write:!0}})],cx.prototype,"location",void 0),(0,Gl._)([(0,ql.MZ)({type:Number,json:{write:!0}})],cx.prototype,"score",void 0),cx=(0,Gl._)([(0,Jl.$)("esri.rest.support.AddressCandidate")],cx);const ux=cx;var dx=s(33650);let hx=class extends zc.A{constructor(e){super(e),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};(0,Gl._)([(0,ql.MZ)({type:Object,json:{write:!0}})],hx.prototype,"address",void 0),(0,Gl._)([(0,ql.MZ)(dx.K)],hx.prototype,"apiKey",void 0),(0,Gl._)([(0,ql.MZ)({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],hx.prototype,"categories",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:!0}})],hx.prototype,"countryCode",void 0),(0,Gl._)([(0,ql.MZ)({type:Boolean,json:{write:!0}})],hx.prototype,"forStorage",void 0),(0,Gl._)([(0,ql.MZ)({type:Fh.A,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],hx.prototype,"location",void 0),(0,Gl._)([(0,ql.MZ)({type:["rooftop","street"],json:{write:!0}})],hx.prototype,"locationType",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:!0}})],hx.prototype,"magicKey",void 0),(0,Gl._)([(0,ql.MZ)({type:Number,json:{write:!0}})],hx.prototype,"maxLocations",void 0),(0,Gl._)([(0,ql.MZ)({type:[String],json:{write:{writer:(e,t)=>{t.outFields=e?e.join(","):null}}}})],hx.prototype,"outFields",void 0),(0,Gl._)([(0,ql.MZ)({type:Pu.A,json:{read:{source:"outSR"},write:{target:"outSR"}}})],hx.prototype,"outSpatialReference",void 0),(0,Gl._)([(0,ql.MZ)({type:Eu.A,json:{write:{writer:(e,t)=>{const n=e?e.shiftCentralMeridian():null;t.searchExtent=n}}}})],hx.prototype,"searchExtent",void 0),hx=(0,Gl._)([(0,Jl.$)("esri.rest.support.AddressToLocationsParameters")],hx),hx.from=(0,ic.dp)(hx);const px=hx;function fx({data:e}){if(!e)return[];const{candidates:t,spatialReference:n}=e;return t?t.map((e=>{if(!e)return;const{extent:t,location:r}=e,i=!t||function(e){return e&&"number"==typeof e.xmin&&"number"==typeof e.ymin&&"number"==typeof e.xmax&&"number"==typeof e.ymax}(t);return function(e){return!!e&&"number"==typeof e.x&&"number"==typeof e.y}(r)&&i?(t&&(t.spatialReference=n),r&&(r.spatialReference=n),ux.fromJSON(e)):void 0})):[]}let mx=class extends zc.A{constructor(e){super(e),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};(0,Gl._)([(0,ql.MZ)(dx.K)],mx.prototype,"apiKey",void 0),(0,Gl._)([(0,ql.MZ)({type:Fh.A,json:{write:{writer:(e,t)=>{const n=e?e.clone().normalize():null,r=void 0!==n;t.location=r?n:null}}}})],mx.prototype,"location",void 0),(0,Gl._)([(0,ql.MZ)({type:["street","rooftop"],json:{write:!0}})],mx.prototype,"locationType",void 0),(0,Gl._)([(0,ql.MZ)({type:Pu.A,json:{read:{source:"outSR"},write:{target:"outSR"}}})],mx.prototype,"outSpatialReference",void 0),mx=(0,Gl._)([(0,Jl.$)("esri.rest.support.LocationToAddressParameters")],mx),mx.from=(0,ic.dp)(mx);const yx=mx;async function gx(e,t,n){t=yx.from(t);const r=(0,lx.Dl)(e),i={...t.toJSON(),f:"json"},o=(0,lx.lF)({...r.query,...i}),s=(0,lx.jV)(o,n),a=`${r.path}/reverseGeocode`;return(0,ru.A)(a,s).then(vx)}function vx({data:e}){if(!e)return;const{address:t,location:n}=e,r=t?.Match_addr||"";return ux.fromJSON({address:r,attributes:t||{},location:n,score:100})}let bx=class extends zc.A{constructor(e){super(e),this.isCollection=null,this.magicKey=null,this.text=null}};(0,Gl._)([(0,ql.MZ)({type:Boolean,json:{write:!0}})],bx.prototype,"isCollection",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:!0}})],bx.prototype,"magicKey",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:!0}})],bx.prototype,"text",void 0),bx=(0,Gl._)([(0,Jl.$)("esri.rest.support.SuggestionCandidate")],bx);const wx=bx;let _x=class extends zc.A{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};(0,Gl._)([(0,ql.MZ)(dx.K)],_x.prototype,"apiKey",void 0),(0,Gl._)([(0,ql.MZ)({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],_x.prototype,"categories",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:!0}})],_x.prototype,"countryCode",void 0),(0,Gl._)([(0,ql.MZ)({type:Fh.A,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],_x.prototype,"location",void 0),(0,Gl._)([(0,ql.MZ)({type:Number,json:{write:!0}})],_x.prototype,"maxSuggestions",void 0),(0,Gl._)([(0,ql.MZ)({type:Pu.A,json:{read:{source:"outSR"},write:{target:"outSR"}}})],_x.prototype,"outSpatialReference",void 0),(0,Gl._)([(0,ql.MZ)({type:Eu.A,json:{write:{writer:(e,t)=>{const n=e?e.shiftCentralMeridian():null;t.searchExtent=JSON.stringify(n)}}}})],_x.prototype,"searchExtent",void 0),(0,Gl._)([(0,ql.MZ)({type:String,json:{write:!0}})],_x.prototype,"text",void 0),_x=(0,Gl._)([(0,Jl.$)("esri.rest.support.SuggestLocationsParameters")],_x),_x.from=(0,ic.dp)(_x);const Sx=_x;function xx(e){const{data:t}=e;if(!t)return[];const{suggestions:n}=t;return n?n.map((e=>new wx(e))):[]}const Mx="Single Line Input",Ax=3e5;function Tx(e,t){return e.location?async function(e,t){const{source:n,spatialReference:r,location:i,sourceIndex:o,view:s}=e,{apiKey:a,url:l,zoomScale:c,defaultZoomScale:u}=n;if(null==l)return[];const d=s?.scale,h=t?.signal,p=new yx({location:i});a&&(p.apiKey=a),r&&(p.outSpatialReference=r);try{return Px([await gx(l,p,{signal:h})],{sourceIndex:o,scale:d,view:s,zoomScale:c,defaultZoomScale:u})}catch(e){return[]}}(e,t):async function(e,t){const{source:n,suggestResult:r,spatialReference:i,view:o,maxResults:s,sourceIndex:a}=e,l=n?.zoomScale,c=n?.defaultZoomScale,u=r.text?.trim();if(!u)return null;const d=!r.key&&n.prefix?n.prefix:"",h=!r.key&&n.suffix?n.suffix:"",p=`${d}${r.text}${h}`,f=new px,{apiKey:m,url:y}=n,g=o?.scale,v=kx(n,o),b=t?.signal;if(m&&(f.apiKey=m),!y)return null;n.categories&&(f.categories=n.categories),n.locationType&&(f.locationType=n.locationType),i&&(f.outSpatialReference=i);const w=Ix(o,n);w&&(f.location=w),f.maxLocations=s,v&&(f.searchExtent=v),n.countryCode&&(f.countryCode=n.countryCode);const{key:_}=r,S=`${_}`;return _&&(f.magicKey=S),f.address={},f.address[n.singleLineFieldName||Mx]=p,n.outFields&&(f.outFields=n.outFields),async function(e,t,n){t=px.from(t);const r=(0,lx.Dl)(e),{address:i,...o}=t.toJSON(),s={...i,...o,f:"json"},a=(0,lx.lF)({...r.query,...s}),l=(0,lx.jV)(a,n),c=`${r.path}/findAddressCandidates`;return(0,ru.A)(c,l).then(fx)}(y,f,{signal:b}).then((e=>Px(e,{key:S,scale:g,sourceIndex:a,view:o,zoomScale:l,defaultZoomScale:c})))}(e,t)}function Ix(e,t){if(t.localSearchDisabled)return null;const n=e?.scale;return"number"==typeof n&&n<=Ax?e?.extent?.center:null}async function Cx(e,t){const{source:n,spatialReference:r,view:i,suggestTerm:o,maxSuggestions:s,sourceIndex:a}=e,l=new Sx,{apiKey:c,url:u}=n,d=kx(n,i),h=t?.signal;if(!u)return null;c&&(l.apiKey=c),n.categories&&(l.categories=n.categories),r&&(l.outSpatialReference=r);const p=Ix(i,n);if(p&&(l.location=p),!o.trim())return null;const{prefix:f="",suffix:m=""}=n,y=`${f}${o}${m}`;return l.text=y,d&&(l.searchExtent=d),l.maxSuggestions=s,n.countryCode&&(l.countryCode=n.countryCode),async function(e,t,n){const r=(0,lx.Dl)(e),i={...(t=Sx.from(t)).toJSON(),f:"json"},o=(0,lx.lF)({...r.query,...i}),s=(0,lx.jV)(o,n),a=`${r.path}/suggest`;return(0,ru.A)(a,s).then(xx)}(u,l,{signal:h}).then((e=>function(e,t){return e.map((e=>function(e,t){return{text:e.text,key:e.magicKey,sourceIndex:t}}(e,t)))}(e,a)))}function Ex(e){return!!e&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}function kx(e,t){const{filter:n,withinViewEnabled:r}=e,i=t?.scale,o=t?.extent,s=n?.geometry;return(s?(0,TS.ZY)(s,t??void 0,i):void 0)||(r&&o?o:void 0)}function Px(e,t){return e.filter(Boolean).map((e=>function(e,t){const{key:n,scale:r,sourceIndex:i,view:o,zoomScale:s,defaultZoomScale:a}=t,{attributes:l,extent:c,location:u,address:d}=e,h=new ty.A({geometry:u,attributes:l}),p=c||u,f=p?(0,TS.ZY)(p,o??void 0,r??void 0):void 0,m=f?"number"==typeof s?(0,TS.DN)(f,o??void 0,s):"number"==typeof a&&"point"===p?.type?(0,TS.DN)(f,o??void 0,a):f:null,y=u?`${u.x},${u.y}`:"",g=d||y,v=h.clone();return null!=m&&(v.geometry=oc.A.fromExtent(m)),{extent:m,feature:h,target:v,key:n,name:g,sourceIndex:i}}(e,t)))}var Rx;let Ox=Rx=class extends NS{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(e,t)=>Tx({source:this,...e},t),this.getSuggestions=(e,t)=>Cx({source:this,...e},t)}clone(){return new Rx({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?(0,Vc.o8)(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?(0,Vc.o8)(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};(0,Gl._)([(0,ql.MZ)()],Ox.prototype,"apiKey",void 0),(0,Gl._)([(0,ql.MZ)()],Ox.prototype,"categories",void 0),(0,Gl._)([(0,ql.MZ)()],Ox.prototype,"countryCode",void 0),(0,Gl._)([(0,ql.MZ)({json:{write:!0}})],Ox.prototype,"defaultZoomScale",void 0),(0,Gl._)([(0,ql.MZ)()],Ox.prototype,"localSearchDisabled",void 0),(0,Gl._)([(0,ql.MZ)()],Ox.prototype,"locationType",void 0),(0,Gl._)([(0,ql.MZ)({json:{write:!0}})],Ox.prototype,"name",void 0),(0,Gl._)([(0,ql.MZ)({json:{write:!0}})],Ox.prototype,"placeholder",void 0),(0,Gl._)([(0,ql.MZ)()],Ox.prototype,"searchTemplate",void 0),(0,Gl._)([(0,ql.MZ)({json:{write:!0}})],Ox.prototype,"singleLineFieldName",void 0),(0,Gl._)([(0,ql.MZ)({json:{read:{source:"suggest"},write:{target:"suggest"}}})],Ox.prototype,"suggestionsEnabled",void 0),(0,Gl._)([(0,ql.MZ)({json:{write:!0}})],Ox.prototype,"url",void 0),(0,Gl._)([(0,ql.MZ)({json:{write:!0}})],Ox.prototype,"zoomScale",void 0),Ox=Rx=(0,Gl._)([(0,Jl.$)("esri.widgets.Search.LocatorSearchSource")],Ox);const Nx=Ox;var Lx=s(32083);const Dx=()=>Wl.A.getLogger("esri.widgets.support.geolocationUtils"),Fx={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function jx(){return function(){const e=!!(0,Hl.A)("esri-geolocation");return e||Dx().warn("geolocation-unsupported","Geolocation unsupported."),e}()&&function(){const e=window.isSecureContext;return e||Dx().warnOnce("insecure-context","Geolocation requires a secure origin."),e}()}let Zx;function Ux(e,t){if(Zx)return Zx(e,t);const{position:n,view:r}=e,i=function(e){const t=e&&e.coords||{},n={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed,toJSON:()=>({})};return e?{coords:n,timestamp:e.timestamp,toJSON:()=>({})}:e}(n),o=i?.coords;if(!o)throw new Ql.A("geometry-service:no-coords","Geolocation has no coordinates");return function(e,t,n){if(!t)return Promise.resolve(e);const r=t.spatialReference;return r.isWGS84?Promise.resolve(e):r.isWebMercator?Promise.resolve((0,Iy.Gh)(e)):function(e){if(Lx.A.geometryServiceUrl)return Promise.resolve(Lx.A.geometryServiceUrl);const t=ga.A.getDefault();return t.load(e).catch((()=>{})).then((()=>t.helperServices?.geometry?.url))}(n).then((t=>{if(!t)throw new Ql.A("geometry-service:missing-url","Geometry service URL is missing");const i=new vv.A({geometries:[e],outSpatialReference:r});return(0,gv.C)(t,i,n).then((e=>e[0]))}))}(function({longitude:e,latitude:t,altitude:n}){return new Fh.A({longitude:e,latitude:t,z:n||void 0,spatialReference:{wkid:4326}})}(o),r,t)}function zx(e,t){return e.hasOwnProperty(t)&&null!=e[t]&&""!==e[t]}const Vx="highlight",Bx=Yl.A.ofType({key:e=>e.layer?"layer":"locator",base:NS,typeMap:{layer:ax,locator:Nx}}),$x=Pu.A.WGS84,Gx=/<[\s\S]*?>/g,qx=-1;let Hx=class extends((0,By.A)(tu.A.EventedMixin(gc.A))){constructor(e){super(e),this._gotoController=null,this._searching=null,this._updatingPromise=null,this._createdFeatureLayers=[],this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new Bx,this.defaultSymbols={point:new CS.A({url:(0,MS.s)("esri/images/search/search-symbol-32.png"),size:24,width:24,height:24}),polyline:new kS.A({color:[130,130,130,1],width:2}),polygon:new ES.A({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=ga.A.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new Bx,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){const e=async()=>{const e=await(0,IS.ud)("esri/widgets/Search/t9n/Search");this.messages=e,this.defaultPopupTemplate=new AS.A({title:e.searchResult,content:"{Match_addr}"})};e(),this.addHandles([(0,tc.wB)((()=>[this.includeDefaultSources,this.view,this.portal]),(()=>this._update()),tc.Vh),(0,yy.oQ)(e)])}destroy(){this._destroyFeatureLayers(),this._abortGoTo(),this.clearGraphics()}static{this.ALL_INDEX=qx}get activeSource(){return this.allSources.at(this.activeSourceIndex)??null}get activeSourceIndex(){return 1!==this.allSources.length&&this.searchAllEnabled?qx:0}set activeSourceIndex(e){this._overrideIfSome("activeSourceIndex",e)}get allPlaceholder(){return this.messages?.allPlaceholder}set allPlaceholder(e){this._overrideIfSome("allPlaceholder",e)}get allSources(){const{sources:e,defaultSources:t,includeDefaultSources:n}=this,r="function"==typeof n?n.call(null,{sources:e,defaultSources:t}):n?t.concat(e):e,i=this._get("allSources")||new Bx;return i.removeAll(),i.addMany(r.filter(Boolean)),i}get locationEnabled(){return this._get("locationEnabled")||jx()}set locationEnabled(e){if(void 0===e)return void this._clearOverride("locationEnabled");const t=jx();if(e&&!t){const e=new Ql.A("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});Wl.A.getLogger(this).error(e)}this._override("locationEnabled",!!e&&t)}get placeholder(){const{allSources:e,activeSourceIndex:t,allPlaceholder:n}=this;if(t===qx)return n??"";const r=e.at(t);return r?.placeholder??""}set searchTerm(e){this._set("searchTerm",e||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==e&&this._set("selectedSuggestion",null),""===e&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":0===this.allSources.length?"disabled":"ready"}get updating(){return null!=this._updatingPromise}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup();const{view:e,resultGraphic:t}=this;e&&t&&e.graphics.remove(t),this._set("resultGraphic",null)}search(e,t){this.emit("search-start"),this.clearGraphics();const n=this._createSuggestionForSearch(e),r=(async()=>{try{await this.when();const e=await this._getResultsFromSources(n,t);if(t?.signal?.aborted)return null;const r={activeSourceIndex:this.activeSourceIndex,searchTerm:n.text??"",numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(r,e,n);const i=this._getFirstResult(r.results),o=n.location&&i?i.name:n.text,s=o?.replace(Gx,"");return this._set("searchTerm",s),(n.key&&"number"==typeof n.sourceIndex||n.location)&&this._set("selectedSuggestion",n),this._set("results",r.results),this._set("resultCount",r.results.reduce(((e,t)=>e+(t.results?.length??0)),0)),this.emit("search-complete",r),await this._selectFirstResult(i),r}finally{this._clearSearching()}})();return this._searching=r,r}async searchNearby(e){if(!this.locationEnabled){const e=new Ql.A("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});throw Wl.A.getLogger(this).error(e),e}const t=(async()=>{try{const t=await function(e){return e??=Fx,new Promise(((t,n)=>{setTimeout((()=>n(new Ql.A("geolocation:timeout","getting the current geolocation position timed out"))),15e3),navigator.geolocation.getCurrentPosition(t,n,e??void 0)}))}(),n=await Ux({position:t,view:this.view},e);return await this.search(n,e)}finally{this._clearSearching()}})();return this._searching=t,t}async select(e){if(this.clearGraphics(),!e){const t=new Ql.A("select:missing-parameter","Cannot select without a searchResult.",{searchResult:e});throw Wl.A.getLogger(this).error(t),t}const{view:t}=this,n=zx(e,"sourceIndex")?e.sourceIndex:this._getSourceIndexOfResult(e),r=null!=n?this.allSources.at(n):null;if(!r){const e=new Ql.A("select:missing-source","Cannot select without a source.",{source:r});throw Wl.A.getLogger(this).error(e),e}const i=r instanceof ax?this._getLayerSourcePopupTemplate(r):r.popupTemplate,o=r.resultSymbol||this._getDefaultSymbol(e),s=zx(r,"resultGraphicEnabled")?r.resultGraphicEnabled:this.resultGraphicEnabled,a=zx(r,"autoNavigate")?r.autoNavigate:this.autoNavigate,l=zx(r,"popupEnabled")?r.popupEnabled:this.popupEnabled,c=l?i||this.popupTemplate||this.defaultPopupTemplate:null,{feature:u}=e;if(!u){const e=new Ql.A("select:missing-feature","Cannot select without a feature.",{feature:u});throw Wl.A.getLogger(this).error(e),e}const{attributes:d,geometry:h,layer:p,sourceLayer:f}=u,m=h?(0,TS.z8)(h):null,y={layerViewQuery:this._getLayerView(u),elevationQuery:t&&null!=m?(0,TS.Sv)(m,t):Promise.resolve(m)},g=await(0,Ec.Lx)(y),v=g.layerViewQuery.value,b=g.elevationQuery.value;o instanceof PS.A&&(o.text=e.name);const w=t&&a?e.target||e.extent:null,_=null!=w?this._goToSearchResult(w):Promise.resolve();await _;const S=v?u:new ty.A({geometry:h,symbol:o,attributes:d,layer:p,sourceLayer:f,popupTemplate:c}),x=t?.popup,M=x&&l&&S.getEffectivePopupTemplate(x.defaultPopupTemplateEnabled);return M&&await t.openPopup({features:[S],location:b}),v&&(0,RS.Of)(v)&&!M&&this._highlightFeature({graphic:S,layerView:v}),!v&&s&&t&&t.graphics.push(S),this._setResultFloor(e),this._set("selectedResult",e),this._set("resultGraphic",S),this.emit("select-result",{result:e,source:r,sourceIndex:n}),e}async suggest(e,t,n){const r=e||this.searchTerm;this.emit("suggest-start",{searchTerm:r}),await this._suggestTimer(t,n);const i=await this._suggestImmediate(r,n);return this._set("suggestions",i?.results),this._set("suggestionCount",i?.results.reduce(((e,t)=>e+(t.results?.length??0)),0)??null),this.emit("suggest-complete",i),i}async when(){await(0,tc.C_)((()=>!this.updating))}async _update(){const{portal:e,view:t}=this;if(this.includeDefaultSources){const n=this._updatingPromise=(0,Ec.Lx)([e?.load(),t?.when()]);if(this.destroyed)return;if(await n,n!==this._updatingPromise)return}await(0,tc.C_)((()=>this.messages)),this.destroyed||this._updateDefaultSources(),this._updatingPromise=null}_clearSearching(){this._searching=null}_convertHelperServices(){const e=this.portal?.helperServices?.geocode;return e?e.map((e=>{if(!1===e.placefinding)return;const t=Ex(e.url)&&(0,yu.Jn)(e.url)?{url:"https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer"}:null,n=Nx.fromJSON({...e,...t}),r=n.url;if(Ex(r)||function(e){return!!e&&/(?:\/servers\/[\da-z.-]+\/rest\/services\/world\/geocodeserver).*/i.test(e)}(r)||function(e){return!!e&&/(?:geocode-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}(r)){const e=n.outFields??["Addr_type","Match_addr","StAddr","City"],t=(n.placeholder||this.messages?.placeholder)??"",r="number"==typeof n.defaultZoomScale?n.defaultZoomScale:2500;n.singleLineFieldName="SingleLine",n.outFields=e,n.placeholder=t,n.defaultZoomScale=r}return n.singleLineFieldName?n:void 0})).filter(Bu.Ru):[]}_destroyFeatureLayers(){this._createdFeatureLayers.forEach((e=>e?.destroy())),this._createdFeatureLayers=[]}_getLayerSources(e,t){const n=this.view?.map;return e.map((e=>{const r=n.findLayerById(e.id);if(!r)return;const i=this._getLayerJSON(e),o=ax.fromJSON(i);return o.placeholder=t,this._getLayer(r,i).then((e=>{o.layer=e})),o})).filter(Bu.Ru).toArray()}_getTableSources(e,t){const n=this.view?.map;return e.map((e=>{if(!e.id)return;const r=n.findTableById(e.id);if(!r)return;const i=this._getLayerJSON(e),o=ax.fromJSON(i);return o.placeholder=t,this._getLayer(r,i).then((e=>{o.layer=e})),o})).filter(Bu.Ru).toArray()}_convertApplicationProperties(){const e=this.view?.map,t=e?.applicationProperties?.viewing?.search;if(!t)return[];const{enabled:n,hintText:r,layers:i,tables:o}=t;return n?[...this._getLayerSources(i,r),...this._getTableSources(o,r)]:[]}async _getSubLayer(e,t){if(await e.load(),!e.allSublayers)throw new Error;const n=e.allSublayers.find((e=>e.id===t.subLayer));if(!n)throw new Error;const r=await(n.createFeatureLayer?.());if(!r)throw new Error;return this._createdFeatureLayers.push(r),r}async _getBuildingSubLayer(e,t){await e.load();const n=e.allSublayers.find((e=>e.id===t.subLayer));if("building-component"!==n?.type)throw new Error;if(await n.load(),null==n.associatedLayer)throw new Error;return await n.associatedLayer.load(),n}async _getLayer(e,t){if("feature"===e.type||"scene"===e.type||"csv"===e.type||"geojson"===e.type||"ogc-feature"===e.type)return e;if("map-image"===e.type)try{return await this._getSubLayer(e,t)}catch(t){const n=new Ql.A("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:e});return Wl.A.getLogger(this).error(n),null}return"building-scene"===e.type?this._getBuildingSubLayer(e,t):null}_getLayerJSON(e){return"function"==typeof e.toJSON?e.toJSON():e}_updateDefaultSources(){const{defaultSources:e,includeDefaultSources:t}=this;this._destroyFeatureLayers(),e.removeAll(),t&&e.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){const e=this.view?.popup,{resultGraphic:t}=this;if(!e||!t)return;const n="selectedFeature"in e,r=n?e.selectedFeature:null;n&&r&&r===t&&e.close()}_suggestTimer(e,t){const n=null!=e?e:this.suggestionDelay;return(0,Ec.Pl)(n,null,t?.signal)}_createLocationForSearch(e){return e instanceof ty.A&&e.geometry?(0,TS.z8)(e.geometry):e instanceof Fh.A?e:Array.isArray(e)&&2===e.length?new Fh.A({longitude:e[0],latitude:e[1]}):null}_createSuggestionForSearch(e){if(e&&zx(e,"key")&&zx(e,"text")&&zx(e,"sourceIndex"))return e;const t=this._createLocationForSearch(e),n="string"==typeof e?e:this.searchTerm,{selectedSuggestion:r,selectedResult:i}=this,o=!e&&r&&i,s=o&&r.key===i.key&&r.sourceIndex===i.sourceIndex,a=o&&r.location;return s||a?r:{location:t,text:t?"":n,sourceIndex:null,key:null}}_getFirstResult(e){return(0,ec.Pb)(e,(({results:e})=>e?.[0]))??null}async _selectFirstResult(e){return this.autoSelect&&e?this.select(e):null}async _suggestImmediate(e,t){await this.when();const n=await this._getSuggestionsFromSources(e,t);if(t?.signal?.aborted)return null;const r={activeSourceIndex:this.activeSourceIndex,searchTerm:e??"",numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(r,n),r}_formatSourceResponse(e,t,n){const r=t?.value||[],i=t?.error,o=this.allSources.at(n);if(i){const t={sourceIndex:n,source:o,error:i};e.errors.push(t),Wl.A.getLogger(this).error(i),e.numErrors++}else{const t={sourceIndex:n,source:o,results:r};e.results.push(t),e.numResults+=r.length}}_formatResponse(e,t,n){if(t)if(e.activeSourceIndex===qx){const r=n&&zx(n,"sourceIndex")&&-1!==n.sourceIndex?n.sourceIndex:void 0;t.forEach(((t,n)=>{const i=void 0!==r?r:n;this._formatSourceResponse(e,t,i)}))}else this._formatSourceResponse(e,t[0],e.activeSourceIndex)}async _getResultsFromSources(e,t){const{allSources:n}=this,r=!e.location&&zx(e,"sourceIndex")?e.sourceIndex:this.activeSourceIndex,i=[];if(!n.length){const e=new Ql.A("search:no-sources-defined","At least one source is required.",{allSources:n});throw Wl.A.getLogger(this).error(e),e}return r===qx?n.forEach(((n,r)=>{i.push(this._getResultsFromSource(e,r,t))})):i.push(this._getResultsFromSource(e,r,t)),(0,Ec.Lx)(i)}async _getSuggestionsFromSources(e,t){const{allSources:n,activeSourceIndex:r}=this,i=[];if(!n.length){const e=new Ql.A("suggest:no-sources-defined","At least one source is required.",{allSources:n});throw Wl.A.getLogger(this).error(e),e}return r===qx?n.forEach(((n,r)=>{i.push(this._getSuggestionsFromSource(e,r,t))})):i.push(this._getSuggestionsFromSource(e,r,t)),(0,Ec.Lx)(i)}async _getResultsFromSource(e,t,n){const r=null!=t?this.allSources.at(t):null;if(!r)return null;const{location:i=null}=e,o=this.view?.spatialReference||$x,s=zx(r,"maxResults")?r.maxResults:this.maxResults,a=!!(r instanceof ax&&zx(r,"exactMatch"))&&r.exactMatch,{view:l}=this;return r.getResults?.({view:l,sourceIndex:t,location:i,suggestResult:e,spatialReference:o,exactMatch:a,maxResults:s},n)}async _getSuggestionsFromSource(e,t,n){const r=this.allSources.at(t);if(!r)return null;e??="";const i=zx(r,"suggestionsEnabled")?r.suggestionsEnabled:this.suggestionsEnabled,o=e?.length,s=zx(r,"minSuggestCharacters")?r.minSuggestCharacters:this.minSuggestCharacters;if(i&&e.trim()&&o>=s){const i=this.view?.spatialReference||$x,o=zx(r,"maxSuggestions")?r.maxSuggestions:this.maxSuggestions,{view:s}=this,a=!!(r instanceof ax&&zx(r,"exactMatch"))&&r.exactMatch;return r.getSuggestions?.({view:s,sourceIndex:t,suggestTerm:e,spatialReference:i,maxSuggestions:o,exactMatch:a},n)}return null}_getLayerSourcePopupTemplate(e){const{layer:t}=e;if(t)return zx(e,"popupTemplate")?e.popupTemplate:t.popupTemplate}_getSourceIndexOfResult(e){return(0,ec.Pb)(this.results??[],(({results:t,sourceIndex:n})=>{const r=t?.includes(e);return r?n:null}))??null}async _goToSearchResult(e){this._abortGoTo();const t=new AbortController;this._gotoController=t;const n={target:{target:e},options:{signal:t.signal}};e||(n.options.animate=!1),await this.callGoTo(n),this._gotoController=null}_getDefaultSymbol(e){const{defaultSymbols:t}=this,n=e.feature?.geometry;if(null==n)return null;switch(n.type){case"point":case"multipoint":return t.point;case"polyline":return t.polyline;case"extent":case"polygon":return t.polygon;default:return null}}_removeHighlight(){this.removeHandles(Vx)}async _getLayerView(e){const{view:t}=this;if(!e||!t)return null;const{layer:n,sourceLayer:r}=e,i=n??r;return i&&"building-component"!==i.type&&"subtype-sublayer"!==i.type?(await t.when(),t.whenLayerView(i)):null}_highlightFeature(e){const{graphic:t,layerView:n}=e,{attributes:r,layer:i,sourceLayer:o}=t,s=i??o,{objectIdField:a}=s,l=(a&&r?.[a])??null,c=n.highlight(l??t);this.addHandles(c,Vx)}_setResultFloor(e){const{view:t}=this,n=e.feature?.attributes,r=e.feature?.sourceLayer;if(r&&"floorInfo"in r&&r?.floorInfo?.floorField&&n){const e=n[r.floorInfo.floorField];t?.emit("select-result-floor",e)}}};(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"_searching",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"_updatingPromise",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0,value:null})],Hx.prototype,"activeSource",null),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"activeSourceIndex",null),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"allPlaceholder",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Hx.prototype,"allSources",null),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"autoNavigate",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"autoSelect",void 0),(0,Gl._)([(0,ql.MZ)({type:AS.A})],Hx.prototype,"defaultPopupTemplate",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Hx.prototype,"defaultSources",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"defaultSymbols",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"includeDefaultSources",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"locationEnabled",null),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"maxInputLength",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"maxResults",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"maxSuggestions",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"messages",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"minSuggestCharacters",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Hx.prototype,"placeholder",null),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"popupEnabled",void 0),(0,Gl._)([(0,ql.MZ)({type:AS.A})],Hx.prototype,"popupTemplate",void 0),(0,Gl._)([(0,ql.MZ)({type:ga.A})],Hx.prototype,"portal",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"resultCount",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"resultGraphicEnabled",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Hx.prototype,"resultGraphic",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Hx.prototype,"results",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Hx.prototype,"selectedSuggestion",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"searchAllEnabled",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Hx.prototype,"selectedResult",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"searchTerm",null),(0,Gl._)([(0,ql.MZ)({type:Bx})],Hx.prototype,"sources",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Hx.prototype,"state",null),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"suggestionDelay",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"suggestionCount",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Hx.prototype,"suggestions",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"suggestionsEnabled",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Hx.prototype,"updating",null),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"view",void 0),(0,Gl._)([(0,ql.MZ)()],Hx.prototype,"clear",null),Hx=(0,Gl._)([(0,Jl.$)("esri.widgets.Search.SearchViewModel")],Hx);const Wx=Hx;let Jx=class extends Ty.A{constructor(e,t){super(e,t),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}loadDependencies(){return(0,Wy.W)({block:()=>Promise.all([s.e(3252),s.e(2497),s.e(1249),s.e(8381)]).then(s.bind(s,68381)),list:()=>Promise.all([s.e(330),s.e(5174)]).then(s.bind(s,25174)),"list-item":()=>Promise.all([s.e(3252),s.e(1249),s.e(6178)]).then(s.bind(s,6178)),"list-item-group":()=>s.e(8928).then(s.bind(s,58928))})}destroy(){this.viewModel=null}render(){return(0,Fy.K)("div",{class:this.classes(xS.base,Ny.D.widget)},this.viewModel?.selectedResult?.name??"",this._renderMoreResults())}_renderMoreResults(){if(!this.viewModel)return null;const{resultCount:e,results:t}=this.viewModel;return!e||e<2||!t?null:(0,Fy.K)("calcite-block",{class:xS.moreResults,collapsible:!0,expanded:this.showMoreResultsOpen,heading:(0,FS.V)(this.messages.showMoreResults,{count:e-1}),onCalciteBlockClose:()=>this._toggleShowMoreResults(!1),onCalciteBlockOpen:()=>this._toggleShowMoreResults(!0)},t.map((e=>this._renderMoreResultsList(e,t?.length>1))))}_renderListItem(e){return(0,Fy.K)("calcite-list-item",{key:`result-${e.sourceIndex}-${e.key}`,label:e.name,onCalciteListItemSelect:()=>this._selectResult(e)})}_renderMoreResultsList(e,t){const{results:n}=e;if(!n?.length||!n)return null;const r=this.viewModel?.selectedResult,i=this._getSourceName(e.source,e.sourceIndex),o=n.filter((e=>e!==r)).map((e=>this._renderListItem(e)));return(0,Fy.K)("calcite-list",{label:i},t?(0,Fy.K)("calcite-list-item-group",{heading:i,key:`group-${e.sourceIndex}`},o):o)}_selectResult(e){this.showMoreResultsOpen=!1,this.viewModel?.select(e)}_toggleShowMoreResults(e){this.showMoreResultsOpen=e;const t=this.viewModel?.view?.popup;t&&"reposition"in t&&t.reposition()}_getSourceName(e,t){return t===Wx.ALL_INDEX?this.messages.all:e.name}};(0,Gl._)([(0,ql.MZ)(),(0,Dy.G)("esri/widgets/Search/t9n/Search")],Jx.prototype,"messages",void 0),(0,Gl._)([(0,ql.MZ)()],Jx.prototype,"showMoreResultsOpen",void 0),(0,Gl._)([(0,ql.MZ)()],Jx.prototype,"viewModel",void 0),Jx=(0,Gl._)([(0,Jl.$)("esri.widgets.Search.SearchResultRenderer")],Jx);const Kx=Jx;var Yx=s(35017);let Xx=class extends Ty.A{constructor(e,t){super(e,t),this._currentLocationValue=`${this.id}-search-use-current-location`,this._autocompleteNode=null,this._focusAbortController=null,this._searchResultRenderer=new Kx,this._suggestController=null,this._searchController=null,this._lastSearchTerm="",this._locateFailed=!1,this._showNoResults=!1,this.disabled=!1,this.messages=null,this.messagesCommon=null,this.viewModel=new Wx,this._renderSearchResultsContent=()=>this._searchResultRenderer,(0,Xd.ED)(Wl.A.getLogger(this),"Search","arcgis-search",{version:"4.33"}),this.addHandles([(0,tc.wB)((()=>this.viewModel),(e=>this._searchResultRenderer.viewModel=e),tc.Vh),(0,tc.wB)((()=>this.viewModel.results),(()=>this._searchResultRenderer.showMoreResultsOpen=!1)),(0,tc.wB)((()=>this.viewModel?.defaultPopupTemplate),(e=>{e&&(e.content=this._renderSearchResultsContent)}),tc.Vh)])}loadDependencies(){return(0,Wy.W)({autocomplete:()=>Promise.all([s.e(3252),s.e(330),s.e(6411)]).then(s.bind(s,28792)),"autocomplete-item-group":()=>s.e(3132).then(s.bind(s,93132)),"autocomplete-item":()=>s.e(9768).then(s.bind(s,79768)),button:()=>Promise.resolve().then(s.bind(s,37836)),dropdown:()=>Promise.all([s.e(3252),s.e(3207)]).then(s.bind(s,93207)),"dropdown-group":()=>s.e(73).then(s.bind(s,10073)),"dropdown-item":()=>s.e(655).then(s.bind(s,90655)),notice:()=>s.e(8098).then(s.bind(s,48098))})}destroy(){this._cancelQueries(),this._searchResultRenderer=(0,ec.pR)(this._searchResultRenderer),this._focusAbortController?.abort()}get _isDisabled(){const{state:e}=this.viewModel;return"disabled"===e||"loading"===e||this.disabled}get _showCurrentLocation(){return this.locationEnabled&&!this.searchTerm?.trim()}get _effectiveActiveMenu(){const{activeMenu:e}=this;return this._isDisabled?"none":"warning"===e?"suggestion":e}get activeMenu(){return"none"}set activeMenu(e){"warning"===e&&(0,Xd.ck)(Wl.A.getLogger(this),"activeMenu","warning",{replacement:"Use the value 'suggestion' instead",version:"4.32",warnOnce:!0}),this._overrideIfSome("activeMenu",e)}get activeSource(){return this.viewModel?.activeSource}get activeSourceIndex(){return this.viewModel.activeSourceIndex}set activeSourceIndex(e){this.viewModel.activeSourceIndex=e}get allPlaceholder(){return this.viewModel.allPlaceholder}set allPlaceholder(e){this.viewModel.allPlaceholder=e}get allSources(){return this.viewModel.allSources}get autoNavigate(){return this.viewModel.autoNavigate}set autoNavigate(e){this.viewModel.autoNavigate=e}get autoSelect(){return this.viewModel.autoSelect}set autoSelect(e){this.viewModel.autoSelect=e}get defaultSources(){return this.viewModel.defaultSources}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return"search"}set icon(e){this._overrideIfSome("icon",e)}get includeDefaultSources(){return this.viewModel.includeDefaultSources}set includeDefaultSources(e){this.viewModel.includeDefaultSources=e}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get locationEnabled(){return this.viewModel.locationEnabled}set locationEnabled(e){this.viewModel.locationEnabled=e}get maxResults(){return this.viewModel.maxResults}set maxResults(e){this.viewModel.maxResults=e}get maxSuggestions(){return this.viewModel.maxSuggestions}set maxSuggestions(e){this.viewModel.maxSuggestions=e}get minSuggestCharacters(){return this.viewModel.minSuggestCharacters}set minSuggestCharacters(e){this.viewModel.minSuggestCharacters=e}get popupEnabled(){return this.viewModel.popupEnabled}set popupEnabled(e){this.viewModel.popupEnabled=e}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(e){this.viewModel.popupTemplate=e}get portal(){return this.viewModel?.portal}set portal(e){this.viewModel&&(this.viewModel.portal=e)}get resultGraphic(){return this.viewModel.resultGraphic}set resultGraphic(e){this.viewModel.resultGraphic=e}get resultGraphicEnabled(){return this.viewModel.resultGraphicEnabled}set resultGraphicEnabled(e){this.viewModel.resultGraphicEnabled=e}get results(){return this.viewModel.results}get searchAllEnabled(){return this.viewModel.searchAllEnabled}set searchAllEnabled(e){this.viewModel.searchAllEnabled=e}get searchTerm(){return this.viewModel.searchTerm}set searchTerm(e){this.viewModel.searchTerm=e}get selectedResult(){return this.viewModel.selectedResult}get sources(){return this.viewModel.sources}set sources(e){this.viewModel.sources=e}get suggestions(){return this.viewModel.suggestions}get suggestionsEnabled(){return this.viewModel.suggestionsEnabled}set suggestionsEnabled(e){this.viewModel.suggestionsEnabled=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}clear(){this._locateFailed=!1,this.viewModel.clear()}focus(){this._handleFocus(),this._emitFocus()}blur(){this._autocompleteNode?.blur(),this._emitBlur()}async search(e){this._cancelQueries();const t=new AbortController,{signal:n}=t;this._searchController=t;try{const r=await this.viewModel.search(e,{signal:n});if(this._searchController!==t)return;return r?.numResults||(this._showNoResults=!0,this.activeMenu="suggestion"),this._searchController=null,r}catch(e){if(this._searchController!==t)return;return void(this._searchController=null)}}async suggest(e){this._cancelSuggest();const t=new AbortController,{signal:n}=t;this._suggestController=t;try{const r=await this.viewModel.suggest(e,null,{signal:n});if(this._suggestController!==t)return;return this._suggestController=null,r?.numResults&&(this.activeMenu="suggestion",this._scrollToTopSuggestion()),r}catch(e){return this._suggestController!==t||(this._suggestController=null),null}}render(){return(0,Fy.K)("div",{class:this.classes(_S.base,Ny.D.widget)},(0,Fy.K)("div",{class:_S.container},this._renderSourcesMenu(),this._renderForm()))}_handleInputKeydown(e){"Tab"===e.key&&this._cancelSuggest()}_emitFocus(){this.emit("search-focus")}_emitBlur(){this.emit("search-blur")}async _handleFocus(){this._focusAbortController?.abort(),this._focusAbortController=new AbortController;const e=this._focusAbortController.signal;await(0,Ec.QZ)((0,yc.$m)(e)),this._autocompleteNode?.setFocus()}_renderSourcesMenu(){const{messages:e,_isDisabled:t,_effectiveActiveMenu:n}=this,{allSources:r,searchAllEnabled:i}=this.viewModel;return r.length>1?(0,Fy.K)("calcite-dropdown",{bind:this,class:_S.dropdown,disabled:t,open:"source"===n,overlayPositioning:"fixed",onCalciteDropdownClose:this._handleSourceClose,onCalciteDropdownOpen:this._handleSourceOpen,onCalciteDropdownSelect:this._handleSourceSelect},(0,Fy.K)("calcite-button",{appearance:"outline-fill",iconStart:"caret-down",kind:"neutral",label:e.searchIn,slot:"trigger"}),(0,Fy.K)("calcite-dropdown-group",{groupTitle:e.searchIn},i?this._renderSource(Wx.ALL_INDEX):null,r.map(((e,t)=>this._renderSource(t))).toArray())):null}_renderUseCurrentLocation(){const{_currentLocationValue:e}=this;return(0,Fy.K)("calcite-autocomplete-item",{heading:this.messages.useCurrentLocation,iconStart:"gps-on",key:e,value:e})}_handleAutocompleteCreate(e){this._autocompleteNode=e}_handleCalciteAutocompleteTextInput(e){const t=e.target.inputValue;t!==this.viewModel.searchTerm&&(this.viewModel.searchTerm=t,t||this.clear(),this.suggest())}_handleAutocompleteOpen(){this.activeMenu="suggestion"}_handleAutocompleteClose(){"suggestion"===this.activeMenu&&(this.activeMenu="none")}_handleCalciteAutocompleteChange(e){const t=e.target.value;if(t===this._currentLocationValue)return void this._useCurrentLocation();const n=JSON.parse(t),r=this.viewModel.suggestions?.find((({sourceIndex:e})=>e===n.sourceIndex))?.results?.find((({key:e})=>`${e}`==`${n.key}`));r&&this.search(r)}_renderAutocomplete(){const{_effectiveActiveMenu:e,messages:t,_isDisabled:n}=this,{maxInputLength:r,placeholder:i,searchTerm:o,state:s}=this.viewModel,a=this.label??t.searchButtonTitle??"";return(0,Fy.K)("calcite-autocomplete",{afterCreate:this._handleAutocompleteCreate,autocomplete:"off",bind:this,class:_S.autocomplete,disabled:n,icon:this.icon,inputValue:o,label:a,loading:"searching"===s,maxLength:r,name:this.id,onblur:this._emitBlur,onfocus:this._emitFocus,onkeydown:this._handleInputKeydown,open:"suggestion"===e,overlayPositioning:"fixed",placeholder:i,title:o?"":i,onCalciteAutocompleteChange:this._handleCalciteAutocompleteChange,onCalciteAutocompleteClose:this._handleAutocompleteClose,onCalciteAutocompleteOpen:this._handleAutocompleteOpen,onCalciteAutocompleteTextChange:this._handleCalciteAutocompleteTextInput,onCalciteAutocompleteTextInput:this._handleCalciteAutocompleteTextInput},this._renderSuggestions(),this._renderNotices())}_renderForm(){return(0,Fy.K)("form",{bind:this,class:_S.form,disabled:this._isDisabled,key:_S.form,onsubmit:this._formSubmit,role:"search"},this._renderAutocomplete())}_renderSuggestGroup(e){return e.results?.map((e=>this._renderSuggestion(e)))}_renderSuggestions(){const{suggestions:e}=this.viewModel;return this._showNoResults?null:this._showCurrentLocation?this._renderUseCurrentLocation():e?.map((e=>this._renderSuggestResults(e)))}_renderSuggestResults(e){const{allSources:t,activeSourceIndex:n}=this.viewModel,{sourceIndex:r}=e,i=e.results?.length,o=t.length>1&&n===Wx.ALL_INDEX,s=this._getSourceName(r);return i&&o?(0,Fy.K)("calcite-autocomplete-item-group",{heading:s,key:`suggestion-group-${s}-${r}`},this._renderSuggestGroup(e)):this._renderSuggestGroup(e)}_renderSuggestion({key:e,sourceIndex:t,text:n}){const r={key:e,sourceIndex:t};return(0,Fy.K)("calcite-autocomplete-item",{heading:n??this.messages.untitledResult,key:`suggestion_${e}`,value:JSON.stringify(r)})}_renderSource(e){const t=this._getSourceName(e);return(0,Fy.K)("calcite-dropdown-item",{"data-source-index":`${e}`,key:`source-${t}-${e}`,selected:e===this.viewModel.activeSourceIndex},t)}_renderNoResultsWarning(e){const{messages:t}=this,n=e?(0,FS.V)(t.noResultsFoundForValue,{value:`"${e}"`}):t.noResultsFound;return(0,Fy.K)("calcite-notice",{icon:"exclamation-mark-triangle",key:"no-results-warning",kind:"warning",open:!0,slot:"content-bottom"},(0,Fy.K)("div",{slot:"title"},t.noResults),(0,Fy.K)("div",{slot:"message"},n))}_renderLocateError(){return(0,Fy.K)("calcite-notice",{icon:"exclamation-mark-circle",key:"locate-warning",kind:"danger",open:!0,slot:"content-bottom"},(0,Fy.K)("div",{slot:"message"},this.messages.locateError))}_renderNotices(){return this._locateFailed?this._renderLocateError():this._showNoResults?this._renderNoResultsWarning(this._lastSearchTerm??this.viewModel.searchTerm):null}async _useCurrentLocation(){this._cancelQueries();const e=new AbortController,{signal:t}=e;this._searchController=e;try{await this.viewModel.searchNearby({signal:t})}catch(e){(0,Ec.zf)(e)||(this._locateFailed=!0,this.activeMenu="suggestion")}finally{this._searchController=null}}_handleSourceOpen(){this.activeMenu="source"}_handleSourceClose(){"source"===this.activeMenu&&(this.activeMenu="none")}_handleSourceSelect(e){const t=e.target.selectedItems[0].getAttribute("data-source-index");t&&(this.viewModel.activeSourceIndex=parseInt(t,10))}_cancelSuggest(){this.activeMenu="none",this._locateFailed=!1,this._showNoResults=!1,this._suggestController=(0,ec.DC)(this._suggestController)}_cancelQueries(){this._cancelSuggest(),this._searchController=(0,ec.DC)(this._searchController)}_scrollToTopSuggestion(){this._autocompleteNode?.scrollContentTo({top:0})}_formSubmit(e){e.preventDefault(),this.activeMenu="none",this._lastSearchTerm=this.searchTerm,this.searchTerm&&this.search()}_getSourceName(e){const{messages:t}=this,{allSources:n}=this.viewModel,r=n.at(e);return e===Wx.ALL_INDEX?t.all:r?.name||t.untitledSource}};(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"_locateFailed",void 0),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"_showNoResults",void 0),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"_isDisabled",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"_showCurrentLocation",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"_effectiveActiveMenu",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"activeMenu",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Xx.prototype,"activeSource",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"activeSourceIndex",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"allPlaceholder",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Xx.prototype,"allSources",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"autoNavigate",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"autoSelect",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Xx.prototype,"defaultSources",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"disabled",void 0),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"goToOverride",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"icon",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"includeDefaultSources",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"label",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"locationEnabled",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"maxResults",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"maxSuggestions",null),(0,Gl._)([(0,ql.MZ)(),(0,Dy.G)("esri/widgets/Search/t9n/Search")],Xx.prototype,"messages",void 0),(0,Gl._)([(0,ql.MZ)(),(0,Dy.G)("esri/t9n/common")],Xx.prototype,"messagesCommon",void 0),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"minSuggestCharacters",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"popupEnabled",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"popupTemplate",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"portal",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"resultGraphic",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"resultGraphicEnabled",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Xx.prototype,"results",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"searchAllEnabled",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"searchTerm",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Xx.prototype,"selectedResult",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"sources",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],Xx.prototype,"suggestions",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"suggestionsEnabled",null),(0,Gl._)([(0,ql.MZ)()],Xx.prototype,"view",null),(0,Gl._)([(0,Yx.U)(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),(0,ql.MZ)({type:Wx})],Xx.prototype,"viewModel",void 0),Xx=(0,Gl._)([(0,Jl.$)("esri.widgets.Search")],Xx);const Qx=Xx;var eM=({mapView:t,hide:n,searchCompletedHandler:r})=>{const i=(0,e.useRef)(null);return e.useEffect((()=>{t&&(async()=>{const e=new Qx({view:t,resultGraphicEnabled:!1,popupEnabled:!1,container:i.current});r&&e.on("search-complete",(t=>{if(e.results[0]&&e?.results[0]?.results[0]){const t=e.results[0].results[0];r(t)}}))})()}),[t]),e.createElement("div",{className:Za()("relative w-full z-20 bg-custom-background",{"opacity-0":n}),ref:i})};const tM=({mapView:t})=>{const{t:n}=$(),r=e.useRef(null),i=ws(dl),[o,s]=e.useState(!1);return gw(r,(()=>{s(!1)})),t?e.createElement("div",{className:"relative",ref:r},e.createElement(lS,{tooltip:n("open_search_widget"),onClickHandler:()=>{s(!o)}},e.createElement(aw,{icon:"search",scale:"s"})),e.createElement("div",{className:Za()("absolute top-0 left-full ml-[2px] w-[212px] h-map-action-button-size",{hidden:!o})},e.createElement(eM,{mapView:t,hide:i}))):null},nM=({mapView:t,serviceUrl:n,serviceName:r,nativeScale:i})=>{const{t:o}=$();return t?e.createElement(aS,null,e.createElement(tM,{mapView:t}),e.createElement(vS,{mapView:t}),e.createElement(bS,{mapView:t,nativeScale:i,tooltip:o("zoom_to_native_scale",{serviceName:r})}),e.createElement(gS,{mapView:t,serviceUrl:n}),e.createElement("div",{className:"h-[1px] my-[5px] w-map-action-button-size bg-custom-background"}),e.createElement(mS,{mapView:t}),e.createElement(fS,null),e.createElement(pS,null)):null},rM=e=>async(t,n)=>{const r=Ya(n()),i=el(n());"analysis"===r&&"trend"===i&&t(Fi(e))};let iM=null;const oM=()=>(e,t)=>{iM&&iM.abort(),e(Ui([])),e(Fi(null)),e(Bi(!1))};let sM=null;const aM=e=>async(t,n)=>{"spectral"===el(n())&&t(oo(e))};var lM=s(42929),cM=s(90939);const uM={left:0,right:0,top:0,bottom:0};let dM=class extends gc.A{constructor(e){super(e),this._leadingClips=new Map,this._trailingClips=new Map,this.direction="horizontal",this.leadingLayers=new Yl.A,this.max=100,this.min=0,this.precision=4,this.step=.5,this.stepMultiplier=10,this.trailingLayers=new Yl.A,this.view=null}initialize(){this.addHandles([(0,tc.wB)((()=>[this.view,this.view?.ready,this.position,this.direction]),(()=>this._clipLayers()),tc.Vh),(0,tc.wB)((()=>this.leadingLayers.toArray()),(()=>this._clipLeadingLayers()),tc.Vh),(0,tc.wB)((()=>this.trailingLayers.toArray()),(()=>this._clipTrailingLayers()),tc.Vh)])}destroy(){this._removeExistingClips()}get position(){return 25}set position(e){const{precision:t,min:n,max:r}=this;this._set("position",function(e,t){const n=10**t;return Math.round(e*n)/n}(Math.max(Math.min(e,r),n),t))}get state(){return this.view?.ready?"ready":"disabled"}_clipLayers(){this._clipLeadingLayers(),this._clipTrailingLayers()}_clipLeadingLayers(){this._removeClips("leading");const{leadingLayers:e}=this;e.forEach((e=>this._clipLayer({layer:e,type:"leading"})))}_clipTrailingLayers(){this._removeClips("trailing");const{trailingLayers:e}=this;e.forEach((e=>this._clipLayer({layer:e,type:"trailing"})))}async _getLayerView(e){const{view:t}=this;if(!e||!t)return null;const n=await t.whenLayerView(e);return"clips"in n?n:null}_getVerticalClipRect(e){const{position:t}=this;return"leading"===e?new cM.A({...uM,bottom:100-t+"%"}):"trailing"===e?new cM.A({...uM,top:`${t}%`}):null}_getHorizontalClipRect(e){const{position:t}=this;return"leading"===e?new cM.A({...uM,right:100-t+"%"}):"trailing"===e?new cM.A({...uM,left:`${t}%`}):null}_getClipRect(e){const{direction:t}=this;return"vertical"===t?this._getVerticalClipRect(e):"horizontal"===t?this._getHorizontalClipRect(e):null}async _clipLayer(e){const{_leadingClips:t,_trailingClips:n}=this,{layer:r,type:i}=e,o="trailing"===i?n:"leading"===i?t:null,s=await this._getLayerView(r);if(!(s&&"clips"in s&&o&&s.hasOwnProperty("clips")))return;const a=o.get(s);a&&s.clips.remove(a);const l=this._getClipRect(i);l&&(o.set(s,l),s.clips.add(l))}_removeClips(e){const{_leadingClips:t,_trailingClips:n}=this,r="trailing"===e?n:"leading"===e?t:null;r&&(r.forEach(((e,t)=>{t&&t.hasOwnProperty("clips")&&t.clips.remove(e)})),r.clear())}_removeExistingClips(){this._removeClips("leading"),this._removeClips("trailing")}};(0,Gl._)([(0,ql.MZ)()],dM.prototype,"direction",void 0),(0,Gl._)([(0,ql.MZ)({type:Yl.A,nonNullable:!0})],dM.prototype,"leadingLayers",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],dM.prototype,"max",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],dM.prototype,"min",void 0),(0,Gl._)([(0,ql.MZ)()],dM.prototype,"position",null),(0,Gl._)([(0,ql.MZ)()],dM.prototype,"precision",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],dM.prototype,"state",null),(0,Gl._)([(0,ql.MZ)()],dM.prototype,"step",void 0),(0,Gl._)([(0,ql.MZ)()],dM.prototype,"stepMultiplier",void 0),(0,Gl._)([(0,ql.MZ)({type:Yl.A,nonNullable:!0})],dM.prototype,"trailingLayers",void 0),(0,Gl._)([(0,ql.MZ)()],dM.prototype,"view",void 0),dM=(0,Gl._)([(0,Jl.$)("esri.widgets.Swipe.SwipeViewModel")],dM);const hM=dM,pM="esri-swipe",fM={base:pM,baseDisabled:`${pM}--disabled`,vertical:`${pM}--vertical`,horizontal:`${pM}--horizontal`,container:`${pM}__container`,divider:`${pM}__divider`,handle:`${pM}__handle`,handleHidden:`${pM}__handle--hidden`,handleIcon:`${pM}__handle-icon`},mM={handle:!0,divider:!0};let yM=class extends Ty.A{constructor(e,t){super(e,t),this.disabled=!1,this.messages=null,this.viewModel=new hM,this._pointerOffset=0,this._container=null,(0,Xd.ED)(Wl.A.getLogger(this),"Swipe","arcgis-swipe",{version:"4.32"}),this._onContainerPointerDown=this._onContainerPointerDown.bind(this),this._onContainerPointerMove=this._onContainerPointerMove.bind(this),this._onContainerPointerUp=this._onContainerPointerUp.bind(this)}get direction(){return this.viewModel.direction}set direction(e){this.viewModel.direction=e}get dragLabel(){return this.messages?.dragLabel??""}set dragLabel(e){this._overrideIfSome("dragLabel",e)}get icon(){return"compare"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get leadingLayers(){return this.viewModel.leadingLayers}set leadingLayers(e){this.viewModel.leadingLayers=e}get position(){return this.viewModel.position}set position(e){this.viewModel.position=e}get trailingLayers(){return this.viewModel.trailingLayers}set trailingLayers(e){this.viewModel.trailingLayers=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}set visibleElements(e){this._set("visibleElements",{...mM,...e})}get visibleElements(){return this._get("visibleElements")||mM}render(){const{state:e,direction:t}=this.viewModel,n="disabled"===e||this.disabled,r={[Ny.D.disabled]:n,[fM.baseDisabled]:n,[fM.vertical]:"vertical"===t,[fM.horizontal]:"horizontal"===t};return(0,Fy.K)("div",{class:this.classes(fM.base,Ny.D.widget,r)},"disabled"===e?null:this._renderContainer())}_renderHandle(){const{direction:e}=this.viewModel,{visibleElements:t}=this,n={[lM.T.dragHorizontal]:"vertical"===e,[lM.T.dragVertical]:"horizontal"===e},r=this.classes(fM.handle,!t.handle&&fM.handleHidden);return(0,Fy.K)("div",{class:r,key:"handle",role:"presentation"},(0,Fy.K)("span",{"aria-hidden":"true",class:this.classes(fM.handleIcon,n)}))}_renderDivider(){const{visibleElements:e}=this;return e&&e.divider?(0,Fy.K)("div",{class:fM.divider,key:"divider",role:"presentation"}):null}_renderContent(){return[this._renderDivider(),this._renderHandle()]}_renderContainer(){const{disabled:e,dragLabel:t,viewModel:n}=this,{max:r,min:i,direction:o,position:s}=n,a=`${s}%`,l={top:"vertical"===o?a:void 0,left:"vertical"===o?void 0:a},c=this._renderContent();return(0,Fy.K)("div",e?{class:fM.container,key:"container",role:"presentation",styles:l}:{afterCreate:this._afterContainerCreate,"aria-label":t,"aria-orientation":o,"aria-valuemax":`${r}`,"aria-valuemin":`${i}`,"aria-valuenow":`${s}`,"aria-valuetext":a,bind:this,class:fM.container,key:"container",onkeydown:this._onContainerKeyDown,role:"slider",styles:l,tabIndex:0,title:t,"touch-action":"none"},c)}_afterContainerCreate(e){this._container=e,e.addEventListener("pointerdown",this._onContainerPointerDown)}_calculatePointerOffset(e){const{direction:t}=this,n=e.target,r=("vertical"===t?n.clientHeight:n.clientWidth)/2,i=n.getBoundingClientRect(),o=e.clientX-i.left,s=e.clientY-i.top;this._pointerOffset="vertical"===t?s-r:o-r}_onContainerPointerDown(e){e.preventDefault(),this._container&&document.activeElement!==this.container&&this._container.focus(),this._calculatePointerOffset(e),document.addEventListener("pointerup",this._onContainerPointerUp),document.addEventListener("pointermove",this._onContainerPointerMove)}_onContainerPointerUp(e){e.preventDefault(),document.removeEventListener("pointerup",this._onContainerPointerUp),document.removeEventListener("pointermove",this._onContainerPointerMove)}_onContainerPointerMove(e){e.preventDefault();const{_pointerOffset:t,container:n,direction:r}=this,{clientX:i,clientY:o}=e,{top:s,left:a,width:l,height:c}=n.getBoundingClientRect(),u=("vertical"===r?o-s-t:i-a-t)/("vertical"===r?c:l)*100;this.position=u}_getKeyPosition(e){const{key:t}=e,{position:n}=this,{max:r,min:i,step:o,stepMultiplier:s,direction:a}=this.viewModel,l=o*s;return["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].includes(t)&&(e.preventDefault(),e.stopPropagation()),("vertical"===a?"ArrowDown"===t||"ArrowRight"===t:"ArrowUp"===t||"ArrowRight"===t)?n+(e.shiftKey?l:o):("vertical"===a?"ArrowUp"===t||"ArrowLeft"===t:"ArrowDown"===t||"ArrowLeft"===t)?n-(e.shiftKey?l:o):"Home"===t?i:"End"===t?r:("vertical"===a?"PageDown"===t:"PageUp"===t)?n+l:("vertical"===a?"PageUp"===t:"PageDown"===t)?n-l:null}_onContainerKeyDown(e){const t=this._getKeyPosition(e);"number"==typeof t&&(this.position=t)}};(0,Gl._)([(0,ql.MZ)()],yM.prototype,"direction",null),(0,Gl._)([(0,ql.MZ)()],yM.prototype,"disabled",void 0),(0,Gl._)([(0,ql.MZ)()],yM.prototype,"dragLabel",null),(0,Gl._)([(0,ql.MZ)()],yM.prototype,"icon",null),(0,Gl._)([(0,ql.MZ)()],yM.prototype,"label",null),(0,Gl._)([(0,ql.MZ)()],yM.prototype,"leadingLayers",null),(0,Gl._)([(0,ql.MZ)(),(0,Dy.G)("esri/widgets/Swipe/t9n/Swipe")],yM.prototype,"messages",void 0),(0,Gl._)([(0,ql.MZ)()],yM.prototype,"position",null),(0,Gl._)([(0,ql.MZ)()],yM.prototype,"trailingLayers",null),(0,Gl._)([(0,ql.MZ)()],yM.prototype,"view",null),(0,Gl._)([(0,ql.MZ)({type:hM})],yM.prototype,"viewModel",void 0),(0,Gl._)([(0,ql.MZ)()],yM.prototype,"visibleElements",null),yM=(0,Gl._)([(0,Jl.$)("esri.widgets.Swipe")],yM);const gM=yM;var vM=({mapView:t,groupLayer:n,visible:r,leadingLayer:i,trailingLayer:o,positionOnChange:s,referenceInfoOnToggle:a})=>{const l=(0,e.useRef)(null);(t=>{const n=ws(Dl),r=ws(Fl),i=(0,e.useRef)(50),o=(0,e.useRef)(null),s=(0,e.useRef)(!0),a=(0,e.useRef)(r),l=()=>{"playing"===o.current&&(s.current?i.current=Math.min(i.current+a.current,100):i.current=Math.max(i.current-a.current,0),100!==i.current&&0!==i.current||(s.current=!s.current),t.position=i.current,requestAnimationFrame(l))};(0,e.useEffect)((()=>{t&&(o.current=n,"playing"===o.current&&requestAnimationFrame(l))}),[n,t]),(0,e.useEffect)((()=>{a.current=r}),[r])})(l.current);const c=()=>{const e=document.querySelector(".esri-swipe__container");e&&(e.addEventListener("mouseenter",(()=>{a(!0)})),e.addEventListener("mouseleave",(()=>{a(!1)})))};return(0,e.useEffect)((()=>{t&&i&&o&&!l.current&&(async()=>{n?n.addMany([i,o]):t.map.addMany([i,o],1),l.current=new gM({view:t,leadingLayers:[i],trailingLayers:[o],direction:"horizontal",position:50,visible:r}),t.ui.add(l.current),(0,tc.wB)((()=>l.current.position),(e=>{s(e)})),l.current.when((()=>{c()}))})()}),[t,i,o,n]),(0,e.useEffect)((()=>{l.current&&(l.current.visible=r,r&&setTimeout((()=>{c()}),1e3))}),[r]),null},bM=s(11367),wM=s(10576);const _M=e=>e?new wM.A({method:"lock-raster",ascending:!1,where:`objectid in (${e})`,lockRasterIds:[e]}):null,SM=({url:t,visible:n,rasterFunction:r,objectId:i,defaultMosaicRule:o})=>{const s=(0,e.useRef)(null),[a,l]=(0,e.useState)();return(0,e.useEffect)((()=>{s.current||(async()=>{const e=i?_M(i):o;s.current=new bM.default({url:t,mosaicRule:e,rasterFunction:{functionName:r},visible:n}),l(s.current)})()}),[]),(0,e.useEffect)((()=>{s.current&&(s.current.rasterFunction={functionName:r})}),[r]),(0,e.useEffect)((()=>{(async()=>{s.current&&(s.current.mosaicRule=i?_M(i):o)})()}),[i]),(0,e.useEffect)((()=>{s.current&&(s.current.visible=n)}),[n]),a},xM=({serviceUrl:t,groupLayer:n,mapView:r})=>{const i=bs(),o=ws($a),s=ws(Wa),a=ws(Ja),l=SM({url:t,visible:o&&null!==s?.objectIdOfSelectedScene,rasterFunction:s?.rasterFunctionName||"",objectId:s?.objectIdOfSelectedScene}),c=SM({url:t,visible:o&&null!==a?.objectIdOfSelectedScene,rasterFunction:a?.rasterFunctionName||"",objectId:a?.objectIdOfSelectedScene});return e.createElement(vM,{visible:o,leadingLayer:l,trailingLayer:c,mapView:r,groupLayer:n,positionOnChange:e=>{i(Dt(Math.trunc(e)))},referenceInfoOnToggle:()=>{}})},MM=e=>e.ChangeCompareTool.selectedOption,AM=e=>e.ChangeCompareTool.changeCompareLayerIsOn,TM=e=>e.ChangeCompareTool.selectedRange,IM=e=>e.ChangeCompareTool.fullPixelValuesRange,CM=e=>e.ChangeCompareTool,EM=e=>e.TemporalCompositeTool.isTemporalCompositeLayerOn,kM=e=>e.TemporalCompositeTool;var PM=({serviceUrl:t,mapView:n,groupLayer:r,defaultMosaicRule:i})=>{const o=ws(Ya),{rasterFunctionName:s,objectIdOfSelectedScene:a}=ws(Ba)||{},l=ws(_l),c=ws(el),u=ws(AM),d=(ws(EM),SM({url:t,visible:!("dynamic"!==o&&("find a scene"===o||"spectral sampling"===o?null===a:"analysis"===o?"change"===c&&u||"temporal composite"===c||null===a:"animate"!==o||!a||null!==l)),rasterFunction:s,objectId:"dynamic"===o?null:a,defaultMosaicRule:i}));return(0,e.useEffect)((()=>{r&&d&&(r.add(d),r.reorder(d,0))}),[r,d]),null};const RM=({mapView:t,groupLayer:n})=>{const r=(0,e.useMemo)((()=>new wM.A({ascending:!0,method:"attribute",operation:"first",sortField:"best",sortValue:"0"})),[]);return e.createElement(PM,{groupLayer:n,serviceUrl:na,defaultMosaicRule:r})},OM=e=>e.MaskTool.selectedIndex,NM=e=>e.MaskTool.maskLayerOpacity,LM=e=>e.MaskTool.shouldClipMaskLayer,DM=e=>e.MaskTool,FM=Ge((e=>e.MaskTool.selectedIndex),(e=>e.MaskTool.pixelValueRangeBySelectedIndex),((e,t)=>t[e])),jM=Ge((e=>e.MaskTool.selectedIndex),(e=>e.MaskTool.pixelColorBySelectedIndex),((e,t)=>t[e]||[255,255,255])),ZM=({mapView:t,groupLayer:n,serviceURL:r,objectId:i,rasterFunction:o,visible:s,selectedPixelValueRange:a,selectedPixelValueRange4Band2:l,fullPixelValueRange:c,blendMode:u,opacity:d,pixelColor:h,getPixelColor:p,countOfPixelsOnChange:f})=>{const m=(0,e.useRef)(null),y=(0,e.useRef)(null),g=(0,e.useRef)(null),v=(0,e.useRef)(null),b=(0,e.useRef)(null),w=e=>{const{pixelBlock:t}=e||{};if(!t)return;const{pixels:n,width:r,height:i}=t;if(!n)return;const o=n[0],s=n[1],a=n[0].length;let l=a,c=a,u=!0;t.mask||(t.mask=new Uint8Array(a),u=!1);const d=new Uint8Array(a),h=new Uint8Array(a),m=new Uint8Array(a),w=r*i,[_,S]=y.current||[0,0],[x,M]=g.current||[void 0,void 0],[A,T]=v.current||[0,0];for(let e=0;e<w;e++){let n=o[e];if(n=Math.max(n,A),n=Math.min(n,T),u&&0===t.mask[e]&&l--,n<_||n>S||0===o[e]){t.mask[e]=0,c--;continue}let r=s?s[e]:void 0;if(void 0!==r&&(r=Math.max(r,A),r=Math.min(r,T)),void 0!==r&&void 0!==x&&void 0!==M&&(r<x||r>M)){t.mask[e]=0,c--;continue}const i=b.current||p(o[e],v.current);i?(t.mask[e]=1,d[e]=i[0],h[e]=i[1],m[e]=i[2]):t.mask[e]=0}t.pixels=[d,h,m],t.pixelType="u8",f&&f(l,c)};return(0,e.useEffect)((()=>{n&&!m.current&&(m.current=new bM.default({url:r,mosaicRule:i?_M(i):null,format:"lerc",rasterFunction:o,visible:s,pixelFilter:w,blendMode:u||null,opacity:d||1,effect:"drop-shadow(2px, 2px, 3px, #000)",interpolation:"nearest"}),n.add(m.current))}),[n]),(0,e.useEffect)((()=>{m.current&&(m.current.rasterFunction=o)}),[o]),(0,e.useEffect)((()=>{m.current&&(m.current.mosaicRule=i?_M(i):null)}),[i]),(0,e.useEffect)((()=>{m.current&&(m.current.opacity=d)}),[d]),(0,e.useEffect)((()=>{y.current=a,g.current=l,v.current=c,b.current=h,m.current&&(m.current.visible=s,s&&m.current.redraw())}),[a,l,c,h,s]),(0,e.useEffect)((()=>{m.current&&(m.current.blendMode=u||"normal")}),[u]),null};var UM=s(96949);const zM=({pixelWidth:t,pixelHeigh:n,serviceURL:r,objectId:i})=>{const[o,s]=(0,e.useState)(t*n);return(0,e.useEffect)((()=>{(async()=>{if(i)try{const[e,n]=await(async(e,t)=>{const n=await O_({serviceUrl:e,objectId:t,outputSpatialReference:4326}),{ymax:r,ymin:i}=n;let{xmax:o,xmin:s}=n;return s<0&&o>0&&(s=o,o=180),[(o-s)/2+s,(r-i)/2+i]})(r,i),o=((e,t)=>{const n=t*Math.PI/180;return(e*Math.cos(n))**2})(t,n);s(o)}catch(e){}})()}),[i,t,n]),o},VM=({objectId:t,serviceURL:n,pixelSize:r})=>{const i=bs(),o=ws(Ll),s=zM({pixelHeigh:r,pixelWidth:r,serviceURL:n,objectId:t});(0,e.useEffect)((()=>{i(Zt(s*o/1e6))}),[o,s])},BM=()=>{const t=ws(OM);return(0,e.useMemo)((()=>[-1,1]),[t])},$M=({mapView:t,groupLayer:n})=>{const r=bs(),i=ws(OM),{selectedRange:o}=ws(FM),s=ws(jM),a=ws(NM),l=ws(LM),{objectIdOfSelectedScene:c}=ws(Ba)||{},u=(()=>{const t=ws(Ya),{objectIdOfSelectedScene:n}=ws(Ba)||{},r=ws(el);return(0,e.useMemo)((()=>"analysis"===t&&"mask"===r&&!!n),[t,r,n])})(),d=(0,e.useMemo)((()=>i?new UM.A({functionName:"BandArithmetic",outputPixelType:"f32",functionArguments:{Method:0,BandIndexes:x_(i)||""}}):null),[i]),h=BM();return VM({objectId:c,serviceURL:na,pixelSize:t.resolution}),e.createElement(ZM,{serviceURL:na,groupLayer:n,objectId:c,rasterFunction:d,visible:u,selectedPixelValueRange:o,fullPixelValueRange:h,pixelColor:s,opacity:a,blendMode:l?"destination-atop":"normal",countOfPixelsOnChange:(e,t)=>{r(Ut(t))}})},GM=["#511C02","#662302","#7E2B03","#953303","#AD430B","#C47033","#DB9D5A","#F3CC83","#DED89B","#9BBF9F","#57A5A3","#118AA7","#007797","#006480","#005168","#004053"],qM=GM.map((e=>(e=>(e=e.replace(/^#/,""),[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]))(e))),HM=(e,t)=>{const[n,r]=t;if(e<=n)return qM[0];if(e>=r)return qM[qM.length-1];const i=r-n;e-=n;const o=Math.floor(e/i*(qM.length-1));return qM[o]},WM=({mapView:t,groupLayer:n})=>{const r=bs(),i=ws(MM),o=ws(Wa),s=ws(Ja),a=ws(TM),l=ws(IM),[c,u]=(0,e.useState)(),d=(()=>{const t=ws(Ya),n=ws(AM),r=ws(Wa),i=ws(Ja),o=ws(el);return(0,e.useMemo)((()=>"analysis"===t&&"change"===o&&!(!r?.objectIdOfSelectedScene||!i?.objectIdOfSelectedScene)&&n),[t,o,n,r,i])})();return(0,e.useEffect)((()=>{(async()=>{try{const e=x_(i),t=await X_(o?.objectIdOfSelectedScene),n=await(({bandIndex:e,clippingGeometry:t,queryParams4SceneA:n,queryParams4SceneB:r})=>{if(!e)return null;if(!n?.objectIdOfSelectedScene||!r?.objectIdOfSelectedScene)return null;const[i,o]=[n,r].sort(((e,t)=>Gn(e.acquisitionDate)-Gn(t.acquisitionDate)));try{return new UM.A({functionName:"Clip",functionArguments:{ClippingGeometry:t,ClippingType:1,Raster:{rasterFunction:"Arithmetic",rasterFunctionArguments:{Raster:{rasterFunction:"BandArithmetic",rasterFunctionArguments:{Raster:`$${o.objectIdOfSelectedScene}`,Method:0,BandIndexes:e},outputPixelType:"F32"},Raster2:{rasterFunction:"BandArithmetic",rasterFunctionArguments:{Raster:`$${i.objectIdOfSelectedScene}`,Method:0,BandIndexes:e},outputPixelType:"F32"},Operation:2,ExtentType:1,CellsizeType:0},outputPixelType:"F32"}}})}catch(e){return null}})({bandIndex:e,clippingGeometry:t.geometry,queryParams4SceneA:o,queryParams4SceneB:s});u(n)}catch(e){u(null)}})()}),[i,o,s]),VM({objectId:o?.objectIdOfSelectedScene||s?.objectIdOfSelectedScene,serviceURL:na,pixelSize:t.resolution}),e.createElement(ZM,{mapView:t,groupLayer:n,serviceURL:na,rasterFunction:c,visible:d,selectedPixelValueRange:a,fullPixelValueRange:l,getPixelColor:HM,countOfPixelsOnChange:(e,t)=>{r(Ut(t))}})},JM=({serviceUrl:t,mapView:n,groupLayer:r})=>{const i=ws(Ya),{objectIdOfSelectedScene:o}=ws(Ba)||{},s=ws(_l),a=ws(el),l=ws(AM),c=(0,e.useMemo)((()=>"dynamic"!==i&&"animate"!==i&&"swipe"!==i&&("find a scene"===i?null!==o:"analysis"===i&&(("change"!==a||!l)&&("temporal composite"!==a&&null!==o)))),[i,o,a,l,s]),u=(0,e.useMemo)((()=>"dynamic"===i?null:o),[i,o]),d=(0,e.useRef)(new h_.A({blendMode:"multiply",effect:"drop-shadow(0px 0px 5px #000)"}));return(0,e.useEffect)((()=>{d.current&&n&&(d.current.removeAll(),u&&(async e=>{if(n&&t)try{const n=await P_(t,e);if(!n||!n.geometry)return;const r=n.geometry;if(!r.rings||0===r.rings.length||!r.spatialReference)return;const i=new ty.A({geometry:new oc.A({rings:r.rings,spatialReference:r.spatialReference}),symbol:{type:"simple-fill",color:[255,255,255,1],outline:{color:[255,255,255],width:0}}});d.current.add(i)}catch(e){}})(u))}),[u]),(0,e.useEffect)((()=>{d.current&&n&&(d.current.visible=c)}),[c]),(0,e.useEffect)((()=>{n&&d.current&&n.map.add(d.current)}),[n,d.current]),null};var KM=()=>{const t=bs(),{t:n}=$();return e.createElement(Aw,{mapOnClick:e=>{t(rM(e)),t(aM(e))}},e.createElement(JM,{serviceUrl:na}),e.createElement(n_,{index:1},e.createElement(RM,null),e.createElement($M,null),e.createElement(WM,null),e.createElement(w_,null),e.createElement(rS,null),e.createElement(e_,{imageryServiceUrl:na,authoringAppName:"sentinel2",animationMetadataSources:n("animation_metadata",{ns:En})})),e.createElement(xM,{serviceUrl:na}),e.createElement(Yw,null),e.createElement(nM,{nativeScale:37795,serviceName:"Sentinel-2",serviceUrl:na}),e.createElement(tS,null),e.createElement(oS,null),e.createElement(sS,{atrribution:n("sentinel_2_explorer_attribution",{ns:En})}))};const YM=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24",width:"24"},e.createElement("path",{fill:"currentColor",d:"M20.1 9L12 17.1 3.9 9z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),XM=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24",width:"24"},e.createElement("path",{fill:"currentColor",d:"M3.9 15L12 6.9l8.1 8.1z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}));var QM=({isBottomPanelHidden:t,onClickHandler:n})=>e.createElement("div",{className:Za()("absolute right-0 w-10 h-10",{"bottom-bottom-panel-height":!1===t,"bottom-0":t})},e.createElement("div",{className:"absolute rounded-full top-5 w-full h-full theme-background text-custom-light-blue flex justify-center cursor-pointer",onClick:n},e.createElement("div",{className:"absolute top-0 left-0 w-full h-full rounded-full",style:{background:"rgba(0,0,0,0.6)"}}),e.createElement("div",{className:"relative z-10"},t?XM:YM)));var eA=()=>{const t=bs(),n=ws(bl);return e.createElement(QM,{isBottomPanelHidden:n,onClickHandler:()=>{t(yi(!n))}})};const tA=()=>{const t=ws(pl),n=ws(fl);return n&&t?e.createElement("div",{className:"absolute bottom-bottom-panel-height pb-1 z-10",style:{left:t}},e.createElement("div",{className:" bg-custom-background-90 text-custom-light-blue-90 text-sm p-2 max-w-xs"},n.title&&e.createElement("h4",{className:"text-sm mb-1"},n.title),e.createElement("div",{className:"text-xs mb-2",dangerouslySetInnerHTML:{__html:n.content}}),n.legendImage&&e.createElement("img",{src:n.legendImage,className:"w-full h-auto"}))):null};var nA=({children:t})=>{const n=ws(bl);return e.createElement(e.Fragment,null,e.createElement(eA,null),e.createElement(tA,null),!1===n&&e.createElement("div",{className:"bottom-panel absolute bottom-0 left-0 w-full h-bottom-panel-height z-10 fancy-scrollbar"},e.createElement("div",{className:"theme-background absolute top-0 left-0 w-full h-full"}),e.createElement("div",{className:"bottom-panel-top-shadow absolute top-0 left-0 w-full"}),e.createElement("div",{className:Za()("relative flex h-full p-4 pb-2 text-custom-light-blue z-10 fancy-scrollbar","overflow-y-auto bottom-panel-content-min-width:overflow-y-unset")},t)))};function rA(){return rA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rA.apply(null,arguments)}const iA=({year:t,month:n,abbrLabel:r,days:i,selectedAcquisitionDate:o,availableScenes:s,onSelect:a})=>{const l=(0,e.useMemo)((()=>{const e=new Map;if(!s||!s.length)return e;for(const t of s){const{formattedAcquisitionDate:n}=t;e.set(n,t)}return e}),[s]);return e.createElement("div",{className:"text-center mx-1","data-testid":`month-grid-${t}-${n}`},e.createElement("h4",{className:"text-sm text-custom-light-blue-80 mb-1"},r),e.createElement("div",{className:Za()("grid grid-cols-4 gap-[2px]")},[...new Array(i)].map(((r,i)=>{const s=qn({year:t,month:n,day:i+1}),c=l.get(s),u=void 0!==c,d=s===o,h={"data-testid":"calendar-cell-"+s};return u&&(h["data-element"]="calendar-cell-with-available-scene"),e.createElement("div",rA({className:Za()("relative h-2 w-2 border group",{"cursor-pointer":d||u,"border-custom-calendar-border":!1===d,"bg-custom-calendar-background-selected":d,"border-custom-calendar-border-selected":d,"border-custom-calendar-border-available":!1===d&&u&&!0===c?.doesNotMeetCriteria,"bg-custom-calendar-background-available":!1===d&&u&&!1===c?.doesNotMeetCriteria,"border-custom-calendar-background-available":!1===d&&u&&!1===c?.doesNotMeetCriteria}),style:{boxShadow:d?"0 0 4px var(--custom-light-blue)":""},key:i},h,{onClick:()=>{d?a(""):u&&a(s)}}),u&&e.createElement("div",{"data-testid":`calendar-cell-tooltip-${s}`,className:"\n                                absolute bottom-[-30px] left-5 w-[90px] py-[2px] text-xs z-50\n                                bg-custom-background border border-custom-light-blue-50  \n                                hidden group-hover:block\n                            "},e.createElement("span",null,c.satellite),e.createElement("br",null),e.createElement("span",null,$n(c.acquisitionDate)),e.createElement("br",null),c?.customTooltipText?c?.customTooltipText.map((t=>e.createElement("div",{key:t},e.createElement("span",null,t)))):null))}))))};var oA=({dateRange:t,selectedAcquisitionDate:n,availableScenes:r,onSelect:i})=>{const{startDate:o,endDate:s}=t,a=Hn(o),l=Hn(s);let c=[];if(a===l){const t=a;c=Ur.map(((o,s)=>{const a=s+1;return e.createElement(iA,{year:t,month:s+1,key:`${t}-${a}`,abbrLabel:$r(a),days:Vr(t,a),selectedAcquisitionDate:n,availableScenes:r,onSelect:i})}))}else{const t=Wn(o),u=Wn(s);for(let o=t;o<=12;o++)c.push(e.createElement(iA,{key:`${a}-${o}`,year:a,month:o,abbrLabel:$r(o),days:Vr(a,o),selectedAcquisitionDate:n,availableScenes:r,onSelect:i}));for(let t=1;t<=u;t++)c.push(e.createElement(iA,{key:`${l}-${t}`,year:l,month:t,abbrLabel:$r(t),days:Vr(l,t),selectedAcquisitionDate:n,availableScenes:r,onSelect:i}))}return e.createElement("div",{className:"flex"},c)};const sA=()=>({innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth});var aA=()=>{const[t,n]=(0,e.useState)(sA()),r=()=>{n(sA())};return(0,e.useEffect)((()=>(window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)})),[]),t};const lA=({data:t,disabled:n,tooltip:r,skipUppercase:i,onChange:o})=>{const[s,a]=(0,e.useState)(!1),l=(0,e.useRef)(null),c=aA();gw(l,(()=>{a(!1)}));const u=()=>e.createElement("div",{className:Za()("max-h-[351px] overflow-y-auto","text-xs bg-custom-background border border-custom-light-blue-5 border-b-0","fancy-scrollbar")},t.map(((t,n)=>{const{value:r,label:s}=t;return e.createElement("div",{className:"p-1 border-custom-light-blue-5 border-b cursor-pointer",key:r,"data-testid":`dropdown-option-${r}`,onClick:()=>{o(r),a(!1)}},e.createElement("span",{className:Za()({uppercase:!i})},s||r))})));return(0,e.useEffect)((()=>{a(!1)}),[c]),t&&t.length?e.createElement("div",{ref:l,className:Za()("relative")},e.createElement("div",{className:"relative group"},e.createElement("div",{className:Za()(["bg-custom-light-blue-5","p-1 text-xs cursor-pointer flex items-center justify-between"]),onClick:()=>{a(!s)}},e.createElement("span",{className:"mr-1 whitespace-nowrap "},(()=>{let e=t.find((e=>e.selected));return e||(e=t[0]),e.label||e.value})()),e.createElement(aw,{icon:"chevron-down",scale:"s"})),r&&e.createElement("div",{className:Za()("absolute bottom-[115%] hidden group-hover:block p-1","text-xs bg-custom-background opacity-90 border border-custom-light-blue-50","pointer-events-none")},r)),s&&e.createElement("div",{className:Za()("hidden bottom-panel-content-min-width:block absolute bottom-[101%] left-0 right-0 z-50")},u()),(()=>{if(!l.current)return null;if(!s)return null;const t=c.innerHeight,{x:n,y:r,width:i}=l.current.getBoundingClientRect();return e.createElement("div",{className:Za()("block bottom-panel-content-min-width:hidden fixed z-50"),"data-testid":"dropdown-menu-at-fixed-position",style:{bottom:t-r,left:n,width:i}},u())})()):null},cA=e=>e.ImageryService.timeExtent,uA=e=>e.ImageryService.rasterFunctionInfo,dA=Ge((e=>e.ImageryService.rasterFunctionInfo),(e=>{const t=new Map;if(!e)return t;for(const{name:n,label:r}of e)t.set(n,r);return t})),hA=(t,n)=>{const{t:r}=$(),i=(()=>{const[t,n]=(0,e.useState)([]),r=ws(cA);return(0,e.useEffect)((()=>{if(!r){const e=Jn();return void n([e])}const{start:e,end:t}=r,i=[],o=new Date(e).getUTCFullYear(),s=Jn();let a=o;for(;a<=s;)i.push(a),a++;n(i)}),[r]),t})();return(0,e.useMemo)((()=>{if(!i||!i.length)return[];const e=i.map((e=>({value:e.toString(),selected:e===t})));return n&&e.push({value:"",label:r("past_12_months").toUpperCase(),selected:null===t}),e.reverse()}),[i,t,n])},pA=({acquisitionDate:t,closeBtnOnClick:n})=>{const r=(0,e.useMemo)((()=>t?Bn(t):""),[t]);return t?e.createElement("div",{className:"text-xs mx-2 flex items-center","data-testid":"acquisition-date-label","data-aququisition-date":t},e.createElement("div",{className:"mr-1"},e.createElement("span",{className:""},r)),e.createElement("div",{className:"cursor-pointer","data-testid":"reset-selected-date-btn",onClick:n},e.createElement(aw,{icon:"x-circle",scale:"s"}))):null};var fA=({children:t})=>{const{t:n}=$(),r=bs(),i=ws(Ba),o=i?.acquisitionDate,s=i?.acquisitionDateRange,a=(()=>{const t=ws(Ba),n=t?.acquisitionDateRange;return(0,e.useMemo)((()=>{if(!n)return null;const{startDate:e,endDate:t}=n,r=Hn(e);return r!==Hn(t)?null:r}),[n])})();(()=>{const t=bs(),{acquisitionDate:n,objectIdOfSelectedScene:r}=ws(Ba)||{},i=ws(dl),o=ws(Ha),s=ws(tl);(0,e.useEffect)((()=>{if(i)return;if(!n)return void t(il(null));if(r&&!1===s)return;const e=o.find((e=>e.formattedAcquisitionDate===n));t(il(e?.objectId||null)),t(ai(!1))}),[o,n,r])})();const l=(()=>{const{objectIdOfSelectedScene:t}=ws(Ba)||{},n=ws(Ha);return(0,e.useMemo)((()=>{if(!t||!n.length)return"";const e=n.find((e=>e.objectId===t));return e?.formattedAcquisitionDate}),[t,n])})(),c=(()=>{const t=ws(dl),n=ws(Qa),r=ws(Ha);return(0,e.useMemo)((()=>t?[]:r?.length?r.map((e=>{const{formattedAcquisitionDate:t,acquisitionDate:r,cloudCover:i,satellite:o,doesNotMeetCriteria:s,customTooltipText:a}=e;return{formattedAcquisitionDate:t,acquisitionDate:r,doesNotMeetCriteria:s||i>n,satellite:o,customTooltipText:a}})):[]),[t,r,n])})(),u=hA(a,!0),d=(()=>{const t=ws(Ya),n=ws(el),r=ws(Ba),i=ws(dl),o=ws(AM),s=ws(EM);return(0,e.useMemo)((()=>!(r&&!i)||("analysis"===t&&"change"===n?o:"analysis"===t&&"temporal composite"===n&&s)),[r,i,t,n,o,s])})();return e.createElement("div",{className:Za()("select-none",{"is-disabled":d}),"data-testid":"calendar-container"},e.createElement("div",{className:"text-center mb-2"},e.createElement("span",{className:"uppercase text-sm"},n("scene_selection"))),e.createElement("div",{className:"flex mb-2 items-center justify-between"},e.createElement("div",{className:"flex items-center flex-grow"},e.createElement("div",{className:"relative w-[130px]","data-testid":"year-selection-dropdown"},e.createElement(lA,{data:u,onChange:e=>{const t=e?Gr(+e):qr();r((e=>async(t,n)=>{try{const r=Ba(n());if(!r)return;const i={...r,acquisitionDateRange:e};t(nl(i))}catch(e){}})(t))}})),e.createElement(pA,{acquisitionDate:o,closeBtnOnClick:()=>{r(ol(""))}})),t),e.createElement(oA,{dateRange:s||qr(),selectedAcquisitionDate:l,availableScenes:c,onSelect:e=>{r(il(null)),r(ol(e))}}))};const mA=()=>{const{t:t}=$();return e.useMemo((()=>[{appName:"landsatexplorer",title:t("landsat_explorer"),url:"/landsatexplorer",tooltip:t("launch_landsat_explorer")},{appName:"sentinel2explorer",title:t("sentinel_2_explorer"),url:"/sentinel2explorer",tooltip:t("launch_sentinel_2_explorer")},{appName:"sentinel1explorer",title:t("sentinel_1_explorer"),url:"/sentinel1explorer",tooltip:t("launch_sentinel_1_explorer")},{appName:"landcoverexplorer",title:t("landcover_explorer"),url:"/landcoverexplorer",tooltip:t("launch_landcover_explorer")},{appName:"nlcdlandcoverexplorer",title:t("nlcd_landcover_explorer"),url:"/nlcdlandcoverexplorer",tooltip:t("launch_nlcd_landcover_explorer")}]),[])},yA=({header:t,apps:n,onClick:r})=>n&&0!==n.length?e.createElement("div",{className:"mb-1"},e.createElement("div",{className:"px-2 py-2 text-xs text-custom-light-blue-50"},e.createElement("span",null,t)),n.map((t=>e.createElement("span",{key:t.title,title:t.tooltip,onClick:r.bind(null,t.url)},e.createElement("div",{className:"w-full px-2 py-1 text-xs cursor-pointer flex items-center"},e.createElement(aw,{icon:"launch",scale:"s",style:{opacity:".5"}}),e.createElement("span",{className:"ml-2 text-lg"},t.title)))))):null,gA={en:"English",es:"Espaol (Spanish)",zh:" (Chinese)"},vA={en:{choose_language:"Choose Language",switch_language:"Switch Language",cancel:"Cancel",locale_switcher_suggestion_message:"The app is available in English. Would you like to switch?",do_not_show_again:"Don't show this message again"},es:{choose_language:"Elegir idioma",switch_language:"Cambiar idioma",cancel:"Cancelar",locale_switcher_suggestion_message:"La aplicacin est disponible en espaol. Desea cambiar?",do_not_show_again:"No volver a mostrar este mensaje"},zh:{choose_language:"",switch_language:"",cancel:"",locale_switcher_suggestion_message:"",do_not_show_again:""}},bA=({data:t,shouldSuggestLocale:n})=>{const{t:r}=$(),i=bs(),[o,s]=e.useState(Zn||jn),a=(0,e.useMemo)((()=>n&&Zn&&Zn!==jn),[]),l=(0,e.useMemo)((()=>vA[Zn]||vA.en),[jn]);return t&&0!==t.length?e.createElement("div",{className:"absolute top-full left-0 md:left-app-header-size right-0 bg-custom-background px-4 py-4 text-custom-light-blue border-t border-custom-light-blue-50"},a?e.createElement("div",{className:"mb-4"},e.createElement("p",{className:"text-sm"},l.locale_switcher_suggestion_message)):null,e.createElement(lw,{scale:"s"},e.createElement("span",{className:"text-custom-light-blue text-sm"},l.choose_language,":"),e.createElement(dw,{onCalciteSelectChange:e=>{const t=e.target.selectedOption;s(t.value)},scale:"s",value:o,style:{"--calcite-select-text-color":"var(--custom-light-blue)","--calcite-select-border-color":"var(--custom-light-blue)"}},t.map((t=>e.createElement(uw,{key:t.code,value:t.code,selected:o===t.code},t.label))))),e.createElement("div",{className:"w-full grid grid-cols-2 gap-2",style:{"--calcite-button-border-color":"var(--custom-light-blue)","--calcite-button-text-color":"var(--custom-light-blue)"}},e.createElement(iw,{appearance:"outline",scale:"s",disabled:o===jn,onClick:()=>{(e=>{const t=new URLSearchParams(window.location.search),n=On(e,kn.supportedLocales);n&&"en"!==n?(t.set(Dn,n),localStorage.setItem(Nn,n)):(t.delete(Dn),localStorage.removeItem(Nn));const r=window.location.pathname+"?"+t.toString()+window.location.hash;window.history.replaceState(null,"",r),window.location.reload()})(o)}},l.switch_language),e.createElement(iw,{appearance:"outline",scale:"s",onClick:()=>{i(Pi(null))}},l.cancel)),a&&e.createElement("div",{className:"mt-4 flex items-center"},e.createElement(ow,{scale:"s",label:l.do_not_show_again,onCalciteCheckboxChange:e=>{const t=e.target.checked;i(ul(t))}}),e.createElement("span",{className:"text-custom-light-blue text-sm ml-2"},l.do_not_show_again))):null};var wA=({title:t,showDocButton:n,docButtonTooltip:r})=>{const{t:i}=$(),o=bs(),s=ws(dl),a=(0,e.useRef)(null),l=ws(Ml),c=ws(Al),u=e=>{const t=e+`#mapCenter=${xs(l,c)}`;window.open(t,"_blank")},d=mA(),h=(()=>{const{t:t}=$();return e.useMemo((()=>[{appName:"spectralsampler",title:t("spectral_sampler"),url:"/spectralsampler",tooltip:t("launch_spectral_sampler")}]),[])})(),p=(()=>{const t=e.useMemo((()=>(kn?.supportedLocales||["en"]).map((e=>({code:e,label:gA[e]||e})))),[]);return t})(),f=ws(Sl),m="app-list"===f,y=(0,e.useMemo)((()=>"locale-switcher"===f&&p.length&&p.length>1),[f,p?.length]),g=p.length>1,v=(t=>{const n=bs(),r=ws(xl),i=(0,e.useMemo)((()=>t>1&&!1===r&&Zn&&Zn!==jn),[r,t]);return(0,e.useEffect)((()=>{i&&n(Pi("locale-switcher"))}),[i]),i})(p.length);gw(a,(()=>{o(Pi(null))}));return e.createElement("div",{className:Za()("absolute z-20 text-custom-light-blue flex top-0 left-0 right-0 md:top-map-ui-top-position md:left-map-ui-top-position md:right-auto",{hidden:s}),ref:a},e.createElement("div",{className:"theme-background p-1 h-app-header-size w-app-header-size flex items-center justify-center border-r border-custom-light-blue-50",onClick:()=>{o(gi())},title:i("about_this_app")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24",width:"24",className:"cursor-pointer"},e.createElement("path",{fill:"currentColor",d:"M12.5 7.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM13 18V9h-2v1h1v8h-1v1h3v-1zm9.8-5.5A10.3 10.3 0 1 1 12.5 2.2a10.297 10.297 0 0 1 10.3 10.3zm-1 0a9.3 9.3 0 1 0-9.3 9.3 9.31 9.31 0 0 0 9.3-9.3z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}))),e.createElement("div",{className:Za()("relative theme-background p-1 px-2 text-lg font-light items-center h-app-header-size flex-grow md:flex-grow-0")},e.createElement("div",{className:"flex h-full items-center"},e.createElement("div",{className:"flex-grow"},e.createElement("span",{className:"text-sm md:text-lg"},t)),e.createElement("div",{className:"cursor-pointer ml-2 flex items-center",onClick:()=>{o(Pi(m?null:"app-list"))}},m?e.createElement(aw,{icon:"chevron-up"}):e.createElement(aw,{icon:"chevron-down"})))),n&&e.createElement("div",{className:"h-app-header-size w-app-header-size  theme-background cursor-pointer border-l border-custom-light-blue-50 pl-2 flex items-center",onClick:()=>{o(Ci())},title:r||""},e.createElement(aw,{icon:"open-book"})),g&&e.createElement("div",{className:"h-app-header-size w-app-header-size theme-background border-l border-custom-light-blue-50 pl-2 flex items-center",style:{"--calcite-button-text-color":"var(--custom-light-blue)"},title:i("switch_language")},e.createElement(iw,{appearance:"transparent",scale:"s",iconStart:"language-2",label:i("switch_language"),onClick:()=>{o(Pi("locale-switcher"===f?null:"locale-switcher"))}})),m&&e.createElement("div",{className:Za()("absolute left-0 md:left-app-header-size top-app-header-size theme-background w-full md:w-[300px] border-t border-custom-light-blue-50")},e.createElement(yA,{header:i("image_explorer_apps"),apps:d.filter((e=>e.appName!==En)),onClick:u}),e.createElement(yA,{header:i("image_utility_apps"),apps:h.filter((e=>e.appName!==En)),onClick:u})),y&&e.createElement(bA,{data:p,shouldSuggestLocale:v}))};const _A=({appearance:t="transparent",fullHeight:n=!1,onClickHandler:r,children:i,scale:o="m",disabled:s,decorativeIndicator:a})=>e.createElement("div",{className:Za()("relative p-2 px-0 border min-w-[8rem] shrink-0 text-sm border-custom-light-blue border-opacity-50 uppercase cursor-pointer text-center select-none",{"bg-custom-light-blue":"solid"===t,"text-custom-background":"solid"===t,"drop-shadow-custom-light-blue-50":"solid"===t,"bg-custom-background":"transparent"===t,"text-custom-light-blue":"transparent"===t,"h-full":n,"flex items-center":n,"md:text-base":"m"===o,"min-w-[6rem]":"s"===o,"horizontal-indicator-on-right":"right"===a,"horizontal-indicator-on-left":"left"===a,"opacity-50 pointer-events-none":s}),"data-element":"button",onClick:r},e.createElement("div",{className:"w-full"},i)),SA=({children:t})=>e.createElement("div",{className:"w-36 shrink-0 ml-space-between-main-secondary-selectors pl-space-between-main-secondary-selectors border-l border-custom-light-blue-50"},t),xA=["swipe","animate","analysis"],MA=["dynamic","find a scene"],AA="relative mb-1 h-12",TA=({selectedMode:t,disabled:n,selectedModeOnChange:r})=>{const{t:i}=$(),o="find a scene"===t||"dynamic"===t;return e.createElement(e.Fragment,null,e.createElement("div",{className:Za()("relative",{"is-disabled":n})},e.createElement("div",{className:Za()(AA)},e.createElement(_A,{fullHeight:!0,appearance:o?"solid":"transparent",onClickHandler:()=>{o||r("find a scene")},decorativeIndicator:o?"right":null},e.createElement("span",{className:"uppercase"},i("explore")))),xA.map((n=>e.createElement("div",{key:n,className:Za()(AA),"data-testid":`mode-selector-${n}`},e.createElement(_A,{fullHeight:!0,appearance:n===t?"solid":"transparent",decorativeIndicator:n===t?"right":null,onClickHandler:()=>{r(n)}},e.createElement("span",{className:"uppercase"},(e=>i("analysis"===e?"analysis":"find a scene"===e?"find_a_scene":e))(n))))))),o&&e.createElement(SA,null,MA.map((n=>e.createElement("div",{key:n,className:Za()("relative mb-1"),"data-testid":`mode-selector-${n}`},e.createElement(_A,{appearance:n===t?"solid":"transparent",scale:"s",decorativeIndicator:n===t?"left":null,onClickHandler:()=>{r(n)}},e.createElement("span",{className:"uppercase"},i(n))))))))},IA=()=>{const t=bs(),n=ws(Ya),r=ws(dl);return e.createElement(TA,{selectedMode:n,disabled:r,selectedModeOnChange:e=>{t(Qr(e))}})},CA="esri-slider",EA={base:CA,reversed:`${CA}--reversed`,horizontalLayout:`${CA}--horizontal`,verticalLayout:`${CA}--vertical`,contentElement:`${CA}__content`,extraContentElement:`${CA}__extra-content`,trackElement:`${CA}__track`,ticksContainerElement:`${CA}__ticks`,tickElement:`${CA}__tick`,tickLabelElement:`${CA}__tick-label`,maxElement:`${CA}__max`,minElement:`${CA}__min`,maxElementInteractive:`${CA}__max--interactive`,minElementInteractive:`${CA}__min--interactive`,rangeElementActive:`${CA}__range--active`,rangeInput:`${CA}__range-input`,anchorElement:`${CA}__anchor`,movingAnchorElement:`${CA}__anchor--moving`,lastMovedAnchorElement:`${CA}__anchor--moved`,anchorElementActive:`${CA}__anchor--active`,anchorElementIndexPrefix:`${CA}__anchor-`,segmentElement:`${CA}__segment`,segmentElementIndexPrefix:`${CA}__segment-`,segmentElementInteractive:`${CA}__segment--interactive`,segmentElementActive:`${CA}__segment--active`,effectiveSegmentElement:`${CA}__effective-segment`,effectiveMaxSegmentElement:`${CA}__effective-max-segment`,effectiveMinSegmentElement:`${CA}__effective-min-segment`,thumbElement:`${CA}__thumb`,labelElement:`${CA}__label`,labelElementInteractive:`${CA}__label--interactive`,labelInput:`${CA}__label-input`};let kA=class extends gc.A{constructor(e){super(e),this.precision=4,this.thumbsConstrained=!0}set effectiveMax(e){this.setEffectiveMax(e)}set effectiveMin(e){this.setEffectiveMin(e)}set labelFormatFunction(e){this._set("labelFormatFunction",e)}set inputFormatFunction(e){this._set("inputFormatFunction",e)}set inputParseFunction(e){this._set("inputParseFunction",e)}get labels(){const{max:e,min:t,values:n}=this,r=n?.length?n.map(((e,t)=>this.getLabelForValue(e,"value",t))):[];return{max:this.getLabelForValue(e,"max"),min:this.getLabelForValue(t,"min"),values:r}}set max(e){this.setMax(e)}set min(e){this.setMin(e)}get state(){const{max:e,min:t}=this;return null!=e&&null!=t&&e>t?"ready":"disabled"}set values(e){const{max:t,min:n}=this,r=this.values;r&&e&&r.length===e.length&&r.every(((t,n)=>t===e[n]))||(this._set("values",null),e?.length&&(null!=n&&e.some((e=>e<n))&&(this.min=Math.min(...e)),null!=t&&e.some((e=>e>t))&&(this.max=Math.max(...e))),this._set("values",e))}toPrecision(e){return parseFloat(e.toFixed(this.precision))}defaultLabelFormatFunction(e){const{max:t,min:n,precision:r}=this,i=null!=t&&null!=n&&t-n>10?2:r;return parseFloat(e.toFixed(i)).toString()}defaultInputFormatFunction(e){return e.toString()}defaultInputParseFunction(e){return parseFloat(e)}getBounds(){const{effectiveMax:e,effectiveMin:t,max:n,min:r}=this;return{min:null!=t&&null!=r?Math.max(r,t):r,max:null!=e&&null!=n?Math.min(n,e):n}}getBoundsForValueAtIndex(e){const{thumbsConstrained:t,values:n}=this,{min:r,max:i}=this.getBounds();if(t&&n){const t=e-1,o=e+1;return{min:null!=n[t]?n[t]:r,max:null!=n[o]?n[o]:i}}return{min:r,max:i}}getLabelForValue(e,t,n){return null==e?null:this.labelFormatFunction?this.labelFormatFunction(e,t,n):this.defaultLabelFormatFunction(e)}setMax(e){const{max:t,values:n}=this;if(null==e)return void this._set("max",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'max' is NaN.");const r=this.toPrecision(e);if(t!==r&&(this._set("max",r),n?.length))for(let e=0;e<n.length;e++)r<n[e]&&this.setValue(e,r)}setMin(e){const{min:t,values:n}=this;if(null==e)return void this._set("min",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'min' is NaN.");const r=this.toPrecision(e);if(t!==r&&(this._set("min",r),n?.length))for(let e=0;e<n.length;e++)r>n[e]&&this.setValue(e,r)}setEffectiveMax(e){if(null==e)return void this._set("effectiveMax",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'effectiveMax' is NaN.");const t=this.toPrecision(e);this.effectiveMax!==t&&this._set("effectiveMax",this._applyBoundsToValue(t))}setEffectiveMin(e){if(null==e)return void this._set("effectiveMin",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'effectiveMin' is NaN.");const t=this.toPrecision(e);this.effectiveMin!==t&&this._set("effectiveMin",this._applyBoundsToValue(t))}setValue(e,t){if(isNaN(t))return void this._logError("slider:invalid-value","Supplied value for member of property 'values' is NaN.");const{values:n}=this;if(null==n)return void this._logError("slider:invalid-value","Supplied value for member of property 'values' is null.");const r=n[e],i=this.toPrecision(t);if(r===i)return;const o=[...n];o[e]=i,this._set("values",o)}_applyBoundsToValue(e){const{max:t,min:n}=this;return null!=n&&e<n?n:null!=t&&e>t?t:e}_logError(e,t,n){Wl.A.getLogger(this).error(new Ql.A(e,t,n))}};(0,Gl._)([(0,ql.MZ)()],kA.prototype,"effectiveMax",null),(0,Gl._)([(0,ql.MZ)()],kA.prototype,"effectiveMin",null),(0,Gl._)([(0,ql.MZ)()],kA.prototype,"labelFormatFunction",null),(0,Gl._)([(0,ql.MZ)()],kA.prototype,"inputFormatFunction",null),(0,Gl._)([(0,ql.MZ)()],kA.prototype,"inputParseFunction",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],kA.prototype,"labels",null),(0,Gl._)([(0,ql.MZ)()],kA.prototype,"max",null),(0,Gl._)([(0,ql.MZ)()],kA.prototype,"min",null),(0,Gl._)([(0,ql.MZ)()],kA.prototype,"precision",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],kA.prototype,"state",null),(0,Gl._)([(0,ql.MZ)()],kA.prototype,"thumbsConstrained",void 0),(0,Gl._)([(0,ql.MZ)()],kA.prototype,"values",null),kA=(0,Gl._)([(0,Jl.$)("esri.widgets.Slider.SliderViewModel")],kA);const PA=kA,RA={showInput:"Enter",hideInput1:"Enter",hideInput2:"Escape",hideInput3:"Tab",moveAnchorUp:"ArrowUp",moveAnchorDown:"ArrowDown",moveAnchorLeft:"ArrowLeft",moveAnchorRight:"ArrowRight",moveAnchorToMax:"End",moveAnchorToMin:"Home"},OA={labels:!1,rangeLabels:!1};let NA=class extends Ty.A{constructor(e,t){super(e,t),this._activeLabelInputIndex=null,this._anchorElements=[],this._dragged=!1,this._dragStartInfo=null,this._focusedAnchorIndex=null,this._isMinInputActive=!1,this._isMaxInputActive=!1,this._lastMovedHandleIndex=null,this._positionPrecision=5,this._segmentDragStartInfo=null,this._trackHeight=null,this._trackWidth=null,this._zIndices=[],this._zIndexOffset=3,this.disabled=!1,this.draggableSegmentsEnabled=!0,this.effectiveSegmentElements=new Yl.A,this.extraNodes=[],this.inputCreatedFunction=null,this.labelElements=new Yl.A,this.labelInputsEnabled=!1,this.maxLabelElement=null,this.messages=null,this.minLabelElement=null,this.rangeLabelInputsEnabled=!1,this.segmentElements=new Yl.A,this.snapOnClickEnabled=!0,this.steps=null,this.syncedSegmentsEnabled=!1,this.thumbCreatedFunction=null,this.thumbElements=new Yl.A,this.tickElements=new Yl.A,this.trackElement=null,this.viewModel=new PA,this.visibleElements={...OA},this._onAnchorPointerDown=this._onAnchorPointerDown.bind(this),this._onAnchorPointerMove=this._onAnchorPointerMove.bind(this),this._onAnchorPointerUp=this._onAnchorPointerUp.bind(this),this._onLabelPointerDown=this._onLabelPointerDown.bind(this),this._onLabelPointerUp=this._onLabelPointerUp.bind(this),this._onSegmentPointerDown=this._onSegmentPointerDown.bind(this),this._onSegmentPointerMove=this._onSegmentPointerMove.bind(this),this._onSegmentPointerUp=this._onSegmentPointerUp.bind(this),this._onTrackPointerDown=this._onTrackPointerDown.bind(this),this._onTrackPointerMove=this._onTrackPointerMove.bind(this),this._onTrackPointerUp=this._onTrackPointerUp.bind(this)}destroy(){document.removeEventListener("pointerup",this._onLabelPointerUp),document.removeEventListener("pointermove",this._onLabelPointerMove),document.removeEventListener("pointerup",this._onAnchorPointerUp),document.removeEventListener("pointermove",this._onAnchorPointerMove),this.labelElements.removeAll(),this.labelElements.destroy(),this.segmentElements.removeAll(),this.segmentElements.destroy(),this.effectiveSegmentElements.removeAll(),this.effectiveSegmentElements.destroy(),this.thumbElements.removeAll(),this.thumbElements.destroy(),this.tickElements.removeAll(),this.tickElements.destroy()}get _isDisabled(){return this.disabled||"disabled"===this.state}get effectiveMax(){return this.viewModel.effectiveMax}set effectiveMax(e){this.viewModel.effectiveMax=e}get effectiveMin(){return this.viewModel.effectiveMin}set effectiveMin(e){this.viewModel.effectiveMin=e}get inputFormatFunction(){return this.viewModel.inputFormatFunction}set inputFormatFunction(e){this.viewModel.inputFormatFunction=e}get inputParseFunction(){return this.viewModel.inputParseFunction}set inputParseFunction(e){this.viewModel.inputParseFunction=e}get icon(){return"caret-double-horizontal"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get labelFormatFunction(){return this.viewModel.labelFormatFunction}set labelFormatFunction(e){this.viewModel.labelFormatFunction=e}get labels(){return this.viewModel.labels}set layout(e){["vertical","vertical-reversed","horizontal","horizontal-reversed"].includes(e)||(e="horizontal"),this._set("layout",e)}get max(){return this.viewModel.max}set max(e){this.viewModel.max=e}get min(){return this.viewModel.min}set min(e){this.viewModel.min=e}get precision(){return this.viewModel.precision}set precision(e){this.viewModel.precision=e}get state(){const{_activeLabelInputIndex:e,_isMaxInputActive:t,_isMinInputActive:n,_dragStartInfo:r,_segmentDragStartInfo:i,disabled:o,viewModel:s}=this;return o?"disabled":null!==e||t||n?"editing":null!=r||null!=i?"dragging":s.state}get thumbsConstrained(){return this.viewModel.thumbsConstrained}set thumbsConstrained(e){this.viewModel.thumbsConstrained=e}set tickConfigs(e){this._set("tickConfigs",e),this.scheduleRender()}get values(){return this.viewModel.values}set values(e){this.viewModel.values=e}castVisibleElements(e){return{...OA,...e}}render(){const{label:e}=this,t=this.classes(EA.base,Ny.D.widget,this._isHorizontalLayout()?EA.horizontalLayout:EA.verticalLayout,this._isReversedLayout()?EA.reversed:null,this._isDisabled?Ny.D.disabled:null);return this._storeTrackDimensions(),(0,Fy.K)("div",{afterCreate:this._afterContainerCreate,"aria-label":e,bind:this,class:t,"touch-action":"none"},this._renderContent())}toNextStep(e){this._toStep(e,1)}toPreviousStep(e){this._toStep(e,-1)}getCurrentPosition(){return this._positionFromValue(this.values?.[0]??0)}_renderContent(){const{max:e,min:t}=this;if(!(null==t||null==e||t>=e))return[this._renderMin(),this._renderSliderContainer(),this._renderMax()]}_renderSliderContainer(){return(0,Fy.K)("div",{bind:this,class:EA.contentElement,key:"slider-container"},this._renderTrackElement(),this._renderTicksContainer(),this._renderExtraContentElements())}_renderTrackElement(){return(0,Fy.K)("div",{afterCreate:this._afterTrackCreate,afterRemoved:this._afterTrackRemoved,bind:this,class:EA.trackElement,"touch-action":"none"},this._renderEffectiveSegmentElements(),this._renderSegmentElements(),this._renderAnchorElements())}_renderEffectiveSegmentElements(){if(!this.trackElement||!this.values?.length)return;const e=null!=this.effectiveMax,t=null!=this.effectiveMin;if(!e&&!t)return;const{max:n,min:r,viewModel:i}=this,o=i.getBounds(),s=[];return t&&s.push(this._renderEffectiveSegmentElement(r,o.min,!0)),e&&s.push(this._renderEffectiveSegmentElement(o.max,n,!1)),s}_renderSegmentElements(){if(!this.trackElement||!this.values?.length)return;const e=this.values.length,t=[];for(let n=0;n<=e;n++)t.push(this._renderSegmentElement(n));return t}_renderSegmentElement(e){const{_trackHeight:t,_trackWidth:n,draggableSegmentsEnabled:r,id:i,state:o}=this,s=this.values,a=this._isHorizontalLayout(),l=a?n:t,c=this.viewModel.getBounds(),u=this._positionFromValue(c.max),d=this._positionFromValue(c.min),h=e===s?.length?null:e,p=0===e?null:e-1,f=null!=h,m=null!=p;let y,g;const v=[...s].sort(((e,t)=>e-t));this._isReversedLayout()?(y=m?this._positionFromValue(v[p]):d,g=f?this._positionFromValue(v[h]):u):(y=f?this._positionFromValue(v[h]):u,g=m?this._positionFromValue(v[p]):d);const b=this._applyPrecisionToPosition(100*g/l),w=(y-g)/l,_=a?`transform: translate(${b}%, 0px) scale(${w}, 1);`:`transform: translate(0px, ${b}%) scale(1, ${w});`,S=this.classes(EA.segmentElement,EA.segmentElementIndexPrefix+e,r&&f&&m&&"disabled"!==o?EA.segmentElementInteractive:null);return(0,Fy.K)("div",{afterCreate:this._afterSegmentCreate,afterRemoved:this._afterSegmentRemoved,bind:this,class:S,"data-max-thumb-index":h,"data-min-thumb-index":p,"data-segment-index":e,key:`${i}-segment-${e}`,style:_,"touch-action":"none"})}_renderEffectiveSegmentElement(e,t,n){const{_trackHeight:r,_trackWidth:i,layout:o}=this,s=this._positionFromValue(e),a=this._positionFromValue(t),l=this._isHorizontalLayout(),c=l?i:r,u=this._applyPrecisionToPosition(100*s/c);let d=null;if("horizontal"===o){const e=n?c-a:a,t=s===c?0:u;d=`clip-path: inset(0% ${a===c?0:this._applyPrecisionToPosition(e/c*100)}% 0% ${t}%);`}else{const e=(a-s)/c;d=l?`transform: translate(${u}%, 0px) scale(${e}, 1);`:`transform: translate(0px, ${u}%) scale(1, ${e});`}const h=n?EA.effectiveMinSegmentElement:EA.effectiveMaxSegmentElement,p=this.classes(EA.segmentElement,EA.effectiveSegmentElement,h);return(0,Fy.K)("div",{afterCreate:this._afterEffectiveSegmentCreate,afterRemoved:this._afterEffectiveSegmentRemoved,bind:this,class:p,style:d,"touch-action":"none"})}_renderAnchorElements(){const{trackElement:e,values:t}=this;if(t?.length)return this._zIndices=t.map(((e,n)=>{const r=this._positionFromValue(e),i=this._positionToPercent(r),o=(this._isHorizontalLayout()?i>50:i<50)?-1:1;return this._zIndexOffset+(t.length+o*n)})),e&&t&&t.length?t.map(((e,t)=>this._renderAnchorElement(e,t))):null}_renderAnchorElement(e,t){const n=this._positionFromValue(e),r=this._valueFromPosition(n);if(null==r||isNaN(r))return;const{_dragStartInfo:i,_lastMovedHandleIndex:o,id:s,layout:a,visibleElements:{labels:l}}=this,c=this.values,u=i&&i.index===t,d=o===t,h=this.classes(EA.anchorElement,EA.anchorElementIndexPrefix+t,u?EA.movingAnchorElement:null,d?EA.lastMovedAnchorElement:null),p=this.labels.values[t],f=this._getStyleForAnchor(e,t,u||d),{min:m,max:y}=this.viewModel.getBoundsForValueAtIndex(t),{disabled:g,messages:v}=this,b=2===c.length?(0,FS.V)(0===t?v.rangeMinimum:v.rangeMaximum,{value:e}):p,w=1===c.length?null:0===t?`${s}-handle-${t+1}`:t===c.length-1?`${s}-handle-${t-1}`:`${s}-handle-${t-1} ${s}-handle-${t+1}`;return(0,Fy.K)("div",{afterCreate:this._afterAnchorCreate,afterRemoved:this._afterAnchorRemoved,afterUpdate:this._afterAnchorUpdate,"aria-controls":w,"aria-label":v.sliderValue,"aria-labelledby":l?`${s}-label-${t}`:null,"aria-orientation":a,"aria-valuemax":y?.toString(),"aria-valuemin":m?.toString(),"aria-valuenow":e.toString(),"aria-valuetext":b,bind:this,class:h,"data-thumb-index":t,"data-value":e,id:`${s}-handle-${t}`,key:`${s}-handle-${t}`,onkeydown:this._onAnchorKeyDown,role:"slider",style:f,tabIndex:g?-1:0,"touch-action":"none"},(0,Fy.K)("span",{afterCreate:this._afterThumbCreate,afterRemoved:this._afterThumbRemoved,bind:this,class:EA.thumbElement,"data-thumb-index":t,"touch-action":"none"}),this.renderThumbLabel(t))}renderThumbLabel(e){const{id:t,labels:n,labelInputsEnabled:r,state:i}=this,o=this.visibleElements.labels,s=n.values[e],a=this.classes(EA.labelElement,o?null:Ny.D.hidden,r&&"disabled"!==i?EA.labelElementInteractive:null);return(0,Fy.K)("span",{afterCreate:this._afterLabelCreate,afterRemoved:this._afterLabelRemoved,"aria-hidden":(!o).toString(),bind:this,class:a,"data-thumb-index":e,id:`${t}-label-${e}`,key:`${t}-label-${e}`,role:r?"button":void 0,"touch-action":"none"},this._activeLabelInputIndex===e?this._renderValueInput(e):s)}_renderValueInput(e){const{disabled:t,values:n}=this;if(null==n)return;const r=n[e];return(0,Fy.K)("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.sliderValue,bind:this,class:EA.labelInput,"data-input-index":e,"data-input-type":"thumb",key:`value-input-${e}`,onblur:this._onLabelInputBlur,onkeydown:this._onInputKeyDown,required:!0,tabIndex:t?-1:0,type:"text",value:this._formatInputValue(r,"value",e)})}_renderMax(){const{_isMaxInputActive:e,labels:t,rangeLabelInputsEnabled:n,state:r}=this,i=this.visibleElements.rangeLabels,o=this.classes(EA.maxElement,{[Ny.D.hidden]:!i,[EA.maxElementInteractive]:n&&"disabled"!==r,[EA.rangeElementActive]:e});return(0,Fy.K)("div",{afterCreate:this._afterMaxLabelCreate,"aria-hidden":(!i).toString(),bind:this,class:o,onclick:this._onMaxLabelClick,onkeydown:this._onMaxLabelKeyDown,role:n?"button":void 0,tabIndex:!this.disabled&&n?0:-1},e?this._renderMaxInput():t.max)}_renderMin(){const{_isMinInputActive:e,labels:t,rangeLabelInputsEnabled:n,state:r}=this,i=this.visibleElements.rangeLabels,o=this.classes(EA.minElement,{[Ny.D.hidden]:!i,[EA.minElementInteractive]:n&&"disabled"!==r,[EA.rangeElementActive]:e});return(0,Fy.K)("div",{afterCreate:this._afterMinLabelCreate,"aria-hidden":(!i).toString(),bind:this,class:o,onclick:this._onMinLabelClick,onkeydown:this._onMinLabelKeyDown,role:n?"button":void 0,tabIndex:!this.disabled&&n?0:-1},e?this._renderMinInput():t.min)}_renderMaxInput(){return(0,Fy.K)("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.maximumValue,bind:this,class:EA.rangeInput,"data-input-type":"max",onblur:this._onMaxInputBlur,onkeydown:this._onInputKeyDown,required:!0,tabIndex:this.disabled?-1:0,type:"text",value:this._formatInputValue(this.max,"max")})}_renderMinInput(){return(0,Fy.K)("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.minimumValue,bind:this,class:EA.rangeInput,"data-input-type":"min",onblur:this._onMinInputBlur,onkeydown:this._onInputKeyDown,required:!0,tabIndex:this.disabled?-1:0,type:"text",value:this._formatInputValue(this.min,"min")})}_renderExtraContentElements(){return(0,Fy.K)("div",{bind:this,class:EA.extraContentElement},this.extraNodes)}_renderTicksContainer(){if(this.tickConfigs&&this.trackElement&&(0!==this._trackHeight||0!==this._trackWidth))return this.tickConfigs.map(((e,t)=>(0,Fy.K)("div",{class:this.classes(EA.ticksContainerElement),key:"ticks-container"},this._renderTicks(e,t))))}_renderTicks(e,t){const{mode:n,values:r}=e;if(this.tickElements.at(t)||this.tickElements.add(new Yl.A,t),"position"===n){const n=Array.isArray(r)?r:[r];return this._calculateTickPositions(n).map(((n,r)=>this._renderTickGroup(e,r,t,n)))}if("percent"===n&&Array.isArray(r)){const n=this.min??0,i=(this.max??0)-n,o=r.map((e=>this._applyPrecisionToPosition(e/100*i+n)));return this._calculateTickPositions(o).map(((n,r)=>this._renderTickGroup(e,r,t,n)))}const i=Array.isArray(r)&&r.length?r[0]:isNaN(r)?null:r,o=this._getTickCounts(i,e);return this._calculateEquidistantTickPositions(o).map(((n,r)=>this._renderTickGroup(e,r,t,n)))}_renderTickGroup(e,t,n,r){const i="position"===e.mode?Array.isArray(e.values)?e.values[t]:e.values:this._valueFromPosition(r);if(null!=i&&!isNaN(i))return(0,Fy.K)("div",{afterCreate:this._afterTickGroupCreate,afterRemoved:this._afterTickGroupRemoved,bind:this,"data-config":e,"data-position":r,"data-tick-config-index":n,"data-tick-group-index":t,"data-value":i,key:`tick-group-${t}`,onclick:this._onTickGroupClick},this._renderTickLine(e,t,n,i),e.labelsVisible?this._renderTickLabel(e,t,n,i):null)}_renderTickLine(e,t,n,r){return(0,Fy.K)("div",{afterCreate:this._afterTickLineCreate,"aria-valuenow":r.toString(),bind:this,class:EA.tickElement,"data-config":e,"data-tick-config-index":n,"data-tick-group-index":t,"data-value":r,key:`tick-label-${t}`,style:this._getPositionStyleForElement(r)})}_renderTickLabel(e,t,n,r){const i=e.labelFormatFunction?e.labelFormatFunction(r,"tick",t):this.viewModel.getLabelForValue(r,"tick",t);return(0,Fy.K)("div",{afterCreate:this._afterTickLabelCreate,"aria-label":i,"aria-valuenow":r.toString(),"aria-valuetext":i,bind:this,class:EA.tickLabelElement,"data-config":e,"data-tick-config-index":n,"data-tick-group-index":t,"data-value":r,key:`tick-label-${t}`,style:`transform: translate(-50%); ${this._getPositionStyleForElement(r)}`},i)}_afterContainerCreate(e){this.addHandles((0,my.EV)(e,(()=>this.scheduleRender())))}_afterTrackCreate(e){this._set("trackElement",e),e.addEventListener("pointerdown",this._onTrackPointerDown),this.scheduleRender()}_afterTrackRemoved(e){e.removeEventListener("pointerdown",this._onTrackPointerDown),document.removeEventListener("pointermove",this._onTrackPointerMove),document.removeEventListener("pointerup",this._onTrackPointerUp)}_afterSegmentCreate(e){this.segmentElements.add(e),e.addEventListener("pointerdown",this._onSegmentPointerDown)}_afterSegmentRemoved(e){this.segmentElements.remove(e),e.removeEventListener("pointerdown",this._onSegmentPointerDown)}_afterEffectiveSegmentCreate(e){this.effectiveSegmentElements.add(e)}_afterEffectiveSegmentRemoved(e){this.effectiveSegmentElements.remove(e)}_afterAnchorCreate(e){if(this._anchorElements.push(e),e.addEventListener("pointerdown",this._onAnchorPointerDown),this.thumbCreatedFunction){const t=LA(e),n=DA(e),r=this.thumbElements.at(t),i=this.labelElements.at(t)||null;this.thumbCreatedFunction(t,n,r,i)}}_afterAnchorUpdate(e){null!=this._focusedAnchorIndex&&LA(e)===this._focusedAnchorIndex&&(e.focus(),this._focusedAnchorIndex=null)}_afterAnchorRemoved(e){const t=this._anchorElements.indexOf(e,0);t>-1&&this._anchorElements.splice(t,1),e.removeEventListener("pointerdown",this._onAnchorPointerDown)}_afterThumbCreate(e){this.thumbElements.add(e)}_afterThumbRemoved(e){this.thumbElements.remove(e)}_afterLabelCreate(e){this.labelElements.add(e),e.addEventListener("pointerdown",this._onLabelPointerDown),e.addEventListener("pointerup",this._onLabelPointerUp)}_afterLabelRemoved(e){this.labelElements.remove(e),e.removeEventListener("pointerdown",this._onLabelPointerDown),e.removeEventListener("pointerup",this._onLabelPointerUp)}_afterInputCreate(e){if(e.focus(),e.select(),this.inputCreatedFunction){const t=e.getAttribute("data-input-type"),n="thumb"===t?function(e){return e?.["data-input-index"]}(e):null;this.inputCreatedFunction(e,t,n)}}_afterTickLineCreate(e){const t=FA(e),n=jA(e),r=this.tickElements.at(t),i=r.at(n);i?i.tickElement=e:r.add({groupElement:null,tickElement:e,labelElement:null},n)}_afterTickLabelCreate(e){const t=FA(e),n=jA(e),r=this.tickElements.at(t),i=r.at(n);i?i.labelElement=e:r.add({groupElement:null,labelElement:e,tickElement:null},n)}_afterTickGroupRemoved(e){const t=FA(e),n=this.tickElements.items[t],r=n?.find((t=>t.groupElement===e));r&&n.remove(r)}_afterTickGroupCreate(e){const t=ZA(e);if(t?.tickCreatedFunction){const n=FA(e),r=jA(e),i=DA(e),o=this.tickElements?.at(n)?.at(r);if(o){o.groupElement=e;const n=o.tickElement||null,r=o.labelElement||null;t.tickCreatedFunction(i,n,r)}}}_afterMaxLabelCreate(e){this._set("maxLabelElement",e)}_afterMinLabelCreate(e){this._set("minLabelElement",e)}_onAnchorKeyDown(e){if(this._isDisabled||"editing"===this.state)return;const{key:t,target:n}=e,r=this.values,i=LA(n),o=this._anchorElements[i],s=r[i],a=[RA.moveAnchorUp,RA.moveAnchorDown,RA.moveAnchorLeft,RA.moveAnchorRight];if(t===RA.showInput&&this.labelInputsEnabled)this._activeLabelInputIndex=i;else if(a.includes(t)){e.preventDefault();const{steps:n}=this,r=t===RA.moveAnchorUp||t===RA.moveAnchorRight?1:-1;if(null!=n)this._toStep(i,this._isReversedLayout()?-1*r:r);else{const{precision:e}=this,t=this._getPositionOfElement(o),n=this._valueFromPosition(t),s=this._isHorizontalLayout()?r:-1*r;let a;a=0===e?this._positionFromValue(n+s):1===e?this._positionFromValue(n+.1*s):t+s,this._toPosition(i,a)}const a=this.values[i];s!==a&&this._emitThumbChangeEvent({index:i,oldValue:s,value:a})}else if(t===RA.moveAnchorToMax||t===RA.moveAnchorToMin){e.preventDefault();const{min:n,max:r}=this._getAnchorBoundsInPixels(i),o=this._isPositionInverted()?t===RA.moveAnchorToMax?n:r:t===RA.moveAnchorToMin?n:r;this._toPosition(i,o);const a=this.values[i];s!==a&&this._emitThumbChangeEvent({index:i,oldValue:s,value:a})}}_onAnchorPointerDown(e){if(this._isDisabled)return;const{target:t,clientX:n,clientY:r}=e,i=LA(t);null!=i&&(e.preventDefault(),this._anchorElements[i]&&this._anchorElements[i].focus(),this._storeTrackDimensions(),this._dragStartInfo={clientX:n,clientY:r,index:i,position:this._getPositionOfElement(this._anchorElements[i])},document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove))}_onAnchorPointerMove(e){if("editing"===this.state||!this._dragStartInfo)return;e.preventDefault();const{values:t,_anchorElements:n,_dragged:r,_dragStartInfo:i,_dragStartInfo:{index:o,position:s}}=this,{clientX:a,clientY:l}=e,c=r?"drag":"start",u=n[o],d=this._getPositionOfElement(u),h=this._applyPrecisionToPosition(this._isHorizontalLayout()?s+a-i.clientX:s+l-i.clientY);if(d===h)return;const p=t[o];this._dragged=!0,this._toPosition(o,h);const f=this.values[o];r?p!==f&&this._emitThumbDragEvent({index:o,state:c,value:f}):this._emitThumbDragEvent({index:o,state:c,value:p})}_onAnchorPointerUp(e){if(document.removeEventListener("pointerup",this._onAnchorPointerUp),document.removeEventListener("pointermove",this._onAnchorPointerMove),!this._dragStartInfo)return;e.preventDefault();const{index:t}=this._dragStartInfo,n=this._dragged,r=this.values[t];this._dragged=!1,this._dragStartInfo=null,this._lastMovedHandleIndex=t,n?this._emitThumbDragEvent({index:t,state:"stop",value:r}):(this.scheduleRender(),"editing"!==this.state&&this._emitThumbClickEvent({index:t,value:r}))}_onTrackPointerDown(e){const{_dragStartInfo:t,snapOnClickEnabled:n,state:r,values:i}=this;if(this._isDisabled||"editing"===r||t)return;if(document.addEventListener("pointermove",this._onTrackPointerMove),document.addEventListener("pointerup",this._onTrackPointerUp),!n||!i?.length)return;const{steps:o}=this,{clientX:s,clientY:a}=e,l=this._getCursorPositionFromEvent(e),c=this._valueFromPosition(l),u=this._getIndexOfNearestValue(c),d=i[u],h=i.some(((e,t)=>e===d&&t!==u))&&c>d?i.lastIndexOf(d):u;if(null==h)return;const p=i[h],f=null!=o?this._calculateNearestStepPosition(l):l;this._toPosition(h,f),this._dragged=!0,this._dragStartInfo={clientX:s,clientY:a,index:h,position:f},this._focusedAnchorIndex=h,this._emitThumbDragEvent({index:h,state:"start",value:p});const m=this.values[h];p!==m&&this._emitThumbDragEvent({index:h,state:"drag",value:m}),document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove)}_onTrackPointerMove(e){e.preventDefault(),this._dragged=!0}_onTrackPointerUp(e){if(e.preventDefault(),document.removeEventListener("pointermove",this._onTrackPointerMove),document.removeEventListener("pointerup",this._onTrackPointerUp),this.snapOnClickEnabled||(this._dragged=!1),!this._dragged){const t=this._getCursorPositionFromEvent(e),n=this._valueFromPosition(t);this._emitTrackClickEvent({value:n})}}_onSegmentPointerDown(e){e.preventDefault();const t=e.target,n=function(e){return e?.["data-segment-index"]}(t),r=function(e){return e?.["data-min-thumb-index"]}(t),i=function(e){return e?.["data-max-thumb-index"]}(t);if(this._isDisabled||null==r||null==i)return;e.stopPropagation(),this._storeTrackDimensions(),document.addEventListener("pointerup",this._onSegmentPointerUp);const o=this._getAnchorDetails(r),s=this._getAnchorDetails(i);this.syncedSegmentsEnabled?(this.segmentElements.forEach((e=>e.classList.add(EA.segmentElementActive))),this._anchorElements.forEach((e=>e.classList.add(EA.anchorElementActive)))):(this.segmentElements.at(n).classList.add(EA.segmentElementActive),this._anchorElements[o.index]?.classList.add(EA.anchorElementActive),this._anchorElements[s.index]?.classList.add(EA.anchorElementActive)),this._segmentDragStartInfo={cursorPosition:this._getCursorPositionFromEvent(e),index:n,details:this._normalizeSegmentDetails({min:o,max:s})},this.draggableSegmentsEnabled&&(document.addEventListener("pointermove",this._onSegmentPointerMove),this._emitSegmentDragEvent({index:n,state:"start",thumbIndices:[r,i]}))}_onSegmentPointerMove(e){if(!this._segmentDragStartInfo)return;e.preventDefault();const{_trackHeight:t,_trackWidth:n,_segmentDragStartInfo:{index:r,cursorPosition:i,details:{min:o,max:s}}}=this,{index:a,position:l,value:c}=o,{index:u,position:d,value:h}=s;this._dragged=!0;const p=this._getCursorPositionFromEvent(e);if(p===i)return;const f=this._positionToPercent(i),m=this._positionToPercent(p)-f,y=this._positionToPercent(l)+m,g=this._positionToPercent(d)+m,{min:v}=this._getAnchorBoundsAsPercents(a),{max:b}=this._getAnchorBoundsAsPercents(u);let w=!1,_=!1;if(y<v?w=!0:g>b&&(_=!0),w){const{min:e,max:t}=this.viewModel.getBoundsForValueAtIndex(a),n=this._isPositionInverted()?t:e,r=n,i=h+(n-c),o=i-this.values[u];return void(this.syncedSegmentsEnabled?this._updateAnchorValuesByDifference(o):this._updateAnchorValues([a,u],[r,i]))}if(_){const{min:e,max:t}=this.viewModel.getBoundsForValueAtIndex(u),n=this._isPositionInverted()?e:t,r=n,i=c+(n-h),o=i-this.values[a];return void(this.syncedSegmentsEnabled?this._updateAnchorValuesByDifference(o):this._updateAnchorValues([a,u],[i,r]))}const S=this._isHorizontalLayout()?n:t,x=g/100*S,M=y/100*S,A=this.values,T=[A[a],A[u]],I=this._getValueForAnchorAtPosition(a,M),C=this._getValueForAnchorAtPosition(u,x);this.syncedSegmentsEnabled?this._updateAnchorValuesByDifference(I-T[0]):this._updateAnchorValues([a,u],[I,C]),[this.values[a],this.values[u]].every(((e,t)=>e===T[t]))||this._emitSegmentDragEvent({index:r,state:"drag",thumbIndices:[a,u]})}_onSegmentPointerUp(e){if(e.preventDefault(),document.removeEventListener("pointerup",this._onSegmentPointerUp),document.removeEventListener("pointermove",this._onSegmentPointerMove),!this._segmentDragStartInfo)return;const{_dragged:t}=this,n=this.min,r=this.max,i=this.values,{index:o,details:{min:{index:s},max:{index:a}}}=this._segmentDragStartInfo;if(this.segmentElements.forEach((e=>e.classList.remove(EA.segmentElementActive))),this._anchorElements.forEach((e=>e.classList.remove(EA.anchorElementActive))),this.draggableSegmentsEnabled){const e=r-n,t=i[s],l=i[a];this._lastMovedHandleIndex=t===l?t>e/2?s:a:null,this._dragged=!1,this._segmentDragStartInfo=null,this._emitSegmentDragEvent({index:o,state:"stop",thumbIndices:[s,a]})}if(!t){const t=this._getCursorPositionFromEvent(e),n=this._valueFromPosition(t);this._emitSegmentClickEvent({index:o,value:n,thumbIndices:[s,a]})}}_onTickGroupClick(e){const t=e.target;if(ZA(t)){const e=FA(t),n=jA(t),r=DA(t);this._emitTickClickEvent({configIndex:e,groupIndex:n,value:r})}}_storeTrackDimensions(){if(this.trackElement){const e=this._getDimensions(this.trackElement);this._trackHeight=this._applyPrecisionToPosition(e.height),this._trackWidth=this._applyPrecisionToPosition(e.width)}}_onLabelPointerDown(){this._isDisabled||(this._dragged=!1,document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove))}_onLabelPointerMove(){this._isDisabled||(this._dragged=!0)}_onLabelPointerUp(e){if(this._isDisabled)return;const t=LA(e.target);this.labelInputsEnabled&&!this._dragged&&null!=t&&(this._activeLabelInputIndex=t),this._dragged=!1,document.removeEventListener("pointerup",this._onLabelPointerUp),document.removeEventListener("pointermove",this._onLabelPointerMove)}_onLabelInputBlur(e){const{_activeLabelInputIndex:t,values:n,viewModel:r}=this,i=e.target.value;if(this._activeLabelInputIndex=null,!i||null==t||null==n)return;const o=this._parseInputValue(i,"value",t),s=n[t],{min:a,max:l}=this.viewModel.getBoundsForValueAtIndex(t);if(o<a||o>l)return;r.setValue(t,o);const c=this.values[t];s!==c&&this._emitThumbChangeEvent({index:t,oldValue:s,value:c})}_onInputKeyDown(e){if(this._isDisabled)return;const{key:t,target:n}=e,{hideInput1:r,hideInput2:i,hideInput3:o}=RA,{_activeLabelInputIndex:s,_anchorElements:a}=this,l=n;if(t===r||t===i||t===o){e.stopPropagation();const t=s;l.blur(),null!=t?a[t].focus():l.parentElement?.focus()}}_onMaxLabelClick(){this._isDisabled||(this._emitMaxRangeLabelClickEvent({type:"max-click",value:this.max}),this.rangeLabelInputsEnabled&&(this._isMaxInputActive=!0))}_onMaxLabelKeyDown({key:e}){this._isDisabled||e!==RA.showInput||(this._isMaxInputActive=!0)}_onMaxInputBlur(e){const t=e.target.value;if(this._isMaxInputActive=!1,!t)return;const n=this.max,r=this._parseInputValue(t,"max");r<=this.min||(this.viewModel.set("max",r),this.max!==n&&this._emitMaxChangeEvent({oldValue:n,value:this.max}))}_onMinLabelClick(){this._isDisabled||(this._emitMinRangeLabelClickEvent({type:"min-click",value:this.min}),this.rangeLabelInputsEnabled&&(this._isMinInputActive=!0))}_onMinLabelKeyDown({key:e}){this._isDisabled||e!==RA.showInput||(this._isMinInputActive=!0)}_onMinInputBlur(e){const t=e.target.value;if(this._isMinInputActive=!1,!t)return;const n=this.min,r=this._parseInputValue(t,"min");r>=this.max||(this.viewModel.set("min",r),this.min!==n&&this._emitMinChangeEvent({oldValue:n,value:this.min}))}_positionFromValue(e){const{_trackHeight:t,_trackWidth:n}=this,r=this.min??0,i=this.max??0,o=i-r;if(0===o||null==e)return 0;const s=this._isHorizontalLayout();let a=s?this._applyPrecisionToPosition(n*(e-r)/o):this._applyPrecisionToPosition(t*(i-e)/o);return this._isReversedLayout()&&(a=s?n-a:t-a),a}_valueFromPosition(e){const{_trackHeight:t,_trackWidth:n,precision:r}=this,i=this.min??0,o=this.max??0,s=o-i;let a=this._isHorizontalLayout()?e*s/n+i:s*(1e3-e/t*1e3)/1e3+i;return this._isReversedLayout()&&(a=o+i-a),parseFloat(a.toFixed(r))}_positionToPercent(e){const{_trackHeight:t,_trackWidth:n}=this,r=100*e/(this._isHorizontalLayout()?n:t);return this._applyPrecisionToPosition(r)}_applyPrecisionToPosition(e){return parseFloat(e.toFixed(this._positionPrecision))}_isPositionInverted(){const{layout:e}=this;return"horizontal-reversed"===e||"vertical"===e}_isHorizontalLayout(){return this.layout.includes("horizontal")}_isReversedLayout(){return this.layout.includes("reversed")}_normalizeSegmentDetails(e){if(this._isPositionInverted()){const{min:t,max:n}=e;return{min:n,max:t}}return e}_parseInputValue(e,t,n){return this.inputParseFunction?this.inputParseFunction(e,t,n):this.viewModel.defaultInputParseFunction(e)}_formatInputValue(e,t,n){return this.inputFormatFunction?this.inputFormatFunction(e,t,n):this.viewModel.defaultInputFormatFunction(e)}_getAnchorDetails(e){const t=this.values,n=[...t].sort(((e,t)=>e-t))[e],r=t.indexOf(n);return{index:r,position:this._getPositionOfElement(this._anchorElements[r]),value:n}}_updateAnchorStyle(e,t){const n=this._anchorElements[e];n&&(this._isHorizontalLayout()?n.style.left=`${t}`:n.style.top=`${t}`)}_getStyleForAnchor(e,t,n){const r=this._getPositionStyleForElement(e);if(1===this.values?.length)return`${r}`;const i=this._zIndices[t];return`${r}; z-index: ${n?this._zIndexOffset+i:i}`}_getPositionStyleForElement(e){const t=this._positionFromValue(e),n=this._positionToPercent(t);return`${this._isHorizontalLayout()?"left":"top"}: ${n}%`}_getPositionOfElement(e){const t=this._getDimensions(e.offsetParent),n=this._getDimensions(e);return this._isHorizontalLayout()?this._applyPrecisionToPosition(n.left-t.left):this._applyPrecisionToPosition(n.top-t.top)}_updateAnchorValues(e,t){e.forEach(((e,n)=>this._toValue(e,t[n])))}_updateAnchorValuesByDifference(e){const{min:t,max:n,values:r}=this;r?.forEach(((r,i)=>this._toValue(i,Math.max(Math.min(r+e,n),t))))}_toValue(e,t){null!=this.steps&&(t=this._getStepValues()[this._getIndexOfNearestStepValue(t)]),this._updateAnchorStyle(e,this._getPositionStyleForElement(t)),this.viewModel.setValue(e,t)}_toPosition(e,t){const n=null!=this.steps?this._getStepValueForAnchorAtPosition(e,t):this._getValueForAnchorAtPosition(e,t);this._updateAnchorStyle(e,this._getPositionStyleForElement(n)),this.viewModel.setValue(e,n)}_getValueForAnchorAtPosition(e,t){const{min:n,max:r}=this._getAnchorBoundsInPixels(e),{min:i,max:o}=this.viewModel.getBoundsForValueAtIndex(e);let s,a,l=null;return this._isPositionInverted()?(s=i,a=o):(s=o,a=i),l=t>r?s:t<n?a:this._valueFromPosition(t),l>o?l=o:l<i&&(l=i),l}_getStepValueForAnchorAtPosition(e,t){const n=this._getStepValues(),r=this._calculateNearestStepPosition(t),i=this._getValueForAnchorAtPosition(e,r);return n[this._getIndexOfNearestStepValue(i)]}_getAnchorBoundsAsPercents(e){const{min:t,max:n}=this._getAnchorBoundsInPixels(e);return{min:this._positionToPercent(t),max:this._positionToPercent(n)}}_getAnchorBoundsInPixels(e){const{_anchorElements:t,_trackHeight:n,_trackWidth:r,effectiveMax:i,effectiveMin:o,thumbsConstrained:s}=this,a=t[e-1],l=t[e+1],c=this._isHorizontalLayout()?r:n;let u,d;return this._isPositionInverted()?(u=null!=o?this._positionFromValue(o):c,d=null!=i?this._positionFromValue(i):0):(u=null!=i?this._positionFromValue(i):c,d=null!=o?this._positionFromValue(o):0),s?this._isPositionInverted()?{max:a?this._getPositionOfElement(a):u,min:l?this._getPositionOfElement(l):d}:{max:l?this._getPositionOfElement(l):u,min:a?this._getPositionOfElement(a):d}:{max:u,min:d}}_getIndexOfNearestValue(e){const t=this.values;return t.indexOf(t.reduce(((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t)))}_getCursorPositionFromEvent(e){const t=this._getDimensions(this.trackElement);return this._isHorizontalLayout()?this._applyPrecisionToPosition(e.clientX-t.left):this._applyPrecisionToPosition(e.clientY-t.top)}_getStepValues(){const{steps:e}=this;if(Array.isArray(e))return e;const{max:t,min:n}=this;if(null==n||null==t||null==e)return[];const r=Math.ceil((t-n)/e),i=[];for(let o=0;o<=r;o++){const r=n+e*o;i.push(r>t?t:r)}return i}_toStep(e,t){const n=this.values[e],r=this._getStepValues(),i=r.indexOf(n);let o=null;if(i>-1){let n=r[i+t];isNaN(n)&&(n=r[i]);const s=this._positionFromValue(n);o=this._getStepValueForAnchorAtPosition(e,s)}else o=r[this._getIndexOfNearestStepValue(n)+t];this.viewModel.setValue(e,o)}_getIndexOfNearestStepValue(e){const{steps:t}=this;if(null==t)return null;const n=this._getStepValues(),r=n.reduce(((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t));return n.indexOf(r)}_calculateNearestStepPosition(e){const t=this._valueFromPosition(e),n=this._getIndexOfNearestStepValue(t),r=this._getStepValues();return this._positionFromValue(r[n])}_getTickCounts(e,t){const{mode:n}=t;return"count"===n||"position"===n?e||0:"percent"===n&&100/e||0}_calculateTickPositions(e){return e.map((e=>this._positionFromValue(e)))}_calculateEquidistantTickPositions(e){const{_trackWidth:t,_trackHeight:n}=this,r=this._isHorizontalLayout()?t:n,i=r/(e-1),o=[];if(1===e)return[r/2];for(let t=0;t<e;t++){const e=t*i;e<=r&&o.push(e)}return o}_getDimensions(e){try{return(0,ec.Lw)(e),e.getBoundingClientRect()}catch(e){if("object"==typeof e&&null!==e)return new DOMRect(0,0,0,0);throw e}}_emitTrackClickEvent(e){this.emit("track-click",{...e,type:"track-click"})}_emitTickClickEvent(e){this.emit("tick-click",{...e,type:"tick-click"})}_emitMaxChangeEvent(e){this.emit("max-change",{...e,type:"max-change"})}_emitMinChangeEvent(e){this.emit("min-change",{...e,type:"min-change"})}_emitThumbChangeEvent(e){this.emit("thumb-change",{...e,type:"thumb-change"})}_emitThumbClickEvent(e){this.emit("thumb-click",{...e,type:"thumb-click"})}_emitThumbDragEvent(e){this.emit("thumb-drag",{...e,type:"thumb-drag"})}_emitSegmentClickEvent(e){this.emit("segment-click",{...e,type:"segment-click"})}_emitSegmentDragEvent(e){this.emit("segment-drag",{...e,type:"segment-drag"})}_emitMinRangeLabelClickEvent(e){this.emit("min-click",e)}_emitMaxRangeLabelClickEvent(e){this.emit("min-click",e)}};function LA(e){return e?.["data-thumb-index"]}function DA(e){return e?.["data-value"]}function FA(e){return e?.["data-tick-config-index"]}function jA(e){return e?.["data-tick-group-index"]}function ZA(e){return e?.["data-config"]}(0,Gl._)([(0,ql.MZ)()],NA.prototype,"_activeLabelInputIndex",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"_dragStartInfo",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"_isMinInputActive",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"_isMaxInputActive",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"_segmentDragStartInfo",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],NA.prototype,"_isDisabled",null),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"disabled",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"draggableSegmentsEnabled",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"effectiveMax",null),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"effectiveMin",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],NA.prototype,"effectiveSegmentElements",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"extraNodes",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"inputCreatedFunction",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"inputFormatFunction",null),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"inputParseFunction",null),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"icon",null),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"label",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],NA.prototype,"labelElements",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"labelInputsEnabled",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"labelFormatFunction",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],NA.prototype,"labels",null),(0,Gl._)([(0,ql.MZ)({value:"horizontal"})],NA.prototype,"layout",null),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"max",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],NA.prototype,"maxLabelElement",void 0),(0,Gl._)([(0,ql.MZ)(),(0,Dy.G)("esri/widgets/Slider/t9n/Slider")],NA.prototype,"messages",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"min",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],NA.prototype,"minLabelElement",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"precision",null),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"rangeLabelInputsEnabled",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],NA.prototype,"segmentElements",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"snapOnClickEnabled",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],NA.prototype,"state",null),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"steps",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"syncedSegmentsEnabled",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"thumbsConstrained",null),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"thumbCreatedFunction",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],NA.prototype,"thumbElements",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"tickConfigs",null),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],NA.prototype,"tickElements",void 0),(0,Gl._)([(0,ql.MZ)({readOnly:!0})],NA.prototype,"trackElement",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"values",null),(0,Gl._)([(0,ql.MZ)({type:PA})],NA.prototype,"viewModel",void 0),(0,Gl._)([(0,ql.MZ)()],NA.prototype,"visibleElements",void 0),(0,Gl._)([(0,rc.w)("visibleElements")],NA.prototype,"castVisibleElements",null),NA=(0,Gl._)([(0,Jl.$)("esri.widgets.Slider")],NA);const UA=NA,zA=({value:t,steps:n,showSliderTooltip:r,tooltipTextFormatter:i,onChange:o})=>{const s=(0,e.useRef)(null),a=(0,e.useRef)(null);return(0,e.useEffect)((()=>((async()=>{const e=(n=n||[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1])[0],r=n[n.length-1];a.current=new UA({container:s.current,min:e,max:r,steps:n,values:[t],snapOnClickEnabled:!1,visibleElements:{labels:!1,rangeLabels:!1}}),a.current.on("thumb-drag",(e=>{const t=+e.value;o(t)}))})(),()=>{a.current.destroy()})),[]),(0,e.useEffect)((()=>{a.current&&void 0!==t&&(a.current.values[0]!==t&&a.current.viewModel.setValue(0,t),(()=>{if(!r)return;const e=s.current.querySelector(".esri-slider__anchor-0"),n=i?i(t):t.toFixed(2).toString();e&&e.setAttribute("aria-tooltip-text",n)})())}),[t]),e.createElement("div",{className:Za()("esri-slider-custom-style w-full",{"show-slider-tooltip":r}),ref:s})},VA=[2e3,1e3,800,500,400,200,100,20,0],BA=({speedInMilliseonds:t,speedOnChange:n})=>{const r=(0,e.useMemo)((()=>{let e=0;const t=1/(VA.length-1),n=[];for(;e<=1;)n.push(e),e+=t;return n}),[]);return e.createElement(zA,{steps:r,value:(i=t,VA.indexOf(i)/(VA.length-1)),onChange:e=>{const t=(e=>{let t=0,n=VA.length-1;for(;t<n;){const r=Math.floor((n-t)/2)+t,i=r/(VA.length-1);if(i==e)return VA[r];i>e?n=r-1:t=r+1}return VA[t]})(e);n(t)}});var i},$A=({speed:t,onChange:n})=>{const{t:r}=$();return e.createElement("div",{className:"flex-grow pl-1 pr-2 pt-2"},e.createElement(BA,{speedInMilliseonds:t,speedOnChange:n}),e.createElement("div",{className:"text-xs text-center mt-1"},e.createElement("span",null,r("speed"))))},GA=22,qA=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:GA,width:GA},e.createElement("path",{fill:"currentColor",d:"M6 1.773v20.454l15-10.225zm1 1.892l12.225 8.337L7 20.335z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),HA=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:GA,width:GA},e.createElement("path",{fill:"currentColor",d:"M6 1.773v20.454l15-10.225zm1 1.892l12.225 8.337L7 20.335z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),WA=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:GA,width:GA},e.createElement("path",{fill:"currentColor",d:"M4 22h6V2H4zM5 3h4v18H5zm9 19h6V2h-6zm1-19h4v18h-4z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),JA=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:GA,width:GA},e.createElement("path",{fill:"currentColor",d:"M17.45 8.257L13.207 12.5l4.243 4.243-.707.707-4.243-4.243-4.243 4.243-.707-.707 4.243-4.243L7.55 8.257l.707-.707 4.243 4.243 4.243-4.243zM22.8 12.5A10.3 10.3 0 1 1 12.5 2.2a10.297 10.297 0 0 1 10.3 10.3zm-1 0a9.3 9.3 0 1 0-9.3 9.3 9.31 9.31 0 0 0 9.3-9.3z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),KA=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:GA,width:GA},e.createElement("path",{fill:"currentColor",d:"M13 3v12.294l2.647-2.647.707.707-3.853 3.854-3.854-3.854.707-.707L12 15.292V3zM6 21h13v-1H6z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),YA=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:18,width:18},e.createElement("path",{fill:"currentColor",d:"M7 14c0 .025.003.05.004.075l-3.54-3.54a5 5 0 0 1 7.072-7.07l4 4a4.992 4.992 0 0 1-1.713 8.187l-.237-.237a1.998 1.998 0 0 1-.413-.609 3.985 3.985 0 0 0 1.656-6.635l-4-4a4 4 0 0 0-5.369-.26l-.318-.387.318.386a4 4 0 0 0-.29 5.92l2.94 2.94A7.012 7.012 0 0 0 7 14zm16 4a4.97 4.97 0 0 0-1.464-3.536l-3.54-3.539c0 .025.004.05.004.075a7.087 7.087 0 0 1-.113 1.23l2.942 2.941a4 4 0 0 1-.128 5.78l.338.368-.338-.368a4 4 0 0 1-5.53-.122l-4-4a3.966 3.966 0 0 1 1.658-6.631 1.998 1.998 0 0 0-.415-.613l-.234-.234a5.004 5.004 0 0 0-1.907 1.315 5 5 0 0 0 .191 6.87l4 4A5 5 0 0 0 23 18z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),XA=({status:t,animationSpeed:n,shouldDisablePlayPauseButton:r,shouldDisableAddFrameButton:i,addButtonOnClick:o,donwloadButtonOnClick:s,copyLinkOnClick:a,statusOnChange:l,speedOnChange:c})=>{const{t:u}=$(),d="playing"===t||"pausing"===t;return e.createElement("div",{className:Za()("flex items-center mt-1"),"data-testid":"animation-controls","data-animation-status":t},e.createElement("div",{className:"flex items-center flex-grow mr-1"},null===t&&e.createElement("div",{"data-testid":"add-animation-frame-button",className:Za()("w-[105px] cursor-pointer text-center flex items-center bg-custom-light-blue-5",{"is-disabled":i}),onClick:o},e.createElement(aw,{icon:"plus",scale:"s"}),e.createElement("span",{className:" text-custom-light-blue uppercase ml-1",style:{fontSize:".7rem"}},u("add_a_scene"))),d&&e.createElement($A,{speed:n,onChange:e=>{c(e)}})),e.createElement("div",{className:Za()("flex cursor-pointer justify-center items-center",{hidden:r})},!t&&e.createElement("div",{className:" bg-custom-light-blue-5 px-1",onClick:l.bind(null,"loading"),title:u("play_animation"),"data-testid":"play-animation-button"},qA),"loading"===t&&e.createElement("div",{"data-testid":"animation-loading-indicator"},e.createElement(cw,{scale:"m",inline:!0})),d&&e.createElement("div",{onClick:a,title:u("copy_animation_link")},YA),d&&e.createElement("div",{onClick:s,title:u("download_animation")},KA),"playing"===t&&e.createElement("div",{onClick:l.bind(null,"pausing"),"data-testid":"pause-animation-button",title:u("pause_animation")},WA),"pausing"===t&&e.createElement("div",{onClick:l.bind(null,"playing"),"data-testid":"resume-animation-button",title:u("resume_animation")},HA),"failed-loading"===t&&e.createElement("div",{className:"pr-1"},e.createElement("span",{className:"text-xs text-opacity-50 line-clamp-none"},u("animation_load_failed"))),t&&e.createElement("div",{onClick:l.bind(null,null),"data-testid":"stop-animation-button"},JA)))},QA=({data:t,disabled:n,frameOnSelect:r,removeButtonOnClick:i})=>{const o=(0,e.useRef)(null),s=(t=>{const n=(0,e.useRef)(null);return(0,e.useEffect)((()=>{n.current=t}),[t]),n.current})(t?.length);return(0,e.useEffect)((()=>{o.current&&t?.length>s&&(o.current.scrollTop=o.current.scrollHeight)}),[t?.length]),e.createElement("div",{className:Za()({"is-disabled":n})},e.createElement("div",{ref:o,className:Za()("overflow-y-auto max-h-[177px] fancy-scrollbar",{"pr-1":t&&t.length>5}),"data-testid":"animation-frames-list"},t.map(((t,n)=>{const{frameId:o,acquisitionDateLabel:s,rasterFunctionName:a,selected:l}=t;return e.createElement("div",{key:o,"data-testid":`animation-frame-card-${n}`,"data-selected":l,className:Za()("relative flex items-center px-1 h-[30px] mb-1","border border-custom-light-blue-80 cursor-pointer group horizontal-indicator-on-left",{"bg-custom-light-blue":l,"text-custom-background":l,"drop-shadow-custom-light-blue-50":l})},e.createElement("div",{className:"w-full text-xs mr-1 text-center leading-[.9rem]",onClick:r.bind(null,o)},e.createElement("div",null,e.createElement("span",null,s)),e.createElement("div",{className:"max-w-[124px] overflow-hidden text-ellipsis whitespace-nowrap"},e.createElement("span",null,a))),e.createElement("div",{"data-testid":`remove-animation-frame-button-${n}`,className:"absolute top-0 right-0 hidden group-hover:block",onClick:i.bind(null,o)},e.createElement(aw,{icon:"x",scale:"s",style:{cursor:"pointer"}})))}))))},eT=()=>{const{t:t}=$(),n=bs(),r=ws(_l),i=ws(dl),o=ws(Ya),s=(()=>{const{t:t}=$(),n=ws(dA),r=ws(Xa),i=ws(Ga),o=(0,e.useMemo)((()=>{if(!i.length)return[];const e=Nw(i).map((e=>{const{uniqueId:i,acquisitionDate:o,rasterFunctionName:s}=e,a=n.get(s)||s;return{frameId:i,acquisitionDateLabel:o?Bn(o):t("select_a_date"),rasterFunctionName:o?a:"",selected:i===r}}));return e}),[i,r]);return o})(),a=(()=>{const t=ws(Ga);return(0,e.useMemo)((()=>{const e=Ow(t);return!e||!e.length}),[t])})(),l=ws(hl),c=()=>{n(((e,t=!1)=>(n,r)=>{const i=Ga(r()),o=qa(r())||Wa(r()),s=t?{...o,uniqueId:e,acquisitionDate:""}:{...o,uniqueId:e};n(ni({queryParams:[...i,s],selectedItemID:s.uniqueId}))})(Cs(5),!0))};return"animate"!==o?null:e.createElement("div",{className:"w-full h-full relative"},e.createElement(QA,{data:s,disabled:i,frameOnSelect:e=>{n(ti(e))},removeButtonOnClick:e=>{var t;n((t=e,async(e,n)=>{const r=Ga(n()).filter((e=>e.uniqueId!==t)),i=Xa(n());let o=i;i===t&&(o=r[0]?.uniqueId||null),e(ni({queryParams:r,selectedItemID:o}))}))}}),e.createElement(XA,{animationSpeed:l,status:r,shouldDisablePlayPauseButton:a,shouldDisableAddFrameButton:s.length&&s.length>=30,addButtonOnClick:()=>{c()},donwloadButtonOnClick:()=>{n(bi())},copyLinkOnClick:()=>{n(cl())},statusOnChange:e=>{n(_i(e))},speedOnChange:e=>{n(Si(e))}}),s&&s.length<=1?e.createElement("div",{className:"absolute w-full left-0 bottom-0"},e.createElement("p",{className:"text-xs opacity-50"},t("add_scenes_to_list"))):null)},tT=({selectedSide:t,queryParams4SceneOnLeft:n,queryParams4SceneOnRight:r,onChange:i,swapButtonOnClick:o})=>{const{t:s}=$(),a=ws(dA),l=i=>{const o="left"===i?n:r;return e.createElement("div",{"data-testid":`swipe-layer-selector-${i}`,"data-selected":t===i,"data-acquisition-date":o?.acquisitionDate||""},e.createElement("div",null,e.createElement("span",null,s(i))),e.createElement("div",{className:"text-xs text-center lowercase max-w-[126px] overflow-hidden text-ellipsis whitespace-nowrap"},o?.acquisitionDate?e.createElement(e.Fragment,null,e.createElement("span",null,o.acquisitionDate),e.createElement("br",null),e.createElement("span",{className:"normal-case"},a.get(o?.rasterFunctionName)||o?.rasterFunctionName)):e.createElement("span",null,s("no_scene_selected"))))};return e.createElement("div",{className:"flex flex-col h-full w-full"},e.createElement("div",{className:Za()("relative mb-1 h-1/2 flex items-center"),key:"left"},e.createElement(_A,{appearance:"left"===t?"solid":"transparent",fullHeight:!0,onClickHandler:()=>{i("left")},decorativeIndicator:"left"===t?"left":null},l("left"))),e.createElement("div",{"data-testid":"swipe-mode-side-swap-button",className:"flex justify-center cursor-pointer w-full my-1",title:"swap left and right side",onClick:o},e.createElement(aw,{icon:"arrow-up-down",scale:"s"})),e.createElement("div",{className:Za()("relative mb-1 h-1/2 flex items-center"),key:"right"},e.createElement(_A,{appearance:"right"===t?"solid":"transparent",fullHeight:!0,onClickHandler:()=>{i("right")},decorativeIndicator:"right"===t?"left":null},l("right"))))},nT=()=>{const t=bs(),{t:n}=$(),r=ws(Dl),i=ws(Fl),o=e=>{t(zt(e))},[s,a]=e.useState(!1),l=(0,e.useMemo)((()=>{const e=[];for(let t=0;t<xt.length;t++)e.push(t);return e}),[xt]);return e.createElement("div",{className:"flex items-center"},e.createElement("div",{className:Za()("flex-grow mx-2 mt-2",{"is-disabled":!r})},e.createElement(zA,{value:xt.indexOf(i),steps:l,onChange:e=>{const n=xt[e];t(Vt(n))}}),e.createElement("div",{className:"text-xs text-center mt-1"},e.createElement("span",null,n("speed")))),e.createElement("div",{className:"flex cursor-pointer items-center mx-1"},!r&&e.createElement("div",{className:" bg-custom-light-blue-5 px-1",onClick:o.bind(null,"playing"),title:n("enable_auto_swipe")},qA),r&&e.createElement("div",{className:"mr-1",onClick:async()=>{s||(await navigator.clipboard.writeText(window.location.href),a(!0),await sl(2e3),a(!1))},title:n(s?"link_copied":"copy_animation_link")},s?e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:18,width:18},e.createElement("path",{fill:"currentColor",d:"M6.218 13.64l3.288 3.098 10.073-9.92.637.637L9.506 18.01 5.58 14.276z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})):e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:18,width:18},e.createElement("path",{fill:"currentColor",d:"M7 14c0 .025.003.05.004.075l-3.54-3.54a5 5 0 0 1 7.072-7.07l4 4a4.992 4.992 0 0 1-1.713 8.187l-.237-.237a1.998 1.998 0 0 1-.413-.609 3.985 3.985 0 0 0 1.656-6.635l-4-4a4 4 0 0 0-5.369-.26l-.318-.387.318.386a4 4 0 0 0-.29 5.92l2.94 2.94A7.012 7.012 0 0 0 7 14zm16 4a4.97 4.97 0 0 0-1.464-3.536l-3.54-3.539c0 .025.004.05.004.075a7.087 7.087 0 0 1-.113 1.23l2.942 2.941a4 4 0 0 1-.128 5.78l.338.368-.338-.368a4 4 0 0 1-5.53-.122l-4-4a3.966 3.966 0 0 1 1.658-6.631 1.998 1.998 0 0 0-.415-.613l-.234-.234a5.004 5.004 0 0 0-1.907 1.315 5 5 0 0 0 .191 6.87l4 4A5 5 0 0 0 23 18z"}),e.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}))),r&&e.createElement("div",{onClick:o.bind(null,null)},JA)))},rT=()=>{const t=bs(),n=ws(Ya),r=ws(Ka),i=ws(Wa),o=ws(Ja),s=ws(dl);return"swipe"!==n?null:e.createElement(e.Fragment,null,e.createElement("div",{className:Za()("w-full",{"is-disabled":s}),style:{height:"calc(100% - 30px)"}},e.createElement(tT,{selectedSide:r?"right":"left",queryParams4SceneOnLeft:i,queryParams4SceneOnRight:o,onChange:e=>{t(ei("right"===e))},swapButtonOnClick:()=>{t((async(e,t)=>{try{const n=Wa(t()),r=Ja(t());e(Yr({...r})),e(Xr({...n}))}catch(e){}}))}})),e.createElement(nT,null))},iT=()=>{const t=ws(Ya),n=ws(el),r=ws(Wa),i=ws(Ja),o=ws(DM),s=ws(s_),a=ws(b_),l=ws(Ga),c=ws(_l),u=ws(hl),d=ws(Cl),h=ws(El),p=ws(kl),f=ws(CM),m=ws(kM),y=ws(Dl),g=ws(Fl);(0,e.useEffect)((()=>{zs("mode",t),(e=>{zs("mainScene",ks(e))})(r)}),[t,r]),(0,e.useEffect)((()=>{let e=null;"swipe"===t&&(e=i),"analysis"===t&&"change"===n&&(e=i),(e=>{zs("secondaryScene",ks(e))})(e)}),[t,n,i]),(0,e.useEffect)((()=>{Ts("analysis"===t&&"mask"===n?o:null)}),[t,n,o]),(0,e.useEffect)((()=>{Ds("analysis"===t&&"trend"===n?s:null)}),[t,n,s]),(0,e.useEffect)((()=>{js("analysis"===t&&"spectral"===n?a:null)}),[t,n,a]),(0,e.useEffect)((()=>{Rs("analysis"===t&&"change"===n?f:null)}),[t,n,f]),(0,e.useEffect)((()=>{zs("tool","analysis"===t?n:null)}),[t,n]),(0,e.useEffect)((()=>{(e=>{const t=e&&e.length?e.map((e=>ks(e))).join(","):null;zs("animationScenes",t)})("animate"===t?l:null)}),[t,l]),(0,e.useEffect)((()=>{(e=>{const t=e&&e.length?e.map((e=>ks(e))).join(","):null;zs("listOfScenes",t)})("analysis"===t&&"temporal composite"===n?l:null)}),[t,n,l]),(0,e.useEffect)((()=>{(e=>{zs("composite",(e=>{if(!e)return null;const{isTemporalCompositeLayerOn:t,rasterFunction:n}=e;return[t,n].join("|")})(e))})("analysis"===t&&"temporal composite"===n?m:null)}),[t,n,m]),(0,e.useEffect)((()=>{(e=>{zs("animation",e?e.toFixed(0).toString():null)})("animate"===t&&"playing"===c?u:null)}),[t,c,u]),(0,e.useEffect)((()=>{zs("hideMapLabels",!1===d?"true":null)}),[d]),(0,e.useEffect)((()=>{zs("hideBasemap",!1===p?"true":null)}),[p]),(0,e.useEffect)((()=>{zs("hideTerrain",!1===h?"true":null)}),[h]),(0,e.useEffect)((()=>{zs("autoSwipeSpeed",y?g.toString():null)}),[g,y])},oT=({nameOfScene:t,queryParams4ActiveScene:n})=>{const{t:r}=$(),i=r("scene a"===t?"scene_a":"scene_b");return n&&n.acquisitionDate?e.createElement("div",{className:"text-xs normal-case"},e.createElement("span",{className:"uppercase"},i),e.createElement("br",null),e.createElement("span",{className:""},n.acquisitionDate)):e.createElement("div",{className:"text-xs normal-case"},e.createElement("span",null,r("choose")),e.createElement("br",null),e.createElement("span",{className:"uppercase"},i))},sT=({activeScene:t,changeCompareLayerIsOn:n,queryParams4SceneA:r,queryParams4SceneB:i,activeSceneOnChange:o,viewChangeButtonOnClick:s,viewChangeButtonDisabled:a})=>{const{t:l}=$();return e.createElement("div",null,e.createElement("div",{className:Za()("relative mb-1")},e.createElement(_A,{appearance:"scene a"===t&&!1===n?"solid":"transparent",scale:"s",onClickHandler:()=>{o("scene a")},decorativeIndicator:"scene a"===t&&!1===n?"left":null},e.createElement(oT,{nameOfScene:"scene a",queryParams4ActiveScene:r}))),e.createElement("div",{className:Za()("relative mb-1")},e.createElement(_A,{appearance:"scene b"===t&&!1===n?"solid":"transparent",scale:"s",onClickHandler:()=>{o("scene b")},decorativeIndicator:"scene b"===t&&!1===n?"left":null},e.createElement(oT,{nameOfScene:"scene b",queryParams4ActiveScene:i}))),e.createElement("div",{className:Za()("relative",{"is-disabled":a})},e.createElement(_A,{appearance:n?"solid":"transparent",scale:"s",onClickHandler:s,decorativeIndicator:!0===n?"left":null},e.createElement("div",{className:"text-xs normal-case"},e.createElement("span",{className:"uppercase"},l("view_change")),e.createElement("br",null),e.createElement("span",null,l("scene_a_scene_b"))))))},aT=()=>{const t=bs(),n=ws(Ka),r=ws(AM),i=ws(Wa),o=ws(Ja),s=!i?.objectIdOfSelectedScene||!o?.objectIdOfSelectedScene;return e.createElement(sT,{activeScene:n?"scene b":"scene a",changeCompareLayerIsOn:r,viewChangeButtonDisabled:s,queryParams4SceneA:i,queryParams4SceneB:o,viewChangeButtonOnClick:()=>{t(mo(!0))},activeSceneOnChange:e=>{t(ei("scene b"===e)),t(mo(!1))}})},lT=({cloudCoverage:t})=>{const{t:n}=$();return e.createElement("div",{className:"text-xs flex items-center"},e.createElement("span",{className:"uppercase text-custom-light-blue-50 mr-[1px]"},n("cloud")),e.createElement("div",{className:"w-[30px] text-right"},e.createElement("span",null,isNaN(t)?"N/A":`${Math.floor(100*t)}%`)))},cT=({cloudCoverage:t,disabled:n,onChange:r})=>{const i=e=>{let n=100*t;e?n-=5:n+=5,n>100&&(n=100),n<0&&(n=0),n/=100,r(n)};return e.createElement("div",{className:Za()("mx-1 flex items-center",{"is-disabled":n})},e.createElement(lT,{cloudCoverage:t}),e.createElement("div",{className:"flex items-center ml-2"},e.createElement(aw,{scale:"s",icon:"offline",style:{cursor:"pointer"},onClick:i.bind(null,!0)}),e.createElement("div",{className:"w-12 h-4 mx-1"},e.createElement(zA,{steps:[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1],value:t,onChange:r})),e.createElement(aw,{scale:"s",icon:"online",style:{cursor:"pointer"},onClick:i.bind(null,!1)})))},uT=()=>{const t=bs(),n=ws(Qa),r=ws(dl);return e.createElement(cT,{cloudCoverage:n,disabled:void 0===n||r,onChange:e=>{t(ii(e))}})},dT=({content:t})=>{const n=bs(),{t:r}=$(),i=(0,e.useRef)(null);return(0,e.useEffect)((()=>{const e=i.current;if(!e)return;const t=e.querySelector(".open-find-a-scene");t&&t?.addEventListener("click",(e=>{e.preventDefault(),n(Qr("find a scene"))}))}),[]),e.createElement("div",{className:"max-w-sm ml-4 2xl:ml-10"},e.createElement("div",{className:"text-center mb-3"},e.createElement("span",{className:"uppercase text-sm"},r("dynamic_view"))),e.createElement("p",{className:"text-sm opacity-80"},t),!1===Vn?e.createElement("p",{className:"text-sm opacity-80 mt-2",ref:i,dangerouslySetInnerHTML:{__html:r("dynamic_view_instruction")}}):null)},hT=()=>{const{t:t}=$();return e.createElement(dT,{content:t("dynamic_mode_info",{ns:En})})},pT=({content:t,width:n=130,children:r})=>{const i=(0,e.useRef)(null),[o,s]=(0,e.useState)(!1),[a,l]=(0,e.useState)(),c=As((e=>{e?u():l(null),s(e)}),150),u=()=>{const e=i.current.getBoundingClientRect();l({top:e.top,left:e.left})};return e.createElement("div",{"data-testid":"tooltip-container",className:"relative cursor-pointer",ref:i,onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)}},r,o&&a?e.createElement("div",{className:Za()("fixed inline-block translate-x-[-50%] translate-y-[-105%] bg-custom-background text-custom-light-blue-90 p-1 px-2 border border-custom-light-blue-50 text-xs z-10 pointer-events-none"),dangerouslySetInnerHTML:{__html:t},style:{width:`${n}px`,left:a.left,top:a.top}}):e.createElement(e.Fragment,null))},fT=({headerTooltip:t,nameOfSelectedRasterFunction:n,rasterFunctionInfo:r,disabled:i,widthOfTooltipContainer:o,onChange:s,itemOnHover:a})=>{const l=(0,e.useRef)(null);za(l);const{t:c}=$();return e.createElement("div",{className:Za()("h-full w-auto select-none",{"mx-4":Vn}),ref:l},e.createElement("div",{className:Za()("text-center mb-3 flex items-center justify-center",{"is-disabled":i})},e.createElement(pT,{content:t,width:o||240},e.createElement(aw,{scale:"s",icon:"information"})),e.createElement("span",{className:"uppercase ml-2 text-sm"},c("renderer"))),e.createElement("div",{className:"flex flex-wrap max-w-[310px] justify-center gap-[5px] max-h-[155px] pr-1 overflow-x-hidden overflow-y-auto fancy-scrollbar","data-testid":"renderer-selector-container"},r.map((t=>{const{name:r,thumbnail:o,label:l}=t,c=n===r;return e.createElement(Ua,{key:r,label:l||r,thumbnail:o,selected:c,disabled:i,onClick:()=>{s(r)},onMouseEnter:a.bind(null,t),onMouseLeave:a.bind(null,null)})}))))},mT=({headerTooltip:t,widthOfTooltipContainer:n,data:r})=>{const i=bs(),o=ws(Ya),s=ws(el),a=ws(dl),l=ws(AM),{rasterFunctionName:c,objectIdOfSelectedScene:u}=ws(Ba)||{},d=(0,e.useMemo)((()=>"analysis"===o&&"temporal composite"===s),[o,s]);return r&&r.length&&!d?e.createElement(fT,{headerTooltip:t,rasterFunctionInfo:r,nameOfSelectedRasterFunction:c,disabled:!("dynamic"===o||!a&&u&&("analysis"!==o||"change"!==s||!l)),widthOfTooltipContainer:n,onChange:e=>{i(rl(e))},itemOnHover:e=>{const{label:t,description:n,legend:r}=e||{};i(ll(e?{title:t,content:n,legendImage:r}:null))}}):null};var yT=s.p+"Sentinel2_NaturalColor239908bab0f6e5579c5f.jpg",gT=s.p+"Sentinel2_Agriculturecdd1ffeff83e3ab1fe61.jpg",vT=s.p+"Sentinel2_ColorIR47357a92f3a3a8e64aeb.jpg",bT=s.p+"Sentinel2_NDMI52747dd9266d93b297b1.jpg",wT=s.p+"Sentinel2_NDVI67fb49ad3157fc3ca199.jpg",_T=s.p+"Sentinel2_SWIR267a9419dcf1049c1268.jpg",ST=s.p+"Sentinel2_Bathymetric68c12ebfd0902f93eff8.jpg",xT=s.p+"Sentinel2_Geology20423df85a98bbdaf78d.jpg",MT=s.p+"Sentinel2_NDWI16764286ffa70ac37b83.jpg",AT=s.p+"Sentinel2_Urban42ca5d2e9f6ada2b2c79.jpg",TT=s.p+"MNDWI_noTextf486458f37797707539f.png",IT=s.p+"NDVI_noTextaf65f82763405b79a321.png",CT=s.p+"NDMI_noTextce31774bfefe31489000.png";const ET={"Agriculture for Visualization":gT,"Bathymetric for Visualization":ST,"Color Infrared for Visualization":vT,"Natural Color for Visualization":yT,"Geology for Visualization":xT,"Short-wave Infrared for Visualization":_T,"NDVI Colorized for Visualization":wT,"NDMI Colorized for Visualization":bT,"MNDWI Colorized for Visualization":MT,"Urban for Visualization":AT},kT={"Agriculture for Visualization":null,"Bathymetric for Visualization":null,"Color Infrared for Visualization":null,"Natural Color for Visualization":null,"Geology for Visualization":null,"Short-wave Infrared for Visualization":null,"NDVI Colorized for Visualization":IT,"NDMI Colorized for Visualization":CT,"MNDWI Colorized for Visualization":TT,"Urban for Visualization":null},PT=()=>{const t=(()=>{const t=ws(uA),n=(0,e.useMemo)((()=>t?t.map((e=>{const t=e.name,n=ET[t],r=kT[t];return{...e,thumbnail:n,legend:r}})):[]),[t]);return n})(),{t:n}=$();return e.createElement(mT,{headerTooltip:n("renderer_tooltip",{satellite:"Sentinel-2"}),data:t})};let RT=null;const OT=()=>{const t=bs(),n=ws(Ba),r=n?.acquisitionDateRange,i=ws(dl),o=ws(Ml);return(0,e.useEffect)((()=>{o&&r&&(i||t((e=>async(t,n)=>{if(e){RT&&RT.abort(),RT=new AbortController;try{const{objectIdOfSelectedScene:r}=Ba(n())||{},i=Ml(n()),o=await K_({acquisitionDateRange:e,mapPoint:i,abortController:RT});let s=o.map((e=>M_(e)));s=((e,t)=>{const n=[...e].sort(((e,t)=>e.acquisitionDate-t.acquisitionDate)),r=[];for(const e of n){const n=r[r.length-1];if(n&&n.formattedAcquisitionDate===e.formattedAcquisitionDate){if(n.doesNotMeetCriteria!==e.doesNotMeetCriteria){n.doesNotMeetCriteria&&(r.pop(),r.push(e));continue}if(n.objectId===t)continue;r.pop()}r.push(e)}return r})(s,r),t(di(o)),t(si(s))}catch(e){}}})(r)))}),[o,r,i]),null},NT=({name:t,value:n,testValue:r,clickToCopy:i})=>{const[o,s]=(0,e.useState)(!1),{t:a}=$();return e.createElement(e.Fragment,null,e.createElement("div",{className:"text-right pr-2",style:{lineHeight:1.15}},e.createElement("span",{className:"text-custom-light-blue-50"},t)),e.createElement("div",{"data-scene-info-field":t,"data-scene-info-value":r||n,className:"relative group",style:{lineHeight:1.15},onClick:async()=>{i&&(await navigator.clipboard.writeText(n),s(!0),await sl(2e3),s(!1))}},(()=>{const t=e.createElement("span",{className:Za()("inline-block max-w-[170px] overflow-hidden whitespace-nowrap text-ellipsis",{"cursor-pointer":i})},n);if(!i)return t;const r=`\n            <p class="break-words mb-1">${n}</p>\n            <p>\n                ${a(o?"copied_to_clipboard":"click_to_copy_to_clipboard")}\n            </p>\n        `;return e.createElement(pT,{content:r,width:200},t)})()))},LT=({data:t})=>{const{t:n}=$();return e.createElement("div",{className:Za()("analyze-tool-and-scene-info-container",{"is-disabled":0===t.length})},e.createElement("div",{className:"text-center mb-3 mt-1"},e.createElement("h4",{className:"uppercase text-sm"},n("scene_information"))),t&&t.length?e.createElement("div",{className:"grid grid-cols-2 text-xs","data-element":"scene-info-table"},t.map((t=>e.createElement(NT,rA({key:(0,Fn.cv)()},t))))):e.createElement("div",{className:"text-xs opacity-80 text-center mx-auto max-w-[240px]"},e.createElement("p",{className:"my-3 mx-3"},n("select_acquisition_date")),e.createElement("p",null,n("scenes_displayed_based_on_intersection"))))},DT=()=>{const{t:t}=$(),n=ws(Ya),r=(t=>{const{objectIdOfSelectedScene:n}=ws(Ba)||{},r=ws(Ya),i=ws(dl),[o,s]=(0,e.useState)();return(0,e.useEffect)((()=>{(async()=>{if(n&&!i&&"analysis"!==r)try{const e=await t(n);s(e)}catch(e){}else s(null)})()}),[n,r,i,t]),o})((0,e.useCallback)((async e=>await Y_(e)),[])),i=(0,e.useMemo)((()=>{if(!r)return[];const{acquisitionDate:e,formattedCloudCover:n,name:i,satellite:o,sensor:s,snowIcePercentage:a,productName:l,relativeOrbit:c,sunElevation:u,sunAzimuth:d}=r;return[{name:t("scene_id"),value:i,clickToCopy:!0},{name:t("satellite"),value:o},{name:t("sensor"),value:s},{name:t("acquired"),value:$n(e,Un),testValue:qn({date:e})},{name:t("cloud_cover"),value:`${n}%`},{name:t("snow_ice"),value:`${a}%`},{name:t("no_data_pixel"),value:`${r.noDataPixelPercentage}%`},{name:t("product_name"),value:l},{name:t("relative_orbit"),value:c},{name:t("sun_elevation_azimuth"),value:`${u}/${d}`}]}),[r]);return"dynamic"===n||"analysis"===n?null:e.createElement(LT,{data:i})},FT=({data:t,selectedTool:n,onChange:r})=>e.createElement(e.Fragment,null,t.map((({tool:t,title:i,subtitle:o})=>e.createElement("div",{key:t,className:Za()("relative mb-1"),"data-testid":`analyze-tool-selector-${t}`},e.createElement(_A,{appearance:t===n?"solid":"transparent",scale:"s",onClickHandler:()=>{r(t)},decorativeIndicator:t===n?"left":null},e.createElement("div",{className:"text-center text-xs"},e.createElement("span",{className:"uppercase"},i),e.createElement("br",null),e.createElement("span",{className:"lowercase"},o))))))),jT=({data:t})=>{const n=bs(),r=ws(Ya),i=ws(el);return"analysis"!==r?null:e.createElement(FT,{data:t,selectedTool:i,onChange:e=>{n(oi(e))}})},ZT=()=>{const{t:t}=$(),n=(0,e.useMemo)((()=>[{tool:"mask",title:t("index"),subtitle:t("mask").toLowerCase()},{tool:"trend",title:t("temporal"),subtitle:t("profile").toLowerCase()},{tool:"spectral",title:t("spectral"),subtitle:t("profile").toLowerCase()},{tool:"change",title:t("change"),subtitle:t("detection").toLowerCase()}]),[]);return e.createElement(jT,{data:n})},UT=({title:t,dropdownListOptions:n,selectedValue:r,tooltipText:i,children:o,dropdownMenuSelectedItemOnChange:s})=>{const a=(0,e.useMemo)((()=>n.map((e=>{const{value:t,label:n}=e;return{value:t,label:n?n.toUpperCase():t.toUpperCase(),selected:t===r}}))),[n,r]);return e.createElement("div",{className:"flex items-center w-full select-none"},e.createElement("div",{className:"flex items-center mr-4"},i&&e.createElement(pT,{content:i,width:280},e.createElement(aw,{scale:"s",icon:"information"})),e.createElement("span",{className:"uppercase text-sm ml-1"},t)),e.createElement("div",{className:"flex-grow"},e.createElement(lA,{data:a,onChange:s})),o)},zT=({color:t,onChange:n})=>{const r=(0,e.useRef)(null),[i,o]=(0,e.useState)(!1);return gw(r,(()=>{o(!1)})),(0,e.useEffect)((()=>{}),[]),e.createElement("div",{className:"relative color-picker-custom-style",ref:r},e.createElement("div",{className:Za()("absolute right-0 bottom-6 z-50",{hidden:!1===i})},e.createElement(sw,{format:"rgb",savedDisabled:!0,channelsDisabled:!0,scale:"s",value:{r:t[0],g:t[1],b:t[2]},onCalciteColorPickerChange:e=>{if(!e?.target?.value)return;const{r:t,g:r,b:i}=e.target.value||{};n([t,r,i])}})),e.createElement("div",{className:"flex items-center border border-custom-light-blue-50 p-1 cursor-pointer",onClick:o.bind(null,!i)},e.createElement("div",{className:"w-4 h-4",style:{background:`rgb(${t[0]}, ${t[1]}, ${t[2]})`}}),e.createElement("div",{className:"flex items-center ml-1 "},e.createElement(aw,{icon:"caret-down",scale:"s"}))))},VT=({transparence:t,shouldClip:n,color:r,colorOnChange:i,shouldClipOnToggle:o,transparenceOnChange:s})=>{const{t:a}=$();return e.createElement("div",{className:"flex items-center calcite-mode-dark select-none"},e.createElement("div",{className:"flex items-center"},e.createElement("div",{className:"cursor-pointer",onClick:o},e.createElement(pT,{content:a("clipping_mask_info"),width:200},n?e.createElement(aw,{icon:"check-square",scale:"s"}):e.createElement(aw,{icon:"square",scale:"s"}))),e.createElement("span",{className:"text-xs ml-2 max-w-[90px] leading-none"},a("clip_to_mask"))),e.createElement("div",{className:Za()("flex-grow px-4")},e.createElement(zA,{value:t,showSliderTooltip:!0,tooltipTextFormatter:e=>Math.floor(100*e).toString()+"%",onChange:s})),e.createElement("div",{className:Za()({"is-disabled":n})},e.createElement(zT,{color:r,onChange:i})))},BT=()=>{const t=bs(),n=ws(jM),r=ws(NM),i=ws(LM);return e.createElement(VT,{transparence:1-r,shouldClip:i,color:n,colorOnChange:e=>{t((e=>async(t,n)=>{t(eo(e))})(e))},shouldClipOnToggle:()=>{t(Qi())},transparenceOnChange:e=>{t(Xi(1-e))}})},$T=()=>{const{t:t}=$();return e.createElement("div",{className:"w-full mt-10 flex justify-center text-center text-sm is-disabled"},e.createElement("p",null,t("select_scene_to_calculate_mask")))},GT=(e,t)=>{const n=Math.abs(t-e)/4;return[e,e+n,e+2*n,e+3*n,t]},qT=(e,t)=>Math.abs(t-e)/.25+1,HT=({values:t,min:n=-1,max:r=1,steps:i=.05,countOfTicks:o,tickLabels:s,showSliderTooltip:a,valuesOnChange:l})=>{const c=(0,e.useRef)(null),u=(0,e.useRef)(null),d=(e,t)=>[{mode:"count",values:void 0!==o?o:qT(e,t)},{mode:"position",values:s&&s.length?s:GT(e,t),labelsVisible:!0}];return(0,e.useEffect)((()=>((async()=>{const e=new UA({container:c.current,min:n,max:r,steps:i,values:t,snapOnClickEnabled:!1,visibleElements:{labels:!1,rangeLabels:!1},tickConfigs:d(n,r)});u.current=e,u.current.on("thumb-drag",(e=>{l(u.current.values)})),u.current.on("segment-drag",(e=>{l(u.current.values)}))})(),()=>{u.current&&u.current.destroy()})),[]),(0,e.useEffect)((()=>{u.current&&void 0!==t&&(u.current.values[0]!==t[0]&&u.current.viewModel.setValue(0,t[0]),u.current.values[1]!==t[1]&&u.current.viewModel.setValue(1,t[1]),(()=>{if(!a)return;const e=c.current.querySelector(".esri-slider__anchor-0"),n=c.current.querySelector(".esri-slider__anchor-1"),r="aria-tooltip-text";e&&e.setAttribute(r,t[0].toFixed(2).toString()),n&&n.setAttribute(r,t[1].toFixed(2).toString())})())}),[t]),(0,e.useEffect)((()=>{if(!u.current)return;const e=d(n,r);u.current.min=n,u.current.max=r,u.current.values=t,u.current.steps=i,u.current.tickConfigs=e}),[n,r,t,i,o,s]),e.createElement("div",{className:Za()("esri-slider-custom-style show-segment-between-handlers w-full",{"show-slider-tooltip":a}),ref:c})},WT=({label:t})=>{const n=ws(Nl),r=ws(Ol),{t:i}=$();if(null===n)return null;return e.createElement("div",{className:"relative text-xs"},r?e.createElement("div",{className:"flex justify-end"},e.createElement(cw,{inline:!0}),e.createElement("span",{className:"ml-1"},i("loading"),"...")):e.createElement("p",null,t,": ",n?n>100?(0,Fn.qC)(Math.floor(n)):n.toFixed(2):0," km"))},JT=()=>{const{t:t}=$(),n=bs(),r=ws(el),i=ws(OM),o=ws(FM),{objectIdOfSelectedScene:s}=ws(Ba)||{},a=(0,e.useMemo)((()=>!s),[s]),l=BM();return"mask"!==r?null:e.createElement("div",{className:Za()("w-full h-full")},e.createElement(UT,{title:t("index"),dropdownListOptions:[{value:"water",label:t("water_index")},{value:"vegetation",label:t("vegetation_index")},{value:"moisture",label:t("moisture_index")}],selectedValue:i,tooltipText:t("mask_tool_tooltip"),dropdownMenuSelectedItemOnChange:e=>{n(Ki(e))}}),a?e.createElement($T,null):e.createElement(e.Fragment,null,e.createElement("div",{className:Za()("relative w-full h-[120px]")},e.createElement("div",{className:"absolute top-3 right-0"},e.createElement(WT,{label:t("estimated_mask_area")})),e.createElement(HT,{values:o.selectedRange,min:l[0],max:l[1],valuesOnChange:e=>{n((e=>async(t,n)=>{const r={...FM(n()),selectedRange:[...e]};t(Yi(r))})(e))},countOfTicks:17,tickLabels:[-1,-.5,0,.5,1],showSliderTooltip:!0})),e.createElement(BT,null)))},KT=({legendLabelText:t=[],comparisonTopic:n,preselectionText:r})=>{const{t:i}=$(),o=bs(),s=ws(el),a=ws(TM),l=ws(IM),c=ws(AM),u=(0,e.useMemo)((()=>n?i("est_change_area_variable",{comparisonTopic:n}):i("estimated_change_area")),[n]);return"change"!==s?null:c?e.createElement("div",{className:Za()("relative w-full h-[0px] pt-[50px]")},e.createElement("div",{className:"absolute top-3 w-full text-right "},e.createElement(WT,{label:u})),e.createElement("div",{className:"relative w-full"},e.createElement("div",{className:"w-full h-2",style:{background:`linear-gradient(90deg, ${GM.map(((e,t)=>`${e} ${t/(GM.length-1)*100}%`)).join(", ")})`}})),(()=>{const[t,n]=l;return e.createElement(HT,{values:a,valuesOnChange:e=>{o(yo(e))},min:t,max:n,steps:.01,showSliderTooltip:!0})})(),(()=>{if(!t?.length)return null;let n=null;return 2===t.length&&(n=e.createElement("div",{className:"flex items-center text-xs"},e.createElement("div",{className:"w-1/2"},e.createElement("span",null,t[0]||i("decrease"))),e.createElement("div",{className:"w-1/2 text-right"},e.createElement("span",null,t[1]||i("increase"))))),3===t.length&&(n=e.createElement("div",{className:"flex items-center text-xs"},e.createElement("div",{className:"w-1/3"},e.createElement("span",null,t[0]||i("decrease"))),e.createElement("div",{className:"w-1/3 text-center"},e.createElement("span",null,t[1]||i("no_change"))),e.createElement("div",{className:"w-1/3 text-right"},e.createElement("span",null,t[2]||i("increase"))))),n?e.createElement("div",{className:"w-full mt-12"},n):null})()):e.createElement("div",{className:"mt-6 text-center"},e.createElement("p",{className:"text-sm opacity-50 "},r||i("select_two_scenes")))},YT=({options:t,tooltipText:n})=>{const r=bs(),{t:i}=$(),o=ws(el),s=ws(MM);return"change"!==o?null:e.createElement(UT,{title:i("change"),dropdownListOptions:t,selectedValue:s,tooltipText:n||i("compare_and_report_changes"),dropdownMenuSelectedItemOnChange:e=>{r(fo(e))}})},XT=()=>{const t=ws(el),{t:n}=$(),r=[n("decrease"),n("no_change"),n("increase")];return"change"!==t?null:e.createElement("div",{className:Za()("w-full h-full")},e.createElement(YT,{options:[{value:"water",label:n("water_index")},{value:"vegetation",label:n("vegetation_index")},{value:"moisture",label:n("moisture_index")}]}),e.createElement(KT,{legendLabelText:r}))},QT={Cloud:"#888888","Clear Water":"#0079F2","Turbid Water":"#76B5E2","Snow and Ice":"#FFFFFF",Sand:"#EDC692","Bare Soil":"#EE9720","Paved Surface":"#EB7EE0",Trees:"#0AC5C0","Healthy Vegetation":"#1BE43E","Dry Vegetation":"#CAD728"},eI={Cloud:"rgba(136, 136, 136,opacity)","Clear Water":"rgba(0, 121, 242,{{opacity}})","Turbid Water":"rgba(118, 181, 226,{{opacity}})","Snow and Ice":"rgba(255, 255, 255,{{opacity}})",Sand:"rgba(237, 198, 146,{{opacity}})","Bare Soil":"rgba(238, 151, 32,{{opacity}})","Paved Surface":"rgba(235, 126, 224,{{opacity}})",Trees:"rgba(10, 197, 192,{{opacity}})","Healthy Vegetation":"rgba(27, 228, 62,{{opacity}})","Dry Vegetation":"rgba(202, 215, 40,{{opacity}})"},tI=(e,t=1)=>{if(1===t)return QT[e]||"var(--custom-light-blue-90)";const n=eI[e];return n?n.replace("{{opacity}}",t.toString()):"var(--custom-light-blue-90)"},nI=({bandValues:e,title:t,length:n})=>e&&e.length?(void 0!==n&&(e=e.slice(0,n)),e.map(((e,n)=>{const r=(i=e,o=0,s=1,i=Math.min(i,s),Math.max(i,o));var i,o,s;const a=t?`${t}: ${r.toFixed(3)}`:r.toFixed(3);return{x:n,y:r,tooltip:a}}))):[],rI=["Snow and Ice","Cloud","Sand","Healthy Vegetation","Dry Vegetation","Bare Soil","Paved Surface","Trees","Turbid Water","Clear Water"],iI=({label:t,fill:n,strokeDasharray:r})=>e.createElement("div",{className:"flex items-center"},e.createElement("svg",{height:2,width:16,xmlns:"http://www.w3.org/2000/svg",version:"1.1"},e.createElement("line",{stroke:n,strokeWidth:3,strokeDasharray:r,x1:"0",x2:16,y1:"0",y2:"0"})),e.createElement("span",{className:"ml-2 text-xs text-custom-light-blue-80"},t)),oI=({featureOfInterestName:t,featureOfInterestFillColor:n})=>{const{t:r}=$(),i=(0,e.useMemo)((()=>r("spectral_profile_of_feature_of_interest",{feature_of_interest:r(t)})),[t]);return t?e.createElement("div",{className:"w-full mt-3","data-testid":"spectral-profile-chart-legend","data-selected-feature-of-interest":t},e.createElement(iI,{label:r("spectral_profile_of_selected_location"),fill:"var(--custom-light-blue-90)"}),e.createElement(iI,{label:i,fill:n,strokeDasharray:"3 1"})):null},sI=()=>{const{t:t}=$(),n=ws(y_),r=ws(g_),i=ws(v_),o=(0,e.useMemo)((()=>n?t("fetching_spectral_profile_data"):i||(r.length?"":t("select_scene_sepctral_profile"))),[n,i,r]);return o?e.createElement("div",{className:"w-full mt-10 flex justify-center text-center"},n&&e.createElement(cw,{inline:!0}),e.createElement("p",{className:"text-sm opacity-50 ml-1"},o)):null};var aI=s(61574);const lI={"--axis-tick-line-color":"var(--custom-light-blue-25)","--axis-tick-text-color":"var(--custom-light-blue-50)","--crosshair-reference-line-color":"var(--custom-light-blue-50)","--vertical-reference-line-color":"var(--custom-light-blue-70)","--tooltip-text-font-size":".715rem","--tooltip-text-color":"var(--custom-light-blue-70)","--tooltip-background-color":"var(--custom-background-95)","--tooltip-border-color":"var(--custom-light-blue-50)"},cI=({chartData:t,bottomAxisTickText:n})=>{if(!t||!t.length)return null;const r=(0,e.useMemo)((()=>t&&t.length?t[0].values.length:0),[t]),i=(0,e.useMemo)((()=>!!r&&r>7),[r]);return e.createElement("div",{className:"relative w-full h-full",style:lI,"data-testid":"spectral-profile-chart"},e.createElement(aI.MultipleLinesChart,{data:t,strokeWidth:1.5,showTooltip:!0,yScaleOptions:{domain:[0,1]},bottomAxisOptions:{numberOfTicks:r,shouldRotateTextLabels:i,tickFormatFunction:(e,t)=>n[e]||e.toString()},margin:{bottom:i?40:20,left:30,right:10,top:10}}))},uI=({chartData:t,bottomAxisTickText:n})=>e.createElement("div",{id:"expanded-spectral-profile-chart-container",className:"relative w-full h-full",style:lI},e.createElement(aI.MultipleLinesChart,{data:t,strokeWidth:1.5,showTooltip:!0,yScaleOptions:{domain:[0,1]},leftAxisOptions:{showGridLines:!0},bottomAxisOptions:{numberOfTicks:n.length,shouldRotateTextLabels:!1,tickFormatFunction:(e,t)=>n[e]||e.toString()},margin:{bottom:20,left:30,right:10,top:10}})),dI=({excludedLandCoverTypes:t,landCoverTypeOnClick:n,landCoverTypeOnHover:r,toggleSelectAll:i})=>{const{t:o}=$(),s=(0,e.useMemo)((()=>rI.map((e=>({label:o(e),color:tI(e),value:e,selected:!1===t.has(e)})))),[t]);return e.createElement("div",{className:"pl-20 h-full flex items-center"},e.createElement("div",{className:""},e.createElement("div",{className:"flex items-center mb-2",title:"toggle select all"},e.createElement(aw,{icon:0===t.size?"square-inset-medium":"square",class:"cursor-pointer",scale:"s",onClick:i}),e.createElement("span",{className:"text-sm ml-3"},o("spectral_profiles"))),s.map(((t,i)=>e.createElement("div",{key:t.value,className:"flex items-center pb-2 cursor-pointer",onMouseOver:()=>r(t.value),onMouseOut:()=>r(null)},e.createElement(aw,{icon:t.selected?"check-square":"square",class:"text-sm cursor-pointer",scale:"s",onClick:()=>n(t.value)}),e.createElement("svg",{width:"16",height:"2",className:Za()("mx-3",{"opacity-50":!t.selected})},e.createElement("line",{x1:"0",y1:"1",x2:"24",y2:"1",stroke:t.color,strokeWidth:"2",strokeDasharray:"4,2"})),e.createElement("span",{className:Za()("text-sm",{"opacity-50":!t.selected})},t.label))))))},hI=()=>{const{t:t}=$();return e.createElement("div",{className:"w-full flex justify-center items-center"},e.createElement("div",{className:"flex items-center"},e.createElement("div",{className:"bg-white w-[16px] h-[2px]"}),e.createElement("h4",{className:"ml-3"},t("spectral_profile_selected_location"))))},pI=({spectralProfileDataByLandCoverTypes:t,bandNames:n,closeButtonClickHandler:r})=>{const{t:i}=$(),o=ws(g_),[s,a]=(0,e.useState)(new Set),[l,c]=(0,e.useState)(null),u=(0,e.useMemo)((()=>{if(!o?.length||!t)return[];const e=Math.min(o.length,t.Cloud.length),n=rI.filter((e=>!s.has(e))).map((n=>{const r=t[n],o=nI({bandValues:r,title:i(n),length:e});return{fill:tI(n,l&&l!==n?.25:1),key:n,values:o,dashPattern:"9 3"}})),r=nI({bandValues:o,title:i("selected_value"),length:e});return n.push({fill:"#fff",key:"selected-location",values:r}),n}),[o,s,l]);return u.length?e.createElement("div",{className:"fixed top-0 left-0 w-screen h-screen bg-custom-background-90 z-50 flex items-center justify-center"},e.createElement(Rw,{onClick:r}),e.createElement("div",{className:"mx-auto w-4/5 max-w-7xl overflow-x-auto fancy-scrollbar"},e.createElement("div",{className:"w-full flex items-center"},e.createElement("div",{className:"flex-grow w-3/4 min-w-[500px] pb-4 h-full"},e.createElement("div",{className:"w-full mb-8"},e.createElement(hI,null)),e.createElement("div",{className:"w-full  h-[400px]"},e.createElement(uI,{chartData:u,bottomAxisTickText:n}))),e.createElement("div",{className:"w-1/4 h-full shrink-0"},e.createElement(dI,{excludedLandCoverTypes:s,landCoverTypeOnClick:e=>{a((t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}))},landCoverTypeOnHover:c,toggleSelectAll:()=>a((e=>e.size?new Set:new Set(rI)))}))))):null},fI=({spectralProfileDataByLandCoverTypes:t,bandNames:n})=>{const r=ws(el),i=ws(y_),o=ws(g_),s=ws(v_),[a,l]=(0,e.useState)(),[c,u]=(0,e.useState)(!1),d=((t,n,r)=>{const{t:i}=$();return(0,e.useMemo)((()=>{if(!(t&&n&&t?.length&&n[r]&&r))return[];const e=n[r],o=Math.min(t.length,e.length),s=nI({bandValues:t,title:i("selected_value"),length:o}),a=nI({bandValues:e,title:i(r),length:o});return[{fill:"var(--custom-light-blue-90)",key:"selected-location",values:s},{fill:tI(r),key:r,values:a,dashPattern:"9 3"}]}),[t,n,r])})(o,t,a),h=(0,e.useMemo)((()=>!i&&!s&&!(!o||!o.length)),[i,s,o]);(0,e.useEffect)((()=>{if(!o||!o.length)return;const e=((e,t)=>{let n=1/0,r=null;for(const[i,o]of Object.entries(t)){let t=0;const s=Math.min(e.length,o.length);for(let n=0;n<s;n++){const r=Math.abs(e[n]-o[n]);t+=r*r}t<n&&(n=t,r=i)}return r})(o,t);l(e)}),[o]);const{t:p}=$();return"spectral"!==r?null:e.createElement("div",{className:Za()("w-full h-full")},e.createElement(UT,{title:p("spectral_profile"),dropdownListOptions:rI.map((e=>({value:e,label:p(e)}))),selectedValue:a,tooltipText:p("spectral_profile_info"),dropdownMenuSelectedItemOnChange:e=>{l(e)}},e.createElement(aw,{icon:"zoom-out-fixed",scale:"s",class:Za()("ml-1 cursor-pointer",{"is-disabled":!o||!o?.length}),onClick:u.bind(null,!0)})),h&&e.createElement(e.Fragment,null,e.createElement("div",{className:"w-full h-[120px] my-2"},e.createElement(cI,{chartData:d,bottomAxisTickText:n})),e.createElement(oI,{featureOfInterestName:a,featureOfInterestFillColor:tI(a)})),c&&e.createElement(pI,{spectralProfileDataByLandCoverTypes:t,bandNames:n,closeButtonClickHandler:u.bind(null,!1)}),e.createElement(sI,null))},mI={Cloud:[1.03265,1.05048,1.01048,1.01232,1.04323,1.0126,1.00559,1.04347,.98904,1.1314,.57583,.47131],"Snow and Ice":[.99017,1.01778,1.01494,1.00485,1.01552,.99254,.95747,.93997,.91567,.90233,.10335,.10909],Sand:[.17045,.24277,.30992,.36519,.38918,.38836,.39716,.41087,.40149,.37243,.43412,.38336],"Dry Vegetation":[.04732,.06093,.08916,.10076,.14655,.23523,.26743,.28261,.29321,.29663,.29241,.19994],"Paved Surface":[.13666875,.17266875,.20001875,.2190375,.2344875,.229875,.232975,.22775625,.2307875,.2256625,.27044375,.27213125],"Bare Soil":[.07416,.0955,.13096,.18147,.21583,.23725,.25643,.26663,.28528,.2869,.38474,.29332],"Healthy Vegetation":[.02361,.02915,.05346,.02994,.07978,.31964,.42837,.43847,.45124,.44848,.17451,.08004],Trees:[.01122,.01668,.03298,.02081,.05829,.1655,.19975,.21482,.21806,.21181,.09833,.05031],"Turbid Water":[.07213,.09002,.12151,.14041,.14911,.10413,.10868,.09596,.08182,.0334,.01894,.01684],"Clear Water":[.01823,.02118,.02177,.00924,.00842,.00337,.00364,.00281,.00253,-38e-5,.00299,.003]},yI=t=>{const n=bs(),{objectIdOfSelectedScene:r}=ws(Ba)||{},i=ws(m_),o=ws(el),s=(0,e.useCallback)(As((async()=>{var e;n((e=t,async(t,n)=>{const r=n(),i=m_(r),{objectIdOfSelectedScene:o}=Wa(r)||{};if(!i||!o)return t(ao([])),void t(aM(null));sM&&sM.abort(),sM=new AbortController,t(so(!0)),t(lo(null));try{const n=await e({point:i,objectIds:[o],abortController:sM});t(ao(n))}catch(e){t(lo(e.message||"failed to fetch spectral profile data"))}t(so(!1))}))}),200),[t]);(0,e.useEffect)((()=>{(async()=>{"spectral"===o&&s()})()}),[i,r])},gI=async({serviceURL:e,point:t,objectIds:n,abortController:r})=>{const i=(e=>{const t=Math.ceil(e.length/20),n=[...new Array(t)].map((()=>[]));for(let r=0;r<t;r++){const t=20*r,i=Math.min(t+20,e.length);n[r]=e.slice(t,i)}return n})(n),o=await Promise.all(i.map((n=>C_({serviceURL:e,point:t,objectIds:n,abortController:r})))),s={};for(const e of o){const{catalogItems:t,properties:n}=e,{features:r}=t,{Values:i}=n;for(let e=0;e<r.length;e++){const t=r[e],n=i[e],o=t.attributes.objectid;let a=!1;const l=n.split(" ").map((e=>!1===E_(e)?(a=!0,null):+e));a||(s[o]=l)}}return n.filter((e=>void 0!==s[e])).map((e=>({objectId:e,values:s[e]})))},vI=()=>{const t=ws(el),n=(0,e.useCallback)((async({point:e,objectIds:t,abortController:n})=>{const r=await(async({point:e,objectIds:t,abortController:n})=>{const r=await gI({serviceURL:na,point:e,objectIds:t,abortController:n});if(!r.length)throw new Error("Failed to fetch pixel values. Please select a location inside of the selected sentinel-2 scene.");if(!r[0]?.values)throw new Error("Identify task does not return band values");return r[0].values})({point:e,objectIds:t,abortController:n});return r}),[]);return yI(n),"spectral"!==t?null:e.createElement(fI,{spectralProfileDataByLandCoverTypes:mI,bandNames:oa})},bI=({acquisitionMonth:t,acquisitionYear:n,selectedTrendOption:r,shouldShowCloseButton:i,closeButtonOnClick:o,trendOptionOnChange:s})=>{const{t:a}=$(),l=(t=>{const{t:n}=$(),r=(0,e.useMemo)((()=>[{value:"year-to-year",label:n("yearly")},{value:"month-to-month",label:n("monthly")}].map((e=>({...e,selected:t===e.value})))),[t]);return r})(r);return e.createElement("div",{className:"prfile-control-tools"},e.createElement("div",{className:"flex items-center select-none"},e.createElement("span",{className:"ml-2 text-custom-light-blue-50 text-xs uppercase"},a("time"),":"),e.createElement("div",{className:"mx-1 min-w-[80px]"},e.createElement(lA,{data:l,onChange:e=>{s(e)}})),e.createElement("div",{className:"p-1 text-xs bg-custom-background uppercase mx-1 px-1"},"year-to-year"===r?Zr(t):n),i&&e.createElement("div",{className:"shrink-0 flex items-center cursor-pointer",onClick:o},e.createElement(pT,{content:a("clear_map_selection")},e.createElement(aw,{icon:"x-circle",scale:"s"})))))},wI=()=>{const t=bs(),n=ws(c_),r=ws(u_),i=ws(d_),o=ws(o_);return e.createElement(bI,{acquisitionMonth:r,acquisitionYear:i,selectedTrendOption:o,shouldShowCloseButton:null!==n,trendOptionOnChange:e=>{t(Vi(e))},closeButtonOnClick:()=>{t(oM())}})},_I=({options:t,tooltipText:n})=>{const{t:r}=$(),i=bs(),o=ws(i_);return e.createElement(UT,{title:r("trend"),dropdownListOptions:t,selectedValue:o,dropdownMenuSelectedItemOnChange:e=>{i(zi(e))},tooltipText:n})},SI=e=>e.Landsat.missionsToBeExcluded,xI=(t,n)=>{const r=bs(),i=ws(el),o=ws(c_),s=ws(u_),a=ws(d_),l=ws(o_),c=ws(SI),{objectIdOfSelectedScene:u}=ws(Ba)||{},d=(0,e.useCallback)(As((()=>{r(((e,t)=>async(n,r)=>{const i=r(),o=c_(i),{objectIdOfSelectedScene:s}=Ba(i),a=u_(i),l=d_(i),c=o_(i);if(n($i(null)),!o||!s)return n(oM());iM&&iM.abort(),iM=new AbortController,n(Bi(!0));try{if(!await t(o,s,iM))throw new Error("Temporal profiles are only available for points selected within the selected scene.");const r=await e(o,"year-to-year"===c?a:null,"month-to-month"===c?l:null,iM);n(Ui(r)),n(Bi(!1))}catch(e){if("AbortError"===e.name)return;n($i(e?.message||"failed to fetch data for temporal profile tool")),n(Bi(!1))}})(t,n))}),50),[t,n]);(0,e.useEffect)((()=>{(async()=>{"trend"===i&&"year-to-year"===l&&d()})()}),[s,o,i,l,c]),(0,e.useEffect)((()=>{(async()=>{"trend"===i&&"month-to-month"===l&&d()})()}),[a,o,i,l,c])},MI=()=>{const t=ws(r_),n=ws(i_),r=ws(o_),i=(0,e.useMemo)((()=>((e,t,n)=>{if(!e||!e.length)return[];const r=e.map((e=>{const{acquisitionDate:r,values:i}=e;let o=A_(t,i);o=Math.max(o,-1),o=Math.min(o,1);const s=`${$n(r,zn)}: ${o.toFixed(2)}`;return{x:n?e.acquisitionMonth:e.acquisitionDate,y:o,tooltip:s}}));return r})(t,n,"month-to-month"===r)),[t,n,r]);return i},AI=({chartData:t,customDomain4YScale:n,trendToolOption:r,acquisitionYear:i,selectedAcquisitionDate:o,onClickHandler:s})=>{const{t:a}=$(),l=(0,e.useMemo)((()=>{if(!t.length)return null;if("month-to-month"===r)return[1,12];let e=t[t.length-1].x;"year-to-year"===r&&o&&(e=Math.max(Gn(o),t[t.length-1].x));return[t[0].x,e]}),[t,o,r]),c=(0,e.useMemo)((()=>{if(!t||!t.length)return[];const e=t.map((e=>e.y)),[n,r]=(e=>{const t=[];for(let n=0;n<e.length;n++)t.push(n);const n=t.reduce(((e,t)=>e+t),0)/t.length,r=e.reduce(((e,t)=>e+t),0)/e.length;let i=0,o=0;for(let s=0;s<t.length;s++)i+=(t[s]-n)*(e[s]-r),o+=(t[s]-n)**2;const s=i/o,a=r-s*n;return[a,t[t.length-1]*s+a]})(e);return[{y1:n,y2:r}]}),[t]);return t&&t.length?e.createElement("div",{className:"relative w-full h-full",style:{"--axis-tick-line-color":"var(--custom-light-blue-50)","--axis-tick-text-color":"var(--custom-light-blue-50)","--crosshair-reference-line-color":"var(--custom-light-blue-50)","--vertical-reference-line-color":"var(--custom-light-blue-70)","--horizontal-reference-line-color":"var(--custom-light-blue-80)","--horizontal-reference-line-stroke-dasharray":"2 2","--tooltip-text-font-size":".725rem","--tooltip-text-color":"var(--custom-light-blue-70)","--tooltip-background-color":"var(--custom-background-95)","--tooltip-border-color":"var(--custom-light-blue-50)"}},e.createElement(aI.LineChartBasic,{data:t,showTooltip:!0,stroke:"var(--custom-light-blue)",strokeWidth:1.5,margin:{bottom:30,left:45,right:20,top:15},yScaleOptions:{domain:n},xScaleOptions:{useTimeScale:"year-to-year"===r,domain:l},bottomAxisOptions:{numberOfTicks:"year-to-year"===r?5:8,tickFormatFunction:e=>e?"year-to-year"===r?$n(e,"yyyy"):Zr(e).slice(0,1):""},verticalReferenceLines:(()=>{if(!o||!t.length)return null;const e=Gn(o);return"month-to-month"===r?Hn(o)===i?[{x:Wn(o),tooltip:`${a("selected_image")}: <br />${$n(e,Un)}`}]:[]:[{x:e,tooltip:`${a("selected_image")}: <br />${$n(e,Un)}`}]})(),horizontalReferenceLines:c,onClick:s})):null},TI=({chartData:t,customDomain4YScale:n})=>{const r=bs(),i=ws(c_),o=ws(d_),s=ws(r_),a=ws(Wa),l=ws(o_),c=ws(a_),u=ws(l_),{t:d}=$(),h=(0,e.useMemo)((()=>c?d("fetching_temporal_profile_data"):s.length?"":d("select_scene_and_click_location")),[s,c]);return h?e.createElement("div",{className:"h-full w-full flex items-center justify-center text-center"},c&&e.createElement(cw,{inline:!0}),e.createElement("p",{className:"text-sm opacity-50 ml-1"},h)):u?e.createElement("div",{className:"text-center pt-8"},e.createElement("span",{className:"opacity-50 text-sm"},u)):e.createElement(AI,{chartData:t,customDomain4YScale:n,trendToolOption:l,acquisitionYear:o,selectedAcquisitionDate:a?.acquisitionDate,onClickHandler:e=>{const t=s[e];t&&(r(Ct([i.x,i.y])),r(il(null)),r(ol(t.formattedAcquisitionDate,!0)))}})},II=()=>{const t=MI(),n=(t=>{const n=(0,e.useMemo)((()=>{const e=t.map((e=>e.y));let n=Math.min(...e),r=Math.max(...e);const i=r-n;return n-=.1*i,r+=.1*i,[n,r]}),[t]);return n})(t);return e.createElement(TI,{chartData:t,customDomain4YScale:n})},CI=async({queryLocation:e,acquisitionMonth:t,acquisitionYear:n,abortController:r})=>{const{x:i,y:o}=e;let s=[];if(t?s=await K_({mapPoint:[i,o],acquisitionMonth:t,abortController:r}):n&&(s=await K_({mapPoint:[i,o],acquisitionDateRange:Gr(n),abortController:r})),!s.length)return[];const a=(e=>{if(!e.length)return[];const t=[e[0]];for(let n=1;n<e.length;n++){const r=t[t.length-1],i=e[n];r?.acquisitionYear===i.acquisitionYear&&r?.acquisitionMonth===i.acquisitionMonth?i.cloudCover<r.cloudCover&&(t.pop(),t.push(i)):t.push(i)}return t})(s.map((e=>M_(e)))),l=await gI({serviceURL:na,point:e,objectIds:a.map((e=>e.objectId)),abortController:r}),c=((e,t)=>{const n=[],r=new Map;for(const e of t)r.set(e.objectId,e);for(let t=0;t<e.length;t++){const i=e[t],{objectId:o,values:s}=i;if(!1===r.has(o))continue;const{acquisitionDate:a,acquisitionMonth:l,acquisitionYear:c,formattedAcquisitionDate:u}=r.get(o);n.push({objectId:o,acquisitionDate:a,acquisitionMonth:l,acquisitionYear:c,formattedAcquisitionDate:u,values:s})}return n})(l,a);return c},EI=()=>{const t=ws(el),{t:n}=$(),r=(0,e.useCallback)((async(e,t,n)=>await Q_(e,t,n)),[]),i=(0,e.useCallback)((async(e,t,n,r)=>await CI({queryLocation:e,acquisitionMonth:t,acquisitionYear:n,abortController:r})),[]);return xI(i,r),(()=>{const t=bs(),{rasterFunctionName:n,acquisitionDate:r,objectIdOfSelectedScene:i}=ws(Ba)||{};(0,e.useEffect)((()=>{if(!r)return void t(rM(null));const e=Wn(r),n=Hn(r);t(ji(e)),t(Zi(n))}),[r])})(),"trend"!==t?null:e.createElement("div",{className:"w-full h-full"},e.createElement(_I,{options:[{value:"moisture",label:n("moisture")},{value:"water",label:n("water")},{value:"vegetation",label:n("vegetation")}],tooltipText:n("temporal_profile_tooltip")}),e.createElement("div",{className:"w-full h-[120px] my-2"},e.createElement(II,null)),e.createElement(wI,null))},kI={[is.PublishScene]:{title:"publish_scene_hosted_imagery",action:"Publish",inputName:"scene",outputName:"publish_output_imagery_layer",requireUniqueOutputName:!0,description:"publish_scene_description"},[is.PublishIndexMask]:{title:"publish_index_mask_hosted_imagery",action:"Publish",inputName:"index_mask",outputName:"publish_output_imagery_layer",requireUniqueOutputName:!0,description:"publish_index_mask_description"},[is.PublishChangeDetection]:{title:"publish_change_detection_hosted_imagery",action:"Publish",inputName:"change_detection",outputName:"publish_output_imagery_layer",requireUniqueOutputName:!0,description:"publish_change_detection_description"},[is.SaveWebMappingApp]:{title:"publish_current_state_web_app",action:"Publish",inputName:"current_state",outputName:"publish_output_web_application",requireUniqueOutputName:!1,description:"publish_web_app_description"},[is.SaveWebMap]:{title:"publish_scene_webmap",action:"Publish",inputName:"scene",outputName:"publish_output_web_map",requireUniqueOutputName:!1,description:"publish_webmap_description"},[is.SaveWebMapWithMultipleScenes]:{title:"publish_multi_layers_webmap",action:"Publish",inputName:"scenes",outputName:"publish_output_multi_layers_map",requireUniqueOutputName:!1,description:"publish_multi_layers_webmap_description"},[is.SaveWebMapWithMultipleScenesInSingleLayer]:{title:"publish_single_layer_webmap",action:"Publish",inputName:"scenes",outputName:"publish_output_single_layer_map",requireUniqueOutputName:!1,description:"publish_single_layer_webmap_description"}},PI={[os.PendingCheckingCost]:"job_status_pending_checking_cost",[os.PendingUserApprovalForActualCost]:"job_status_pending_user_approval",[os.Submitted]:"job_status_submitted",[os.New]:"job_status_new",[os.Executing]:"job_status_executing",[os.Cancelled]:"job_status_cancelled",[os.Cancelling]:"job_status_cancelled",[os.Failed]:"job_status_failed",[os.Succeeded]:"job_status_succeeded",[os.TimedOut]:"job_status_timed_out",[os.Waiting]:"job_status_waiting",[os.Expired]:"job_status_expired"},RI={[is.PublishScene]:"job_type_publish_scene",[is.PublishIndexMask]:"job_type_publish_index_mask",[is.PublishChangeDetection]:"job_type_publish_change_detection",[is.SaveWebMappingApp]:"job_type_save_web_app",[is.SaveWebMap]:"job_type_save_web_map",[is.SaveWebMapWithMultipleScenesInSingleLayer]:"job_type_save_web_map_with_multiple_scenes",[is.SaveWebMapWithMultipleScenes]:"job_type_save_web_map_with_multiple_scenes"},OI={"--calcite-color-brand":"var(--calcite-color-green-060)","--calcite-color-brand-hover":"var(--calcite-color-green-070)"},NI=({job:t,acceptCreditsButtonOnClick:n,cancelButtonOnClick:r})=>{const{t:i}=$(),o=i(PI[t.status]);if(t.status===os.PendingUserApprovalForActualCost)return e.createElement("div",null,e.createElement("div",{className:"mb-1","data-testid":"job-cost-info","data-actual-cost":t?.actualCost||void 0},i("required_credits"),": ",t.actualCost),e.createElement("div",{className:"flex items-center",style:OI},e.createElement("div",{className:"mr-2"},e.createElement("span",{className:"underline cursor-pointer uppercase","data-testid":"reject-credits-button",onClick:()=>{r(t)}},i("cancel"))),e.createElement(iw,{scale:"s",width:"half","data-testid":"accept-credits-button",onClick:()=>{n(t)}},e.createElement("span",{className:"uppercase"},i("accept")))));if(t.status!==os.Succeeded){let n=t.progress||0;n=Math.min(n,99);const r=t.status===os.Executing?`(${n}%)`:"";return e.createElement("div",{className:""},e.createElement("span",null,o," ",r))}return e.createElement("div",{style:OI},e.createElement(iw,{width:"full","icon-start":"launch",href:(s=t.outputItemId,`${Ma()}/home/item.html?id=${s}`),target:"_blank","data-testid":"open-job-output-button"},i("open")));var s},LI=({job:t})=>{const n=RI[t.type],{t:r}=$(),i=(0,e.useMemo)((()=>t.errormessage?t.errormessage:t.type===is.SaveWebMappingApp||t.type===is.SaveWebMapWithMultipleScenes||t.type===is.SaveWebMapWithMultipleScenesInSingleLayer?null:t.sceneId||r("no_selected_scene")),[t]);return t.status===os.Submitted&&t.publishToHostedImageryService&&void 0===t.outputItemId?e.createElement("p",null,r("submitting_raster_analysis_job")):e.createElement("div",{className:" "},e.createElement("div",{className:""},r(n)),i&&e.createElement("div",{className:" italic break-words max-w-[480px]"},e.createElement("span",null,i)))},DI=({job:t})=>{const n=(0,e.useMemo)((()=>t.status===os.Succeeded?e.createElement(aw,{icon:"check",scale:"s"}):t.status===os.Failed?e.createElement(aw,{icon:"exclamation-mark-circle",scale:"s"}):e.createElement(cw,{inline:!0})),[t]);return e.createElement("div",{className:"flex justify-center items-center"},n)},FI=({data:t,deleteButtonOnClick:n,acceptCreditsButtonOnClick:r,cancelButtonOnClick:i})=>{const{t:o}=$(),s=(0,e.useMemo)((()=>t.sort(((e,t)=>t.createdAt-e.createdAt))),[t]);return t.length?e.createElement("div",null,s.map(((t,o)=>e.createElement("div",{key:t.id,"data-testid":`job-list-item-${o}`,"data-job-status":t.status,"data-job-type":t.type,className:"w-full grid gap-1 items-center text-custom-light-blue text-sm my-4",style:{gridTemplateColumns:"50px 1fr 150px 60px"}},e.createElement(DI,{job:t}),e.createElement(LI,{job:t}),e.createElement(NI,{job:t,acceptCreditsButtonOnClick:r,cancelButtonOnClick:i}),e.createElement("div",{className:"flex justify-center items-center cursor-pointer",onClick:()=>n(t.id)},e.createElement(aw,{icon:"x",scale:"s"})))))):e.createElement("div",{className:"text-center w-full opacity-50","data-testid":"no-pending-jobs"},o("no_pending_jobs"))},jI=()=>{if(Aa())return!1;const e=Ia();if(!e)return!1;const{role:t,privileges:n,orgId:r}=e||{},i="org_admin"===t||"org_publisher"===t||n&&n.some((e=>e.endsWith("createItem")))||null==r;return i},ZI=e=>e.replace(/[^a-zA-Z0-9_]/g,"_"),UI="https://rasteranalysis.arcgis.com/arcgis/rest/services/RasterAnalysisTools/GPServer";let zI=function(e){return e.EstimateRasterAnalysisCost="EstimateRasterAnalysisCost",e.GenerateRaster="GenerateRaster",e}({});const VI=e=>{if(!e)return!1;return"GISProfessionalStdUT"===e||"GISProfessionalAdvUT"===e},BI=async e=>{const t=`${Ma()}/sharing/rest/community/users/${e}`,n=new URLSearchParams({f:"json",returnUserLicensedItems:"true",token:Ta()}),r=await fetch(t+"?"+n.toString()),i=await r.json();return{userLicenseTypeId:i?.userLicenseTypeId||null,availableCredits:i?.availableCredits||0}},$I=async({title:e,snippet:t,rasterFunction:n,description:r,accessInformation:i,licenseInfo:o,cost:s})=>{const a=Ta(),l=Ia();if(!n||!e)throw new Error("serviceUrl, objectId, and outputServiceName are required parameters");const{userLicenseTypeId:c,availableCredits:u}=await BI(l.username);if(!1===VI(c))throw new Error("User does not have the required license to use raster analysis");if(u<s)throw new Error("User does not have enough credits to run this raster analysis job");const d=await(async(e,t)=>{const n=Ca(),{user:r}=n,i=r?.username;if(!t||!i)throw new Error("User is not authenticated");if(!1===jI())throw new Error("User does not have the privileges to publish content");const o=ZI(e),s=new URLSearchParams({createParameters:JSON.stringify({name:o,description:"",capabilities:"Image",properties:{isCached:!0,path:"@",description:"",copyright:""}}),outputType:"imageService",f:"json",token:t}),a=`${Rn}/content/users/${i}/createService`,l=await fetch(a,{method:"POST",body:s}),c=await l.json();if(c.error)throw c.error;if(!c?.success)throw c;return c})(e,a),h=UI+`/${zI.GenerateRaster}/submitJob`,p=new URLSearchParams({f:"json",token:a,outputType:"dynamicLayer",rasterFunction:JSON.stringify(n),OutputName:JSON.stringify({serviceProperties:{name:d.name,capabilities:"Image",serviceUrl:d.serviceurl},itemProperties:{itemId:d.itemId}})}),f=await fetch(h,{method:"POST",body:p}),m=await f.json();if(m.error)throw m.error;return await(async({id:e,title:t,snippet:n,description:r,accessInformation:i,licenseInfo:o})=>{const s=Ta(),a=Ia();if(!s||!a)throw new Error("Cannot update item without token or signed in user");const l=new URLSearchParams({token:s,f:"json"});t&&l.append("title",t),n&&l.append("snippet",n),r&&l.append("description",r),i&&l.append("accessInformation",i),o&&l.append("licenseInfo",o);const{username:c}=a,u=`${Rn}/content/users/${c}/items/${e}/update`,d=await fetch(u,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l}),h=await d.json();if(h.error)throw new Error(h.error.message);return h})({id:d.itemId,title:e,snippet:t,description:r,accessInformation:i,licenseInfo:o}),{rasterAnalysisJobId:m.jobId,outputServiceUrl:d.serviceurl,outputItemId:d.itemId}},GI=e=>async t=>{await pa(e),t(us(e))},qI=e=>async t=>{const n={...e,updatedAt:Date.now()};await da(n),t(ds(n))},HI=({publishJobSubmitHandler:t})=>{const{t:n}=$(),r=ws(cS),i=bs();return e.createElement("div",{className:"w-full mt-16"},e.createElement("div",{className:"grid items-center mb-6 pb-1 border-b border-custom-light-blue-25",style:{gridTemplateColumns:"1fr 150px 60px"}},e.createElement("div",{className:"uppercase text-lg"},n("task_history")),e.createElement("div",{className:"text-sm opacity-50"},n("status")),e.createElement("div",{className:"text-sm opacity-50 cursor-pointer underline",title:"Remove all pending jobs","data-testid":"clear-all-jobs-button",onClick:()=>{i((async e=>{await fa(),e(hs())}))}},n("clear_all"))),e.createElement(FI,{data:r,deleteButtonOnClick:e=>{i(GI(e))},acceptCreditsButtonOnClick:e=>{t(e)},cancelButtonOnClick:e=>{i(GI(e.id))}}))},WI=({subHeader:t,signedIn:n,signInButtonOnClick:r})=>{const{t:i}=$(),o=e.useRef(null);return(0,e.useEffect)((()=>{if(!o.current)return;const e=o.current.querySelector(".sign-in-button");e&&e.addEventListener("click",(()=>{r()}))}),[]),e.createElement("div",{className:"w-full"},e.createElement("div",{className:" text-center mb-6"},e.createElement("h4",{className:" text-2xl text-custom-light-blue mb-3"},i("save_options")),t&&e.createElement("p",{className:"text-sm opacity-50"},t)),e.createElement("div",{className:"flex justify-center"},e.createElement("div",{ref:o,className:Za()(" text-sm",{"opacity-50":n}),dangerouslySetInnerHTML:{__html:i(n?"dialog_can_be_closed":"sign_in_to_save_jobs_description")}})))},JI="w-full grid grid-cols-save-option-list gap-4 md:gap-12 items-center",KI=({title:t,subtitle:n,desciprtion:r,message:i,disabled:o,onClick:s})=>{const{t:a}=$();return e.createElement("div",{className:Za()(JI,"my-6",{"opacity-50 pointer-events-none":o})},e.createElement("div",null,e.createElement(_A,{onClickHandler:s},e.createElement("div",{className:"text-center "},e.createElement("span",{className:"uppercase"},t),e.createElement("br",null),e.createElement("span",{className:" normal-case text-sm"},n)))),e.createElement("div",{className:" text-sm"},e.createElement("span",{dangerouslySetInnerHTML:{__html:i||r}})," "))},YI=({title:t})=>{const{t:n}=$();return e.createElement("div",{className:Za()(JI,"mb-6 border-b pb-1 border-custom-light-blue-25")},e.createElement("div",{className:"uppercase text-lg"},t),e.createElement("div",{className:"opacity-50"},n("about")))},XI=({onSignIn:t,onSignOut:n,onSwitchAccount:r})=>{const{t:i}=$(),o=Ia(),s=Aa()?null:`${Ma()}/home/user.html#settings`;return e.createElement("div",{className:"signed-in-user-header-container fixed top-3 left-3 flex items-center"},o?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-[60px] h-[60px] border-[2px] border-custom-light-blue rounded-full z-10",style:{backgroundImage:`url(${o?.thumbnailUrl})`,backgroundSize:"cover"},title:o.fullName}),e.createElement("div",{className:"ml-2 z-10"},e.createElement("div",{className:" "},e.createElement("h4",{className:"hover:underline"},e.createElement("a",{href:s,target:"_blank",rel:"noreferrer"},o.fullName)),e.createElement("h5",{className:"text-sm"},o.portal.name),e.createElement("div",{className:"flex items-center text-sm"},e.createElement("span",{className:"underline cursor-pointer",onClick:n},i("log_out")),e.createElement("span",{className:"underline cursor-pointer ml-2",onClick:r},i("switch_account")))))):e.createElement("span",{className:"underline cursor-pointer z-10",onClick:t,title:i("sign_in_to_your_account"),"data-testid":"sign-in-button"},i("sign_in")))},QI=(t,n)=>{const{t:r}=$();return(0,e.useMemo)((()=>{const e=t.trim();if(!t||!e)return{isValid:!1,message:r("enter_a_value")};if(t.length>n){return{isValid:!1,message:r("text_too_long",{maxLength:n.toString()})}}return/[!@#$^*<>{}?+=~`"/\\]/.test(e)?{isValid:!1,message:r("remove_special_characters")}:{isValid:!0,message:""}}),[t])},eC="w-full bg-transparent border border-custom-light-blue-50 p-2 text-sm outline-none placeholder:text-custom-light-blue-25 focus:border-custom-light-blue",tC=({saveJobType:t,sceneIds:n,satellite:r,closeButtonOnClick:i,saveButtonOnClick:o})=>{const{t:s}=$(),a=kI[t],{defaultTitle:l,defaultSummary:c}=((e,t,n)=>{const{title:r}=kn,i=r.split(" | ")[1]||r,o=t[0]||"N/A",s=t[1]||"N/A",a={[is.SaveWebMappingApp]:`${i} View`,[is.SaveWebMap]:`${n} Scene - ${o}`,[is.SaveWebMapWithMultipleScenes]:`${n} Scenes - Individual layers per scene`,[is.SaveWebMapWithMultipleScenesInSingleLayer]:`${n} Scenes - A single layer with multiple scenes`,[is.PublishScene]:`${n} Scene - ${o}`,[is.PublishIndexMask]:`${n} Index Mask - ${o}`,[is.PublishChangeDetection]:`${n} Change Detection - ${o} - ${s}`},l={[is.SaveWebMappingApp]:`An instance of the ${i} app.`,[is.SaveWebMap]:`Web map created by ${i}. Scene ID: ${o}`,[is.SaveWebMapWithMultipleScenes]:`Web map created by ${i}.`,[is.SaveWebMapWithMultipleScenesInSingleLayer]:`Web map created by ${i}.`,[is.PublishScene]:`Hosted Imagery Service created by ${i}. Scene ID: ${o}`,[is.PublishIndexMask]:`Hosted Imagery Service created by ${i}. Scene ID: ${o}`,[is.PublishChangeDetection]:`Hosted Imagery Service created by ${i}. Scene IDs: ${o} | ${s}`};return{defaultTitle:a[e],defaultSummary:l[e]}})(t,n,r),[u,d]=(0,e.useState)(l),[h,p]=(0,e.useState)(c),[f,m]=(0,e.useState)(!0),[y,g]=(0,e.useState)(!1),v=QI(u,98),b=QI(h,2048),w=(0,e.useRef)(null),_=async e=>{clearTimeout(w.current),g(!0),w.current=setTimeout((async()=>{try{const t=ZI(e);if(t.length>98)return;if(!1===v.isValid)return;const n=await(async e=>{const t=Ta(),n=Ca(),r=`${Rn}/portals/${n.id}/isServiceNameAvailable`,i=new URLSearchParams({f:"json",name:e,type:"Image Service",includeitemid:"false",token:t}),o=await fetch(`${r}?${i.toString()}`);if(!o.ok)throw new Error("Failed to check if the service name is available");const s=await o.json();return s?.available||!1})(t);m(n)}catch(e){m(!1)}g(!1)}),1e3)},S=""===u||""===h||y||!1===f||!1===v.isValid||!1===b.isValid;return(0,e.useEffect)((()=>{!1!==a.requireUniqueOutputName&&""!==u&&_(u)}),[u,a.requireUniqueOutputName]),e.createElement("div",{className:"fixed top-0 left-0 w-full h-full bg-custom-background-90 backdrop-blur-sm z-10 flex justify-center","data-testid":"save-job-dialog"},e.createElement("div",{className:"mx-4 md:max-w-3xl w-full mt-48 "},e.createElement("div",{className:"mb-4 "},e.createElement("h3",{className:"text-xl"},s(a.title))),e.createElement("div",null,e.createElement("h4",{className:"mb-1 font-light text-sm"},s("title")),e.createElement("input",{className:eC,placeholder:"Enter Title",value:u,onChange:e=>d(e.target.value)}),v.isValid&&y&&e.createElement("div",{className:"text-sm text-custom-light-blue-50 mt-2 flex items-center"},e.createElement(cw,{inline:!0}),e.createElement("span",{className:"ml-1"},s("checking_title_availability"),"...")),v.isValid&&!1===f&&!1===y&&e.createElement("div",{className:"text-sm text-red-500 mt-2"},s("name_already_exists")),!1===v.isValid&&e.createElement("div",{className:"text-sm text-red-500 mt-2"},v.message)),e.createElement("div",{className:"mt-4"},e.createElement("h4",{className:"mb-1 font-light text-sm"},s("summary")),e.createElement("input",{className:eC,type:"textarea",placeholder:"Enter summary",value:h,onChange:e=>p(e.target.value)}),!1===b.isValid&&e.createElement("div",{className:"text-sm text-red-500 mt-2"},b.message)),e.createElement("div",{className:" mt-8 flex justify-end items-center"},e.createElement("div",{className:" mr-8 cursor-pointer",onClick:i},e.createElement("span",{className:"uppercase"},s("cancel"))),e.createElement(_A,{onClickHandler:()=>{o(u,h)},scale:"s",appearance:"transparent",disabled:S},s("OK")))))},nC=({sceneIds:t,subHeader:n,publishOptions:r,satellite:i,saveButtonOnClick:o,publishJobSubmitHandler:s})=>{const{t:a}=$(),l=bs(),c=ws(vl),[u,d]=(0,e.useState)(),h=!1===Aa();(0,e.useEffect)((()=>{Ws(c)}),[c]);const p=()=>{Ws(!0),Sa()};return c?e.createElement("div",{className:"absolute top-0 left-0 bottom-0 right-0 bg-custom-background-95 z-20 text-custom-light-blue overflow-y-auto fancy-scrollbar","data-testid":"save-panel"},e.createElement(Rw,{onClick:()=>{l(Ei())}}),e.createElement(XI,{onSignIn:p,onSignOut:()=>{Ws(!1),xa()},onSwitchAccount:()=>{xa()}}),e.createElement("div",{className:"mt-16 md:mt-4 mx-4 md:mx-auto py-12 md:max-w-3xl w-full"},e.createElement(WI,{subHeader:n,signedIn:h,signInButtonOnClick:p}),e.createElement("div",{className:"relative w-full mt-12 mx-auto"},e.createElement("div",{"data-testid":"save-options-list","data-number-of-options":r.length},e.createElement(YI,{title:a("publish")}),r.map((t=>{const{saveJobType:n,disabled:r,message:i}=t,{inputName:o,outputName:s,description:l}=kI[n];return e.createElement("div",{key:n,"data-testid":`save-option-${n}`},e.createElement(KI,{key:n,title:a(o),subtitle:a(s),desciprtion:a(l),disabled:r||!h,message:i,onClick:()=>{d(n)}}))})))),e.createElement(HI,{publishJobSubmitHandler:s})),u?e.createElement(tC,{saveJobType:u,sceneIds:t,satellite:i,closeButtonOnClick:()=>d(void 0),saveButtonOnClick:(e,t)=>{o({saveJobType:u,title:e,summary:t}),d(void 0)}}):null):null},rC=async e=>{const t=Ma(),n=Ia();if(!n)throw new Error("Cannot add item without a signed-in user");const r=Ta();if(!r)throw new Error("Cannot add item in anonymous mode, sign in first");if(!1===jI())throw new Error("User does not have permission to publish content");const i=new URLSearchParams({f:"json",token:r,...e}),o=`${t}/sharing/rest/content/users/${n.username}/addItem`,s=await fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i}),a=await s.json();if(a.error)throw new Error(a.error.message);return a},iC=async(e,t)=>{const n=Ta(),r=UI+`/${t}/jobs/${e}?f=json&token=${n}`,i=await fetch(r),o=await i.json();if(o.error)throw o.error;return o},oC=new Map,sC=async e=>{const t=UI+`/${zI.EstimateRasterAnalysisCost}/jobs/${e}/results/outCost?f=json&returnType=data&token=${Ta()}`,n=await fetch(t),r=await n.json();if(r.error)throw r.error;return r},aC=async e=>{const t=Ta(),n=new URLSearchParams({f:"json",inputAnalysisTask:JSON.stringify({name:zI.GenerateRaster,parameters:{rasterFunction:e},outputName:{serviceProperties:{name:"temp-layer",capabilities:"Image, TilesOnly"},itemProperties:{description:"Output generated from running Clip raster function template",snippet:"Output generated from running Clip raster function template",folderId:""}}}),token:t}),r=UI+`/${zI.EstimateRasterAnalysisCost}/submitJob`,i=await fetch(r,{method:"POST",body:n}),o=await i.json();if(o.error)throw o.error;if(!o.jobId)throw new Error("Failed to create job for estimating cost");return o.jobId},lC=t=>{const n=bs(),r=(0,e.useRef)(null),i=ws(uS),o=async e=>{try{const r=await(async e=>{const t=JSON.stringify(e);let n=oC.get(t);n||(n=await aC(e),oC.set(t,n));const r=await iC(n,zI.EstimateRasterAnalysisCost);if(r.jobStatus===os.Succeeded)return{credits:(await sC(n)).value.credits,succeeded:!0};if(r.jobStatus===os.Failed||r.jobStatus===os.Cancelled||r.jobStatus===os.TimedOut||r.jobStatus===os.Expired)throw new Error("Failed to estimate cost");return{credits:0,succeeded:!1}})(e.rasterFunction);if(!r.succeeded)return;const i=r.credits,o={...e,actualCost:i};i>0?n(qI({...o,status:os.PendingUserApprovalForActualCost})):t(o)}catch(t){n(qI({...e,status:os.Failed,errormessage:t.message}))}};(0,e.useEffect)((()=>{if(r.current&&clearInterval(r.current),i.length)return r.current=setInterval((()=>{i.forEach((e=>{o(e)}))}),15e3),()=>clearInterval(r.current)}),[i])},cC=()=>{const t=bs(),n=ws(dS),r=(0,e.useRef)(null);(0,e.useEffect)((()=>{if(r.current&&clearInterval(r.current),n.length)return r.current=setInterval((()=>{n.forEach((e=>{(async e=>{const n={...e};try{const t=await iC(e.rasterAnanlysisJobId,e.rasterAnalysisTaskName);if(!t.jobStatus)throw new Error("Job status not found");n.status=t.jobStatus,n.progress=t?.progress?.percent||0}catch(e){n.status=os.Failed,n.errormessage=e.message}t(qI(n))})(e)}))}),15e3),()=>clearInterval(r.current)}),[n])},uC=({originalServiceUrl:t,serviceName:n,sceneIds:r,publishOptions:i,tags:o,description:s,accessInformation:a,licenseInfo:l,licenseInfoForHostedImageryService:c,publishSceneRasterFunction:u,publishIndexMaskRasterFunction:d,publishChangeDetectionRasterFunction:h})=>{const{t:p}=$(),f=bs(),m=(()=>{const t=ws(Wa),n=ws(Ja),r=ws(Ga),i=ws(Ya),o=ws(el),s=e.useMemo((()=>{let e=[];return"find a scene"===i?e=[t]:"swipe"===i?e=[t,n]:"animate"===i?e=[...r]:"analysis"===i&&(e="change"===o?[t,n]:[t]),e.filter((e=>null!==e.objectIdOfSelectedScene&&void 0!==e.objectIdOfSelectedScene)).map((e=>({objectId:e.objectIdOfSelectedScene,acquisitionDate:e.acquisitionDate})))}),[i,o,t,n,r]);return s})(),y=(()=>{const t=mA();return(0,e.useMemo)((()=>t.find((e=>e.appName===En))?.title||"Imagery Explorer"),[])})(),g=e=>{e&&f((({job:e,description:t,accessInformation:n,licenseInfo:r})=>async i=>{try{const{title:o,summary:s,rasterFunction:a}=e;if(!a)throw new Error("Failed to create raster function");const l={...e,status:os.Submitted};i(qI(l));const c=await $I({title:o,snippet:s,rasterFunction:a,cost:e.actualCost,description:t,accessInformation:n,licenseInfo:r});i(qI({...l,rasterAnanlysisJobId:c.rasterAnalysisJobId,rasterAnalysisTaskName:"GenerateRaster",outputURL:c.outputServiceUrl,outputItemId:c.outputItemId}))}catch(t){i(qI({...e,status:os.Failed,errormessage:`Failed to publish scene: ${t.message||"unknown error"}`}))}})({job:e,description:s,accessInformation:a,licenseInfo:c}))};cC(),lC(g);const v=(0,e.useMemo)((()=>m.length>1?p("multiple_scenes_selected"):r[0]?`${p("scene_id")}: ${r[0]}`:null),[m.length,r]),b=async e=>{try{const r=e.title,i=e.summary;let c=null;if(e.type===is.SaveWebMappingApp){const e='<i>This Web Mapping Application item provides a saved "view" or state of the {{APP_NAME}} app. These items can be used to save and share exactly what you were seeing in the app. From visualizations, like swipe and animate, to analysis results such as change detection. Fill in your own description here if you wish to persist and/or share this item with others. Common use cases include saving and sharing current events.</i>'.replace("{{APP_NAME}}",y);c=await(async({title:e,snippet:t,tags:n,description:r,accessInformation:i,licenseInfo:o})=>{const s={typeKeywords:["Web Map","Map","Online Map","Mapping Site"].join(","),type:"Web Mapping Application",applicationType:"web",url:window.location.href,title:e,snippet:t,tags:n?.join(",")||"",description:r,accessInformation:i,licenseInfo:o};return await rC(s)})({title:r,snippet:i,tags:o,licenseInfo:l,description:e})}else e.type!==is.SaveWebMap&&e.type!==is.SaveWebMapWithMultipleScenes&&e.type!==is.SaveWebMapWithMultipleScenesInSingleLayer||(c=await(async({title:e,snippet:t,tags:n,serviceUrl:r,serviceName:i,scenes:o,singleLayerWithMultipleScenes:s,description:a,accessInformation:l,licenseInfo:c})=>{if(!o||0===o.length)throw new Error("No selected scene to save");const u=Ta();if(!u)throw new Error("No token found");const d=await O_({serviceUrl:r,objectId:o[0].objectId,token:u,outputSpatialReference:4326}),h=(({scenes:e,serviceUrl:t,serviceName:n,singleLayerWithMultipleScenes:r})=>{if(r){const r=`${n} - Multiple Scenes`;return[{id:r,title:r,url:t,mosaicRule:{ascending:!0,lockRasterIds:e.map((e=>e.objectId)),mosaicMethod:"esriMosaicLockRaster"},layerDefinition:{definitionExpression:`objectid in (${e.map((e=>e.objectId)).join(",")})`,activePresetRendererName:""},layerType:"ArcGISImageServiceLayer",timeAnimation:!1}]}return e.map((e=>{const r=`${n} - Single Scene ${e.acquisitionDate}`;return{id:r,title:r,url:t,mosaicRule:{ascending:!0,lockRasterIds:[e.objectId],mosaicMethod:"esriMosaicLockRaster"},layerDefinition:{definitionExpression:`objectid in (${e.objectId})`,activePresetRendererName:""},layerType:"ArcGISImageServiceLayer",timeAnimation:!1}}))})({scenes:o,serviceUrl:r,serviceName:i,singleLayerWithMultipleScenes:s}),p={extent:JSON.stringify([[d.xmin,d.ymin],[d.xmax,d.ymax]]),tags:n.join(","),title:e,snippet:t,type:"Web Map",typeKeywords:"ArcGIS API for JavaScript",text:JSON.stringify({operationalLayers:h,baseMap:{baseMapLayers:[{id:"World_Topographic_Map",opacity:1,title:"World Topographic Map",visibility:!0,layerType:"VectorTileLayer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json"}],title:"Topographic"},authoringApp:"Esri Imagery Explorer Apps",initialState:{viewpoint:{targetGeometry:d}},spatialReference:{latestWkid:3857,wkid:102100},timeZone:"system",version:"2.32"}),description:a,accessInformation:l,licenseInfo:c};return await rC(p)})({title:r,snippet:i,tags:o,serviceUrl:t,serviceName:n,scenes:m,singleLayerWithMultipleScenes:e.type===is.SaveWebMapWithMultipleScenesInSingleLayer,description:s,accessInformation:a,licenseInfo:l}));if(!c)throw new Error("Failed to create ArcGIS Online item");f(qI({...e,status:os.Succeeded,outputItemId:c.id}))}catch(t){f(qI({...e,status:os.Failed,errormessage:`${t.message||"unknown error"}`}))}};return e.createElement(nC,{sceneIds:r,subHeader:v,satellite:n,publishOptions:i,saveButtonOnClick:async({saveJobType:e,title:t,summary:n})=>{const i={[is.PublishScene]:u,[is.PublishIndexMask]:d,[is.PublishChangeDetection]:h}[e]||null,o=await f((({jobType:e,title:t,summary:n,sceneIds:r,rasterFunction:i})=>async o=>{const s=Ia(),a=Date.now(),l=e===is.PublishChangeDetection||e===is.PublishIndexMask||e===is.PublishScene,c=l?os.PendingCheckingCost:os.Submitted,u=r?.[0]||"N/A",d={id:Cs(5),type:e,title:t,summary:n,status:c,publishToHostedImageryService:l,creator:s?.username||"anonymous",createdAt:a,updatedAt:a,sceneId:u,appName:En,rasterFunction:i};return await ua(d),o(cs(d)),d})({jobType:e,title:t,summary:n,sceneIds:r,rasterFunction:i}));e!==is.SaveWebMappingApp&&e!==is.SaveWebMap&&e!==is.SaveWebMapWithMultipleScenes&&e!==is.SaveWebMapWithMultipleScenesInSingleLayer||b(o)},publishJobSubmitHandler:g})},dC=()=>{const[t,n]=e.useState(!1),[r,i]=e.useState(!1),[o,s]=e.useState(!1),[a,l]=e.useState(null),c=(()=>{if(Aa())return null;const e=Ia();return e?.orgId?"organizational":"public"})(),u=jI();return(0,e.useEffect)((()=>{if("public"===c)return n(!0),i(!1),void s(!1);if(!1===u)return n(!1),i(!1),void s(!1);n(!0),i(!0);const e=!!a&&VI(a?.userLicenseTypeId);s(e)}),[c,u,a]),(0,e.useEffect)((()=>{(async()=>{if("organizational"===c)try{const e=Ia();if(!e)return;const t=await BI(e.username);l(t)}catch(e){}})()}),[c]),{canSaveWebMappingApp:t,canSaveWebMap:r,canPublishHostedImagery:o}},hC=({serviceUrl:e,objectId:t,token:n,clippingGeometry:r,rasterFunctionTemplate:i})=>{if(!r||!t)return null;return{name:"Clip",description:"Sets the extent of a raster using coordinates or another dataset.",function:{type:"ClipFunction",pixelType:"UNKNOWN",name:"Clip",description:"Sets the extent of a raster using coordinates or another dataset."},arguments:{Raster:{name:"Raster",isPublic:!1,isDataset:!0,value:{url:`${e}?token=${n}`,name:"",mosaicRule:{ascending:!1,lockRasterIds:[t],mosaicMethod:"esriMosaicLockRaster",where:`objectid in (${t})`},renderingRule:i?{rasterFunction:i}:void 0},type:"RasterFunctionVariable"},ClippingType:{name:"ClippingType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},ClippingRaster:{name:"ClippingRaster",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},ClippingGeometry:{name:"ClippingGeometry",isPublic:!1,isDataset:!1,value:r,type:"RasterFunctionVariable"},UseInputFeatureGeometry:{name:"UseInputFeatureGeometry",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},type:"ClipFunctionArguments"},functionType:0,thumbnail:"",thumbnailEx:"",help:""}},pC=({serviceUrl:e,objectId:t,token:n,bandIndexes:r,clippingGeometry:i})=>{if(!r||!i||!t)return null;return{name:"Band Arithmetic",description:"Calculates indexes using predefined formulas or a user-defined expression.",function:{type:"BandArithmeticFunction",pixelType:"F32",name:"Band Arithmetic",description:"Calculates indexes using predefined formulas or a user-defined expression."},arguments:{Raster:hC({serviceUrl:e,objectId:t,token:n,clippingGeometry:i}),Method:{name:"Method",isPublic:!1,isDataset:!1,value:0,type:"RasterFunctionVariable"},BandIndexes:{name:"BandIndexes",isPublic:!1,isDataset:!1,value:r,type:"RasterFunctionVariable"},type:"BandArithmeticFunctionArguments"},functionType:0,thumbnail:"",thumbnailEx:"",help:""}},fC=(e,t)=>{let n=e[0],r=e[1];return n<=t[0]&&(n=-1e3),r>=t[1]&&(r=1e3),[n,r]},mC=({originalServiceUrl:t,clippingGeometry:n,fullPixelValueRange:r,bandIndexes:i,rasterFunctionName:o,token:s})=>{const a=ws(Wa),{selectedRange:l}=ws(FM),c=(0,e.useMemo)((()=>a&&a?.objectIdOfSelectedScene&&n?(({serviceUrl:e,objectId:t,token:n,pixelValueRange:r,fullPixelValueRange:i,clippingGeometry:o,bandIndexes:s,rasterFunctionTemplate:a})=>{if(!o||!t)return null;let l=null;return s?l=pC({serviceUrl:e,objectId:t,token:n,bandIndexes:s,clippingGeometry:o}):a&&(l=hC({serviceUrl:e,objectId:t,token:n,clippingGeometry:o,rasterFunctionTemplate:a})),l?{name:"Remap",description:"Changes pixel values by assigning new values to ranges of pixel values or using an external table.",function:{type:"RemapFunction",pixelType:"F32",name:"Remap",description:"Changes pixel values by assigning new values to ranges of pixel values or using an external table."},arguments:{Raster:l,UseTable:{name:"UseTable",isPublic:!1,isDataset:!1,value:!1,type:"RasterFunctionVariable"},InputRanges:{name:"InputRanges",isPublic:!1,isDataset:!1,value:fC(r,i),type:"RasterFunctionVariable"},OutputValues:{name:"OutputValues",isPublic:!1,isDataset:!1,value:[1],type:"RasterFunctionVariable"},Table:{name:"Table",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},InputField:{name:"InputField",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},OutputField:{name:"OutputField",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},InputMaxField:{name:"InputMaxField",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},RemapTableType:{name:"RemapTableType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},AllowUnmatched:{name:"AllowUnmatched",isPublic:!1,isDataset:!1,value:!1,type:"RasterFunctionVariable"},ReplacementValue:{name:"ReplacementValue",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},type:"RemapFunctionArguments"},functionType:0,thumbnail:"",thumbnailEx:"",help:""}:null})({serviceUrl:t,objectId:a?.objectIdOfSelectedScene,token:s,bandIndexes:i,rasterFunctionTemplate:o,pixelValueRange:l,fullPixelValueRange:r,clippingGeometry:n}):null),[n,a?.objectIdOfSelectedScene,o,i,l,r]);return c},yC=({originalServiceUrl:t,clippingGeometry:n,bandIndexes:r,rasterFunctionName:i,logDiff:o,token:s})=>{const a=ws(IM),l=ws(TM),[c,u]=(()=>{const t=ws(Wa),n=ws(Ja),[r,i]=(0,e.useMemo)((()=>{if(!t?.objectIdOfSelectedScene||!t?.objectIdOfSelectedScene)return[];const[e,r]=[t,n].sort(((e,t)=>Gn(e.acquisitionDate)-Gn(t.acquisitionDate)));return[e.objectIdOfSelectedScene,r.objectIdOfSelectedScene]}),[t,n]);return[r,i]})(),d=(0,e.useMemo)((()=>c&&u&&n?(({serviceUrl:e,objectId4EarlierScene:t,objectId4LaterScene:n,token:r,pixelValueRange:i,fullPixelValueRange:o,clippingGeometry:s,bandIndexes:a,rasterFunctionTemplate:l,logDiff:c})=>{if(!s||!t||!n)return null;const u=l?hC({serviceUrl:e,objectId:t,token:r,clippingGeometry:s,rasterFunctionTemplate:l}):pC({serviceUrl:e,objectId:t,token:r,bandIndexes:a,clippingGeometry:s}),d=l?hC({serviceUrl:e,objectId:n,token:r,clippingGeometry:s,rasterFunctionTemplate:l}):pC({serviceUrl:e,objectId:n,token:r,bandIndexes:a,clippingGeometry:s});if(!u||!d)return null;const h=fC(i,o);return c?{name:"Mask",description:"Sets values that you do not want to display.",function:{type:"MaskFunction",pixelType:"F32",name:"Mask",description:"Sets values that you do not want to display."},arguments:{Raster:{name:"Log10",description:"Calculates the base 10 logarithm of cells in a raster.",function:{type:"LocalFunction",pixelType:"F32",name:"Log10",description:"Calculates the base 10 logarithm of cells in a raster."},arguments:{Rasters:{name:"_Rasters",value:{elements:[{name:"Raster",isDataset:!0,isPublic:!1,type:"RasterFunctionVariable",value:{name:"Divide",description:"Divides the values of two rasters on a cell-by-cell basis.",function:{type:"LocalFunction",pixelType:"F32",name:"Divide",description:"Divides the values of two rasters on a cell-by-cell basis."},arguments:{Rasters:{name:"_Rasters",isPublic:!1,isDataset:!1,value:{elements:[{name:"InRaster2",isPublic:!1,isDataset:!0,value:d,type:"RasterFunctionVariable"},{name:"Raster",isPublic:!1,isDataset:!0,value:u,type:"RasterFunctionVariable"}],type:"ArgumentArray"},type:"RasterFunctionVariable"},Operation:{name:"Operation",isPublic:!1,isDataset:!1,value:23,type:"RasterFunctionVariable"},CellsizeType:{name:"CellsizeType",isPublic:!1,isDataset:!1,value:2,type:"RasterFunctionVariable"},ExtentType:{name:"ExtentType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},type:"LocalFunctionArguments"},functionType:0,thumbnail:"",thumbnailEx:"",help:""}}],type:"ArgumentArray"},isDataset:!1,isPublic:!1,type:"RasterFunctionVariable"},Operation:{name:"Operation",isPublic:!1,isDataset:!1,value:36,type:"RasterFunctionVariable"},CellsizeType:{name:"CellsizeType",isPublic:!1,isDataset:!1,value:2,type:"RasterFunctionVariable"},ExtentType:{name:"ExtentType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},type:"LocalFunctionArguments"},functionType:0,thumbnail:"",thumbnailEx:"",help:""},NoDataInterpretation:{name:"NoDataInterpretation",isPublic:!1,isDataset:!1,value:0,type:"RasterFunctionVariable"},NoDataValues:{name:"NoDataValues",isPublic:!1,isDataset:!1,value:[0],type:"RasterFunctionVariable"},IncludedRanges:{name:"IncludedRanges",isPublic:!1,isDataset:!1,value:h,type:"RasterFunctionVariable"},Invert:{name:"Invert",isPublic:!1,isDataset:!1,value:!1,type:"RasterFunctionVariable"},type:"MaskFunctionArguments"},functionType:0,thumbnail:"",thumbnailEx:"",help:""}:{name:"Remap",description:"Changes pixel values by assigning new values to ranges of pixel values or using an external table.",function:{type:"RemapFunction",pixelType:"F32",name:"Remap",description:"Changes pixel values by assigning new values to ranges of pixel values or using an external table."},arguments:{Raster:{name:"Mask",description:"Sets values that you do not want to display.",function:{type:"MaskFunction",pixelType:"F32",name:"Mask",description:"Sets values that you do not want to display."},arguments:{Raster:{name:"Minus",description:"Subtracts the value of the second input raster from the value of the first input raster on a cell-by-cell basis.",function:{type:"LocalFunction",pixelType:"F32",name:"Minus",description:"Subtracts the value of the second input raster from the value of the first input raster on a cell-by-cell basis."},arguments:{Rasters:{name:"_Rasters",isPublic:!1,isDataset:!1,value:{elements:[{name:"InRaster2",isPublic:!1,isDataset:!0,value:d,type:"RasterFunctionVariable"},{name:"Raster",isPublic:!1,isDataset:!0,value:u,type:"RasterFunctionVariable"}],type:"ArgumentArray"},type:"RasterFunctionVariable"},Operation:{name:"Operation",isPublic:!1,isDataset:!1,value:2,type:"RasterFunctionVariable"},CellsizeType:{name:"CellsizeType",isPublic:!1,isDataset:!1,value:2,type:"RasterFunctionVariable"},ExtentType:{name:"ExtentType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},type:"LocalFunctionArguments"},functionType:0,thumbnail:"",thumbnailEx:"",help:""},NoDataInterpretation:{name:"NoDataInterpretation",isPublic:!1,isDataset:!1,value:0,type:"RasterFunctionVariable"},NoDataValues:{name:"NoDataValues",isPublic:!1,isDataset:!1,value:[0],type:"RasterFunctionVariable"},IncludedRanges:{name:"IncludedRanges",isPublic:!1,isDataset:!1,value:h,type:"RasterFunctionVariable"},Invert:{name:"Invert",isPublic:!1,isDataset:!1,value:!1,type:"RasterFunctionVariable"},type:"MaskFunctionArguments"},functionType:0,thumbnail:"",thumbnailEx:"",help:""},UseTable:{name:"UseTable",isPublic:!1,isDataset:!1,value:!1,type:"RasterFunctionVariable"},InputRanges:{name:"InputRanges",isPublic:!1,isDataset:!1,value:[-1e3,1e3],type:"RasterFunctionVariable"},OutputValues:{name:"OutputValues",isPublic:!1,isDataset:!1,value:[1],type:"RasterFunctionVariable"},Table:{name:"Table",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},InputField:{name:"InputField",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},OutputField:{name:"OutputField",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},InputMaxField:{name:"InputMaxField",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},RemapTableType:{name:"RemapTableType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},AllowUnmatched:{name:"AllowUnmatched",isPublic:!1,isDataset:!1,value:!1,type:"RasterFunctionVariable"},ReplacementValue:{name:"ReplacementValue",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},type:"RemapFunctionArguments"},functionType:0,thumbnail:"",thumbnailEx:"",help:""}})({serviceUrl:t,token:s,objectId4EarlierScene:c,objectId4LaterScene:u,bandIndexes:r,rasterFunctionTemplate:i,clippingGeometry:n,pixelValueRange:l,fullPixelValueRange:a,logDiff:o}):null),[n,c,u,a,l,r,i,o]);return d},gC=e=>{if(!e)return"";const[t,n,r,i,o,s,a]=e.split("_");return[t,n,r,o].filter((e=>void 0!==e)).join("_")},vC=["Esri Sentinel-2 Explorer","Sentinel-2 ","Remote Sensing"],bC='<p><b>Source Sentinel-2 Imagery</b>  ESA, European Commission <br /> The access and use of Copernicus Sentinel Data and Service Information is regulated under EU law. In particular, the law provides that users shall have a free, full and open access to Copernicus Sentinel Data and Service Information without any express or implied warranty, including as it regards quality and suitability for any purpose. <a href="https://sentinel.esa.int/documents/247904/690755/Sentinel_Data_Legal_Notice">More</a></p>',wC=bC+'<p><b>Sentinel-2 Image Service</b> - Esri <br />This work is licensed under the Esri Master License Agreement. <a href="https://downloads2.esri.com/arcgisonline/docs/tou_summary.pdf" target="_blank"><span>View Summary</span></a><span> | </span><a href="https://www.esri.com/en-us/legal/terms/full-master-agreement" target="_blank"><span>View Terms of Use</span></a></p>',_C=()=>{const t=(({getSceneByObjectId:t,shortenSceneId:n})=>{const r=ws(Wa),i=ws(Ja),[o,s]=(0,e.useState)([]),a=ws(Ya),l=ws(el);return(0,e.useEffect)((()=>{(async()=>{const e=r?.objectIdOfSelectedScene?await t(r.objectIdOfSelectedScene):null,o=i?.objectIdOfSelectedScene?await t(i.objectIdOfSelectedScene):null;let c=e?.name||"",u=o?.name||"";"analysis"===a&&"change"===l&&n&&(c=n(c),u=n(u)),s([c,u])})()}),[r?.objectIdOfSelectedScene,i?.objectIdOfSelectedScene,a,l,t,n]),o})({getSceneByObjectId:Y_,shortenSceneId:gC}),n=(()=>{const t=ws(Ya),n=ws(el),r=ws(Wa),i=ws(Ja),o=ws(Ga),{canPublishHostedImagery:s,canSaveWebMap:a,canSaveWebMappingApp:l}=dC(),c=(0,e.useMemo)((()=>{const e=r?.objectIdOfSelectedScene;return!("find a scene"!==t&&"dynamic"!==t||!e)||!("analysis"!==t||!e)&&"change"!==n&&"temporal composite"!==n}),[t,n,r?.objectIdOfSelectedScene]),u=(0,e.useMemo)((()=>{const e=r?.objectIdOfSelectedScene&&i?.objectIdOfSelectedScene;return!("swipe"!==t||!e)||!("analysis"!==t||"change"!==n||!e)||"animate"===t&&o?.length>0}),[r?.objectIdOfSelectedScene,i?.objectIdOfSelectedScene,o?.length,t,n]),d=(0,e.useMemo)((()=>"analysis"===t&&"mask"===n&&r?.objectIdOfSelectedScene),[t,n,r?.objectIdOfSelectedScene]),h=(0,e.useMemo)((()=>"analysis"===t&&"change"===n&&r?.objectIdOfSelectedScene&&i?.objectIdOfSelectedScene),[r?.objectIdOfSelectedScene,i?.objectIdOfSelectedScene,t,n]),p=(0,e.useMemo)((()=>{const e=[is.SaveWebMappingApp];return c&&(e.push(is.SaveWebMap),e.push(is.PublishScene)),u&&(e.push(is.SaveWebMapWithMultipleScenes),e.push(is.SaveWebMapWithMultipleScenesInSingleLayer)),d&&e.push(is.PublishIndexMask),h&&e.push(is.PublishChangeDetection),e.map((e=>({saveJobType:e})))}),[c,u,d,h]);return(0,e.useMemo)((()=>p.map((e=>{let t=!1;return e.saveJobType===is.PublishScene||e.saveJobType===is.PublishIndexMask||e.saveJobType===is.PublishChangeDetection?s||(t=!0):e.saveJobType===is.SaveWebMap||e.saveJobType===is.SaveWebMapWithMultipleScenes||e.saveJobType===is.SaveWebMapWithMultipleScenesInSingleLayer?a||(t=!0):e.saveJobType===is.SaveWebMappingApp&&(l||(t=!0)),{...e,disabled:t,message:null}}))),[p,s,a,l])})(),r=BM(),i=ws(OM),o=(0,e.useMemo)((()=>i?x_(i):null),[i]),s=ws(MM),a=(0,e.useMemo)((()=>x_(s)),[s]),l=Ta(),c=(t=>{const n=ws(Wa),[r,i]=(0,e.useState)(null);return(0,e.useEffect)((()=>{(async()=>{if(!n||!n?.objectIdOfSelectedScene)return void i(null);const e=Ta();if(e)try{const r=await P_(t,n.objectIdOfSelectedScene,{token:e}),o=r?.geometry;i(o)}catch(e){i(null)}else i(null)})()}),[n?.objectIdOfSelectedScene]),r})(ta),u=(({originalServiceUrl:t,clippingGeometry:n,token:r})=>{const i=ws(Wa);return(0,e.useMemo)((()=>i&&i?.objectIdOfSelectedScene&&n?hC({serviceUrl:t,objectId:i?.objectIdOfSelectedScene,token:r,clippingGeometry:n}):null),[n,i?.objectIdOfSelectedScene])})({originalServiceUrl:ta,clippingGeometry:c,token:l}),d=mC({originalServiceUrl:ta,clippingGeometry:c,fullPixelValueRange:r,bandIndexes:o,token:l}),h=yC({originalServiceUrl:ta,clippingGeometry:c,bandIndexes:a,token:l});return e.createElement(uC,{sceneIds:t,publishOptions:n,originalServiceUrl:ta,serviceName:"Sentinel-2",tags:vC,description:'<p>The Copernicus Sentinel-2 mission from ESA and the European Commision provides optical imagery for a wide range of applications including land, water and atmospheric monitoring. Beginning in 2015, The mission is based on a constellation of two identical satellites flying in tandem and covering all of Earths land and coastal waters every five days.</p>\n<p>Each satellite carries a multispectral sensor that generates optical images in the visible, near-infrared and shortwave-infrared part of the electromagnetic spectrum. The images contain a total of 13 spectral bands at resolutions of 10-m, 20-m and 60-m.</p>\n<p>The Sentinel-2 Level-2A imagery archive is available in <a href="https://livingatlas.arcgis.com/">ArcGIS Living Atlas of\nthe World</a> as a dynamic time enabled image service, accessible across the ArcGIS system. For more about the service and data, see <a href="https://www.arcgis.com/home/item.html?id=255af1ceee844d6da8ef8440c8f90d00">Sentinel-2 Level-2A</a>.</p>',accessInformation:"Esri, ESA, European Commission, Microsoft",licenseInfo:wC,licenseInfoForHostedImageryService:bC,publishSceneRasterFunction:u,publishIndexMaskRasterFunction:d,publishChangeDetectionRasterFunction:h})};var SC=()=>{const{t:t}=$(),n=ws(Ya),r=ws(el),i="dynamic"===n,o=(()=>{const e=ws(Ya);return"swipe"===e||"animate"===e||"analysis"===e})(),s=t("esri_sentinel_2_explorer",{ns:En});return OT(),iT(),Vn?e.createElement(e.Fragment,null,e.createElement(wA,{title:s}),e.createElement(nA,null,e.createElement("div",{className:"mx-auto"},e.createElement(hT,null),e.createElement(Zl,null),e.createElement(PT,null)))):e.createElement(e.Fragment,null,e.createElement(wA,{title:s}),e.createElement(nA,null,e.createElement("div",{className:"flex flex-shrink-0"},e.createElement(IA,null),o&&e.createElement(SA,null,e.createElement(rT,null),e.createElement(eT,null),e.createElement(ZT,null)),"analysis"===n&&"change"===r&&e.createElement(SA,null,e.createElement(aT,null))),e.createElement("div",{className:"flex flex-grow justify-center shrink-0"},i?e.createElement(e.Fragment,null,e.createElement(hT,null),e.createElement(Zl,null)):e.createElement(e.Fragment,null,e.createElement("div",{className:"ml-2 3xl:ml-0"},e.createElement(fA,null,e.createElement(uT,null))),"analysis"===n&&e.createElement("div",{className:"analyze-tool-and-scene-info-container"},e.createElement(JT,null),e.createElement(EI,null),e.createElement(vI,null),e.createElement(XT,null)),e.createElement(DT,null)),e.createElement(PT,null))),e.createElement(_C,null))};const xC=({children:t})=>{const n=bs();return ws(wl)?e.createElement("div",{className:"absolute top-0 left-0 bottom-0 right-0 px-4 py-10 bg-custom-background-95 z-50 text-custom-light-blue overflow-y-auto fancy-scrollbar"},e.createElement(Rw,{onClick:()=>{n(gi())}}),e.createElement("div",{className:"flex justify-center mt-4 mx-auto",style:{maxWidth:"90vw"}},t)):null},MC=()=>{const{t:t}=$();return e.createElement("div",{className:"py-10",style:{maxWidth:1680}},e.createElement("div",{className:"flex items-center mb-8"},e.createElement("div",{className:" text-custom-light-blue text-3xl pr-4 mr-4"},e.createElement("span",null,t("esri_sentinel_2_explorer",{ns:En})))),e.createElement("div",{className:"mb-8 font-light"},e.createElement("h3",{className:"text-2xl text-custom-light-blue mb-4"},t("about_the_data")),e.createElement("p",{className:"mb-4"},t("about_data_section_1",{ns:En})),e.createElement("p",{className:"mb-4"},t("about_data_section_2",{ns:En})),e.createElement("p",{className:"mb-4",dangerouslySetInnerHTML:{__html:t("about_data_section_3",{ns:En})}})),e.createElement("div",{className:"mb-8 font-light"},e.createElement("h3",{className:"text-2xl text-custom-light-blue mb-4"},t("about_the_app")),e.createElement("p",{className:"mb-4"},t("about_app_section_1",{ns:En})),e.createElement("p",null,t("about_app_section_2",{ns:En})),e.createElement("ul",{className:"list-disc list-inside"},e.createElement("li",null,t("about_app_list_item_1",{ns:En})),e.createElement("li",null,t("about_app_list_item_2",{ns:En})),e.createElement("li",null,t("about_app_list_item_3",{ns:En})),e.createElement("li",null,t("about_app_list_item_4",{ns:En})),e.createElement("li",null,t("about_app_list_item_5",{ns:En})))),e.createElement("div",{className:"mb-4 font-light"},e.createElement("h3",{className:"text-2xl text-custom-light-blue mb-4"},t("attribution_terms_of_use")),e.createElement("div",{className:"mb-4"},e.createElement("p",{className:"mb-1 font-bold"},t("terms_of_use_service_header",{ns:En})),e.createElement("div",{className:"ml-8 mb-2"},e.createElement("p",null,e.createElement("b",{className:"font-bold"},t("terms_of_use_service_section_1_header",{ns:En}))),e.createElement("p",{dangerouslySetInnerHTML:{__html:t("terms_of_use_service_section_1_desc",{ns:En})}})),e.createElement("div",{className:"ml-8"},e.createElement("p",{className:"font-bold"},t("terms_of_use_service_section_2_header",{ns:En})),e.createElement("p",{dangerouslySetInnerHTML:{__html:t("terms_of_use_service_section_2_desc",{ns:En})}}))),e.createElement("div",{className:"mb-4"},e.createElement("p",{className:"font-bold mb-1"},t("terms_of_use_app_header",{ns:En})),e.createElement("p",{dangerouslySetInnerHTML:{__html:t("terms_of_use_app_section_1",{ns:En})}}),e.createElement("p",null,t("terms_of_use_app_section_2",{ns:En})))),e.createElement("div",{className:"mb-4 mt-10 font-light italic opacity-80"},e.createElement("p",{className:"mb-2"},t("interetsing_places_data_source")),"en"!==jn&&e.createElement("p",null,t("translation_provider_info"))))},AC=()=>e.createElement(xC,null,e.createElement(MC,null));s(37836),s(30357),s(32239),s(10224),s(83188);var TC=s(34088),IC=s(48015),CC=s(46337),EC=s(79e3),kC=s(21796),PC=s(60992),RC=s(93174),OC=s(83623),NC=s(4643),LC=s(45237),DC=s(33826);const FC=DC.AH`:host{--calcite-icon-size: 1rem;--calcite-spacing-eighth: .125rem;--calcite-spacing-quarter: .25rem;--calcite-spacing-half: .5rem;--calcite-spacing-three-quarters: .75rem;--calcite-spacing: 1rem;--calcite-spacing-plus-quarter: 1.25rem;--calcite-spacing-plus-half: 1.5rem;--calcite-spacing-double: 2rem;--calcite-menu-min-width: 10rem;--calcite-header-min-height: 3rem;--calcite-footer-min-height: 3rem}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;flex-direction:column;font-size:var(--calcite-select-font-size);font-weight:var(--calcite-internal-select-font-weight, var(--calcite-font-weight-regular))}.wrapper{position:relative;display:flex;align-items:stretch;inline-size:var(--select-width);block-size:var(--calcite-internal-select-block-size, 32px)}.wrapper:focus-within .icon,.wrapper:active .icon,.wrapper:hover .icon{color:var(--calcite-select-icon-color-hover, var(--calcite-color-text-1))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-internal-select-font-size: var(--calcite-font-size--2);--calcite-select-spacing-inline: .5rem 2rem;--calcite-internal-select-icon-container-padding-inline: var(--calcite-spacing-sm);--calcite-internal-select-block-size: 24px}:host([scale=m]){--calcite-internal-select-font-size: var(--calcite-font-size--1);--calcite-select-spacing-inline: .75rem 2.5rem;--calcite-internal-select-icon-container-padding-inline: var(--calcite-spacing-md)}:host([scale=l]){--calcite-internal-select-font-size: var(--calcite-font-size-0);--calcite-select-spacing-inline: 1rem 3rem;--calcite-internal-select-icon-container-padding-inline: var(--calcite-spacing-lg);--calcite-internal-select-block-size: 44px}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}.select{margin:0;box-sizing:border-box;inline-size:100%;cursor:pointer;appearance:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:0;border-style:solid;background-color:var(--calcite-color-foreground-1);font-family:inherit;outline-color:transparent;font-weight:inherit;font-size:var(--calcite-select-font-size, var(--calcite-internal-select-font-size));color:var(--calcite-select-text-color, var(--calcite-color-text-2));border-color:var(--calcite-select-border-color, var(--calcite-color-border-input));border-width:var(--calcite-select-internal-border-width, var(--calcite-border-width-sm));padding-inline:var(--calcite-select-spacing-inline);padding-block:var(--calcite-internal-select-spacing-block);border-inline-end-width:0;line-height:var(--calcite-internal-select-line-height, normal)}.select:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}select:disabled{border-color:var(--calcite-color-border-input);--tw-bg-opacity: 1}.icon-container{pointer-events:none;position:absolute;inset-block:0px;display:flex;align-items:center;border-width:0px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:transparent;color:var(--calcite-color-text-2);inset-inline-end:0px;border-color:var(--calcite-select-border-color, var(--calcite-color-border-input));border-inline-width:0px var(--calcite-select-internal-icon-border-inline-end-width, 1px);padding-inline:var(--calcite-internal-select-icon-container-padding-inline)}.icon-container .icon{color:var(--calcite-select-icon-color, var(--calcite-color-text-3))}:host([status=invalid]) select,:host([status=invalid]) .icon-container{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) select:focus,:host([status=invalid]) .icon-container:focus{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.select:focus~.icon-container{border-color:transparent}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}`,jC="icon",ZC="icon-container",UC="select",zC="wrapper",VC="selectValidationMessage";function BC(e){return"CALCITE-OPTION"===e.tagName}class $C extends nw.WF{constructor(){super(),this.componentToNativeEl=new Map,this.mutationObserver=(0,NC.c)("mutation",(()=>this.populateInternalSelect())),this.disabled=!1,this.required=!1,this.scale="m",this.status="idle",this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.value=null,this.width="auto",this.calciteSelectChange=(0,nw.lh)({cancelable:!1}),this.listen("calciteInternalOptionChange",this.handleOptionOrGroupChange),this.listen("calciteInternalOptionGroupChange",this.handleOptionOrGroupChange)}static{this.properties={disabled:[7,{},{reflect:!0,type:Boolean}],form:[3,{},{reflect:!0}],label:1,name:[3,{},{reflect:!0}],required:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],selectedOption:[0,{},{attribute:!1}],status:[3,{},{reflect:!0}],validationIcon:[3,{converter:nw.pf},{reflect:!0}],validationMessage:1,validity:[0,{},{attribute:!1}],value:1,width:[3,{},{reflect:!0}]}}static{this.styles=FC}async setFocus(){await(0,OC.c)(this),(0,EC.b)(this.selectEl)}connectedCallback(){super.connectedCallback();const{el:e}=this;this.mutationObserver?.observe(e,{subtree:!0,childList:!0}),(0,RC.c)(this),(0,kC.c)(this)}willUpdate(e){e.has("value")&&(this.hasUpdated||null!==this.value)&&this.updateItemsFromValue(this.value),e.has("selectedOption")&&(this.value=this.selectedOption?.value)}updated(){(0,PC.u)(this)}loaded(){"string"==typeof this.value&&this.updateItemsFromValue(this.value),this.populateInternalSelect();const e=this.selectEl.selectedOptions[0];this.selectFromNativeOption(e),(0,kC.a)(this,this.selectedOption?.value??"")}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),(0,RC.d)(this),(0,kC.d)(this)}handleInternalSelectChange(){const e=this.selectEl.selectedOptions[0];this.selectFromNativeOption(e),requestAnimationFrame((()=>this.emitChangeEvent()))}handleOptionOrGroupChange(e){e.stopPropagation();const t=e.target,n=this.componentToNativeEl.get(t);n&&(this.updateNativeElement(t,n),BC(t)&&t.selected&&(this.deselectAllExcept(t),this.selectedOption=t))}onLabelClick(){this.setFocus()}updateItemsFromValue(e){this.el.querySelectorAll("calcite-option").forEach((t=>t.selected=t.value===e))}updateNativeElement(e,t){if(t.disabled=e.disabled,t.label=e.label,BC(e)){const n=t;n.selected=e.selected,n.value=e.value,n.innerText=e.label}}populateInternalSelect(){const e=Array.from(this.el.children).filter((e=>"CALCITE-OPTION"===e.tagName||"CALCITE-OPTION-GROUP"===e.tagName));this.clearInternalSelect(),e.forEach((e=>this.selectEl?.append(this.toNativeElement(e))))}clearInternalSelect(){this.componentToNativeEl.forEach((e=>e.remove())),this.componentToNativeEl.clear()}storeSelectRef(e){e&&(this.selectEl=e)}selectFromNativeOption(e){if(!e)return;let t;this.componentToNativeEl.forEach(((n,r)=>{BC(r)&&n===e&&(r.selected=!0,t=r,this.deselectAllExcept(r))})),t&&(this.selectedOption=t)}toNativeElement(e){if(BC(e)){const t=document.createElement("option");return this.updateNativeElement(e,t),this.componentToNativeEl.set(e,t),t}if(function(e){return"CALCITE-OPTION-GROUP"===e.tagName}(e)){const t=document.createElement("optgroup");return this.updateNativeElement(e,t),Array.from(e.children).forEach((n=>{const r=this.toNativeElement(n);t.append(r),this.componentToNativeEl.set(e,r)})),this.componentToNativeEl.set(e,t),t}throw new Error("unsupported element child provided")}deselectAllExcept(e){this.el.querySelectorAll("calcite-option").forEach((t=>{t!==e&&(t.selected=!1)}))}emitChangeEvent(){this.calciteSelectChange.emit()}renderChevron(){return CC.qy`<div class=${(0,nw.CP)(ZC)}><calcite-icon class=${(0,nw.CP)(jC)} icon=chevron-down .scale=${(0,OC.g)(this.scale)}></calcite-icon></div>`}render(){const{disabled:e}=this;return(0,PC.I)({disabled:e,children:CC.qy`<div class=${(0,nw.CP)(zC)}><select aria-errormessage=${VC} .ariaInvalid=${"invalid"===this.status} .ariaLabel=${(0,RC.g)(this)} class=${(0,nw.CP)(UC)} .disabled=${e} @change=${this.handleInternalSelectChange} ${(0,IC.K)(this.storeSelectRef)}><slot></slot></select>${this.renderChevron()}${(0,kC.H)({component:this})}</div>${this.validationMessage&&"invalid"===this.status?(0,LC.V)({icon:this.validationIcon,id:VC,message:this.validationMessage,scale:this.scale,status:this.status}):null}`})}}(0,TC.c)("calcite-select",$C);const GC=DC.AH`:host{display:block}:host([hidden]){display:none}[hidden]{display:none}`;class qC extends nw.WF{constructor(){super(...arguments),this.mutationObserver=(0,NC.c)("mutation",(()=>{this.ensureTextContentDependentProps(),this.calciteInternalOptionChange.emit()})),this.disabled=!1,this.calciteInternalOptionChange=(0,nw.lh)({cancelable:!1})}static{this.properties={disabled:[7,{},{reflect:!0,type:Boolean}],label:1,selected:[7,{},{reflect:!0,type:Boolean}],value:1}}static{this.styles=GC}connectedCallback(){super.connectedCallback(),this.ensureTextContentDependentProps(),this.mutationObserver?.observe(this.el,{attributeFilter:["label","value"],characterData:!0,childList:!0,subtree:!0})}willUpdate(e){e.has("disabled")&&(this.hasUpdated||!1!==this.disabled)&&this.handlePropChange(this.disabled,e.get("disabled"),"disabled"),e.has("label")&&this.handlePropChange(this.label,e.get("label"),"label"),e.has("selected")&&this.handlePropChange(this.selected,e.get("selected"),"selected"),e.has("value")&&this.handlePropChange(this.value,e.get("value"),"value")}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect()}handlePropChange(e,t,n){"label"!==n&&"value"!==n||this.ensureTextContentDependentProps(),this.calciteInternalOptionChange.emit()}ensureTextContentDependentProps(){const{el:{textContent:e},internallySetLabel:t,internallySetValue:n,label:r,value:i}=this;r&&r!==t||(this.label=e,this.internallySetLabel=e),null!=i&&i!==n||(this.value=e,this.internallySetValue=e)}render(){return CC.qy`<slot>${this.label}</slot>`}}(0,TC.c)("calcite-option",qC);s(99601);var HC=s(56328),WC=s(45007),JC=s(22344),KC=s(75572);const YC="loader",XC="clear-button",QC="editing-enabled",eE="inline-child",tE="icon",nE="prefix",rE="suffix",iE="element-wrapper",oE="wrapper",sE="action-wrapper",aE="inputTextValidationMessage",lE="action",cE=DC.AH`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([scale=s]) input{padding-inline-start:.5rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .5rem)}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{block-size:1.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .prefix,:host([scale=s]) .suffix{padding-inline:.5rem}:host([scale=s]) .action-wrapper calcite-button,:host([scale=s]) .action-wrapper calcite-button button{block-size:1.5rem}:host([scale=s]) .clear-button{min-block-size:1.5rem;min-inline-size:1.5rem}:host([scale=m]) input{padding-inline-start:.75rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .75rem)}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{block-size:2rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .prefix,:host([scale=m]) .suffix{padding-inline:.75rem}:host([scale=m]) .action-wrapper calcite-button,:host([scale=m]) .action-wrapper calcite-button button{block-size:2rem}:host([scale=m]) .clear-button{min-block-size:2rem;min-inline-size:2rem}:host([scale=l]) input{padding-inline-start:1rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, 1rem)}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .prefix,:host([scale=l]) .suffix{padding-inline:1rem}:host([scale=l]) .action-wrapper calcite-button,:host([scale=l]) .action-wrapper calcite-button button{block-size:2.75rem}:host([scale=l]) .clear-button{min-block-size:2.75rem;min-inline-size:2.75rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}input{transition:var(--calcite-animation-timing),block-size 0,outline-offset 0s;-webkit-appearance:none;position:relative;margin:0;box-sizing:border-box;display:flex;max-block-size:100%;inline-size:100%;max-inline-size:100%;flex:1 1 0%;text-overflow:ellipsis;border-radius:0;background-color:var(--calcite-color-foreground-1);font-family:inherit;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-1)}input:placeholder-shown{text-overflow:ellipsis}input{border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);color:var(--calcite-color-text-1)}input::placeholder,input:-ms-input-placeholder,input::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-3)}input:focus{border-color:var(--calcite-color-brand);color:var(--calcite-color-text-1)}input[readonly]{background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium)}input[readonly]:focus{color:var(--calcite-color-text-1)}calcite-icon{color:var(--calcite-color-text-3)}input{outline-color:transparent}input:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([status=invalid]) input{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) input:focus{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([scale=s]) .icon{inset-inline-start:.5rem}:host([scale=m]) .icon{inset-inline-start:.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{padding-inline-start:2rem}:host([icon][scale=m]) input{padding-inline-start:2.5rem}:host([icon][scale=l]) input{padding-inline-start:3.5rem}.element-wrapper{position:relative;order:3;display:inline-flex;flex:1 1 0%;align-items:center}.icon{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);display:block;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}input[type=text]::-ms-clear,input[type=text]::-ms-reveal{display:none;block-size:0px;inline-size:0px}.clear-button{pointer-events:initial;order:4;margin:0;box-sizing:border-box;display:flex;min-block-size:100%;cursor:pointer;align-items:center;justify-content:center;align-self:stretch;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-foreground-1);outline-color:transparent;border-inline-start-width:0px}.clear-button:hover{background-color:var(--calcite-color-foreground-2);transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.clear-button:hover calcite-icon{color:var(--calcite-color-text-1);transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.clear-button:active{background-color:var(--calcite-color-foreground-3)}.clear-button:active calcite-icon{color:var(--calcite-color-text-1)}.clear-button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.clear-button:disabled{opacity:var(--calcite-opacity-disabled)}.loader{inset-block-start:1px;inset-inline:1px;pointer-events:none;position:absolute;display:block}.action-wrapper{order:7;display:flex}.prefix,.suffix{box-sizing:border-box;display:flex;block-size:auto;min-block-size:100%;-webkit-user-select:none;user-select:none;align-content:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium);line-height:1;color:var(--calcite-color-text-2)}.prefix{order:2;border-inline-end-width:0px;inline-size:var(--calcite-input-prefix-size, auto)}.suffix{order:5;border-inline-start-width:0px;inline-size:var(--calcite-input-suffix-size, auto)}:host([alignment=start]) input{text-align:start}:host([alignment=end]) input{text-align:end}.wrapper{position:relative;display:flex;flex-direction:row;align-items:center}:host(.input--no-bottom-border) input{border-block-end-width:0px}:host(.input--no-top-border) input{border-block-start-width:0px}:host(.input--no-right-border) input{border-inline-end:0}:host(.input--no-left-border) input{border-inline-start:0}:host(.border-top-color-one) input{border-block-start-color:var(--calcite-color-border-1)}input.inline-child{background-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}input.inline-child .editing-enabled{background-color:inherit}input.inline-child:not(.editing-enabled){display:flex;cursor:pointer;text-overflow:ellipsis;border-color:transparent;padding-inline-start:0}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}::placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-input-placeholder-text-color, var(--calcite-color-text-3))}`;class uE extends nw.WF{constructor(){super(),this.actionWrapperEl=(0,IC._)(),this.attributeWatch=(0,WC.oW)(["autofocus","enterkeyhint","inputmode","spellcheck"],this.handleGlobalAttributesChanged),this.inputWrapperEl=(0,IC._)(),this.onHiddenFormInputInput=e=>{e.target.name===this.name&&this.setValue({value:e.target.value,origin:"direct"}),this.setFocus(),e.stopPropagation()},this.previousValueOrigin="initial",this.userChangedValue=!1,this._value="",this.messages=(0,KC.u)(),this.slottedActionElDisabledInternally=!1,this.alignment="start",this.clearable=!1,this.disabled=!1,this.editingEnabled=!1,this.iconFlipRtl=!1,this.loading=!1,this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.calciteInputTextChange=(0,nw.lh)(),this.calciteInputTextInput=(0,nw.lh)(),this.calciteInternalInputTextBlur=(0,nw.lh)(),this.calciteInternalInputTextFocus=(0,nw.lh)(),this.listen("click",this.clickHandler),this.listen("keydown",this.keyDownHandler)}static{this.properties={slottedActionElDisabledInternally:[16,{},{state:!0}],alignment:[3,{},{reflect:!0}],autocomplete:[0,{},{attribute:!1}],clearable:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],editingEnabled:[7,{},{reflect:!0,type:Boolean}],form:[3,{},{reflect:!0}],icon:[3,{converter:nw.pf},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],label:1,loading:[7,{},{reflect:!0,type:Boolean}],maxLength:[11,{},{reflect:!0,type:Number}],messageOverrides:[0,{},{attribute:!1}],minLength:[11,{},{reflect:!0,type:Number}],name:[3,{},{reflect:!0}],pattern:1,placeholder:1,prefixText:1,readOnly:[7,{},{reflect:!0,type:Boolean}],required:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],status:[3,{},{reflect:!0}],suffixText:1,validationIcon:[3,{converter:nw.pf},{reflect:!0}],validationMessage:1,validity:[0,{},{attribute:!1}],value:1}}static{this.styles=cE}get value(){return this._value}set value(e){const t=this._value;e!==t&&(this._value=e,this.valueWatcher(e,t))}async selectText(){this.childEl?.select()}async setFocus(){await(0,OC.c)(this),this.childEl?.focus()}connectedCallback(){super.connectedCallback(),this.inlineEditableEl=this.el.closest("calcite-inline-editable"),this.inlineEditableEl&&(this.editingEnabled=this.inlineEditableEl.editingEnabled||!1),(0,RC.c)(this),(0,kC.c)(this),this.el.addEventListener(kC.i,this.onHiddenFormInputInput)}async load(){this.requestedIcon=(0,EC.v)({},this.icon,"text"),this.setPreviousEmittedValue(this.value),this.setPreviousValue(this.value)}willUpdate(e){e.has("icon")&&(this.requestedIcon=(0,EC.v)({},this.icon,"text"))}updated(){(0,PC.u)(this)}disconnectedCallback(){super.disconnectedCallback(),(0,RC.d)(this),(0,kC.d)(this),this.el.removeEventListener(kC.i,this.onHiddenFormInputInput)}get isClearable(){return this.clearable&&this.value.length>0}handleGlobalAttributesChanged(){this.requestUpdate()}valueWatcher(e,t){this.userChangedValue||this.setValue({origin:"direct",previousValue:t,value:e||""}),this.userChangedValue=!1}keyDownHandler(e){this.readOnly||this.disabled||e.defaultPrevented||(this.isClearable&&"Escape"===e.key&&(this.clearInputTextValue(e),e.preventDefault()),"Enter"===e.key&&(0,kC.s)(this)&&e.preventDefault())}onLabelClick(){this.setFocus()}clearInputTextValue(e){this.setValue({committing:!0,nativeEvent:e,origin:"user",value:""})}emitChangeIfUserModified(){"user"===this.previousValueOrigin&&this.value!==this.previousEmittedValue&&(this.calciteInputTextChange.emit(),this.setPreviousEmittedValue(this.value))}inputTextBlurHandler(){this.calciteInternalInputTextBlur.emit({element:this.childEl,value:this.value}),this.emitChangeIfUserModified()}clickHandler(e){if(this.disabled)return;const t=e.composedPath();t.includes(this.inputWrapperEl.value)&&!t.includes(this.actionWrapperEl.value)&&this.setFocus()}inputTextFocusHandler(){this.calciteInternalInputTextFocus.emit({element:this.childEl,value:this.value})}inputTextInputHandler(e){this.disabled||this.readOnly||this.setValue({nativeEvent:e,origin:"user",value:e.target.value})}inputTextKeyDownHandler(e){this.disabled||this.readOnly||"Enter"===e.key&&this.emitChangeIfUserModified()}syncHiddenFormInput(e){(0,JC.s)("text",this,e)}setChildElRef(e){this.childEl=e}setInputValue(e){this.childEl&&(this.childEl.value=e)}setPreviousEmittedValue(e){this.previousEmittedValue=e}setPreviousValue(e){this.previousValue=e}setValue({committing:e=!1,nativeEvent:t,origin:n,previousValue:r,value:i}){if(this.setPreviousValue(r??this.value),this.previousValueOrigin=n,this.userChangedValue="user"===n&&i!==this.value,this.value=i,"direct"===n&&(this.setInputValue(i),this.setPreviousEmittedValue(i)),t){this.calciteInputTextInput.emit().defaultPrevented?this.value=this.previousValue:e&&this.emitChangeIfUserModified()}}render(){const e=(0,EC.g)(this.el),t=CC.qy`<div class=${(0,nw.CP)(YC)}><calcite-progress .label=${this.messages.loading} type=indeterminate></calcite-progress></div>`,n=CC.qy`<button .ariaLabel=${this.messages.clear} class=${(0,nw.CP)(XC)} .disabled=${this.disabled||this.readOnly} @click=${this.clearInputTextValue} tabindex=-1 type=button><calcite-icon icon=x .scale=${(0,OC.g)(this.scale)}></calcite-icon></button>`,r=CC.qy`<calcite-icon class=${(0,nw.CP)(tE)} .flipRtl=${this.iconFlipRtl} .icon=${this.requestedIcon} .scale=${(0,OC.g)(this.scale)}></calcite-icon>`,i=CC.qy`<div class=${(0,nw.CP)(nE)}>${this.prefixText}</div>`,o=CC.qy`<div class=${(0,nw.CP)(rE)}>${this.suffixText}</div>`,s=CC.qy`<input aria-errormessage=${aE} .ariaInvalid=${"invalid"===this.status} .ariaLabel=${(0,RC.g)(this)} autocomplete=${this.autocomplete??CC.s6} .autofocus=${this.el.autofocus} class=${(0,nw.CP)({[QC]:this.editingEnabled,[eE]:!!this.inlineEditableEl})} value=${this.defaultValue??CC.s6} .disabled=${!!this.disabled||null} enterkeyhint=${this.el.enterKeyHint??CC.s6} inputmode=${this.el.inputMode??CC.s6} maxlength=${this.maxLength??CC.s6} minlength=${this.minLength??CC.s6} name=${this.name??CC.s6} @blur=${this.inputTextBlurHandler} @focus=${this.inputTextFocusHandler} @input=${this.inputTextInputHandler} @keydown=${this.inputTextKeyDownHandler} pattern=${this.pattern??CC.s6} placeholder=${(this.placeholder||"")??CC.s6} .readOnly=${this.readOnly} .required=${!!this.required||null} spellcheck=${this.el.spellcheck??CC.s6} tabindex=${(this.disabled||this.inlineEditableEl&&!this.editingEnabled?-1:null)??CC.s6} type=text .value=${(0,HC.V)(this.value??"")} ${(0,IC.K)(this.setChildElRef)}>`;return(0,PC.I)({disabled:this.disabled,children:CC.qy`<div class=${(0,nw.CP)({[oE]:!0,[TC.C.rtl]:"rtl"===e})} ${(0,IC.K)(this.inputWrapperEl)}>${this.prefixText?i:null}<div class=${(0,nw.CP)(iE)}>${s}${this.isClearable?n:null}${this.requestedIcon?r:null}${this.loading?t:null}</div><div class=${(0,nw.CP)(sE)} ${(0,IC.K)(this.actionWrapperEl)}><slot name=${lE}></slot></div>${this.suffixText?o:null}${(0,kC.H)({component:this})}</div>${this.validationMessage&&"invalid"===this.status?(0,LC.V)({icon:this.validationIcon,id:aE,message:this.validationMessage,scale:this.scale,status:this.status}):null}`})}}(0,TC.c)("calcite-input-text",uE);var dE=s(18394),hE={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const pE=Object.create(null);for(const e in hE)Object.hasOwn(hE,e)&&(pE[hE[e]]=e);const fE={to:{},get:{}};function mE(e,t,n){return Math.min(Math.max(t,e),n)}function yE(e){const t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}fE.get=function(e){let t,n;switch(e.slice(0,3).toLowerCase()){case"hsl":t=fE.get.hsl(e),n="hsl";break;case"hwb":t=fE.get.hwb(e),n="hwb";break;default:t=fE.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},fE.get.rgb=function(e){if(!e)return null;let t,n,r,i=[0,0,0,1];if(t=e.match(/^#([a-f\d]{6})([a-f\d]{2})?$/i)){for(r=t[2],t=t[1],n=0;n<3;n++){const e=2*n;i[n]=Number.parseInt(t.slice(e,e+2),16)}r&&(i[3]=Number.parseInt(r,16)/255)}else if(t=e.match(/^#([a-f\d]{3,4})$/i)){for(t=t[1],r=t[3],n=0;n<3;n++)i[n]=Number.parseInt(t[n]+t[n],16);r&&(i[3]=Number.parseInt(r+r,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=Number.parseInt(t[n+1],10);t[4]&&(i[3]=t[5]?.01*Number.parseFloat(t[4]):Number.parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:Object.hasOwn(hE,t[1])?(i=hE[t[1]],i[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*Number.parseFloat(t[n+1]));t[4]&&(i[3]=t[5]?.01*Number.parseFloat(t[4]):Number.parseFloat(t[4]))}for(n=0;n<3;n++)i[n]=mE(i[n],0,255);return i[3]=mE(i[3],0,1),i},fE.get.hsl=function(e){if(!e)return null;const t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){const e=Number.parseFloat(t[4]);return[(Number.parseFloat(t[1])%360+360)%360,mE(Number.parseFloat(t[2]),0,100),mE(Number.parseFloat(t[3]),0,100),mE(Number.isNaN(e)?1:e,0,1)]}return null},fE.get.hwb=function(e){if(!e)return null;const t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){const e=Number.parseFloat(t[4]);return[(Number.parseFloat(t[1])%360+360)%360,mE(Number.parseFloat(t[2]),0,100),mE(Number.parseFloat(t[3]),0,100),mE(Number.isNaN(e)?1:e,0,1)]}return null},fE.to.hex=function(...e){return"#"+yE(e[0])+yE(e[1])+yE(e[2])+(e[3]<1?yE(Math.round(255*e[3])):"")},fE.to.rgb=function(...e){return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},fE.to.rgb.percent=function(...e){const t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},fE.to.hsl=function(...e){return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},fE.to.hwb=function(...e){let t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},fE.to.keyword=function(...e){return pE[e.slice(0,3)]};var gE=fE;const vE={};for(const e of Object.keys(hE))vE[hE[e]]=e;const bE={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var wE=bE;const _E=(6/29)**3;function SE(e){const t=e>.0031308?1.055*e**(1/2.4)-.055:12.92*e;return Math.min(Math.max(0,t),1)}function xE(e){return e>.04045?((e+.055)/1.055)**2.4:e/12.92}for(const e of Object.keys(bE)){if(!("channels"in bE[e]))throw new Error("missing channels property: "+e);if(!("labels"in bE[e]))throw new Error("missing channel labels property: "+e);if(bE[e].labels.length!==bE[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=bE[e];delete bE[e].channels,delete bE[e].labels,Object.defineProperty(bE[e],"channels",{value:t}),Object.defineProperty(bE[e],"labels",{value:n})}function ME(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}function AE(e){const t=function(){const e={},t=Object.keys(wE);for(let{length:n}=t,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length>0;){const e=n.pop(),r=Object.keys(wE[e]);for(let{length:i}=r,o=0;o<i;o++){const i=r[o],s=t[i];-1===s.distance&&(s.distance=t[e].distance+1,s.parent=e,n.unshift(i))}}return t}function TE(e,t){return function(n){return t(e(n))}}function IE(e,t){const n=[t[e].parent,e];let r=wE[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)n.unshift(t[i].parent),r=TE(wE[t[i].parent][i],r),i=t[i].parent;return r.conversion=n,r}bE.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=o-i;let a,l;switch(o){case i:a=0;break;case t:a=(n-r)/s;break;case n:a=2+(r-t)/s;break;case r:a=4+(t-n)/s}a=Math.min(60*a,360),a<0&&(a+=360);const c=(i+o)/2;return l=o===i?0:c<=.5?s/(o+i):s/(2-o-i),[a,100*l,100*c]},bE.rgb.hsv=function(e){let t,n,r,i,o;const s=e[0]/255,a=e[1]/255,l=e[2]/255,c=Math.max(s,a,l),u=c-Math.min(s,a,l),d=function(e){return(c-e)/6/u+.5};if(0===u)i=0,o=0;else{switch(o=u/c,t=d(s),n=d(a),r=d(l),c){case s:i=r-n;break;case a:i=1/3+t-r;break;case l:i=2/3+n-t}i<0?i+=1:i>1&&(i-=1)}return[360*i,100*o,100*c]},bE.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const i=bE.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[i,100*o,100*r]},bE.rgb.oklab=function(e){const t=xE(e[0]/255),n=xE(e[1]/255),r=xE(e[2]/255),i=Math.cbrt(.4122214708*t+.5363325363*n+.0514459929*r),o=Math.cbrt(.2119034982*t+.6806995451*n+.1073969566*r),s=Math.cbrt(.0883024619*t+.2817188376*n+.6299787005*r);return[100*(.2104542553*i+.793617785*o-.0040720468*s),100*(1.9779984951*i-2.428592205*o+.4505937099*s),100*(.0259040371*i+.7827717662*o-.808675766*s)]},bE.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(1-t,1-n,1-r);return[100*((1-t-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*i]},bE.rgb.keyword=function(e){const t=vE[e];if(t)return t;let n,r=Number.POSITIVE_INFINITY;for(const t of Object.keys(hE)){const i=ME(e,hE[t]);i<r&&(r=i,n=t)}return n},bE.keyword.rgb=function(e){return hE[e]},bE.rgb.xyz=function(e){const t=xE(e[0]/255),n=xE(e[1]/255),r=xE(e[2]/255);return[100*(.4124564*t+.3575761*n+.1804375*r),100*(.2126729*t+.7151522*n+.072175*r),100*(.0193339*t+.119192*n+.9503041*r)]},bE.rgb.lab=function(e){const t=bE.rgb.xyz(e);let n=t[0],r=t[1],i=t[2];n/=95.047,r/=100,i/=108.883,n=n>_E?n**(1/3):7.787*n+16/116,r=r>_E?r**(1/3):7.787*r+16/116,i=i>_E?i**(1/3):7.787*i+16/116;return[116*r-16,500*(n-r),200*(r-i)]},bE.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let i,o;if(0===n)return o=255*r,[o,o,o];const s=r<.5?r*(1+n):r+n-r*n,a=2*r-s,l=[0,0,0];for(let e=0;e<3;e++)i=t+1/3*-(e-1),i<0&&i++,i>1&&i--,o=6*i<1?a+6*(s-a)*i:2*i<1?s:3*i<2?a+(s-a)*(2/3-i)*6:a,l[e]=255*o;return l},bE.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,i=n;const o=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=o<=1?o:2-o;return[t,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},bE.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const i=Math.floor(t)%6,o=t-Math.floor(t),s=255*r*(1-n),a=255*r*(1-n*o),l=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,l,s];case 1:return[a,r,s];case 2:return[s,r,l];case 3:return[s,a,r];case 4:return[l,s,r];case 5:return[r,s,a]}},bE.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,i=Math.max(r,.01);let o,s;s=(2-n)*r;const a=(2-n)*i;return o=n*i,o/=a<=1?a:2-a,o=o||0,s/=2,[t,100*o,100*s]},bE.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const i=n+r;let o;i>1&&(n/=i,r/=i);const s=Math.floor(6*t),a=1-r;o=6*t-s,1&s&&(o=1-o);const l=n+o*(a-n);let c,u,d;switch(s){default:case 6:case 0:c=a,u=l,d=n;break;case 1:c=l,u=a,d=n;break;case 2:c=n,u=a,d=l;break;case 3:c=n,u=l,d=a;break;case 4:c=l,u=n,d=a;break;case 5:c=a,u=n,d=l}return[255*c,255*u,255*d]},bE.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},bE.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let i,o,s;return i=3.2404542*t+-1.5371385*n+-.4985314*r,o=-.969266*t+1.8760108*n+.041556*r,s=.0556434*t+-.2040259*n+1.0572252*r,i=SE(i),o=SE(o),s=SE(s),[255*i,255*o,255*s]},bE.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>_E?t**(1/3):7.787*t+16/116,n=n>_E?n**(1/3):7.787*n+16/116,r=r>_E?r**(1/3):7.787*r+16/116;return[116*n-16,500*(t-n),200*(n-r)]},bE.xyz.oklab=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=Math.cbrt(.8189330101*t+.3618667424*n-.1288597137*r),o=Math.cbrt(.0329845436*t+.9293118715*n+.0361456387*r),s=Math.cbrt(.0482003018*t+.2643662691*n+.633851707*r);return[100*(.2104542553*i+.793617785*o-.0040720468*s),100*(1.9779984951*i-2.428592205*o+.4505937099*s),100*(.0259040371*i+.7827717662*o-.808675766*s)]},bE.oklab.oklch=function(e){return bE.lab.lch(e)},bE.oklab.xyz=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=(.999999998*t+.396337792*n+.215803758*r)**3,o=(1.000000008*t-.105561342*n-.063854175*r)**3,s=(1.000000055*t-.089484182*n-1.291485538*r)**3;return[100*(1.227013851*i-.55779998*o+.281256149*s),100*(-.040580178*i+1.11225687*o-.071676679*s),100*(-.076381285*i-.421481978*o+1.58616322*s)]},bE.oklab.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=(t+.3963377774*n+.2158037573*r)**3,o=(t-.1055613458*n-.0638541728*r)**3,s=(t-.0894841775*n-1.291485548*r)**3;return[255*SE(4.0767416621*i-3.3077115913*o+.2309699292*s),255*SE(-1.2684380046*i+2.6097574011*o-.3413193965*s),255*SE(-.0041960863*i-.7034186147*o+1.707614701*s)]},bE.oklch.oklab=function(e){return bE.lch.lab(e)},bE.lab.xyz=function(e){let t,n,r;n=(e[0]+16)/116,t=e[1]/500+n,r=n-e[2]/200;const i=n**3,o=t**3,s=r**3;return n=i>_E?i:(n-16/116)/7.787,t=o>_E?o:(t-16/116)/7.787,r=s>_E?s:(r-16/116)/7.787,t*=95.047,n*=100,r*=108.883,[t,n,r]},bE.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let i;i=360*Math.atan2(r,n)/2/Math.PI,i<0&&(i+=360);return[t,Math.sqrt(n*n+r*r),i]},bE.lch.lab=function(e){const t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},bE.rgb.ansi16=function(e,t=null){const[n,r,i]=e;let o=null===t?bE.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),0===o)return 30;let s=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===o&&(s+=60),s},bE.hsv.ansi16=function(e){return bE.rgb.ansi16(bE.hsv.rgb(e),e[2])},bE.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];if(t>>4==n>>4&&n>>4==r>>4)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},bE.ansi16.rgb=function(e){let t=(e=e[0])%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(Math.trunc(e>50)+1);return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},bE.ansi256.rgb=function(e){if((e=e[0])>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},bE.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".slice(t.length)+t},bE.hex.rgb=function(e){const t=e.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=[...n].map((e=>e+e)).join(""));const r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},bE.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(Math.max(t,n),r),o=Math.min(Math.min(t,n),r),s=i-o;let a;return a=s<=0?0:i===t?(n-r)/s%6:i===n?2+(r-t)/s:4+(t-n)/s,a/=6,a%=1,[360*a,100*s,100*(s<1?o/(1-s):0)]},bE.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},bE.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},bE.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];const i=[0,0,0],o=t%1*6,s=o%1,a=1-s;let l=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-n)*r,[255*(n*i[0]+l),255*(n*i[1]+l),255*(n*i[2]+l)]},bE.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},bE.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},bE.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},bE.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,r=n-t;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},bE.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},bE.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},bE.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},bE.gray.hsl=function(e){return[0,0,e[0]]},bE.gray.hsv=bE.gray.hsl,bE.gray.hwb=function(e){return[0,100,e[0]]},bE.gray.cmyk=function(e){return[0,0,0,e[0]]},bE.gray.lab=function(e){return[e[0],0,0]},bE.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".slice(n.length)+n},bE.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};var CE=function(e){const t=AE(e),n={},r=Object.keys(t);for(let{length:e}=r,i=0;i<e;i++){const e=r[i];null!==t[e].parent&&(n[e]=IE(e,t))}return n};const EE={},kE=Object.keys(wE);function PE(e){const t=function(...t){const n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}function RE(e){const t=function(...t){const n=t[0];if(null==n)return n;n.length>1&&(t=n);const r=e(t);if("object"==typeof r)for(let{length:e}=r,t=0;t<e;t++)r[t]=Math.round(r[t]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}for(const e of kE){EE[e]={},Object.defineProperty(EE[e],"channels",{value:wE[e].channels}),Object.defineProperty(EE[e],"labels",{value:wE[e].labels});const t=CE(e),n=Object.keys(t);for(const r of n){const n=t[r];EE[e][r]=RE(n),EE[e][r].raw=PE(n)}}var OE=EE;const NE=["keyword","gray","hex"],LE={};for(const e of Object.keys(OE))LE[[...OE[e].labels].sort().join("")]=e;const DE={};function FE(e,t){if(!(this instanceof FE))return new FE(e,t);if(t&&t in NE&&(t=null),t&&!(t in OE))throw new Error("Unknown model: "+t);let n,r;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof FE)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"==typeof e){const t=gE.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,r=OE[this.model].channels,this.color=t.value.slice(0,r),this.valpha="number"==typeof t.value[r]?t.value[r]:1}else if(e.length>0){this.model=t||"rgb",r=OE[this.model].channels;const n=Array.prototype.slice.call(e,0,r);this.color=zE(n,r),this.valpha="number"==typeof e[r]?e[r]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);const r=t.sort().join("");if(!(r in LE))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=LE[r];const{labels:i}=OE[this.model],o=[];for(n=0;n<i.length;n++)o.push(e[i[n]]);this.color=zE(o)}if(DE[this.model])for(r=OE[this.model].channels,n=0;n<r;n++){const e=DE[this.model][n];e&&(this.color[n]=e(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}FE.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in gE.to?this:this.rgb();t=t.round("number"==typeof e?e:1);const n=1===t.valpha?t.color:[...t.color,this.valpha];return gE.to[t.model](...n)},percentString(e){const t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:[...t.color,this.valpha];return gE.to.rgb.percent(...n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=OE[this.model],{labels:n}=OE[this.model];for(let r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new FE([...this.color.map(jE(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new FE([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:ZE("rgb",0,UE(255)),green:ZE("rgb",1,UE(255)),blue:ZE("rgb",2,UE(255)),hue:ZE(["hsl","hsv","hsl","hwb","hcg"],0,(e=>(e%360+360)%360)),saturationl:ZE("hsl",1,UE(100)),lightness:ZE("hsl",2,UE(100)),saturationv:ZE("hsv",1,UE(100)),value:ZE("hsv",2,UE(100)),chroma:ZE("hcg",1,UE(100)),gray:ZE("hcg",2,UE(100)),white:ZE("hwb",1,UE(100)),wblack:ZE("hwb",2,UE(100)),cyan:ZE("cmyk",0,UE(100)),magenta:ZE("cmyk",1,UE(100)),yellow:ZE("cmyk",2,UE(100)),black:ZE("cmyk",3,UE(100)),x:ZE("xyz",0,UE(95.047)),y:ZE("xyz",1,UE(100)),z:ZE("xyz",2,UE(108.833)),l:ZE("lab",0,UE(100)),a:ZE("lab",1),b:ZE("lab",2),keyword(e){return void 0!==e?new FE(e):OE[this.model].keyword(this.color)},hex(e){return void 0!==e?new FE(e):gE.to.hex(...this.rgb().round().color)},hexa(e){if(void 0!==e)return new FE(e);const t=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),gE.to.hex(...t)+n},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[n,r]of e.entries()){const e=r/255;t[n]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return FE.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,o=2*i-1,s=n.alpha()-r.alpha(),a=((o*s==-1?o:(o+s)/(1+o*s))+1)/2,l=1-a;return FE.rgb(a*n.red()+l*r.red(),a*n.green()+l*r.green(),a*n.blue()+l*r.blue(),n.alpha()*i+r.alpha()*(1-i))}};for(const e of Object.keys(OE)){if(NE.includes(e))continue;const{channels:t}=OE[e];FE.prototype[e]=function(...t){return this.model===e?new FE(this):t.length>0?new FE(t,e):new FE([...(n=OE[this.model][e].raw(this.color),Array.isArray(n)?n:[n]),this.valpha],e);var n},FE[e]=function(...n){let r=n[0];return"number"==typeof r&&(r=zE(n,t)),new FE(r,e)}}function jE(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function ZE(e,t,n){e=Array.isArray(e)?e:[e];for(const r of e)(DE[r]||=[])[t]=n;return e=e[0],function(r){let i;return void 0!==r?(n&&(r=n(r)),i=this[e](),i.color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function UE(e){return function(t){return Math.max(0,Math.min(e,t))}}function zE(e,t){for(let n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}var VE=FE;const BE="channel",$E="channels",GE="color-field",qE="scope--color-field",HE="color-mode",WE="color-mode-container",JE="container",KE="control",YE="control-and-scope",XE="control-section",QE="delete-color",ek="header",tk="hex-and-channels-group",nk="color-hex-options",rk="scope--hue",ik="hue-slider",ok="scope--opacity",sk="opacity-slider",ak="preview",lk="preview-and-sliders",ck="save-color",uk="saved-color",dk="saved-colors",hk="saved-colors-buttons",pk="saved-colors-section",fk="scope",mk="section",yk="slider",gk="sliders",vk="section--split",bk=VE("#007AC2"),wk="calcite-color-",_k={r:255,g:255,b:255},Sk={h:360,s:100,v:100},xk=Sk.h-1,Mk=0,Ak=100,Tk={s:{gap:parseInt("8px"),slider:{height:12},thumb:{radius:7},preview:{size:20},minWidth:200},m:{gap:parseInt("12px"),slider:{height:12},thumb:{radius:7},preview:{size:24},minWidth:240},l:{gap:parseInt("16px"),slider:{height:12},thumb:{radius:7},preview:{size:32},minWidth:304}},Ik=/^[0-9A-F]$/i,Ck=/^#[0-9A-F]{3}$/i,Ek=/^#[0-9A-F]{6}$/i,kk=/^#[0-9A-F]{4}$/i,Pk=/^#[0-9A-F]{8}$/i,Rk=e=>Number((100*e).toFixed()),Ok=e=>Number((e/100).toFixed(2));function Nk(e,t=!1){return Dk(e,t)||Fk(e,t)}function Lk(e,t,n){return!!e&&(e.length===t&&n.test(e))}function Dk(e,t=!1){return Lk(e,t?5:4,t?kk:Ck)}function Fk(e,t=!1){return Lk(e,t?9:7,t?Pk:Ek)}function jk(e,t=!1,n=!1){if((e=e.toLowerCase()).startsWith("#")||(e=`#${e}`),Dk(e,t))return Uk(Vk(e,t));if(t&&n&&Nk(e,!1)){return Uk(Vk(`${e}${Dk(e,!1)?"f":"ff"}`,!0))}return e}function Zk(e,t=!1){return t?e.hexa():e.hex()}function Uk(e){const{r:t,g:n,b:r}=e;return`#${zk(t)}${zk(n)}${zk(r)}${"a"in e?zk(255*e.a):""}`.toLowerCase()}function zk(e){return e.toString(16).padStart(2,"0")}function Vk(e,t=!1){if(!Nk(e,t))return null;let n,r,i,o;if(3===(e=e.replace("#","")).length||4===e.length){const[t,s,a,l]=e.split("");n=parseInt(`${t}${t}`,16),r=parseInt(`${s}${s}`,16),i=parseInt(`${a}${a}`,16),o=parseInt(`${l}${l}`,16)/255}else n=parseInt(e.slice(0,2),16),r=parseInt(e.slice(2,4),16),i=parseInt(e.slice(4,6),16),o=parseInt(e.slice(6,8),16)/255;return isNaN(o)?{r:n,g:r,b:i}:{r:n,g:r,b:i,a:o}}const Bk={HEX:"hex",HEXA:"hexa",RGB_CSS:"rgb-css",RGBA_CSS:"rgba-css",HSL_CSS:"hsl-css",HSLA_CSS:"hsla-css"},$k={RGB:"rgb",RGBA:"rgba",HSL:"hsl",HSLA:"hsla",HSV:"hsv",HSVA:"hsva"};function Gk(e){if("string"==typeof e){if(e.startsWith("#")){const{length:t}=e;if(4===t||7===t)return Bk.HEX;if(5===t||9===t)return Bk.HEXA}if(e.startsWith("rgba("))return Bk.RGBA_CSS;if(e.startsWith("rgb("))return Bk.RGB_CSS;if(e.startsWith("hsl("))return Bk.HSL_CSS;if(e.startsWith("hsla("))return Bk.HSLA_CSS}if("object"==typeof e){if(qk(e,"r","g","b"))return qk(e,"a")?$k.RGBA:$k.RGB;if(qk(e,"h","s","l"))return qk(e,"a")?$k.HSLA:$k.HSL;if(qk(e,"h","s","v"))return qk(e,"a")?$k.HSVA:$k.HSV}return null}function qk(e,...t){return t.every((t=>t&&e&&`${t}`in e))}function Hk(e,t){return e?.rgb().array().toString()===t?.rgb().array().toString()}function Wk(e){return e===Bk.HEXA||e===Bk.RGBA_CSS||e===Bk.HSLA_CSS||e===$k.RGBA||e===$k.HSLA||e===$k.HSVA}function Jk(e){return e===Bk.HEXA?Bk.HEX:e===Bk.RGBA_CSS?Bk.RGB_CSS:e===Bk.HSLA_CSS?Bk.HSL_CSS:e===$k.RGBA?$k.RGB:e===$k.HSLA?$k.HSL:e===$k.HSVA?$k.HSV:e}function Kk(e,t,n){const r=n?Tk.l.preview.size:t.preview.size,i=e-2,o=3*t.gap;return Math.max(i-o-r,0)}function Yk(e){const t=e-2;return{width:Math.max(t,0),height:Math.max(Math.floor(t/1.8),0)}}const Xk="swatch",Qk="swatch--no-color",eP="checker",tP="rgba(0, 0, 0, 0.3)",nP="rgba(255, 255, 255, 0.15)",rP=4,iP=8,oP=DC.AH`:host{position:relative;display:inline-flex}:host([scale=s]){block-size:1.25rem;inline-size:1.25rem}:host([scale=m]){block-size:1.5rem;inline-size:1.5rem}:host([scale=l]){block-size:2rem;inline-size:2rem}.swatch{overflow:hidden;block-size:inherit;inline-size:inherit}.swatch rect{transition-property:all;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.swatch--no-color rect{fill:var(--calcite-color-foreground-1)}.swatch--no-color line{stroke:var(--calcite-color-status-danger)}.checker{fill:#cacaca}:host([hidden]){display:none}[hidden]{display:none}`;class sP extends nw.WF{constructor(){super(...arguments),this.active=!1,this.scale="m"}static{this.properties={active:[7,{},{reflect:!0,type:Boolean}],color:1,scale:[3,{},{reflect:!0}]}}static{this.styles=oP}load(){this.handleColorChange(this.color)}willUpdate(e){e.has("color")&&this.handleColorChange(this.color)}handleColorChange(e){this.internalColor=e?VE(e):null}render(){const e=!this.internalColor,t={[Xk]:!0,[Qk]:e};return CC.qy`<svg class=${(0,nw.CP)(t)} xmlns=http://www.w3.org/2000/svg>${this.renderSwatch()}</svg>`}renderSwatch(){const{active:e,el:t,internalColor:n}=this,r=e?"100%":"0",i={height:"100%",rx:r,stroke:"light"===(0,EC.C)(t)?tP:nP,strokeWidth:"2",width:"100%"};if(!n)return CC.JW`<clipPath id=shape><rect height=100% rx=${r??CC.s6} width=100% /></clipPath>${this.renderSwatchRect({clipPath:`inset(0 round ${r})`,...i})}<line clip-path=url(#shape) stroke-width=3 x1=100% x2=0 y1=0 y2=100% />`;const o=n.alpha(),s=Zk(n),a=Zk(n,o<1);return CC.JW`<title>${a}</title><defs><pattern height=${iP} id=checker patternUnits=userSpaceOnUse width=${iP} x=0 y=0><rect class=${(0,nw.CP)(eP)} height=${rP} width=${rP} x=0 y=0 /><rect class=${(0,nw.CP)(eP)} height=${rP} width=${rP} x=${rP} y=${rP} /></pattern></defs>${this.renderSwatchRect({fill:"url(#checker)",rx:i.rx,height:i.height,width:i.width})}${this.renderSwatchRect({clipPath:o<1?"polygon(100% 0, 0 0, 0 100%)":`inset(0 round ${r})`,fill:s,...i})}${o<1?this.renderSwatchRect({clipPath:"polygon(100% 0, 100% 100%, 0 100%)",fill:a,key:"opacity-fill",...i}):null}`}renderSwatchRect({clipPath:e,fill:t,height:n,key:r,rx:i,stroke:o,strokeWidth:s,width:a}){return(0,dE.D)(r,CC.JW`<rect clip-path=${e??CC.s6} fill=${t??CC.s6} height=${n??CC.s6} rx=${i??CC.s6} stroke=${o??CC.s6} stroke-width=${s??CC.s6} width=${a??CC.s6} />`)}}(0,TC.c)("calcite-color-picker-swatch",sP);var aP=s(60939),lP=s(21132);const cP="loader",uP="clear-button",dP="clearable",hP="icon",pP="prefix",fP="suffix",mP="number-button-wrapper",yP="number-button-item--horizontal",gP="element-wrapper",vP="wrapper",bP="action-wrapper",wP="number-button-item",_P="has-suffix",SP="has-prefix",xP="inputNumberValidationMessage",MP="action",AP=DC.AH`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{padding-inline:.5rem;font-size:var(--calcite-font-size--2);line-height:1rem;block-size:var(--calcite-input-number-height, 1.5rem)}:host([scale=s]) .number-button-wrapper,:host([scale=s]) .action-wrapper calcite-button,:host([scale=s]) .action-wrapper calcite-button button{block-size:var(--calcite-input-number-height, 1.5rem)}:host([scale=s]) .clear-button{min-block-size:1.5rem;min-inline-size:1.5rem}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{padding-inline:.75rem;font-size:var(--calcite-font-size--1);line-height:1rem;block-size:var(--calcite-input-number-height, 2rem)}:host([scale=m]) .number-button-wrapper,:host([scale=m]) .action-wrapper calcite-button,:host([scale=m]) .action-wrapper calcite-button button{block-size:var(--calcite-input-number-height, 2rem)}:host([scale=m]) .clear-button{min-block-size:2rem;min-inline-size:2rem}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{padding-inline:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;block-size:var(--calcite-input-number-height, 2.75rem)}:host([scale=l]) .number-button-wrapper,:host([scale=l]) .action-wrapper calcite-button,:host([scale=l]) .action-wrapper calcite-button button{block-size:var(--calcite-input-number-height, 2.75rem)}:host([scale=l]) .clear-button{min-block-size:2.75rem;min-inline-size:2.75rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}input{transition:var(--calcite-animation-timing),block-size 0,outline-offset 0s;-webkit-appearance:none;position:relative;margin:0;box-sizing:border-box;display:flex;max-block-size:100%;inline-size:100%;max-inline-size:100%;flex:1 1 0%;text-overflow:ellipsis;font-family:inherit;font-weight:var(--calcite-font-weight-normal);background-color:var(--calcite-input-number-background-color, var(--calcite-color-foreground-1));color:var(--calcite-input-number-text-color, var(--calcite-color-text-1));border-radius:var(--calcite-input-number-corner-radius, var(--calcite-corner-radius-sharp))}input:placeholder-shown{text-overflow:ellipsis}input{border-width:1px;border-style:solid;border-color:var(--calcite-input-number-border-color, var(--calcite-color-border-input))}input::placeholder,input:-ms-input-placeholder,input::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-input-number-placeholder-text-color, var(--calcite-color-text-3))}input:focus{border-color:var(--calcite-color-brand);color:var(--calcite-input-number-text-color-focus, var(--calcite-color-text-1))}input[readonly]{font-weight:var(--calcite-font-weight-medium);background-color:var(--calcite-input-number-background-color, var(--calcite-color-background))}input[readonly]:focus{color:var(--calcite-input-number-text-color-focus, var(--calcite-color-text-1))}calcite-icon{color:var(--calcite-input-actions-icon-color, var(--calcite-color-text-3))}input{outline-color:transparent}input:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([status=invalid]) input{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) input:focus{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([scale=s]) .icon{inset-inline-start:.5rem}:host([scale=m]) .icon{inset-inline-start:.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{padding-inline-start:2rem}:host([icon][scale=m]) input{padding-inline-start:2.5rem}:host([icon][scale=l]) input{padding-inline-start:3.5rem}.element-wrapper{position:relative;order:3;display:inline-flex;flex:1 1 0%;align-items:center}.icon{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);display:block;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.clear-button{pointer-events:initial;order:4;margin:0;box-sizing:border-box;display:flex;min-block-size:100%;cursor:pointer;align-items:center;justify-content:center;align-self:stretch;border-width:1px;border-style:solid;outline-color:transparent;border-color:var(--calcite-input-number-border-color, var(--calcite-color-border-input));background-color:var(--calcite-input-actions-background-color, var(--calcite-color-foreground-1));border-inline-start-width:0px}.clear-button:hover{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;background-color:var(--calcite-input-actions-background-color-hover, var(--calcite-color-foreground-2))}.clear-button:hover calcite-icon{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;color:var(--calcite-input-actions-icon-color-hover, var(--calcite-color-text-1))}.clear-button:active{background-color:var(--calcite-input-actions-background-color-press, var(--calcite-color-foreground-3))}.clear-button:active calcite-icon{color:var(--calcite-input-actions-icon-color-press, var(--calcite-color-text-1))}.clear-button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.clear-button:disabled{opacity:var(--calcite-opacity-disabled)}.loader{inset-block-start:1px;inset-inline:1px;pointer-events:none;position:absolute;display:block}.loader calcite-progress{--calcite-progress-background-color: var(--calcite-input-loading-background-color);--calcite-progress-fill-color: var(--calcite-input-loading-fill-color)}.action-wrapper{order:7;display:flex}.prefix,.suffix{box-sizing:border-box;display:flex;block-size:auto;min-block-size:100%;-webkit-user-select:none;user-select:none;align-content:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;font-weight:var(--calcite-font-weight-medium);line-height:1;border-color:var(--calcite-input-number-border-color, var(--calcite-color-border-input))}.prefix{order:2;border-inline-end-width:0px;inline-size:var(--calcite-input-prefix-size, auto);background-color:var(--calcite-input-prefix-background-color, var(--calcite-color-background));color:var(--calcite-input-prefix-text-color, var(--calcite-color-text-2))}.suffix{order:5;border-inline-start-width:0px;inline-size:var(--calcite-input-suffix-size, auto);background-color:var(--calcite-input-suffix-background-color, var(--calcite-color-background));color:var(--calcite-input-suffix-text-color, var(--calcite-color-text-2))}:host([alignment=start]) input{text-align:start}:host([alignment=end]) input{text-align:end}.number-button-wrapper{pointer-events:none;order:6;box-sizing:border-box;display:flex;flex-direction:column;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}:host([number-button-type=vertical]) .wrapper{flex-direction:row;display:flex}:host([number-button-type=vertical]) input{order:2}:host([number-button-type=horizontal]) .calcite--rtl .number-button-item[data-adjustment=down] calcite-icon{transform:rotate(-90deg)}:host([number-button-type=horizontal]) .calcite--rtl .number-button-item[data-adjustment=up] calcite-icon{transform:rotate(-90deg)}.number-button-item.number-button-item--horizontal[data-adjustment=down],.number-button-item.number-button-item--horizontal[data-adjustment=up]{order:1;max-block-size:100%;min-block-size:100%;align-self:stretch}.number-button-item.number-button-item--horizontal[data-adjustment=down] calcite-icon,.number-button-item.number-button-item--horizontal[data-adjustment=up] calcite-icon{transform:rotate(90deg)}.number-button-item.number-button-item--horizontal[data-adjustment=down]{border-inline-start-width:1px;border-inline-end-width:0px}.number-button-item.number-button-item--horizontal[data-adjustment=up]{order:5}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]{border-block-start-width:0px}.number-button-item{max-block-size:50%;min-block-size:50%;pointer-events:initial;margin:0;box-sizing:border-box;display:flex;cursor:pointer;align-items:center;align-self:center;border-width:1px;border-style:solid;padding-block:0px;padding-inline:.5rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;border-inline-start-width:0px;border-color:var(--calcite-input-number-border-color, var(--calcite-color-border-input));background-color:var(--calcite-input-actions-background-color, var(--calcite-color-foreground-1))}.number-button-item calcite-icon{pointer-events:none;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.number-button-item:disabled{pointer-events:none}.number-button-item:hover{background-color:var(--calcite-input-actions-background-color-hover, var(--calcite-color-foreground-2))}.number-button-item:hover calcite-icon{color:var(--calcite-input-actions-icon-color-hover, var(--calcite-color-text-1))}.number-button-item:active{background-color:var(--calcite-input-actions-background-color-press, var(--calcite-color-foreground-3))}.number-button-item:active calcite-icon{color:var(--calcite-input-actions-icon-color-press, var(--calcite-color-text-1))}.prefix,:host([number-button-type=horizontal]) .number-button-item[data-adjustment=down]{border-start-start-radius:var(--calcite-input-number-corner-radius, var(--calcite-corner-radius-sharp));border-end-start-radius:var(--calcite-input-number-corner-radius, var(--calcite-corner-radius-sharp))}:host([read-only]) .suffix,:host([read-only]) .wrapper:not(.has-suffix) .clear-button,:host([number-button-type=horizontal]) .number-button-item[data-adjustment=up]{border-end-end-radius:var(--calcite-input-number-corner-radius, var(--calcite-corner-radius-sharp));border-start-end-radius:var(--calcite-input-number-corner-radius, var(--calcite-corner-radius-sharp))}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]{border-block-start-width:0px;border-end-end-radius:var(--calcite-input-number-corner-radius, var(--calcite-corner-radius-sharp))}:host([number-button-type=vertical]) .number-button-item[data-adjustment=up]{border-start-end-radius:var(--calcite-input-number-corner-radius, var(--calcite-corner-radius-sharp))}:host(:not([read-only])[number-button-type=horizontal]) .prefix,:host(:not([read-only])[number-button-type=horizontal]) input,.has-prefix input{border-start-start-radius:0;border-end-start-radius:0}.has-suffix input,:host .clearable input,:host(:not([read-only])) input,:host .suffix,:host .clear-button{border-start-end-radius:0;border-end-end-radius:0}:host .wrapper{position:relative;display:flex;flex-direction:row;align-items:center}:host(.no-bottom-border) input{border-block-end-width:0px}:host(.border-top-color-one) input{border-block-start-color:var(--calcite-color-border-1)}input.inline-child{background-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}input.inline-child .editing-enabled{background-color:inherit}input.inline-child:not(.editing-enabled){display:flex;cursor:pointer;text-overflow:ellipsis;border-color:transparent;padding-inline-start:0}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}::placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-input-placeholder-text-color, var(--calcite-color-text-3))}`;class TP extends nw.WF{constructor(){super(),this.actionWrapperEl=(0,IC._)(),this.attributeWatch=(0,WC.oW)(["autofocus","enterkeyhint","inputmode"],this.handleGlobalAttributesChanged),this.inputWrapperEl=(0,IC._)(),this.onHiddenFormInputInput=e=>{e.target.name===this.name&&this.setNumberValue({value:e.target.value,origin:"direct"}),this.setFocus(),e.stopPropagation()},this.previousValueOrigin="initial",this.userChangedValue=!1,this._value="",this.messages=(0,KC.u)(),this.slottedActionElDisabledInternally=!1,this.alignment="start",this.clearable=!1,this.disabled=!1,this.editingEnabled=!1,this.groupSeparator=!1,this.iconFlipRtl=!1,this.integer=!1,this.loading=!1,this.localeFormat=!1,this.numberButtonType="vertical",this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.calciteInputNumberChange=(0,nw.lh)({cancelable:!1}),this.calciteInputNumberInput=(0,nw.lh)(),this.calciteInternalInputNumberBlur=(0,nw.lh)({cancelable:!1}),this.calciteInternalInputNumberFocus=(0,nw.lh)({cancelable:!1}),this.listen("click",this.clickHandler),this.listen("keydown",this.keyDownHandler)}static{this.properties={displayedValue:[16,{},{state:!0}],slottedActionElDisabledInternally:[16,{},{state:!0}],alignment:[3,{},{reflect:!0}],autocomplete:[0,{},{attribute:!1}],clearable:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],editingEnabled:[7,{},{reflect:!0,type:Boolean}],form:[3,{},{reflect:!0}],groupSeparator:[7,{},{reflect:!0,type:Boolean}],icon:[3,{converter:nw.pf},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],integer:[5,{},{type:Boolean}],label:1,loading:[7,{},{reflect:!0,type:Boolean}],localeFormat:[5,{},{type:Boolean}],max:[11,{},{reflect:!0,type:Number}],maxLength:[11,{},{reflect:!0,type:Number}],messageOverrides:[0,{},{attribute:!1}],min:[11,{},{reflect:!0,type:Number}],minLength:[11,{},{reflect:!0,type:Number}],name:[3,{},{reflect:!0}],numberButtonType:[3,{},{reflect:!0}],numberingSystem:[3,{},{reflect:!0}],placeholder:1,prefixText:1,readOnly:[7,{},{reflect:!0,type:Boolean}],required:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],status:[3,{},{reflect:!0}],step:[3,{},{reflect:!0}],suffixText:1,validationIcon:[3,{converter:nw.pf},{reflect:!0}],validationMessage:1,validity:[0,{},{attribute:!1}],value:1}}static{this.styles=AP}get value(){return this._value}set value(e){const t=this._value;e!==t&&(this._value=e,this.valueWatcher(e,t),e&&""===this._value&&this.setNumberValue({origin:"reset",value:t}))}async selectText(){this.childNumberEl?.select()}async setFocus(){await(0,OC.c)(this),this.childNumberEl?.focus()}connectedCallback(){super.connectedCallback(),this.inlineEditableEl=this.el.closest("calcite-inline-editable"),this.inlineEditableEl&&(this.editingEnabled=this.inlineEditableEl.editingEnabled||!1),(0,RC.c)(this),(0,kC.c)(this),this.el.addEventListener(kC.i,this.onHiddenFormInputInput)}async load(){this.maxString=this.max?.toString(),this.minString=this.min?.toString(),this.requestedIcon=(0,EC.v)({},this.icon,"number"),this.setPreviousEmittedNumberValue(this.value),this.setPreviousNumberValue(this.value),this.warnAboutInvalidNumberValue(this.value),"Infinity"===this.value||"-Infinity"===this.value?(this.displayedValue=this.value,this.previousEmittedNumberValue=this.value):this.setNumberValue({origin:"connected",value:(0,lP.i)(this.value)?this.value:""})}willUpdate(e){e.has("max")&&(this.maxString=this.max?.toString()||null),e.has("min")&&(this.minString=this.min?.toString()||null),e.has("icon")&&(this.requestedIcon=(0,EC.v)({},this.icon,"number")),e.has("messages")&&(lP.n.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,useGrouping:!1})}updated(){(0,PC.u)(this)}disconnectedCallback(){super.disconnectedCallback(),(0,RC.d)(this),(0,kC.d)(this),this.el.removeEventListener(kC.i,this.onHiddenFormInputInput)}get isClearable(){return this.clearable&&this.value.length>0}handleGlobalAttributesChanged(){this.requestUpdate()}valueWatcher(e,t){if(!this.userChangedValue){if("Infinity"===e||"-Infinity"===e)return this.displayedValue=e,void(this.previousEmittedNumberValue=e);this.setNumberValue({origin:"direct",previousValue:t,value:null==e||""==e?"":(0,lP.i)(e)?e:this.previousValue||""}),this.warnAboutInvalidNumberValue(e)}this.userChangedValue=!1}keyDownHandler(e){this.readOnly||this.disabled||e.defaultPrevented||(this.isClearable&&"Escape"===e.key&&(this.clearInputValue(e),e.preventDefault()),"Enter"===e.key&&(0,kC.s)(this)&&e.preventDefault())}onLabelClick(){this.setFocus()}incrementOrDecrementNumberValue(e,t,n,r){const{value:i}=this;if("Infinity"===i||"-Infinity"===i)return;const o="up"===e?1:-1,s=this.integer&&"any"!==this.step?Math.round(this.step):this.step,a="any"===s?1:Math.abs(s||1),l=new lP.B(""!==i?i:"0").add(""+a*o),c="number"==typeof n&&!isNaN(n)&&l.subtract(`${n}`).isNegative?`${n}`:"number"!=typeof t||isNaN(t)||l.subtract(`${t}`).isNegative?l.toString():`${t}`;this.setNumberValue({committing:!0,nativeEvent:r,origin:"user",value:c})}clearInputValue(e){this.setNumberValue({committing:!0,nativeEvent:e,origin:"user",value:""})}emitChangeIfUserModified(){"user"===this.previousValueOrigin&&this.value!==this.previousEmittedNumberValue&&(this.calciteInputNumberChange.emit(),this.setPreviousEmittedNumberValue(this.value))}inputNumberBlurHandler(){window.clearInterval(this.nudgeNumberValueIntervalId),this.calciteInternalInputNumberBlur.emit(),this.emitChangeIfUserModified()}clickHandler(e){if(this.disabled)return;const t=e.composedPath();t.includes(this.inputWrapperEl.value)&&!t.includes(this.actionWrapperEl.value)&&this.setFocus()}inputNumberFocusHandler(){this.calciteInternalInputNumberFocus.emit()}inputNumberInputHandler(e){if(this.disabled||this.readOnly)return;if("Infinity"===this.value||"-Infinity"===this.value)return;const t=e.target.value;lP.n.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator};const n=lP.n.delocalize(t);"insertFromPaste"===e.inputType?((!(0,lP.i)(n)||this.integer&&(n.includes("e")||n.includes(".")))&&e.preventDefault(),this.setNumberValue({nativeEvent:e,origin:"user",value:(0,lP.p)(n)}),this.childNumberEl.value=this.displayedValue):this.setNumberValue({nativeEvent:e,origin:"user",value:n})}inputNumberKeyDownHandler(e){if(this.disabled||this.readOnly)return;if("Infinity"===this.value||"-Infinity"===this.value)return e.preventDefault(),void("Backspace"!==e.key&&"Delete"!==e.key||this.clearInputValue(e));if("ArrowUp"===e.key)return e.preventDefault(),void this.nudgeNumberValue("up",e);if("ArrowDown"===e.key)return e.preventDefault(),void this.nudgeNumberValue("down",e);const t=[...aP.n,"ArrowLeft","ArrowRight","Backspace","Delete","Enter","Escape","Tab"];if(e.altKey||e.ctrlKey||e.metaKey)return;const n=e.shiftKey&&"Tab"===e.key;if(t.includes(e.key)||n)"Enter"===e.key&&this.emitChangeIfUserModified();else{if(lP.n.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator},e.key===lP.n.decimal&&!this.integer){if(!this.value&&!this.childNumberEl.value)return;if(this.value&&-1===this.childNumberEl.value.indexOf(lP.n.decimal))return}if(/[eE]/.test(e.key)&&!this.integer){if(!this.value&&!this.childNumberEl.value)return;if(this.value&&!/[eE]/.test(this.childNumberEl.value))return}if("-"===e.key){if(!this.value&&!this.childNumberEl.value)return;if(this.value&&this.childNumberEl.value.split("-").length<=2)return}e.preventDefault()}}nudgeNumberValue(e,t){if(t instanceof KeyboardEvent&&t.repeat)return;const n=this.maxString?parseFloat(this.maxString):null,r=this.minString?parseFloat(this.minString):null;this.incrementOrDecrementNumberValue(e,n,r,t),this.nudgeNumberValueIntervalId&&window.clearInterval(this.nudgeNumberValueIntervalId);let i=!0;this.nudgeNumberValueIntervalId=window.setInterval((()=>{i?i=!1:this.incrementOrDecrementNumberValue(e,n,r,t)}),150)}nudgeButtonPointerUpHandler(e){(0,EC.i)(e)&&window.clearInterval(this.nudgeNumberValueIntervalId)}nudgeButtonPointerOutHandler(){window.clearInterval(this.nudgeNumberValueIntervalId)}nudgeButtonPointerDownHandler(e){if(!(0,EC.i)(e))return;e.preventDefault();const t=e.target.dataset.adjustment;this.disabled||this.nudgeNumberValue(t,e)}syncHiddenFormInput(e){(0,JC.s)("number",this,e)}setChildNumberElRef(e){this.childNumberEl=e}setInputNumberValue(e){this.childNumberEl&&(this.childNumberEl.value=e)}setPreviousEmittedNumberValue(e){this.previousEmittedNumberValue=this.normalizeValue(e)}normalizeValue(e){return(0,lP.i)(e)?e:""}setPreviousNumberValue(e){this.previousValue=this.normalizeValue(e)}setNumberValue({committing:e=!1,nativeEvent:t,origin:n,previousValue:r,value:i}){lP.n.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator};const o=this.previousValue?.length>i.length||this.value?.length>i.length,s=this.integer?i.replace(/[e.]/g,""):i,a="."===s.charAt(s.length-1),l="-"===s.charAt(0),c=s.match(/^-?(0+)\d/),u=a&&o?s:(0,lP.s)(s),d=i&&!u?(0,lP.i)(this.previousValue)?this.previousValue:"":u;let h=lP.n.localize(d);"connected"===n||a||(h=(0,lP.c)(h,d,lP.n)),a&&o&&(h=`${h}${lP.n.decimal}`),c&&(h=`${l?h.charAt(0):""}${lP.n.localize("0").repeat(c[1].length)}${l?h.slice(1):h}`),this.displayedValue=h,this.setPreviousNumberValue(r??this.value),this.previousValueOrigin=n,this.userChangedValue="user"===n&&this.value!==d;const p=["-","."].includes(d)?"":d;this.value=p;const f=new Set(["e","E",lP.n.decimal,lP.n.minusSign,lP.n.group,...lP.n.digits]),m=this.childNumberEl?.value;if(m){const e=Array.from(m).filter((e=>f.has(e))).join("");e!==m&&this.setInputNumberValue(e)}if("direct"===n&&(this.setInputNumberValue(h),this.setPreviousEmittedNumberValue(p)),t){this.calciteInputNumberInput.emit().defaultPrevented?(this.value=this.previousValue,this.displayedValue=lP.n.localize(this.previousValue)):e&&this.emitChangeIfUserModified()}}inputNumberKeyUpHandler(){window.clearInterval(this.nudgeNumberValueIntervalId)}warnAboutInvalidNumberValue(e){e&&(0,lP.i)(e)}render(){const e=(0,EC.g)(this.el),t=CC.qy`<div class=${(0,nw.CP)(cP)}><calcite-progress .label=${this.messages.loading} type=indeterminate></calcite-progress></div>`,n=CC.qy`<button .ariaLabel=${this.messages.clear} class=${(0,nw.CP)(uP)} .disabled=${this.disabled||this.readOnly} @click=${this.clearInputValue} tabindex=-1 type=button><calcite-icon icon=x .scale=${(0,OC.g)(this.scale)}></calcite-icon></button>`,r=CC.qy`<calcite-icon class=${(0,nw.CP)(hP)} .flipRtl=${this.iconFlipRtl} .icon=${this.requestedIcon} .scale=${(0,OC.g)(this.scale)}></calcite-icon>`,i="horizontal"===this.numberButtonType,o=CC.qy`<button aria-hidden=true class=${(0,nw.CP)({[wP]:!0,[yP]:i})} data-adjustment=up .disabled=${this.disabled||this.readOnly} @pointerdown=${this.nudgeButtonPointerDownHandler} @pointerout=${this.nudgeButtonPointerOutHandler} @pointerup=${this.nudgeButtonPointerUpHandler} tabindex=-1 type=button><calcite-icon icon=chevron-up .scale=${(0,OC.g)(this.scale)}></calcite-icon></button>`,s=CC.qy`<button aria-hidden=true class=${(0,nw.CP)({[wP]:!0,[yP]:i})} data-adjustment=down .disabled=${this.disabled||this.readOnly} @pointerdown=${this.nudgeButtonPointerDownHandler} @pointerout=${this.nudgeButtonPointerOutHandler} @pointerup=${this.nudgeButtonPointerUpHandler} tabindex=-1 type=button><calcite-icon icon=chevron-down .scale=${(0,OC.g)(this.scale)}></calcite-icon></button>`,a=CC.qy`<div class=${(0,nw.CP)(mP)}>${o}${s}</div>`,l=CC.qy`<div class=${(0,nw.CP)(pP)}>${this.prefixText}</div>`,c=CC.qy`<div class=${(0,nw.CP)(fP)}>${this.suffixText}</div>`,u=(0,dE.D)("localized-input",CC.qy`<input aria-errormessage=${xP} .ariaInvalid=${"invalid"===this.status} .ariaLabel=${(0,RC.g)(this)} autocomplete=${this.autocomplete??CC.s6} .autofocus=${this.el.autofocus} value=${this.defaultValue??CC.s6} .disabled=${this.disabled} enterkeyhint=${this.el.enterKeyHint??CC.s6} inputmode=${this.el.inputMode||"decimal"} maxlength=${this.maxLength??CC.s6} minlength=${this.minLength??CC.s6} name=${CC.s6} @blur=${this.inputNumberBlurHandler} @focus=${this.inputNumberFocusHandler} @input=${this.inputNumberInputHandler} @keydown=${this.inputNumberKeyDownHandler} @keyup=${this.inputNumberKeyUpHandler} placeholder=${(this.placeholder||"")??CC.s6} .readOnly=${this.readOnly} type=text .value=${(0,HC.V)(this.displayedValue??"")} ${(0,IC.K)(this.setChildNumberElRef)}>`);return(0,PC.I)({disabled:this.disabled,children:CC.qy`<div class=${(0,nw.CP)({[vP]:!0,[TC.C.rtl]:"rtl"===e,[_P]:this.suffixText,[SP]:this.prefixText,[dP]:this.isClearable})} ${(0,IC.K)(this.inputWrapperEl)}>${"horizontal"!==this.numberButtonType||this.readOnly?null:s}${this.prefixText?l:null}<div class=${(0,nw.CP)(gP)}>${u}${this.isClearable?n:null}${this.requestedIcon?r:null}${this.loading?t:null}</div><div class=${(0,nw.CP)(bP)} ${(0,IC.K)(this.actionWrapperEl)}><slot name=${MP}></slot></div>${"vertical"!==this.numberButtonType||this.readOnly?null:a}${this.suffixText?c:null}${"horizontal"!==this.numberButtonType||this.readOnly?null:o}${(0,kC.H)({component:this})}</div>${this.validationMessage&&"invalid"===this.status?(0,LC.V)({icon:this.validationIcon,id:xP,message:this.validationMessage,scale:this.scale,status:this.status}):null}`})}}(0,TC.c)("calcite-input-number",TP);const IP="container",CP="hex-input",EP="opacity-input",kP=DC.AH`:host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:100px;margin-inline-start:-1px}:host([hidden]){display:none}[hidden]{display:none}`,PP=VE();class RP extends nw.WF{constructor(){super(...arguments),this.internalColor=PP,this.alphaChannel=!1,this.allowEmpty=!1,this.hexLabel="Hex",this.scale="m",this.value=jk(Zk(PP,this.alphaChannel),this.alphaChannel,!0),this.calciteColorPickerHexInputChange=(0,nw.lh)({cancelable:!1})}static{this.properties={internalColor:[16,{},{state:!0}],alphaChannel:[5,{},{type:Boolean}],allowEmpty:[5,{},{type:Boolean}],hexLabel:1,messages:[0,{},{attribute:!1}],numberingSystem:1,scale:[3,{},{reflect:!0}],value:[3,{},{reflect:!0}]}}static{this.styles=kP}async setFocus(){return await(0,OC.c)(this),(0,EC.b)(this.hexInputNode)}connectedCallback(){super.connectedCallback(),this.previousNonNullValue=this.value;const{allowEmpty:e,alphaChannel:t,value:n}=this;if(n){const e=jk(n,t);Nk(e,t)&&this.internalSetValue(e,e,!1)}else e&&this.internalSetValue(void 0,void 0,!1)}willUpdate(e){e.has("value")&&(this.hasUpdated||this.value!==jk(Zk(PP,this.alphaChannel),this.alphaChannel,!0))&&this.internalSetValue(this.value,e.get("value"),!1)}onHexInputBlur(){const e=this.hexInputNode,t=e.value,n=`#${t}`,{allowEmpty:r,internalColor:i}=this,o=r&&!t,s=Fk(n);(Dk(n,!0)||Dk(n,!1))&&this.onHexInputChange(),o||Nk(n)&&s||(e.value=r&&!i?"":this.formatHexForInternalInput(Uk(i.object())))}onOpacityInputBlur(){const e=this.opacityInputNode,t=e.value,{allowEmpty:n,internalColor:r}=this;n&&!t||(e.value=n&&!r?"":this.formatOpacityForInternalInput(r))}onOpacityInputInput(){this.onOpacityInputChange()}onHexInputChange(){let e=this.hexInputNode.value;if(e){const t=jk(e,!1);if(Nk(t)&&this.alphaChannel&&this.internalColor){e=`${t+jk(this.internalColor.hexa(),!0).slice(-2)}`}}this.internalSetValue(e,this.value)}onOpacityInputChange(){const e=this.opacityInputNode;let t;if(e.value){const n=Ok(Number(e.value));t=this.internalColor?.alpha(n).hexa()}else t=e.value;this.internalSetValue(t,this.value)}onInputFocus(e){"calciteInternalInputTextFocus"===e.type?this.hexInputNode.selectText():this.opacityInputNode.selectText()}onHexInputInput(){const e=`#${this.hexInputNode.value}`,t=this.value;Nk(e,this.alphaChannel)&&Fk(e,this.alphaChannel)&&this.internalSetValue(e,t)}onInputKeyDown(e){const{altKey:t,ctrlKey:n,metaKey:r,shiftKey:i}=e,{alphaChannel:o,hexInputNode:s,internalColor:a,value:l}=this,{key:c}=e,u=e.composedPath();if("Tab"===c&&Dk(l,this.alphaChannel)||"Enter"===c)return u.includes(s)?this.onHexInputChange():this.onOpacityInputChange(),void("Enter"===c&&e.preventDefault());const d="ArrowDown"===c||"ArrowUp"===c,h=this.value;if(d){if(!l)return this.internalSetValue(this.previousNonNullValue,h),void e.preventDefault();const t="ArrowUp"===c?1:-1,n=i?10:1;return this.internalSetValue(Zk(this.nudgeRGBChannels(a,n*t,u.includes(s)?"rgb":"a"),o),h),void e.preventDefault()}const p=t||n||r,f=1===c.length,m=Ik.test(c);!f||p||m||e.preventDefault()}onHexInputPaste(e){const t=e.clipboardData.getData("text");Nk(t,this.alphaChannel)&&Fk(t,this.alphaChannel)&&(e.preventDefault(),this.hexInputNode.value=t.slice(1),this.internalSetValue(t,this.value))}internalSetValue(e,t,n=!0){if(e){const{alphaChannel:t}=this,r=jk(e,t,t);if(Nk(r,t)){const{internalColor:e}=this,i=VE(r),o=jk(Zk(i,t),t),s=!e||o!==jk(Zk(e,t),t);return this.internalColor=i,this.previousNonNullValue=o,this.value=o,void(s&&n&&this.calciteColorPickerHexInputChange.emit())}}else if(this.allowEmpty)return this.internalColor=void 0,this.value=void 0,void(n&&this.calciteColorPickerHexInputChange.emit());this.value=t}storeHexInputRef(e){this.hexInputNode=e}storeOpacityInputRef(e){this.opacityInputNode=e}formatHexForInternalInput(e){return e?e.replace("#","").slice(0,6):""}formatOpacityForInternalInput(e){return e?`${Rk(e.alpha())}`:""}nudgeRGBChannels(e,t,n){let r;const i=e.array(),o=i.slice(0,3);if("rgb"===n){r=[...o.map((e=>e+t)),this.alphaChannel?i[3]:void 0]}else{const n=Ok(Rk(e.alpha())+t);r=[...o,n]}return VE(r)}render(){const{alphaChannel:e,hexLabel:t,internalColor:n,messages:r,scale:i,value:o}=this,s=this.formatHexForInternalInput(o),a=this.formatOpacityForInternalInput(n),l="l"===i?"m":"s";return CC.qy`<div class=${(0,nw.CP)(IP)}><calcite-input-text class=${(0,nw.CP)(CP)} .label=${r?.hex||t} .maxLength=${this.alphaChannel?8:6} @keydown=${this.onInputKeyDown} @paste=${this.onHexInputPaste} @calciteInputTextChange=${this.onHexInputChange} @calciteInputTextInput=${this.onHexInputInput} @calciteInternalInputTextBlur=${this.onHexInputBlur} @calciteInternalInputTextFocus=${this.onInputFocus} prefix-text=# .scale=${l} .value=${s} ${(0,IC.K)(this.storeHexInputRef)}></calcite-input-text>${e?(0,dE.D)("opacity-input",CC.qy`<calcite-input-number class=${(0,nw.CP)(EP)} .label=${r?.opacity} .max=${Ak} max-length=3 .min=${Mk} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.onInputKeyDown} @calciteInputNumberInput=${this.onOpacityInputInput} @calciteInternalInputNumberBlur=${this.onOpacityInputBlur} @calciteInternalInputNumberFocus=${this.onInputFocus} .scale=${l} suffix-text=% .value=${a} ${(0,IC.K)(this.storeOpacityInputRef)}></calcite-input-number>`):null}</div>`}}(0,TC.c)("calcite-color-picker-hex-input",RP);const OP="section",NP="title-group",LP=DC.AH`:host{display:flex;flex-direction:column}:host([bordered]){box-shadow:inset 0 1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1));background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([bordered]) section{border-color:var(--calcite-tab-border-color, var(--calcite-color-border-1));border-style:solid}section{display:flex;flex-grow:1;overflow:hidden;border-width:1px;border-block-start-style:solid;border-block-start-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered][position=bottom]){box-shadow:inset 0 1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1)),inset 0 -1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]:not([position=bottom])) ::slotted(calcite-tab-nav){margin-block-end:-1px}:host([position=bottom]){flex-direction:column-reverse}:host([position=bottom]) section{flex-direction:column-reverse;border-block-start-width:0px;border-block-end-width:1px}:host([bordered][scale=s]) section{padding:.75rem}:host([bordered][scale=m]) section{padding:.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=bottom]:not([bordered])) section{border-block-end-style:solid;border-block-end-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}@media (forced-colors: active){:host([bordered]) section{border-block-start-width:0px;border-block-end-width:1px}:host([position=bottom][bordered]) section{border-block-start-width:1px;border-block-end-width:0px}}:host([hidden]){display:none}[hidden]{display:none}`;class DP extends nw.WF{constructor(){super(),this.tabs=[],this.titles=[],this.bordered=!1,this.layout="inline",this.position="top",this.scale="m",this.listen("calciteInternalTabNavSlotChange",this.calciteInternalTabNavSlotChangeHandler)}static{this.properties={tabs:[16,{},{state:!0}],titles:[16,{},{state:!0}],bordered:[5,{},{type:Boolean}],layout:[3,{},{reflect:!0}],position:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]}}static{this.styles=LP}connectedCallback(){super.connectedCallback(),this.updateItems()}load(){this.updateItems()}willUpdate(e){(e.has("position")&&(this.hasUpdated||"top"!==this.position)||e.has("scale")&&(this.hasUpdated||"m"!==this.scale))&&this.updateItems(),(e.has("titles")||e.has("tabs"))&&this.hasUpdated&&this.titles?.length>0&&this.tabs?.length>0&&(this.updateAriaSettings(),this.updateItems())}calciteInternalTabNavSlotChangeHandler(e){e.stopPropagation(),e.detail.length!==this.titles.length&&(this.titles=e.detail)}defaultSlotChangeHandler(e){this.tabs=(0,EC.s)(e,"calcite-tab")}async updateAriaSettings(){let e,t;await this.componentOnReady();const n=(0,EC.e)(this.slotEl,"calcite-tab");if(n.some((e=>e.tab))||this.titles.some((e=>e.tab)))e=n.sort(((e,t)=>e.tab.localeCompare(t.tab))).map((e=>e.id)),t=this.titles.sort(((e,t)=>e.tab.localeCompare(t.tab))).map((e=>e.id));else{const r=await Promise.all(n.map((e=>e.getTabIndex()))),i=await Promise.all(this.titles.map((e=>e.getTabIndex())));e=r.reduce(((e,t,r)=>(e[t]=n[r].id,e)),[]),t=i.reduce(((e,t,n)=>(e[t]=this.titles[n].id,e)),[])}n.forEach((n=>n._updateAriaInfo(e,t))),this.titles.forEach((n=>n._updateAriaInfo(e,t)))}updateItems(){const{position:e,scale:t}=this,n=this.el.querySelector("calcite-tab-nav");n&&(n.position=e,n.scale=t),Array.from(this.el.querySelectorAll("calcite-tab")).forEach((e=>{e.parentElement===this.el&&(e.scale=t)})),Array.from(this.el.querySelectorAll("calcite-tab-nav > calcite-tab-title")).forEach((n=>{n.position=e,n.scale=t}))}setDefaultSlotRef(e){this.slotEl=e}render(){return CC.qy`<slot name=${NP}></slot><section class=${(0,nw.CP)(OP)}><slot @slotchange=${this.defaultSlotChangeHandler} ${(0,IC.K)(this.setDefaultSlotRef)}></slot></section>`}}(0,TC.c)("calcite-tabs",DP);const FP="chevron-right",jP="chevron-left",ZP="container",UP="container--end-overflow",zP="container--start-overflow",VP="scroll-button",BP="scroll-button-container",$P="scroll-button-container--backward",GP="scroll-button-container--forward",qP="tab-titles-slot-wrapper",HP=DC.AH`:host{--calcite-internal-tab-nav-gradient-start-side: left;--calcite-internal-tab-nav-gradient-end-side: right;position:relative;display:flex}:host([bordered]):not([selected]) .container{background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([bordered]) calcite-button{--calcite-button-border-color: var(--calcite-tab-border-color, var(--calcite-color-border-1))}.scale-s{--calcite-internal-tab-nav-button-width: 24px;min-block-size:1.5rem}.scale-m{--calcite-internal-tab-nav-button-width: 32px;min-block-size:2rem}.scale-l{--calcite-internal-tab-nav-button-width: 44px;min-block-size:2.75rem}.calcite--rtl{--calcite-internal-tab-nav-gradient-start-side: right;--calcite-internal-tab-nav-gradient-end-side: left}.container--start-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%)}.container--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%)}.container--start-overflow.container--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%,transparent 51%),linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%,transparent 51%)}.container::-webkit-scrollbar{display:none;-ms-overflow-style:none;scrollbar-width:none}:host([layout=center]) ::slotted(calcite-tab-title){display:flex;flex-grow:1;flex-shrink:0;min-inline-size:auto;white-space:nowrap}:host([layout=center]) ::slotted(calcite-tab-title[selected]){overflow:unset}:host(:not([bordered])) .scale-l{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xxl)}:host(:not([bordered])) .scale-m{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xl)}:host(:not([bordered])) .scale-s{--calcite-internal-tab-nav-gap: var(--calcite-spacing-lg)}:host(:not([bordered])) .tab-titles-slot-wrapper{gap:var(--calcite-internal-tab-nav-gap)}:host([layout=center]:not([bordered])) .tab-titles-slot-wrapper{padding-inline:var(--calcite-spacing-xl)}.container,.tab-titles-slot-wrapper{display:flex;inline-size:100%;justify-content:flex-start;overflow:hidden;white-space:nowrap}.scroll-button-container{position:absolute;inset-block:0px}.scroll-button-container calcite-button{--calcite-button-text-color: var(--calcite-tab-text-color, var(--calcite-color-text-3));--calcite-button-background-color: var(--calcite-color-transparent);--calcite-offset-invert-focus: 1;block-size:var(--calcite-container-size-content-fluid)}.scroll-button-container calcite-button:hover .scroll-button-container calcite-button:focus{--calcite-button-background-color: var(--calcite-color-transparent-hover)}.scroll-button-container calcite-button:active{--calcite-button-background-color: var(--calcite-color-transparent-press)}.scroll-button-container--forward{inset-inline-end:0;z-index:var(--calcite-z-index)}.scroll-button-container--backward{inset-inline-start:0;z-index:var(--calcite-z-index)}:host(:not([bordered])) .scroll-button-container--backward:before,:host(:not([bordered])) .scroll-button-container--forward:before{background-color:var(--calcite-tab-border-color, var(--calcite-color-border-1));opacity:.5;content:"";inline-size:var(--calcite-border-width-sm);inset-block-start:var(--calcite-border-width-md);inset-block-end:var(--calcite-border-width-md);position:absolute}:host(:not([bordered])) .scroll-button-container--backward:before{inset-inline-end:0}:host(:not([bordered])) .scroll-button-container--forward:before{inset-inline-start:0}:host([hidden]){display:none}[hidden]{display:none}`;class WP extends nw.WF{constructor(){super(),this.effectiveDir="ltr",this.lastScrollWheelAxis="x",this.resizeObserver=(0,NC.c)("resize",(()=>{this.updateScrollingState()})),this.makeFirstVisibleTabClosable=!1,this.messages=(0,KC.u)(),this.hasOverflowingEndTabTitle=!1,this.hasOverflowingStartTabTitle=!1,this.bordered=!1,this.layout="inline",this.position="bottom",this.scale="m",this.selectedTitle=null,this.calciteInternalTabChange=(0,nw.lh)({cancelable:!1}),this.calciteInternalTabNavSlotChange=(0,nw.lh)(),this.calciteTabChange=(0,nw.lh)({cancelable:!1}),this.listen("calciteInternalTabsFocusPrevious",this.focusPreviousTabHandler),this.listen("calciteInternalTabsFocusNext",this.focusNextTabHandler),this.listen("calciteInternalTabsFocusFirst",this.focusFirstTabHandler),this.listen("calciteInternalTabsFocusLast",this.focusLastTabHandler),this.listen("calciteInternalTabsActivate",this.internalActivateTabHandler),this.listen("calciteInternalTabsClose",this.internalCloseTabHandler),this.listen("calciteInternalTabTitleRegister",this.updateTabTitles),this.listenOn(document.body,"calciteInternalTabChange",this.globalInternalTabChangeHandler)}static{this.properties={hasOverflowingEndTabTitle:[16,{},{state:!0}],hasOverflowingStartTabTitle:[16,{},{state:!0}],selectedTabId:[16,{},{state:!0}],bordered:[7,{},{reflect:!0,type:Boolean}],layout:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],position:1,scale:1,selectedTitle:[0,{},{attribute:!1}],storageId:[3,{},{reflect:!0}],syncId:[3,{},{reflect:!0}]}}static{this.styles=HP}connectedCallback(){super.connectedCallback(),this.parentTabsEl=this.el.closest("calcite-tabs"),this.resizeObserver?.observe(this.el)}async load(){const e=`calcite-tab-nav-${this.storageId}`;if(localStorage&&this.storageId&&localStorage.getItem(e)){const t=JSON.parse(localStorage.getItem(e));this.selectedTabId=t}}willUpdate(e){e.has("selectedTitle")&&(this.hasUpdated||null!==this.selectedTitle)&&this.calciteInternalTabChange.emit({tab:this.selectedTabId}),e.has("selectedTabId")&&this.selectedTabIdChanged();const{parentTabsEl:t}=this;this.layout=t?.layout,this.bordered=t?.bordered,this.effectiveDir=(0,EC.g)(this.el)}loaded(){this.scrollTabTitleIntoView(this.selectedTitle,"instant"),this.tabTitles.length&&this.tabTitles.every((e=>!e.selected))&&!this.selectedTabId&&this.tabTitles[0].getTabIdentifier().then((e=>{this.calciteInternalTabChange.emit({tab:e})}))}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}get enabledTabTitles(){return(0,EC.f)(this.el,"calcite-tab-title:not([disabled])").filter((e=>!e.closed))}get scrollerButtonWidth(){const{scale:e}=this;return parseInt("s"===e?"24px":"m"===e?"32px":"44px")}get tabTitles(){return(0,EC.f)(this.el,"calcite-tab-title")}focusPreviousTabHandler(e){this.handleTabFocus(e,e.target,"previous")}focusNextTabHandler(e){this.handleTabFocus(e,e.target,"next")}focusFirstTabHandler(e){this.handleTabFocus(e,e.target,"first")}focusLastTabHandler(e){this.handleTabFocus(e,e.target,"last")}internalActivateTabHandler(e){const t=e.target,n=this.selectedTitle;this.selectedTabId=e.detail.tab?e.detail.tab:this.getIndexOfTabTitle(t),e.stopPropagation(),this.selectedTitle=t,n?.id!==t.id&&e.detail.userTriggered&&this.calciteTabChange.emit(),this.scrollTabTitleIntoView(t)}scrollTabTitleIntoView(e,t="smooth"){e&&requestAnimationFrame((()=>{const n="ltr"===this.effectiveDir,r=this.tabTitleContainerEl,i=r.getBoundingClientRect(),o=e.getBoundingClientRect(),s=r.scrollLeft,a=n?this.hasOverflowingStartTabTitle:this.hasOverflowingEndTabTitle,l=n?this.hasOverflowingEndTabTitle:this.hasOverflowingStartTabTitle;if(o.left<i.left+(a?this.scrollerButtonWidth:0)){const e=s+(o.left-i.left)-this.scrollerButtonWidth;r.scrollTo({left:e,behavior:t})}else if(o.right>i.right-(l?this.scrollerButtonWidth:0)){const e=s+(o.right-i.right)+this.scrollerButtonWidth;r.scrollTo({left:e,behavior:t})}}))}internalCloseTabHandler(e){const t=e.target;this.handleTabTitleClose(t),e.stopPropagation()}async updateTabTitles(e){e.target.selected&&(this.selectedTabId=e.detail,this.selectedTitle=await this.getTabTitleById(this.selectedTabId))}globalInternalTabChangeHandler(e){this.syncId&&e.target!==this.el&&e.target.syncId===this.syncId&&this.selectedTabId!==e.detail.tab&&(this.selectedTabId=e.detail.tab),e.stopPropagation()}async selectedTabIdChanged(){await this.componentOnReady(),localStorage&&this.storageId&&void 0!==this.selectedTabId&&null!==this.selectedTabId&&localStorage.setItem(`calcite-tab-nav-${this.storageId}`,JSON.stringify(this.selectedTabId)),this.calciteInternalTabChange.emit({tab:this.selectedTabId})}onTabTitleWheel(e){e.preventDefault();const{deltaX:t,deltaY:n}=e,r=Math.abs(t),i=Math.abs(n);let o;r===i?o="x"===this.lastScrollWheelAxis?t:n:r>i?(o=t,this.lastScrollWheelAxis="x"):(o=n,this.lastScrollWheelAxis="y");const s=("rtl"===this.effectiveDir?-1:1)*o;e.currentTarget.scrollBy(s,0)}onSlotChange(){this.intersectionObserver?.disconnect();const e=this.tabTitles;e.forEach((e=>{this.intersectionObserver?.observe(e)}));const t=this.getVisibleTabTitlesIndices(e);t.length>1&&this.makeFirstVisibleTabClosable&&(e[t[0]].closable=!0,this.makeFirstVisibleTabClosable=!1),this.calciteInternalTabNavSlotChange.emit(e)}storeTabTitleWrapperRef(e){e&&(this.tabTitleContainerEl=e,this.intersectionObserver=(0,NC.c)("intersection",(()=>this.updateScrollingState()),{root:e,threshold:[0,.5,1]}))}updateScrollingState(){const e=this.tabTitleContainerEl;if(!e)return;let t,n;const r=e.scrollLeft,i=e.clientWidth,o=e.scrollWidth;"ltr"===this.effectiveDir?(t=r>0,n=r+i<o):(t=r<0,n=r!==-(o-i)),this.hasOverflowingStartTabTitle=t,this.hasOverflowingEndTabTitle=n}scrollToTabTitles(e){requestAnimationFrame((()=>{const t=this.tabTitleContainerEl,n=t.getBoundingClientRect(),r=Array.from(this.el.querySelectorAll("calcite-tab-title")),{effectiveDir:i}=this;"forward"===e&&r.reverse();let o=null;if(r.forEach((t=>{const r=t.getBoundingClientRect(),s=n.x+n.width,a=r.x+r.width;if("forward"===e&&"ltr"===i||"backward"===e&&"rtl"===i){if(r.x>s)o=t;else{a>s&&r.x>n.x&&(o=t)}}else{if(a<n.x)o=t;else{a<s&&r.x<n.x&&(o=t)}}})),o){const{scrollerButtonWidth:n}=this,r="forward"===e&&"ltr"===i||"backward"===e&&"rtl"===i?-n:o.offsetWidth-t.clientWidth+n,s=o.offsetLeft+r;t.scrollTo({left:s,behavior:"smooth"})}}))}scrollToNextTabTitles(){this.scrollToTabTitles("forward")}scrollToPreviousTabTitles(){this.scrollToTabTitles("backward")}handleTabFocus(e,t,n){const r=(0,EC.d)(this.enabledTabTitles,t,n);this.scrollTabTitleIntoView(r,"instant"),e.stopPropagation()}getIndexOfTabTitle(e,t=this.tabTitles){return t.indexOf(e)}onTabTitleScroll(){this.updateScrollingState()}async getTabTitleById(e){return Promise.all(this.tabTitles.map((e=>e.getTabIdentifier()))).then((t=>this.tabTitles[t.indexOf(e)]))}getVisibleTabTitlesIndices(e){return e.reduce(((e,t,n)=>t.closed?e:[...e,n]),[])}handleTabTitleClose(e){const{tabTitles:t}=this,n=e.selected,r=this.getVisibleTabTitlesIndices(t),i=r.length;if(1===i&&t[r[0]].closable)this.makeFirstVisibleTabClosable=!0,t[r[0]].closable=!1,this.selectedTabId=r[0],n&&t[r[0]].activateTab();else if(i>1){const n=t.findIndex((t=>t===e)),o=r.find((e=>e>n));this.selectedTabId===n&&(this.selectedTabId=o||i-1,t[this.selectedTabId].activateTab())}requestAnimationFrame((()=>{t[this.selectedTabId].focus()}))}render(){return this.el.role="tablist",CC.qy`<div class=${(0,nw.CP)({[ZP]:!0,[zP]:!!this.hasOverflowingStartTabTitle,[UP]:!!this.hasOverflowingEndTabTitle,[`scale-${this.scale}`]:!0,[`position-${this.position}`]:!0,[TC.C.rtl]:"rtl"===this.effectiveDir})}>${this.renderScrollButton("start")}<div class=${(0,nw.CP)({[qP]:!0})} @scroll=${this.onTabTitleScroll} @wheel=${this.onTabTitleWheel} ${(0,IC.K)(this.storeTabTitleWrapperRef)}><slot @slotchange=${this.onSlotChange}></slot></div>${this.renderScrollButton("end")}</div>`}renderScrollButton(e){const{bordered:t,messages:n,hasOverflowingStartTabTitle:r,hasOverflowingEndTabTitle:i,scale:o}=this,s="end"===e;return(0,dE.D)(e,CC.qy`<div class=${(0,nw.CP)({[BP]:!0,[$P]:!s,[GP]:s})} .hidden=${s&&!i||!s&&!r}><calcite-button .appearance=${t?"outline-fill":"transparent"} .ariaLabel=${s?n.nextTabTitles:n.previousTabTitles} class=${(0,nw.CP)({[VP]:!0})} icon-flip-rtl=both .iconStart=${s?FP:jP} kind=neutral @click=${s?this.scrollToNextTabTitles:this.scrollToPreviousTabTitles} .scale=${o} tabindex=-1></calcite-button></div>`)}}(0,TC.c)("calcite-tab-nav",WP);var JP=s(18883),KP=s(36752);const YP="x-button",XP="x-button--round",QP="container",eR="container--bottom",tR="content",nR="content--has-text",rR="icon-end",iR="icon-present",oR="icon-start",sR="calcite-tab-title--icon",aR=e=>`scale-${e}`,lR="selected-indicator",cR=DC.AH`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block;outline:2px solid transparent;outline-offset:2px;margin-inline-start:0px}:host([layout=inline]){flex:0 1 auto}:host([layout=center]){flex:1 1 auto}.content{position:relative;margin-block-end:.125rem;box-sizing:border-box;display:flex;block-size:100%;align-items:center;justify-content:center}.scale-s .content{padding-block:.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}.scale-s .x-button{inline-size:1.25rem}.scale-m .content{padding-block:.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}.scale-m .x-button{inline-size:1.75rem}.scale-l .content{padding-block:.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}.scale-l .x-button{inline-size:2rem}:host([closable]) .content{border-block-end-color:transparent}:host([layout=inline]) .content,:host([layout=center]) .content{padding-inline:.25rem}:host([layout=center]) .scale-s,:host([layout=center]) .scale-m,:host([layout=center]) .scale-l{margin-block:0px;justify-content:center;text-align:center}:host([layout=center]) .scale-s .content,:host([layout=center]) .scale-m .content,:host([layout=center]) .scale-l .content{flex:1 1 auto;flex-grow:1}.container{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;align-content:center;justify-content:space-between;padding-inline:0px;font-size:var(--calcite-font-size--1);line-height:1rem;outline-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;color:var(--calcite-tab-text-color, var(--calcite-color-text-3));background-color:var(--calcite-tab-background-color, transparent)}.selected-indicator{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:0;inset-inline-start:0;inset-inline-end:0;inline-size:100%}:host([bordered][selected]) .container:after{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:-1px;inset-inline-start:0;inset-inline-end:0;inline-size:100%;content:""}:host([bordered][selected]) .container.container--bottom:after{inset-block-start:-1px}:host([bordered][selected]:focus) .container:after{background:transparent}.container--bottom .selected-indicator{inset-block-end:unset;inset-block-start:0}:host(:not([bordered])) .container:hover,:host(:not([bordered])) .container:active{color:var(--calcite-color-text-1)}:host([bordered]:not([selected]):hover:not(:focus)) .selected-indicator{background-color:var(--calcite-color-foreground-2)}:host([bordered]:not([selected]):hover:not(:focus)) .container:not(.container--bottom) .selected-indicator{box-shadow:inset 0 1px var(--calcite-color-border-1)}:host([bordered]:not([selected]):hover:not(:focus)) .container.container--bottom .selected-indicator{box-shadow:inset 0 -1px var(--calcite-color-border-1)}:host([selected]:focus) .selected-indicator{block-size:4px}.calcite-tab-title--icon{position:relative;margin:0;display:inline-flex;align-self:center}.calcite-tab-title--icon svg{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.content--has-text .icon-start,.content--has-text .calcite-tab-title--icon.icon-start{color:var(--calcite-tab-icon-color-start, var(--calcite-icon-color))}.content--has-text .calcite-tab-title--icon.icon-start .icon-end,.content--has-text .calcite-tab-title--icon.icon-end{color:var(--calcite-tab-icon-color-end, var(--calcite-icon-color))}.content--has-text{padding:.25rem}.content--has-text .calcite-tab-title--icon.icon-start{margin-inline-end:var(--calcite-spacing-sm)}.content--has-text .calcite-tab-title--icon.icon-end{margin-inline-start:var(--calcite-spacing-sm)}.x-button{display:flex;block-size:100%;cursor:pointer;appearance:none;align-content:center;align-items:center;justify-content:center;align-self:center;border-style:none;background-color:transparent;outline-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;margin-inline-start:var(--calcite-spacing-sm);margin-inline-end:var(--calcite-spacing-px);block-size:calc(100% - var(--calcite-spacing-xxs));color:var(--calcite-tab-close-icon-color, var(--calcite-color-text-3));background-color:var(--calcite-tab-close-icon-background-color, var(--calcite-color-transparent))}.x-button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)))}.x-button:focus,.x-button:hover,.x-button:active{color:var(--calcite-tab-close-icon-color-press, var(--calcite-color-text-1));background-color:var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container{border-color:transparent;border-inline-width:var(--calcite-spacing-px);border-inline-style:solid}:host([bordered]) .container:hover,:host([bordered]) .container:active{color:var(--calcite-color-text-1)}:host([bordered]) .container .x-button calcite-icon{margin-block-start:var(--calcite-spacing-px)}:host([bordered]) .container .x-button:focus,:host([bordered]) .container .x-button:hover,:host([bordered]) .container .x-button:active{box-shadow:0 2px 0 0 var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container.container--bottom{border-block-start-style:solid;border-block-start-width:1px}:host([bordered]) .container.container--bottom .selected-indicator{inset-block-start:unset;inset-block-end:0}:host([bordered]) .container.container--bottom .x-button{box-shadow:0 -2px 0 0 var(--calcite-tab-close-icon-background-color, var(--calcite-color-transparent))}:host([bordered]) .container.container--bottom .x-button:focus,:host([bordered]) .container.container--bottom .x-button:hover,:host([bordered]) .container.container--bottom .x-button:active{box-shadow:0 -2px 0 0 var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container.container--bottom .x-button calcite-icon{margin-block-end:var(--calcite-spacing-px)}:host([bordered]) .container:not(.container--bottom){border-block-end-style:solid;border-block-end-width:1px}:host([bordered]) .container:not(.container--bottom) .x-button{block-size:calc(100% - var(--calcite-spacing-px));margin-block-start:-1px}:host([bordered]) .container .selected-indicator{inset-block-start:0;inset-block-end:unset;inset-inline-start:-1px;inset-inline-end:0;inline-size:calc(100% + var(--calcite-spacing-base))}:host([bordered]) .container:host(:not([selected])) .container .x-button{box-shadow:0 2px 0 0 transparent}:host([bordered]) .container:host(:not([selected])):host(:hover) .container:not(.container--bottom){border-block-end-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) .selected-indicator{box-shadow:inset 0 var(--calcite-internal-tab-shadow-length) var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) :not(.container--bottom){--calcite-internal-tab-shadow-length: 1px}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) .container--bottom{--calcite-internal-tab-shadow-length: -1px}:host([bordered]) .container:hover{background-color:var(--calcite-tab-background-color-hover, var(--calcite-color-foreground-2));border-block-end-color:var(--calcite-color-border-1)}:host(:hover) .selected-indicator{background-color:var(--calcite-color-border-3)}:host([selected]) .selected-indicator,:host([selected]:hover) .selected-indicator,:host(:focus) .selected-indicator,:host(:active) .selected-indicator{background-color:var(--calcite-tab-accent-color-press, var(--calcite-color-brand))}:host([closed]){display:none}:host([selected]) .container{border-color:transparent;color:var(--calcite-tab-text-color, var(--calcite-color-text-1))}:host([selected][bordered]) .container{border-inline-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([selected][bordered]) .container:after{background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([selected][bordered]) .container:hover,:host([selected][bordered]) .container:active{background:transparent}:host(:focus) .container{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host(:focus) .container:focus-within{outline-color:transparent}:host([icon-start][icon-end]) .calcite-tab-title--icon:first-child{margin-inline-end:var(--calcite-spacing-sm)}:host([layout=inline][bordered]) .scale-m .content,:host([layout=center][bordered]) .scale-m .content{padding-inline:.75rem}:host([layout=inline][bordered]) .scale-s .content,:host([layout=center][bordered]) .scale-s .content{padding-inline:.5rem}:host([layout=inline][bordered]) .scale-l .content,:host([layout=center][bordered]) .scale-l .content{padding-inline:1rem}:host([layout=inline][closable]) .scale-s .content,:host([layout=inline][closable]) .scale-m .content,:host([layout=inline][closable]) .scale-l .content{padding-inline-end:0}@media (forced-colors: active){:host{outline-width:0;outline-offset:0}:host(:focus) .container{outline-color:highlight}:host([bordered][selected]) .container{border-block-end-style:none}:host([bordered][selected]) .container--bottom{border-block-start-style:none}.x-button{z-index:var(--calcite-z-index)}.selected-indicator{background-color:highlight}}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) .container{pointer-events:none;opacity:.5}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`;class uR extends nw.WF{constructor(){super(),this.closeButtonEl=(0,IC._)(),this.guid=`calcite-tab-title-${(0,JP.g)()}`,this.mutationObserver=(0,NC.c)("mutation",(()=>this.updateHasText())),this.resizeObserver=(0,NC.c)("resize",(()=>{this.calciteInternalTabIconChanged.emit()})),this.messages=(0,KC.u)(),this.hasText=!1,this.bordered=!1,this.closable=!1,this.closed=!1,this.disabled=!1,this.position="top",this.scale="m",this.selected=!1,this.calciteInternalTabIconChanged=(0,nw.lh)({cancelable:!1}),this.calciteInternalTabTitleRegister=(0,nw.lh)({cancelable:!1}),this.calciteInternalTabsActivate=(0,nw.lh)({cancelable:!1}),this.calciteInternalTabsClose=(0,nw.lh)({cancelable:!1}),this.calciteInternalTabsFocusFirst=(0,nw.lh)({cancelable:!1}),this.calciteInternalTabsFocusLast=(0,nw.lh)({cancelable:!1}),this.calciteInternalTabsFocusNext=(0,nw.lh)({cancelable:!1}),this.calciteInternalTabsFocusPrevious=(0,nw.lh)({cancelable:!1}),this.calciteTabsActivate=(0,nw.lh)({cancelable:!1}),this.calciteTabsClose=(0,nw.lh)({cancelable:!1}),this.listenOn(document.body,"calciteInternalTabChange",this.internalTabChangeHandler),this.listen("click",this.onClick),this.listen("keydown",this.keyDownHandler)}static{this.properties={controls:[16,{},{state:!0}],hasText:[16,{},{state:!0}],bordered:[7,{},{reflect:!0,type:Boolean}],closable:[7,{},{reflect:!0,type:Boolean}],closed:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],iconEnd:[3,{},{reflect:!0}],iconFlipRtl:[3,{},{reflect:!0}],iconStart:[3,{},{reflect:!0}],layout:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],position:1,scale:1,selected:[7,{},{reflect:!0,type:Boolean}],tab:[3,{},{reflect:!0}]}}static{this.styles=cR}async activateTab(e=!0){if(this.disabled||this.closed)return;const t={tab:this.tab,userTriggered:e};this.calciteInternalTabsActivate.emit(t),e&&requestAnimationFrame((()=>this.calciteTabsActivate.emit()))}async getTabIdentifier(){return this.tab?this.tab:this.getTabIndex()}async getTabIndex(){return Array.prototype.indexOf.call((0,EC.n)(this.el.parentElement.children).filter((e=>e.matches("calcite-tab-title"))),this.el)}_updateAriaInfo(e=[],t=[]){this.controls=e[t.indexOf(this.el.id)]||null}connectedCallback(){super.connectedCallback(),this.setupTextContentObserver(),this.parentTabsEl=this.el.closest("calcite-tabs")}async load(){CC.S$||this.updateHasText(),this.tab&&this.selected&&this.activateTab(!1)}willUpdate(e){e.has("selected")&&(this.hasUpdated||!1!==this.selected)&&this.selectedHandler(),this.parentTabsEl&&(this.layout=this.parentTabsEl.layout,this.bordered=this.parentTabsEl.bordered)}updated(){(0,PC.u)(this)}async loaded(){this.calciteInternalTabTitleRegister.emit(await this.getTabIdentifier())}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),document.body?.dispatchEvent(new CustomEvent("calciteTabTitleUnregister",{detail:this.el})),this.resizeObserver?.disconnect()}selectedHandler(){this.selected&&this.activateTab(!1)}internalTabChangeHandler(e){e.composedPath().find((e=>"CALCITE-TABS"===e.tagName))===this.parentTabsEl&&(this.tab?this.selected=this.tab===e.detail.tab:this.getTabIndex().then((t=>{this.selected=t===e.detail.tab})),e.stopPropagation())}onClick(){this.activateTab()}keyDownHandler(e){switch(e.key){case" ":case"Enter":e.composedPath().includes(this.closeButtonEl.value)||(this.activateTab(),e.preventDefault());break;case"ArrowRight":e.preventDefault(),"ltr"===(0,EC.g)(this.el)?this.calciteInternalTabsFocusNext.emit():this.calciteInternalTabsFocusPrevious.emit();break;case"ArrowLeft":e.preventDefault(),"ltr"===(0,EC.g)(this.el)?this.calciteInternalTabsFocusPrevious.emit():this.calciteInternalTabsFocusNext.emit();break;case"Home":e.preventDefault(),this.calciteInternalTabsFocusFirst.emit();break;case"End":e.preventDefault(),this.calciteInternalTabsFocusLast.emit()}}closeClickHandler(){this.closeTabTitleAndNotify()}updateHasText(){this.hasText=this.el.textContent.trim().length>0}setupTextContentObserver(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}closeTabTitleAndNotify(){this.closed=!0,this.calciteInternalTabsClose.emit({tab:this.tab}),this.calciteTabsClose.emit()}render(){const{el:e,closed:t}=this,n=e.id||this.guid,r=CC.qy`<calcite-icon class=${(0,nw.CP)({[sR]:!0,[oR]:!0})} .flipRtl=${"start"===this.iconFlipRtl||"both"===this.iconFlipRtl} .icon=${this.iconStart} .scale=${(0,OC.g)(this.scale)}></calcite-icon>`,i=CC.qy`<calcite-icon class=${(0,nw.CP)({[sR]:!0,[rR]:!0})} .flipRtl=${"end"===this.iconFlipRtl||"both"===this.iconFlipRtl} .icon=${this.iconEnd} .scale=${(0,OC.g)(this.scale)}></calcite-icon>`;return(0,nw.Bq)(this.el,"aria-controls",this.controls),this.el.ariaSelected=(0,EC.t)(this.selected),(0,nw.Bq)(this.el,"id",n),this.el.role="tab",(0,nw.Bq)(this.el,"tabIndex",this.selected&&!this.disabled?0:-1),(0,PC.I)({disabled:this.disabled,children:CC.qy`<div class=${(0,nw.CP)({[QP]:!0,[eR]:"bottom"===this.position,[iR]:!!this.iconStart||!!this.iconEnd,[aR(this.scale)]:!0})} .hidden=${t} ${(0,IC.K)((e=>e?this.resizeObserver?.observe(e):null))}><div class=${(0,nw.CP)({[tR]:!0,[nR]:this.hasText})}>${this.iconStart?r:null}<slot></slot>${this.iconEnd?i:null}</div>${this.renderCloseButton()}<div class=${(0,nw.CP)(lR)}></div></div>`})}renderCloseButton(){const{closable:e,messages:t}=this;return e?(0,dE.D)("close-button",(({disabled:e,focusable:t,key:n,label:r,onClick:i,ref:o,round:s=!0,scale:a,title:l})=>(0,dE.D)(n,KP.qy`<button .ariaLabel=${r} class=${(0,nw.CP)({[(e=>`x-button--${e}`)(a)]:!0,[YP]:!0,[XP]:s})} .disabled=${e} @click=${i} .tabIndex=${t?0:-1} title=${l??KP.s6} type=button ${(0,IC.K)(o)}><calcite-icon icon=x .scale=${(0,OC.g)(a)}></calcite-icon></button>`))({disabled:!1,focusable:!0,label:t.close,onClick:this.closeClickHandler,ref:this.closeButtonEl,round:!1,scale:this.scale,title:t.close})):null}}(0,TC.c)("calcite-tab-title",uR);const dR="container",hR="content",pR=DC.AH`:host{display:none}:host,.container,.content{block-size:100%;inline-size:100%}:host([selected]),:host([selected]) .container{display:flex;flex-direction:column}.content{box-sizing:border-box;padding-block:var(--calcite-tab-content-space-y, var(--calcite-tab-content-block-padding, var(--calcite-internal-tab-content-space-y)))}.scale-s{--calcite-internal-tab-content-space-y: .25rem;font-size:var(--calcite-font-size-sm);line-height:1rem}.scale-m{--calcite-internal-tab-content-space-y: .5rem;font-size:var(--calcite-font-size);line-height:1rem}.scale-l{--calcite-internal-tab-content-space-y: .625rem;font-size:var(--calcite-font-size-md);line-height:1.25rem}.container{display:none;block-size:100%;inline-size:100%;overflow:auto;outline-color:transparent}.container:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([hidden]){display:none}[hidden]{display:none}`;class fR extends nw.WF{constructor(){super(),this.guid=`calcite-tab-title-${(0,JP.g)()}`,this.scale="m",this.selected=!1,this.listenOn(document.body,"calciteInternalTabChange",this.internalTabChangeHandler)}static{this.properties={labeledBy:[16,{},{state:!0}],scale:1,selected:[7,{},{reflect:!0,type:Boolean}],tab:[3,{},{reflect:!0}]}}static{this.styles=pR}async getTabIndex(){return Array.prototype.indexOf.call((0,EC.n)(this.el.parentElement.children).filter((e=>e.matches("calcite-tab"))),this.el)}_updateAriaInfo(e=[],t=[]){this.labeledBy=t[e.indexOf(this.el.id)]||null}connectedCallback(){super.connectedCallback(),this.parentTabsEl=this.el.closest("calcite-tabs")}disconnectedCallback(){super.disconnectedCallback(),document.body?.dispatchEvent(new CustomEvent("calciteTabUnregister",{detail:this.el}))}internalTabChangeHandler(e){e.composedPath().find((e=>"CALCITE-TABS"===e.tagName))===this.parentTabsEl&&(this.tab?this.selected=this.tab===e.detail.tab:this.getTabIndex().then((t=>{this.selected=t===e.detail.tab})),e.stopPropagation())}render(){const e=this.el.id||this.guid;return(0,nw.Bq)(this.el,"aria-labelledby",this.labeledBy),(0,nw.Bq)(this.el,"id",e),KP.qy`<div class=${(0,nw.CP)({[dR]:!0,[`scale-${this.scale}`]:!0})} role=tabpanel .tabIndex=${this.selected?0:-1}><section class=${(0,nw.CP)(hR)}><slot></slot></section></div>`}}(0,TC.c)("calcite-tab",fR);var mR=s(3881),yR=s(12223),gR=s(23149);var vR=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return(0,gR.A)(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),(0,yR.A)(e,t,{leading:r,maxWait:t,trailing:i})};new RegExp(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);function bR(e,t,n,r,i){return(e-t)*(i-r)/(n-t)+r}const wR=DC.AH`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal);inline-size:var(--calcite-internal-color-picker-min-width);min-inline-size:var(--calcite-internal-color-picker-min-width)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-internal-color-picker-min-width: 200px;--calcite-color-picker-spacing: 8px}:host([scale=s]) .saved-colors{gap:.25rem;grid-template-columns:repeat(auto-fill,20px)}:host([scale=m]){--calcite-internal-color-picker-min-width: 240px;--calcite-color-picker-spacing: 12px}:host([scale=l]){--calcite-internal-color-picker-min-width: 304px;--calcite-color-picker-spacing: 16px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill,32px)}:host([scale=l]) .control-section{display:flex;flex-direction:column;flex-wrap:wrap;align-items:baseline}:host([scale=l]) .color-hex-options{inline-size:100%;display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-color-foreground-1);display:flex;flex-direction:column;block-size:min-content;border:1px solid var(--calcite-color-border-1)}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.color-field,.control-and-scope{-webkit-user-select:none;user-select:none}.scope{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);block-size:1px;inline-size:1px;border-radius:9999px;background-color:transparent;font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))));outline-offset:6px}.hex-and-channels-group{display:flex;inline-size:100%;flex-direction:column;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing);gap:var(--calcite-spacing-xxs)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-color-text-1)}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex}.channel{flex-grow:1}.channel[data-channel-index="3"]{margin-inline-start:-1px;min-inline-size:81px}:host([scale=s]) .channel[data-channel-index="3"]{min-inline-size:68px}:host([scale=l]) .channel[data-channel-index="3"]{min-inline-size:88px}.saved-colors{display:grid;gap:.5rem;padding-block-start:var(--calcite-color-picker-spacing);grid-template-columns:repeat(auto-fill,24px)}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-color-border-2);outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}`;class _R extends nw.WF{constructor(){super(),this._color=bk,this.internalColorUpdateContext=null,this.isActiveChannelInputEmpty=!1,this.mode=Bk.HEX,this.resizeObserver=(0,NC.c)("resize",(e=>this.resizeCanvas(e))),this.shiftKeyChannelAdjustment=0,this.upOrDownArrowKeyTracker=null,this._valueWasSet=!1,this.messages=(0,KC.u)({blocking:!0}),this.captureColorFieldColor=(e,t,n=!0)=>{const{width:r,height:i}=this.dynamicDimensions.colorField,o=Math.round(Sk.s/r*e),s=Math.round(Sk.v/i*(i-t));this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(o).value(s),n)},this.drawColorControls=vR(((e="all")=>{"all"!==e&&"color-field"!==e||!this.colorFieldRenderingContext||this.drawColorField(),"all"!==e&&"hue-slider"!==e||!this.hueSliderRenderingContext||this.drawHueSlider(),this.alphaChannel&&("all"===e||"opacity-slider"===e)&&this.opacitySliderRenderingContext&&this.drawOpacitySlider()}),16),this.globalPointerMoveHandler=e=>{const{activeCanvasInfo:t,el:n}=this;if(!n.isConnected||!t)return;const{context:r,bounds:i}=t;let o,s;const{clientX:a,clientY:l}=e;r.canvas.matches(":hover")?(o=a-i.x,s=l-i.y):(o=a<i.x+i.width&&a>i.x?a-i.x:a<i.x?0:i.width,s=l<i.y+i.height&&l>i.y?l-i.y:l<i.y?0:i.height),r===this.colorFieldRenderingContext?this.captureColorFieldColor(o,s,!1):r===this.hueSliderRenderingContext?this.captureHueSliderColor(o):r===this.opacitySliderRenderingContext&&this.captureOpacitySliderValue(o)},this.globalPointerUpHandler=e=>{if(!(0,EC.i)(e))return;const t=this.activeCanvasInfo;this.activeCanvasInfo=null,this.drawColorControls(),t&&this.calciteColorPickerChange.emit()},this.resizeCanvas=vR((e=>{if(!this.hasUpdated)return;const[t]=e,n=Math.floor(t.contentBoxSize[0].inlineSize);this.dynamicDimensions.colorField.width!==n&&(this.updateDynamicDimensions(n),this.updateCanvasSize(),this.drawColorControls())}),16),this.updateDynamicDimensions=e=>{const t={width:Kk(e,this.staticDimensions,this.alphaChannel),height:this.staticDimensions.slider.height};this.dynamicDimensions={colorField:Yk(e),slider:t}},this.channelMode="rgb",this.channels=this.toChannels(bk),this.staticDimensions=Tk.m,this.savedColors=[],this.allowEmpty=!1,this.alphaChannel=!1,this.channelsDisabled=!1,this.clearable=!1,this.disabled=!1,this.format="auto",this.hexDisabled=!1,this.savedDisabled=!1,this.scale="m",this.calciteColorPickerChange=(0,nw.lh)({cancelable:!1}),this.calciteColorPickerInput=(0,nw.lh)({cancelable:!1}),this.listen("keydown",this.handleChannelKeyUpOrDown,{capture:!0}),this.listen("keyup",this.handleChannelKeyUpOrDown,{capture:!0})}static{this.properties={channelMode:[16,{},{state:!0}],channels:[16,{},{state:!0}],colorFieldScopeLeft:[16,{},{state:!0}],colorFieldScopeTop:[16,{},{state:!0}],staticDimensions:[16,{},{state:!0}],hueScopeLeft:[16,{},{state:!0}],opacityScopeLeft:[16,{},{state:!0}],savedColors:[16,{},{state:!0}],scopeOrientation:[16,{},{state:!0}],allowEmpty:[7,{},{reflect:!0,type:Boolean}],alphaChannel:[5,{},{type:Boolean}],channelsDisabled:[5,{},{type:Boolean}],clearable:[7,{},{reflect:!0,type:Boolean}],color:[0,{},{attribute:!1}],disabled:[7,{},{reflect:!0,type:Boolean}],format:[3,{},{reflect:!0}],hexDisabled:[5,{},{type:Boolean}],messageOverrides:[0,{},{attribute:!1}],numberingSystem:[3,{},{reflect:!0}],savedDisabled:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],storageId:[3,{},{reflect:!0}],value:1}}static{this.styles=wR}get color(){return this._color}set color(e){const t=this._color;this._color=e,this.handleColorChange(e,t)}get value(){return this._value}set value(e){const t=this._value;this._value=e,this.handleValueChange(e,t),this._valueWasSet=!0}async setFocus(){await(0,OC.c)(this),(0,EC.h)(this.el)}connectedCallback(){super.connectedCallback(),this.observeResize()}async load(){this._valueWasSet||(this._value??=jk(Zk(bk,this.alphaChannel))),this.handleAllowEmptyOrClearableChange();const{isClearable:e,color:t,format:n,value:r}=this,i=e&&!r,o=Gk(r),s=i||"auto"===n&&o||n===o,a=i?null:s?VE(r):t;s||this.showIncompatibleColorWarning(r,n),this.setMode(n,!1),this.internalColorSet(a,!1,"initial"),this.updateStaticDimensions(this.scale),this.updateDynamicDimensions(Tk[this.scale].minWidth);const l=`${wk}${this.storageId}`;this.storageId&&localStorage.getItem(l)&&(this.savedColors=JSON.parse(localStorage.getItem(l)))}willUpdate(e){(e.has("allowEmpty")&&(this.hasUpdated||!1!==this.allowEmpty)||e.has("clearable")&&(this.hasUpdated||!1!==this.clearable))&&this.handleAllowEmptyOrClearableChange(),e.has("alphaChannel")&&(this.hasUpdated||!1!==this.alphaChannel)&&this.handleAlphaChannelChange(this.alphaChannel),this.hasUpdated&&(e.has("alphaChannel")&&!1!==this.alphaChannel||e.has("staticDimensions")&&this.staticDimensions!==Tk.m)&&this.handleAlphaChannelDimensionsChange(),(e.has("alphaChannel")&&(this.hasUpdated||!1!==this.alphaChannel)||e.has("format")&&(this.hasUpdated||"auto"!==this.format))&&this.handleFormatOrAlphaChannelChange(),e.has("scale")&&(this.hasUpdated||"m"!==this.scale)&&this.handleScaleChange(this.scale)}updated(){(0,PC.u)(this)}loaded(){this.handleAlphaChannelDimensionsChange()}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("pointermove",this.globalPointerMoveHandler),window.removeEventListener("pointerup",this.globalPointerUpHandler),this.resizeObserver?.disconnect()}get baseColorFieldColor(){return this.color||this.previousColor||bk}get effectiveSliderWidth(){return this.dynamicDimensions.slider.width}observeResize(){this.resizeObserver?.observe(this.el)}handleAllowEmptyOrClearableChange(){this.isClearable=this.clearable||this.allowEmpty}handleAlphaChannelChange(e){const{format:t}=this;e&&"auto"!==t&&!Wk(t)&&(this.alphaChannel=!1)}handleAlphaChannelDimensionsChange(){this.drawColorControls()}handleColorChange(e,t){this.drawColorControls(),this.updateChannelsFromColor(e),this.previousColor=t}handleFormatOrAlphaChannelChange(){this.setMode(this.format),this.internalColorSet(this.color,!1,"internal")}handleScaleChange(e="m"){this.updateStaticDimensions(e),this.updateCanvasSize(),this.drawColorControls()}handleValueChange(e,t){const{isClearable:n,format:r}=this;let i=!1;if(!n||e){const n=Gk(e);if(!n||"auto"!==r&&n!==r)return this.showIncompatibleColorWarning(e,r),void(this._value=t);i=this.mode!==n,this.setMode(n,null===this.internalColorUpdateContext)}const o=this.activeCanvasInfo;if("initial"===this.internalColorUpdateContext)return;if("user-interaction"===this.internalColorUpdateContext)return this.calciteColorPickerInput.emit(),void(o||this.calciteColorPickerChange.emit());const s=n&&!e?null:VE(null!=e&&"object"==typeof e&&Wk(this.mode)?function(e){const t={...e,alpha:e.a??1};return delete t.a,t}(e):e),a=!Hk(s,this.color);(i||a)&&this.internalColorSet(s,this.alphaChannel&&!(this.mode.endsWith("a")||this.mode.endsWith("a-css"))||"internal"===this.internalColorUpdateContext,"internal")}handleTabActivate(e){this.channelMode=e.currentTarget.getAttribute("data-color-mode"),this.updateChannelsFromColor(this.color)}handleColorFieldScopeKeyDown(e){const{key:t}=e,n={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};n[t]&&(e.preventDefault(),this.scopeOrientation="ArrowDown"===t||"ArrowUp"===t?"vertical":"horizontal",this.captureColorFieldColor(this.colorFieldScopeLeft+n[t].x||0,this.colorFieldScopeTop+n[t].y||0,!1))}handleHueScopeKeyDown(e){const t=e.shiftKey?10:1,{key:n}=e,r={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(r[n]){e.preventDefault();const i=r[n]*t,o=this.baseColorFieldColor.hue(),s=this.baseColorFieldColor.hue(o+i);this.internalColorSet(s,!1)}}handleHexInputChange(e){e.stopPropagation();const{isClearable:t,color:n}=this,r=e.target.value;if(t&&!r)return void this.internalColorSet(null);r!==(n&&jk(Zk(n,Wk(this.mode))))&&this.internalColorSet(VE(r))}handleSavedColorSelect(e){const t=e.currentTarget;this.internalColorSet(VE(t.color))}handleChannelInput(e){const t=e.currentTarget,n=Number(t.getAttribute("data-channel-index")),r=3===n?Ak:"rgb"===this.channelMode?_k[Object.keys(_k)[n]]:Sk[Object.keys(Sk)[n]];let i;if(t.value){const e=((e,t,n)=>Math.max(t,Math.min(e,n)))(Number(t.value)+this.shiftKeyChannelAdjustment,0,r);i=e.toString()}else i="",this.isActiveChannelInputEmpty=!0,this.upOrDownArrowKeyTracker=null;t.value=i,(""!==i&&0!==this.shiftKeyChannelAdjustment||""!==i)&&this.handleChannelChange(e)}handleChannelBlur(e){const t=e.currentTarget,n=Number(t.getAttribute("data-channel-index")),r=[...this.channels];!t.value&&!this.isClearable&&(t.value=r[n]?.toString())}handleChannelFocus(e){e.currentTarget.selectText()}handleChannelKeyUpOrDown(e){this.shiftKeyChannelAdjustment=0;const{key:t}=e;if("ArrowUp"!==t&&"ArrowDown"!==t||!e.composedPath().some((e=>e.classList?.contains(BE))))return;const{shiftKey:n}=e;if(e.preventDefault(),!this.color)return this.internalColorSet(this.previousColor),void e.stopPropagation();this.shiftKeyChannelAdjustment="ArrowUp"===t&&n?9:"ArrowDown"===t&&n?-9:0,"ArrowUp"===t&&(this.upOrDownArrowKeyTracker="up"),"ArrowDown"===t&&(this.upOrDownArrowKeyTracker="down")}getChannelInputLimit(e){return"rgb"===this.channelMode?_k[Object.keys(_k)[e]]:Sk[Object.keys(Sk)[e]]}handleChannelChange(e){const t=e.currentTarget,n=Number(t.getAttribute("data-channel-index")),r=[...this.channels];if(this.isClearable&&!t.value)return this.channels=[null,null,null,null],void this.internalColorSet(null);const i=3===n;this.isActiveChannelInputEmpty&&this.upOrDownArrowKeyTracker&&(t.value="up"===this.upOrDownArrowKeyTracker?(r[n]+1<=this.getChannelInputLimit(n)?r[n]+1:this.getChannelInputLimit(n)).toString():(r[n]-1>=0?r[n]-1:0).toString(),this.isActiveChannelInputEmpty=!1,this.upOrDownArrowKeyTracker=null);const o=t.value?Number(t.value):r[n];r[n]=i?Ok(o):o,this.updateColorFromChannels(r)}handleSavedColorKeyDown(e){(0,aP.i)(e.key)&&(e.preventDefault(),this.handleSavedColorSelect(e))}handleColorFieldPointerDown(e){this.handleCanvasControlPointerDown(e,this.colorFieldRenderingContext,this.captureColorFieldColor,this.colorFieldScopeNode)}focusScope(e){requestAnimationFrame((()=>{e.focus()}))}handleHueSliderPointerDown(e){this.handleCanvasControlPointerDown(e,this.hueSliderRenderingContext,this.captureHueSliderColor,this.hueScopeNode)}handleOpacitySliderPointerDown(e){this.handleCanvasControlPointerDown(e,this.opacitySliderRenderingContext,this.captureOpacitySliderValue,this.opacityScopeNode)}handleCanvasControlPointerDown(e,t,n,r){(0,EC.i)(e)&&(window.addEventListener("pointermove",this.globalPointerMoveHandler),window.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:t,bounds:t.canvas.getBoundingClientRect()},n.call(this,e.offsetX,e.offsetY),this.focusScope(r))}storeColorFieldScope(e){this.colorFieldScopeNode=e}storeHueScope(e){this.hueScopeNode=e}handleKeyDown(e){"Enter"===e.key&&e.preventDefault()}showIncompatibleColorWarning(e,t){}setMode(e,t=!0){const n="auto"===e?this.mode:e;this.mode=this.ensureCompatibleMode(n,t)}ensureCompatibleMode(e,t){const{alphaChannel:n}=this,r=Wk(e);if(n&&!r){const t=function(e){return e===Bk.HEX?Bk.HEXA:e===Bk.RGB_CSS?Bk.RGBA_CSS:e===Bk.HSL_CSS?Bk.HSLA_CSS:e===$k.RGB?$k.RGBA:e===$k.HSL?$k.HSLA:e===$k.HSV?$k.HSVA:e}(e);return t}if(!n&&r){return Jk(e)}return e}captureHueSliderColor(e){const t=xk/this.effectiveSliderWidth*e;this.internalColorSet(this.baseColorFieldColor.hue(t),!1)}captureOpacitySliderValue(e){const t=Ok(Ak/this.effectiveSliderWidth*e);this.internalColorSet(this.baseColorFieldColor.alpha(t),!1)}internalColorSet(e,t=!0,n="user-interaction"){t&&Hk(e,this.color)||(this.internalColorUpdateContext=n,this.color=e,this.value=this.toValue(e),this.internalColorUpdateContext=null)}toValue(e,t=this.mode){if(!e)return null;if(t.includes("hex")){const n=t===Bk.HEXA;return jk(Zk(e.round(),n),n)}if(t.includes("-css")){const n=e[t.replace("-css","").replace("a","")]().round().string();if((t.endsWith("a")||t.endsWith("a-css"))&&1===e.alpha()){return`${n.slice(0,3)}a(${n.slice(4,-1)}, ${e.alpha()})`}return n}const n=e[Jk(t)]().round().object();return t.endsWith("a")?function(e){const t={...e,a:e.alpha??1};return delete t.alpha,t}(n):n}getSliderCapSpacing(){const{staticDimensions:{slider:{height:e},thumb:{radius:t}}}=this;return 2*t-e}updateStaticDimensions(e="m"){this.staticDimensions=Tk[e]}deleteColor(){const e=Zk(this.color,this.alphaChannel);if(!(this.savedColors.indexOf(e)>-1))return;const t=this.savedColors.filter((t=>t!==e));this.savedColors=t;const n=`${wk}${this.storageId}`;this.storageId&&localStorage.setItem(n,JSON.stringify(t))}saveColor(){const e=Zk(this.color,this.alphaChannel);if(this.savedColors.indexOf(e)>-1)return;const t=[...this.savedColors,e];this.savedColors=t;const n=`${wk}${this.storageId}`;this.storageId&&localStorage.setItem(n,JSON.stringify(t))}drawColorField(){const e=this.colorFieldRenderingContext,{width:t,height:n}=this.dynamicDimensions.colorField;e.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string(),e.fillRect(0,0,t,n);const r=e.createLinearGradient(0,0,t,0);r.addColorStop(0,"rgba(255,255,255,1)"),r.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=r,e.fillRect(0,0,t,n);const i=e.createLinearGradient(0,0,0,n);i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=i,e.fillRect(0,0,t,n),this.drawActiveColorFieldColor()}setCanvasContextSize(e,{height:t,width:n}){if(!e)return;const r=window.devicePixelRatio||1;e.width=n*r,e.height=t*r,e.style.height=`${t}px`,e.style.width=`${n}px`;e.getContext("2d").scale(r,r)}initColorField(e){e&&(this.colorFieldRenderingContext=e.getContext("2d"),this.updateCanvasSize("color-field"),this.drawColorControls())}initHueSlider(e){e&&(this.hueSliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("hue-slider"),this.drawHueSlider())}initOpacitySlider(e){e&&(this.opacitySliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("opacity-slider"),this.drawOpacitySlider())}updateCanvasSize(e="all"){const{dynamicDimensions:t,staticDimensions:n}=this;"all"!==e&&"color-field"!==e||this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas,t.colorField);const r={width:this.effectiveSliderWidth,height:n.slider.height+2*(n.thumb.radius-t.slider.height/2)};"all"!==e&&"hue-slider"!==e||this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas,r),"all"!==e&&"opacity-slider"!==e||this.setCanvasContextSize(this.opacitySliderRenderingContext?.canvas,r)}drawActiveColorFieldColor(){const{color:e}=this;if(!e)return;const t=e.hsv(),{staticDimensions:{thumb:{radius:n}}}=this,{width:r,height:i}=this.dynamicDimensions.colorField,o=t.saturationv()/(Sk.s/r),s=i-t.value()/(Sk.v/i);requestAnimationFrame((()=>{this.colorFieldScopeLeft=o,this.colorFieldScopeTop=s})),this.drawThumb(this.colorFieldRenderingContext,n,o,s,t,!1)}drawThumb(e,t,n,r,i,o){const s=2*Math.PI;if(e.beginPath(),e.arc(n,r,t,0,s),e.fillStyle="#fff",e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),o&&i.alpha()<1){const i=e.createPattern(this.getCheckeredBackgroundPattern(),"repeat");e.beginPath(),e.arc(n,r,t-3,0,s),e.fillStyle=i,e.fill()}e.globalCompositeOperation="source-atop",e.beginPath(),e.arc(n,r,t-3,0,s);const a=o?i.alpha():1;e.fillStyle=i.rgb().alpha(a).string(),e.fill(),e.globalCompositeOperation="source-over"}drawActiveHueSliderColor(){const{color:e}=this;if(!e)return;const t=e.hsv().saturationv(100).value(100),{staticDimensions:{thumb:{radius:n}}}=this,r=this.effectiveSliderWidth,i=t.hue()/(xk/r),o=n,s=this.getSliderBoundX(i,r,n);requestAnimationFrame((()=>{this.hueScopeLeft=s})),this.drawThumb(this.hueSliderRenderingContext,n,s,o,t,!1)}drawHueSlider(){const e=this.hueSliderRenderingContext,{staticDimensions:{slider:{height:t},thumb:{radius:n}}}=this,r=n-t/2,i=this.effectiveSliderWidth,o=e.createLinearGradient(0,0,i,0),s=["red","yellow","lime","cyan","blue","magenta","#ff0004"],a=1/(s.length-1);let l=0;s.forEach((e=>{o.addColorStop(l,VE(e).string()),l+=a})),e.clearRect(0,0,i,t+2*this.getSliderCapSpacing()),this.drawSliderPath(e,t,i,0,r),e.fillStyle=o,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveHueSliderColor()}drawOpacitySlider(){const e=this.opacitySliderRenderingContext,{baseColorFieldColor:t,staticDimensions:{slider:{height:n},thumb:{radius:r}}}=this,i=r-n/2,o=this.effectiveSliderWidth;e.clearRect(0,0,o,n+2*this.getSliderCapSpacing());const s=e.createLinearGradient(0,i,o,0),a=t.rgb().alpha(0),l=t.rgb().alpha(.5),c=t.rgb().alpha(1);s.addColorStop(0,a.string()),s.addColorStop(.5,l.string()),s.addColorStop(1,c.string()),this.drawSliderPath(e,n,o,0,i);const u=e.createPattern(this.getCheckeredBackgroundPattern(),"repeat");e.fillStyle=u,e.fill(),e.fillStyle=s,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveOpacitySliderColor()}drawSliderPath(e,t,n,r,i){const o=t/2+1;e.beginPath(),e.moveTo(r+o,i),e.lineTo(r+n-o,i),e.quadraticCurveTo(r+n,i,r+n,i+o),e.lineTo(r+n,i+t-o),e.quadraticCurveTo(r+n,i+t,r+n-o,i+t),e.lineTo(r+o,i+t),e.quadraticCurveTo(r,i+t,r,i+t-o),e.lineTo(r,i+o),e.quadraticCurveTo(r,i,r+o,i),e.closePath()}getCheckeredBackgroundPattern(){if(this.checkerPattern)return this.checkerPattern;const e=document.createElement("canvas");e.width=10,e.height=10;const t=e.getContext("2d");return t.fillStyle="#ccc",t.fillRect(0,0,10,10),t.fillStyle="#fff",t.fillRect(0,0,5,5),t.fillRect(5,5,5,5),this.checkerPattern=e,e}drawActiveOpacitySliderColor(){const{color:e}=this;if(!e)return;const t=e,{staticDimensions:{thumb:{radius:n}}}=this,r=this.effectiveSliderWidth,i=Rk(t.alpha())/(Ak/r),o=n,s=this.getSliderBoundX(i,r,n);requestAnimationFrame((()=>{this.opacityScopeLeft=s})),this.drawThumb(this.opacitySliderRenderingContext,n,s,o,t,!0)}getSliderBoundX(e,t,n){const r=(o=t,(i=e)<(s=n)?-1:i>o-s?1:0);var i,o,s;return 0===r?e:-1===r?bR(e,0,t,n,2*n):bR(e,0,t,t-2*n,t-n)}storeOpacityScope(e){this.opacityScopeNode=e}handleOpacityScopeKeyDown(e){const t=e.shiftKey?10:1,{key:n}=e,r={ArrowUp:.01,ArrowRight:.01,ArrowDown:-.01,ArrowLeft:-.01};if(r[n]){e.preventDefault();const i=r[n]*t,o=this.baseColorFieldColor.alpha(),s=this.baseColorFieldColor.alpha(o+i);this.internalColorSet(s,!1)}}updateColorFromChannels(e){this.internalColorSet(VE(e,this.channelMode))}updateChannelsFromColor(e){this.channels=e?this.toChannels(e):[null,null,null,null]}toChannels(e){const{channelMode:t}=this,n=e[t]().array().map(((e,t)=>3===t?e:Math.floor(e)));return 3===n.length&&n.push(1),n}getAdjustedScopePosition(e,t){return[e-.5,t-.5]}render(){const{channelsDisabled:e,color:t,colorFieldScopeLeft:n,colorFieldScopeTop:r,staticDimensions:{thumb:{radius:i}},hexDisabled:o,hueScopeLeft:s,messages:a,alphaChannel:l,opacityScopeLeft:c,savedColors:u,savedDisabled:d,scale:h,scopeOrientation:p}=this,f=this.effectiveSliderWidth,m=t?Zk(t,l):null,y=i,g=s??f*bk.hue()/Sk.h,v=i,b=c??f*Rk(bk.alpha())/Ak,w=void 0===t,_="vertical"===p,[S,x]=this.getAdjustedScopePosition(n,r),[M,A]=this.getAdjustedScopePosition(g,y),[T,I]=this.getAdjustedScopePosition(b,v);return(0,PC.I)({disabled:this.disabled,children:CC.qy`<div class=${(0,nw.CP)(JE)}><div class=${(0,nw.CP)(YE)}><canvas class=${(0,nw.CP)(GE)} @pointerdown=${this.handleColorFieldPointerDown} ${(0,IC.K)(this.initColorField)}></canvas><div .ariaLabel=${_?a.value:a.saturation} .ariaValueMax=${_?Sk.v:Sk.s} aria-valuemin=0 .ariaValueNow=${(_?t?.saturationv():t?.value())||"0"} class=${(0,nw.CP)({[fk]:!0,[qE]:!0})} @keydown=${this.handleColorFieldScopeKeyDown} role=slider style=${(0,nw.zl)({top:`${x||0}px`,left:`${S||0}px`})} tabindex=0 ${(0,IC.K)(this.storeColorFieldScope)}></div></div><div class=${(0,nw.CP)(lk)}><calcite-color-picker-swatch class=${(0,nw.CP)(ak)} .color=${m} .scale=${this.alphaChannel?"l":this.scale}></calcite-color-picker-swatch><div class=${(0,nw.CP)(gk)}><div class=${(0,nw.CP)(YE)}><canvas class=${(0,nw.CP)({[yk]:!0,[ik]:!0})} @pointerdown=${this.handleHueSliderPointerDown} ${(0,IC.K)(this.initHueSlider)}></canvas><div .ariaLabel=${a.hue} .ariaValueMax=${Sk.h} aria-valuemin=0 .ariaValueNow=${t?.round().hue()||bk.round().hue()} class=${(0,nw.CP)({[fk]:!0,[rk]:!0})} @keydown=${this.handleHueScopeKeyDown} role=slider style=${(0,nw.zl)({top:`${A}px`,left:`${M}px`})} tabindex=0 ${(0,IC.K)(this.storeHueScope)}></div></div>${l?CC.qy`<div class=${(0,nw.CP)(YE)}><canvas class=${(0,nw.CP)({[yk]:!0,[sk]:!0})} @pointerdown=${this.handleOpacitySliderPointerDown} ${(0,IC.K)(this.initOpacitySlider)}></canvas><div .ariaLabel=${a.opacity} .ariaValueMax=${Ak} .ariaValueMin=${Mk} .ariaValueNow=${(t||bk).round().alpha()} class=${(0,nw.CP)({[fk]:!0,[ok]:!0})} @keydown=${this.handleOpacityScopeKeyDown} role=slider style=${(0,nw.zl)({top:`${I}px`,left:`${T}px`})} tabindex=0 ${(0,IC.K)(this.storeOpacityScope)}></div></div>`:null}</div></div>${o&&e?null:CC.qy`<div class=${(0,nw.CP)({[XE]:!0,[mk]:!0})}><div class=${(0,nw.CP)(tk)}>${o?null:CC.qy`<div class=${(0,nw.CP)(nk)}><calcite-color-picker-hex-input .allowEmpty=${this.isClearable} .alphaChannel=${l} class=${(0,nw.CP)(KE)} .messages=${a} .numberingSystem=${this.numberingSystem} @calciteColorPickerHexInputChange=${this.handleHexInputChange} .scale=${h} .value=${m}></calcite-color-picker-hex-input></div>`}${e?null:CC.qy`<calcite-tabs class=${(0,nw.CP)({[WE]:!0,[vk]:!0})} .scale=${"l"===h?"m":"s"}><calcite-tab-nav slot=title-group>${this.renderChannelsTabTitle("rgb")}${this.renderChannelsTabTitle("hsv")}</calcite-tab-nav>${this.renderChannelsTab("rgb")}${this.renderChannelsTab("hsv")}</calcite-tabs>`}</div></div>`}${d?null:CC.qy`<div class=${(0,nw.CP)({[pk]:!0,[mk]:!0})}><div class=${(0,nw.CP)(ek)}><label>${a.saved}</label><div class=${(0,nw.CP)(hk)}><calcite-button appearance=transparent class=${(0,nw.CP)(QE)} .disabled=${w} icon-start=minus kind=neutral .label=${a.deleteColor} @click=${this.deleteColor} .scale=${h} type=button></calcite-button><calcite-button appearance=transparent class=${(0,nw.CP)(ck)} .disabled=${w} icon-start=plus kind=neutral .label=${a.saveColor} @click=${this.saveColor} .scale=${h} type=button></calcite-button></div></div>${u.length>0?CC.qy`<div class=${(0,nw.CP)(dk)}>${(0,mR.u)(u,(e=>e),(e=>CC.qy`<calcite-color-picker-swatch class=${(0,nw.CP)(uk)} .color=${e} @click=${this.handleSavedColorSelect} @keydown=${this.handleSavedColorKeyDown} .scale=${h} tabindex=0></calcite-color-picker-swatch>`))}</div>`:null}</div>`}</div>`})}renderChannelsTabTitle(e){const{channelMode:t,messages:n}=this,r=e===t,i="rgb"===e?n.rgb:n.hsv;return(0,dE.D)(e,CC.qy`<calcite-tab-title class=${(0,nw.CP)(HE)} data-color-mode=${e??CC.s6} @calciteTabsActivate=${this.handleTabActivate} .selected=${r}>${i}</calcite-tab-title>`)}renderChannelsTab(e){const{isClearable:t,channelMode:n,channels:r,messages:i,alphaChannel:o}=this,s=e===n,a="rgb"===e?[i.red,i.green,i.blue]:[i.hue,i.saturation,i.value],l=(0,EC.g)(this.el),c=o?r:r.slice(0,3);return(0,dE.D)(e,CC.qy`<calcite-tab class=${(0,nw.CP)(KE)} .selected=${s}><div class=${(0,nw.CP)($E)} dir=ltr>${c.map(((e,n)=>{const r=3===n;return r&&(e=t&&!e?e:Rk(e)),this.renderChannel(e,n,a[n],l,r?"%":"")}))}</div></calcite-tab>`)}renderChannel(e,t,n,r,i){return(0,dE.D)(t,CC.qy`<calcite-input-number class=${(0,nw.CP)(BE)} data-channel-index=${t??CC.s6} dir=${r??CC.s6} .label=${n} lang=${this.messages._lang??CC.s6} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.handleKeyDown} @calciteInputNumberChange=${this.handleChannelChange} @calciteInputNumberInput=${this.handleChannelInput} @calciteInternalInputNumberBlur=${this.handleChannelBlur} @calciteInternalInputNumberFocus=${this.handleChannelFocus} .scale=${"l"===this.scale?"m":"s"} style=${(0,nw.zl)({marginLeft:t>0&&("s"!==this.scale||!this.alphaChannel||3!==t)?"-1px":""})} .suffixText=${i} .value=${e?.toString()}></calcite-input-number>`)}}(0,TC.c)("calcite-color-picker",_R);var SR=s(66385);const xR="container",MR="radio",AR=DC.AH`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block;cursor:pointer}:host .container{position:relative;outline:2px solid transparent;outline-offset:2px}:host .radio{cursor:pointer;outline-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;border-radius:var(--calcite-radio-button-corner-radius, var(--calcite-corner-radius-pill));background-color:var(--calcite-radio-button-background-color, var(--calcite-color-foreground-1));box-shadow:inset 0 0 0 var(--calcite-border-width-sm) var(--calcite-radio-button-border-color, var(--calcite-color-border-input))}:host([hovered]) .radio,:host(:not([checked])[focused]:not([disabled])) .radio{box-shadow:inset 0 0 0 var(--calcite-border-width-md) var(--calcite-radio-button-border-color, var(--calcite-color-brand))}:host([focused]) .radio{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([disabled]) .radio{cursor:default;opacity:var(--calcite-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hovered][disabled]) .radio{box-shadow:inset 0 0 0 var(--calcite-border-width-sm) var(--calcite-radio-button-border-color, var(--calcite-color-border-input))}:host([scale=s]){--calcite-internal-radio-size: var( --calcite-radio-button-size, var(--calcite-radio-size, var(--calcite-size-fixed-md)) )}:host([scale=m]){--calcite-internal-radio-size: var( --calcite-radio-button-size, var(--calcite-radio-size, var(--calcite-size-fixed-md-plus)) )}:host([scale=l]){--calcite-internal-radio-size: var( --calcite-radio-button-size, var(--calcite-radio-size, var(--calcite-size-fixed-lg)) )}.radio{block-size:var(--calcite-internal-radio-size);inline-size:var(--calcite-internal-radio-size);size:var(--calcite-internal-radio-size)}:host([scale=s][checked]) .radio,:host([hovered][scale=s][checked][disabled]) .radio{box-shadow:inset 0 0 0 var(--calcite-border-width-lg) var(--calcite-radio-button-border-color, var(--calcite-color-brand))}:host([scale=s][focused][checked]:not([disabled])) .radio{box-shadow:inset 0 0 0 var(--calcite-border-width-lg) var(--calcite-radio-button-border-color, var(--calcite-color-brand)),0 0 0 2px var(--calcite-radio-button-background-color, var(--calcite-color-foreground-1))}:host([scale=m][checked]) .radio,:host([hovered][scale=m][checked][disabled]) .radio{box-shadow:inset 0 0 0 5px var(--calcite-radio-button-border-color, var(--calcite-color-brand))}:host([scale=m][focused][checked]:not([disabled])) .radio{box-shadow:inset 0 0 0 5px var(--calcite-radio-button-border-color, var(--calcite-color-brand)),0 0 0 2px var(--calcite-radio-button-background-color, var(--calcite-color-foreground-1))}:host([scale=l][checked]) .radio,:host([hovered][scale=l][checked][disabled]) .radio{box-shadow:inset 0 0 0 6px var(--calcite-radio-button-border-color, var(--calcite-color-brand))}:host([scale=l][focused][checked]:not([disabled])) .radio{box-shadow:inset 0 0 0 6px var(--calcite-radio-button-border-color, var(--calcite-color-brand)),0 0 0 2px var(--calcite-radio-button-background-color, var(--calcite-color-foreground-1))}@media (forced-colors: active){:host([checked]) .radio:after,:host([checked][disabled]) .radio:after{content:"";inline-size:var(--calcite-internal-radio-size);block-size:var(--calcite-internal-radio-size);background-color:windowText;display:block}}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}`;class TR extends nw.WF{constructor(){super(),this.checked=!1,this.disabled=!1,this.focused=!1,this.hovered=!1,this.required=!1,this.scale="m",this.calciteInternalRadioButtonBlur=(0,nw.lh)({cancelable:!1}),this.calciteInternalRadioButtonCheckedChange=(0,nw.lh)({cancelable:!1}),this.calciteInternalRadioButtonFocus=(0,nw.lh)({cancelable:!1}),this.calciteRadioButtonChange=(0,nw.lh)({cancelable:!1}),this.listen("pointerenter",this.pointerEnterHandler),this.listen("pointerleave",this.pointerLeaveHandler),this.listen("click",this.clickHandler),this.listen("keydown",this.handleKeyDown)}static{this.properties={checked:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],focused:[7,{},{reflect:!0,type:Boolean}],form:[3,{},{reflect:!0}],hovered:[7,{},{reflect:!0,type:Boolean}],label:1,name:[3,{},{reflect:!0}],required:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],value:1}}static{this.styles=AR}async emitCheckedChange(){this.calciteInternalRadioButtonCheckedChange.emit()}async setFocus(){await(0,OC.c)(this),this.disabled||(0,EC.b)(this.containerEl)}connectedCallback(){this.rootNode=this.el.getRootNode(),this.name&&this.checkLastRadioButton(),(0,RC.c)(this),(0,kC.c)(this),this.updateTabIndexOfOtherRadioButtonsInGroup(),super.connectedCallback()}willUpdate(e){this.hasUpdated&&e.has("checked")&&this.checkedChanged(this.checked),e.has("disabled")&&(this.hasUpdated||!1!==this.disabled)&&this.updateTabIndexOfOtherRadioButtonsInGroup(),e.has("name")&&this.checkLastRadioButton()}updated(){(0,PC.u)(this)}loaded(){this.focused&&!this.disabled&&this.setFocus()}disconnectedCallback(){super.disconnectedCallback(),(0,RC.d)(this),(0,kC.d)(this),this.updateTabIndexOfOtherRadioButtonsInGroup()}checkedChanged(e){e&&this.uncheckOtherRadioButtonsInGroup(),this.calciteInternalRadioButtonCheckedChange.emit()}syncHiddenFormInput(e){e.type="radio"}selectItem(e,t){e[t].click()}queryButtons(){return Array.from(this.rootNode.querySelectorAll("calcite-radio-button:not([hidden])")).filter((e=>e.name===this.name))}isFocusable(){const e=this.queryButtons(),t=e.find((e=>!e.disabled)),n=e.find((e=>e.checked));return t===this.el&&!n}check(){this.disabled||(this.focused=!0,this.setFocus(),this.checked||(this.uncheckAllRadioButtonsInGroup(),this.checked=!0,this.calciteRadioButtonChange.emit()))}clickHandler(){this.disabled||this.check()}onLabelClick(e){if(this.disabled||this.el.hidden)return;const t=e.currentTarget,n=t.for?this.rootNode.querySelector(`calcite-radio-button[id="${t.for}"]`):t.querySelector(`calcite-radio-button[name="${this.name}"]`);n&&(n.focused=!0,this.setFocus(),n.checked||(this.uncheckOtherRadioButtonsInGroup(),n.checked=!0,this.calciteRadioButtonChange.emit()))}checkLastRadioButton(){const e=this.queryButtons().filter((e=>e.checked));if(e?.length>1){const t=e[e.length-1];e.filter((e=>e!==t)).forEach((e=>{e.checked=!1,e.emitCheckedChange()}))}}setContainerEl(e){this.containerEl=e}uncheckAllRadioButtonsInGroup(){this.queryButtons().forEach((e=>{e.checked&&(e.checked=!1,e.focused=!1)}))}uncheckOtherRadioButtonsInGroup(){this.queryButtons().filter((e=>e!==this.el)).forEach((e=>{e.checked&&(e.checked=!1,e.focused=!1)}))}updateTabIndexOfOtherRadioButtonsInGroup(){this.queryButtons().filter((e=>e!==this.el&&!e.disabled)).forEach((e=>{e.manager?.component.requestUpdate()}))}getTabIndex(){if(!this.disabled)return this.checked||this.isFocusable()?0:-1}pointerEnterHandler(){this.disabled||(this.hovered=!0)}pointerLeaveHandler(){this.disabled||(this.hovered=!1)}handleKeyDown(e){const{key:t}=e,{el:n}=this;if(-1===["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"," "].indexOf(t))return;if(" "===t)return this.check(),void e.preventDefault();let r=t;"rtl"===(0,EC.g)(n)&&("ArrowRight"===t&&(r="ArrowLeft"),"ArrowLeft"===t&&(r="ArrowRight"));const i=Array.from(this.rootNode.querySelectorAll("calcite-radio-button:not([hidden])")).filter((e=>e.name===this.name));let o=0;const s=i.length;switch(i.some(((e,t)=>{if(e.checked)return o=t,!0})),r){case"ArrowLeft":case"ArrowUp":return e.preventDefault(),void this.selectItem(i,(0,SR.g)(Math.max(o-1,-1),s));case"ArrowRight":case"ArrowDown":return e.preventDefault(),void this.selectItem(i,(0,SR.g)(o+1,s));default:return}}onContainerBlur(){this.focused=!1,this.calciteInternalRadioButtonBlur.emit()}onContainerFocus(){this.disabled||(this.focused=!0,this.calciteInternalRadioButtonFocus.emit())}render(){const e=this.getTabIndex();return(0,PC.I)({disabled:this.disabled,children:CC.qy`<div .ariaChecked=${this.checked} .ariaLabel=${(0,RC.g)(this)} class=${(0,nw.CP)(xR)} @blur=${this.onContainerBlur} @focus=${this.onContainerFocus} role=radio tabindex=${e??CC.s6} ${(0,IC.K)(this.setContainerEl)}><div class=${(0,nw.CP)(MR)}></div></div>${(0,kC.H)({component:this})}`})}}(0,TC.c)("calcite-radio-button",TR);const IR="item-wrapper",CR="radioButtonGroupValidationMessage",ER=DC.AH`:host{display:flex;flex-direction:column}:host>.item-wrapper{display:flex;max-inline-size:100vw}:host([layout=horizontal])>.item-wrapper{flex-direction:row;flex-wrap:wrap}:host([layout=horizontal][scale=s])>.item-wrapper{column-gap:var(--calcite-radio-button-group-gap, var(--calcite-spacing-lg))}:host([layout=horizontal][scale=m])>.item-wrapper{column-gap:var(--calcite-radio-button-group-gap, var(--calcite-spacing-xl))}:host([layout=horizontal][scale=l])>.item-wrapper{column-gap:var(--calcite-radio-button-group-gap, var(--calcite-spacing-xxl))}:host([layout=vertical])>.item-wrapper{flex-direction:column;inline-size:fit-content}:host([scale=s]) calcite-input-message{--calcite-input-message-spacing: var( --calcite-radio-button-input-message-spacing, calc(var(--calcite-spacing-xxs) * -1) )}:host([scale=m]) calcite-input-message{--calcite-input-message-spacing: var( --calcite-radio-button-input-message-spacing, calc(var(--calcite-spacing-sm) * -1) )}:host([scale=l]) calcite-input-message{--calcite-input-message-spacing: var( --calcite-radio-button-input-message-spacing, calc(var(--calcite-spacing-md) * -1) )}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}:host([hidden]){display:none}[hidden]{display:none}`;class kR extends nw.WF{constructor(){super(),this.mutationObserver=(0,NC.c)("mutation",(()=>this.passPropsToRadioButtons())),this.radioButtons=[],this.disabled=!1,this.layout="horizontal",this.required=!1,this.scale="m",this.selectedItem=null,this.status="idle",this.calciteRadioButtonGroupChange=(0,nw.lh)({cancelable:!1}),this.listen("calciteRadioButtonChange",this.radioButtonChangeHandler)}static{this.properties={radioButtons:[16,{},{state:!0}],disabled:[7,{},{reflect:!0,type:Boolean}],layout:[3,{},{reflect:!0}],name:[3,{},{reflect:!0}],required:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],selectedItem:[0,{},{attribute:!1}],status:[3,{},{reflect:!0}],validationIcon:[3,{converter:nw.pf},{reflect:!0}],validationMessage:1}}static{this.styles=ER}async setFocus(){await(0,OC.c)(this),this.selectedItem&&!this.selectedItem.disabled&&(0,EC.h)(this.selectedItem),this.radioButtons.length>0&&(0,EC.h)(this.getFocusableRadioButton())}connectedCallback(){super.connectedCallback(),this.passPropsToRadioButtons(),this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}willUpdate(e){(e.has("disabled")&&(this.hasUpdated||!1!==this.disabled)||e.has("layout")&&(this.hasUpdated||"horizontal"!==this.layout)||e.has("scale")&&(this.hasUpdated||"m"!==this.scale))&&this.passPropsToRadioButtons()}loaded(){this.passPropsToRadioButtons()}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect()}passPropsToRadioButtons(){this.radioButtons=Array.from(this.el.querySelectorAll("calcite-radio-button")),this.selectedItem=Array.from(this.radioButtons).reverse().find((e=>e.checked))||null,this.radioButtons.length>0&&this.radioButtons.forEach((e=>{this.hasUpdated&&(e.disabled=this.disabled||e.disabled),e.name=this.name,e.required=this.required,e.scale=this.scale}))}getFocusableRadioButton(){return this.radioButtons.find((e=>!e.disabled))??null}radioButtonChangeHandler(e){this.selectedItem=e.target,this.calciteRadioButtonGroupChange.emit()}render(){return this.el.role="radiogroup",CC.qy`<div aria-errormessage=${CR} .ariaInvalid=${"invalid"===this.status} class=${(0,nw.CP)(IR)}><slot></slot></div>${this.validationMessage&&"invalid"===this.status?(0,LC.V)({icon:this.validationIcon,id:CR,message:this.validationMessage,scale:this.scale,status:this.status}):null}`}}(0,TC.c)("calcite-radio-button-group",kR);const PR="toggle",RR="check-svg",OR=DC.AH`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host([scale=s]) .check-svg,:host([scale=s]) .toggle{inline-size:var(--calcite-checkbox-size, .75rem);block-size:var(--calcite-checkbox-size, .75rem)}:host([scale=m]) .check-svg,:host([scale=m]) .toggle{inline-size:var(--calcite-checkbox-size, var(--calcite-font-size--1));block-size:var(--calcite-checkbox-size, var(--calcite-font-size--1))}:host([scale=l]) .check-svg,:host([scale=l]) .toggle{inline-size:var(--calcite-checkbox-size, 1rem);block-size:var(--calcite-checkbox-size, 1rem)}:host{position:relative;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}:host .check-svg{pointer-events:none;box-sizing:border-box;display:block;overflow:hidden;background-color:var(--calcite-color-foreground-1);fill:currentColor;stroke:currentColor;stroke-width:1;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;box-shadow:inset 0 0 0 1px var(--calcite-checkbox-border-color, var(--calcite-color-border-input));color:var(--calcite-checkbox-icon-color, var(--calcite-color-background))}:host([status=invalid]:not([checked])) .check-svg{box-shadow:inset 0 0 0 1px var(--calcite-color-status-danger)}:host([status=invalid]:not([checked])) .toggle:focus{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([checked]) .check-svg,:host([indeterminate]) .check-svg{background-color:var(--calcite-color-brand);box-shadow:inset 0 0 0 1px var(--calcite-color-brand)}:host([hovered]) .toggle .check-svg,:host .toggle:hover .check-svg{box-shadow:inset 0 0 0 2px var(--calcite-checkbox-border-color-hover, var(--calcite-color-brand))}.toggle{position:relative;outline-color:transparent}.toggle:active,.toggle:focus,.toggle:focus-visible{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.toggle:after,.toggle:before{inset-block-start:50%;inset-inline-start:50%;min-block-size:1.5rem;min-inline-size:1.5rem;position:absolute}.toggle:not(.calcite--rtl):after{content:"";transform:translate(-50%) translateY(-50%)}.toggle.calcite--rtl:before{content:"";transform:translate(50%) translateY(-50%)}@media (forced-colors: active){.check-svg{border:1px solid currentColor}}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}`;class NR extends nw.WF{constructor(){super(),this.checkedPath="M5.5 12L2 8.689l.637-.636L5.5 10.727l8.022-7.87.637.637z",this.indeterminatePath="M13 8v1H3V8z",this.onLabelClick=()=>{this.toggle()},this.toggleEl=(0,IC._)(),this.checked=!1,this.disabled=!1,this.hovered=!1,this.indeterminate=!1,this.required=!1,this.scale="m",this.status="idle",this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.calciteCheckboxChange=(0,nw.lh)({cancelable:!1}),this.calciteInternalCheckboxBlur=(0,nw.lh)({cancelable:!1}),this.calciteInternalCheckboxFocus=(0,nw.lh)({cancelable:!1}),this.listen("click",this.clickHandler),this.listen("keydown",this.keyDownHandler)}static{this.properties={checked:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],form:[3,{},{reflect:!0}],hovered:[7,{},{reflect:!0,type:Boolean}],indeterminate:[7,{},{reflect:!0,type:Boolean}],label:1,name:[3,{},{reflect:!0}],required:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],status:[3,{},{reflect:!0}],validity:[0,{},{attribute:!1}],value:1}}static{this.styles=OR}async setFocus(){await(0,OC.c)(this),this.toggleEl.value?.focus()}connectedCallback(){super.connectedCallback(),(0,RC.c)(this),(0,kC.c)(this)}updated(){(0,PC.u)(this)}disconnectedCallback(){super.disconnectedCallback(),(0,RC.d)(this),(0,kC.d)(this)}syncHiddenFormInput(e){e.type="checkbox"}getPath(){return this.indeterminate?this.indeterminatePath:this.checked?this.checkedPath:""}toggle(){this.disabled||(this.checked=!this.checked,this.setFocus(),this.indeterminate=!1,this.calciteCheckboxChange.emit())}keyDownHandler(e){(0,aP.i)(e.key)&&(this.toggle(),e.preventDefault())}clickHandler(){this.toggle()}onToggleBlur(){this.calciteInternalCheckboxBlur.emit(!1)}onToggleFocus(){this.calciteInternalCheckboxFocus.emit(!0)}render(){const e="rtl"===(0,EC.g)(this.el);return(0,PC.I)({disabled:this.disabled,children:KP.qy`<div .ariaChecked=${this.checked} .ariaLabel=${(0,RC.g)(this)} class=${(0,nw.CP)({[PR]:!0,[TC.C.rtl]:e})} @blur=${this.onToggleBlur} @focus=${this.onToggleFocus} role=checkbox tabindex=${(this.disabled?void 0:0)??nw.s6} ${(0,IC.K)(this.toggleEl)}><svg aria-hidden=true class=${(0,nw.CP)(RR)} viewBox="0 0 16 16">${KP.JW`<path d=${this.getPath()??nw.s6} />`}</svg><slot></slot></div>${(0,kC.H)({component:this})}`})}}function LR(e){return LR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LR(e)}(0,TC.c)("calcite-checkbox",NR);function DR(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":LR(XMLHttpRequest))}function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FR(Object(n),!0).forEach((function(t){ZR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=UR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UR(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UR(e){return UR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UR(e)}var zR,VR,BR="function"==typeof fetch?fetch:void 0;if("undefined"!=typeof global&&global.fetch?BR=global.fetch:"undefined"!=typeof window&&window.fetch&&(BR=window.fetch),DR()&&("undefined"!=typeof global&&global.XMLHttpRequest?zR=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(zR=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?VR=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(VR=window.ActiveXObject)),"function"!=typeof BR&&(BR=void 0),!BR&&!zR&&!VR)try{s.e(4945).then(s.t.bind(s,74945,19)).then((function(e){BR=e.default})).catch((function(){}))}catch(e){}var $R=function(e,t){if(t&&"object"===UR(t)){var n="";for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e},GR=function(e,t,n,r){var i=function(e){if(!e.ok)return n(e.statusText||"Error",{status:e.status});e.text().then((function(t){n(null,{status:e.status,data:t})})).catch(n)};if(r){var o=r(e,t);if(o instanceof Promise)return void o.then(i).catch(n)}"function"==typeof fetch?fetch(e,t).then(i).catch(n):BR(e,t).then(i).catch(n)},qR=!1,HR=function(e,t,n,r){return"function"==typeof n&&(r=n,n=void 0),r=r||function(){},BR&&0!==t.indexOf("file:")?function(e,t,n,r){e.queryStringParams&&(t=$R(t,e.queryStringParams));var i=jR({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);"undefined"==typeof window&&"undefined"!=typeof global&&void 0!==global.process&&global.process.versions&&global.process.versions.node&&(i["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(i["Content-Type"]="application/json");var o="function"==typeof e.requestOptions?e.requestOptions(n):e.requestOptions,s=jR({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:i},qR?{}:o),a="function"==typeof e.alternateFetch&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{GR(t,s,r,a)}catch(e){if(!o||0===Object.keys(o).length||!e.message||e.message.indexOf("not implemented")<0)return r(e);try{Object.keys(o).forEach((function(e){delete s[e]})),GR(t,s,r,a),qR=!0}catch(e){r(e)}}}(e,t,n,r):DR()||"function"==typeof ActiveXObject?function(e,t,n,r){n&&"object"===UR(n)&&(n=$R("",n).slice(1)),e.queryStringParams&&(t=$R(t,e.queryStringParams));try{var i=zR?new zR:new VR("MSXML2.XMLHTTP.3.0");i.open(n?"POST":"GET",t,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var o=e.customHeaders;if(o="function"==typeof o?o():o)for(var s in o)i.setRequestHeader(s,o[s]);i.onreadystatechange=function(){i.readyState>3&&r(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(e){console}}(e,t,n,r):void r(new Error("No fetch and no xhr implementation found!"))};function WR(e){return WR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WR(e)}function JR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JR(Object(n),!0).forEach((function(t){XR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QR(r.key),r)}}function XR(e,t,n){return(t=QR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QR(e){var t=function(e,t){if("object"!=WR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WR(t)?t:t+""}var eO=function(e,t,n){return t&&YR(e.prototype,t),n&&YR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}),[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.services=e,this.options=KR(KR(KR({},{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return XR({},t,n||"")},parseLoadPayload:function(e,t){},request:HR,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}),this.options||{}),n),this.allOptions=r,this.services&&this.options.reloadInterval){var i=setInterval((function(){return t.reload()}),this.options.reloadInterval);"object"===WR(i)&&"function"==typeof i.unref&&i.unref()}}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,r,i){var o,s=this,a=this.options.loadPath;"function"==typeof this.options.loadPath&&(a=this.options.loadPath(e,n)),(a=function(e){return!!e&&"function"==typeof e.then}(o=a)?o:Promise.resolve(o)).then((function(o){if(!o)return i(null,{});var a=s.services.interpolator.interpolate(o,{lng:e.join("+"),ns:n.join("+")});s.loadUrl(a,i,t,r)}))}},{key:"loadUrl",value:function(e,t,n,r){var i=this,o="string"==typeof n?[n]:n,s="string"==typeof r?[r]:r,a=this.options.parseLoadPayload(o,s);this.options.request(this.options,e,a,(function(o,s){if(s&&(s.status>=500&&s.status<600||!s.status))return t("failed loading "+e+"; status code: "+s.status,!0);if(s&&s.status>=400&&s.status<500)return t("failed loading "+e+"; status code: "+s.status,!1);if(!s&&o&&o.message){var a=o.message.toLowerCase();if(["failed","fetch","network","load"].find((function(e){return a.indexOf(e)>-1})))return t("failed loading "+e+": "+o.message,!0)}if(o)return t(o,!1);var l,c;try{l="string"==typeof s.data?i.options.parse(s.data,n,r):s.data}catch(t){c="failed parsing "+e+" to json"}if(c)return t(c,!1);t(null,l)}))}},{key:"create",value:function(e,t,n,r,i){var o=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var s=this.options.parsePayload(t,n,r),a=0,l=[],c=[];e.forEach((function(n){var r=o.options.addPath;"function"==typeof o.options.addPath&&(r=o.options.addPath(n,t));var u=o.services.interpolator.interpolate(r,{lng:n,ns:t});o.options.request(o.options,u,s,(function(t,n){a+=1,l.push(t),c.push(n),a===e.length&&"function"==typeof i&&i(l,c)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,r=t.languageUtils,i=t.logger,o=n.language;if(!o||"cimode"!==o.toLowerCase()){var s=[],a=function(e){r.toResolveHierarchy(e).forEach((function(e){s.indexOf(e)<0&&s.push(e)}))};a(o),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return a(e)})),s.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(r,o){r&&i.warn("loading namespace ".concat(e," for language ").concat(t," failed"),r),!r&&o&&i.log("loaded namespace ".concat(e," for language ").concat(t),o),n.loaded("".concat(t,"|").concat(e),r,o)}))}))}))}}}]);eO.type="backend";var tO=eO;function nO(e){return nO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nO(e)}function rO(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function iO(e){rO(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===nO(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):new Date(NaN)}function oO(e){if(rO(1,arguments),!function(e){return rO(1,arguments),e instanceof Date||"object"===nO(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!=typeof e)return!1;var t=iO(e);return!isNaN(Number(t))}function sO(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function aO(e,t){return rO(2,arguments),function(e,t){rO(2,arguments);var n=iO(e).getTime(),r=sO(t);return new Date(n+r)}(e,-sO(t))}function lO(e){rO(1,arguments);var t=iO(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function cO(e){rO(1,arguments);var t=iO(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=lO(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=lO(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function uO(e){rO(1,arguments);var t=iO(e),n=lO(t).getTime()-function(e){rO(1,arguments);var t=cO(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),lO(n)}(t).getTime();return Math.round(n/6048e5)+1}var dO={};function hO(){return dO}function pO(e,t){var n,r,i,o,s,a,l,c;rO(1,arguments);var u=hO(),d=sO(null!==(n=null!==(r=null!==(i=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=iO(e),p=h.getUTCDay(),f=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-f),h.setUTCHours(0,0,0,0),h}function fO(e,t){var n,r,i,o,s,a,l,c;rO(1,arguments);var u=iO(e),d=u.getUTCFullYear(),h=hO(),p=sO(null!==(n=null!==(r=null!==(i=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(d+1,0,p),f.setUTCHours(0,0,0,0);var m=pO(f,t),y=new Date(0);y.setUTCFullYear(d,0,p),y.setUTCHours(0,0,0,0);var g=pO(y,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=g.getTime()?d:d-1}function mO(e,t){rO(1,arguments);var n=iO(e),r=pO(n,t).getTime()-function(e,t){var n,r,i,o,s,a,l,c;rO(1,arguments);var u=hO(),d=sO(null!==(n=null!==(r=null!==(i=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),h=fO(e,t),p=new Date(0);return p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0),pO(p,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function yO(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var gO={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return yO("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):yO(n+1,2)},d:function(e,t){return yO(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return yO(e.getUTCHours()%12||12,t.length)},H:function(e,t){return yO(e.getUTCHours(),t.length)},m:function(e,t){return yO(e.getUTCMinutes(),t.length)},s:function(e,t){return yO(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return yO(Math.floor(r*Math.pow(10,n-3)),t.length)}},vO=gO,bO="midnight",wO="noon",_O="morning",SO="afternoon",xO="evening",MO="night",AO={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return vO.y(e,t)},Y:function(e,t,n,r){var i=fO(e,r),o=i>0?i:1-i;return"YY"===t?yO(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):yO(o,t.length)},R:function(e,t){return yO(cO(e),t.length)},u:function(e,t){return yO(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return yO(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return yO(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return vO.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return yO(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=mO(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):yO(i,t.length)},I:function(e,t,n){var r=uO(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):yO(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):vO.d(e,t)},D:function(e,t,n){var r=function(e){rO(1,arguments);var t=iO(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):yO(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return yO(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return yO(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return yO(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?wO:0===i?bO:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?xO:i>=12?SO:i>=4?_O:MO,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return vO.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):vO.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):yO(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):yO(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):vO.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):vO.s(e,t)},S:function(e,t){return vO.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return IO(i);case"XXXX":case"XX":return CO(i);default:return CO(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return IO(i);case"xxxx":case"xx":return CO(i);default:return CO(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+TO(i,":");default:return"GMT"+CO(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+TO(i,":");default:return"GMT"+CO(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return yO(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return yO((r._originalDate||e).getTime(),t.length)}};function TO(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var s=t||"";return n+String(i)+s+yO(o,2)}function IO(e,t){return e%60==0?(e>0?"-":"+")+yO(Math.abs(e)/60,2):CO(e,t)}function CO(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+yO(Math.floor(i/60),2)+n+yO(i%60,2)}var EO=AO,kO=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},PO=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},RO={p:PO,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return kO(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",kO(i,t)).replace("{{time}}",PO(o,t))}},OO=RO;var NO=["D","DD"],LO=["YY","YYYY"];function DO(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var FO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jO=function(e,t,n){var r,i=FO[e];return r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ZO(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var UO={date:ZO({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ZO({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ZO({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},zO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VO=function(e,t,n,r){return zO[e]};function BO(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!=n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,a=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var $O={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:BO({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:BO({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:BO({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:BO({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:BO({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},GO=$O;function qO(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s,a=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(a)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(a)}));return s=e.valueCallback?e.valueCallback(c):c,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(a.length)}}}var HO,WO={ordinalNumber:(HO={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(HO.matchPattern);if(!n)return null;var r=n[0],i=e.match(HO.parsePattern);if(!i)return null;var o=HO.valueCallback?HO.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(r.length)}}),era:qO({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:qO({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:qO({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:qO({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:qO({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},JO={code:"en-US",formatDistance:jO,formatLong:UO,formatRelative:VO,localize:GO,match:WO,options:{weekStartsOn:0,firstWeekContainsDate:1}},KO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XO=/^'([^]*?)'?$/,QO=/''/g,eN=/[a-zA-Z]/;function tN(e,t,n){var r,i,o,s,a,l,c,u,d,h,p,f,m,y,g,v,b,w;rO(2,arguments);var _=String(t),S=hO(),x=null!==(r=null!==(i=null==n?void 0:n.locale)&&void 0!==i?i:S.locale)&&void 0!==r?r:JO,M=sO(null!==(o=null!==(s=null!==(a=null!==(l=null==n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null==n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==a?a:S.firstWeekContainsDate)&&void 0!==s?s:null===(d=S.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==o?o:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=sO(null!==(p=null!==(f=null!==(m=null!==(y=null==n?void 0:n.weekStartsOn)&&void 0!==y?y:null==n||null===(g=n.locale)||void 0===g||null===(v=g.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==m?m:S.weekStartsOn)&&void 0!==f?f:null===(b=S.locale)||void 0===b||null===(w=b.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==p?p:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!x.localize)throw new RangeError("locale must contain localize property");if(!x.formatLong)throw new RangeError("locale must contain formatLong property");var T=iO(e);if(!oO(T))throw new RangeError("Invalid time value");var I=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(T),C=aO(T,I),E={firstWeekContainsDate:M,weekStartsOn:A,locale:x,_originalDate:T};return _.match(YO).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,OO[t])(e,x.formatLong):e})).join("").match(KO).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(XO);if(!t)return e;return t[1].replace(QO,"'")}(r);var o,s=EO[i];if(s)return null!=n&&n.useAdditionalWeekYearTokens||(o=r,-1===LO.indexOf(o))||DO(r,t,String(e)),null!=n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==NO.indexOf(e)}(r)||DO(r,t,String(e)),s(C,r,x.localize,E);if(i.match(eN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("")}const nN="livingatlas.arcgis.com"===window.location.host||"livingatlasstg.arcgis.com"===window.location.host,rN=async({appId:e})=>{await(async(e="en")=>{const t=document.querySelector('meta[name="last-modified"]'),n=t?.getAttribute("content")||tN(new Date,"yyyy-MM-dd"),r=new tO(null,{loadPath:`./public/locales/{{lng}}/{{ns}}.json?modified=${n}`}),i=En;await Fr.use(r).use(U).init({lng:e,lowerCaseLng:!0,load:"currentOnly",fallbackLng:"en",ns:[i,"common"],defaultNS:"common"})})(jn),"en"!==jn&&(document.documentElement.lang=jn),e&&await(async({appId:e,portalUrl:t="https://www.arcgis.com"})=>{try{va=new ma.A({appId:e,portalUrl:t,popup:!1,preserveUrlHash:!0}),ba=ya.default,ba.registerOAuthInfos([va]),_a=await ba.checkSignInStatus(va.portalUrl+"/sharing"),wa=new ga.A({url:t}),wa.authMode="immediate",await wa.load()}catch(e){}})({appId:e,portalUrl:Pn}),((e=!1)=>{if("undefined"==typeof window||!window.document)return;if(!1===e)return;const t=document.createElement("script");t.type="text/javascript",t.src="//mtags.arcgis.com/tags-min.js",document.head.appendChild(t)})(nN)};(async()=>{const n=(0,t.createRoot)(document.getElementById("root"));try{await rN({appId:""});const t=await(async()=>{const e=await $l();return _s(e)})();n.render(e.createElement(f,{store:t},e.createElement(M,null,e.createElement(KM,null),e.createElement(SC,null),e.createElement(AC,null))))}catch(t){n.render(e.createElement(G,{error:t}))}})()}()}();