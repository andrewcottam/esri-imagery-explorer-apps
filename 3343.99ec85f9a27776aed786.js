"use strict";(self.webpackChunkimagery_explorer_apps=self.webpackChunkimagery_explorer_apps||[]).push([[3343],{73343:function(e,t,i){i.r(t),i.d(t,{handleValidateNetworkTopologyResult:function(){return l},submitValidateNetworkTopologyJob:function(){return d},validateNetworkTopology:function(){return o}});var a=i(38116),s=i(62991),r=i(36321),n=i(57458);async function o(e,t,i){const s=(0,r.Dl)(e),o=t.toJSON();t.validationSet&&(o.validationSet=JSON.stringify(t.validationSet));const d={...o,returnEdits:!0,f:"json"},u=(0,r.lF)({...s.query,...d}),c=(0,r.jV)(u,{...i,method:"post"}),p=`${s.path}/validateNetworkTopology`,{data:f}=await(0,a.A)(p,c);return n.A.fromJSON(l(f))}async function d(e,t,i){if(!t.gdbVersion)throw new s.A("submit-validate-network-topology-job:missing-gdb-version","version is missing");const n=(0,r.Dl)(e),o=t.toJSON();t.validationSet&&(o.validationSet=JSON.stringify(t.validationSet));const d=(0,r.jV)(n.query,{query:(0,r.lF)({...o,returnEdits:!0,async:!0,f:"json"}),...i,method:"post"}),l=`${n.path}/validateNetworkTopology`,{data:u}=await(0,a.A)(l,d);return u?u.statusUrl:null}function l(e){return e.serviceEdits&&(e.serviceEdits=e.serviceEdits.map((e=>(e.editedFeatures.spatialReference&&(e.editedFeatures.spatialReference={wkid:e.editedFeatures.spatialReference.wkid,wkt:e.editedFeatures.spatialReference.wkt,wkt2:e.editedFeatures.spatialReference.wkt2,latestWkid:e.editedFeatures.spatialReference.latestWkid,latestVcsWkid:e.editedFeatures.spatialReference.latestVcsWkid,vcsWkid:e.editedFeatures.spatialReference.vcsWkid}),{layerId:e.id,editedFeatures:e.editedFeatures})))),e}}}]);