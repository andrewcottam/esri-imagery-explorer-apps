"use strict";(self.webpackChunkimagery_explorer_apps=self.webpackChunkimagery_explorer_apps||[]).push([[8730],{3130:function(t,n,e){e.d(n,{A:function(){return l}});var r=e(82392),i=e(73783),o=e(81482),s=(e(6273),e(80861),e(67498),e(26325)),u=e(29458),c=e(80507),a=e(40135);let l=class extends i.A{constructor(t){super(t),this.labels=new u.A,this.tooltips=new c.A,this.values=new a.A}};(0,r._)([(0,o.MZ)({nonNullable:!0,type:u.A})],l.prototype,"labels",void 0),(0,r._)([(0,o.MZ)({nonNullable:!0,type:c.A})],l.prototype,"tooltips",void 0),(0,r._)([(0,o.MZ)({nonNullable:!0,type:a.A})],l.prototype,"values",void 0),l=(0,r._)([(0,s.$)("esri.views.interactive.sketch.SketchOptions")],l)},4215:function(t,n,e){e.d(n,{Dh:function(){return a},IB:function(){return f},Vv:function(){return r},fg:function(){return c},jI:function(){return l}});e(4506);var r,i,o=e(53334),s=e(56560);function u(t,n){return t[0]*n[1]-t[1]*n[0]}function c(t,n,e,r,i=e){return(0,o.Re)(p,r,e),(0,o.Re)(v,n,i),function(t,n,e){const r=(0,o.Om)(e,n)/(0,o.m3)(e);(0,o.hs)(t,e,r)}(g,v,p),(0,o.WQ)(t,i,g)}function a(t,n,e,r){(0,o.Re)(p,n,e);const i=r/(0,o.Bw)(p);return(0,o.Ln)(t,e,p,i)}function l(t,n){const e=t.start,i=t.end,s=n.start,c=n.end,a=(0,o.Re)(p,i,e),l=(0,o.Re)(d,c,s),f=u(a,l);if(Math.abs(f)<=h)return[];const y=(0,o.Re)(v,e,s),M=u(l,y)/f,m=u(a,y)/f;if(M>=0){if(m>=0||n.type===r.LINE)return[(0,o.Ln)(g,e,a,M)]}else if(t.type===r.LINE&&(m>=0||n.type===r.LINE))return[(0,o.Ln)(g,e,a,M)];return[]}function f(t,n,e){const i=[],s=(0,o.Re)(p,t.end,t.start),u=(0,o.Re)(d,t.start,n),c=(0,o.m3)(s),a=2*(0,o.Om)(s,u),l=a*a-4*c*((0,o.m3)(u)-e*e);if(0===l){const n=-a/(2*c);(t.type===r.LINE||n>=0)&&i.push((0,o.Ln)(g,t.start,s,n))}else if(l>0){const n=Math.sqrt(l),e=(-a+n)/(2*c);(t.type===r.LINE||e>=0)&&i.push((0,o.Ln)(g,t.start,s,e));const u=(-a-n)/(2*c);(t.type===r.LINE||u>=0)&&i.push((0,o.Ln)(v,t.start,s,u))}return i}(i=r||(r={}))[i.RAY=0]="RAY",i[i.LINE=1]="LINE";const h=1e-6,p=(0,s.vt)(),d=(0,s.vt)(),v=(0,s.vt)(),g=(0,s.vt)()},7540:function(t,n,e){e.d(n,{M0:function(){return s},yF:function(){return o}});var r=e(22538),i=e(67488);function o(t){return(0,r.TT)(t)||(0,i.K8)(t)}function s(t,n,e,...i){return(0,r.TT)(t)?n.apply(void 0,i):t.isWebMercator?e.apply(void 0,i):null}},7743:function(t,n,e){e.d(n,{IV:function(){return v},LF:function(){return i},T9:function(){return l},Wq:function(){return u},d_:function(){return o},g2:function(){return h},gT:function(){return s},hs:function(){return f},iT:function(){return d},kM:function(){return c},l3:function(){return a},n0:function(){return g},r7:function(){return p}});var r=e(5262);function i(t){return{value:t}}function o(t,n){return{type:(0,r.t$)(n),value:t,unit:n}}function s(t,n){return{type:(0,r.t$)(n),value:t,unit:n}}function u(t,n,e="arithmetic"){return{type:(0,r.t$)(n),value:t,unit:n,rotationType:e}}function c(t,n){const e=a(t,n);return"angle"===t.type?u(e,n,t.rotationType):function(t,n){return{type:(0,r.t$)(n),value:t,unit:n}}(e,n)}function a(t,n){return(0,r.oU)(t.value,t.unit,n)}function l(t,n){return null==t?n:null==n||t.value>(0,r.oU)(n.value,n.unit,t.unit)?t:n}function f(t,n){return null==t?null:{...t,value:t.value*n}}function h(t,n,e){if(n===e)return t;switch(e){case"arithmetic":case"geographic":return 90-t}}const p=o(0,"meters"),d=s(0,"square-meters"),v=(u(0,"radians"),u(0,"degrees")),g=u(0,"degrees","geographic")},12288:function(t,n,e){e.d(n,{m:function(){return r}});class r{constructor(t,n){this.isDraped=t,this.domain=n}}},17780:function(t,n,e){e.d(n,{zF:function(){return i}});function r(t){return"graphic"===t?.type}function i(t){return t.find(r)??null}},19541:function(t,n,e){e.d(n,{$7:function(){return E},B:function(){return L},Fo:function(){return _},M7:function(){return x},NN:function(){return h},Q5:function(){return N},Tq:function(){return R},Up:function(){return A},XF:function(){return Z},Ze:function(){return y},bK:function(){return u},bh:function(){return f},id:function(){return M},ky:function(){return l},qt:function(){return T},tW:function(){return w},v9:function(){return p},w7:function(){return c},wF:function(){return s},wS:function(){return m},wz:function(){return v},x:function(){return d},xS:function(){return b},ze:function(){return a}});var r=e(5262),i=e(69172);function o(t){return t?T:R}function s(t,n){return n?.mode?n.mode:o(t).mode}function u(t,n){return null!=n?n:o(t)}function c(t,n){return s(null==t||(t.hasZ??!1),n)}function a(t,n){return u(null==t||(t.hasZ??!1),n)}function l(t){const n=g(t);return c(t.geometry,n)}function f(t){const n=g(t),e=c(t.geometry,n),r=null!=n&&"on-the-ground"!==e?x(n):0,i=n?.featureExpressionInfo;return{mode:e,offset:r,featureExpressionInfo:i}}function h(t){return v(f(t))}function p(t){return v(t)||d(t)}function d(t){return"0"===t?.featureExpressionInfo?.expression}function v(t){if(!t)return!1;if("on-the-ground"===t.mode)return!1;const n=t?.featureExpressionInfo?t.featureExpressionInfo.expression:null;return!(!n||"0"===n)}function g(t){return t.layer&&"elevationInfo"in t.layer?t.layer.elevationInfo:null}function y(t,n){if(!t?.offset)return 0;const{offset:e,unit:i}=t;if("decimal-degrees"===i)return 0;const o="unknown"!==i&&i?i:"meters",s=(0,r.mq)(n);return s?(0,r.oU)(e,o,s):0}function M(t,n,e){if(!e?.mode)return;const r=t.hasZ?t.z:0,i=y(e,t.spatialReference);switch(e.mode){case"absolute-height":return r-i;case"on-the-ground":return 0;case"relative-to-ground":return r-((n.elevationProvider.getElevation(t.x,t.y,r,t.spatialReference,"ground")??0)+i);case"relative-to-scene":return r-((n.elevationProvider.getElevation(t.x,t.y,r,t.spatialReference,"scene")??0)+i)}}function m(t,n,e,r=null){return _(t,n.x,n.y,n.hasZ?n.z:0,n.spatialReference,e,r)}function b(t,n,e,r,i=null){return _(t,n[0],n[1],n.length>2?n[2]:0,e,r,i)}function _(t,n,e,r,i,o,s=null){if(null==o)return;const u=null!=s?s.mode:"absolute-height";if("on-the-ground"===u)return 0;const{absoluteZ:c}=N(n,e,r,i,t,o);return function(t,n,e,r,i,o,s,u){const c=y(s,i);switch(u){case"absolute-height":return t-c;case"relative-to-ground":return t-((o.elevationProvider.getElevation(n,e,r,i,"ground")??0)+c);case"relative-to-scene":return t-((o.elevationProvider.getElevation(n,e,r,i,"scene")??0)+c)}}(c,n,e,r,i,t,s,u)}function N(t,n,e,r,i,o){const s=y(o,r);switch(o.mode){case"absolute-height":return{absoluteZ:e+s,elevation:0};case"on-the-ground":{const e=i.elevationProvider.getElevation(t,n,0,r,"ground")??0;return{absoluteZ:e,elevation:e}}case"relative-to-ground":{const o=i.elevationProvider.getElevation(t,n,e,r,"ground")??0;return{absoluteZ:e+o+s,elevation:o}}case"relative-to-scene":{const o=i.elevationProvider.getElevation(t,n,e,r,"scene")??0;return{absoluteZ:e+o+s,elevation:o}}}}function A(t,n){if(null==n)return!1;const{mode:e}=n;return null!=e&&("scene"===t&&"relative-to-scene"===e||"ground"===t&&"absolute-height"!==e)}function L(t,n,e){return e&&e.mode!==n?`${t} only support ${n} elevation mode`:null}function E(t,n,e){return e?.mode===n?`${t} do not support ${n} elevation mode`:null}function w(t,n){return null!=n?.featureExpressionInfo&&"0"!==n.featureExpressionInfo.expression?`${t} do not support featureExpressionInfo`:null}function Z(t,n){n&&t.warn(".elevationInfo=",n)}function x(t){return(t?.offset??0)*(0,i.Ao)(t?.unit)}const T={mode:"absolute-height",offset:0},R={mode:"on-the-ground",offset:null}},21403:function(t,n,e){e.d(n,{l:function(){return s}});var r=e(34670),i=e(32159),o=e(67488);function s(t){return(0,o.B3)(t)?(0,o.oT)(t)||(0,o.K8)(t)||(0,o.x1)(t)||(0,r.jA)(t)?i.Y0:t:(0,i.lO)(t)}},22538:function(t,n,e){e.d(n,{TT:function(){return d},Xn:function(){return _},Zj:function(){return M},_3:function(){return b},l1:function(){return g},qy:function(){return v},vN:function(){return m}});var r=e(62991),i=e(5262),o=e(8636),s=(e(1912),e(65648)),u=e(38648),c=e(44153),a=e(1138),l=e(67488);function f(t){if(!t)return null;const n=t.wkid;if(n)return a.uw[n];const e=t.wkt2??t.wkt;return e?function(t){const n=a._f.exec(t);if(!n||2!==n.length)return null;const e=n[1].split(",");if(!e||e.length<3)return null;const r=parseFloat(e[1]),i=parseFloat(e[2]);return isNaN(r)||isNaN(i)?null:{a:r,f:0===i?0:1/i}}(e):null}function h(t){const n=f(t);if(function(t){return null!=t&&"b"in t&&"eSq"in t&&"radius"in t}(n))return n;const e=n.a*(1-n.f);return Object.assign(n,{b:e,eSq:1-(e/n.a)**2,radius:(2*n.a+e)/3,densificationRatio:1e4/((2*n.a+e)/3)})}function p(t,n,e){const{a:r,eSq:i}=h(e),o=Math.sqrt(i),s=Math.sin(n[1]*a.eh),u=r*n[0]*a.eh;let c;return c=i>0?r*((1-i)*(s/(1-i*(s*s))-1/(2*o)*Math.log((1-o*s)/(1+o*s))))*.5:r*s,t[0]=u,t[1]=c,t}function d(t){return(0,l.EA)(t)&&!!f(t)}function v(t,n="square-meters"){if(t.some((t=>!d(t.spatialReference))))throw new r.A("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");const e=[];for(let n=0;n<t.length;n++){const r=t[n],i=r.spatialReference,{radius:o,densificationRatio:s}=h(i),u=o*s;e.push(y(r,u))}const o=[],s=[0,0],u=[0,0];for(let t=0;t<e.length;t++){const{rings:r,spatialReference:c}=e[t];let a=0;for(let t=0;t<r.length;t++){const n=r[t];p(s,n[0],c),p(u,n[n.length-1],c);let e=u[0]*s[1]-s[0]*u[1];for(let t=0;t<n.length-1;t++)p(s,n[t+1],c),p(u,n[t],c),e+=u[0]*s[1]-s[0]*u[1];a+=e}a=(0,i.oU)(a,"square-meters",n),o.push(a/-2)}return o}function g(t,n="meters"){if(!t)throw new r.A("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(t.some((t=>!d(t.spatialReference))))throw new r.A("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const e=[];for(let r=0;r<t.length;r++){const o=t[r],{spatialReference:s}=o,u="polyline"===o.type?o.paths:o.rings;let c=0;for(let t=0;t<u.length;t++){const n=u[t];let e=0;for(let t=1;t<n.length;t++){const r=n[t-1][0],i=n[t][0],o=n[t-1][1],u=n[t][1];if(o!==u||r!==i){const t=new M;b(t,[r,o],[i,u],s),e+=t.distance}}c+=e}c=(0,i.oU)(c,"meters",n),e.push(c)}return e}function y(t,n){if("polyline"!==t.type&&"polygon"!==t.type)throw new r.A("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const{spatialReference:e}=t;if(!d(e))throw new r.A("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");const i="polyline"===t.type?t.paths:t.rings,a=[],l=[0,0],f=new M;for(const t of i){const r=[];a.push(r),r.push([t[0][0],t[0][1]]);let i,o,s=t[0][0],u=t[0][1];for(let c=0;c<t.length-1;c++){if(i=t[c+1][0],o=t[c+1][1],s===i&&u===o)continue;const a=[s,u];b(f,[s,u],[i,o],e);const{azimuth:h,distance:p}=f,d=p/n;if(d>1){for(let t=1;t<=d-1;t++)m(l,a,h,t*n,e),r.push(l.slice());m(l,a,h,(p+Math.floor(d-1)*n)/2,e),r.push(l.slice())}m(l,a,h,p,e),r.push(l.slice()),s=l[0],u=l[1]}}const h=(0,o.PZ)(c.A,e);return"polyline"===t.type?new u.A({paths:a,spatialReference:h}):new s.A({rings:a,spatialReference:h})}class M{constructor(t=0,n=void 0,e=void 0){this.distance=t,this.azimuth=n,this.reverseAzimuth=e}}function m(t,n,e,r,i){const o=n[0],s=n[1],u=o*a.eh,c=s*a.eh,l=(e??0)*a.eh,{a:f,b:p,f:d}=h(i),v=Math.sin(l),g=Math.cos(l),y=(1-d)*Math.tan(c),M=1/Math.sqrt(1+y*y),m=y*M,b=Math.atan2(y,g),_=M*v,N=_*_,A=1-N,L=A*(f*f-p*p)/(p*p),E=1+L/16384*(4096+L*(L*(320-175*L)-768)),w=L/1024*(256+L*(L*(74-47*L)-128));let Z,x,T,R=r/(p*E),q=2*Math.PI;for(;Math.abs(R-q)>1e-12;)T=Math.cos(2*b+R),Z=Math.sin(R),x=Math.cos(R),q=R,R=r/(p*E)+w*Z*(T+w/4*(x*(2*T*T-1)-w/6*T*(4*Z*Z-3)*(4*T*T-3)));const z=m*Z-M*x*g,I=Math.atan2(m*x+M*Z*g,(1-d)*Math.sqrt(N+z*z)),j=d/16*A*(4+d*(4-3*A)),S=Math.atan2(Z*v,M*x-m*Z*g)-(1-j)*d*_*(R+j*Z*(T+j*x*(2*T*T-1)));return t[0]=(u+S)/a.eh,t[1]=I/a.eh,t}function b(t,n,e,r){const i=n[0]*a.eh,o=n[1]*a.eh,s=e[0]*a.eh,u=e[1]*a.eh,{a:c,b:l,f:f,radius:p}=h(r),d=s-i,v=Math.atan((1-f)*Math.tan(o)),g=Math.atan((1-f)*Math.tan(u)),y=Math.sin(v),M=Math.cos(v),m=Math.sin(g),b=Math.cos(g);let _,N,A,L,E,w,Z,x,T,R,q=1e3,z=d;do{if(Z=Math.sin(z),x=Math.cos(z),A=Math.sqrt(b*Z*(b*Z)+(M*m-y*b*x)*(M*m-y*b*x)),0===A)return t.distance=0,t.azimuth=void 0,t.reverseAzimuth=void 0,t;E=y*m+M*b*x,w=Math.atan2(A,E),T=M*b*Z/A,N=1-T*T,L=E-2*y*m/N,isNaN(L)&&(L=0),R=f/16*N*(4+f*(4-3*N)),_=z,z=d+(1-R)*f*T*(w+R*A*(L+R*E*(2*L*L-1)))}while(Math.abs(z-_)>1e-12&&--q>0);if(0===q){const n=p,e=Math.acos(Math.sin(o)*Math.sin(u)+Math.cos(o)*Math.cos(u)*Math.cos(s-i))*n,r=s-i,c=Math.sin(r)*Math.cos(u),l=Math.cos(o)*Math.sin(u)-Math.sin(o)*Math.cos(u)*Math.cos(r),f=Math.atan2(c,l);return t.azimuth=f/a.eh,t.distance=e,t.reverseAzimuth=void 0,t}const I=N*(c*c-l*l)/(l*l),j=I/1024*(256+I*(I*(74-47*I)-128)),S=l*(1+I/16384*(4096+I*(I*(320-175*I)-768)))*(w-j*A*(L+j/4*(E*(2*L*L-1)-j/6*L*(4*A*A-3)*(4*L*L-3)))),k=Math.atan2(b*Math.sin(z),M*m-y*b*Math.cos(z)),P=Math.atan2(M*Math.sin(z),M*m*Math.cos(z)-y*b);return t.azimuth=k/a.eh,t.distance=S,t.reverseAzimuth=P/a.eh,t}function _(t){return d(t)?t:(0,l.K8)(t)?c.A.WGS84:null}},27411:function(t,n,e){e.d(n,{r:function(){return s}});e(6273),e(80861);var r=e(80347),i=e(27601),o=e(12288);class s extends o.m{constructor(t,n,e,r=i.n.ALL){super(e,r),this.lineStart=t,this.lineEnd=n}equals(t){return t instanceof s&&(0,r.q)(this.lineStart,t.lineStart)&&(0,r.q)(this.lineEnd,t.lineEnd)}}},27601:function(t,n,e){var r;e.d(n,{n:function(){return r}}),function(t){t[t.FEATURE=1]="FEATURE",t[t.SELF=2]="SELF",t[t.ALL=3]="ALL"}(r||(r={}))},29458:function(t,n,e){e.d(n,{A:function(){return u}});var r=e(82392),i=e(73783),o=e(81482),s=(e(6273),e(80861),e(67498),e(26325));let u=class extends i.A{constructor(t){super(t),this.enabled=!1}};(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],u.prototype,"enabled",void 0),u=(0,r._)([(0,s.$)("esri.views.interactive.sketch.SketchLabelOptions")],u)},40135:function(t,n,e){e.d(n,{A:function(){return a}});var r=e(82392),i=e(73783),o=e(81482),s=(e(6273),e(80861),e(67498),e(26325));let u=class extends i.A{constructor(t){super(t),this.length=null,this.verticalLength=null,this.area=null}};(0,r._)([(0,o.MZ)()],u.prototype,"length",void 0),(0,r._)([(0,o.MZ)()],u.prototype,"verticalLength",void 0),(0,r._)([(0,o.MZ)()],u.prototype,"area",void 0),u=(0,r._)([(0,s.$)("esri.views.interactive.sketch.Units")],u);var c=e(96871);let a=class extends i.A{constructor(t){super(t),this.directionMode="relative",this.relativeDirectionIsBilateral=!1}get effectiveDirectionMode(){switch(this.directionMode){case"relative":return this.relativeDirectionIsBilateral?c.rZ.RelativeBilateral:c.rZ.Relative;case"absolute":return c.rZ.Absolute}}get displayUnits(){return this._get("displayUnits")??new u}set displayUnits(t){this._set("displayUnits",t)}get inputUnits(){return this._get("inputUnits")??new u}set inputUnits(t){this._set("inputUnits",t)}};(0,r._)([(0,o.MZ)({type:String,nonNullable:!0})],a.prototype,"directionMode",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"relativeDirectionIsBilateral",void 0),(0,r._)([(0,o.MZ)()],a.prototype,"effectiveDirectionMode",null),(0,r._)([(0,o.MZ)({type:u,nonNullable:!0})],a.prototype,"displayUnits",null),(0,r._)([(0,o.MZ)({type:u,nonNullable:!0})],a.prototype,"inputUnits",null),a=(0,r._)([(0,s.$)("esri.views.interactive.sketch.SketchValueOptions")],a)},43457:function(t,n,e){e.d(n,{l:function(){return s}});e(6273),e(80861);var r=e(80347),i=e(27601),o=e(12288);class s extends o.m{constructor(t,n,e,r,o=i.n.ALL){super(r,o),this.previousVertex=t,this.centerVertex=n,this.nextVertex=e}equals(t){return t instanceof s&&(0,r.q)(this.previousVertex,t.previousVertex)&&(0,r.q)(this.centerVertex,t.centerVertex)&&(0,r.q)(this.nextVertex,t.nextVertex)}}},46984:function(t,n,e){e.d(n,{FX:function(){return P},Mn:function(){return N},QT:function(){return F},WG:function(){return H},ej:function(){return E},en:function(){return B},fT:function(){return ot},i7:function(){return b},jf:function(){return V},qR:function(){return R},xW:function(){return rt}});var r=e(3223),i=e(4506),o=e(53334),s=e(56560),u=e(80347),c=e(19913),a=e(74772),l=e(76982),f=e(1138),h=e(22538),p=e(87368),d=e(3800),v=e(45773),g=e(93617),y=e(95376),M=e(4215);class m{intersect(t){return $(this,t)}closestPoints(t){return[this.closestTo(t)]}}class b extends m{constructor(t){super(),this.point=t}equals(t){return this===t||ot(t)&&(0,u.q)(this.point,t.point)}closestTo(){return(0,g.o8)(this.point)}}class _ extends m{constructor(t,n,e){super(),this.start=t,this.end=n,this.lineLike={start:t,end:n,type:e}}equals(t){return this===t||st(t)&&this.lineLike.type===t.lineLike.type&&(0,u.q)(this.start,t.start)&&(0,u.q)(this.end,t.end)}closestTo(t){const n=(0,g.Hh)();return(0,y.Yv)(t,this.lineLike,n),n}}class N extends _{constructor(t,n){super(t,n,M.Vv.LINE)}}class A extends _{constructor(t,n){super(t,n,M.Vv.RAY)}}class L extends m{constructor(t){super(),this.constraints=t}equals(t){return this===t||it(t)&&(0,r.aI)(this.constraints,t.constraints,((t,n)=>t.equals(n)))}closestTo(t){let n,e=1/0;for(const r of this.constraints){const i=r.closestTo(t),o=(0,u.s)(t,i);o<e&&(e=o,n=i)}return(0,g.o8)(n??t)}closestPoints(t){return this.constraints.flatMap((n=>n===this?[]:n.closestPoints(t)))}}class E extends m{constructor(t,n){super(),this.center=t,this.radius=n}equals(t){return this===t||at(t)&&this.center[0]===t.center[0]&&this.center[1]===t.center[1]&&this.radius===t.radius}closestTo(t){const n=(0,g.Hh)();return(0,y.Nm)(t,this.center,this.radius,n),n}}class w extends m{constructor(t,n){super(),this.center=t,this.radius=n}equals(t){return this===t||lt(t)&&(0,u.q)(this.center,t.center)&&this.radius===t.radius}closestTo(t){const n=(0,g.Hh)();return(0,y.Nm)(t,this.center,this.radius,n),n[2]=this.center[2],n}asCircle(){return new Z((0,g.o8)(this.center),this.radius,(0,g.fA)(0,0,1))}}class Z extends m{constructor(t,n,e,r=void 0){super(),this.center=t,this.radius=n,this.normal=e,this.slicePlane=r}equals(t){return this===t||ft(t)&&(0,u.q)(this.center,t.center)&&(0,u.q)(this.normal,t.normal)&&this.radius===t.radius}closestTo(t){const{center:n,radius:e}=this;(0,p._I)(this.getPlane(T),t,x);const r=(0,u.a)(x,x,n),i=(0,u.k)(r);if((0,y.Zj)(i,0))return(0,g.o8)(t);const o=e/Math.sqrt(i),s=(0,g.Hh)();(0,u.b)(s,n,r,o);const{slicePlane:c}=this;if(c&&!(0,y.F2)(c,s)){const n=G(c,this);return n?.closestTo(t)??(0,g.o8)(t)}return s}getPlane(t=(0,p.vt)()){return(0,p.O_)(this.center,this.normal,t)}}const x=(0,c.vt)(),T=(0,p.vt)();class R extends m{constructor(t){super(),this.z=t}equals(t){return this===t||ut(t)&&this.z===t.z}closestTo(t){return(0,g.fA)(t[0],t[1],this.z)}getPlane(t=(0,p.vt)()){return(0,u.i)(q,0,0,this.z),(0,p.O_)(q,c.Cb,t)}}const q=(0,c.vt)();class z extends m{constructor(t,n,e){super(),this.start=t,this.end=n,this.planeLike={start:(0,g.Xz)(t),end:(0,g.Xz)(n),type:e}}equals(t){return this===t||ct(t)&&this.planeLike.type===t.planeLike.type&&(0,u.q)(this.start,t.start)&&(0,u.q)(this.end,t.end)}closestTo(t){const n=(0,g.Hh)();return(0,y.r2)(t,this.planeLike,n),n}closestEndTo(t){const{start:n,end:e}=this.planeLike;return Math.sign((0,o.Om)((0,o.Re)(I,e,n),(0,o.Re)(j,(0,g.Xz)(t),n)))>0?this.end:this.start}getPlane(t=(0,p.vt)()){const n=(0,u.c)(S,this.end);return n[2]+=1,(0,p.Cr)(this.start,this.end,n,t)}getSlicePlane(t=(0,p.vt)()){const{start:n,end:e,type:r}=this.planeLike;if(r===y.pJ.PLANE)return;const i=(0,u.i)(S,n[0],n[1],0),o=(0,u.i)(k,e[0],e[1],0),s=(0,u.d)(k,o,i);return(0,p.O_)(i,s,t),t}}const I=(0,s.vt)(),j=(0,s.vt)(),S=(0,c.vt)(),k=(0,c.vt)();class P extends z{constructor(t,n){super(t,n,y.pJ.HALF_PLANE)}}class H extends z{constructor(t,n){super(t,n,y.pJ.PLANE)}}class O extends m{constructor(t,n){super(),this.sphere=(0,d.l)(t,n)}equals(t){return this===t||ht(t)&&(0,d.n)(this.sphere,t.sphere)}closestTo(t){const n=(0,g.Hh)();return(0,d.p)(this.sphere,t,n),n}get center(){return(0,d.a)(this.sphere)}get radius(){return this.sphere[3]}}class B extends m{constructor(t,n,e){super(),this.start=t,this.end=n,this.getZ=e,this.planeLike={start:(0,g.Xz)(t),end:(0,g.Xz)(n),type:y.pJ.PLANE}}equals(t){return this===t||pt(t)&&(0,u.q)(this.start,t.start)&&(0,u.q)(this.end,t.end)&&this.getZ===t.getZ}closestTo(t){return function(t,n){const e=(0,g.Hh)();return(0,y.r2)(n,t.planeLike,e),e[2]=t.getZ(e[0],e[1])??dt,e}(this,t)}addIfOnTheGround(t,n){for(const e of n){const n=this.getZ(e[0],e[1])??0;(0,y.Zj)(e[2],n)&&(e[2]=n,t.push(e))}}}class F extends m{constructor(t,n,e){super(),this._x=t,this._y=n,this._z=e}equals(t){return this===t||function(t){return t instanceof F}(t)&&this._x===t._x&&this._y===t._y&&this._z===t._z}closestTo([t,n,e]){return(0,g.vt)(this._x??t,this._y??n,this._z??e)}}class V extends m{constructor(t,n,e,r,i){super(),this._origin=t,this._spatialReference=n,this._distanceMeters=e,this._z=r,this._directionDegrees=i}equals(t){return this===t||function(t){return t instanceof V}(t)&&(0,o.t2)(this._origin,t._origin)&&this._spatialReference===t._spatialReference&&this._distanceMeters===t._distanceMeters&&this._z===t._z&&this._directionDegrees===t._directionDegrees}closestTo([t,n,e]){return(0,o.hZ)(D,t,n),(0,o.t2)(D,this._origin)||this._applyDirectionAndDistance(D),(0,g.vt)(D[0],D[1],this._z??e)}_applyDirectionAndDistance(t){if(null!=this._directionDegrees&&null!=this._distanceMeters)(0,h.vN)(t,this._origin,this._directionDegrees,this._distanceMeters,this._spatialReference);else if(null!=this._directionDegrees)!function(t,n,e,r,i){let{azimuth:o,distance:s}=(0,h._3)(X,n,r,i);o??=0;let u=s*Math.cos((o-e)*f.eh);u=Math.max(0,u),(0,h.vN)(t,n,e,u,i)}(t,this._origin,this._directionDegrees,t,this._spatialReference);else if(null!=this._distanceMeters){const{azimuth:n}=(0,h._3)(U,this._origin,t,this._spatialReference);(0,h.vN)(t,this._origin,n??0,this._distanceMeters,this._spatialReference)}}}const D=[0,0],U=new h.Zj;const X=new h.Zj;function $(t,n){if(it(t)){const e=[];for(const r of t.constraints){const t=r.intersect(n);t&&e.push(t)}return rt(e)}if(it(n))return $(n,t);if(pt(t))return Q(t,n);if(pt(n))return Q(n,t);if(ot(t)){const{point:e}=t;if(ot(n))return(0,u.q)(e,n.point)?t:void 0;const r=n.closestTo(e);return(0,u.G)(r,e)?t:void 0}if(st(t)){if(ot(n))return $(n,t);if(st(n))return nt((0,y.SO)(t.lineLike,n.lineLike));if(ut(n))return W(t,n);if(ct(n))return nt((0,y.Mc)(n.planeLike,t.lineLike));if(at(n))return nt((0,y.K4)(t.lineLike,n.center,n.radius));if(ft(n))return nt((0,y.IB)(t.lineLike,n));if(lt(n))return function({lineLike:t},{center:n,radius:e}){const r=n[2];return nt((0,y.K4)(t,n,e).filter((t=>(0,y.Zj)(t[2],r))))}(t,n);if(ht(n))return function({lineLike:t},{sphere:n}){return nt((0,d.m)(n,t.start,t.end))}(t,n)}else if(ut(t)){if(ot(n)||st(n))return $(n,t);if(ut(n))return function(t,n){return(0,y.Zj)(t.z,n.z)?t:void 0}(t,n);if(ct(n))return function({z:t},{planeLike:n}){const[e,r]=n.start,[i,o]=n.end,s=(0,g.fA)(e,r,t),u=(0,g.fA)(i,o,t);return n.type===y.pJ.PLANE?new N(s,u):new A(s,u)}(t,n);if(at(n))return function(t,n){const[e,r]=n.center;return new w((0,g.fA)(e,r,t.z),n.radius)}(t,n);if(ft(n))return C(t,n);if(lt(n))return function(t,n){return(0,y.Zj)(n.center[2],t.z)?n:void 0}(t,n);if(ht(n))return function(t,{center:n,radius:e}){const r=Math.abs(n[2]-t.z);if(r>e&&!(0,y.Zj)(r,e))return;const i=(0,g.fA)(n[0],n[1],t.z),o=Math.sqrt(e**2-r**2);return(0,y.Zj)(o,0)?void 0:new w(i,o)}(t,n)}else if(ct(t)){if(ot(n)||st(n)||ut(n))return $(n,t);if(ct(n))return tt((0,y.b_)(t.planeLike,n.planeLike));if(at(n))return tt((0,y.Bn)(t.planeLike,n.center,n.radius));if(ft(n))return J(t,n);if(lt(n))return Y(t,n);if(ht(n))return K(t,n)}else if(at(t)){if(ot(n)||st(n)||ut(n)||ct(n))return $(n,t);if(at(n))return tt((0,y.t1)((0,g.Xz)(t.center),t.radius,(0,g.Xz)(n.center),n.radius));if(ft(n))return;if(lt(n))return function(t,n){const e=(0,o.hG)((0,g.Xz)(t.center),(0,g.Xz)(n.center));return(0,y.Zj)(e,0)&&(0,y.Zj)(t.radius,n.radius)?n:et((0,y.t1)((0,g.Xz)(t.center),t.radius,(0,g.Xz)(n.center),n.radius),n.center[2])}(t,n);if(ht(n))return}else if(ft(t)){if(ot(n)||st(n)||ut(n)||ct(n)||at(n))return $(n,t);if(ft(n))return;if(lt(n))return void n.asCircle();if(ht(n))return}else if(lt(t)){if(ot(n)||st(n)||ut(n)||ct(n)||at(n)||ft(n))return $(n,t);if(lt(n))return function(t,n){if(!(0,y.HG)(t.center,n.center))return;const e=(0,o.hG)((0,g.Xz)(t.center),(0,g.Xz)(n.center));return(0,y.Zj)(e,0)&&(0,y.Zj)(t.radius,n.radius)?t:et((0,y.t1)((0,g.Xz)(t.center),t.radius,(0,g.Xz)(n.center),n.radius),t.center[2])}(n,t);if(ht(n))return}else if(ht(t)){if(ot(n)||st(n)||ut(n)||ct(n)||at(n)||lt(n))return $(n,t);if(ht(n))return}}const W=(()=>{const t=(0,p.vt)();return(n,e)=>{const{start:r,end:i}=n;if((0,y.HG)(r,i)&&(0,y.Zj)(r[2],e.z))return n;const o=(0,g.Hh)();return(0,p.U5)(e.getPlane(t),r,i,o)?new b(o):void 0}})();const G=(()=>{const t=(0,l.vt)(),n=(0,c.vt)(),e=(0,c.vt)();return(r,o,s)=>{const{normal:l,center:f,radius:h}=o;(0,v.VV)(l,n,e);const d=(0,p.Qj)(r),M=h*(0,u.e)(d,n),m=h*(0,u.e)(d,e);(0,a.s)(t,f[0],f[1],f[2],1);const _=(0,a.h)(r,t),N=Math.hypot(M,m),A=(0,y.Zj)(N,0);if((0,y.Zj)((0,p.Io)(r,f),0)){if(A)return o;if((0,y.Zj)(h,0))return!s||(0,y.F2)(s,f)?new b((0,g.o8)(f)):void 0;(0,u.h)(n,d,l),(0,u.n)(n,n);const t=new Array,e=(0,c.o8)(f);(0,u.b)(e,e,n,h),s&&!(0,y.F2)(s,e)||t.push(e);const r=(0,c.o8)(f);return(0,u.b)(r,r,n,-h),s&&!(0,y.F2)(s,r)||t.push(r),nt(t)}if(A)return;const L=-_/N;if(Math.abs(L)>1||(0,y.Zj)(L,1))return;const E=Math.atan(M/m),w=(0,i.YN)(L)-E,Z=Math.PI-w,x=new Array,T=(0,c.vt)();(0,u.b)(T,f,n,h*Math.cos(w)),(0,u.b)(T,T,e,h*Math.sin(w)),x.push(T);const R=(0,c.vt)();return(0,u.b)(R,f,n,h*Math.cos(Z)),(0,u.b)(R,R,e,h*Math.sin(Z)),x.push(R),nt(s?(0,y.UL)(s,x):x)}})();const C=(()=>{const t=(0,p.vt)();return(n,e)=>G(n.getPlane(t),e,e.slicePlane)})();const Y=(()=>{const t=(0,p.vt)();return(n,{center:e,radius:r})=>{const i=(0,y.Bn)(n.planeLike,e,r),o=e[2];n.getSlicePlane(t);const s=new Array;for(const[n,e]of i){const r=[n,e,o];(0,y.F2)(t,r)&&s.push(r)}return nt(s)}})(),J=(()=>{const t=(0,p.vt)(),n=(0,p.vt)();return(e,r)=>G(e.getPlane(t),r,e.getSlicePlane(n))})(),K=(()=>{const t=(0,p.vt)();return(n,{center:e,radius:r})=>{const i=n.getPlane(t),o=(0,p.mN)(i,e),s=Math.abs(o);if(s>r&&!(0,y.Zj)(s,r))return;const a=Math.sqrt(r**2-o**2);if((0,y.Zj)(a,0)){const t=(0,g.Hh)();return(0,p._I)(i,e,t),new b(t)}const l=(0,g.Hh)(),f=(0,c.o8)((0,p.Qj)(i));return(0,u.b)(l,e,f,o),new Z(l,a,f,n.getSlicePlane())}})();function Q(t,n){const{planeLike:e,getZ:r}=t,i=new Array;if(ot(n))t.addIfOnTheGround(i,(0,y.VT)(e,n.point));else if(st(n))t.addIfOnTheGround(i,(0,y.Mc)(e,n.lineLike));else if(at(n))for(const[t,o]of(0,y.Bn)(e,n.center,n.radius)){const n=r(t,o);null!=n&&i.push((0,c.fA)(t,o,n))}else if(ct(n)||pt(n))for(const[t,o]of(0,y.b_)(e,n.planeLike)){const n=r(t,o)??dt;i.push((0,c.fA)(t,o,n))}return nt(i)}function tt(t){return rt(t.map((([t,n])=>{const e=(0,g.fA)(t,n,0),r=(0,g.fA)(t,n,1);return new N(e,r)})))}function nt(t){return rt(t.map((t=>t?new b((0,g._7)(t)):void 0)))}function et(t,n){return nt(t.map((([t,e])=>[t,e,n])))}function rt(t){if(0!==t.length)return 1===t.length?t[0]??void 0:new L(t.filter(r.Ru))}function it(t){return t instanceof L}function ot(t){return t instanceof b}function st(t){return t instanceof _}function ut(t){return t instanceof R}function ct(t){return t instanceof z}function at(t){return t instanceof E}function lt(t){return t instanceof w}function ft(t){return t instanceof Z}function ht(t){return t instanceof O}function pt(t){return t instanceof B}const dt=0},46997:function(t,n,e){e.d(n,{v:function(){return s}});var r=e(80347),i=e(27601),o=e(12288);class s extends o.m{constructor(t,n,e=i.n.ALL){super(n,e),this.intersectionPoint=t}equals(t){return t instanceof s&&(0,r.q)(this.intersectionPoint,t.intersectionPoint)}}},51879:function(t,n,e){e.d(n,{N:function(){return l}});var r=e(82392),i=e(93814),o=e(84977),s=e(81482),u=e(26325);let c=class extends o.A{constructor(){super(...arguments),this.enabled=!0}};(0,r._)([(0,s.MZ)({type:Boolean})],c.prototype,"enabled",void 0),c=(0,r._)([(0,u.$)("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],c);let a=class extends o.A{constructor(t){super(t),this.lineSnapper=new c,this.parallelLineSnapper=new c,this.rightAngleSnapper=new c,this.rightAngleTriangleSnapper=new c,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.verticalLineThresholdMeters=.3,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new i.A([255,127,0]),this.orangeTransparent=new i.A([255,127,0,.5]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5,this.satisfiesConstraintScreenThreshold=1}};(0,r._)([(0,s.MZ)({type:c,constructOnly:!0,nonNullable:!0,json:{write:!0}})],a.prototype,"lineSnapper",void 0),(0,r._)([(0,s.MZ)({type:c,constructOnly:!0,nonNullable:!0,json:{write:!0}})],a.prototype,"parallelLineSnapper",void 0),(0,r._)([(0,s.MZ)({type:c,constructOnly:!0,nonNullable:!0,json:{write:!0}})],a.prototype,"rightAngleSnapper",void 0),(0,r._)([(0,s.MZ)({type:c,constructOnly:!0,nonNullable:!0,json:{write:!0}})],a.prototype,"rightAngleTriangleSnapper",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],a.prototype,"shortLineThreshold",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],a.prototype,"distance",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],a.prototype,"pointThreshold",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],a.prototype,"intersectionParallelLineThreshold",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],a.prototype,"parallelLineThreshold",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],a.prototype,"verticalLineThresholdMeters",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],a.prototype,"touchSensitivityMultiplier",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],a.prototype,"pointOnLineThreshold",void 0),(0,r._)([(0,s.MZ)({type:i.A,nonNullable:!0})],a.prototype,"orange",void 0),(0,r._)([(0,s.MZ)({type:i.A,nonNullable:!0})],a.prototype,"orangeTransparent",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],a.prototype,"lineHintWidthReference",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],a.prototype,"lineHintWidthTarget",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],a.prototype,"lineHintFadedExtensions",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],a.prototype,"parallelLineHintWidth",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],a.prototype,"parallelLineHintLength",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],a.prototype,"parallelLineHintOffset",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],a.prototype,"rightAngleHintSize",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],a.prototype,"rightAngleHintOutlineSize",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],a.prototype,"satisfiesConstraintScreenThreshold",void 0),a=(0,r._)([(0,u.$)("esri.views.interactive.snapping.Settings.Defaults")],a);const l=new a},56142:function(t,n,e){e.d(n,{c:function(){return s}});e(6273),e(80861);var r=e(80347),i=e(27601),o=e(12288);class s extends o.m{constructor(t,n,e,r,o=i.n.ALL,s=!0,u=!0){super(r,o),this.type=t,this.lineStart=n,this.lineEnd=e,this.fadeLeft=s,this.fadeRight=u}equals(t){return t instanceof s&&this.type===t.type&&(0,r.q)(this.lineStart,t.lineStart)&&(0,r.q)(this.lineEnd,t.lineEnd)&&this.fadeLeft===t.fadeLeft&&this.fadeRight===t.fadeRight}get length(){return(0,r.j)(this.lineStart,this.lineEnd)}}},68489:function(t,n,e){e.d(n,{Of:function(){return g},Qc:function(){return y},Xg:function(){return h},cL:function(){return b},e5:function(){return v},ll:function(){return d},sT:function(){return m}});var r,i,o=e(7743),s=e(5262),u=e(80347),c=e(19913),a=e(42722),l=e(67488),f=e(21403);function h(t){return p(t,r.Horizontal)}function p(t,n){const{hasZ:e,spatialReference:i}=t,u=(0,f.l)(i);let c=0;const a=(0,s._H)(u);if(null==a)return null;const l=n===r.Direct?M:m;for(const n of t.paths){if(n.length<2)continue;const t=n.length-1;for(let r=0;r<t;++r){const t=n[r];N[0]=t[0],N[1]=t[1],N[2]=e?t[2]:0;const o=n[r+1];A[0]=o[0],A[1]=o[1],A[2]=e?o[2]:0;const s=l(N,A,i);if(null==s)return null;c+=s.value}}return(0,o.d_)(c,a)}function d(t,n){const{spatialReference:e}=t;return(0,l.aI)(e,n.spatialReference)?(N[0]=t.x,N[1]=t.y,N[2]=t.hasZ?t.z:0,A[0]=n.x,A[1]=n.y,A[2]=n.hasZ?n.z:0,m(N,A,e)):null}function v(t,n){const{spatialReference:e}=t;return(0,l.aI)(e,n.spatialReference)?(N[0]=t.x,N[1]=t.y,N[2]=t.hasZ?t.z:0,A[0]=n.x,A[1]=n.y,A[2]=n.hasZ?n.z:0,b(N,A,e)):null}function g(t){return null!=t?y(t.hasZ?t.z:0,t.spatialReference):null}function y(t,n){const e=(0,s.mq)(n);return null!=e?(0,o.d_)(t??0,e):null}function M(t,n,e){const i=_(t,n,e,r.Direct);return null!=i?(0,o.d_)(i.direct,i.unit):null}function m(t,n,e){const i=_(t,n,e,r.Horizontal);return null!=i?(0,o.d_)(i.horizontal,i.unit):null}function b(t,n,e){const i=_(t,n,e,r.Vertical);return null!=i?(0,o.d_)(i.verticalSigned,i.unit):null}function _(t,n,e,i){const o=(0,f.l)(e),c=(0,s._H)(o);if(null==c)return null;const l=n[2]-t[2];if(i===r.Vertical)return{verticalSigned:l,unit:c};if(!(0,a.F)(t,e,L,o)||!(0,a.F)(n,e,E,o))return null;if(i===r.Direct)return{direct:(0,u.j)(E,L),unit:c};if((0,u.i)(w,t[0],t[1],n[2]),!(0,a.F)(w,e,w,o))return null;const h=(0,u.j)(w,E);return i===r.Horizontal?{horizontal:h,unit:c}:{direct:(0,u.j)(E,L),horizontal:h,vertical:Math.abs(l),unit:c}}(i=r||(r={}))[i.Direct=0]="Direct",i[i.Horizontal=1]="Horizontal",i[i.Vertical=2]="Vertical";const N=(0,c.vt)(),A=(0,c.vt)(),L=(0,c.vt)(),E=(0,c.vt)(),w=(0,c.vt)()},76362:function(t,n,e){e.d(n,{BY:function(){return A},H3:function(){return M},Mo:function(){return g},Tu:function(){return L},io:function(){return d},is:function(){return _},nf:function(){return b},pM:function(){return v},xX:function(){return y}});var r=e(61985),i=e(98592),o=e(80189),s=e(11895),u=e(80347),c=e(82320),a=e(33432),l=e(82795),f=e(92750),h=e(93617),p=e(50831);const d=Symbol("grid-placement-graphic");function v(t,n){const e=t.x-n.x,r=t.y-n.y;return e*e+r*r}function g(t,n){return Math.sqrt(v(t,n))}function y(t,n){n.sort(((n,e)=>(0,u.s)(n.targetPoint,t)-(0,u.s)(e.targetPoint,t)))}var M,m;function b({parameters:{point:t,distance:n,returnEdge:e,vertexMode:r,coordinateHelper:{spatialReference:u},filter:l},mode:f,returnZ:h,filter:p}){const d=p?.clone()??new a.A({where:"1=1"});return d.returnZ=h??"3d"===f,l&&(d.geometry=l.geometry,d.distance=l.distance,d.spatialRelationship=l.spatialRelationship,d.where=(0,o.mA)(d.where,l.where),d.timeExtent=(0,s.pJ)(d.timeExtent,l.timeExtent),d.objectIds=function(t,n){return t||n?n?t?Array.from((0,i.E$)(new Set(t),new Set(n))):n:t:null}(d.objectIds,l.objectIds)),{point:(0,c.T)(t[0],t[1],t[2],u.toJSON()),mode:f,distance:n,returnEdge:e,vertexMode:r,query:d.toJSON()}}function _(t,n,e){return{left:(0,h.Lp)(t.leftVertex.pos,n,e),right:(0,h.Lp)(t.rightVertex.pos,n,e)}}(m=M||(M={}))[m.TARGET=0]="TARGET",m[m.REFERENCE=1]="REFERENCE",m[m.REFERENCE_EXTENSION=2]="REFERENCE_EXTENSION";const N=Symbol("snapping-toggle");function A(t,n=()=>{}){const e=(0,r.wB)((()=>({view:t.view,snappingOptions:t.snappingOptions})),(({view:e,snappingOptions:r})=>{if(t.removeHandles(N),!e||!r)return;const i=l.o.TOOL,o=[e.on("key-down",(t=>{t.key!==f.fn.toggle||t.repeat||(r.enabledToggled=!0,n())}),i),e.on("key-up",(t=>{t.key===f.fn.toggle&&(r.enabledToggled=!1,n())}),i),e.on("pointer-move",(t=>{const e=t.native.ctrlKey;r.enabledToggled!==e&&(r.enabledToggled=e,n())}),i)];t.addHandles(o,N)}),r.pc);t.addHandles(e)}function L(t){return(0,p.r)(t)&&"utilityNetworks"in t&&!!t.utilityNetworks?.length}},80507:function(t,n,e){e.d(n,{A:function(){return a}});var r=e(82392),i=e(73783),o=e(81482),s=(e(6273),e(80861),e(67498),e(26325));let u=class extends i.A{constructor(t){super(t),this.mode="absolute-height"}toJSON(){return{mode:this.mode}}};(0,r._)([(0,o.MZ)({type:String,nonNullable:!0})],u.prototype,"mode",void 0),u=(0,r._)([(0,s.$)("esri.views.interactive.sketch.SketchTooltipElevationOptions")],u);let c=class extends i.A{constructor(t){super(t),this.area=!0,this.coordinates=!0,this.direction=!0,this.distance=!0,this.elevation=!0,this.header=!0,this.helpMessage=!1,this.orientation=!0,this.radius=!0,this.rotation=!0,this.scale=!0,this.size=!0,this.totalLength=!0}};(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"area",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"coordinates",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"direction",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"distance",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"elevation",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"header",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"helpMessage",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"orientation",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"radius",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"rotation",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"scale",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"size",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"totalLength",void 0),c=(0,r._)([(0,s.$)("esri.views.interactive.sketch.SketchTooltipVisibleElements")],c);let a=class extends i.A{constructor(t){super(t),this.enabled=!1,this.forceEnabled=!1,this.helpMessage=null,this.helpMessageIcon=null,this.inputEnabled=!0,this.elevation=new u,this.placement="auto",this.offset=null,this.visibleElements=new c,this.visualVariables=null,this.xyMode="auto"}get effectiveEnabled(){return this.forceEnabled||this.enabled}};(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"enabled",void 0),(0,r._)([(0,o.MZ)()],a.prototype,"forceEnabled",void 0),(0,r._)([(0,o.MZ)()],a.prototype,"effectiveEnabled",null),(0,r._)([(0,o.MZ)()],a.prototype,"helpMessage",void 0),(0,r._)([(0,o.MZ)()],a.prototype,"helpMessageIcon",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"inputEnabled",void 0),(0,r._)([(0,o.MZ)({type:u,nonNullable:!0})],a.prototype,"elevation",void 0),(0,r._)([(0,o.MZ)()],a.prototype,"placement",void 0),(0,r._)([(0,o.MZ)()],a.prototype,"offset",void 0),(0,r._)([(0,o.MZ)({type:c,nonNullable:!0})],a.prototype,"visibleElements",void 0),(0,r._)([(0,o.MZ)()],a.prototype,"visualVariables",void 0),(0,r._)([(0,o.MZ)()],a.prototype,"xyMode",void 0),a=(0,r._)([(0,s.$)("esri.views.interactive.sketch.SketchTooltipOptions")],a)},93617:function(t,n,e){e.d(n,{Ex:function(){return v},FH:function(){return b},Hh:function(){return a},Lp:function(){return g},Xz:function(){return f},_7:function(){return l},de:function(){return d},fA:function(){return h},io:function(){return M},o8:function(){return p},vf:function(){return y},vt:function(){return c},xF:function(){return m}});var r,i,o=e(19913),s=e(82320),u=e(19541);function c(t,n,e){return a(t,n,e)}function a(t=0,n=0,e=0){return(0,o.fA)(t,n,e)}function l(t){return t}function f(t){return t}function h(t,n,e){return(0,o.fA)(t,n,e)}function p(t){const[n,e,r]=t;return t.length>3?[n,e,r,t[3]]:[n,e,r]}function d(t){return t[3]=((t.length>3?t[3]:void 0)??r.NONE)|r.TARGET,t}function v(t){return Boolean(((t.length>3?t[3]:void 0)??r.NONE)&r.TARGET)}function g(t,n,{coordinateHelper:e,elevationInfo:r},i){return t?y(e.vectorToDehydratedPoint(t,_),n,r,i):null}function y(t,n,e,r=a()){return r[0]=t.x,r[1]=t.y,r[2]=t.z??0,null==n||("2d"===n.type?r[2]=0:r[2]=(0,u.wS)(n,t,e,u.qt)??0),r}function M(t,n,e){return e?((0,s.J)(e,t[0],t[1],t[2],n),e):(0,s.T)(t[0],t[1],t[2],n)}function m(t,n,{z:e,m:r},i,o){const{spatialReference:c,elevationInfo:a}=i;let l;l=null==e&&null==r?void 0:null==n||"2d"===n.type?e??void 0:(0,u.xS)(n,t,c,u.qt,a)??0;const[f,h]=t;return o?(0,s.J)(o,f,h,l,c):o=(0,s.T)(f,h,l,c),null!=r&&(o.m=r,o.hasM=!0),o}function b(t,n,e,i,o=a()){const[s,c]=t;return o[0]=s,o[1]=c,t.length>3&&(o[3]=t[3]??r.NONE),"3d"!==e?.type?(o[2]=n.value,o):(o[2]=(0,u.Fo)(e,s,c,n.value,i,n.elevationInfo,u.qt)??0,o)}(i=r||(r={}))[i.NONE=0]="NONE",i[i.TARGET=1]="TARGET";const _=(0,s.T)(0,0,0,null)},94669:function(t,n,e){e.d(n,{C:function(){return a},Cr:function(){return f},H6:function(){return v},_I:function(){return p},dz:function(){return g},fA:function(){return l},kb:function(){return h},ld:function(){return y},sd:function(){return d},vt:function(){return c}});var r=e(4506),i=e(82444),o=e(80347),s=e(19913),u=e(11631);function c(t){return t?{origin:(0,s.o8)(t.origin),vector:(0,s.o8)(t.vector)}:{origin:(0,s.vt)(),vector:(0,s.vt)()}}function a(t,n=c()){return l(t.origin,t.vector,n)}function l(t,n,e=c()){return(0,o.c)(e.origin,t),(0,o.c)(e.vector,n),e}function f(t,n,e=c()){return(0,o.c)(e.origin,t),(0,o.d)(e.vector,n,t),e}function h(t,n){const e=(0,o.d)(u.rq.get(),n,t.origin),i=(0,o.e)(t.vector,e),s=(0,o.e)(t.vector,t.vector),c=(0,r.qE)(i/s,0,1),a=(0,o.d)(u.rq.get(),(0,o.g)(u.rq.get(),t.vector,c),e);return(0,o.e)(a,a)}function p(t,n,e){return v(t,n,0,1,e)}function d(t,n,e){return(0,o.f)(e,t.origin,(0,o.g)(e,t.vector,n))}function v(t,n,e,i,s){const{vector:c,origin:a}=t,l=(0,o.d)(u.rq.get(),n,a),f=(0,o.e)(c,l)/(0,o.k)(c);return(0,o.g)(s,c,(0,r.qE)(f,e,i)),(0,o.f)(s,s,t.origin)}function g(t,n){if(M(t,function(t,n){const e=b.get();return e.origin=t,e.vector=n,e}(n.origin,n.direction),!1,m)){const{tA:n,pB:e,distance2:r}=m;if(n>=0&&n<=1)return r;if(n<0)return(0,o.s)(t.origin,e);if(n>1)return(0,o.s)((0,o.f)(u.rq.get(),t.origin,t.vector),e)}return null}function y(t,n,e){return!!M(t,n,!0,m)&&((0,o.c)(e,m.pA),!0)}function M(t,n,e,i){const s=1e-6,c=t.origin,a=(0,o.f)(u.rq.get(),c,t.vector),l=n.origin,f=(0,o.f)(u.rq.get(),l,n.vector),h=u.rq.get(),p=u.rq.get();if(h[0]=c[0]-l[0],h[1]=c[1]-l[1],h[2]=c[2]-l[2],p[0]=f[0]-l[0],p[1]=f[1]-l[1],p[2]=f[2]-l[2],Math.abs(p[0])<s&&Math.abs(p[1])<s&&Math.abs(p[2])<s)return!1;const d=u.rq.get();if(d[0]=a[0]-c[0],d[1]=a[1]-c[1],d[2]=a[2]-c[2],Math.abs(d[0])<s&&Math.abs(d[1])<s&&Math.abs(d[2])<s)return!1;const v=h[0]*p[0]+h[1]*p[1]+h[2]*p[2],g=p[0]*d[0]+p[1]*d[1]+p[2]*d[2],y=h[0]*d[0]+h[1]*d[1]+h[2]*d[2],M=p[0]*p[0]+p[1]*p[1]+p[2]*p[2],m=(d[0]*d[0]+d[1]*d[1]+d[2]*d[2])*M-g*g;if(Math.abs(m)<s)return!1;let b=(v*g-y*M)/m,_=(v+g*b)/M;e&&(b=(0,r.qE)(b,0,1),_=(0,r.qE)(_,0,1));const N=u.rq.get(),A=u.rq.get();return N[0]=c[0]+b*d[0],N[1]=c[1]+b*d[1],N[2]=c[2]+b*d[2],A[0]=l[0]+_*p[0],A[1]=l[1]+_*p[1],A[2]=l[2]+_*p[2],i.tA=b,i.tB=_,i.pA=N,i.pB=A,i.distance2=(0,o.s)(N,A),!0}const m={tA:0,tB:0,pA:(0,s.vt)(),pB:(0,s.vt)(),distance2:0},b=new i.I((()=>c()))},95376:function(t,n,e){e.d(n,{Bn:function(){return h},F2:function(){return Z},HG:function(){return L},IB:function(){return m},K4:function(){return b},Mc:function(){return p},Nm:function(){return y},SO:function(){return _},UL:function(){return w},VT:function(){return d},Yv:function(){return M},Zj:function(){return E},b_:function(){return v},pJ:function(){return x},r2:function(){return g},t1:function(){return N}});var r=e(4506),i=e(53334),o=e(56560),s=e(80347),u=e(19913),c=e(78115),a=e(87368),l=e(45773),f=e(4215);function h({start:t,end:n,type:e},r,s){const u=[],c=(0,i.Re)(q,n,t),a=(0,i.Re)(z,t,r),l=(0,i.m3)(c),f=2*(0,i.Om)(c,a),h=f*f-4*l*((0,i.m3)(a)-s*s);if(0===h){const n=-f/(2*l);(e===x.PLANE||n>=0)&&u.push((0,i.Ln)((0,o.vt)(),t,c,n))}else if(h>0){const n=Math.sqrt(h),r=(-f+n)/(2*l);(e===x.PLANE||r>=0)&&u.push((0,i.Ln)((0,o.vt)(),t,c,r));const s=(-f-n)/(2*l);(e===x.PLANE||s>=0)&&u.push((0,i.Ln)((0,o.vt)(),t,c,s))}return u}function p(t,n){const e=t.start,r=t.end,o=(0,i.Re)(q,r,e),a=(0,s.i)(j,-o[1],o[0],0),l=n.start,h=n.end,p=(0,s.a)(S,h,l),d=(0,s.e)(p,a),v=(0,s.i)(k,e[0],e[1],0),g=(0,s.a)(P,v,l),y=(0,s.e)(g,a),M=(0,c.FD)();if(Math.abs(d)<M)return Math.abs(y),[];const m=(0,s.b)(H,l,p,y/d);if(n.type===f.Vv.RAY){const t=(0,s.a)(O,m,l);if((0,s.e)(t,p)<-M)return[]}if(t.type===x.HALF_PLANE){const t=(0,i.jb)(z,m,e);if((0,i.Om)(t,o)<-M)return[]}return[(0,u.o8)(m)]}function d(t,n){return function({start:t,end:n,type:e},r){const i=(0,s.a)(I,r,t),o=(0,s.a)(j,n,t),a=(0,s.h)(S,o,i),l=(0,s.y)(a)/(0,s.y)(o),h=(0,c.FD)();if(l<h)switch(e){case f.Vv.LINE:return[(0,u.o8)(r)];case f.Vv.RAY:return(0,s.e)(o,i)<-h?[]:[(0,u.o8)(r)]}return[]}(A(F,n[2],t),n)}function v(t,n){return _(A(F,0,t),A(V,0,n)).map((([t,n])=>(0,o.fA)(t,n)))}function g(t,n,e){return M(t,A(F,t[2],n),e)}function y(t,n,e,r=(0,u.vt)()){const o=(0,i.Re)(q,t,n),s=(0,i.Bw)(o);return(0,i.Ln)(r,n,o,0===s?1:e/s),r[2]=t[2],r}function M(t,{start:n,end:e,type:r},i=(0,u.vt)()){const o=(0,s.a)(I,t,n),c=(0,s.a)(j,e,n),a=(0,s.e)(o,c)/(0,s.e)(c,c);return(0,s.b)(i,n,c,r===f.Vv.RAY?Math.max(a,0):a)}const m=(()=>{const t=(0,u.vt)(),n=(0,u.vt)(),e=(0,u.vt)();return({start:r,end:c},{center:h,radius:p,normal:d,slicePlane:v})=>{const g=(0,a.O_)(h,d,B);if(E((0,a.Io)(g,r),0)&&E((0,a.Io)(g,c),0)){(0,l.VV)(d,t,n);const a=(r,o)=>((0,s.d)(e,o,h),(0,i.hZ)(r,(0,s.e)(e,t),(0,s.e)(e,n)),r),g=(0,f.IB)({start:a(q,r),end:a(z,c),type:f.Vv.LINE},o.uY,p),y=[];for(const[e,r]of g){const i=(0,s.c)((0,u.vt)(),h);(0,s.b)(i,i,t,e),(0,s.b)(i,i,n,r),v&&!Z(v,i)||y.push(i)}return y}const y=(0,u.vt)();return(0,a.U5)(g,r,c,y)?!E((0,s.j)(y,h),p)||v&&!Z(v,y)?[]:[y]:[]}})();function b({start:t,end:n,type:e},r,o){const c=[],a=(0,s.d)(I,n,t),l=(0,i.Re)(z,t,r),h=(0,i.m3)(a),p=2*(0,i.Om)(a,l),d=p*p-4*h*((0,i.m3)(l)-o*o);if(0===d){const n=-p/(2*h);(e===f.Vv.LINE||n>=0)&&c.push((0,s.b)((0,u.vt)(),t,a,n))}else if(d>0){const n=Math.sqrt(d),r=(-p+n)/(2*h);(e===f.Vv.LINE||r>=0)&&c.push((0,s.b)((0,u.vt)(),t,a,r));const i=(-p-n)/(2*h);(e===f.Vv.LINE||i>=0)&&c.push((0,s.b)((0,u.vt)(),t,a,i))}return c}function _(t,n){const e=t.start,r=t.end,i=n.start,o=n.end,a=(0,s.a)(I,r,e),l=(0,s.a)(j,o,i),h=(0,s.a)(S,i,e),p=(0,s.h)(k,a,l);if(!E((0,s.e)(h,p),0))return[];const d=(0,s.y)(p);if(E(d,0))return[];const v=(0,s.h)(P,h,l),g=(0,s.e)(v,p)/d,y=(0,s.b)(H,e,a,g);if(t.type===f.Vv.RAY){const t=(0,s.a)(O,y,e);if((0,s.e)(a,t)<-(0,c.FD)())return[]}if(n.type===f.Vv.RAY){const t=(0,s.a)(O,y,i);if((0,s.e)(l,t)<-(0,c.FD)())return[]}return[(0,u.o8)(y)]}function N(t,n,e,r){const[s,u]=t,[c,a]=e,l=c-s,f=a-u,h=l*l+f*f,p=Math.sqrt(h);if(p>n+r)return[];if(p<Math.abs(n-r))return[];if(E(p,0)&&E(n,r))return[];const d=(n*n-r*r+h)/(2*p),v=Math.sqrt(n*n-d*d),g=v*f/p,y=v*l/p,[M,m]=(0,i.Cc)(q,t,e,d/p);return E(g,y)?[(0,o.fA)(M,m)]:[(0,o.fA)(M+g,m-y),(0,o.fA)(M-g,m+y)]}function A(t,n,{start:e,end:r,type:i}){return(0,s.i)(t.start,e[0],e[1],n),(0,s.i)(t.end,r[0],r[1],n),t.type=R[i],t}function L(t,n){return E(t[2],n[2])}function E(t,n){return(0,r.Sp)(Math.abs(t-n),0,(0,c.FD)())}function w(t,n){return n.filter((n=>Z(t,n)))}function Z(t,n){return(0,a.Tj)(t,n)}var x,T;(T=x||(x={}))[T.PLANE=0]="PLANE",T[T.HALF_PLANE=1]="HALF_PLANE";const R={[x.PLANE]:f.Vv.LINE,[x.HALF_PLANE]:f.Vv.RAY},q=(0,o.vt)(),z=(0,o.vt)(),I=(0,u.vt)(),j=(0,u.vt)(),S=(0,u.vt)(),k=(0,u.vt)(),P=(0,u.vt)(),H=(0,u.vt)(),O=(0,u.vt)(),B=(0,a.vt)(),F={start:(0,u.vt)(),end:(0,u.vt)(),type:f.Vv.LINE},V={start:(0,u.vt)(),end:(0,u.vt)(),type:f.Vv.LINE}},96871:function(t,n,e){e.d(n,{$h:function(){return v},Ef:function(){return L},IP:function(){return y},P1:function(){return _},hF:function(){return A},jQ:function(){return b},rT:function(){return N},rZ:function(){return r},uR:function(){return M}});var r,i,o=e(80575),s=e(7743),u=e(5262),c=e(53334),a=e(56560),l=e(80347),f=e(19913),h=e(42722),p=e(22538),d=e(67488);function v(t,n){if(null==t||null==n)return;const e=g(t,n);return null!=e?(0,s.Wq)(e,"radians","geographic"):void 0}(i=r||(r={})).Absolute="absolute",i.Relative="relative",i.RelativeBilateral="relative-bilateral";const g=(()=>{const t=(0,f.vt)(),n=(0,f.vt)();return(e,r)=>((0,l.i)(t,e.x,e.y,e.z??0),(0,l.i)(n,r.x,r.y,r.z??0),y(t,n,e.spatialReference,r.spatialReference))})(),y=(()=>{const t=(0,a.vt)(),n=(0,f.vt)(),e=(0,f.vt)();return(r,i,o,s)=>{if((0,l.q)(r,i))return;const f=(0,p.Xn)(o),v=(0,p.Xn)(s);if(f&&v&&(0,d.aI)(f,v)&&(0,h.F)(r,o,n,f)&&(0,h.F)(i,s,e,v)){const{azimuth:t}=(0,p._3)(w,n,e,f);return null!=t?(0,u.oU)(t,"degrees","radians"):void 0}t[0]=i[0]-r[0],t[1]=i[1]-r[1];let g=(0,c.g7)(a.JP,t);return t[0]<0&&(g=Z-g),g}})();function M(t,n,e,i=r.Absolute){if(n&&e)switch(i){case r.Absolute:return v(n,e);case r.Relative:return b(m(t,n,e),r.Relative);case r.RelativeBilateral:return b(m(t,n,e),r.RelativeBilateral)}}function m(t,n,e){if(!t||!n||!e)return;const r=g(t,n),i=g(n,e);return null!=r&&null!=i?(0,s.Wq)(i-r,"radians","geographic"):void 0}function b(t,n){if(null!=t)switch(n){case r.Absolute:return _(t);case r.Relative:{const n=A(t);let e=T.normalize(n,0,!0);return-180===e&&(e=180),(0,s.Wq)(e,"degrees","geographic")}case r.RelativeBilateral:{const n=A(t),e=Math.abs(T.normalize(n,0,!0));return(0,s.Wq)(e,"degrees","geographic")}}}function _(t){const n=A(t),e=x.normalize(n,0,!0);return(0,s.Wq)(e,"degrees","geographic")}const N=(()=>{const t=(0,f.vt)();return(n,e,r,i,o,c="geodesic")=>{(0,l.c)(t,e);const a=A(o);if("geodesic"===c){const o=(0,p.Xn)(r);if(o&&(0,h.F)(t,r,t,o))return(0,p.vN)(n,t,a,i,o),n[2]=e[2],!!(0,h.F)(n,o,n,r)}const f=(0,s.g2)(a,"geographic","arithmetic"),d=(0,u.oU)(f,"degrees","radians"),v=e[0]+i*Math.cos(d),g=e[1]+i*Math.sin(d),y=e[2];return(0,l.i)(n,v,g,y),!0}})();function A(t){if(null!=t)return(0,s.g2)(E(t),t.rotationType,"geographic")}function L(t){if(null!=t)return(0,s.g2)(E(t),t.rotationType,"arithmetic")}function E(t){return(0,u.oU)(t.value,t.unit,"degrees")}const w=new p.Zj,Z=2*Math.PI,x=o.ie,T=new o.hr(-180,180)}}]);