"use strict";(self.webpackChunkimagery_explorer_apps=self.webpackChunkimagery_explorer_apps||[]).push([[4232],{14232:function(t,e,n){n.r(e),n.d(e,{default:function(){return j}});var i=n(82392),r=n(14755),s=n(1817),o=n(84977),a=n(80861),l=n(81482),u=n(8636),p=(n(6273),n(67498),n(85716)),c=n(26325),y=n(44153),d=n(56053),m=n(54483),h=n(18160),f=n(80595),v=n(47017),g=n(98646),x=n(40147),w=n(66442),_=n(24193),M=n(23271),Z=n(72991),S=n(23375);const B=new s.J({asc:"ascending",desc:"descending"}),T={base:v.A,key:"type",typeMap:{"auto-interval":f.A,date:g.A,"fixed-boundaries":x.A,"fixed-interval":w.A}};let j=class extends(r.A.ClonableMixin(o.A)){constructor(t){super(t),this.binParameters=null,this.binOrder="ascending",this.cacheHint=void 0,this.datumTransformation=null,this.defaultSpatialReference=null,this.distance=void 0,this.geometry=null,this.lowerBoundaryAlias=null,this.outSpatialReference=null,this.outStatistics=null,this.returnDistinctValues=null,this.spatialRelationship="intersects",this.timeExtent=null,this.upperBoundaryAlias=null,this.units=null,this.where="1=1"}set outTimeZone(t){this._set("outTimeZone",t),t&&!(0,S.wr)(t)&&a.A.getLogger(this).warn("#outTimeZone",`the parsed value '${t}' may not be a valid IANA time zone`)}};(0,i._)([(0,l.MZ)({types:T,json:{name:"bin",write:!0}})],j.prototype,"binParameters",void 0),(0,i._)([(0,p.e)(B)],j.prototype,"binOrder",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],j.prototype,"cacheHint",void 0),(0,i._)([(0,l.MZ)({json:{write:!0}})],j.prototype,"datumTransformation",void 0),(0,i._)([(0,l.MZ)({type:y.A,json:{name:"defaultSR",write:!0}})],j.prototype,"defaultSpatialReference",void 0),(0,i._)([(0,l.MZ)({type:Number,json:{write:{overridePolicy:t=>({enabled:t>0})}}})],j.prototype,"distance",void 0),(0,i._)([(0,l.MZ)({types:m.yR,json:{read:d.rS,write:!0}})],j.prototype,"geometry",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],j.prototype,"lowerBoundaryAlias",void 0),(0,i._)([(0,l.MZ)({type:y.A,json:{name:"outSR",write:!0}})],j.prototype,"outSpatialReference",void 0),(0,i._)([(0,l.MZ)({type:[M.A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],j.prototype,"outStatistics",void 0),(0,i._)([(0,l.MZ)({value:null,json:{name:"outTimeReference",read:{reader:t=>t.ianaTimeZone},write:{writer:(t,e,n)=>{t&&(e[n]={ianaTimeZone:t})}}}})],j.prototype,"outTimeZone",null),(0,i._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],j.prototype,"returnDistinctValues",void 0),(0,i._)([(0,p.e)(_.x,{name:"spatialRel"})],j.prototype,"spatialRelationship",void 0),(0,i._)([(0,l.MZ)({type:Z.T,json:{write:!0}})],j.prototype,"timeExtent",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],j.prototype,"upperBoundaryAlias",void 0),(0,i._)([(0,l.MZ)({type:String,json:{read:h.VY.read,write:{writer:h.VY.write,overridePolicy(t){return{enabled:null!=t&&null!=this.distance}}}}})],j.prototype,"units",void 0),(0,i._)([(0,l.MZ)({type:String,json:{write:!0}})],j.prototype,"where",void 0),j=(0,i._)([(0,c.$)("esri.rest.support.AttributeBinsQuery")],j),j.from=(0,u.dp)(j)},18160:function(t,e,n){n.d(e,{GC:function(){return f},T2:function(){return v},VY:function(){return y},dO:function(){return x},iJ:function(){return h},v8:function(){return d}});var i=n(62991),r=n(1817),s=n(5262),o=n(34008),a=n(34475),l=n(56053),u=n(87249),p=n(67488),c=n(48277);const y=new r.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),d=Object.freeze({}),m="frequency";async function h(t,e,n){const i=t.bin;return i.onField&&(i.onField=i.onField.trim()),i.onExpression?.value&&(i.onExpression.value=i.onExpression.value.trim()),i.splitBy&&(i.splitBy.value&&(i.splitBy.value=i.splitBy.value.trim()),i.splitBy.outAlias&&(i.splitBy.outAlias=i.splitBy.outAlias.trim())),i.stackBy&&(i.stackBy.value&&(i.stackBy.value=i.stackBy.value.trim()),i.stackBy.outAlias&&(i.stackBy.outAlias=i.stackBy.outAlias.trim())),"normalizationField"in i.parameters&&i.parameters.normalizationField&&(i.parameters.normalizationField=i.parameters.normalizationField.trim()),t.outStatistics?.length||(t.outStatistics=[{statisticType:"count",onStatisticField:"1",outStatisticFieldName:m}]),f(t,e,n)}async function f(t,e,n){const{outFields:i,orderByFields:r,groupByFieldsForStatistics:s,outStatistics:o}=t;if(i)for(let t=0;t<i.length;t++)i[t]=i[t].trim();if(r)for(let t=0;t<r.length;t++)r[t]=r[t].trim();if(s)for(let t=0;t<s.length;t++)s[t]=s[t].trim();if(o)for(let t=0;t<o.length;t++)o[t].onStatisticField&&(o[t].onStatisticField=o[t].onStatisticField.trim());return t.geometry&&!t.outSR&&(t.outSR=t.geometry.spatialReference),v(t,e,n)}async function v(t,e,r){if(!t)return null;let{where:o}=t;if(t.where=o=o?.trim(),(!o||/^1 *= *1$/.test(o)||e&&e===o)&&(t.where=null),!t.geometry)return t;let m=await async function(t){const{distance:e,units:r}=t,o=t.geometry;if(null==e||"vertexAttributes"in o)return o;const a=o.spatialReference,u=r?y.fromJSON(r):(0,s.Ij)(a),d=a&&((0,p.EA)(a)||(0,p.K8)(a))?o:await(0,c.Nk)(a,p.KK).then((()=>(0,c.Cv)(o,p.KK))),m=await n.e(914).then(n.bind(n,914));await m.load();const h=m.execute(d,e||1,{unit:u})??void 0;if(!h||!(0,l.Bi)(h)||0===h.rings.length)throw new i.A("unsupported-query:invalid-parameters","Invalid parameters for query by distance");return h}(t);if(t.distance=0,t.units=null,"esriSpatialRelEnvelopeIntersects"===t.spatialRel){const{spatialReference:e}=t.geometry;m=(0,a.HA)(m),m.spatialReference=e}if(m){await(0,c.Nk)(m.spatialReference,r),m=function(t,e){const n=t.spatialReference;return g(t,e)&&(0,l.ZC)(t)?{spatialReference:n,rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}:t}(m,r);const e=(await(0,u.el)((0,l.rS)(m)))[0];if(null==e)throw d;const n="quantizationParameters"in t&&t.quantizationParameters?.tolerance||"maxAllowableOffset"in t&&t.maxAllowableOffset||0,i=n&&g(m,r)?{densificationStep:8*n}:void 0,s=e.toJSON(),o=(0,c.Cv)(s,s.spatialReference,r,i);if(!o)throw d;o.spatialReference=r,t.geometry=o}return t}function g(t,e){if(!t)return!1;const n=t.spatialReference;return((0,l.ZC)(t)||(0,l.Bi)(t)||(0,l.Rg)(t))&&!(0,p.aI)(n,e)&&!(0,o.canProjectWithoutEngine)(n,e)}function x(t,e){return null==t?null:"string"==typeof t?e?new Date(`1970-01-01T${t}Z`).getTime():new Date(t).getTime():t instanceof Date?t.getTime():t}},40147:function(t,e,n){n.d(e,{A:function(){return p}});var i=n(82392),r=n(21750),s=n(81482),o=n(8636),a=(n(6273),n(67498),n(85716)),l=n(26325),u=n(47017);let p=class extends u.A{constructor(t){super(t),this.boundaries=[],this.type="fixed-boundaries"}};(0,i._)([(0,s.MZ)({json:{name:"parameters.boundaries",write:{writer:function(t,e,n){(0,r.sM)(n,t&&function(t){return t[0]instanceof Date}(t)?t.map((t=>t.getTime())):t,e)}}}})],p.prototype,"boundaries",void 0),(0,i._)([(0,a.e)({fixedBoundariesBin:"fixed-boundaries"},{readOnly:!0})],p.prototype,"type",void 0),p=(0,i._)([(0,l.$)("esri.rest.support.FixedBoundariesBinParameters")],p),p.from=(0,o.dp)(p)},47017:function(t,e,n){n.d(e,{A:function(){return f}});var i=n(82392),r=n(14755),s=n(1817),o=n(84977),a=n(81482),l=(n(6273),n(80861),n(67498),n(85716)),u=n(26325),p=n(8636);const c=new s.J({esriFieldTypeInteger:"integer",esriFieldTypeString:"string"});let y=class extends(r.A.ClonableMixin(o.A)){constructor(t){super(t),this.alias=null,this.responseType=null,this.type=null,this.value=null,this.valueType=null}};(0,i._)([(0,a.MZ)({type:String,json:{name:"outAlias",write:!0}})],y.prototype,"alias",void 0),(0,i._)([(0,a.MZ)({type:String})],y.prototype,"responseType",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],y.prototype,"type",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],y.prototype,"value",void 0),(0,i._)([(0,l.e)(c)],y.prototype,"valueType",void 0),y=(0,i._)([(0,u.$)("esri.rest.support.AttributeBinsGrouping")],y);const d=y;y.from=(0,p.dp)(y);const m=new s.J({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeDate:"date",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"}),h=new s.J({naturalLog:"natural-log",squareRoot:"square-root"});let f=class extends(r.A.ClonableMixin(o.A)){constructor(t){super(t),this.expression=null,this.expressionValueType=null,this.field=null,this.firstDayOfWeek=null,this.hideUpperBound=null,this.splitBy=null,this.stackBy=null,this.transformation=null}};(0,i._)([(0,a.MZ)({type:String,json:{name:"onExpression.value",write:!0}})],f.prototype,"expression",void 0),(0,i._)([(0,l.e)(m,{name:"onExpression.valueType"})],f.prototype,"expressionValueType",void 0),(0,i._)([(0,a.MZ)({type:String,json:{name:"onField",write:!0}})],f.prototype,"field",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],f.prototype,"firstDayOfWeek",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],f.prototype,"hideUpperBound",void 0),(0,i._)([(0,a.MZ)({type:d,json:{write:{overridePolicy(){return{enabled:null!=this.splitBy?.value||null!=this.splitBy?.type}}}}})],f.prototype,"splitBy",void 0),(0,i._)([(0,a.MZ)({type:d,json:{write:{target:{stackBy:{type:d},jsonStyle:{type:String}},writer:(t,e)=>{t&&(e.stackBy=t.toJSON(),null!=t.responseType&&(e.jsonStyle=t.responseType))},overridePolicy(){return{enabled:null!=this.stackBy?.value||null!=this.stackBy?.type}}},read:{source:["stackBy","jsonStyle"],reader:(t,e)=>d.fromJSON({...e.stackBy,responseType:e.jsonStyle})}}})],f.prototype,"stackBy",void 0),(0,i._)([(0,l.e)(h)],f.prototype,"transformation",void 0),f=(0,i._)([(0,u.$)("esri.rest.support.BinParametersBase")],f)},48277:function(t,e,n){n.d(e,{Cv:function(){return f},Nk:function(){return d},lK:function(){return g}});var i=n(3223),r=n(37623),s=n(34008),o=n(94625),a=n(67488),l=n(64672);const u=[0,0];function p(t,e){if(!e)return null;if("x"in e){const n={x:0,y:0};return[n.x,n.y]=t(e.x,e.y,u),null!=e.z&&(n.z=e.z),null!=e.m&&(n.m=e.m),n}if("xmin"in e){const n={xmin:0,ymin:0,xmax:0,ymax:0};return[n.xmin,n.ymin]=t(e.xmin,e.ymin,u),[n.xmax,n.ymax]=t(e.xmax,e.ymax,u),e.hasZ&&(n.zmin=e.zmin,n.zmax=e.zmax,n.hasZ=!0),e.hasM&&(n.mmin=e.mmin,n.mmax=e.mmax,n.hasM=!0),n}return"rings"in e?{rings:c(e.rings,t),hasM:e.hasM,hasZ:e.hasZ}:"paths"in e?{paths:c(e.paths,t),hasM:e.hasM,hasZ:e.hasZ}:"points"in e?{points:y(e.points,t),hasM:e.hasM,hasZ:e.hasZ}:null}function c(t,e){const n=[];for(const i of t)n.push(y(i,e));return n}function y(t,e){const n=[];for(const i of t){const t=e(i[0],i[1],[0,0]);n.push(t),i.length>2&&t.push(i[2]),i.length>3&&t.push(i[3])}return n}async function d(t,e){if(!t||!e)return;const n=Array.isArray(t)?t.map((t=>null!=t.geometry?t.geometry.spatialReference:null)).filter(i.Ru):[t];await(0,s.initializeProjection)(n.map((t=>({source:t,dest:e}))))}const m=p.bind(null,l.je),h=p.bind(null,l.tD);function f(t,e,n,i){if(!t)return null;if(n||(n=e,e=t.spatialReference),!(0,a.fn)(e)||!(0,a.fn)(n)||(0,a.aI)(e,n))return t;if((0,l.y7)(e,n)){const e=(0,a.K8)(n)?m(t):h(t);return e.spatialReference=n,e}return(0,s.projectMany)(o.g,[t],e,n,null,i)[0]}const v=new class{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(t,e,n,i){if(!t?.length||!e||!n||(0,a.aI)(e,n))return t;const s={geometries:t,inSpatialReference:e,outSpatialReference:n,geographicTransformation:i,resolve:(0,r.Tw)()};return this._jobs.push(s),this._timer??=setTimeout(this._process,10),s.resolve.promise}_process(){this._timer=null;const t=this._jobs.shift();if(!t)return;const{geometries:e,inSpatialReference:n,outSpatialReference:i,resolve:r,geographicTransformation:u}=t;(0,l.y7)(n,i)?(0,a.K8)(i)?r(e.map(m)):r(e.map(h)):r((0,s.projectMany)(o.g,e,n,i,u,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};function g(t,e,n,i){return v.push(t,e,n,i)}},66442:function(t,e,n){n.d(e,{A:function(){return y}});var i=n(82392),r=n(21750),s=n(81482),o=n(8636),a=(n(6273),n(67498),n(85716)),l=n(26325),u=n(47017),p=n(40603);function c(t,e,n){(0,r.sM)(n,t instanceof Date?t.getTime():t,e)}let y=class extends((0,p.K)(u.A)){constructor(t){super(t),this.end=null,this.interval=null,this.start=null,this.type="fixed-interval"}};(0,i._)([(0,s.MZ)({json:{name:"parameters.end",write:{writer:c}}})],y.prototype,"end",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{name:"parameters.interval",write:!0}})],y.prototype,"interval",void 0),(0,i._)([(0,s.MZ)({json:{name:"parameters.start",write:{writer:c}}})],y.prototype,"start",void 0),(0,i._)([(0,a.e)({fixedIntervalBin:"fixed-interval"},{readOnly:!0})],y.prototype,"type",void 0),y=(0,i._)([(0,l.$)("esri.rest.support.FixedIntervalBinParameters")],y),y.from=(0,o.dp)(y)},80595:function(t,e,n){n.d(e,{A:function(){return y}});var i=n(82392),r=n(21750),s=n(81482),o=n(8636),a=(n(6273),n(67498),n(85716)),l=n(26325),u=n(47017),p=n(40603);function c(t,e,n){(0,r.sM)(n,t instanceof Date?t.getTime():t,e)}let y=class extends((0,p.K)(u.A)){constructor(t){super(t),this.numBins=null,this.end=null,this.start=null,this.type="auto-interval"}};(0,i._)([(0,s.MZ)({type:Number,json:{name:"parameters.numberOfBins",write:!0}})],y.prototype,"numBins",void 0),(0,i._)([(0,s.MZ)({json:{name:"parameters.end",write:{writer:c}}})],y.prototype,"end",void 0),(0,i._)([(0,s.MZ)({json:{name:"parameters.start",write:{writer:c}}})],y.prototype,"start",void 0),(0,i._)([(0,a.e)({autoIntervalBin:"auto-interval"},{readOnly:!0})],y.prototype,"type",void 0),y=(0,i._)([(0,l.$)("esri.rest.support.AutoIntervalBinParameters")],y),y.from=(0,o.dp)(y)},92428:function(t,e,n){n.d(e,{g:function(){return i}});const i=(0,n(1817).O)()({year:"years",quarter:"quarters",month:"months",week:"weeks",day:"days",hour:"hours",minute:"minutes",second:"seconds"})},94625:function(t,e,n){n.d(e,{g:function(){return i}});const i={convertToGEGeometry:function(t,e){return null==e?null:t.convertJSONToGeometry(e)},exportPoint:function(t,e,n){const i=new r(t.getPointX(e),t.getPointY(e),n),s=t.hasZ(e),o=t.hasM(e);return s&&(i.z=t.getPointZ(e)),o&&(i.m=t.getPointM(e)),i},exportPolygon:function(t,e,n){return new s(t.exportPaths(e),n,t.hasZ(e),t.hasM(e))},exportPolyline:function(t,e,n){return new o(t.exportPaths(e),n,t.hasZ(e),t.hasM(e))},exportMultipoint:function(t,e,n){return new a(t.exportPoints(e),n,t.hasZ(e),t.hasM(e))},exportExtent:function(t,e,n){const i=t.hasZ(e),r=t.hasM(e),s=new l(t.getXMin(e),t.getYMin(e),t.getXMax(e),t.getYMax(e),n);if(i){const n=t.getZExtent(e);s.zmin=n.vmin,s.zmax=n.vmax}if(r){const n=t.getMExtent(e);s.mmin=n.vmin,s.mmax=n.vmax}return s}};class r{constructor(t,e,n){this.x=t,this.y=e,this.spatialReference=n,this.z=void 0,this.m=void 0}}class s{constructor(t,e,n,i){this.rings=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class o{constructor(t,e,n,i){this.paths=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class a{constructor(t,e,n,i){this.points=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class l{constructor(t,e,n,i,r){this.xmin=t,this.ymin=e,this.xmax=n,this.ymax=i,this.spatialReference=r,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}},98646:function(t,e,n){n.d(e,{A:function(){return v}});var i=n(82392),r=n(21750),s=n(81482),o=n(8636),a=(n(6273),n(67498),n(85716)),l=n(26325),u=n(47017),p=n(14755),c=n(84977),y=n(92428);let d=class extends(p.A.ClonableMixin(c.A)){constructor(t){super(t),this.value=null,this.unit=null}};(0,i._)([(0,s.MZ)({type:Number,json:{name:"number",write:!0}})],d.prototype,"value",void 0),(0,i._)([(0,a.e)(y.g)],d.prototype,"unit",void 0),d=(0,i._)([(0,l.$)("esri.rest.support.DateBinTimeInterval")],d);const m=d;function h(t,e,n){(0,r.sM)(n,"string"==typeof t?t:t?.getTime(),e)}function f(t,e){const n=t.parameters[e];return n?"string"==typeof n?n:new Date(n):null}d.from=(0,o.dp)(d);let v=class extends u.A{constructor(t){super(t),this.end=null,this.interval=null,this.offset=null,this.returnFullIntervalBin=!1,this.start=null,this.snapToData=null,this.type="date"}};(0,i._)([(0,s.MZ)({cast:t=>null!=t?"string"==typeof t?t:new Date(t):null,json:{name:"parameters.end",read:{reader:(t,e)=>f(e,"end")},write:{writer:h}}})],v.prototype,"end",void 0),(0,i._)([(0,s.MZ)({type:m,json:{name:"parameters",write:!0}})],v.prototype,"interval",void 0),(0,i._)([(0,s.MZ)({type:m,json:{name:"parameters.offset",write:!0}})],v.prototype,"offset",void 0),(0,i._)([(0,s.MZ)({type:Boolean,json:{name:"parameters.returnFullIntervalBin",write:!0}})],v.prototype,"returnFullIntervalBin",void 0),(0,i._)([(0,s.MZ)({cast:t=>null!=t?"string"==typeof t?t:new Date(t):null,json:{name:"parameters.start",read:{reader:(t,e)=>f(e,"start")},write:{writer:h}}})],v.prototype,"start",void 0),(0,i._)([(0,s.MZ)({type:String,json:{name:"parameters.snapToData",write:!0}})],v.prototype,"snapToData",void 0),(0,i._)([(0,a.e)({dateBin:"date"},{readOnly:!0})],v.prototype,"type",void 0),v=(0,i._)([(0,l.$)("esri.rest.support.DateBinParameters")],v),v.from=(0,o.dp)(v)}}]);