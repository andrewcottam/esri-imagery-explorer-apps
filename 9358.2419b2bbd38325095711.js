"use strict";(self.webpackChunkimagery_explorer_apps=self.webpackChunkimagery_explorer_apps||[]).push([[9358],{3800:function(t,n,e){e.d(n,{N:function(){return y},a:function(){return R},b:function(){return I},c:function(){return p},d:function(){return x},e:function(){return v},f:function(){return P},g:function(){return O},k:function(){return q},l:function(){return b},m:function(){return A},n:function(){return m},o:function(){return k},p:function(){return T},s:function(){return U},w:function(){return M}});e(6273),e(80861);var r=e(4506),i=e(25336),o=e(80347),s=e(19913),c=e(74772),u=e(76982),a=e(78115),l=e(60929),f=e(63918);function h(t,n){const e=(0,o.l)(t),i=(0,r.YN)(t[2]/e),s=Math.atan2(t[1]/e,t[0]/e);return(0,o.i)(n,e,i,s),n}var d=e(74695),g=e(11631);const y=p();function p(){return(0,u.vt)()}const m=c.e,_=c.e;function v(t,n){return(0,c.c)(n,t)}function b(t,n){return(0,u.fA)(t[0],t[1],t[2],n)}function M(t){return t}function I(t,n){return t[0]=t[1]=t[2]=0,t[3]=n,t}function O(t){return t[3]}function R(t){return t}function P(t,n,e,r){return(0,u.fA)(t,n,e,r)}function w(t,n,e){if(null==n)return!1;if(!j(t,n,L))return!1;let{t0:r,t1:i}=L;if((r<0||i<r&&i>0)&&(r=i),r<0)return!1;if(e){const{origin:t,direction:i}=n;e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r}return!0}function A(t,n,e){const r=(0,f.Cr)(n,e);if(!j(t,r,L))return[];const{origin:i,direction:c}=r,{t0:u,t1:l}=L,h=n=>{const e=(0,s.vt)();return(0,o.b)(e,i,c,n),T(t,e,e)};return Math.abs(u-l)<(0,a.FD)()?[h(u)]:[h(u),h(l)]}const L={t0:0,t1:0};function j(t,n,e){const{origin:r,direction:i}=n,o=S;o[0]=r[0]-t[0],o[1]=r[1]-t[1],o[2]=r[2]-t[2];const s=i[0]*i[0]+i[1]*i[1]+i[2]*i[2];if(0===s)return!1;const c=2*(i[0]*o[0]+i[1]*o[1]+i[2]*o[2]),u=c*c-4*s*(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]-t[3]*t[3]);if(u<0)return!1;const a=Math.sqrt(u);return e.t0=(-c-a)/(2*s),e.t1=(-c+a)/(2*s),!0}const S=(0,s.vt)();function q(t,n){return w(t,n,null)}function C(t,n,e){const r=g.rq.get(),s=g.Rc.get();(0,o.h)(r,n.origin,n.direction);const c=O(t);(0,o.h)(e,r,n.origin),(0,o.g)(e,e,1/(0,o.l)(e)*c);const u=E(t,n.origin),a=(0,d.g7)(n.origin,e);return(0,i.$0)(s,a+u,r),(0,o.t)(e,e,s),e}function x(t,n,e,r){const i=O(t),o=i*i,s=n+.5*Math.PI,c=e*e+o-2*Math.cos(s)*e*i,u=Math.sqrt(c),a=c-o;if(a<=0)return.5;const l=Math.sqrt(a),f=Math.acos(l/u)-Math.asin(i/(u/Math.sin(s)));return Math.min(1,(f+.5*r)/r)}function T(t,n,e){const r=(0,o.d)(g.rq.get(),n,t),i=(0,o.g)(g.rq.get(),r,t[3]/(0,o.l)(r));return(0,o.f)(e,i,t)}function E(t,n){const e=(0,o.d)(g.rq.get(),n,t),i=(0,o.l)(e),s=O(t),c=s+Math.abs(s-i);return(0,r.XM)(s/c)}const N=(0,s.vt)();function V(t,n,e,r){const i=(0,o.d)(N,n,t);switch(e){case l._.X:{const t=h(i,N)[2];return(0,o.i)(r,-Math.sin(t),Math.cos(t),0)}case l._.Y:{const t=h(i,N),n=t[1],e=t[2],s=Math.sin(n);return(0,o.i)(r,-s*Math.cos(e),-s*Math.sin(e),Math.cos(n))}case l._.Z:return(0,o.n)(r,i);default:return}}function D(t,n){const e=(0,o.d)(F,n,t);return(0,o.l)(e)-t[3]}function k(t,n){const e=(0,o.s)(t,n),r=O(t);return e<=r*r}const F=(0,s.vt)(),H=p(),U=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:y,altitudeAt:D,angleToSilhouette:E,axisAt:V,cameraFrustumCoverage:x,clear:function(t){t[0]=t[1]=t[2]=t[3]=0},closestPoint:function(t,n,e){return w(t,n,e)?e:((0,f.oC)(n,t,e),T(t,e,e))},closestPointOnSilhouette:C,containsPoint:k,copy:v,create:p,distanceToSilhouette:function(t,n){const e=(0,o.d)(g.rq.get(),n,t),r=(0,o.k)(e),i=t[3]*t[3];return Math.sqrt(Math.abs(r-i))},elevate:function(t,n,e){return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2]),e[3]=t[3]+n,e},equals:_,exactEquals:m,fromCenterAndRadius:b,fromRadius:I,fromValues:P,getCenter:R,getExtent:function(t,n){return n},getRadius:O,intersectLine:A,intersectRay:w,intersectRayClosestSilhouette:function(t,n,e){if(w(t,n,e))return e;const r=C(t,n,g.rq.get());return(0,o.f)(e,n.origin,(0,o.g)(g.rq.get(),n.direction,(0,o.j)(n.origin,r)/(0,o.l)(n.direction))),e},intersectsRay:q,projectPoint:T,setAltitudeAt:function(t,n,e,r){const i=D(t,n),s=V(t,n,l._.Z,F),c=(0,o.g)(F,s,e-i);return(0,o.f)(r,n,c)},setExtent:function(t,n,e){return t!==e&&v(t,e),e},tmpSphere:H,union:function(t,n,e=(0,u.vt)()){const r=(0,o.j)(t,n),i=t[3],s=n[3];return r+s<i?((0,c.c)(e,t),e):r+i<s?((0,c.c)(e,n),e):((0,o.m)(e,t,n,(r+s-i)/(2*r)),e[3]=(r+i+s)/2,e)},wrap:M},Symbol.toStringTag,{value:"Module"}))},11631:function(t,n,e){e.d(n,{Rc:function(){return g},J8:function(){return y},oG:function(){return f},rq:function(){return h},Km:function(){return d}});e(6273);var r=e(71709),i=e(79441),o=e(26110),s=e(19165),c=e(56560),u=e(19913),a=e(76982);class l{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new l(c.vt)}static createVec3f64(){return new l(u.vt)}static createVec4f64(){return new l(a.vt)}static createMat3f64(){return new l(i.vt)}static createMat4f64(){return new l(o.vt)}static createQuatf64(){return new l(s.vt)}get test(){}}const f=l.createVec2f64(),h=l.createVec3f64(),d=l.createVec4f64(),g=(l.createMat3f64(),l.createMat4f64()),y=l.createQuatf64()},17869:function(t,n,e){e.d(n,{rQ:function(){return c},lx:function(){return u},RR:function(){return a}});var r=e(19913),i=e(40476),o=e(33409);class s{constructor(t,n,e){this.object=t,this.geometryId=n,this.primitiveIndex=e}}class c extends i.i{constructor(){super(...arguments),this.intersector=o.d.HUD}}class u extends s{constructor(t,n){super(t.object,t.geometryId,t.primitiveIndex),this.center=(0,r.o8)(n)}}function a(t){return(0,i.R)(t)&&t.intersector===o.d.HUD&&!!t.target&&"center"in t.target}},19165:function(t,n,e){function r(){return[0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3]]}e.d(n,{o8:function(){return i},vt:function(){return r},zK:function(){return o}});const o=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:i,create:r,fromValues:function(t,n,e,r){return[t,n,e,r]}},Symbol.toStringTag,{value:"Module"}))},20702:function(t,n,e){e.d(n,{xH:function(){return s},N1:function(){return u}});e(80347);var r=e(19913),i=e(63918),o=(e(30165),e(25336),e(46373),e(3800),e(40476),e(76388));e(33409);o.R;o.H;o.R;o.R;o.R;e(17869);e(62847);(0,r.vt)();function s(t,n){return c(t)===c(n)}function c(t){if(null==t)return null;const n=null!=t.layer?t.layer.id:"";let e=null;return e=null!=t.objectId?t.objectId:null!=t.layer&&"objectIdField"in t.layer&&null!=t.layer.objectIdField&&null!=t.attributes?t.attributes[t.layer.objectIdField]:t.uid,null==e?null:`o-${n}-${e}`}const u={json:{write:{writer:function(t,n){null!=t?.layer?.objectIdField&&null!=t.attributes&&(n.feature={layerId:t.layer.id,objectId:t.attributes[t.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String],isRequired:!0},"feature.objectId":{type:[Number,String],isRequired:!0}}},origins:{"web-scene":{read:function(t){if(null!=t.layerId&&null!=t.objectId)return{uid:null,layer:{id:t.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:t.objectId}}}}}}};(0,i.vt)(),(0,r.vt)()},26110:function(t,n,e){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function o(t,n,e,r,i,o,s,c,u,a,l,f,h,d,g,y){return[t,n,e,r,i,o,s,c,u,a,l,f,h,d,g,y]}e.d(n,{fA:function(){return o},o8:function(){return i},vt:function(){return r},zK:function(){return s}});const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:r,fromValues:o},Symbol.toStringTag,{value:"Module"}))},30165:function(t,n,e){e.d(n,{H:function(){return r},o:function(){return i}});class r{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.filteredLayerViewUids=[],this.store=i.ALL,this.normalRequired=!0,this.excludeLabels=!1}}var i;!function(t){t[t.MIN=0]="MIN",t[t.MINMAX=1]="MINMAX",t[t.ALL=2]="ALL"}(i||(i={}))},33409:function(t,n,e){var r;e.d(n,{d:function(){return r}}),function(t){t[t.OBJECT=0]="OBJECT",t[t.HUD=1]="HUD",t[t.TERRAIN=2]="TERRAIN",t[t.OVERLAY=3]="OVERLAY",t[t.I3S=4]="I3S",t[t.PCL=5]="PCL",t[t.LOD=6]="LOD",t[t.VOXEL=7]="VOXEL",t[t.TILES3D=8]="TILES3D"}(r||(r={}))},40476:function(t,n,e){e.d(n,{R:function(){return h},i:function(){return f}});var r=e(25336),i=e(26110),o=e(80347),s=e(19913),c=e(74772),u=e(76982),a=e(63918),l=e(33409);class f{get ray(){return this._ray}get distanceInRenderSpace(){return null==this.distance?null:((0,o.g)(d,this.ray.direction,this.distance),(0,o.l)(d))}withinDistance(t){return!!h(this)&&this.distanceInRenderSpace<=t}getIntersectionPoint(t){return!!h(this)&&((0,o.g)(d,this.ray.direction,this.distance),(0,o.f)(t,this.ray.origin,d),!0)}getTransformedNormal(t){return(0,o.c)(g,this.normal),g[3]=0,(0,c.t)(g,g,this.transformation),(0,o.c)(t,g),(0,o.n)(t,t)}constructor(t){this.intersector=l.d.OBJECT,this.normal=(0,s.vt)(),this.transformation=(0,i.vt)(),this._ray=(0,a.vt)(),this.init(t)}init(t){this.distance=this.target=this.drapedLayerOrder=this.renderPriority=null,this.intersector=l.d.OBJECT,(0,a.C)(t,this._ray)}set(t,n,e,c,u,a,l){this.intersector=t,this.distance=e,(0,o.c)(this.normal,c??s.Cb),(0,r.C)(this.transformation,u??i.zK),this.target=n,this.drapedLayerOrder=a,this.renderPriority=l}copy(t){(0,a.C)(t.ray,this._ray),this.intersector=t.intersector,this.distance=t.distance,this.target=t.target,this.drapedLayerOrder=t.drapedLayerOrder,this.renderPriority=t.renderPriority,(0,o.c)(this.normal,t.normal),(0,r.C)(this.transformation,t.transformation)}}function h(t){return null!=t?.distance}const d=(0,s.vt)(),g=(0,u.vt)()},62847:function(t,n,e){e.d(n,{H:function(){return c},h:function(){return s}});var r=e(40476),i=e(76388),o=e(33409);class s extends i.R{constructor(t,n,e,r,i){super(t,n),this.layerViewUid=t,this.graphicUid=n,this.triangleNr=e,this.baseBoundingSphere=r,this.numLodLevels=i}}function c(t){return(0,r.R)(t)&&t.intersector===o.d.LOD&&!!t.target}},63918:function(t,n,e){e.d(n,{C:function(){return h},Cr:function(){return d},LV:function(){return f},Zb:function(){return m},fA:function(){return g},kb:function(){return y},oC:function(){return p},vt:function(){return a}});e(3223);var r=e(82444),i=e(82541),o=e(79441),s=e(80347),c=e(19913),u=e(11631);function a(t){return t?l((0,c.o8)(t.origin),(0,c.o8)(t.direction)):l((0,c.vt)(),(0,c.vt)())}function l(t,n){return{origin:t,direction:n}}function f(t,n){const e=_.get();return e.origin=t,e.direction=n,e}function h(t,n=a()){return g(t.origin,t.direction,n)}function d(t,n,e=a()){return(0,s.c)(e.origin,t),(0,s.d)(e.direction,n,t),e}function g(t,n,e=a()){return(0,s.c)(e.origin,t),(0,s.c)(e.direction,n),e}function y(t,n){const e=(0,s.h)(u.rq.get(),(0,s.n)(u.rq.get(),t.direction),(0,s.d)(u.rq.get(),n,t.origin));return(0,s.e)(e,e)}function p(t,n,e){const r=(0,s.e)(t.direction,(0,s.d)(e,n,t.origin));return(0,s.f)(e,t.origin,(0,s.g)(e,t.direction,r)),e}function m(t,n,e,r){const o=t.origin,c=n.origin,u=t.direction,a=n.direction,l=(0,s.e)((0,s.n)(b,u),(0,s.n)(M,a));if(Math.abs(l)>=1)return null;const f=(0,s.h)(b,u,a),h=(0,s.a)(v,c,o),d=(0,i.hZ)(I,u[0],u[1],u[2],-a[0],-a[1],-a[2],f[0],f[1],f[2]),g=(0,i.B8)(I,d);if(null==g)return[e,r];const y=(0,s.e)((0,s.i)(b,g[0],g[3],g[6]),h),p=(0,s.e)((0,s.i)(M,g[1],g[4],g[7]),h);return(0,s.f)(e,o,(0,s.g)(v,u,y)),(0,s.f)(r,c,(0,s.g)(v,a,p)),[e,r]}const _=new r.I((()=>a())),v=(0,c.vt)(),b=(0,c.vt)(),M=(0,c.vt)(),I=(0,o.vt)()},74695:function(t,n,e){e.d(n,{EJ:function(){return a},_I:function(){return s},g7:function(){return u},gr:function(){return c}});var r=e(4506),i=e(80347),o=e(19913);function s(t,n,e){const r=(0,i.e)(t,n)/(0,i.e)(t,t);return(0,i.g)(e,t,r)}function c(t,n){return(0,i.e)(t,n)/(0,i.l)(t)}function u(t,n){const e=(0,i.e)(t,n)/((0,i.l)(t)*(0,i.l)(n));return-(0,r.XM)(e)}function a(t,n,e){(0,i.n)(l,t),(0,i.n)(f,n);const o=(0,i.e)(l,f),s=(0,r.XM)(o),c=(0,i.h)(l,l,f);return(0,i.e)(c,e)<0?2*Math.PI-s:s}const l=(0,o.vt)(),f=(0,o.vt)()},76388:function(t,n,e){e.d(n,{H:function(){return r},R:function(){return i}});class r{constructor(t){this.layerViewUid=t}}class i extends r{constructor(t,n){super(t),this.graphicUid=n}}},82444:function(t,n,e){e.d(n,{I:function(){return i}});var r=e(71709);class i{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*o);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,o));t++)this._items.push(this._allocator())}}const o=1024},84449:function(t,n,e){e.d(n,{A:function(){return d}});var r=e(82392),i=e(14755),o=e(81482),s=(e(6273),e(80861),e(67498),e(26325));let c=class extends i.A{constructor(t){super(t),this.type="web-scene"}equals(t){return this.type===t.type}};(0,r._)([(0,o.MZ)()],c.prototype,"type",void 0),c=(0,r._)([(0,s.$)("esri.analysis.support.AnalysisOriginWebScene")],c);const u=c;var a=e(73783),l=e(23377),f=e(84977);let h=0,d=class extends(f.A.JSONSupportMixin(i.A.ClonableMixin(l.A.IdentifiableMixin(a.A)))){constructor(t){super(t),this.id=`${Date.now().toString(16)}-analysis-${h++}`,this.origin=null}get parent(){return this._get("parent")}set parent(t){const n=this.parent;if(null!=n)switch(n.type){case"line-of-sight":case"dimension":case"viewshed":n.releaseAnalysis(this);break;case"2d":case"3d":n.analyses.includes(this)&&n.analyses.remove(this)}this._set("parent",t)}equals(t){return!0}};(0,r._)([(0,o.MZ)({type:String,constructOnly:!0,clonable:!1})],d.prototype,"id",void 0),(0,r._)([(0,o.MZ)({clonable:!1,value:null})],d.prototype,"parent",null),(0,r._)([(0,o.MZ)({types:{key:"type",base:null,typeMap:{"web-scene":u}}})],d.prototype,"origin",void 0),d=(0,r._)([(0,s.$)("esri.analysis.Analysis")],d)}}]);