"use strict";(self.webpackChunkimagery_explorer_apps=self.webpackChunkimagery_explorer_apps||[]).push([[4973,5534,6530,9822],{6530:function(e,t,n){n.d(t,{G:function(){return r},S:function(){return i}});class r{*[Symbol.iterator](){let e=this.next();for(;e;)yield e,e=this.next()}}class i extends r{constructor(e){super(),this.m_iGeom=-1,this.m_aGeoms=e?e.slice():[]}next(){if(this.m_iGeom<this.m_aGeoms.length-1){const e=this.m_aGeoms[++this.m_iGeom];return this.m_aGeoms[this.m_iGeom]=null,e}return null}tock(){return!1}getGeometryID(){return this.m_iGeom}getRank(){return 1}}},43153:function(e,t,n){n.r(t),n.d(t,{fromExtent:function(){return D},fromGeometry:function(){return v},fromMultipoint:function(){return N},fromPoint:function(){return P},fromPolygon:function(){return x},fromPolyline:function(){return I},fromSpatialReference:function(){return G},getSpatialReference:function(){return _},toExtent:function(){return M},toGeometry:function(){return d},toMultipoint:function(){return E},toPoint:function(){return q},toPolygon:function(){return b},toPolyline:function(){return C}});var r=n(74720),i=(n(68164),n(77382)),s=n(25298),o=n(85300),u=n(45262),a=n(8e3),m=n(67709),c=n(1912),l=n(65648),h=n(38648),g=(n(65080),n(17586));const y="_gxVersion",f=2,p=1;function _(e){return Array.isArray(e)?e[0].spatialReference:e.spatialReference}function v(e){switch(e.type){case"point":return P(e);case"multipoint":return N(e);case"polyline":return I(e);case"polygon":return x(e);case"extent":return D(e);default:throw new Error(`Unsupported geometry type: ${e.type}`)}}function D(e){if(!e.getCacheValue(y)){const t=new s.E;t.setCoords(e.xmin,e.ymin,e.xmax,e.ymax),e.hasM&&t.setInterval(f,0,e.mmin,e.mmax),e.hasZ&&t.setInterval(p,0,e.zmin,e.zmax),e.setCacheValue(y,t)}return e.getCacheValue(y)}function N(e){if(!e.getCacheValue(y)){const t=new o.M,n=new s.P,r=e.points,i=e.hasM,u=e.hasZ,a=u?3:2;for(let e=0,s=r.length;e<s;e++){const s=r[e];n.setXYCoords(s[0],s[1]),u&&n.setZ(s[2]??0),i&&n.setM(s[a]??NaN),t.add(n)}e.setCacheValue(y,t)}return e.getCacheValue(y)}function P(e){if(!e.getCacheValue(y)){const t=new s.P;t.setXYCoords(e.x,e.y),e.hasM&&t.setM(e.m),e.hasZ&&t.setZ(e.z),e.setCacheValue(y,t)}return e.getCacheValue(y)}function x(e){if(!e.getCacheValue(y)){const{curveRings:t,hasM:n,hasZ:r,rings:i}=e,s=(0,g.fromGeometryToGXGeometry)({curveRings:t,hasM:n,hasZ:r,rings:i});e.setCacheValue(y,s)}return e.getCacheValue(y)}function I(e){if(!e.getCacheValue(y)){const{curvePaths:t,hasM:n,hasZ:r,paths:i}=e,s=(0,g.fromGeometryToGXGeometry)({curvePaths:t,hasM:n,hasZ:r,paths:i});e.setCacheValue(y,s)}return e.getCacheValue(y)}function G(e){if(e.wkid)return(0,u.c)(e.wkid);const t=e.wkt2||e.wkt;return t?(0,u.a)(t):null}function d(e,t){if(e)switch(e.getGeometryType()){case i.G.enumPoint:return q(e,t);case i.G.enumEnvelope:return M(e,t);case i.G.enumMultiPoint:return E(e,t);case i.G.enumPolyline:return C(e,t);case i.G.enumPolygon:return b(e,t)}return null}function M(e,t){if(e.isEmpty())return null;const n=new a.A({xmin:e.getXMin(),ymin:e.getYMin(),xmax:e.getXMax(),ymax:e.getYMax(),spatialReference:t}),r=e.getDescription();if(r.hasM()){const t=e.queryInterval(f,0);n.mmin=t.vmin,n.mmax=t.vmax}if(r.hasZ()){const t=e.queryInterval(p,0);n.zmin=t.vmin,n.zmax=t.vmax}return n.setCacheValue(y,e),n}function E(e,t){if(e.isEmpty())return null;const n=e.getDescription(),r=n.hasM(),i=n.hasZ(),o=[],u=new s.P;for(let t=0,n=e.getPointCount();t<n;t++){e.getPointByVal(t,u);const n=[u.getX(),u.getY()];i&&n.push(u.getZ()),r&&n.push(u.getM()),o.push(n)}const a=new m.A({hasM:r,hasZ:i,points:o,spatialReference:t});return a.setCacheValue(y,e),a}function q(e,t){if(e instanceof r.P)return new c.A({x:e.x,y:e.y,spatialReference:t});if(e.isEmpty())return null;const n=new c.A({x:e.getX(),y:e.getY(),spatialReference:t}),i=e.getDescription();return i.hasM()&&(n.m=e.getM()),i.hasZ()&&(n.z=e.getZ()),n.setCacheValue(y,e),n}function b(e,t){if(e.isEmpty())return null;const n=l.A.fromJSON({spatialReference:t,...(0,g.toGeometry)(e,null)});return n.setCacheValue(y,e),n}function C(e,t){if(e.isEmpty())return null;const n=h.A.fromJSON({spatialReference:t,...(0,g.toGeometry)(e,null)});return n.setCacheValue(y,e),n}},56894:function(e,t,n){n.d(t,{d:function(){return c},e:function(){return a},s:function(){return m}});var r=n(77382),i=n(80809),s=n(5262),o=n(43153);const u=new class{getOperatorType(){return 10100}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}execute(e,t,n){return this.executeEx(e,t,n,null,null,Number.NaN)}executeEx(e,t,n,s,o,u){if(e.isEmpty()||t.isEmpty())return Number.NaN;(0,r.c)(e),(0,r.c)(t);const a=e,m=t;Number.isNaN(u)&&(u=Number.POSITIVE_INFINITY);const c=new i.D(u,n).calculate(a,m,s,o);return Number.isFinite(c)?c:Number.NaN}};function a(e,t,n={}){const{unit:r}=n;let i=u.execute((0,o.fromGeometry)(e),(0,o.fromGeometry)(t),null);if(i&&r){const t=(0,o.getSpatialReference)(e);i=(0,s.PQ)(i,t,r)}return i}const m=u.supportsCurves(),c=Object.freeze(Object.defineProperty({__proto__:null,execute:a,supportsCurves:m},Symbol.toStringTag,{value:"Module"}))},71741:function(e,t,n){n.r(t),n.d(t,{execute:function(){return r.e},supportsCurves:function(){return r.s}});var r=n(56894);n(5262),n(43153)},80809:function(e,t,n){n.d(t,{D:function(){return N},m:function(){return c},s:function(){return _},w:function(){return p}});var r=n(82392),i=n(77382),s=n(85300),o=n(45262),u=n(74720),a=n(68164),m=n(25298);function c(){return{outPoint:new u.P,index:-1,t:Number.NaN}}function l(e,t,n){return{outPoint:e.clone(),index:t,t:n}}function h(e,t,n,r){e.outPoint.assign(t),e.index=n,e.t=r}function g(e,t){e.outPoint.assign(t.outPoint),e.index=t.index,e.t=t.t}function y(e,t,n,r){e.index=n,e.t=r,t.queryCoord2D(e.t,e.outPoint)}function f(e,t){const n=c();g(n,e),g(e,t),g(t,n)}function p(e,t,n,r,s,u){if(e.getGeometryType()===i.G.enumPolygon){for(;r.nextPath();)if(r.hasNextSegment()){const t=r.nextSegment();if(0!==(0,o.h)(e,t.getEndXY(),0))return h(s,t.getEndXY(),-1,Number.NaN),h(u,t.getEndXY(),-1,Number.NaN),!0}r.resetToFirstPath()}if(t.getGeometryType()===i.G.enumPolygon){for(;n.nextPath();)if(n.hasNextSegment()){const e=n.nextSegment();if(0!==(0,o.h)(t,e.getEndXY(),0))return h(s,e.getEndXY(),-1,Number.NaN),h(u,e.getEndXY(),-1,Number.NaN),!0}n.resetToFirstPath()}return!1}function _(e){const t=e.getPathCount(),n=(0,u.d)(e.getSegmentCount(),0);let r=0;for(let i=0;i<t;++i){const t=r+e.getSegmentCountPath(i);for(let s=r,o=e.getPathStart(i);s<t;++s,++o)n[s]=o;r=t}return(0,s.s)(e.getPointCount(),n),n}function v(e,t){return!!Number.isNaN(t)||e<=t}function D(e){const t=new s.a;return t.addEnvelope(e,!1),t}class N{constructor(e,t){if(this.m_env2DgeometryA=null,this.m_env2DgeometryB=null,this.m_progressCounter=0,this.m_progressTracker=t,this.m_maxSqrDistance=e*e,this.m_maxDistance=e,this.m_bIsNearCalc=!1,Number.isNaN(this.m_maxDistance)?this.m_maxDistance=Number.POSITIVE_INFINITY:this.m_maxDistance=e,this.m_maxSqrDistance=this.m_maxDistance*this.m_maxDistance,Number.isFinite(this.m_maxSqrDistance)){let e=Math.sqrt(this.m_maxSqrDistance);for(;e<this.m_maxDistance;)this.m_maxSqrDistance*=1+Number.EPSILON,e=Math.sqrt(this.m_maxSqrDistance)}}calculate(e,t,n,r){if((e.getGeometryType()!==m.P.type||t.getGeometryType()!==m.P.type)&&(this.m_env2DgeometryA=new a.Envelope2D,this.m_env2DgeometryB=new a.Envelope2D,e.queryEnvelope(this.m_env2DgeometryA),t.queryEnvelope(this.m_env2DgeometryB),!v(this.m_env2DgeometryA.distanceFromEnvelope(this.m_env2DgeometryB),this.m_maxDistance)))return Number.POSITIVE_INFINITY;const i=l(new u.P,(0,u.j)(),Number.NaN),s=l(new u.P,(0,u.j)(),Number.NaN),o=this._ExecuteBruteForce(e,t,i,s);return v(o,this.m_maxDistance)?(null!==n&&g(n,i),null!==r&&g(r,s),o):Number.POSITIVE_INFINITY}isNear(e,t){if(this.m_bIsNearCalc=!0,e.isEmpty()||t.isEmpty())return!1;if(e===t)return!0;let n=!0;if(e.getGeometryType()!==m.P.type&&e.getGeometryType()!==m.E.type||t.getGeometryType()!==m.P.type&&t.getGeometryType()!==m.E.type||(n=!1),n){if(this.m_env2DgeometryA=new a.Envelope2D,this.m_env2DgeometryB=new a.Envelope2D,e.queryEnvelope(this.m_env2DgeometryA),t.queryEnvelope(this.m_env2DgeometryB),!(this.m_env2DgeometryA.sqrMaxMinDistanceEnvelope(this.m_env2DgeometryB)>this.m_maxSqrDistance))return!0;if(this.m_env2DgeometryA.sqrDistanceEnvelope(this.m_env2DgeometryB,null,null)>this.m_maxSqrDistance)return!1}const r=l(new u.P,(0,u.j)(),Number.NaN),i=l(new u.P,(0,u.j)(),Number.NaN);return this._ExecuteBruteForce(e,t,r,i)<=this.m_maxDistance}progress_(e=!1){}_ExecuteBruteForce(e,t,n,r){switch(e.getGeometryType()){case i.G.enumPoint:return this.distancePointGeometry(e,t,n,r);case i.G.enumMultiPoint:return this.distanceMultipointGeometry(e,t,n,r);case i.G.enumEnvelope:return this.distanceEnvelopeGeometry(e,t,n,r);case i.G.enumPolyline:case i.G.enumPolygon:return this.distanceMultipathGeometry(e,t,n,r);default:return Number.NaN}}distancePointGeometry(e,t,n,r){switch(t.getGeometryType()){case i.G.enumPoint:return this.distancePointPoint(e,t,n,r);case i.G.enumMultiPoint:return this.distancePointMultipoint(e,t,n,r);case i.G.enumPolyline:case i.G.enumPolygon:return this.distancePointMultipath(e,t,n,r);case i.G.enumEnvelope:return this.distancePointEnvelope(e,t,n,r);default:return Number.NaN}}distancePointPoint(e,t,n,r){const i=e.getXY(),s=t.getXY();return h(n,i,0,0),h(r,s,0,0),Math.sqrt(u.P.sqrDistance(i,s))}distancePointMultipoint(e,t,n,r){const i=e.getXY();let s=this.m_maxSqrDistance,o=s,a=!1;const m=t.getPointCount(),c=new u.P;for(let e=0;e<m;++e)if(t.queryXY(e,c),o=u.P.sqrDistance(i,c),this.m_bIsNearCalc){if(o<=s)return 0}else if(!(o>s)&&(!a&&o===s||o<s)&&(s=o,h(n,i,0,0),h(r,c,e,0),a=!0,0===s))return 0;return a?Math.sqrt(s):Number.POSITIVE_INFINITY}distancePointMultipath(e,t,n,r){const s=!this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB),m=e.getXY();if(!s&&t.getGeometryType()===i.G.enumPolygon&&0!==(0,o.h)(t,m,0))return h(n,m,0,0),h(r,m,-1,Number.NaN),0;t.getImpl().getAccelerators();let c=this.m_maxSqrDistance,l=c,g=-1;const y=new a.Envelope2D,f=t.querySegmentIterator();let p=!1;for(;f.nextPath();)for(;f.hasNextSegment();){const e=f.nextSegment();e.queryEnvelope(y);const t=y.sqrDistance(m);if(t>c)continue;if(!this.m_bIsNearCalc&&p&&t===c)continue;g=e.getClosestCoordinate(m,!1);const i=e.getCoord2D(g);if(l=u.P.sqrDistance(m,i),this.m_bIsNearCalc){if(l<=c)return 0}else if(!(l>c)&&(!p||l<c)&&(c=l,h(n,m,0,0),h(r,i,f.getStartPointIndex(),g),p=!0,0===c))return 0}return p?Math.sqrt(c):Number.POSITIVE_INFINITY}distancePointEnvelope(e,t,n,r){const i=e.getXY();h(n,i,0,0),h(r,i,-1,Number.NaN);const s=t.asEnvelope2D();return s.contains(i)?0:Math.sqrt(s.sqrDistance(i,r.outPoint))}distanceMultipointGeometry(e,t,n,r){switch(t.getGeometryType()){case i.G.enumPoint:{this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const i=this.distancePointMultipoint(t,e,r,n);return this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),i}case i.G.enumMultiPoint:return this.distanceMultipointMultipoint(e,t,n,r,1,1);case i.G.enumPolyline:case i.G.enumPolygon:return this.distanceMultipointMultipath(e,t,n,r);case i.G.enumEnvelope:return this.distanceMultipointMultipath(e,D(t),n,r);default:return Number.NaN}}distanceMultipointMultipoint(e,t,n,i,s,o){const a={stack:[],error:void 0,hasError:!1};try{if(this.m_bIsNearCalc&&1===s&&1===o){const r=Math.trunc((0,u.s)(Math.sqrt(e.getPointCount())+1,1,(0,u.i)())),s=Math.trunc((0,u.s)(Math.sqrt(t.getPointCount())+1,1,(0,u.i)()));if((r>=4||s>=4)&&this.distanceMultipointMultipoint(e,t,n,i,r,s)<=this.m_maxSqrDistance)return 0}let m=this.m_maxSqrDistance;const c=[e],l=[t],g=this.swapGeometriesIfBGtA(c,l);g&&(this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),o=(0,u.c)(s,s=o),f(n,i)),(0,r.b)(a,(0,u.h)((()=>{f(n,i),this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB)}),!g),!1);const y=c[0].getImpl(),p=l[0].getImpl(),_=y.getPointCount(),v=p.getPointCount(),D=v>1;let N=!1;const P=new u.P,x=new u.P;for(let e=0;e<_;e+=s){if(y.queryXY(e,P),D){const e=this.m_env2DgeometryB.sqrDistance(P);if(this.m_bIsNearCalc){if(e>m)continue;if(this.m_env2DgeometryB.sqrMaxMinDistance(P)<=m)return 0}else if(e>=m)continue}for(let t=0;t<v;t+=o){p.queryXY(t,x);const r=u.P.sqrDistance(P,x);if(this.m_bIsNearCalc){if(r<=m)return 0}else if(!(r>m||N&&r===m)&&(!N||r<m)&&(h(n,P,e,0),h(i,x,t,0),N=!0,m=r,0===m))return N?Math.sqrt(m):Number.POSITIVE_INFINITY}}return N?Math.sqrt(m):Number.POSITIVE_INFINITY}catch(e){a.error=e,a.hasError=!0}finally{(0,r.c)(a)}}distanceMultipointMultipath(e,t,n,r){let s=!!this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB)&&t.getGeometryType()===i.G.enumPolygon;const m=t.querySegmentIterator();m.stripAttributes();const c=new a.Envelope2D,l=new u.P;let g=this.m_maxSqrDistance;const y=e.getImpl(),f=y.getPointCount(),p=f>1;let _=!1;for(;m.nextPath();)for(;m.hasNextSegment();){const e=m.nextSegment();if(e.queryLooseEnvelope(c),p){const e=c.sqrDistanceEnvelope(this.m_env2DgeometryA,null,null);if(this.m_bIsNearCalc){if(e>g)continue}else if(e>g||_&&e===g)continue}for(let i=0;i<f;i++){if(y.queryXY(i,l),s&&0!==(0,o.h)(t,l,0))return h(n,l,-1,Number.NaN),h(r,l,i,0),0;{const e=c.sqrDistance(l);if(this.m_bIsNearCalc){if(e>g)continue}else if(e>g)continue}const u=e.getClosestCoordinate(l,!1),a=e.getCoord2D(u);l.subThis(a);const f=l.sqrLength();if(this.m_bIsNearCalc){if(f<=g)return 0}else if(!(f>g)&&(!_||f<g)&&(g=f,h(n,y.getXY(i),i,0),h(r,a,m.getStartPointIndex(),u),_=!0,0===g))return 0}s=!1}return _?Math.sqrt(g):Number.POSITIVE_INFINITY}distanceEnvelopeGeometry(e,t,n,r){switch(t.getGeometryType()){case i.G.enumPoint:return this.distancePointEnvelope(t,e,r,n);case i.G.enumMultiPoint:{this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const i=this.distanceMultipointMultipath(t,D(e),r,n);return this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),i}case i.G.enumPolyline:case i.G.enumPolygon:return this.distanceMultipathMultipath(D(e),t,n,r);case i.G.enumEnvelope:return this.distanceEnvelopeEnvelope(e,t,n,r);default:return Number.NaN}}distanceEnvelopeEnvelope(e,t,n,r){n.t=Number.NaN,n.index=-1,r.t=Number.NaN,r.index=-1;const i=e.asEnvelope2D(),s=t.asEnvelope2D();return Math.sqrt(i.sqrDistanceEnvelope(s,n.outPoint,r.outPoint))}distanceMultipathGeometry(e,t,n,r){switch(t.getGeometryType()){case i.G.enumPoint:{this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const i=this.distancePointMultipath(t,e,r,n);return this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),i}case i.G.enumMultiPoint:{this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const i=this.distanceMultipointMultipath(t,e,r,n);return this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),i}case i.G.enumPolyline:case i.G.enumPolygon:return this.distanceMultipathMultipath(e,t,n,r);case i.G.enumEnvelope:return this.distanceMultipathMultipath(e,D(t),n,r);default:return Number.NaN}}distanceMultipathMultipath(e,t,n,i){const o={stack:[],error:void 0,hasError:!1};try{const m=[e],l=[t],h=this.swapGeometriesIfAGtB(m,l);h&&(this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),f(n,i)),(0,r.b)(o,(0,u.h)((()=>{f(n,i),this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB)}),!h),!1);const v=m[0],D=l[0],N=v.querySegmentIterator();N.stripAttributes();const P=D.querySegmentIterator();if(P.stripAttributes(),this.m_bIsNearCalc&&this.m_env2DgeometryA.sqrMaxMinDistanceEnvelope(this.m_env2DgeometryB)<=this.m_maxSqrDistance)return 0;if(this.m_bIsNearCalc){const e=Math.trunc((0,u.s)(Math.sqrt(v.getPointCount())+1,1,(0,u.i)())),t=Math.trunc((0,u.s)(Math.sqrt(v.getPointCount())+1,1,(0,u.i)()));if(this.distanceMultipointMultipoint(v,D,n,i,e,t)<=this.m_maxSqrDistance)return 0}if(this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB)){const e=c(),t=c();if(p(v,D,N,P,e,t))return g(n,e),g(i,t),0}const x=_(v),I=[],G=new s.S,d=new a.Envelope2D,M=new a.Envelope2D,E=new a.Envelope2D;let q=this.m_maxSqrDistance,b=!0,C=!1;for(let e=0,t=x.length;e<t;++e){v.querySegment(x[e],G,!0);const t=G.get();if(t.queryEnvelope(d),!(d.sqrDistanceEnvelope(this.m_env2DgeometryB,null,null)>q)){if(this.m_bIsNearCalc&&d.sqrMaxDistanceEnvelope(this.m_env2DgeometryB)<=q)return 0;for(;P.nextPath();){if(this.progress_(),b)D.queryPathEnvelope(P.getPathIndex(),E),I[P.getPathIndex()]=E.clone();else if(d.sqrDistanceEnvelope(I[P.getPathIndex()],null,null)>q)continue;for(;P.hasNextSegment();){const r=P.nextSegment();if(r.queryEnvelope(M),d.sqrDistanceEnvelope(M,null,null)<=q){const s=!d.isIntersecting(M),o=[0],u=[0];let a=t.distance(r,s,o,u);if(a*=a,this.m_bIsNearCalc&&a<=this.m_maxSqrDistance)return 0;if(a<q||a===q&&x[e]<n.index){if(C=!0,y(n,t,x[e],o[0]),y(i,r,P.getStartPointIndex(),u[0]),0===a)return 0;q=a}}}}P.resetToFirstPath(),b=!1}}return C?Math.sqrt(q):Number.POSITIVE_INFINITY}catch(e){o.error=e,o.hasError=!0}finally{(0,r.c)(o)}}swapGeometriesIfAGtB(e,t){return(0,i.v)(e[0])>(0,i.v)(t[0])&&(t[0]=(0,u.c)(e[0],e[0]=t[0]),!0)}swapGeometriesIfBGtA(e,t){return this.swapGeometriesIfAGtB(t,e)}}}}]);