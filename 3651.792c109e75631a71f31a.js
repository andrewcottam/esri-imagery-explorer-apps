"use strict";(self.webpackChunkimagery_explorer_apps=self.webpackChunkimagery_explorer_apps||[]).push([[3651],{3628:function(t,e,n){n.d(e,{I$:function(){return o},In:function(){return u},gr:function(){return c}});var r=n(29386),i=n(7724),s=n(33763);const o=(0,i.BP)().vec3f(s.r.POSITION).u16(s.r.COMPONENTINDEX).freeze(),a=(0,i.BP)().vec2u8(s.r.SIDENESS).freeze(),c=((0,r.U)(a),(0,i.BP)().vec3f(s.r.POSITION0).vec3f(s.r.POSITION1).vec2i16(s.r.NORMALCOMPRESSED).u16(s.r.COMPONENTINDEX).u8(s.r.VARIANTOFFSET,{glNormalized:!0}).u8(s.r.VARIANTSTROKE).u8(s.r.VARIANTEXTENSION,{glNormalized:!0}).freeze()),u=(0,i.BP)().vec3f(s.r.POSITION0).vec3f(s.r.POSITION1).vec2i16(s.r.NORMALCOMPRESSED).vec2i16(s.r.NORMAL2COMPRESSED).u16(s.r.COMPONENTINDEX).u8(s.r.VARIANTOFFSET,{glNormalized:!0}).u8(s.r.VARIANTSTROKE).u8(s.r.VARIANTEXTENSION,{glNormalized:!0}).freeze();new Map([[s.r.POSITION0,0],[s.r.POSITION1,1],[s.r.COMPONENTINDEX,2],[s.r.VARIANTOFFSET,3],[s.r.VARIANTSTROKE,4],[s.r.VARIANTEXTENSION,5],[s.r.NORMALCOMPRESSED,6],[s.r.NORMAL2COMPRESSED,7],[s.r.SIDENESS,8]])},7724:function(t,e,n){n.d(e,{BP:function(){return u},l5:function(){return f},q3:function(){return c}});var r=n(81627),i=n(40041),s=n(38456),o=n(26421);class a{constructor(t,e){this.layout=t,this.buffer="number"==typeof e?new ArrayBuffer(e*t.stride):e;for(const e of t.fields.keys()){const n=t.fields.get(e);this[e]=new n.constructor(this.buffer,n.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(t,e){const n=this[t];return n&&n.elementCount===e.ElementCount&&n.elementType===e.ElementType?n:null}slice(t,e){return new a(this.layout,this.buffer.slice(t*this.stride,e*this.stride))}copyFrom(t,e=0,n=0,r=t.count){const i=this.stride;if(i%4==0){const s=new Uint32Array(t.buffer,e*i,r*i/4);new Uint32Array(this.buffer,n*i,r*i/4).set(s)}else{const s=new Uint8Array(t.buffer,e*i,r*i);new Uint8Array(this.buffer,n*i,r*i).set(s)}return this}get cachedMemory(){return this.byteLength}dispose(){}}class c{constructor(t){this._stride=0,this._fields=new Map,t&&(this._stride=t.stride,t.fields.forEach((t=>this._fields.set(t[0],{...t[1],constructor:d(t[1].constructor)}))))}freeze(){return this}vec2f16(t,e){return this._appendField(t,r.SX?i.ZD:i.gH,e),this}vec2f(t,e){return this._appendField(t,i.gH,e),this}vec2f64(t,e){return this._appendField(t,i.si,e),this}vec3f16(t,e){return this._appendField(t,r.SX?i.EC:i.xs,e),this}vec3f(t,e){return this._appendField(t,i.xs,e),this}vec3f64(t,e){return this._appendField(t,i.Xm,e),this}vec4f16(t,e){return this._appendField(t,r.SX?i.jz:i.Eq,e),this}vec4f(t,e){return this._appendField(t,i.Eq,e),this}vec4f64(t,e){return this._appendField(t,i.Aj,e),this}mat3f(t,e){return this._appendField(t,i.jZ,e),this}mat3f64(t,e){return this._appendField(t,i.j0,e),this}mat4f(t,e){return this._appendField(t,i.Sx,e),this}mat4f64(t,e){return this._appendField(t,i.E$,e),this}vec4u8(t,e){return this._appendField(t,i.XP,e),this}f16(t,e){return this._appendField(t,r.SX?i.XW:i.Y$,e),this}f32(t,e){return this._appendField(t,i.Y$,e),this}f64(t,e){return this._appendField(t,i.qB,e),this}u8(t,e){return this._appendField(t,i.SL,e),this}u16(t,e){return this._appendField(t,i.h,e),this}i8(t,e){return this._appendField(t,i.bf,e),this}vec2i8(t,e){return this._appendField(t,i.D6,e),this}vec2i16(t,e){return this._appendField(t,i.mJ,e),this}vec2u8(t,e){return this._appendField(t,i.LC,e),this}vec2u16(t,e){return this._appendField(t,i.Yi,e),this}vec4u16(t,e){return this._appendField(t,i.Uz,e),this}u32(t,e){return this._appendField(t,i.P,e),this}_appendField(t,e,n){this._fields.has(t)&&(0,o.vA)(!1,`${t} already added to vertex buffer layout`);const r=e.ElementCount*(0,s.GJ)(e.ElementType),i=this._stride;this._fields.set(t,{constructor:e,size:r,offset:i,optional:n}),this._alignFields()}_alignFields(){let t=0,e=1;this._fields.forEach((n=>{const r=(0,s.GJ)(n.constructor.ElementType);t=Math.floor((t+r-1)/r)*r,n.offset=t,t+=n.size,e=Math.max(e,r)})),t=Math.floor((t+e-1)/e)*e,this._stride=t}createBuffer(t){return new a(this,t)}createView(t){return new a(this,t)}clone(){const t=new c;return t._stride=this._stride,t._fields=new Map,this._fields.forEach(((e,n)=>t._fields.set(n,e))),t.BufferType=this.BufferType,t}get stride(){return this._stride}get fields(){return this._fields}}function u(){return new c}class f{constructor(t){this.fields=new Array,t.fields.forEach(((t,e)=>{const n={...t,constructor:h(t.constructor)};this.fields.push([e,n])})),this.stride=t.stride}}const l=[i.Y$,i.gH,i.xs,i.Eq,i.jZ,i.Sx,i.qB,i.si,i.Xm,i.Aj,i.j0,i.E$,i.SL,i.LC,i.eI,i.XP,i.h,i.Yi,i.nS,i.Uz,i.P,i.An,i.H$,i.ml,i.bf,i.D6,i.m8,i.TX,i.Qt,i.mJ,i.Vp,i.E7,i.My,i.UL,i.zD,i.Y4];function h(t){return`${t.ElementType}_${t.ElementCount}`}function d(t){return p.get(t)}const p=new Map;l.forEach((t=>p.set(h(t),t)))},29386:function(t,e,n){n.d(e,{U:function(){return s}});var r=n(68716),i=n(67277);function s(t,e=0){const n=t.stride;return Array.from(t.fields.keys()).map((r=>{const s=t.fields.get(r),a=s.constructor.ElementCount,c=o(s.constructor.ElementType),u=s.offset,f=s.optional?.glNormalized??!1;return new i._(r,a,c,u,n,f,e)}))}function o(t){const e=a[t];if(e)return e;throw new Error("BufferType not supported in WebGL")}const a={u8:r.pe.UNSIGNED_BYTE,u16:r.pe.UNSIGNED_SHORT,u32:r.pe.UNSIGNED_INT,i8:r.pe.BYTE,i16:r.pe.SHORT,i32:r.pe.INT,f16:r.pe.HALF_FLOAT,f32:r.pe.FLOAT}},33651:function(t,e,n){n.d(e,{o6:function(){return v},HY:function(){return C},hx:function(){return F},Jb:function(){return _}});var r=n(95431);function i(t,e,n){const r=e/3,i=new Uint32Array(n+1),s=new Uint32Array(n+1),o=(t,e)=>{t<e?i[t+1]++:s[e+1]++};for(let e=0;e<r;e++){const n=t[3*e],r=t[3*e+1],i=t[3*e+2];o(n,r),o(r,i),o(i,n)}let a=0,c=0;for(let t=0;t<n;t++){const e=i[t+1],n=s[t+1];i[t+1]=a,s[t+1]=c,a+=e,c+=n}const u=new Uint32Array(6*r),f=i[n],l=(t,e,n)=>{if(t<e){const r=i[t+1]++;u[2*r]=e,u[2*r+1]=n}else{const r=s[e+1]++;u[2*f+2*r]=t,u[2*f+2*r+1]=n}};for(let e=0;e<r;e++){const n=t[3*e],r=t[3*e+1],i=t[3*e+2];l(n,r,e),l(r,i,e),l(i,n,e)}const h=(t,e)=>{const n=2*t,r=e-t;for(let t=1;t<r;t++){const e=u[n+2*t],r=u[n+2*t+1];let i=t-1;for(;i>=0&&u[n+2*i]>e;i--)u[n+2*i+2]=u[n+2*i],u[n+2*i+3]=u[n+2*i+1];u[n+2*i+2]=e,u[n+2*i+3]=r}};for(let t=0;t<n;t++)h(i[t],i[t+1]),h(f+s[t],f+s[t+1]);const d=new Int32Array(3*r),p=(e,n)=>e===t[3*n]?0:e===t[3*n+1]?1:e===t[3*n+2]?2:-1,E=(t,e)=>{const n=p(t,e);d[3*e+n]=-1},A=(t,e,n,r)=>{const i=p(t,e);d[3*e+i]=r;const s=p(n,r);d[3*r+s]=e};for(let t=0;t<n;t++){let e=i[t];const n=i[t+1];let r=s[t];const o=s[t+1];for(;e<n&&r<o;){const n=u[2*e],i=u[2*f+2*r];n===i?(A(t,u[2*e+1],i,u[2*f+2*r+1]),e++,r++):n<i?(E(t,u[2*e+1]),e++):(E(i,u[2*f+2*r+1]),r++)}for(;e<n;)E(t,u[2*e+1]),e++;for(;r<o;)E(u[2*f+2*r],u[2*f+2*r+1]),r++}return d}var s=n(7724),o=n(33763),a=n(3628),c=n(67498),u=n(80347),f=n(19913),l=n(29386),h=n(70789);class d{updateSettings(t){this.settings=t,this._edgeHashFunction=t.reducedPrecision?T:N}write(t,e,n){y.seed=this._edgeHashFunction(n);const r=y.getIntRange(0,255),i=y.getIntRange(0,this.settings.variants-1),s=y.getFloat(),o=255*(.5*function(t,e){return Math.abs(t)**e*Math.sign(t)}(-(1-Math.min(s/.7,1))+Math.max(0,s-.7)/(1-.7),1.2)+.5);t.position0.setVec(e,n.position0),t.position1.setVec(e,n.position1),t.componentIndex.set(e,n.componentIndex),t.variantOffset.set(e,r),t.variantStroke.set(e,i),t.variantExtension.set(e,o)}}const p=new Float32Array(6),E=new Uint32Array(p.buffer),A=new Uint32Array(1);function N(t){return p[0]=t.position0[0],p[1]=t.position0[1],p[2]=t.position0[2],p[3]=t.position1[0],p[4]=t.position1[1],p[5]=t.position1[2],A[0]=31*(31*(31*(31*(31*(166811+E[0])+E[1])+E[2])+E[3])+E[4])+E[5],A[0]}function T(t){const e=p;e[0]=I(t.position0[0]),e[1]=I(t.position0[1]),e[2]=I(t.position0[2]),e[3]=I(t.position1[0]),e[4]=I(t.position1[1]),e[5]=I(t.position1[2]),A[0]=5381;for(let t=0;t<E.length;t++)A[0]=31*A[0]+E[t];return A[0]}const O=1e4;function I(t){return Math.round(t*O)/O}class g{constructor(){this._commonWriter=new d}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return a.gr.createBuffer(t)}write(t,e,n){this._commonWriter.write(t,e,n),(0,u.f)(m,n.faceNormal0,n.faceNormal1),(0,u.n)(m,m);const{typedBuffer:r,typedBufferStride:i}=t.normalCompressed;(0,h.aT)(r,e,m[0],m[1],m[2],i)}static{this.Layout=a.gr}static{this.glLayout=(0,l.U)(a.gr,1)}}class S{constructor(){this._commonWriter=new d}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return a.In.createBuffer(t)}write(t,e,n){this._commonWriter.write(t,e,n);{const{typedBuffer:r,typedBufferStride:i}=t.normalCompressed;(0,h.aT)(r,e,n.faceNormal0[0],n.faceNormal0[1],n.faceNormal0[2],i)}{const{typedBuffer:r,typedBufferStride:i}=t.normal2Compressed;(0,h.aT)(r,e,n.faceNormal1[0],n.faceNormal1[1],n.faceNormal1[2],i)}}static{this.Layout=a.In}static{this.glLayout=(0,l.U)(a.In,1)}}const m=(0,f.vt)(),y=new c.A;var R=n(93271);function v(t){const e=F(t.data,t.skipDeduplicate,t.indices,t.indicesLength);return M.updateSettings(t.writerSettings),w.updateSettings(t.writerSettings),(0,R.K)(e,M,w)}function F(t,e,n,s){if(e){const e=i(n,s,t.count);return new L(n,s,e,t)}const o=(0,r.b)(t.buffer,t.stride/4,{originalIndices:n}),c=i(o.indices,s,o.uniqueCount);return{faces:o.indices,facesLength:o.indices.length,neighbors:c,vertices:a.I$.createView(o.buffer)}}class L{constructor(t,e,n,r){this.faces=t,this.facesLength=e,this.neighbors=n,this.vertices=r}}const M=new g,w=new S,_=(0,s.BP)().vec3f(o.r.POSITION0).vec3f(o.r.POSITION1),C=(0,s.BP)().vec3f(o.r.POSITION0).vec3f(o.r.POSITION1).u16(o.r.COMPONENTINDEX)},33763:function(t,e,n){var r;function i(t){return t===r.POSITION}n.d(e,{b:function(){return i},r:function(){return r}}),function(t){t.POSITION="position",t.NORMAL="normal",t.NORMALCOMPRESSED="normalCompressed",t.UV0="uv0",t.UVI="uvi",t.COLOR="color",t.SYMBOLCOLOR="symbolColor",t.SIZE="size",t.ROTATION="rotation",t.TANGENT="tangent",t.OFFSET="offset",t.PERSPECTIVEDIVIDE="perspectiveDivide",t.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance",t.LENGTH="length",t.NEXTDELTA="nextDelta",t.PREVIOUSDELTA="previousDelta",t.U0="u0",t.LINEPARAMETERS="lineParameters",t.COLORFEATUREATTRIBUTE="colorFeatureAttribute",t.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",t.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",t.DISTANCETOSTART="distanceToStart",t.UVMAPSPACE="uvMapSpace",t.BOUNDINGRECT="boundingRect",t.UVREGION="uvRegion",t.PROFILERIGHT="profileRight",t.PROFILEUP="profileUp",t.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",t.PROFILEAUXDATA="profileAuxData",t.INSTANCEMODELORIGINHI="instanceModelOriginHi",t.INSTANCEMODELORIGINLO="instanceModelOriginLo",t.INSTANCEMODEL="instanceModel",t.INSTANCEMODELNORMAL="instanceModelNormal",t.INSTANCECOLOR="instanceColor",t.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",t.LOCALTRANSFORM="localTransform",t.GLOBALTRANSFORM="globalTransform",t.BOUNDINGSPHERE="boundingSphere",t.MODELORIGIN="modelOrigin",t.MODELSCALEFACTORS="modelScaleFactors",t.FEATUREATTRIBUTE="featureAttribute",t.STATE="state",t.LODLEVEL="lodLevel",t.POSITION0="position0",t.POSITION1="position1",t.NORMAL2COMPRESSED="normal2Compressed",t.COMPONENTINDEX="componentIndex",t.VARIANTOFFSET="variantOffset",t.VARIANTSTROKE="variantStroke",t.VARIANTEXTENSION="variantExtension",t.SIDENESS="sideness",t.START="start",t.END="end",t.UP="up",t.START_UP="startUp",t.END_UP="endUp",t.EXTRUDE="extrude",t.OLIDCOLOR="objectAndLayerIdColor",t.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"}(r||(r={}))},38456:function(t,e,n){function r(t){switch(t){case"u8":case"i8":return 1;case"u16":case"i16":case"f16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8}}n.d(e,{GJ:function(){return r}})},68435:function(t,e,n){n.d(e,{AK:function(){return o},Wz:function(){return s},oe:function(){return i}});var r=n(62088);function i(t,e=!1){return t<=r.y9?e?new Array(t).fill(0):new Array(t):new Float32Array(t)}function s(t){return(Array.isArray(t)?t.length:t.byteLength/8)<=r.y9?Array.from(t):new Float32Array(t)}function o(t,e,n){return Array.isArray(t)?t.slice(e,e+n):t.subarray(e,e+n)}},70789:function(t,e,n){n.d(e,{Tz:function(){return c},aT:function(){return o},fA:function(){return a}});var r=n(4506),i=n(80347),s=(n(19913),n(68435),n(79967));function o(t,e,n,r,i,s=2){const o=1/(Math.abs(n)+Math.abs(r)+Math.abs(i)),a=n*o,c=r*o,f=i<=0?(a>=0?1:-1)*(1-Math.abs(c)):a,l=i<=0?(c>=0?1:-1)*(1-Math.abs(a)):c,h=e*s;t[h]=u(f),t[h+1]=u(l)}function a(t){const e=t.length/3,n=(0,s.O)(2*e);let r=0;for(let i=0;i<e;++i)o(n,i,t[r++],t[r++],t[r++]);return n}function c(t,e,n,r=2){const s=n*r,o=f(e[s]),a=f(e[s+1]),c=1-Math.abs(o)-Math.abs(a);return t[2]=c,c<0?(t[0]=(o>=0?1:-1)*(1-Math.abs(a)),t[1]=(a>=0?1:-1)*(1-Math.abs(o))):(t[0]=o,t[1]=a),(0,i.n)(t,t)}function u(t){return(0,r.qE)(Math.round(32767*t),-32767,32767)}function f(t){return(0,r.qE)(t/32767,-1,1)}},79967:function(t,e,n){n.d(e,{O:function(){return i}});var r=n(62088);function i(t){return t<=r.y9?new Array(t):new Int16Array(t)}},93271:function(t,e,n){n.d(e,{K:function(){return c}});var r=n(4506),i=n(41785),s=n(80347),o=n(19913);const a=-1;function c(t,e,n){const r=t.vertices.position,i=t.vertices.componentIndex,o=E.position0,c=E.position1,l=E.faceNormal0,d=E.faceNormal1,{edges:p,normals:A}=f(t),N=p.length/4,T=e.allocate(N);let O=0;const I=N,m=n?.allocate(I);let R=0,v=0,F=0;h.length=0;for(let t=0;t<N;++t){const e=4*t;r.getVec(p.data[e],o),r.getVec(p.data[e+1],c);const n=h.pushNew();n.index=4*t,n.length=(0,s.j)(o,c)}h.sort(((t,e)=>e.length-t.length));const L=new Array,M=new Array;h.forAll((({length:t,index:f})=>{const h=p.data[f],N=p.data[f+1],I=p.data[f+2],w=p.data[f+3],_=w===a;if(r.getVec(h,o),r.getVec(N,c),_){const t=3*I;(0,s.i)(l,A.data[t],A.data[t+1],A.data[t+2]),(0,s.c)(d,l),E.componentIndex=i.get(h),E.cosAngle=(0,s.e)(l,d)}else{let t=3*I;if((0,s.i)(l,A.data[t],A.data[t+1],A.data[t+2]),t=3*w,(0,s.i)(d,A.data[t],A.data[t+1],A.data[t+2]),E.componentIndex=i.get(h),E.cosAngle=(0,s.e)(l,d),function(t,e){return t.cosAngle>e}(E,S))return;E.cosAngle<-.9999&&(0,s.c)(d,l)}v+=t,F++,_||function(t,e){return t.cosAngle<e}(E,y)?(e.write(T,O++,E),L.push(t)):u(E,g)&&(m&&n&&n.write(m,R++,E),M.push(t))}));const w=new Float32Array(L.reverse()),_=new Float32Array(M.reverse()),C=m&&n?{instancesData:m.slice(0,R),lodInfo:{lengths:_}}:void 0;return{regular:{instancesData:T.slice(0,O),lodInfo:{lengths:w}},silhouette:C,averageEdgeLength:v/F}}function u(t,e){const n=(0,r.XM)(t.cosAngle);return(0,s.E)(N,t.position1,t.position0),n*((0,s.e)((0,s.h)(A,t.faceNormal0,t.faceNormal1),N)>0?-1:1)>e}function f(t){const e=t.faces.length/3,n=t.faces,r=t.neighbors,i=t.vertices.position;d.length=p.length=0;for(let t=0;t<e;t++){const e=3*t,o=r[e],c=r[e+1],u=r[e+2],f=n[e],l=n[e+1],h=n[e+2];i.getVec(f,T),i.getVec(l,O),i.getVec(h,I),(0,s.d)(O,O,T),(0,s.d)(I,I,T),(0,s.h)(T,O,I),(0,s.n)(T,T),p.pushArray(T),(o===a||f<l)&&(d.push(f),d.push(l),d.push(t),d.push(o)),(c===a||l<h)&&(d.push(l),d.push(h),d.push(t),d.push(c)),(u===a||h<f)&&(d.push(h),d.push(f),d.push(t),d.push(u))}return{edges:d,normals:p}}class l{constructor(){this.index=0,this.length=0}}const h=new i.A({allocator:t=>t||new l,deallocator:null}),d=new i.A({deallocator:null}),p=new i.A({deallocator:null}),E=new class{constructor(){this.position0=(0,o.vt)(),this.position1=(0,o.vt)(),this.faceNormal0=(0,o.vt)(),this.faceNormal1=(0,o.vt)(),this.componentIndex=0,this.cosAngle=0}},A=(0,o.vt)(),N=(0,o.vt)(),T=(0,o.vt)(),O=(0,o.vt)(),I=(0,o.vt)(),g=(0,r.kU)(4),S=Math.cos(g),m=(0,r.kU)(35),y=Math.cos(m)},95431:function(t,e,n){n.d(e,{b:function(){return s}});var r=n(4506),i=n(51831);function s(t,e,n){const s=Array.isArray(t),f=s?t.length/e:t.byteLength/(4*e),l=s?t:new Uint32Array(t,0,f*e),h=n?.minReduction??0,d=n?.originalIndices||null,p=d?d.length:0,E=n?.componentOffsets||null;let A=0;if(E)for(let t=0;t<E.length-1;t++){const e=E[t+1]-E[t];e>A&&(A=e)}else A=f;const N=Math.floor(1.1*A)+1;(null==u||u.length<2*N)&&(u=new Uint32Array((0,r.cU)(2*N)));for(let t=0;t<2*N;t++)u[t]=0;let T=0;const O=!!E&&!!d,I=O?p:f;let g=(0,i.my)(f);const S=new Uint32Array(p),m=1.96;let y=0!==h?Math.ceil(4*m*m/(h*h)*h*(1-h)):I,R=1,v=E?E[1]:I;for(let t=0;t<I;t++){if(t===y){const e=1-T/t;if(e+m*Math.sqrt(e*(1-e)/t)<h)return null;y*=2}if(t===v){for(let t=0;t<2*N;t++)u[t]=0;if(d)for(let t=E[R-1];t<E[R];t++)S[t]=g[d[t]];v=E[++R]}const n=O?d[t]:t,r=n*e,i=c(l,r,e);let s=i%N,a=T;for(;0!==u[2*s+1];){if(u[2*s]===i){const t=u[2*s+1]-1;if(o(l,r,t*e,e)){a=g[t];break}}s++,s>=N&&(s-=N)}a===T&&(u[2*s]=i,u[2*s+1]=n+1,T++),g[n]=a}if(0!==h&&1-T/f<h)return null;if(O){for(let t=E[R-1];t<S.length;t++)S[t]=g[d[t]];g=(0,i.uW)(S)}const F=s?new Array(T):new Uint32Array(T*e);T=0;for(let t=0;t<I;t++)g[t]===T&&(a(l,(O?d[t]:t)*e,F,T*e,e),T++);if(d&&!O){const t=new Uint32Array(p);for(let e=0;e<t.length;e++)t[e]=g[d[e]];g=(0,i.uW)(t)}return{buffer:Array.isArray(F)?F:F.buffer,indices:g,uniqueCount:T}}function o(t,e,n,r){for(let i=0;i<r;i++)if(t[e+i]!==t[n+i])return!1;return!0}function a(t,e,n,r,i){for(let s=0;s<i;s++)n[r+s]=t[e+s]}function c(t,e,n){let r=0;for(let i=0;i<n;i++)r=t[e+i]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let u=null}}]);