"use strict";(self.webpackChunkimagery_explorer_apps=self.webpackChunkimagery_explorer_apps||[]).push([[4613],{47111:function(t,e,n){n.d(e,{Al:function(){return u},NZ:function(){return c},Vb:function(){return i},af:function(){return h},rK:function(){return f}});var o=n(32083);const i="arial-unicode-ms",r="woff2",l=new Map,s=new Set;class a{constructor(t,e){this.fontFace=t,this.promise=e}}async function u(t){const e=p(t),n=f(t),i=l.get(e);if(i)return i.promise;const u=new FontFace(t.family,`url('${o.A.fontsUrl}/woff2/${n}.${r}') format('${r}')`,{style:t.style,weight:t.weight}),c=document.fonts;if(c.has(u)&&"loading"===u.status)return u.loaded;const h=u.load().then((()=>(c.add(u),u)));return l.set(e,new a(u,h)),s.add(u),h}function c(t){return s.has(t)}function h(t){if(!t)return i;const e=t.toLowerCase().split(" ").join("-");switch(e){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return e}}function f(t){const e=g(t)+m(t);return h(t.family)+(e.length>0?e:"-regular")}function p(t){const e=g(t)+m(t);return(t.family||i)+(e.length>0?e:"-regular")}function g(t){if(!t.weight)return"";switch(t.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}function m(t){if(!t.style)return"";switch(t.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}},66220:function(t,e,n){n.d(e,{$X:function(){return P},B2:function(){return l},Gy:function(){return v},IE:function(){return r},P5:function(){return Z},Q1:function(){return i},QE:function(){return k},SW:function(){return C},Tr:function(){return $},VV:function(){return o},wp:function(){return S}});n(56053);function o(t){return t?{originPosition:"upper-left"===t.originPosition?"upperLeft":"lower-left"===t.originPosition?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance,1,1]:[1,1,1,1],translate:null!=t.extent?[t.extent.xmin,t.extent.ymax,t.extent.zmin??0,t.extent.mmin??0]:[0,0,0,0]}:null}function i(t){if(function(t){return"lowerLeft"===t.originPosition&&4===t.scale.length&&4===t.translate.length}(t))return t;const{originPosition:e,scale:n,translate:o}=t,i=n[0]??1,r=n[1]??1;return{originPosition:"lowerLeft",scale:[i,"lowerLeft"===e?r:-r,n[2]??1,n[3]??1],translate:[o[0]??0,o[1]??0,o[2]??0,o[3]??0]}}function r({scale:t,translate:e},n){return Math.round((n-e[0])/t[0])}function l({scale:t,translate:e},n){return Math.round((n-e[1])/t[1])}function s({scale:t,translate:e},n){return Math.round(((n??0)-e[2])/t[2])}function a({scale:t,translate:e},n){return n?Math.round((n-e[3])/t[3]):0}function u(t,e){return t&&e?p:t&&!e?h:!t&&e?f:c}const c=(t,e)=>{const n=[];if(!e.length)return null;const o=e[0];let i=r(t,o[0]),s=l(t,o[1]);n.push([i,s]);for(let o=1;o<e.length;o++){const[a,u]=e[o],c=r(t,a),h=l(t,u);c===i&&h===s||n.push([c-i,h-s]),i=c,s=h}return n},h=(t,e)=>{const n=[];if(!e.length)return null;const o=e[0];let i=r(t,o[0]),a=l(t,o[1]),u=s(t,o[2]);n.push([i,a,u]);for(let o=1;o<e.length;o++){const[c,h,f]=e[o],p=r(t,c),g=l(t,h),m=s(t,f);p===i&&g===a&&m===u||n.push([p-i,g-a,m]),i=p,a=g,u=m}return n},f=(t,e)=>{const n=[];if(!e.length)return null;const o=e[0];let i=r(t,o[0]),s=l(t,o[1]),u=a(t,o[2]);n.push([i,s,u]);for(let o=1;o<e.length;o++){const[c,h,f]=e[o],p=r(t,c),g=l(t,h),m=a(t,f);p===i&&g===s&&m===u||n.push([p-i,g-s,m]),i=p,s=g,u=m}return n},p=(t,e)=>{const n=[];if(!e.length)return null;const o=e[0];let i=r(t,o[0]),u=l(t,o[1]),c=s(t,o[2]),h=a(t,o[3]);n.push([i,u,c,h]);for(let o=1;o<e.length;o++){const[f,p,g,m]=e[o],d=r(t,f),y=l(t,p),w=s(t,g),x=a(t,m);d===i&&y===u&&w===c&&x===h||n.push([d-i,y-u,w,x]),i=d,u=y,c=w,h=x}return n};function g({scale:t,translate:e},n){return n*t[0]+e[0]}function m({scale:t,translate:e},n){return n*t[1]+e[1]}function d({scale:t,translate:e},n){return(n??0)*t[2]+e[2]}function y({scale:t,translate:e},n){return n?n*t[3]+e[3]:0}function w(t,e){return t&&e?L:t&&!e?M:!t&&e?b:x}const x=(t,e)=>{const n=new Array(e.length);if(!e.length)return n;const o=e[0];let i=g(t,o[0]),r=m(t,o[1]);n[0]=[i,r];const{scale:l,originPosition:s}=t,a=l[0],u="lowerLeft"===s?l[1]:-l[1];for(let t=1;t<e.length;t++){const[o,l]=e[t];i+=a*o,r+=u*l,n[t]=[i,r]}return n},M=(t,e)=>{const n=new Array(e.length);if(!e.length)return n;const o=e[0];let i=g(t,o[0]),r=m(t,o[1]);n[0]=[i,r,d(t,o[2])];const{scale:l,originPosition:s}=t,a=l[0],u="lowerLeft"===s?l[1]:-l[1];for(let o=1;o<e.length;o++){const[l,s,c]=e[o];i+=a*l,r+=u*s,n[o]=[i,r,d(t,c)]}return n},b=(t,e)=>{const n=new Array(e.length);if(!e.length)return n;const o=e[0];let i=g(t,o[0]),r=m(t,o[1]);n[0]=[i,r,y(t,o[2])];const{scale:l,originPosition:s}=t,a=l[0],u="lowerLeft"===s?l[1]:-l[1];for(let o=1;o<e.length;o++){const[l,s,c]=e[o];i+=a*l,r+=u*s,n[o]=[i,r,y(t,c)]}return n},L=(t,e)=>{const n=new Array(e.length);if(!e.length)return n;const o=e[0];let i=g(t,o[0]),r=m(t,o[1]);n[0]=[i,r,d(t,o[2]),y(t,o[3])];const{scale:l,originPosition:s}=t,a=l[0],u="lowerLeft"===s?l[1]:-l[1];for(let o=1;o<e.length;o++){const[l,s,c,h]=e[o];i+=a*l,r+=u*s,n[o]=[i,r,d(t,c),y(t,h)]}return n};function z(t,e,n){const o=new Array(n.length);for(let i=0;i<n.length;i++)o[i]=e(t,n[i]);return o}function v(t,e,n){const o=i(t);return e.x=r(o,n.x),e.y=l(o,n.y),null!=n.z&&(e.z=s(o,n.z)),null!=n.m&&(e.m=a(o,n.m)),e}function S(t,e,n){const o=function(t,e,n,o){const i=[],r=u(n,o);for(let n=0;n<e.length;n++){const o=r(t,e[n]);o&&o.length>=3&&i.push(o)}return i.length?i:null}(i(t),n.rings,n.hasZ,n.hasM);return o?(e.rings=o,e.hasZ=n.hasZ??!1,e.hasM=n.hasM??!1,e):null}function k(t,e,n){const o=function(t,e,n,o){const i=[],r=u(n,o);for(let n=0;n<e.length;n++){const o=r(t,e[n]);o&&o.length>=2&&i.push(o)}return i.length?i:null}(i(t),n.paths,n.hasZ,n.hasM);return o?(e.paths=o,e.hasZ=n.hasZ??!1,e.hasM=n.hasM??!1,e):null}function C(t,e,n,o=n?.hasZ??!1,r=n?.hasM??!1){if(null!=n){const l=i(t);e.points=w(o,r)(l,n.points),e.hasZ=o,e.hasM=r}return e}function $(t,e,n,o=null!=n?.z,r=null!=n?.m){if(null==n)return e;const l=i(t);return e.x=g(l,n.x),e.y=m(l,n.y),o&&(e.z=d(l,n.z)),r&&(e.m=y(l,n.m)),e}function P(t,e,n,o=n?.hasZ??!1,r=n?.hasM??!1){if(null!=n){const l=i(t);e.rings=z(l,w(o,r),n.rings),e.hasZ=o,e.hasM=r}return e}function Z(t,e,n,o=n?.hasZ??!1,r=n?.hasM??!1){if(null!=n){const l=i(t);e.paths=z(l,w(o,r),n.paths),e.hasZ=o,e.hasM=r}return e}},84613:function(t,e,n){n.d(e,{previewSymbol2D:function(){return Z}});var o=n(93814),i=n(60861),r=n(62991),l=n(47111),s=n(23572),a=n(66220),u=n(67175),c=n(21550),h=n(63602),f=n(70227);const p="picture-fill",g="picture-marker",m="simple-fill",d="simple-line",y="simple-marker",w="text",x="Aa",M=c.CB.size,b=c.CB.maxSize,L=c.CB.maxOutlineSize,z=c.CB.lineWidth,v=225,S=document.createElement("canvas");function k(t,e,n){if("polygon"===t.type){const o=t.extent,i=0===o.width?1:o.width,r=0===o.height?1:o.height;t=(0,a.wp)({originPosition:"upperLeft",scale:[i/e,r/n],translate:[o.xmin,o.ymax]},{},t);let l="";for(let e=0;e<t.rings.length;e++){const n=t.rings[e];for(let t=0;t<n.length;t++){const e=n[t][0],o=n[t][1];let i="";0===t?(i=`M${e.toString()} ${o.toString()}`,""!==l&&(i=` ${i}`),l+=i):t===n.length-1?(i=`l${e.toString()} ${o.toString()} Z`,""!==l&&(i=` ${i}`),l+=i):(i=`l${e.toString()} ${o.toString()}`,""!==l&&(i=` ${i}`),l+=i)}}return l}if("polyline"===t.type){const o=t.extent,i=0===o.width?1:o.width,r=0===o.height?1:o.height;t=(0,a.QE)({originPosition:"upperLeft",scale:[i/e,r/n],translate:[o.xmin,o.ymax]},{},t);let l="";for(let e=0;e<t.paths.length;e++){const n=t.paths[e];for(let t=0;t<n.length;t++){const e=n[t][0],o=n[t][1];let i="";0===t?(i=`M${e.toString()} ${o.toString()}`,""!==l&&(i=` ${i}`),l+=i):(i=`l${e.toString()} ${o.toString()}`,""!==l&&(i=` ${i}`),l+=i)}}return l}return""}function C(t,e){const n=S.getContext("2d"),o=[];e&&(e.weight&&o.push(e.weight),e.size&&o.push(e.size+"px"),e.family&&o.push(e.family)),n.font=o.join(" ");const{width:i,actualBoundingBoxLeft:r,actualBoundingBoxRight:l,actualBoundingBoxAscent:s,actualBoundingBoxDescent:a}=n.measureText(t);return{width:Math.ceil(Math.max(i,r+l)),height:Math.ceil(s+a),x:Math.floor(r),y:Math.floor((s-a)/2)}}function $(t){const e=t?.size;return{width:null!=e&&"object"==typeof e&&"width"in e?(0,s.Lz)(e.width):null,height:null!=e&&"object"==typeof e&&"height"in e?(0,s.Lz)(e.height):null}}function P(t,e){return t>e?"dark":"light"}async function Z(t,e){const{shapeDescriptor:n,size:o,renderOptions:i,outputSize:a}=function(t,e){const n="number"==typeof e?.size?e?.size:null,o=null!=n?(0,s.Lz)(n):null,i=null!=e?.maxSize?(0,s.Lz)(e.maxSize):null;let r="angle"in t?t.angle:null;null!=e?.rotation&&(r=(r??0)+e.rotation);const l=(0,u.eH)(t);let a=(0,u.$4)(t);"dark"!==A(t,245)||e?.ignoreWhiteSymbols||(a={width:.75,...a,color:"#bdc3c7"});let h=null;const f={shape:null,fill:l,stroke:a,offset:[0,0]};a?.width&&(a.width=Math.min(a.width,L));const v=a?.width||0;let S=null!=e?.size&&(null==e?.scale||e?.scale),P=0,Z=0,B=!1;switch(t.type){case y:{const n=t.style,{width:l,height:a}=$(e);let u=l===a&&null!=l?l:null!=o?o:Math.min((0,s.Lz)(t.size),i||b);if(!0===e?.useMarkerSymbolSize&&null!==l&&null!==a){const e=Math.min((0,s.Lz)(t.size),i||b);u=e>l&&e>a?Math.min(l,a):e}switch(P=u,Z=u,n){case"circle":f.shape={type:"circle",cx:0,cy:0,r:.5*u},S||(P+=v,Z+=v);break;case"cross":f.shape={type:"path",path:[{command:"M",values:[0,.5*Z]},{command:"L",values:[P,.5*Z]},{command:"M",values:[.5*P,0]},{command:"L",values:[.5*P,Z]}]};break;case"diamond":f.shape={type:"path",path:[{command:"M",values:[0,.5*Z]},{command:"L",values:[.5*P,0]},{command:"L",values:[P,.5*Z]},{command:"L",values:[.5*P,Z]},{command:"Z",values:[]}]},S||(P+=v,Z+=v);break;case"square":f.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[P,0]},{command:"L",values:[P,Z]},{command:"L",values:[0,Z]},{command:"Z",values:[]}]},S||(P+=v,Z+=v),r&&(B=!0);break;case"triangle":f.shape={type:"path",path:[{command:"M",values:[.5*P,0]},{command:"L",values:[P,Z]},{command:"L",values:[0,Z]},{command:"Z",values:[]}]},S||(P+=v,Z+=v),r&&(B=!0);break;case"x":f.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[P,Z]},{command:"M",values:[P,0]},{command:"L",values:[0,Z]}]},r&&(B=!0);break;case"path":f.shape={type:"path",path:t.path||""},S||(P+=v,Z+=v),r&&(B=!0),S=!0}break}case d:{const{width:t,height:n}=$(e),i=(0,u.O0)(a).reduce(((t,e)=>t+e),0),r=i&&Math.ceil(z/i),l=n??o??v,s=t??(i*r||z);if(S=!0,"polyline"===e?.geometry?.type&&e?.geometry?.extent){P=s,Z=n??P;const t=1e3,o=.15*t;h=[P,Z],Z=h[0]>h[1]?t*h[1]/h[0]:t,P=h[0]>h[1]?t:t*h[0]/h[1],a?.width&&(a.width=a.width*t/(h[1]>h[0]?h[1]:h[0]),a.width>o&&(a.width=o)),f.shape={type:"path",path:k(e.geometry,P,Z)}}else P=null!=e?.maxSize?Math.min(s,e.maxSize):s,Z=l,a&&(a.width=l),f.shape={type:"path",path:[{command:"M",values:[l/2,Z/2]},{command:"L",values:[P-l/2,Z/2]}]};break}case p:case m:{const t="object"==typeof e?.symbolConfig&&!!e?.symbolConfig?.isSquareFill,{width:n,height:i}=$(e);P=!t&&n!==i||null==n?null!=o?o:M:n,Z=!t&&n!==i||null==i?P:i,S||(P+=v,Z+=v),S=!0,e?.geometry?.extent&&"polygon"===e?.geometry?.type?(h=[P,Z],Z=h[0]>h[1]?1e3*h[1]/h[0]:1e3,P=h[0]>h[1]?1e3:1e3*h[0]/h[1],f.shape={type:"path",path:k(e.geometry,P,Z)}):f.shape=t?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[P,0]},{command:"L",values:[P,Z]},{command:"L",values:[0,Z]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:c.nq.fill[0];break}case g:{const n=Math.min((0,s.Lz)(t.width),i||b),l=Math.min((0,s.Lz)(t.height),i||b),{width:a,height:u}=$(e),c=a===u&&null!=a?a:null!=o?o:Math.max(n,l),h=t.width/t.height;P=h<=1?Math.ceil(c*h):c,Z=h<=1?c:Math.ceil(c/h),f.shape={type:"image",x:-Math.round(P/2),y:-Math.round(Z/2),width:P,height:Z,src:t.url||""},r&&(B=!0);break}case w:{const n=t,r=e?.overrideText||n.text||x,l=n.font,{width:a,height:u}=$(e),c=null!=u?u:null!=o?o:Math.min((0,s.Lz)(l.size),i||b),{width:h,height:p}=C(r,{weight:l.weight,size:c,family:l.family}),g=/[\uE600-\uE6FF]/.test(r);P=a??(g?c:h),Z=g?c:p;let m=.5*(g?c:p);g&&(m+=5),f.shape={type:"text",text:r,x:n.xoffset||0,y:n.yoffset||m,align:"middle",alignBaseline:n.verticalAlignment,decoration:l&&l.decoration,rotated:n.rotated,kerning:n.kerning},f.font=l&&{size:c,style:l.style,decoration:l.decoration,weight:l.weight,family:l.family};break}}return{shapeDescriptor:f,size:[P,Z],outputSize:h,renderOptions:{node:e?.node,scale:S,opacity:e?.opacity,rotations:[r],useRotationSize:B,effectView:e?.effectView,ariaLabel:e?.ariaLabel,clipBloomEffect:e?.clipBloomEffect}}}(t,e);if(!n.shape)throw new r.A("symbolPreview: renderPreviewHTML2D","symbol not supported.");await async function(t,e){const n=e.fill,o=t.color;if("pattern"===n?.type&&o&&t.type!==p){const t=await(0,u.rc)(n.src,o.toCss(!0));n.src=t,e.fill=n}}(t,n),await async function(t,e,n,o){if(!("font"in t)||!t.font||"text"!==e.shape.type)return;try{await(0,l.Al)(t.font)}catch{}const{width:i,height:r}=$(o);if(!/[\uE600-\uE6FF]/.test(e.shape.text)){const{width:l,height:s,x:a,y:u}=C(e.shape.text,{weight:e.font?.weight,size:e.font?.size,family:e.font?.family});n[0]=i??l,n[1]=r??s,e.shape.x=a,e.shape.y=u;let c="angle"in t?t.angle:null;if(null!=o?.rotation&&(c=(c??0)+o.rotation),c){const t=c*(Math.PI/180),e=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));n[1]=n[0]*e+n[1]*o}}}(t,n,o,e);const v=[[n]];if("object"==typeof e?.symbolConfig&&e?.symbolConfig?.applyColorModulation){const t=.6*o[0];v.unshift([{...n,offset:[-t,0],fill:(0,c.QC)(n.fill,-.3)}]),v.push([{...n,offset:[t,0],fill:(0,c.QC)(n.fill,.3)}]),o[0]+=2*t,i.scale=!1}"text"===t.type&&function(t,e,n,o,i){if(null!=t.haloColor&&null!=t.haloSize){i.masking??=n.map((()=>[]));const r=(0,s.Lz)(t.haloSize);o[0]+=r,o[1]+=r,n.unshift([{...e,fill:null,stroke:{color:t.haloColor,width:2*r,join:"round",cap:"round"}}]),i.masking.unshift([{shape:{type:"rect",x:0,y:0,width:o[0]+2*f.y7,height:o[1]+2*f.y7},fill:[255,255,255],stroke:null},{...e,fill:[0,0,0,0],stroke:null}])}null==t.backgroundColor&&null==t.borderLineColor||(o[0]+=2*f.y7,o[1]+=2*f.y7,n.unshift([{shape:{type:"rect",x:0,y:0,width:o[0],height:o[1]},fill:t.backgroundColor,stroke:{color:t.borderLineColor,width:(0,s.Lz)(t.borderLineSize)}}]),i.masking?.unshift([]))}(t,n,v,o,i);const S=(0,h.fz)(v,o,i);if(a&&S){const t="img"===S.nodeName.toLowerCase()?S:S.firstChild;"svg"===t.nodeName.toLowerCase()&&t.setAttribute("viewBox",`0 0 ${o[0].toString()} ${o[1].toString()}`),t.setAttribute("width",a[0].toString()),t.setAttribute("height",a[1].toString()),a.length>2&&(t.style.setProperty("padding-left",a[2]?.toString()+"px"),t.style.setProperty("padding-right",a[2]?.toString()+"px"),t.style.setProperty("padding-top",a[3]?.toString()+"px"),t.style.setProperty("padding-bottom",a[3]?.toString()+"px"),t.style.setProperty("box-sizing","border-box"))}return S}function A(t,e=v){const n=(0,u.eH)(t),r=(0,u.$4)(t),l=!n||"type"in n?null:new o.A(n),s=r?.color?new o.A(r?.color):null,a=l?P((0,i.Ws)(l),e):null,c=s?P((0,i.Ws)(s),e):null;return c?a?a===c?a:e>=v?"light":"dark":c:a}}}]);